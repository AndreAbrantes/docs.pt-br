---
title: Para qual sistema operacional direcionar com os contêineres do .NET
description: Arquitetura de microsserviços do .NET para aplicativos .NET em contêineres | Para qual sistema operacional direcionar com os contêineres do .NET
ms.date: 01/30/2020
ms.openlocfilehash: a09e3981ece478a9795c0f27acc98d604864cdd5
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/14/2020
ms.locfileid: "77501857"
---
# <a name="what-os-to-target-with-net-containers"></a><span data-ttu-id="d0669-103">Para qual sistema operacional direcionar com os contêineres do .NET</span><span class="sxs-lookup"><span data-stu-id="d0669-103">What OS to target with .NET containers</span></span>

<span data-ttu-id="d0669-104">Dada a diversidade de sistemas operacionais compatíveis com o Docker e as diferenças entre o .NET Framework e o .NET Core, você deve direcionar um sistema operacional e versões específicos dependendo da estrutura que você está usando.</span><span class="sxs-lookup"><span data-stu-id="d0669-104">Given the diversity of operating systems supported by Docker and the differences between .NET Framework and .NET Core, you should target a specific OS and specific versions depending on the framework you are using.</span></span>

<span data-ttu-id="d0669-105">Para o Windows, é possível usar o Windows Server Core ou o Windows Nano Server.</span><span class="sxs-lookup"><span data-stu-id="d0669-105">For Windows, you can use Windows Server Core or Windows Nano Server.</span></span> <span data-ttu-id="d0669-106">Essas versões do Windows oferecem características diferentes (IIS no Windows Server Core versus um servidor Web auto-hospedado como Kestrel no Nano Server) que podem ser exigidas pelo .NET Framework ou pelo .NET Core, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="d0669-106">These Windows versions provide different characteristics (IIS in Windows Server Core versus a self-hosted web server like Kestrel in Nano Server) that might be needed by .NET Framework or .NET Core, respectively.</span></span>

<span data-ttu-id="d0669-107">Para Linux, várias distribuições estão disponíveis e há compatibilidade com elas nas imagens oficiais do .NET Docker (como Debian).</span><span class="sxs-lookup"><span data-stu-id="d0669-107">For Linux, multiple distros are available and supported in official .NET Docker images (like Debian).</span></span>

<span data-ttu-id="d0669-108">Na Figure 3-1, é possível ver a possível versão do sistema operacional dependendo do .NET Framework usado.</span><span class="sxs-lookup"><span data-stu-id="d0669-108">In Figure 3-1 you can see the possible OS version depending on the .NET framework used.</span></span>

![Diagrama mostrando qual sistema operacional usar com os quais os contêineres .NET.](./media/net-container-os-targets/targeting-operating-systems.png)

<span data-ttu-id="d0669-110">**Figura 3-1.**</span><span class="sxs-lookup"><span data-stu-id="d0669-110">**Figure 3-1.**</span></span> <span data-ttu-id="d0669-111">Sistemas operacionais a serem direcionados dependendo das versões do .NET Framework</span><span class="sxs-lookup"><span data-stu-id="d0669-111">Operating systems to target depending on versions of the .NET framework</span></span>

<span data-ttu-id="d0669-112">Ao implantar aplicativos legados do .NET Framework, você tem que segmentar o Windows Server Core, compatível com aplicativos legados e IIS, mas ele tem uma imagem maior.</span><span class="sxs-lookup"><span data-stu-id="d0669-112">When deploying legacy .NET Framework applications you have to target Windows Server Core, compatible with legacy apps and IIS, but it has a larger image.</span></span> <span data-ttu-id="d0669-113">Ao implantar aplicativos .NET Core, é possível definir o Windows Nano Server como destino, que é otimizado para nuvem, usa o Kestrel, é menor e inicia mais rapidamente.</span><span class="sxs-lookup"><span data-stu-id="d0669-113">When deploying .NET Core applications, you can target Windows Nano Server, which is cloud optimized, uses Kestrel and is smaller and starts faster.</span></span> <span data-ttu-id="d0669-114">Também é possível definir Linux, Debian de suporte, Alpine e outros como destino.</span><span class="sxs-lookup"><span data-stu-id="d0669-114">You can also target Linux, supporting Debian, Alpine and others.</span></span> <span data-ttu-id="d0669-115">Também usa Kestrel, é menor, e começa mais rápido.</span><span class="sxs-lookup"><span data-stu-id="d0669-115">Also uses Kestrel, is smaller, and starts faster.</span></span>

<span data-ttu-id="d0669-116">Também é possível criar sua própria imagem do Docker em casos em que você deseja usar uma distribuição diferente do Linux ou em que você quer uma imagem com versões não fornecidas pela Microsoft.</span><span class="sxs-lookup"><span data-stu-id="d0669-116">You can also create your own Docker image in cases where you want to use a different Linux distro or where you want an image with versions not provided by Microsoft.</span></span> <span data-ttu-id="d0669-117">Por exemplo, você pode criar uma imagem com o ASP.NET Core em execução no .NET Framework tradicional e no Windows Server Core, que é um cenário não tão comum para Docker.</span><span class="sxs-lookup"><span data-stu-id="d0669-117">For example, you might create an image with ASP.NET Core running on the traditional .NET Framework and Windows Server Core, which is a not-so-common scenario for Docker.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d0669-118">Ao usar imagens do Windows Server Core, você pode descobrir que alguns DLLs estão faltando, quando comparados com imagens completas do Windows.</span><span class="sxs-lookup"><span data-stu-id="d0669-118">When using Windows Server Core images, you might find that some DLLs are missing, when compared to full Windows images.</span></span> <span data-ttu-id="d0669-119">Você pode ser capaz de resolver esse problema criando uma imagem personalizada do Server Core, adicionando os arquivos ausentes no tempo de compilação de imagem, como mencionado neste comentário do [GitHub](https://github.com/microsoft/dotnet-framework-docker/issues/299#issuecomment-511537448).</span><span class="sxs-lookup"><span data-stu-id="d0669-119">You might be able to solve this problem by creating a custom Server Core image, adding the missing files at image build time, as mentioned in this [GitHub comment](https://github.com/microsoft/dotnet-framework-docker/issues/299#issuecomment-511537448).</span></span>

<span data-ttu-id="d0669-120">Ao adicionar o nome de imagem ao seu arquivo Dockerfile, é possível selecionar o sistema operacional e a versão dependendo da marcação usada, como nos seguintes exemplos:</span><span class="sxs-lookup"><span data-stu-id="d0669-120">When you add the image name to your Dockerfile file, you can select the operating system and version depending on the tag you use, as in the following examples:</span></span>

| <span data-ttu-id="d0669-121">Imagem</span><span class="sxs-lookup"><span data-stu-id="d0669-121">Image</span></span> | <span data-ttu-id="d0669-122">Comentários</span><span class="sxs-lookup"><span data-stu-id="d0669-122">Comments</span></span> |
|-------|----------|
| <span data-ttu-id="d0669-123">mcr.microsoft.com/dotnet/core/runtime:3.1</span><span class="sxs-lookup"><span data-stu-id="d0669-123">mcr.microsoft.com/dotnet/core/runtime:3.1</span></span> | <span data-ttu-id="d0669-124">Multiarquitetura .NET Core 3.1: suporta Linux e Windows Nano Server dependendo do host Docker.</span><span class="sxs-lookup"><span data-stu-id="d0669-124">.NET Core 3.1 multi-architecture: Supports Linux and Windows Nano Server depending on the Docker host.</span></span> |
| <span data-ttu-id="d0669-125">mcr.microsoft.com/dotnet/core/aspnet:3.1</span><span class="sxs-lookup"><span data-stu-id="d0669-125">mcr.microsoft.com/dotnet/core/aspnet:3.1</span></span> | <span data-ttu-id="d0669-126">ASP.NET multiarquitetura Core 3.1: suporta Linux e Windows Nano Server dependendo do host Docker.</span><span class="sxs-lookup"><span data-stu-id="d0669-126">ASP.NET Core 3.1 multi-architecture: Supports Linux and Windows Nano Server depending on the Docker host.</span></span> <br/> <span data-ttu-id="d0669-127">A imagem aspnetcore tem algumas otimizações para ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="d0669-127">The aspnetcore image has a few optimizations for ASP.NET Core.</span></span> |
| <span data-ttu-id="d0669-128">mcr.microsoft.com/dotnet/core/aspnet:3.1-buster-slim</span><span class="sxs-lookup"><span data-stu-id="d0669-128">mcr.microsoft.com/dotnet/core/aspnet:3.1-buster-slim</span></span> | <span data-ttu-id="d0669-129">.NET Core 3.1 somente runtime no Linux Debian distro</span><span class="sxs-lookup"><span data-stu-id="d0669-129">.NET Core 3.1 runtime-only on Linux Debian distro</span></span> |
| <span data-ttu-id="d0669-130">mcr.microsoft.com/dotnet/core/aspnet:3.1-nanoserver-1809</span><span class="sxs-lookup"><span data-stu-id="d0669-130">mcr.microsoft.com/dotnet/core/aspnet:3.1-nanoserver-1809</span></span> | <span data-ttu-id="d0669-131">.NET Core 3.1 somente em tempo de execução no Windows Nano Server (versão 1809 do Windows Server)</span><span class="sxs-lookup"><span data-stu-id="d0669-131">.NET Core 3.1 runtime-only on Windows Nano Server (Windows Server version 1809)</span></span> |

## <a name="additional-resources"></a><span data-ttu-id="d0669-132">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="d0669-132">Additional resources</span></span>

- <span data-ttu-id="d0669-133">**BitmapDecoder falha devido à falta do WindowsCodecsExt.dll (problema do GitHub)**</span><span class="sxs-lookup"><span data-stu-id="d0669-133">**BitmapDecoder fails due to missing WindowsCodecsExt.dll (GitHub issue)**</span></span>  
  <https://github.com/microsoft/dotnet-framework-docker/issues/299>

> [!div class="step-by-step"]
> <span data-ttu-id="d0669-134">[Próximo](container-framework-choice-factors.md)
> [anterior](official-net-docker-images.md)</span><span class="sxs-lookup"><span data-stu-id="d0669-134">[Previous](container-framework-choice-factors.md)
[Next](official-net-docker-images.md)</span></span>
