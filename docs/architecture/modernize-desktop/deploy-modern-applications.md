---
title: Implantar aplicativos modernos de área de trabalho
description: Tudo o que você precisa saber sobre a implantação de aplicativos de área de trabalho modernos.
ms.date: 05/12/2020
ms.openlocfilehash: 4a4d93caf1c2f8f58d48ee3199bbe6983fa939f4
ms.sourcegitcommit: 9a4488a3625866335e83a20da5e9c5286b1f034c
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/15/2020
ms.locfileid: "83423253"
---
# <a name="deploying-modern-desktop-applications"></a><span data-ttu-id="21646-103">Implantar aplicativos modernos de área de trabalho</span><span class="sxs-lookup"><span data-stu-id="21646-103">Deploying Modern Desktop Applications</span></span>

<span data-ttu-id="21646-104">Quando você desenvolve aplicativos de área de trabalho, uma coisa a considerar é como seu aplicativo será empacotado e implantado nos computadores dos usuários.</span><span class="sxs-lookup"><span data-stu-id="21646-104">When you develop desktop applications, one thing to consider is how your application is going to be packaged and deployed to the users' machines.</span></span> <span data-ttu-id="21646-105">O problema com o empacotamento, a implantação e a instalação é que ele geralmente se encontra sob a abrangência dos profissionais de ti, que se preocupam com coisas diferentes dos desenvolvedores.</span><span class="sxs-lookup"><span data-stu-id="21646-105">The problem with packaging, deployment, and installation is that it usually falls under the umbrella of the IT professionals, who care about different things than developers.</span></span>

<span data-ttu-id="21646-106">Hoje em dia, todos nós estamos familiarizados com o conceito de DevOps, em que os desenvolvedores e os profissionais de ti trabalham em conjunto para mover aplicativos para seus ambientes de produção.</span><span class="sxs-lookup"><span data-stu-id="21646-106">These days, we're all familiar with the DevOps concept, where developers and IT Pros work closely to move applications to their production environments.</span></span> <span data-ttu-id="21646-107">Mas se você esteve na batalha da área de trabalho por mais de 10 anos, talvez tenha visto a história a seguir.</span><span class="sxs-lookup"><span data-stu-id="21646-107">But if you've been in the desktop battle for more than 10 years, you might have seen the following story.</span></span> <span data-ttu-id="21646-108">Uma equipe de desenvolvedores trabalha com dificuldade para atender aos prazos do projeto.</span><span class="sxs-lookup"><span data-stu-id="21646-108">A team of developers works together hard to meet the project deadlines.</span></span> <span data-ttu-id="21646-109">As pessoas de negócios são preocupadoss, pois precisam do sistema trabalhando em muitos computadores do usuário para executar a empresa.</span><span class="sxs-lookup"><span data-stu-id="21646-109">Business people are nervous since they need the system working on many user's machines to run the company.</span></span> <span data-ttu-id="21646-110">No "D-Day", o gerente de projeto verifica com todos os desenvolvedores que seu código está funcionando bem e que tudo está bem, para que eles possam ser entregues.</span><span class="sxs-lookup"><span data-stu-id="21646-110">On "D-Day", the project manager checks with every developer that their code is working well and that everything is fine, so they can ship.</span></span> <span data-ttu-id="21646-111">Em seguida, a equipe de pacotes vem gerando a configuração para o aplicativo, distribuí-lo a cada computador do usuário e um conjunto de usuários de teste que executam o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="21646-111">Then, the package team comes in generating the setup for the app, distribute it to every user machine and a set of test users run the application.</span></span> <span data-ttu-id="21646-112">Bem, eles tentam, porque antes de mostrar qualquer interface do usuário, o aplicativo gera uma exceção que diz "o método ~ do objeto ~ falhou".</span><span class="sxs-lookup"><span data-stu-id="21646-112">Well, they try, because before showing any UI, the application throws an exception that says "Method ~ of object ~ failed".</span></span> <span data-ttu-id="21646-113">A pane começa a fluir pelo ar e uma breve investigação aponta para um desenvolvedor jovem e cansado que introduziu um controle de terceiros, que certamente "funcionou na máquina de desenvolvimento".</span><span class="sxs-lookup"><span data-stu-id="21646-113">Panic starts flowing through the air and a brief investigation points to a young and tired developer that has introduced a third-party control, that certainly "worked on the dev machine".</span></span>

<span data-ttu-id="21646-114">A instalação de aplicativos de área de trabalho tradicionalmente foi um pesadelo por dois motivos principais:</span><span class="sxs-lookup"><span data-stu-id="21646-114">Installing desktop applications have traditionally been a nightmare for two main reasons:</span></span>

- <span data-ttu-id="21646-115">Falta de uma cultura de colaboração próxima entre o desenvolvedor e as equipes de ti.</span><span class="sxs-lookup"><span data-stu-id="21646-115">Lack of close collaboration culture between dev and IT teams.</span></span>
- <span data-ttu-id="21646-116">Falta de um pacote sólido e da tecnologia de implantação com a qual podemos se basear.</span><span class="sxs-lookup"><span data-stu-id="21646-116">Lack of a solid packaging and deploying technology we can build upon.</span></span>

<span data-ttu-id="21646-117">Na verdade, estamos vivendo com o fato de que, às vezes, você optou por ter instalado um aplicativo porque:</span><span class="sxs-lookup"><span data-stu-id="21646-117">In fact, we've been living with the fact that sometimes you regret that you installed an app because:</span></span>

- <span data-ttu-id="21646-118">Ele acaba tendo alguns efeitos colaterais indesejados em seu computador.</span><span class="sxs-lookup"><span data-stu-id="21646-118">It ends up having some undesired side effects on your machine.</span></span>
- <span data-ttu-id="21646-119">Alguns aplicativos que foram instalados anteriormente param de funcionar.</span><span class="sxs-lookup"><span data-stu-id="21646-119">Some applications that were previously installed stop working.</span></span>

<span data-ttu-id="21646-120">Além disso, você não pode apenas restaurar o sistema para seu estado original desinstalando o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="21646-120">Additionally, you can't just restore the system to its original state by uninstalling the app.</span></span> <span data-ttu-id="21646-121">Estamos acostumados a viver essa situação de que temos termos de Cunha como "DLL inferno" ou "Winrot".</span><span class="sxs-lookup"><span data-stu-id="21646-121">We're so used to live this situation that we've coined terms like "DLL Hell" or "Winrot".</span></span>

<span data-ttu-id="21646-122">Neste capítulo, falaremos sobre MSIX.</span><span class="sxs-lookup"><span data-stu-id="21646-122">In this chapter, we'll talk about MSIX.</span></span> <span data-ttu-id="21646-123">A MSIX é a tecnologia totalmente nova da Microsoft que tenta capturar o melhor das tecnologias anteriores para fornecer uma base sólida para a tecnologia de empacotamento do futuro.</span><span class="sxs-lookup"><span data-stu-id="21646-123">MSIX is the brand-new technology from Microsoft that tries to capture the best of previous technologies to provide a solid foundation for the packaging technology of the future.</span></span>

<span data-ttu-id="21646-124">O que uma tecnologia de empacotamento tem a ver com modernização?</span><span class="sxs-lookup"><span data-stu-id="21646-124">What does a packaging technology have to do with modernization?</span></span> <span data-ttu-id="21646-125">Bem, acontece que o empacotamento é fundamental para a ti empresarial com muito dinheiro investido lá.</span><span class="sxs-lookup"><span data-stu-id="21646-125">Well, it turns out that packaging is fundamental for the enterprise IT with lots of money invested there.</span></span> <span data-ttu-id="21646-126">A modernização não está relacionada apenas ao uso das tecnologias mais recentes.</span><span class="sxs-lookup"><span data-stu-id="21646-126">Modernization isn't only related to using the latest technologies.</span></span> <span data-ttu-id="21646-127">Ele também está relacionado à redução do tempo de colocação no mercado desde o momento em que um requisito de negócios é definido até que sua empresa forneça o recurso ao seu cliente.</span><span class="sxs-lookup"><span data-stu-id="21646-127">It's also related to reducing time to market from the moment a business requirement is defined until your company delivers the feature to your client.</span></span>

## <a name="the-modern-application-lifecycle"></a><span data-ttu-id="21646-128">O ciclo de vida do aplicativo moderno</span><span class="sxs-lookup"><span data-stu-id="21646-128">The modern application lifecycle</span></span>

<span data-ttu-id="21646-129">Hoje, os desenvolvedores escrevem e criam o código para um aplicativo e, em seguida, passam os ativos gerados para os profissionais de ti.</span><span class="sxs-lookup"><span data-stu-id="21646-129">Today, developers write and build the code for an app and then pass the generated assets to the IT Pros.</span></span> <span data-ttu-id="21646-130">Em seguida, os profissionais de ti reconfiguram o aplicativo e o reempacotam, normalmente em um MSI ou mais recentemente em um formato de empacotamento do App-V.</span><span class="sxs-lookup"><span data-stu-id="21646-130">Then, the IT Pros reconfigure the app and repackage it, typically in an MSI or more recently in an App-V packaging format.</span></span> <span data-ttu-id="21646-131">O aplicativo é então implantado por meio de diferentes canais e ferramentas.</span><span class="sxs-lookup"><span data-stu-id="21646-131">The app is then deployed through different channels and tools.</span></span> <span data-ttu-id="21646-132">Um dos principais problemas com essa abordagem é normalmente conhecido como "empacotamento de paralysis".</span><span class="sxs-lookup"><span data-stu-id="21646-132">One of the main problems with this approach is commonly known as "packaging paralysis".</span></span> <span data-ttu-id="21646-133">O problema é que esse ciclo se repete toda vez que houver uma atualização de aplicativo ou uma atualização do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="21646-133">The problem is that this cycle repeats every time there's an app update or an OS update.</span></span>

<span data-ttu-id="21646-134">Você pode ver o processo refletido na imagem a seguir:</span><span class="sxs-lookup"><span data-stu-id="21646-134">You can see the process reflected on the following picture:</span></span>

![Diagrama mostrando o ciclo de vida de ti moderno](./media/deploy-modern-applications/modern-it-application-lifecycle.png)

<span data-ttu-id="21646-136">As empresas precisam de uma maneira de dividir esse ciclo de empacotamento em três ciclos independentes:</span><span class="sxs-lookup"><span data-stu-id="21646-136">Companies need a way to break this packaging cycle into three independent cycles:</span></span>

- <span data-ttu-id="21646-137">Atualizações do sistema operacional</span><span class="sxs-lookup"><span data-stu-id="21646-137">OS updates</span></span>
- <span data-ttu-id="21646-138">Atualizações de aplicativos</span><span class="sxs-lookup"><span data-stu-id="21646-138">Application updates</span></span>
- <span data-ttu-id="21646-139">Personalização</span><span class="sxs-lookup"><span data-stu-id="21646-139">Customization</span></span>

![Diagrama mostrando o ciclo de ti moderno virtuoso](./media/deploy-modern-applications/modern-it-virtuous-cycle.png)

<span data-ttu-id="21646-141">O diagrama anterior mostra que você pode:</span><span class="sxs-lookup"><span data-stu-id="21646-141">The previous diagram shows that you can:</span></span>

- <span data-ttu-id="21646-142">Atualize o sistema operacional subjacente sem precisar reempacotar seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="21646-142">Update the underlying OS without having to repackage your apps.</span></span>
- <span data-ttu-id="21646-143">Habilite as personalizações a partir dela sem a necessidade de reempacotar o pacote do desenvolvedor original.</span><span class="sxs-lookup"><span data-stu-id="21646-143">Enable customizations from IT without the need to repackage the original developer package.</span></span>

<span data-ttu-id="21646-144">Esse radical mudar nos leva ao ciclo de vida de ti novo e moderno, conforme mostrado na figura a seguir:</span><span class="sxs-lookup"><span data-stu-id="21646-144">This radical change leads us to the new and modern IT lifecycle as shown in the following picture:</span></span>

![Diagrama mostrando o ciclo de vida do aplicativo usando as ferramentas da Microsoft](./media/deploy-modern-applications/microsoft-it-tools.png)

<span data-ttu-id="21646-146">Os desenvolvedores criam o aplicativo e geram um pacote MSIX que os profissionais de ti podem consumir e configurar sem a necessidade de reempacotamento.</span><span class="sxs-lookup"><span data-stu-id="21646-146">Developers create the app and generate an MSIX package that IT Pros can consume and configure without the need of repackaging.</span></span> <span data-ttu-id="21646-147">Junto com a tecnologia MSIX, a Microsoft criou ferramentas para permitir que ela personalize e configure pacotes sem reempacotamento.</span><span class="sxs-lookup"><span data-stu-id="21646-147">Along with the MSIX technology, Microsoft has created tools to allow IT to customize and configure packages without repackaging.</span></span>

## <a name="msix-the-next-generation-of-deployment"></a><span data-ttu-id="21646-148">MSIX: a próxima geração de implantação</span><span class="sxs-lookup"><span data-stu-id="21646-148">MSIX: The next generation of deployment</span></span>

<span data-ttu-id="21646-149">Antes do MSIX, havia várias tecnologias de empacotamento disponíveis, como assistentes de instalação, MSI, ClickOnce, App-V e scripts.</span><span class="sxs-lookup"><span data-stu-id="21646-149">Before MSIX, there were several packaging technologies available like setup wizards, MSI, ClickOnce, App-V, and scripting.</span></span> <span data-ttu-id="21646-150">Cada uma dessas tecnologias tem seus próprios pontos fortes e a Microsoft decidiu escolher o melhor de tudo para criar MSIX.</span><span class="sxs-lookup"><span data-stu-id="21646-150">Each of these technologies has their own strengths and Microsoft has decided to pick the best of all to build MSIX.</span></span> <span data-ttu-id="21646-151">O MSIX se baseia nas bases dessas tecnologias existentes que selecionam o melhor de cada:</span><span class="sxs-lookup"><span data-stu-id="21646-151">MSIX is built on the foundations of these existing technologies picking the best of each:</span></span>

- <span data-ttu-id="21646-152">App-V = \> contêinerização</span><span class="sxs-lookup"><span data-stu-id="21646-152">App-V =\> Containerization</span></span>
- <span data-ttu-id="21646-153">ClickOnce = \> atualização automática</span><span class="sxs-lookup"><span data-stu-id="21646-153">ClickOnce =\> Auto updating</span></span>
- <span data-ttu-id="21646-154">MSI = \> fácil de distribuir</span><span class="sxs-lookup"><span data-stu-id="21646-154">MSI =\> Easy to distribute</span></span>

<span data-ttu-id="21646-155">Com o MSIX, você obtém uma tecnologia de instalador com todos esses recursos.</span><span class="sxs-lookup"><span data-stu-id="21646-155">With MSIX, you get one installer technology with all these features.</span></span>

![Diagrama mostrando as diferentes tecnologias que tiveram um impacto na criação de MSIX](./media/deploy-modern-applications/msix.png)

### <a name="benefits-of-msix"></a><span data-ttu-id="21646-157">Benefícios do MSIX</span><span class="sxs-lookup"><span data-stu-id="21646-157">Benefits of MSIX</span></span>

#### <a name="never-regret-installing-an-app"></a><span data-ttu-id="21646-158">Nunca canminha instalação de um aplicativo</span><span class="sxs-lookup"><span data-stu-id="21646-158">Never regret installing an app</span></span>

<span data-ttu-id="21646-159">O MSIX fornece uma implantação previsível, confiável e segura.</span><span class="sxs-lookup"><span data-stu-id="21646-159">MSIX provides a predictable, reliable, and safe deployment.</span></span> <span data-ttu-id="21646-160">O método declarativo contido no manifesto do pacote permite que o sistema operacional Mantenha o controle de todos os ativos de que seu aplicativo precisa.</span><span class="sxs-lookup"><span data-stu-id="21646-160">The declarative method contained in the package manifest lets the OS keep track of every asset your application needs.</span></span> <span data-ttu-id="21646-161">Ele também fornece uma verdadeira desinstalação limpa sem efeitos colaterais.</span><span class="sxs-lookup"><span data-stu-id="21646-161">It also provides a true clean uninstall with no side effects.</span></span>

#### <a name="disk-space-optimization"></a><span data-ttu-id="21646-162">Otimização de espaço em disco</span><span class="sxs-lookup"><span data-stu-id="21646-162">Disk space optimization</span></span>

<span data-ttu-id="21646-163">O MSIX é otimizado para reduzir a superfície que um aplicativo tem no espaço em disco do computador do usuário.</span><span class="sxs-lookup"><span data-stu-id="21646-163">MSIX is optimized to reduce the footprint that an application has on the user's machine disk space.</span></span> <span data-ttu-id="21646-164">Ele cria um único armazenamento de instância de seus arquivos.</span><span class="sxs-lookup"><span data-stu-id="21646-164">It creates a single instance storage of your files.</span></span> <span data-ttu-id="21646-165">Ou seja, se você tiver dois pacotes diferentes com a mesma DLL, a DLL não será instalada duas vezes.</span><span class="sxs-lookup"><span data-stu-id="21646-165">That is, if you have two different packages with the same DLL, the DLL isn't installed twice.</span></span> <span data-ttu-id="21646-166">A plataforma cuida desse problema porque ele conhece todos os arquivos que um determinado aplicativo instalou graças à sua natureza declarativa.</span><span class="sxs-lookup"><span data-stu-id="21646-166">The platform takes care of that problem because it knows all the files that a particular app installed thanks to its declarative nature.</span></span> <span data-ttu-id="21646-167">Ele também permite que você tenha versões diferentes de uma DLL funcionando lado a lado.</span><span class="sxs-lookup"><span data-stu-id="21646-167">It also allows you to have different versions of a DLL working side by side.</span></span>

<span data-ttu-id="21646-168">Com o uso de pacotes de recursos, você pode criar facilmente aplicativos multilíngues e o sistema operacional cuida da instalação dos que são usados.</span><span class="sxs-lookup"><span data-stu-id="21646-168">With the use of resource packages, you can easily create multilingual apps and the OS takes care of installing the ones that are used.</span></span>

#### <a name="network-optimization"></a><span data-ttu-id="21646-169">Otimização de rede</span><span class="sxs-lookup"><span data-stu-id="21646-169">Network optimization</span></span>

<span data-ttu-id="21646-170">O MSIX detecta as diferenças nos arquivos no nível de bloco de byte, habilitando um recurso chamado atualizações diferenciais.</span><span class="sxs-lookup"><span data-stu-id="21646-170">MSIX detects the differences on the files at the byte block level enabling a feature called differential updates.</span></span> <span data-ttu-id="21646-171">Isso significa que apenas os blocos de bytes atualizados são baixados nas atualizações do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="21646-171">What this means is that only the updated byte blocks are downloaded on application updates.</span></span>

![Um diagrama que mostra como o MSIX gerencia atualizações diferenciais](./media/deploy-modern-applications/msix-managing-updates.png)

<span data-ttu-id="21646-173">Com a instalação de streaming, o usuário pode começar rapidamente a trabalhar em seu aplicativo enquanto outras partes do aplicativo são baixadas em segundo plano.</span><span class="sxs-lookup"><span data-stu-id="21646-173">With streaming installation, the user can quickly start working on your application while other parts of the app are downloaded on the background.</span></span> <span data-ttu-id="21646-174">Esse recurso contribui para uma experiência envolvente para seus usuários.</span><span class="sxs-lookup"><span data-stu-id="21646-174">This feature contributes to an engaging experience for your users.</span></span>

<span data-ttu-id="21646-175">Com o recurso de pacotes opcionais, você obtém a componentização na implantação de seu aplicativo, para que possa baixá-los quando necessário.</span><span class="sxs-lookup"><span data-stu-id="21646-175">With the optional packages feature, you achieve componentization on your app deployment, so you can download them when needed.</span></span>

#### <a name="simple-packaging-and-deployment"></a><span data-ttu-id="21646-176">Empacotamento e implantação simples</span><span class="sxs-lookup"><span data-stu-id="21646-176">Simple packaging and deployment</span></span>

<span data-ttu-id="21646-177">O arquivo AppManifest declara o controle de versão, direcionamento de dispositivo e identifica de forma padrão para cada aplicativo.</span><span class="sxs-lookup"><span data-stu-id="21646-177">The AppManifest declares the versioning, device targeting and identify in a standard way for every application.</span></span> <span data-ttu-id="21646-178">Ele também fornece uma maneira de assinar seus ativos fornecendo uma base sólida de segurança.</span><span class="sxs-lookup"><span data-stu-id="21646-178">It also provides a way to sign your assets providing a solid security foundation.</span></span>

#### <a name="os-managed"></a><span data-ttu-id="21646-179">Gerenciado pelo so</span><span class="sxs-lookup"><span data-stu-id="21646-179">OS managed</span></span>

<span data-ttu-id="21646-180">O sistema operacional manipula todos os processos de instalação, atualização e remoção de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="21646-180">The OS handles all the processes for installing, updating, and removing an application.</span></span> <span data-ttu-id="21646-181">Os aplicativos são instalados por usuário, mas baixados apenas uma vez, minimizando a superfície do disco.</span><span class="sxs-lookup"><span data-stu-id="21646-181">Applications are installed per user but downloaded only once, minimizing the disk footprint.</span></span> <span data-ttu-id="21646-182">A Microsoft está trabalhando para fornecer a experiência de MSIX também no Windows 7.</span><span class="sxs-lookup"><span data-stu-id="21646-182">Microsoft is working on providing the MSIX experience also on Windows 7.</span></span>

#### <a name="windows-provides-integrity-for-the-app"></a><span data-ttu-id="21646-183">O Windows fornece integridade para o aplicativo</span><span class="sxs-lookup"><span data-stu-id="21646-183">Windows provides integrity for the app</span></span>

<span data-ttu-id="21646-184">Com o uso de assinaturas digitais, você pode garantir que não instale um aplicativo de fontes não confiáveis.</span><span class="sxs-lookup"><span data-stu-id="21646-184">With the use of digital signatures, you can guarantee that you don't install an application from untrusted sources.</span></span> <span data-ttu-id="21646-185">O MSIX também impede a violação porque:</span><span class="sxs-lookup"><span data-stu-id="21646-185">MSIX also prevents tampering because:</span></span>

- <span data-ttu-id="21646-186">Ele mantém um registro dos hashes de arquivo.</span><span class="sxs-lookup"><span data-stu-id="21646-186">It keeps a record of file hashes.</span></span>
- <span data-ttu-id="21646-187">Ele detecta se um arquivo foi modificado após a instalação.</span><span class="sxs-lookup"><span data-stu-id="21646-187">It detects if a file has been modified after installation.</span></span>

#### <a name="works-for-the-entire-app-catalog"></a><span data-ttu-id="21646-188">Funciona para todo o catálogo de aplicativos</span><span class="sxs-lookup"><span data-stu-id="21646-188">Works for the entire App Catalog</span></span>

<span data-ttu-id="21646-189">Uma das coisas mais interessantes sobre o MSIX é que ele funciona para todo o catálogo de aplicativos, Windows Forms, WPF, MFC/ATL, Delphi, mesmo que você queira fazer a implantação do xCopy, o ClickOnce ou ir para a loja, pode usar o mesmo pacote MSIX.</span><span class="sxs-lookup"><span data-stu-id="21646-189">One of the coolest things about MSIX is that it works for the entire application catalog, Windows Forms, WPF, MFC/ATL, Delphi, even if you want to do xCopy deployment, ClickOnce, or going to the Store, you can use the same MSIX package.</span></span>

### <a name="tools"></a><span data-ttu-id="21646-190">Ferramentas</span><span class="sxs-lookup"><span data-stu-id="21646-190">Tools</span></span>

#### <a name="windows-application-packaging-project"></a><span data-ttu-id="21646-191">Projeto de Empacotamento de Aplicativos do Windows</span><span class="sxs-lookup"><span data-stu-id="21646-191">Windows Application Packaging Project</span></span>

<span data-ttu-id="21646-192">Você pode usar o projeto de **projeto de empacotamento de aplicativos do Windows**   no Visual Studio para gerar um pacote para seu aplicativo de área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="21646-192">You can use the **Windows Application Packaging Project** project in Visual Studio to generate a package for your desktop app.</span></span> <span data-ttu-id="21646-193">Em seguida, você pode publicar esse pacote no Microsoft Store ou Sideload-lo em um ou mais computadores.</span><span class="sxs-lookup"><span data-stu-id="21646-193">Then, you can publish that package to the Microsoft Store or sideload it onto one or more PCs.</span></span>

#### <a name="msix-packaging-tool"></a><span data-ttu-id="21646-194">Ferramenta de Empacotamento MSIX</span><span class="sxs-lookup"><span data-stu-id="21646-194">MSIX Packaging Tool</span></span>

<span data-ttu-id="21646-195">A Ferramenta de Empacotamento MSIX permite que você empacote novamente os aplicativos Win32 existentes para o formato MSIX.</span><span class="sxs-lookup"><span data-stu-id="21646-195">The MSIX Packaging Tool enables you to repackage your existing Win32 applications to the MSIX format.</span></span> <span data-ttu-id="21646-196">Ele oferece uma interface do usuário interativa e uma linha de comando para conversões e oferece a você a capacidade de converter um aplicativo sem ter o código-fonte.</span><span class="sxs-lookup"><span data-stu-id="21646-196">It offers both an interactive UI and a command line for conversions and gives you the ability to convert an application without having the source code.</span></span>

![Ferramenta de Empacotamento MSIX](./media/deploy-modern-applications/msix-packaging-tool.png)

#### <a name="package-support-framework"></a><span data-ttu-id="21646-198">PSF (estrutura de suporte do pacote)</span><span class="sxs-lookup"><span data-stu-id="21646-198">Package Support Framework</span></span>

<span data-ttu-id="21646-199">O Package support Framework é um kit de código-fonte aberto que ajuda a aplicar correções ao seu aplicativo Win32 existente quando você não tem acesso ao código-fonte, para que ele possa ser executado em um contêiner MSIX.</span><span class="sxs-lookup"><span data-stu-id="21646-199">The Package Support Framework is an open-source kit that helps you apply fixes to your existing Win32 application when you don't have access to the source code, so that it can run in an MSIX container.</span></span> <span data-ttu-id="21646-200">O Package Support Framework ajuda seu aplicativo a seguir as melhores práticas do ambiente moderno do runtime.</span><span class="sxs-lookup"><span data-stu-id="21646-200">The Package Support Framework helps your application follow the best practices of the modern runtime environment.</span></span>

#### <a name="app-installer"></a><span data-ttu-id="21646-201">Instalador de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="21646-201">App Installer</span></span>

<span data-ttu-id="21646-202">O instalador do aplicativo permite que os aplicativos do Windows 10 sejam instalados clicando duas vezes no pacote do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="21646-202">App Installer allows Windows 10 apps to be installed by double-clicking the app package.</span></span> <span data-ttu-id="21646-203">Isso significa que os usuários não precisam usar o PowerShell ou outras ferramentas de desenvolvedor para implantar aplicativos do Windows 10.</span><span class="sxs-lookup"><span data-stu-id="21646-203">This means that users don't need to use PowerShell or other developer tools to deploy Windows 10 apps.</span></span> <span data-ttu-id="21646-204">O Instalador de Aplicativo também pode instalar um aplicativo da Web, pacotes opcionais e conjuntos relacionados.</span><span class="sxs-lookup"><span data-stu-id="21646-204">The App Installer can also install an app from the web, optional packages, and related sets.</span></span>

## <a name="how-to-create-an-msix-package-from-an-existing-win32-desktop-application"></a><span data-ttu-id="21646-205">Como criar um pacote MSIX de um aplicativo de área de trabalho Win32 existente</span><span class="sxs-lookup"><span data-stu-id="21646-205">How to create an MSIX package from an existing Win32 desktop application</span></span>

<span data-ttu-id="21646-206">Vamos passar pelo processo para criar um pacote MSIX de um aplicativo Win32 existente.</span><span class="sxs-lookup"><span data-stu-id="21646-206">Let's go through the process to create an MSIX package from an existing Win32 application.</span></span> <span data-ttu-id="21646-207">Neste exemplo, usaremos um aplicativo Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="21646-207">In this example, we'll use a Windows Forms app.</span></span>

<span data-ttu-id="21646-208">Para começar, adicione um novo projeto à sua solução, selecione o projeto de empacotamento de aplicativos do Windows e dê um nome a ele.</span><span class="sxs-lookup"><span data-stu-id="21646-208">To start, add a new project to your solution, select the Windows Application Packaging Project, and give it a name.</span></span>

![Adicionando novo projeto de empacotamento de aplicativos do Windows](./media/deploy-modern-applications/add-packaging-project.png)

<span data-ttu-id="21646-210">Você verá a estrutura do projeto de empacotamento e notará uma pasta especial chamada *aplicativos*.</span><span class="sxs-lookup"><span data-stu-id="21646-210">You'll see the structure of the packaging project and note a special folder called *Applications*.</span></span> <span data-ttu-id="21646-211">Dentro dessa pasta, você pode especificar quais aplicativos deseja incluir no pacote.</span><span class="sxs-lookup"><span data-stu-id="21646-211">Inside this folder, you can specify which applications you want to include in the package.</span></span> <span data-ttu-id="21646-212">Pode ser mais de um.</span><span class="sxs-lookup"><span data-stu-id="21646-212">It can be more than one.</span></span>

![A estrutura do projeto de empacotamento](./media/deploy-modern-applications/packaging-project.png)

<span data-ttu-id="21646-214">Clique com o botão direito do mouse na pasta *aplicativos* e selecione o projeto de Windows Forms que você deseja empacotar da solução do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="21646-214">Right-click on the *Applications* folder and select the Windows Forms project you want to package from the Visual Studio solution.</span></span>

![Adicionando o projeto de Windows Forms ao projeto de empacotamento](./media/deploy-modern-applications/add-winforms-project.png)

<span data-ttu-id="21646-216">Neste ponto, você pode compilar e gerar o pacote, mas vamos examinar algumas coisas.</span><span class="sxs-lookup"><span data-stu-id="21646-216">At this point, you can compile and generate the package but let's examine a couple of things.</span></span> <span data-ttu-id="21646-217">Para ter uma melhor experiência do usuário, o Visual Studio pode gerar automaticamente todos os ativos visuais que um aplicativo moderno precisa para lidar com ícones e ativos de bloco para a barra de blocos e o menu iniciar.</span><span class="sxs-lookup"><span data-stu-id="21646-217">To have a better user experience, Visual Studio can autogenerate all the visual assets a modern application needs to handle icons and tile assets for the tile bar and start menu.</span></span> <span data-ttu-id="21646-218">Abra o arquivo *Package. appxmanifest* para acessar o designer de manifesto.</span><span class="sxs-lookup"><span data-stu-id="21646-218">Open the *Package.appxmanifest* file to access the Manifest Designer.</span></span> <span data-ttu-id="21646-219">Você pode, então, gerar todos os ativos visuais de uma determinada imagem presente no projeto apenas clicando em **criar**.</span><span class="sxs-lookup"><span data-stu-id="21646-219">You can then generate all the visual assets from a given image present on your project just by clicking **Create**.</span></span>

![Captura de tela do designer de manifesto no Visual Studio](./media/deploy-modern-applications/manifest-designer.png)

<span data-ttu-id="21646-221">Se você abrir o código para o arquivo *Package. appxmanifest* , poderá ver algumas coisas interessantes.</span><span class="sxs-lookup"><span data-stu-id="21646-221">If you open the code for the *Package.appxmanifest* file, you can see a couple of interesting things.</span></span>

<span data-ttu-id="21646-222">Certo `<Package>` , em, há um `<Identity>` nó.</span><span class="sxs-lookup"><span data-stu-id="21646-222">Right under `<Package>`, there's an `<Identity>` node.</span></span> <span data-ttu-id="21646-223">É aí que o aplicativo empacotado vai obter sua identidade, que será gerenciada pelo sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="21646-223">This is where your packaged application is going to get its identity, which will be managed by the OS.</span></span>

![Nó de identidade](./media/deploy-modern-applications/identity-node.png)

<span data-ttu-id="21646-225">No `<Capabilities>` nó, você pode encontrar todos os requisitos de que o aplicativo precisa, pagando atenção especial para o `<rescap:Capability Name="runFullTrust" \>` , que informa ao sistema operacional para executar o aplicativo no modo de confiança total, já que ele é um aplicativo Win32.</span><span class="sxs-lookup"><span data-stu-id="21646-225">In the `<Capabilities>` node, you can find all the requirements the application needs, paying special attention to the `<rescap:Capability Name="runFullTrust" \>`, which tells the OS to run the app in full trust mode since it's a Win32 application.</span></span>

![Nó de recursos](./media/deploy-modern-applications/capabilities-node.png)

<span data-ttu-id="21646-227">Defina o projeto de empacotamento como o projeto de inicialização para a solução e selecione *executar*.</span><span class="sxs-lookup"><span data-stu-id="21646-227">Set the packaging project as the startup project for the solution and select *Run*.</span></span> <span data-ttu-id="21646-228">Isso vai para:</span><span class="sxs-lookup"><span data-stu-id="21646-228">This is going to:</span></span>

- <span data-ttu-id="21646-229">Compile o aplicativo Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="21646-229">Compile the Windows Forms application.</span></span>
- <span data-ttu-id="21646-230">Crie um pacote MSIX fora dos resultados da compilação.</span><span class="sxs-lookup"><span data-stu-id="21646-230">Create an MSIX package out of the build results.</span></span>
- <span data-ttu-id="21646-231">Implante os pacotes.</span><span class="sxs-lookup"><span data-stu-id="21646-231">Deploy the packages.</span></span>
- <span data-ttu-id="21646-232">Instale-o localmente no computador de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="21646-232">Install it locally on the development machine.</span></span>
- <span data-ttu-id="21646-233">Inicie o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="21646-233">Launch the app.</span></span>

![Nosso aplicativo instalado](./media/deploy-modern-applications/our-installed-application.png)

<span data-ttu-id="21646-235">Com isso, você tem a experiência de instalação e desinstalação limpa que o MSIX fornece totalmente integrado ao Windows 10.</span><span class="sxs-lookup"><span data-stu-id="21646-235">With this, you have the clean install and uninstall experience that MSIX provides fully integrated into Windows 10.</span></span>

<span data-ttu-id="21646-236">O estágio final é sobre como implantar o pacote MSIX em outro computador.</span><span class="sxs-lookup"><span data-stu-id="21646-236">The final stage is about how you deploy the MSIX package to another machine.</span></span>

<span data-ttu-id="21646-237">Clique com o botão direito do mouse no projeto de empacotamento, selecione o menu **armazenar** e selecione a opção **criar pacotes de aplicativos** .</span><span class="sxs-lookup"><span data-stu-id="21646-237">Right-click on the packaging project, select the **Store** menu, and then select the **Create App Packages** option.</span></span>

<span data-ttu-id="21646-238">Em seguida, você pode escolher entre criar um pacote para carregar na loja ou criar pacotes para Sideload.</span><span class="sxs-lookup"><span data-stu-id="21646-238">Then, you can choose between creating a package to upload to the store or creating packages for sideloading.</span></span> <span data-ttu-id="21646-239">Na maioria dos cenários de modernização, você escolherá **que desejo criar pacotes para Sideload**.</span><span class="sxs-lookup"><span data-stu-id="21646-239">In most modernization scenarios, you'll choose **I want to create packages for sideloading**.</span></span>

![Configurando pacotes](./media/deploy-modern-applications/configuring-packages.png)

<span data-ttu-id="21646-241">Lá, você pode selecionar as diferentes arquiteturas que deseja direcionar, pois você pode incluir quantos quiser no mesmo pacote MSIX.</span><span class="sxs-lookup"><span data-stu-id="21646-241">There you can select the different architectures you want to target as you can include as many as you want into the same MSIX package.</span></span>

<span data-ttu-id="21646-242">A etapa final é declarar onde você deseja implantar os ativos de instalação finais.</span><span class="sxs-lookup"><span data-stu-id="21646-242">The final step is to declare where you want to deploy the final installation assets.</span></span>

![Definir configurações de atualização](./media/deploy-modern-applications/configure-update-settings.png)

<span data-ttu-id="21646-244">Você pode optar por usar um servidor Web de um caminho UNC compartilhado em seus servidores de arquivos corporativos.</span><span class="sxs-lookup"><span data-stu-id="21646-244">You can choose to use a web server of a shared UNC path on your enterprise file servers.</span></span> <span data-ttu-id="21646-245">Preste atenção às configurações para especificar como deseja atualizar seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="21646-245">Pay attention to the settings to specify how you want to update your application.</span></span> <span data-ttu-id="21646-246">Abordaremos as atualizações do aplicativo na próxima seção.</span><span class="sxs-lookup"><span data-stu-id="21646-246">We'll cover application updates in the next section.</span></span>

<span data-ttu-id="21646-247">Para obter um guia passo a passo detalhado, consulte [empacotar um aplicativo de área de trabalho do código-fonte usando o Visual Studio](/windows/msix/desktop/desktop-to-uwp-packaging-dot-net).</span><span class="sxs-lookup"><span data-stu-id="21646-247">For a detailed step-by-step guide, see [Package a desktop app from source code using Visual Studio](/windows/msix/desktop/desktop-to-uwp-packaging-dot-net).</span></span>

## <a name="auto-updates-in-msix"></a><span data-ttu-id="21646-248">Atualizações automáticas no MSIX</span><span class="sxs-lookup"><span data-stu-id="21646-248">Auto Updates in MSIX</span></span>

<span data-ttu-id="21646-249">A Windows Store tem um ótimo mecanismo de atualização usando Windows Update.</span><span class="sxs-lookup"><span data-stu-id="21646-249">The Windows Store has a great updating mechanism using Windows Update.</span></span> <span data-ttu-id="21646-250">Na maioria dos cenários empresariais, você não usa a loja para distribuir seus aplicativos de área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="21646-250">In most enterprise scenarios, you don't use the Store to distribute your desktop apps.</span></span> <span data-ttu-id="21646-251">Portanto, você precisa de uma maneira semelhante de configurar atualizações para seu aplicativo e extraí-las para seus usuários.</span><span class="sxs-lookup"><span data-stu-id="21646-251">So, you need a similar way to configure updates for your application and pull them to your users.</span></span>

<span data-ttu-id="21646-252">Usando uma combinação de recursos do Windows 10 e pacotes do MSIX, você pode fornecer uma ótima experiência de atualização para seus usuários.</span><span class="sxs-lookup"><span data-stu-id="21646-252">Using a combination of Windows 10 features and MSIX packages, you can provide a great updating experience for your users.</span></span> <span data-ttu-id="21646-253">Na verdade, o usuário não precisa ser técnico, mas ainda se beneficiar de uma experiência de atualização de aplicativo sem problemas.</span><span class="sxs-lookup"><span data-stu-id="21646-253">In fact, the user doesn't need to be technical at all but still benefit from a seamless application update experience.</span></span>

<span data-ttu-id="21646-254">Você pode configurar suas atualizações para interagir com o usuário de duas maneiras diferentes:</span><span class="sxs-lookup"><span data-stu-id="21646-254">You can configure your updates to interact with the user in two different ways:</span></span>

- <span data-ttu-id="21646-255">Atualizações solicitadas pelo usuário: o sistema operacional mostra alguma boa interface de usuário gerada automaticamente para notificar o usuário sobre o aplicativo que está prestes a ser instalado.</span><span class="sxs-lookup"><span data-stu-id="21646-255">User prompted updates: The OS shows some autogenerated nice UI to notify the user about the application is about to install.</span></span> <span data-ttu-id="21646-256">Ele cria essa interface do usuário com base nas propriedades que você especificar nos arquivos de instalação.</span><span class="sxs-lookup"><span data-stu-id="21646-256">It builds this UI based on the properties you specify on your installation files.</span></span>

- <span data-ttu-id="21646-257">Atualizações silenciosas em segundo plano.</span><span class="sxs-lookup"><span data-stu-id="21646-257">Silent updates in the background.</span></span> <span data-ttu-id="21646-258">Com essa opção, os usuários não precisam estar cientes das atualizações.</span><span class="sxs-lookup"><span data-stu-id="21646-258">With this option, your users don't need to be aware of the updates.</span></span>

<span data-ttu-id="21646-259">Você também pode configurar quando deseja realizar atualizações, quando o aplicativo é iniciado ou regularmente.</span><span class="sxs-lookup"><span data-stu-id="21646-259">You can also configure when you want to perform updates, when the application launches or on a regular basis.</span></span> <span data-ttu-id="21646-260">Graças aos recursos de carregamento no lado, você pode até mesmo obter essas atualizações enquanto o aplicativo está em execução.</span><span class="sxs-lookup"><span data-stu-id="21646-260">Thanks to the side-loading features, you can even get these updates while the application is running.</span></span>

<span data-ttu-id="21646-261">Quando você usa esse tipo de implantação, um arquivo especial é criado chamado *. AppInstaller*.</span><span class="sxs-lookup"><span data-stu-id="21646-261">When you use this type of deployment, a special file is created called *.appinstaller*.</span></span> <span data-ttu-id="21646-262">Esse arquivo simples contém as seguintes seções:</span><span class="sxs-lookup"><span data-stu-id="21646-262">This simple file contains the following sections:</span></span>

- <span data-ttu-id="21646-263">O local do arquivo *. AppInstaller*</span><span class="sxs-lookup"><span data-stu-id="21646-263">The location of the *.appinstaller* file</span></span>
- <span data-ttu-id="21646-264">As propriedades principais do pacote MSIX do aplicativo</span><span class="sxs-lookup"><span data-stu-id="21646-264">The application's main MSIX package properties</span></span>
- <span data-ttu-id="21646-265">O comportamento de atualização</span><span class="sxs-lookup"><span data-stu-id="21646-265">The update behavior</span></span>

![arquivo. AppInstaller](./media/deploy-modern-applications/appinstaller-file.png)

<span data-ttu-id="21646-267">Em combinação com esse arquivo, a Microsoft projetou um protocolo de URL especial para iniciar o processo de instalação a partir de um link:</span><span class="sxs-lookup"><span data-stu-id="21646-267">In combination with this file, Microsoft has designed a special URL protocol to launch the installation process from a link:</span></span>

```xml
<a href="ms-appinstaller:?source=http://mywebservice.azureedge.net/MyApp.msix">Install app package </a>
```

<span data-ttu-id="21646-268">Esse protocolo funciona em todos os navegadores e inicia o processo de instalação com uma excelente experiência do usuário no Windows 10.</span><span class="sxs-lookup"><span data-stu-id="21646-268">This protocol works on all browsers and launches the installation process with a great user experience on Windows 10.</span></span> <span data-ttu-id="21646-269">Como o sistema operacional gerencia o processo de instalação, ele reconhece o local do qual esse aplicativo foi instalado e rastreia todos os arquivos afetados pelo processo.</span><span class="sxs-lookup"><span data-stu-id="21646-269">Since the OS manages the installation process, it's aware of the location this application was installed from and tracks all the files affected by the process.</span></span>

<span data-ttu-id="21646-270">O MSIX cria uma interface do usuário para a instalação mostrando automaticamente algumas propriedades do pacote.</span><span class="sxs-lookup"><span data-stu-id="21646-270">MSIX creates a user interface for installation automatically showing some properties of the package.</span></span> <span data-ttu-id="21646-271">Isso permite uma experiência de instalação comum para cada aplicativo.</span><span class="sxs-lookup"><span data-stu-id="21646-271">This allows for a common installation experience for every app.</span></span>

<span data-ttu-id="21646-272">Depois de gerar o novo pacote MSIX e movê-lo para o servidor de implantação, basta editar o arquivo *. AppInstaller* para refletir essas alterações, principalmente a versão e o caminho para o novo arquivo MSIX.</span><span class="sxs-lookup"><span data-stu-id="21646-272">Once you've generated the new MSIX package and moved it to the deployment server, you just have to edit the *.appinstaller* file to reflect these changes, mainly the version and the path to the new MSIX file.</span></span> <span data-ttu-id="21646-273">Na próxima vez que o usuário iniciar o aplicativo, o sistema irá detectar a alteração e baixar os arquivos para a nova versão em segundo plano.</span><span class="sxs-lookup"><span data-stu-id="21646-273">The next time the user launches the application, the system is going to detect the change and download the files for the new version in the background.</span></span> <span data-ttu-id="21646-274">Quando isso for feito, a instalação será executada na inicialização do novo aplicativo de forma transparente para o usuário.</span><span class="sxs-lookup"><span data-stu-id="21646-274">When this is done, installation will execute on new application launch transparently for your user.</span></span>

>[!div class="step-by-step"]
>[<span data-ttu-id="21646-275">Anterior</span><span class="sxs-lookup"><span data-stu-id="21646-275">Previous</span></span>](example-migration-core.md)
