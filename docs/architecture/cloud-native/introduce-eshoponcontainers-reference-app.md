---
title: Introdução ao aplicativo de referência do eShopOnContainers
description: Apresentando o aplicativo de referência de microserviços nativos do eShopOnContainers Cloud para ASP.NET Core e o Azure.
ms.date: 05/13/2020
ms.openlocfilehash: a6f3defabec809eaf1cb143e2b521904248b74f2
ms.sourcegitcommit: 27db07ffb26f76912feefba7b884313547410db5
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/19/2020
ms.locfileid: "83613961"
---
# <a name="introducing-eshoponcontainers-reference-app"></a><span data-ttu-id="e2265-103">Introdução ao aplicativo de referência do eShopOnContainers</span><span class="sxs-lookup"><span data-stu-id="e2265-103">Introducing eShopOnContainers reference app</span></span>

<span data-ttu-id="e2265-104">A Microsoft, em parceria com especialistas líderes da Comunidade, produziu um aplicativo de referência de microserviços nativos de nuvem com recursos completos, eShopOnContainers.</span><span class="sxs-lookup"><span data-stu-id="e2265-104">Microsoft, in partnership with leading community experts, has produced a full-featured cloud-native microservices reference application, eShopOnContainers.</span></span> <span data-ttu-id="e2265-105">Esse aplicativo foi criado para demonstrar o uso do .NET Core e do Docker e, opcionalmente, do Azure, do kubernetes e do Visual Studio, para criar uma vitrine online.</span><span class="sxs-lookup"><span data-stu-id="e2265-105">This application is built to showcase using .NET Core and Docker, and optionally Azure, Kubernetes, and Visual Studio, to build an online storefront.</span></span>

![Captura de tela do aplicativo de exemplo eShopOnContainers.](./media/eshoponcontainers-sample-app-screenshot.png)

<span data-ttu-id="e2265-107">**Figura 2-1**.</span><span class="sxs-lookup"><span data-stu-id="e2265-107">**Figure 2-1**.</span></span> <span data-ttu-id="e2265-108">Captura de tela do aplicativo de exemplo eShopOnContainers.</span><span class="sxs-lookup"><span data-stu-id="e2265-108">eShopOnContainers Sample App Screenshot.</span></span>

<span data-ttu-id="e2265-109">Antes de iniciar este capítulo, recomendamos que você baixe o [aplicativo de referência eShopOnContainers](https://github.com/dotnet-architecture/eShopOnContainers).</span><span class="sxs-lookup"><span data-stu-id="e2265-109">Before starting this chapter, we recommend that you download the [eShopOnContainers reference application](https://github.com/dotnet-architecture/eShopOnContainers).</span></span> <span data-ttu-id="e2265-110">Se você fizer isso, deverá ser mais fácil acompanhar as informações apresentadas.</span><span class="sxs-lookup"><span data-stu-id="e2265-110">If you do so, it should be easier for you to follow along with the information presented.</span></span>

## <a name="features-and-requirements"></a><span data-ttu-id="e2265-111">Recursos e requisitos</span><span class="sxs-lookup"><span data-stu-id="e2265-111">Features and requirements</span></span>

<span data-ttu-id="e2265-112">Vamos começar com uma análise dos recursos e requisitos do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e2265-112">Let's start with a review of the application's features and requirements.</span></span> <span data-ttu-id="e2265-113">O aplicativo eShopOnContainers representa uma loja online que vende vários produtos físicos, como camisetas e café Mugs.</span><span class="sxs-lookup"><span data-stu-id="e2265-113">The eShopOnContainers application represents an online store that sells various physical products like t-shirts and coffee mugs.</span></span> <span data-ttu-id="e2265-114">Se você comprou algo online antes, a experiência de usar a loja deve ser relativamente familiar.</span><span class="sxs-lookup"><span data-stu-id="e2265-114">If you've bought anything online before, the experience of using the store should be relatively familiar.</span></span> <span data-ttu-id="e2265-115">Aqui estão alguns dos recursos básicos que o armazenamento implementa:</span><span class="sxs-lookup"><span data-stu-id="e2265-115">Here are some of the basic features the store implements:</span></span>

- <span data-ttu-id="e2265-116">Listar itens do catálogo</span><span class="sxs-lookup"><span data-stu-id="e2265-116">List catalog items</span></span>
- <span data-ttu-id="e2265-117">Filtrar itens por tipo</span><span class="sxs-lookup"><span data-stu-id="e2265-117">Filter items by type</span></span>
- <span data-ttu-id="e2265-118">Filtrar itens por marca</span><span class="sxs-lookup"><span data-stu-id="e2265-118">Filter items by brand</span></span>
- <span data-ttu-id="e2265-119">Adicionar itens à cesta de compras</span><span class="sxs-lookup"><span data-stu-id="e2265-119">Add items to the shopping basket</span></span>
- <span data-ttu-id="e2265-120">Editar ou remover itens da cesta</span><span class="sxs-lookup"><span data-stu-id="e2265-120">Edit or remove items from the basket</span></span>
- <span data-ttu-id="e2265-121">Check-out</span><span class="sxs-lookup"><span data-stu-id="e2265-121">Checkout</span></span>
- <span data-ttu-id="e2265-122">Registrar uma conta</span><span class="sxs-lookup"><span data-stu-id="e2265-122">Register an account</span></span>
- <span data-ttu-id="e2265-123">Entrar</span><span class="sxs-lookup"><span data-stu-id="e2265-123">Sign in</span></span>
- <span data-ttu-id="e2265-124">Sair</span><span class="sxs-lookup"><span data-stu-id="e2265-124">Sign out</span></span>
- <span data-ttu-id="e2265-125">Revisar pedidos</span><span class="sxs-lookup"><span data-stu-id="e2265-125">Review orders</span></span>

<span data-ttu-id="e2265-126">O aplicativo também tem os seguintes requisitos não funcionais:</span><span class="sxs-lookup"><span data-stu-id="e2265-126">The application also has the following non-functional requirements:</span></span>

- <span data-ttu-id="e2265-127">Ele precisa ser altamente disponível e deve ser dimensionado automaticamente para atender ao maior tráfego (e reduzir verticalmente depois que o tráfego é sublado).</span><span class="sxs-lookup"><span data-stu-id="e2265-127">It needs to be highly available and it must scale automatically to meet increased traffic (and scale back down once traffic subsides).</span></span>
- <span data-ttu-id="e2265-128">Ele deve fornecer monitoramento fácil de usar de seus logs de integridade e diagnóstico para ajudar a solucionar quaisquer problemas encontrados.</span><span class="sxs-lookup"><span data-stu-id="e2265-128">It should provide easy-to-use monitoring of its health and diagnostic logs to help troubleshoot any issues it encounters.</span></span>
- <span data-ttu-id="e2265-129">Ele deve dar suporte a um processo de desenvolvimento ágil, incluindo suporte para integração e implantação contínuas (CI/CD).</span><span class="sxs-lookup"><span data-stu-id="e2265-129">It should support an agile development process, including support for continuous integration and deployment (CI/CD).</span></span>
- <span data-ttu-id="e2265-130">Além dos dois front-ends da Web (aplicativo tradicional e de página única), o aplicativo também deve oferecer suporte a aplicativos cliente móveis que executam diferentes tipos de sistemas operacionais.</span><span class="sxs-lookup"><span data-stu-id="e2265-130">In addition to the two web front ends (traditional and Single Page Application), the application must also support mobile client apps running different kinds of operating systems.</span></span>
- <span data-ttu-id="e2265-131">Ele deve dar suporte a hospedagem de plataforma cruzada e desenvolvimento de plataforma cruzada.</span><span class="sxs-lookup"><span data-stu-id="e2265-131">It should support cross-platform hosting and cross-platform development.</span></span>

![eShopOnContainers referência arquitetura de desenvolvimento de aplicativos.](./media/eshoponcontainers-development-architecture.png)

<span data-ttu-id="e2265-133">**Figura 2-2**.</span><span class="sxs-lookup"><span data-stu-id="e2265-133">**Figure 2-2**.</span></span> <span data-ttu-id="e2265-134">eShopOnContainers referência arquitetura de desenvolvimento de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="e2265-134">eShopOnContainers reference application development architecture.</span></span>

<span data-ttu-id="e2265-135">O aplicativo eShopOnContainers pode ser acessado de clientes Web ou móveis que acessam o aplicativo via HTTPS direcionando o aplicativo do servidor MVC ASP.NET Core ou um gateway de API apropriado.</span><span class="sxs-lookup"><span data-stu-id="e2265-135">The eShopOnContainers application is accessible from web or mobile clients that access the application over HTTPS targeting either the ASP.NET Core MVC server application or an appropriate API Gateway.</span></span> <span data-ttu-id="e2265-136">Os gateways de API oferecem várias vantagens, como desacoplar serviços de back-end de clientes front-end individuais e fornecer maior segurança.</span><span class="sxs-lookup"><span data-stu-id="e2265-136">API Gateways offer several advantages, such as decoupling back-end services from individual front-end clients and providing better security.</span></span> <span data-ttu-id="e2265-137">O aplicativo também usa um padrão relacionado conhecido como back-ends-para-Fronts (BFF), que recomenda a criação de gateways de API separados para cada cliente front-end.</span><span class="sxs-lookup"><span data-stu-id="e2265-137">The application also makes use of a related pattern known as Backends-for-Frontends (BFF), which recommends creating separate API gateways for each front-end client.</span></span> <span data-ttu-id="e2265-138">A arquitetura de referência demonstra a divisão dos gateways de API com base em se a solicitação é proveniente de um cliente Web ou móvel.</span><span class="sxs-lookup"><span data-stu-id="e2265-138">The reference architecture demonstrates breaking up the API gateways based on whether the request is coming from a web or mobile client.</span></span>

<span data-ttu-id="e2265-139">A funcionalidade do aplicativo é dividida em vários microserviços distintos.</span><span class="sxs-lookup"><span data-stu-id="e2265-139">The application's functionality is broken up into a number of distinct microservices.</span></span> <span data-ttu-id="e2265-140">Há serviços responsáveis por autenticação e identidade, listando itens do catálogo de produtos, gerenciando cestas de compras de usuários e colocando pedidos.</span><span class="sxs-lookup"><span data-stu-id="e2265-140">There are services responsible for authentication and identity, listing items from the product catalog, managing users' shopping baskets, and  placing orders.</span></span> <span data-ttu-id="e2265-141">Cada um desses serviços separados tem seu próprio armazenamento persistente.</span><span class="sxs-lookup"><span data-stu-id="e2265-141">Each of these separate services has its own persistent storage.</span></span> <span data-ttu-id="e2265-142">Não há nenhum repositório de dados mestre único com o qual todos os serviços interagem.</span><span class="sxs-lookup"><span data-stu-id="e2265-142">There's no single master data store with which all services interact.</span></span> <span data-ttu-id="e2265-143">Em vez disso, a coordenação e a comunicação entre os serviços são feitas de acordo com a necessidade e com o uso de um barramento de mensagem.</span><span class="sxs-lookup"><span data-stu-id="e2265-143">Instead, coordination and communication between the services is done on an as-needed basis and through the use of a message bus.</span></span>

<span data-ttu-id="e2265-144">Cada um dos diferentes microservices é projetado de forma diferente, com base em seus requisitos individuais.</span><span class="sxs-lookup"><span data-stu-id="e2265-144">Each of the different microservices is designed differently, based on their individual requirements.</span></span> <span data-ttu-id="e2265-145">Isso significa que sua pilha de tecnologia pode diferir, embora todas sejam compiladas usando o .NET Core e projetadas para a nuvem.</span><span class="sxs-lookup"><span data-stu-id="e2265-145">This means their technology stack may differ, although they're all built using .NET Core and designed for the cloud.</span></span> <span data-ttu-id="e2265-146">Os serviços mais simples fornecem acesso básico de criação-leitura-atualização-exclusão (CRUD) aos armazenamentos de dados subjacentes, enquanto os serviços mais avançados usam abordagens e padrões de design orientados a domínio para gerenciar a complexidade dos negócios.</span><span class="sxs-lookup"><span data-stu-id="e2265-146">Simpler services provide basic Create-Read-Update-Delete (CRUD) access to the underlying data stores, while more advanced services use Domain-Driven Design approaches and patterns to manage business complexity.</span></span>

![Diferentes tipos de microserviços](./media/different-kinds-of-microservices.png)

<span data-ttu-id="e2265-148">**Figura 2-3**.</span><span class="sxs-lookup"><span data-stu-id="e2265-148">**Figure 2-3**.</span></span> <span data-ttu-id="e2265-149">Tipos diferentes de microserviços.</span><span class="sxs-lookup"><span data-stu-id="e2265-149">Different kinds of microservices.</span></span>

## <a name="overview-of-the-code"></a><span data-ttu-id="e2265-150">Visão geral do código</span><span class="sxs-lookup"><span data-stu-id="e2265-150">Overview of the code</span></span>

<span data-ttu-id="e2265-151">Como ele aproveita os microserviços, o aplicativo eShopOnContainers inclui alguns projetos e soluções separados em seu repositório GitHub.</span><span class="sxs-lookup"><span data-stu-id="e2265-151">Because it leverages microservices, the eShopOnContainers app includes quite a few separate projects and solutions in its GitHub repository.</span></span> <span data-ttu-id="e2265-152">Além de soluções separadas e arquivos executáveis, os vários serviços são projetados para serem executados dentro de seus próprios contêineres, durante o desenvolvimento local e em tempo de execução em produção.</span><span class="sxs-lookup"><span data-stu-id="e2265-152">In addition to separate solutions and executable files, the various services are designed to run inside their own containers, both during local development and at runtime in production.</span></span> <span data-ttu-id="e2265-153">A Figura 2-4 mostra a solução completa do Visual Studio, na qual os vários projetos diferentes são organizados.</span><span class="sxs-lookup"><span data-stu-id="e2265-153">Figure 2-4 shows the full Visual Studio solution, in which the various different projects are organized.</span></span>

![Projetos na solução do Visual Studio.](./media/projects-in-visual-studio-solution.png)

<span data-ttu-id="e2265-155">**Figura 2-4**.</span><span class="sxs-lookup"><span data-stu-id="e2265-155">**Figure 2-4**.</span></span> <span data-ttu-id="e2265-156">Projetos na solução do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e2265-156">Projects in Visual Studio solution.</span></span>

<span data-ttu-id="e2265-157">O código é organizado para dar suporte aos diferentes microserviços e, em cada microserviço, o código é dividido na lógica do domínio, em questões de infraestrutura e na interface do usuário ou ponto de extremidade de serviço.</span><span class="sxs-lookup"><span data-stu-id="e2265-157">The code is organized to support the different microservices, and within each microservice, the code is broken up into domain logic, infrastructure concerns, and user interface or service endpoint.</span></span> <span data-ttu-id="e2265-158">Em muitos casos, as dependências de cada serviço podem ser atendidas pelos serviços do Azure em produção, bem como opções alternativas para o desenvolvimento local.</span><span class="sxs-lookup"><span data-stu-id="e2265-158">In many cases, each service's dependencies can be fulfilled by Azure services in production, as well as alternative options for local development.</span></span> <span data-ttu-id="e2265-159">Vamos examinar como os requisitos do aplicativo são mapeados para os serviços do Azure.</span><span class="sxs-lookup"><span data-stu-id="e2265-159">Let's examine how the application's requirements map to Azure services.</span></span>

## <a name="understanding-microservices"></a><span data-ttu-id="e2265-160">Noções básicas sobre microsserviços</span><span class="sxs-lookup"><span data-stu-id="e2265-160">Understanding microservices</span></span>

<span data-ttu-id="e2265-161">Este livro se concentra em aplicativos nativos de nuvem criados usando a tecnologia do Azure.</span><span class="sxs-lookup"><span data-stu-id="e2265-161">This book focuses on cloud-native applications built using Azure technology.</span></span> <span data-ttu-id="e2265-162">Para saber mais sobre as práticas recomendadas de microserviço e como arquitetar aplicativos baseados em microserviço, leia o livro complementar, [microservices .net: arquitetura para aplicativos .net em contêineres](https://dotnet.microsoft.com/download/thank-you/microservices-architecture-ebook).</span><span class="sxs-lookup"><span data-stu-id="e2265-162">To learn more about microservices best practices and how to architect microservice-based applications, read the companion book, [.NET Microservices: Architecture for Containerized .NET Applications](https://dotnet.microsoft.com/download/thank-you/microservices-architecture-ebook).</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="e2265-163">[Anterior](candidate-apps.md) 
> [Avançar](map-eshoponcontainers-azure-services.md)</span><span class="sxs-lookup"><span data-stu-id="e2265-163">[Previous](candidate-apps.md)
[Next](map-eshoponcontainers-azure-services.md)</span></span>
