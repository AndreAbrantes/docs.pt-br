---
title: Armazenamento de dados no Azure
description: Arquitetando aplicativos .NET nativos da nuvem para o Azure | Armazenamento de dados no Azure
ms.date: 06/30/2019
ms.openlocfilehash: 1a86cecf005c6dbdfda5cf4cacfafaad4711c076
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/30/2019
ms.locfileid: "73087762"
---
# <a name="data-storage-in-azure"></a><span data-ttu-id="687cf-103">Armazenamento de dados no Azure</span><span class="sxs-lookup"><span data-stu-id="687cf-103">Data storage in Azure</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="687cf-104">Como vimos em todo este livro, a nuvem está mudando a maneira como os aplicativos são projetados, implantados e gerenciados.</span><span class="sxs-lookup"><span data-stu-id="687cf-104">As we've seen throughout this book, the cloud is changing the way applications are designed, deployed, and managed.</span></span> <span data-ttu-id="687cf-105">Ao mudar para a nuvem, uma pergunta crítica é como você move seus dados?</span><span class="sxs-lookup"><span data-stu-id="687cf-105">When moving to the cloud, a critical question is how do you move your data?</span></span> <span data-ttu-id="687cf-106">Felizmente, a nuvem do Azure oferece muitas opções.</span><span class="sxs-lookup"><span data-stu-id="687cf-106">Fortunately, the Azure cloud offers many options.</span></span>

<span data-ttu-id="687cf-107">Você poderia apenas provisionar uma máquina virtual do Azure e instalar seu banco de dados de sua escolha.</span><span class="sxs-lookup"><span data-stu-id="687cf-107">You could just provision an Azure virtual machine and install your database of choice.</span></span> <span data-ttu-id="687cf-108">Isso é conhecido como [IaaS (infraestrutura como serviço)](https://www.techopedia.com/definition/141/infrastructure-as-a-service-iaas).</span><span class="sxs-lookup"><span data-stu-id="687cf-108">This is known as [Infrastructure as a Service (IaaS)](https://www.techopedia.com/definition/141/infrastructure-as-a-service-iaas).</span></span> <span data-ttu-id="687cf-109">Essa abordagem simplifica a movimentação de um banco de dados local para a nuvem, no estado em que se encontra, mas muda a carga de gerenciar a máquina virtual e o banco de dados para você.</span><span class="sxs-lookup"><span data-stu-id="687cf-109">This approach simplifies moving an on-premises database to the cloud, as-is, but shifts the burden of managing the virtual machine and the database to you.</span></span>

<span data-ttu-id="687cf-110">Em vez disso, um [DBaaS (banco de dados como serviço)](https://www.stratoscale.com/blog/dbaas/what-is-database-as-a-service/) totalmente gerenciado é uma opção melhor.</span><span class="sxs-lookup"><span data-stu-id="687cf-110">Instead, a fully managed [Database as a Service (DBaaS)](https://www.stratoscale.com/blog/dbaas/what-is-database-as-a-service/) is a better option.</span></span> <span data-ttu-id="687cf-111">Você obtém muitos recursos internos enquanto a hospedagem, a manutenção e o licenciamento são gerenciados pela Microsoft.</span><span class="sxs-lookup"><span data-stu-id="687cf-111">You get many built-in features while the hosting, maintenance, and licensing are managed by Microsoft.</span></span> <span data-ttu-id="687cf-112">O Azure apresenta diferentes tipos de opções de armazenamento de dados totalmente gerenciadas, cada uma com benefícios específicos.</span><span class="sxs-lookup"><span data-stu-id="687cf-112">Azure features different kinds of fully managed data storage options, each with specific benefits.</span></span> <span data-ttu-id="687cf-113">Todos eles dão suporte à capacidade just-in-time e a um modelo pago conforme o uso.</span><span class="sxs-lookup"><span data-stu-id="687cf-113">They all support just-in-time capacity and a pay-as-you-go model.</span></span>

<span data-ttu-id="687cf-114">Em seguida, vamos examinar as opções de DBaaS disponíveis no Azure.</span><span class="sxs-lookup"><span data-stu-id="687cf-114">We'll next look at DBaaS options available in Azure.</span></span> <span data-ttu-id="687cf-115">Você verá como a Microsoft continua sendo o compromisso de manter o Azure uma "plataforma aberta", oferecendo suporte gerenciado para muitos bancos de dados relacionais e NoSQL de software livre e fazendo contribuições importantes para as várias bases de código-fonte aberto como um membro ativo.</span><span class="sxs-lookup"><span data-stu-id="687cf-115">You'll see how Microsoft continues is commitment to keeping Azure an “open platform,” offering managed support for many open-source relational and NoSQL databases and making key contributions to the various open-source foundations as an active member.</span></span>

## <a name="azure-sql-database"></a><span data-ttu-id="687cf-116">Banco de dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="687cf-116">Azure SQL Database</span></span>

<span data-ttu-id="687cf-117">O [banco de dados SQL do Azure](https://docs.microsoft.com/azure/sql-database/) é um DBaaS (banco de dados como serviço) de uso geral, repleto de recursos, com base no mecanismo de banco de dados do Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="687cf-117">[Azure SQL Database](https://docs.microsoft.com/azure/sql-database/) is a feature-rich, general-purpose relational database-as-a-service (DBaaS) based on the Microsoft SQL Server Database Engine.</span></span> <span data-ttu-id="687cf-118">Ele é totalmente gerenciado pela Microsoft e é um banco de dados de nuvem seguro, confiável e de alto desempenho.</span><span class="sxs-lookup"><span data-stu-id="687cf-118">It's fully managed by Microsoft and is a high-performance, reliable, and secure cloud database.</span></span> <span data-ttu-id="687cf-119">O serviço compartilha muitos dos recursos encontrados na versão local do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="687cf-119">The service shares many of the features found in the on-premises version of SQL Server.</span></span>

<span data-ttu-id="687cf-120">Você pode provisionar um servidor de banco de dados SQL e um banco de dados em minutos.</span><span class="sxs-lookup"><span data-stu-id="687cf-120">You can provision a SQL Database server and database in minutes.</span></span> <span data-ttu-id="687cf-121">Quando a demanda por seu aplicativo cresce de alguns clientes para milhões, o banco de dados SQL do Azure é dimensionado dinamicamente com tempo de inatividade mínimo.</span><span class="sxs-lookup"><span data-stu-id="687cf-121">When demand for your application grows from a handful of customers to millions, Azure SQL Database scales on-the-fly with minimal downtime.</span></span> <span data-ttu-id="687cf-122">Você pode adicionar ou remover recursos dinamicamente, incluindo capacidade de CPU, memória, taxa de transferência de e/s e armazenamento alocado para seus bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="687cf-122">You can dynamically add or remove resources, including CPU power, memory, IO throughput, and storage allocated to your databases.</span></span>

<span data-ttu-id="687cf-123">A Figura 5-12 mostra as opções de implantação para o banco de dados SQL do Azure.</span><span class="sxs-lookup"><span data-stu-id="687cf-123">Figure 5-12 shows the deployment options for Azure SQL Database.</span></span>

![Opções de implantação do Azure SQL](./media/azure-sql-database-deployment-options.png)

<span data-ttu-id="687cf-125">**Figura 5-12**.</span><span class="sxs-lookup"><span data-stu-id="687cf-125">**Figure 5-12**.</span></span> <span data-ttu-id="687cf-126">Opções de implantação do Azure SQL</span><span class="sxs-lookup"><span data-stu-id="687cf-126">Azure SQL deployment options</span></span>

<span data-ttu-id="687cf-127">Observe as alternativas na figura anterior ao implantar um banco de dados SQL:</span><span class="sxs-lookup"><span data-stu-id="687cf-127">Note the alternatives in the previous figure when deploying a SQL Database:</span></span>

- <span data-ttu-id="687cf-128">Um [banco de dados individual](https://docs.microsoft.com/azure/sql-database/sql-database-single-database)  with seu próprio conjunto de recursos gerenciados por um [servidor de banco de dados SQL](https://docs.microsoft.com/azure/sql-database/sql-database-servers).</span><span class="sxs-lookup"><span data-stu-id="687cf-128">A [Single database](https://docs.microsoft.com/azure/sql-database/sql-database-single-database) with its own set of resources managed by a [SQL Database server](https://docs.microsoft.com/azure/sql-database/sql-database-servers).</span></span> <span data-ttu-id="687cf-129">Um banco de dados individual é semelhante a um [banco de dados independente](https://docs.microsoft.com/sql/relational-databases/databases/contained-databases)  in uma implantação de SQL Server local.</span><span class="sxs-lookup"><span data-stu-id="687cf-129">A single database is similar to a [contained database](https://docs.microsoft.com/sql/relational-databases/databases/contained-databases) in an on-premises SQL Server deployment.</span></span>

- <span data-ttu-id="687cf-130">Um [pool elástico](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-pool) no qual uma coleção de bancos de dados SQL compartilha um único servidor de banco de dados SQL por um preço definido.</span><span class="sxs-lookup"><span data-stu-id="687cf-130">An [Elastic pool](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-pool) in which a collection of SQL Databases share a single SQL Database server at a set price.</span></span> <span data-ttu-id="687cf-131">Bancos de dados individuais podem ser movidos para dentro e para fora de um pool elástico, conforme necessário, para otimizar o desempenho do preço de um grupo de bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="687cf-131">Single databases can be moved in and out of an elastic pool as needed to optimize the price performance for a group of databases.</span></span>

- <span data-ttu-id="687cf-132">Uma [instância gerenciada](https://docs.microsoft.com/azure/sql-database/sql-database-managed-instance) no, que é uma coleção de bancos de dados de sistema e de usuário, fornece compatibilidade quase 100% com uma SQL Server local.</span><span class="sxs-lookup"><span data-stu-id="687cf-132">A [Managed Instance](https://docs.microsoft.com/azure/sql-database/sql-database-managed-instance) in which is a collection of system and user databases provide near-100% compatibility with an on-premises SQL Server.</span></span> <span data-ttu-id="687cf-133">Essa opção dá suporte a bancos de dados maiores, até 35 TB e é colocada em uma [rede virtual do Azure](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) para um melhor isolamento.</span><span class="sxs-lookup"><span data-stu-id="687cf-133">This option supports larger databases, up to 35 TB and is placed in an [Azure Virtual Network](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) for better isolation.</span></span>

<span data-ttu-id="687cf-134">O banco de dados SQL do Azure é uma [mecanismo de banco de dados de PaaS (plataforma como serviço)](https://docs.microsoft.com/azure/sql-database/sql-database-paas) totalmente gerenciada que lida com atualização, aplicação de patches, backups e monitoramento sem envolvimento do usuário.</span><span class="sxs-lookup"><span data-stu-id="687cf-134">Azure SQL Database is a fully managed [Platform as a Service (PaaS) Database Engine](https://docs.microsoft.com/azure/sql-database/sql-database-paas) that handles upgrading, patching, backups, and monitoring without user involvement.</span></span> <span data-ttu-id="687cf-135">Ele sempre executa a versão estável mais recente do SQL Server Mecanismo de Banco de Dados e o sistema operacional corrigido e garante 99,99% de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="687cf-135">It always runs the latest stable version of the SQL Server Database Engine and patched OS and guarantees 99.99% availability.</span></span> <span data-ttu-id="687cf-136">Um recurso, [a replicação geográfica ativa](https://docs.microsoft.com/azure/sql-database/sql-database-active-geo-replication), permite criar bancos de dados secundários legíveis no mesmo ou em um data center do Azure diferente.</span><span class="sxs-lookup"><span data-stu-id="687cf-136">One feature, [active geo-replication](https://docs.microsoft.com/azure/sql-database/sql-database-active-geo-replication), lets you create readable secondary databases in the same or a different Azure data center.</span></span> <span data-ttu-id="687cf-137">Após a falha, um failover para um banco de dados secundário pode ser iniciado.</span><span class="sxs-lookup"><span data-stu-id="687cf-137">Upon failure, a failover to a secondary database can be initiated.</span></span> <span data-ttu-id="687cf-138">Nesse ponto, os outros secundários se vinculam automaticamente ao novo primário.</span><span class="sxs-lookup"><span data-stu-id="687cf-138">At that point, the other secondaries automatically link to the new primary.</span></span> <span data-ttu-id="687cf-139">Há suporte para até quatro réplicas secundárias no mesmo ou em regiões diferentes, e esses secundários também podem ser usados para consultas de acesso somente leitura.</span><span class="sxs-lookup"><span data-stu-id="687cf-139">Up to four secondary replicas are supported in either the same or in different regions, and these secondaries can also be used for read-only access queries.</span></span>

<span data-ttu-id="687cf-140">O banco de dados SQL do Azure inclui recursos [internos de monitoramento e ajuste inteligente](https://docs.microsoft.com/azure/sql-database/sql-database-monitoring-tuning-index) que podem ajudá-lo a maximizar o desempenho e reduzir os custos operacionais.</span><span class="sxs-lookup"><span data-stu-id="687cf-140">Azure SQL Database includes [built-in monitoring and intelligent tuning](https://docs.microsoft.com/azure/sql-database/sql-database-monitoring-tuning-index) features that can help you maximize performance and reduce operational costs.</span></span> <span data-ttu-id="687cf-141">Por exemplo, o recurso de [ajuste automático](https://docs.microsoft.com/azure/sql-database/sql-database-automatic-tuning) fornece ajuste de desempenho contínuo com base no ia e no aprendizado de máquina.</span><span class="sxs-lookup"><span data-stu-id="687cf-141">For example, the [Automatic Tuning](https://docs.microsoft.com/azure/sql-database/sql-database-automatic-tuning) feature provides continuous performance tuning based on AI and machine learning.</span></span> <span data-ttu-id="687cf-142">O serviço aprende com suas cargas de trabalho em execução e pode aplicar recomendações de ajuste.</span><span class="sxs-lookup"><span data-stu-id="687cf-142">The service learns from your running workloads and can apply tuning recommendations.</span></span> <span data-ttu-id="687cf-143">Quanto mais tempo um banco de dados SQL do Azure for executado com o ajuste automático habilitado, melhor será o desempenho.</span><span class="sxs-lookup"><span data-stu-id="687cf-143">The longer an Azure SQL Database runs with automatic tuning enabled, the better it performs.</span></span>

<span data-ttu-id="687cf-144">O [banco de dados SQL do Azure sem servidor](https://docs.microsoft.com/azure/sql-database/sql-database-serverless) (disponível para visualização no momento da gravação deste livro) é uma camada de computação para bancos de dados individuais que são dimensionados automaticamente com base na demanda de carga de trabalho e cobra pela quantidade de computação usada por segundo.</span><span class="sxs-lookup"><span data-stu-id="687cf-144">[Azure SQL Database serverless](https://docs.microsoft.com/azure/sql-database/sql-database-serverless) (available for preview at time of the writing of this book) is a compute tier for single databases that automatically scales based on workload demand, and bills for the amount of compute used per second.</span></span> <span data-ttu-id="687cf-145">A camada de computação sem servidor também pausa automaticamente os bancos de dados durante períodos inativos para que somente os encargos de armazenamento sejam cobrados.</span><span class="sxs-lookup"><span data-stu-id="687cf-145">The serverless compute tier also automatically pauses databases during inactive periods so that only storage charges are billed.</span></span> <span data-ttu-id="687cf-146">Ela é retomada automaticamente quando a atividade retorna.</span><span class="sxs-lookup"><span data-stu-id="687cf-146">It automatically resumes when activity returns.</span></span>

<span data-ttu-id="687cf-147">Por fim, há o novo tipo de preço de [hiperescala do banco de dados SQL do Azure](https://azure.microsoft.com/services/sql-database/) .</span><span class="sxs-lookup"><span data-stu-id="687cf-147">Finally, there's the new [Azure SQL Database Hyperscale](https://azure.microsoft.com/services/sql-database/) pricing tier.</span></span><span data-ttu-id="687cf-148"> Ele é alimentado por uma arquitetura de armazenamento altamente escalonável e permite que seu banco de dados cresça conforme necessário, eliminando a necessidade de pré-configurar os recursos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="687cf-148"> It's powered by a highly scalable storage architecture and enables your database to grow as needed, eliminating the need to pre-provision storage resources.</span></span> <span data-ttu-id="687cf-149">Você pode dimensionar os recursos de computação e armazenamento de forma independente, fornecendo a flexibilidade para otimizar o desempenho de cada carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="687cf-149">You can scale compute and storage resources independently, providing the flexibility to optimize performance for each workload.</span></span> <span data-ttu-id="687cf-150">A hiperescala do banco de dados SQL do Azure é otimizada para processamento [OLTP](https://en.wikipedia.org/wiki/Online_transaction_processing) e cargas de trabalho analíticas de alta taxa de transferência com armazenamento de até 100 TB.</span><span class="sxs-lookup"><span data-stu-id="687cf-150">Azure SQL Database Hyperscale is optimized for [OLTP](https://en.wikipedia.org/wiki/Online_transaction_processing) processing and high throughput analytic workloads with storage up to 100 TB.</span></span><span data-ttu-id="687cf-151">  Com cargas de trabalho com uso intensivo de leitura, o hiperscale fornece expansão rápida ao provisionar réplicas de leitura adicionais conforme necessário para descarregar cargas de trabalho de leitura.</span><span class="sxs-lookup"><span data-stu-id="687cf-151">  With read-intensive workloads, Hyperscale provides rapid scale-out by provisioning additional read replicas as needed for offloading read workloads.</span></span>

<span data-ttu-id="687cf-152">Além da pilha de Microsoft SQL Server tradicional, o Azure também apresenta versões gerenciadas de vários bancos de dados de software livre populares.</span><span class="sxs-lookup"><span data-stu-id="687cf-152">In addition to the traditional Microsoft SQL Server stack, Azure also features managed versions of several popular open-source databases.</span></span>

## <a name="azure-database-for-mysql"></a><span data-ttu-id="687cf-153">Banco de dados do Azure para MySQL</span><span class="sxs-lookup"><span data-stu-id="687cf-153">Azure Database for MySQL</span></span>

<span data-ttu-id="687cf-154">O [MySQL](https://en.wikipedia.org/wiki/MySQL)  is um [banco de dados relacional](https://en.wikipedia.org/wiki/Relational_database_management_system) [de código aberto](https://en.wikipedia.org/wiki/Open-source_software).</span><span class="sxs-lookup"><span data-stu-id="687cf-154">[MySQL](https://en.wikipedia.org/wiki/MySQL) is an [open-source](https://en.wikipedia.org/wiki/Open-source_software) [relational database](https://en.wikipedia.org/wiki/Relational_database_management_system).</span></span> <span data-ttu-id="687cf-155">É um componente da pilha de [software da lâmpada](https://en.wikipedia.org/wiki/LAMP_(software_bundle)) e é usado por muitas organizações de grande porte, incluindo o Facebook, o Twitter e o YouTube.</span><span class="sxs-lookup"><span data-stu-id="687cf-155">It's a component in the [LAMP software stack](https://en.wikipedia.org/wiki/LAMP_(software_bundle)) and used by many large organizations, including Facebook, Twitter, and YouTube.</span></span> <span data-ttu-id="687cf-156">A Community Edition está disponível gratuitamente e a Enterprise Edition requer uma compra de licença.</span><span class="sxs-lookup"><span data-stu-id="687cf-156">The community edition is available for free and the enterprise edition requires a license purchase.</span></span> <span data-ttu-id="687cf-157">Originalmente criado em 1995, o produto foi adquirido pela Sun Microsystems no 2008, que foi adquirido pela Oracle na 2010.</span><span class="sxs-lookup"><span data-stu-id="687cf-157">Originally created in 1995, the product was purchased by Sun Microsystems in 2008, which was acquired by Oracle in 2010.</span></span>

<span data-ttu-id="687cf-158">O [banco de dados do Azure para MySQL](https://azure.microsoft.com/services/mysql/) é um serviço de banco de dados relacional totalmente gerenciado e pronto para empresas com base no mecanismo de servidor MySQL de software livre.</span><span class="sxs-lookup"><span data-stu-id="687cf-158">[Azure Database for MySQL](https://azure.microsoft.com/services/mysql/) is a fully managed, enterprise-ready relational database service based on the open-source MySQL Server engine.</span></span> <span data-ttu-id="687cf-159">Implementando o MySQL Community Edition, ele inclui os seguintes recursos de PaaS sem custo adicional:</span><span class="sxs-lookup"><span data-stu-id="687cf-159">Implementing the MySQL Community edition, it includes the following PaaS capabilities at no additional cost:</span></span>

- <span data-ttu-id="687cf-160">[Alta disponibilidade](https://docs.microsoft.com/azure/mysql/concepts-high-availability)interna.</span><span class="sxs-lookup"><span data-stu-id="687cf-160">Built-in [high availability](https://docs.microsoft.com/azure/mysql/concepts-high-availability).</span></span>

- <span data-ttu-id="687cf-161">Desempenho previsível, usando [preços de pagamento conforme o uso](https://docs.microsoft.com/azure/mysql/concepts-pricing-tiers)inclusivo.</span><span class="sxs-lookup"><span data-stu-id="687cf-161">Predictable performance, using inclusive [pay-as-you-go pricing](https://docs.microsoft.com/azure/mysql/concepts-pricing-tiers).</span></span>

- <span data-ttu-id="687cf-162">[Dimensione](https://docs.microsoft.com/azure/mysql/concepts-high-availability) conforme necessário em segundos.</span><span class="sxs-lookup"><span data-stu-id="687cf-162">[Scale](https://docs.microsoft.com/azure/mysql/concepts-high-availability) as needed within seconds.</span></span>

- <span data-ttu-id="687cf-163">Protegido para proteger dados confidenciais em repouso e em movimento.</span><span class="sxs-lookup"><span data-stu-id="687cf-163">Secured to protect sensitive data at-rest and in-motion.</span></span>

- <span data-ttu-id="687cf-164">[Backups automáticos](https://docs.microsoft.com/azure/mysql/concepts-backup) e [restauração pontual](https://docs.microsoft.com/azure/mysql/concepts-backup) por até 35 dias.</span><span class="sxs-lookup"><span data-stu-id="687cf-164">[Automatic backups](https://docs.microsoft.com/azure/mysql/concepts-backup) and [point-in-time-restore](https://docs.microsoft.com/azure/mysql/concepts-backup) for up to 35 days.</span></span>

- <span data-ttu-id="687cf-165">Segurança e conformidade de nível empresarial.</span><span class="sxs-lookup"><span data-stu-id="687cf-165">Enterprise-grade security and compliance.</span></span>

<span data-ttu-id="687cf-166">Esses recursos internos de PaaS são importantes para organizações que têm centenas de bancos de dados "táticos" (não estratégicos) em seus data centers, mas não têm os recursos para executar patches, backup, segurança e monitoramento de desempenho.</span><span class="sxs-lookup"><span data-stu-id="687cf-166">These built-in PaaS features are important for organizations who have hundreds of “tactical" (non-strategic) databases in their data centers, but don't have the resources to perform patching, backup, security, and performance monitoring.</span></span>

<span data-ttu-id="687cf-167">Além disso, o [serviço de migração de dados do Azure](https://azure.microsoft.com/services/database-migration/) pode migrar dados de várias fontes de banco de dados para plataformas do Azure data com tempo de inatividade mínimo.</span><span class="sxs-lookup"><span data-stu-id="687cf-167">Additionally, the [Azure Data Migration Service](https://azure.microsoft.com/services/database-migration/) can migrate data from multiple database sources to Azure Data platforms with minimal downtime.</span></span> <span data-ttu-id="687cf-168">O serviço gera relatórios de avaliação e fornece recomendações para orientá-lo pelas alterações necessárias à execução de uma migração, pequena ou grande.</span><span class="sxs-lookup"><span data-stu-id="687cf-168">The service generates assessment reports and provides recommendations to guide you through the changes required to performing a migration, both small or large.</span></span>

<span data-ttu-id="687cf-169">O [servidor MySQL do Azure](https://docs.microsoft.com/azure/mysql/concepts-servers) gerenciado é o ponto administrativo central para o serviço.</span><span class="sxs-lookup"><span data-stu-id="687cf-169">The managed [Azure MySQL server](https://docs.microsoft.com/azure/mysql/concepts-servers) is the central administrative point for the service.</span></span> <span data-ttu-id="687cf-170">É o mesmo mecanismo de servidor MySQL usado para implantações locais.</span><span class="sxs-lookup"><span data-stu-id="687cf-170">It's the same MySQL server engine used for on-premises deployments.</span></span> <span data-ttu-id="687cf-171">Com ele, você pode criar um único banco de dados por servidor para consumir todos os recursos ou criar vários bancos por servidor para compartilhar recursos.</span><span class="sxs-lookup"><span data-stu-id="687cf-171">With it, you can create a single database per server to consume all resources or create multiple databases per server to share resources.</span></span> <span data-ttu-id="687cf-172">Sua equipe pode continuar a desenvolver aplicativos com as ferramentas de software livre e a plataforma de sua escolha sem precisar aprender novas habilidades ou gerenciar máquinas virtuais e infraestrutura.</span><span class="sxs-lookup"><span data-stu-id="687cf-172">Your team can continue to develop applications with the open-source tools and platform of your choice without having to learn new skills or manage virtual machines and infrastructure.</span></span>

## <a name="azure-database-for-mariadb"></a><span data-ttu-id="687cf-173">Banco de dados do Azure para MariaDB</span><span class="sxs-lookup"><span data-stu-id="687cf-173">Azure Database for MariaDB</span></span>

<span data-ttu-id="687cf-174">[MariaDB](https://mariadb.com/) O servidor é outro servidor de banco de dados de software livre popular.</span><span class="sxs-lookup"><span data-stu-id="687cf-174">[MariaDB](https://mariadb.com/) Server is another popular open-source database server.</span></span> <span data-ttu-id="687cf-175">Ele foi criado como uma bifurcação do MySQL pelos desenvolvedores originais do MySQL no momento em que a Oracle comprou a Sun Microsystems que teve Propriedade do MySQL.</span><span class="sxs-lookup"><span data-stu-id="687cf-175">It was created as a fork of MySQL by the original developers of MySQL at the time that Oracle purchased Sun Microsystems who owned MySQL.</span></span> <span data-ttu-id="687cf-176">A intenção era garantir que MariaDB permanecia Open-Source.</span><span class="sxs-lookup"><span data-stu-id="687cf-176">The intent was to ensure that MariaDB remained open-source.</span></span>

<span data-ttu-id="687cf-177">Como MariaDB é uma [bifurcação do MySQL](https://blog.panoply.io/a-comparative-vmariadb-vs-mysql), as definições de tabela e de dados são compatíveis, e os protocolos, estruturas e APIs do cliente são close-spojit.</span><span class="sxs-lookup"><span data-stu-id="687cf-177">Since MariaDB is a [fork of MySQL](https://blog.panoply.io/a-comparative-vmariadb-vs-mysql), the data and table definitions are compatible, and the client protocols, structures, and APIs, are close-knit.</span></span> <span data-ttu-id="687cf-178">Os conectores de dados MySQL funcionarão MariaDB sem modificação.</span><span class="sxs-lookup"><span data-stu-id="687cf-178">MySQL data connectors will work MariaDB without modification.</span></span>

<span data-ttu-id="687cf-179">O MariaDB tem um forte e é usado por muitas empresas de grande porte.</span><span class="sxs-lookup"><span data-stu-id="687cf-179">MariaDB has a strong following and is used by many large enterprises.</span></span> <span data-ttu-id="687cf-180">Embora a Oracle continue a manter, aprimorar e oferecer suporte a MySQL, o MariaDB é gerenciado pelo MariaDB Foundation, permitindo contribuições públicas ao produto e à documentação.</span><span class="sxs-lookup"><span data-stu-id="687cf-180">While Oracle continues to maintain, enhance and support MySQL, MariaDB is managed by the MariaDB Foundation allowing public contributions to the product and documentation.</span></span>

<span data-ttu-id="687cf-181">O [banco de dados do Azure para MariaDB](https://azure.microsoft.com/services/mariadb/) é um banco de dados totalmente gerenciado como um serviço na nuvem do Azure.</span><span class="sxs-lookup"><span data-stu-id="687cf-181">[Azure Database for MariaDB](https://azure.microsoft.com/services/mariadb/) is a fully managed database as a service in the Azure cloud.</span></span> <span data-ttu-id="687cf-182">Ele é baseado no mecanismo de servidor do [MariaDB Community Edition](https://mariadb.org/download/) .</span><span class="sxs-lookup"><span data-stu-id="687cf-182">It's based on the [MariaDB community edition](https://mariadb.org/download/) server engine.</span></span> <span data-ttu-id="687cf-183">Ele pode lidar com cargas de trabalho críticas com desempenho previsível e escalabilidade dinâmica.</span><span class="sxs-lookup"><span data-stu-id="687cf-183">It can handle mission-critical workloads with predictable performance and dynamic scalability.</span></span> <span data-ttu-id="687cf-184">Semelhante às outras plataformas de banco de dados do Azure, ele inclui muitos recursos de plataforma como serviço sem custo adicional:</span><span class="sxs-lookup"><span data-stu-id="687cf-184">Similar to the other Azure Database platforms, it includes many Platform-as-a-Service capabilities at no additional cost:</span></span>

- <span data-ttu-id="687cf-185">[Alta disponibilidade](https://docs.microsoft.com/azure/mariadb/concepts-high-availability)interna.</span><span class="sxs-lookup"><span data-stu-id="687cf-185">Built-in [high availability](https://docs.microsoft.com/azure/mariadb/concepts-high-availability).</span></span>

- <span data-ttu-id="687cf-186">Desempenho previsível, usando [preços de pagamento conforme o uso](https://docs.microsoft.com/azure/mariadb/concepts-pricing-tiers)inclusivo.</span><span class="sxs-lookup"><span data-stu-id="687cf-186">Predictable performance, using inclusive [pay-as-you-go pricing](https://docs.microsoft.com/azure/mariadb/concepts-pricing-tiers).</span></span>

- <span data-ttu-id="687cf-187">[Dimensionamento](https://docs.microsoft.com/azure/mariadb/concepts-high-availability) conforme necessário em segundos.</span><span class="sxs-lookup"><span data-stu-id="687cf-187">[Scaling](https://docs.microsoft.com/azure/mariadb/concepts-high-availability) as needed within seconds.</span></span>

- <span data-ttu-id="687cf-188">Proteção protegida de dados confidenciais em repouso e em movimento.</span><span class="sxs-lookup"><span data-stu-id="687cf-188">Secured protection of sensitive data at rest and in-motion.</span></span>

- <span data-ttu-id="687cf-189">[Backups automáticos](https://docs.microsoft.com/azure/mariadb/concepts-backup) e [restauração pontual](https://docs.microsoft.com/azure/mariadb/concepts-backup) por até 35 dias.</span><span class="sxs-lookup"><span data-stu-id="687cf-189">[Automatic backups](https://docs.microsoft.com/azure/mariadb/concepts-backup) and [point-in-time-restore](https://docs.microsoft.com/azure/mariadb/concepts-backup) for up to 35 days.</span></span>

- <span data-ttu-id="687cf-190">Segurança e conformidade de nível empresarial.</span><span class="sxs-lookup"><span data-stu-id="687cf-190">Enterprise-grade security and compliance.</span></span>

## <a name="azure-database-for-postgresql"></a><span data-ttu-id="687cf-191">Banco de dados do Azure para PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="687cf-191">Azure Database for PostgreSQL</span></span>

<span data-ttu-id="687cf-192">[PostgreSQL](https://www.postgresql.org/) é outro banco de dados relacional popular de código aberto com mais de 30 anos de desenvolvimento ativo.</span><span class="sxs-lookup"><span data-stu-id="687cf-192">[PostgreSQL](https://www.postgresql.org/) is another popular, open-source relational database with over 30 years of active development.</span></span> <span data-ttu-id="687cf-193">É uma finalidade geral e um sistema de gerenciamento de banco de dados relacional de objeto.</span><span class="sxs-lookup"><span data-stu-id="687cf-193">It's a general purpose and object-relational database management system.</span></span> <span data-ttu-id="687cf-194">Seu licenciamento é considerado "liberal" e o produto está livre para usar, modificar e distribuir em qualquer forma.</span><span class="sxs-lookup"><span data-stu-id="687cf-194">Its licensing is considered to be “liberal” and the product is free to use, modify, and distribute in any form.</span></span> <span data-ttu-id="687cf-195">Muitas empresas de grande porte, incluindo Apple, Red Hat e Fujitsu, têm produtos criados usando PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="687cf-195">Many large enterprises including Apple, Red Hat, and Fujitsu have built products using PostgreSQL.</span></span>

<span data-ttu-id="687cf-196">O [banco de dados do Azure para PostgreSQL](https://azure.microsoft.com/services/postgresql/) é um serviço de banco de dados relacional totalmente gerenciado, baseado no mecanismo de banco de dados Postgres de código aberto.</span><span class="sxs-lookup"><span data-stu-id="687cf-196">[Azure Database for PostgreSQL](https://azure.microsoft.com/services/postgresql/) is a fully managed relational database service, based on the open-source Postgres database engine.</span></span> <span data-ttu-id="687cf-197">Ele pode lidar com cargas de trabalho críticas com desempenho previsível, segurança, alta disponibilidade e escalabilidade dinâmica.</span><span class="sxs-lookup"><span data-stu-id="687cf-197">It can handle mission-critical workloads with predictable performance, security, high availability, and dynamic scalability.</span></span> <span data-ttu-id="687cf-198">Ele oferece suporte a várias estruturas e linguagens de software livre C++, incluindo Java, Python, Node, C \# e php.</span><span class="sxs-lookup"><span data-stu-id="687cf-198">It supports several open-source frameworks and languages—including C++, Java, Python, Node, C\#, and PHP.</span></span> <span data-ttu-id="687cf-199">Ele permite a [migração](https://datamigration.microsoft.com/scenario/postgresql-to-azurepostgresql?step=1) de bancos de dados PostgreSQL por meio de uma interface de linha de comando ou do [serviço de migração de dado do Azure](https://azure.microsoft.com/services/database-migration/).</span><span class="sxs-lookup"><span data-stu-id="687cf-199">It enables [migration](https://datamigration.microsoft.com/scenario/postgresql-to-azurepostgresql?step=1) of PostgreSQL databases through a command-line interface or the [Azure Data Migration Service](https://azure.microsoft.com/services/database-migration/).</span></span>

<span data-ttu-id="687cf-200">O serviço inclui [inteligência interna](https://docs.microsoft.com/azure/postgresql/concepts-monitoring) que estuda seus padrões de banco de dados exclusivos e fornece recomendações e informações personalizadas para ajudá-lo a maximizar o desempenho do seu banco de dados PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="687cf-200">The service includes [built-in intelligence](https://docs.microsoft.com/azure/postgresql/concepts-monitoring) that studies your unique database patterns and provides customized recommendations and insights to help you maximize the performance of your PostgreSQL database.</span></span> <span data-ttu-id="687cf-201">A [proteção avançada contra ameaças](https://docs.microsoft.com/azure/postgresql/concepts-data-access-and-security-threat-protection) monitora o banco de dados em todo o relógio e detecta possíveis atividades mal-intencionadas, alertando você sobre a detecção para que você possa intervir imediatamente.</span><span class="sxs-lookup"><span data-stu-id="687cf-201">[Advanced Threat Protection](https://docs.microsoft.com/azure/postgresql/concepts-data-access-and-security-threat-protection) monitors your database around the clock and detects potential malicious activities, alerting you upon detection so you can intervene right away.</span></span>

<span data-ttu-id="687cf-202">O banco de dados do Azure para PostgreSQL está disponível como duas opções de implantação: servidor único e hiperescala (Citus), disponível para visualização no momento da gravação deste livro</span><span class="sxs-lookup"><span data-stu-id="687cf-202">Azure Database for PostgreSQL is available as two deployment options: Single Server and Hyperscale (Citus), available for preview at time of the writing of this book</span></span>

- <span data-ttu-id="687cf-203">A opção de implantação de [servidor único](https://docs.microsoft.com/azure/postgresql/concepts-servers) é um ponto administrativo central para vários bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="687cf-203">The [Single Server](https://docs.microsoft.com/azure/postgresql/concepts-servers) deployment option is a central administrative point for multiple databases.</span></span> <span data-ttu-id="687cf-204">É o mesmo mecanismo de servidor PostgreSQL disponível para implantações locais.</span><span class="sxs-lookup"><span data-stu-id="687cf-204">It's the same PostgreSQL server engine available for on-premises deployments.</span></span> <span data-ttu-id="687cf-205">Com ele, você pode criar um único banco de dados por servidor para consumir todos os recursos ou criar vários bancos de dados para compartilhar os recursos.</span><span class="sxs-lookup"><span data-stu-id="687cf-205">With it, you can create a single database per server to consume all resources or create multiple databases to share the resources.</span></span> <span data-ttu-id="687cf-206">O preço é estruturado por servidor com base nos núcleos e no armazenamento.</span><span class="sxs-lookup"><span data-stu-id="687cf-206">The pricing is structured per-server based upon cores and storage.</span></span>

- <span data-ttu-id="687cf-207">A [opção de hiperescala (Citus)](https://azure.microsoft.com/blog/get-high-performance-scaling-for-your-azure-database-workloads-with-hyperscale/) é alimentada por [Citus data](https://www.citusdata.com/)  technology.</span><span class="sxs-lookup"><span data-stu-id="687cf-207">The [Hyperscale (Citus) option](https://azure.microsoft.com/blog/get-high-performance-scaling-for-your-azure-database-workloads-with-hyperscale/) is powered by [Citus Data](https://www.citusdata.com/) technology.</span></span> <span data-ttu-id="687cf-208">Ele permite o dimensionamento de alto desempenho, dimensionando horizontalmente um único banco de dados em centenas de nós para fornecer desempenho e escala extremamente rápidos.</span><span class="sxs-lookup"><span data-stu-id="687cf-208">It enables high-performance scaling by horizontally scaling a single database across hundreds of nodes to deliver blazingly fast performance and scale.</span></span> <span data-ttu-id="687cf-209">Essa opção permite que o mecanismo caiba mais dados na memória, paraleliza consultas em centenas de nós e indexe dados mais rapidamente.</span><span class="sxs-lookup"><span data-stu-id="687cf-209">This option allows the engine to fit more data in memory, parallelize queries across hundreds of nodes, and index data faster.</span></span> <span data-ttu-id="687cf-210">O recurso de hiperescala é compatível com as inovações, versões e ferramentas mais recentes para PostgreSQL, para que você possa aproveitar sua experiência de PostgreSQL existente.</span><span class="sxs-lookup"><span data-stu-id="687cf-210">The Hyperscale feature is compatible with the latest innovations, versions, and tools for PostgreSQL, so you can leverage your existing PostgreSQL expertise.</span></span>

## <a name="cosmos-db"></a><span data-ttu-id="687cf-211">Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="687cf-211">Cosmos DB</span></span>

<span data-ttu-id="687cf-212">Azure Cosmos DB é um serviço de banco de dados NoSQL totalmente gerenciado e distribuído globalmente, projetado para fornecer baixa latência, escalabilidade elástica, consistência de dados gerenciados e alta disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="687cf-212">Azure Cosmos DB is a fully managed, globally distributed NoSQL database service that's designed to provide low latency, elastic scalability, managed data consistency, and high availability.</span></span> <span data-ttu-id="687cf-213">Em suma, se seu aplicativo precisar de tempo de resposta rápido garantido em qualquer lugar do mundo, se for necessário estar sempre online e precisar de escalabilidade ilimitada e elástica de taxa de transferência e armazenamento, Cosmos DB será uma ótima opção.</span><span class="sxs-lookup"><span data-stu-id="687cf-213">In short, if your application needs guaranteed fast response time anywhere in the world, if it's required to be always online and needs unlimited and elastic scalability of throughput and storage, Cosmos DB is a great choice.</span></span> <span data-ttu-id="687cf-214">A Figura 5-13 mostra uma visão geral de alto nível do Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="687cf-214">Figure 5-13 shows a high-level overview of Cosmos DB.</span></span>

![Visão geral do Cosmos DB](./media/cosmos-db-overview.png)

<span data-ttu-id="687cf-216">**Figura 5-13**: visão geral do cosmos DB</span><span class="sxs-lookup"><span data-stu-id="687cf-216">**Figure 5-13**: Overview of Cosmos DB</span></span>

<span data-ttu-id="687cf-217">Observe na Figura 5-13 como o Cosmos DB é um serviço de banco de dados robusto e altamente versátil com muitos recursos nativos de nuvem internos.</span><span class="sxs-lookup"><span data-stu-id="687cf-217">Note in the Figure 5-13 how Cosmos DB is a robust and highly versatile database service with many built-in cloud-native capabilities.</span></span> <span data-ttu-id="687cf-218">Nesta seção, vamos examiná-las mais detalhadamente.</span><span class="sxs-lookup"><span data-stu-id="687cf-218">In this section, we’ll take a closer look at them.</span></span>

### <a name="global-support"></a><span data-ttu-id="687cf-219">Suporte global</span><span class="sxs-lookup"><span data-stu-id="687cf-219">Global Support</span></span>

<span data-ttu-id="687cf-220">Você pode distribuir globalmente bancos de dados do cosmos em todas as regiões do Azure em todo o mundo, colocando-os perto dos seus usuários, melhorando o tempo de resposta e reduzindo a latência.</span><span class="sxs-lookup"><span data-stu-id="687cf-220">You can globally distribute Cosmos databases across all Azure regions across the world, placing data close to your users, improving response time, and reducing latency.</span></span> <span data-ttu-id="687cf-221">Você pode adicionar ou remover um banco de dados de uma região sem pausar ou reimplantar seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="687cf-221">You can add or remove a database from a region without pausing or redeploying your application.</span></span> <span data-ttu-id="687cf-222">Em segundo plano, Cosmos DB replica os dados de forma transparente para todas as regiões configuradas.</span><span class="sxs-lookup"><span data-stu-id="687cf-222">In the background, Cosmos DB transparently replicates the data to all of the configured regions.</span></span>

<span data-ttu-id="687cf-223">O Cosmos DB dá suporte ao clustering [ativo/ativo](https://kemptechnologies.com/white-papers/unfog-confusion-active-passive-activeactive-load-balancing/) no nível global, permitindo que você configure qualquer ou todas as suas regiões de banco de dados para dar suporte a gravações e leituras.</span><span class="sxs-lookup"><span data-stu-id="687cf-223">Cosmos DB supports [active/active](https://kemptechnologies.com/white-papers/unfog-confusion-active-passive-activeactive-load-balancing/) clustering at the global level, enabling you to configure any or all your database regions to support both writes and reads.</span></span>

<span data-ttu-id="687cf-224">O recurso de protocolo de [vários mestres](https://docs.microsoft.com/azure/cosmos-db/how-to-multi-master) no cosmos DB permite a seguinte funcionalidade:</span><span class="sxs-lookup"><span data-stu-id="687cf-224">The [Multi-Master](https://docs.microsoft.com/azure/cosmos-db/how-to-multi-master) protocol feature in Cosmos DB enables the following functionality:</span></span>

- <span data-ttu-id="687cf-225">Gravação e escalabilidade de leitura elástica ilimitada.</span><span class="sxs-lookup"><span data-stu-id="687cf-225">Unlimited elastic write and read scalability.</span></span>

- <span data-ttu-id="687cf-226">99,999% de disponibilidade de leitura e gravação em todo o mundo.</span><span class="sxs-lookup"><span data-stu-id="687cf-226">99.999% read and write availability all around the world.</span></span>

- <span data-ttu-id="687cf-227">Leituras e gravações Garantidas servidas em menos de 10 milissegundos no 99 º percentil.</span><span class="sxs-lookup"><span data-stu-id="687cf-227">Guaranteed reads and writes served in less than 10 milliseconds at the 99th percentile.</span></span>

<span data-ttu-id="687cf-228">Internamente, o Cosmos DB lida com a replicação de dados entre regiões com garantias de nível de consistência e contratos de nível de serviço com suporte financeiro.</span><span class="sxs-lookup"><span data-stu-id="687cf-228">Internally, Cosmos DB handles data replication between regions with consistency level guarantees and financially backed service level agreements.</span></span>

<span data-ttu-id="687cf-229">Com o Cosmos DB [APIs de hospedagem múltipla](https://docs.microsoft.com/azure/cosmos-db/distribute-data-globally), seu aplicativo pode ficar automaticamente ciente da região do Azure mais próxima e enviar solicitações para ele.</span><span class="sxs-lookup"><span data-stu-id="687cf-229">With the Cosmos DB [Multi-Homing APIs](https://docs.microsoft.com/azure/cosmos-db/distribute-data-globally), your application can automatically become aware of the nearest Azure region and send requests to it.</span></span> <span data-ttu-id="687cf-230">A região mais próxima é identificada por Cosmos DB sem nenhuma alteração de configuração.</span><span class="sxs-lookup"><span data-stu-id="687cf-230">The nearest region is identified by Cosmos DB without any configuration changes.</span></span> <span data-ttu-id="687cf-231">Se uma região ficar indisponível, Cosmos DB dá suporte ao failover automático e o recurso de hospedagem múltipla roteará automaticamente sua solicitação para a próxima região disponível mais próxima.</span><span class="sxs-lookup"><span data-stu-id="687cf-231">Should a region become unavailable, Cosmos DB supports automatic failover, and the Multi-Homing feature will automatically route your request to the next nearest available region.</span></span>

### <a name="multi-model-support"></a><span data-ttu-id="687cf-232">Suporte a vários modelos</span><span class="sxs-lookup"><span data-stu-id="687cf-232">Multi-Model Support</span></span>

<span data-ttu-id="687cf-233">O Cosmos DB é uma *plataforma de dados multimodelo* que permite que você interaja com seus dados usando vários modelos NoSQL com suporte, incluindo documentos, pares chave-valor, largura de coluna e representações de gráfico.</span><span class="sxs-lookup"><span data-stu-id="687cf-233">Cosmos DB is a *multi-model data platform* enabling you to interact with your data using a number of supported NoSQL models, including documents, key-value pairs, wide-column, and graph representations.</span></span> <span data-ttu-id="687cf-234">Internamente, os dados são armazenados em um formato [struct](https://docs.microsoft.com/dotnet/csharp/programming-guide/classes-and-structs/using-structs) simples composto por tipos de dados primitivos, incluindo cadeias de caracteres, BOOLs e números.</span><span class="sxs-lookup"><span data-stu-id="687cf-234">Internally, data is stored in a simple [struct](https://docs.microsoft.com/dotnet/csharp/programming-guide/classes-and-structs/using-structs) format made up of primitive data types, including strings, bools, and numbers.</span></span> <span data-ttu-id="687cf-235">Para cada solicitação, o mecanismo de banco de dados converte os dados na representação de modelo que você selecionou.</span><span class="sxs-lookup"><span data-stu-id="687cf-235">For each request, the database engine translates data into the model representation you have selected.</span></span> <span data-ttu-id="687cf-236">Você pode escolher entre uma API proprietária do Cosmos DB baseada em SQL ou qualquer uma das [APIs de compatibilidade](https://www.wikiwand.com/en/Cosmos_DB) mostradas na Figura 5-14.</span><span class="sxs-lookup"><span data-stu-id="687cf-236">You can choose from a proprietary Cosmos DB SQL-based API or any of the [compatibility APIs](https://www.wikiwand.com/en/Cosmos_DB) shown in Figure 5-14.</span></span>

![Provedores de Cosmos DB](./media/cosmos-db-providers.png)

<span data-ttu-id="687cf-238">**Figura 5-14**: provedores de Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="687cf-238">**Figure 5-14**: Cosmos DB providers</span></span>

<span data-ttu-id="687cf-239">Observação na Figura 5-14 como o Cosmos DB dá suporte ao [armazenamento de tabela](https://azure.microsoft.com/services/storage/tables/).</span><span class="sxs-lookup"><span data-stu-id="687cf-239">Note in Figure 5-14 how Cosmos DB supports [Table Storage](https://azure.microsoft.com/services/storage/tables/).</span></span> <span data-ttu-id="687cf-240">Tanto Cosmos DB quanto o [armazenamento de tabelas do Azure](https://docs.microsoft.com/azure/cosmos-db/table-storage-overview) compartilham o mesmo modelo de tabela subjacente e expõem muitas das mesmas operações de tabela.</span><span class="sxs-lookup"><span data-stu-id="687cf-240">Both Cosmos DB and [Azure Table Storage](https://docs.microsoft.com/azure/cosmos-db/table-storage-overview) share the same underlying table model and expose many of the same table operations.</span></span> <span data-ttu-id="687cf-241">No entanto, o [Cosmos DB API de tabela](https://docs.microsoft.com/azure/cosmos-db/table-introduction) fornece muitos aprimoramentos Premium não disponíveis na API de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="687cf-241">However, the [Cosmos DB Table API](https://docs.microsoft.com/azure/cosmos-db/table-introduction) provides many premium enhancements not available in the Azure Storage API.</span></span> <span data-ttu-id="687cf-242">Esses recursos estão em contraste com a Figura 5-15.</span><span class="sxs-lookup"><span data-stu-id="687cf-242">These features are contrasted in Figure 5-15.</span></span>

![API de Tabela do Azure](./media/azure-table-api.png)

<span data-ttu-id="687cf-244">**Figura 5-15**: API de tabela do Azure</span><span class="sxs-lookup"><span data-stu-id="687cf-244">**Figure 5-15**: Azure Table API</span></span>

<span data-ttu-id="687cf-245">Os aplicativos escritos para o armazenamento de tabelas do Azure podem migrar para Azure Cosmos DB usando o API de Tabela sem alterações de código.</span><span class="sxs-lookup"><span data-stu-id="687cf-245">Applications written for Azure Table storage can migrate to Azure Cosmos DB by using the Table API with no code changes.</span></span>

<span data-ttu-id="687cf-246">Nos cenários de aplicativos [Brownfield](https://en.wikipedia.org/wiki/Brownfield_(software_development)) , as equipes de desenvolvimento podem migrar os bancos de dados Mongo, Gremlin ou Cassandra existentes para Cosmos DB com alterações mínimas no código do aplicativo ou dos aplicativos existentes.</span><span class="sxs-lookup"><span data-stu-id="687cf-246">In [Brownfield](https://en.wikipedia.org/wiki/Brownfield_(software_development)) application scenarios, development teams can migrate existing Mongo, Gremlin, or Cassandra databases into Cosmos DB with minimal changes to the existing data or application code.</span></span> <span data-ttu-id="687cf-247">Para cenários [Greenfield](https://en.wikipedia.org/wiki/Greenfield_project) , as equipes de desenvolvimento podem escolher o modelo de dados que melhor atenda aos seus requisitos e preferências, incluindo opções de software livre totalmente suportadas para as plataformas MongoDB, Cassandra e Gremlin.</span><span class="sxs-lookup"><span data-stu-id="687cf-247">For [Greenfield](https://en.wikipedia.org/wiki/Greenfield_project) scenarios, development teams can choose the data model that best meets their requirements and preferences, including fully supported open-source options for the MongoDB, Cassandra, and Gremlin platforms.</span></span>

### <a name="consistency-models"></a><span data-ttu-id="687cf-248">Modelos de consistência</span><span class="sxs-lookup"><span data-stu-id="687cf-248">Consistency Models</span></span>

<span data-ttu-id="687cf-249">Anteriormente, na seção *relacional versus NoSQL* , discutimos o assunto da *consistência de dados*, que é um termo que se refere à integridade de seus dados.</span><span class="sxs-lookup"><span data-stu-id="687cf-249">Earlier in the *Relational versus NoSQL* section, we discussed the subject of *data consistency*, which is a term that refers to the integrity of your data.</span></span> <span data-ttu-id="687cf-250">Os bancos de dados distribuídos que dependem da replicação para alta disponibilidade, baixa latência ou ambos, devem tomar uma compensação fundamental entre consistência de leitura, disponibilidade e latência.</span><span class="sxs-lookup"><span data-stu-id="687cf-250">Distributed databases that rely on replication for high availability, low latency, or both, must make a fundamental tradeoff between read consistency, availability, and latency.</span></span>

<span data-ttu-id="687cf-251">A maioria dos bancos de dados distribuídos permite que os desenvolvedores escolham entre dois modelos de consistência: [consistência forte](https://en.wikipedia.org/wiki/Strong_consistency) e [consistência eventual](https://en.wikipedia.org/wiki/Eventual_consistency).</span><span class="sxs-lookup"><span data-stu-id="687cf-251">Most distributed databases allow developers to choose between two consistency models: [strong consistency](https://en.wikipedia.org/wiki/Strong_consistency) and [eventual consistency](https://en.wikipedia.org/wiki/Eventual_consistency).</span></span> <span data-ttu-id="687cf-252">A *consistência forte* é o padrão ouro de programação de dados.</span><span class="sxs-lookup"><span data-stu-id="687cf-252">*Strong consistency* is the gold standard of data programmability.</span></span> <span data-ttu-id="687cf-253">Ele garante que um resultado da consulta sempre retornará os dados mais atuais, mesmo que o sistema deva incorrer em latência aguardando que uma atualização seja replicada em todas as cópias de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="687cf-253">It guarantees that a query result will always return the most current data, even if  the system must incur latency waiting for an update to replicate across all database copies.</span></span> <span data-ttu-id="687cf-254">Por outro lado, um sistema configurado para *consistência eventual* retornará dados imediatamente, mesmo que os dados não sejam a cópia mais atual.</span><span class="sxs-lookup"><span data-stu-id="687cf-254">On the other hand, a system configured for *eventual consistency* will return data immediately, even if that data isn't the most current copy.</span></span> <span data-ttu-id="687cf-255">Essa opção permite maior disponibilidade, maior escala e melhor desempenho.</span><span class="sxs-lookup"><span data-stu-id="687cf-255">This option enables higher availability, greater scale, and increased performance.</span></span>

<span data-ttu-id="687cf-256">O Azure Cosmos DB oferece um espectro de [cinco modelos de consistência bem definidos](https://docs.microsoft.com/azure/cosmos-db/consistency-levels) mostrados na Figura 5-16.</span><span class="sxs-lookup"><span data-stu-id="687cf-256">Azure Cosmos DB offers a spectrum of [five well-defined consistency models](https://docs.microsoft.com/azure/cosmos-db/consistency-levels) shown in Figure 5-16.</span></span> <span data-ttu-id="687cf-257">Essas opções permitem que você faça opções precisas e compensações granulares em relação à disponibilidade e ao desempenho com base nas necessidades do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="687cf-257">These options enable you to make precise choices and granular tradeoffs with respect to availability and performance based on the needs of your application.</span></span> <span data-ttu-id="687cf-258">Esses modelos são bem definidos, intuitivos e apoiados pelos SLAs (contratos de nível de serviço).</span><span class="sxs-lookup"><span data-stu-id="687cf-258">These models are well-defined, intuitive, and backed by the service level agreements (SLAs).</span></span>

![Níveis de consistência do Cosmos DB](./media/cosmos-db-consistency-levels.png)

<span data-ttu-id="687cf-260">**Figura 5-16**: níveis de consistência de Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="687cf-260">**Figure 5-16**: Cosmos DB Consistency Levels</span></span>

### <a name="partitioning"></a><span data-ttu-id="687cf-261">Divisão</span><span class="sxs-lookup"><span data-stu-id="687cf-261">Partitioning</span></span>

<span data-ttu-id="687cf-262">O Azure Cosmos DB usa o [particionamento](https://docs.microsoft.com/azure/cosmos-db/partitioning-overview) automático para dimensionar o banco de dados para atender às necessidades de desempenho do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="687cf-262">Azure Cosmos DB uses automatic [partitioning](https://docs.microsoft.com/azure/cosmos-db/partitioning-overview) to scale the database to meet the performance needs of your application.</span></span>

<span data-ttu-id="687cf-263">Você gerencia dados em Cosmos DB dados criando bancos de dados [, contêineres e itens](https://docs.microsoft.com/azure/cosmos-db/databases-containers-items), mostrados na Figura 5-17.</span><span class="sxs-lookup"><span data-stu-id="687cf-263">You manage data in Cosmos DB data by creating [databases, containers, and items](https://docs.microsoft.com/azure/cosmos-db/databases-containers-items), shown in Figure 5-17.</span></span>

![Entidades de Cosmos DB](./media/cosmos-db-entities.png)

<span data-ttu-id="687cf-265">**Figura 5-17**: hierarquia de entidades de Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="687cf-265">**Figure 5-17**: Hierarchy of Cosmos DB entities</span></span>

<span data-ttu-id="687cf-266">Observação na Figura 5-17 como você começa criando um banco de dados Cosmos DB dentro de uma conta de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="687cf-266">Note in Figure 5-17 how you start by creating a Cosmos DB database inside of a database account.</span></span> <span data-ttu-id="687cf-267">Esse banco de dados se torna a unidade de gerenciamento para um conjunto de contêineres.</span><span class="sxs-lookup"><span data-stu-id="687cf-267">That database becomes the unit of management for a set of containers.</span></span> <span data-ttu-id="687cf-268">Um contêiner é um agrupamento independente de esquema de itens que podem ser expressos como uma coleção, tabela ou gráfico, com base no provedor de API selecionado (discutido na seção anterior).</span><span class="sxs-lookup"><span data-stu-id="687cf-268">A container is a schema-agnostic grouping of items that can be expressed as a collection, table, or graph, based on your selected API provider (discussed in the prior section).</span></span> <span data-ttu-id="687cf-269">Os itens são os dados que você adiciona ao contêiner e são representados como documentos, linhas, nós ou bordas.</span><span class="sxs-lookup"><span data-stu-id="687cf-269">Items are the data that you add to the container and are represented as documents, rows, nodes, or edges.</span></span> <span data-ttu-id="687cf-270">Por padrão, todos os itens que você adiciona a um contêiner são indexados automaticamente sem a necessidade de um índice explícito ou gerenciamento de esquema.</span><span class="sxs-lookup"><span data-stu-id="687cf-270">By default, all items that you add to a container are automatically indexed without requiring explicit index or schema management.</span></span>

<span data-ttu-id="687cf-271">Para particionar o contêiner, os itens são divididos em subconjuntos distintos chamados [partições lógicas](https://docs.microsoft.com/azure/cosmos-db/partition-data).</span><span class="sxs-lookup"><span data-stu-id="687cf-271">To partition the container, items are divided into distinct subsets called [logical partitions](https://docs.microsoft.com/azure/cosmos-db/partition-data).</span></span> <span data-ttu-id="687cf-272">As partições lógicas são criadas com base no valor de uma chave de partição associada a cada item em um contêiner.</span><span class="sxs-lookup"><span data-stu-id="687cf-272">Logical partitions are created based on the value of a partition key that is associated with each item in a container.</span></span> <span data-ttu-id="687cf-273">A Figura 5-18 mostra como todos os itens em uma partição lógica têm o mesmo valor de chave de partição.</span><span class="sxs-lookup"><span data-stu-id="687cf-273">Figure 5-18 shows how all items in a logical partition have the same partition key value.</span></span>

![Mecânica de particionamento de Cosmos DB](./media/cosmos-db-partitioning.png)

<span data-ttu-id="687cf-275">**Figura 5-18**: Cosmos dB a mecânica de particionamento</span><span class="sxs-lookup"><span data-stu-id="687cf-275">**Figure 5-18**: Cosmos DB partitioning mechanics</span></span>

<span data-ttu-id="687cf-276">Observação na Figura 5-18 como cada item inclui uma chave de partição de ' City ' ou ' Airport '.</span><span class="sxs-lookup"><span data-stu-id="687cf-276">Note in Figure 5-18 how each item includes a partition key of either ‘city’ or ‘airport’.</span></span> <span data-ttu-id="687cf-277">Essa chave de partição determina a partição lógica do item.</span><span class="sxs-lookup"><span data-stu-id="687cf-277">This partition key determines the item’s logical partition.</span></span> <span data-ttu-id="687cf-278">Cada código de cidade é atribuído a uma partição lógica no contêiner no lado esquerdo e àqueles com um código de aeroporto para o contêiner à direita.</span><span class="sxs-lookup"><span data-stu-id="687cf-278">Each city code is assigned to a logical partition in the container on the left-side and those with an airport code to the container on the right.</span></span> <span data-ttu-id="687cf-279">A combinação do valor da chave de partição com o valor de ID de um item cria o índice do item, que identifica exclusivamente o item.</span><span class="sxs-lookup"><span data-stu-id="687cf-279">Combining the partition key value with an item's ID value creates the item's index, which uniquely identifies the item.</span></span>

<span data-ttu-id="687cf-280">Internamente, Cosmos DB gerencia automaticamente o posicionamento de [partições lógicas](https://docs.microsoft.com/azure/cosmos-db/partition-data) em [partições físicas](https://docs.microsoft.com/azure/cosmos-db/partition-data) para atender com eficiência às necessidades de escalabilidade e desempenho do contêiner.</span><span class="sxs-lookup"><span data-stu-id="687cf-280">Internally, Cosmos DB automatically manages the placement of [logical partitions](https://docs.microsoft.com/azure/cosmos-db/partition-data) on [physical partitions](https://docs.microsoft.com/azure/cosmos-db/partition-data) to efficiently satisfy the scalability and performance needs of the container.</span></span> <span data-ttu-id="687cf-281">À medida que os requisitos de taxa de transferência e armazenamento de um aplicativo aumentam, Azure Cosmos DB move partições lógicas para redistribuir a carga em um número maior de servidores.</span><span class="sxs-lookup"><span data-stu-id="687cf-281">As the throughput and storage requirements of an application increase, Azure Cosmos DB moves logical partitions to redistribute the load across a greater number of servers.</span></span> <span data-ttu-id="687cf-282">Essas operações de redistribuição são gerenciadas pelo Cosmos DB e são executadas sem nenhuma interrupção ou tempo de inatividade.</span><span class="sxs-lookup"><span data-stu-id="687cf-282">These redistribution operations are managed by Cosmos DB and are performed without any interruption or downtime.</span></span>

## <a name="azure-redis-cache"></a><span data-ttu-id="687cf-283">Cache Redis do Azure</span><span class="sxs-lookup"><span data-stu-id="687cf-283">Azure Redis Cache</span></span>

<span data-ttu-id="687cf-284">Os benefícios do armazenamento em cache para melhorar o desempenho e a escalabilidade são bem compreendidos.</span><span class="sxs-lookup"><span data-stu-id="687cf-284">The benefits of caching to improve performance and scalability are well understood.</span></span>

<span data-ttu-id="687cf-285">Para um aplicativo nativo de nuvem, um local comum para adicionar o cache está dentro do gateway de API.</span><span class="sxs-lookup"><span data-stu-id="687cf-285">For a cloud-native application, a common location to add caching is inside the API Gateway.</span></span> <span data-ttu-id="687cf-286">O gateway serve como um front-end para todas as solicitações de entrada.</span><span class="sxs-lookup"><span data-stu-id="687cf-286">The gateway serves as a front end for all incoming requests.</span></span> <span data-ttu-id="687cf-287">Ao adicionar o cache, você pode aumentar o desempenho e a capacidade de resposta retornando dados armazenados em cache e evitando viagens de ida e volta para um banco de dados local ou um serviço downstream.</span><span class="sxs-lookup"><span data-stu-id="687cf-287">By adding caching, you can increase performance and responsiveness by returning cached data and avoiding round-trips to a local database or downstream service.</span></span> <span data-ttu-id="687cf-288">A Figura 5-19 mostra uma arquitetura de cache para um aplicativo nativo de nuvem.</span><span class="sxs-lookup"><span data-stu-id="687cf-288">Figure 5-19 shows a caching architecture for a cloud-native application.</span></span>

![Caching em um aplicativo nativo de nuvem](./media/caching-in-a-cloud-native-app.png)

<span data-ttu-id="687cf-290">**Figura 5-19**: Caching em um aplicativo nativo de nuvem</span><span class="sxs-lookup"><span data-stu-id="687cf-290">**Figure 5-19**: Caching in a cloud-native app</span></span>

<span data-ttu-id="687cf-291">Um padrão de cache comum é o [padrão de reserva de cache](https://docs.microsoft.com/azure/architecture/patterns/cache-aside).</span><span class="sxs-lookup"><span data-stu-id="687cf-291">A common caching pattern is the [cache-aside pattern](https://docs.microsoft.com/azure/architecture/patterns/cache-aside).</span></span> <span data-ttu-id="687cf-292">Para uma solicitação de entrada, primeiro você consulta o cache para a resposta, mostrada na etapa #1 na Figura 5-19.</span><span class="sxs-lookup"><span data-stu-id="687cf-292">For an incoming request, you first query the cache for the response, shown in step #1 in Figure 5-19.</span></span> <span data-ttu-id="687cf-293">Se for encontrado, os dados serão retornados imediatamente.</span><span class="sxs-lookup"><span data-stu-id="687cf-293">If found, the data is returned immediately.</span></span> <span data-ttu-id="687cf-294">Se os dados não existirem no cache (conhecido como [erro de cache](https://www.techopedia.com/definition/6308/cache-miss)), eles são recuperados do banco de dados local ou do serviço downstream (etapa #2), gravados no cache para solicitações futuras (etapa #3) e retornados ao chamador.</span><span class="sxs-lookup"><span data-stu-id="687cf-294">If the data doesn't exist in the cache (known as a [cache miss](https://www.techopedia.com/definition/6308/cache-miss)), it's retrieved from the local database or downstream service (step #2), written to the cache for future requests (step #3), and returned to the caller.</span></span> <span data-ttu-id="687cf-295">Deve-se ter cuidado para remover periodicamente os dados armazenados em cache para que o sistema permaneça consistente e preciso.</span><span class="sxs-lookup"><span data-stu-id="687cf-295">Care must be taken to periodically evict cached data so that the system remains consistent and accurate.</span></span>

<span data-ttu-id="687cf-296">Além disso, observe na Figura 5-19 como o cache não é implementado localmente dentro dos limites do serviço, mas, em vez disso, é consumido como um serviço de backup baseado em nuvem, conforme discutido no capítulo 1.</span><span class="sxs-lookup"><span data-stu-id="687cf-296">Additionally, note in Figure 5-19 how the cache isn't implemented locally within the boundaries of the service, but instead is consumed as a cloud-based backing service, as discussed in Chapter 1.</span></span>

<span data-ttu-id="687cf-297">O [cache Redis do Azure](https://azure.microsoft.com/services/cache/) é um serviço de agente de mensagens e cache de dados.</span><span class="sxs-lookup"><span data-stu-id="687cf-297">[Azure Redis Cache](https://azure.microsoft.com/services/cache/) is a data caching and messaging broker service.</span></span> <span data-ttu-id="687cf-298">Ele fornece alta taxa de transferência e acesso de baixa latência aos dados para aplicativos.</span><span class="sxs-lookup"><span data-stu-id="687cf-298">It provides high throughput and low-latency access to data for applications.</span></span> <span data-ttu-id="687cf-299">Ele é totalmente gerenciado pela Microsoft, hospedado no Azure e acessível a qualquer aplicativo dentro ou fora do Azure.</span><span class="sxs-lookup"><span data-stu-id="687cf-299">It's fully managed by Microsoft, hosted within Azure, and accessible to any application within or outside of Azure.</span></span>

<span data-ttu-id="687cf-300">Internamente, o cache do Azure para Redis é apoiado pelo [servidor Redis](https://redis.io/) de código-fonte aberto e oferece suporte nativo a estruturas de dados como [cadeias de caracteres](https://redis.io/topics/data-types#strings), [hashes](https://redis.io/topics/data-types#hashes), [listas](https://redis.io/topics/data-types#sets), [conjuntos](https://redis.io/topics/data-types#sets)e [conjuntos classificados](https://redis.io/topics/data-types#sorted-sets).</span><span class="sxs-lookup"><span data-stu-id="687cf-300">Internally, Azure Cache for Redis is backed by the open-source [Redis server](https://redis.io/) and natively supports data structures such as [strings](https://redis.io/topics/data-types#strings), [hashes](https://redis.io/topics/data-types#hashes), [lists](https://redis.io/topics/data-types#sets), [sets](https://redis.io/topics/data-types#sets), and [sorted sets](https://redis.io/topics/data-types#sorted-sets).</span></span> <span data-ttu-id="687cf-301">Se seu aplicativo usar Redis, ele funcionará no estado em que se encontra com o cache do Azure para Redis.</span><span class="sxs-lookup"><span data-stu-id="687cf-301">If your application uses Redis, it will work as-is with Azure Cache for Redis.</span></span>

<span data-ttu-id="687cf-302">O cache do Azure para Redis também pode ser usado como um cache de dados na memória, um banco de dado não relacional distribuído e um agente de mensagem.</span><span class="sxs-lookup"><span data-stu-id="687cf-302">Azure Cache for Redis can also be used as an in-memory data cache, a distributed non-relational database, and a message broker.</span></span> <span data-ttu-id="687cf-303">Ele está disponível em três tipos de preço diferentes.</span><span class="sxs-lookup"><span data-stu-id="687cf-303">It's available in three different pricing tiers.</span></span> <span data-ttu-id="687cf-304">A camada Premium apresenta muitos recursos de nível empresarial, como clustering, persistência de dados, replicação geográfica e segurança e isolamento de rede virtual.</span><span class="sxs-lookup"><span data-stu-id="687cf-304">The Premium tier features many enterprise-level features such as clustering, data persistence, geo-replication, and Virtual-network security and isolation.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="687cf-305">[Anterior](data-patterns.md)
>[Próximo](resiliency.md)</span><span class="sxs-lookup"><span data-stu-id="687cf-305">[Previous](data-patterns.md)
[Next](resiliency.md)</span></span>
