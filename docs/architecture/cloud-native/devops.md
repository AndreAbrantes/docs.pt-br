---
title: DevOps nativo de nuvem
description: Arquitetando aplicativos .NET nativos da nuvem para o Azure | DevOps nativo de nuvem
ms.date: 06/30/2019
ms.openlocfilehash: d152989061964d78c8be97b69df413b975058319
ms.sourcegitcommit: 30a558d23e3ac5a52071121a52c305c85fe15726
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/25/2019
ms.locfileid: "75337408"
---
# <a name="cloud-native-devops"></a><span data-ttu-id="e0e3e-103">DevOps nativo de nuvem</span><span class="sxs-lookup"><span data-stu-id="e0e3e-103">Cloud Native DevOps</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="e0e3e-104">A mantra favorita dos consultores de software é responder "depende" de qualquer pergunta apresentada.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-104">The favorite mantra of software consultants is to answer "It depends" to any question posed.</span></span> <span data-ttu-id="e0e3e-105">Não é porque os consultores de software estão boass de não tomar uma posição.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-105">It isn't because software consultants are fond of not taking a position.</span></span> <span data-ttu-id="e0e3e-106">É porque não há uma resposta verdadeira para qualquer pergunta no software.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-106">It's because there's no one true answer to any questions in software.</span></span> <span data-ttu-id="e0e3e-107">Não há nenhum direito absoluto e errado, mas sim um equilíbrio entre os opostos.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-107">There's no absolute right and wrong, but rather a balance between opposites.</span></span>

<span data-ttu-id="e0e3e-108">Considere, por exemplo, as duas principais escolas do desenvolvimento de aplicativos Web: SPAs (aplicativos de página única) versus aplicativos do lado do servidor.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-108">Take, for instance, the two major schools of developing web applications: Single Page Applications (SPAs) versus server-side applications.</span></span> <span data-ttu-id="e0e3e-109">Por um lado, a experiência do usuário tende a ser melhor com o SPAs e a quantidade de tráfego para o servidor Web pode ser minimizada, tornando possível hospedá-los em algo tão simples quanto a hospedagem estática.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-109">On the one hand, the user experience tends to be better with SPAs and the amount of traffic to the web server can be minimized making it possible to host them on something as simple as static hosting.</span></span> <span data-ttu-id="e0e3e-110">Por outro lado, SPAs tendem a ser mais lentos de desenvolver e mais difíceis de testar.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-110">On the other hand, SPAs tend to be slower to develop and more difficult to test.</span></span> <span data-ttu-id="e0e3e-111">Qual é a escolha certa?</span><span class="sxs-lookup"><span data-stu-id="e0e3e-111">Which one is the right choice?</span></span> <span data-ttu-id="e0e3e-112">Bem, depende de sua situação.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-112">Well, it depends on your situation.</span></span>

<span data-ttu-id="e0e3e-113">Os aplicativos nativos de nuvem não estão imunes ao mesmo dicotomia.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-113">Cloud-native applications aren't immune to that same dichotomy.</span></span> <span data-ttu-id="e0e3e-114">Eles têm vantagens claras em termos de velocidade de desenvolvimento, estabilidade e escalabilidade, mas gerenciá-los pode ser um pouco mais difícil.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-114">They have clear advantages in terms of speed of development, stability, and scalability, but managing them can be quite a bit more difficult.</span></span>

<span data-ttu-id="e0e3e-115">Há anos, não era incomum o processo de mover um aplicativo de desenvolvimento para produção para levar um mês ou ainda mais.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-115">Years ago, it wasn't uncommon for the process of moving an application from development to production to take a month, or even more.</span></span> <span data-ttu-id="e0e3e-116">As empresas lançaram software em uma cadência de 6 meses ou até mesmo a cada ano.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-116">Companies released software on a 6-month or even every year cadence.</span></span> <span data-ttu-id="e0e3e-117">Uma delas não precisa olhar além do Microsoft Windows para ter uma ideia da cadência das versões que eram aceitáveis antes dos dias do Windows 10 em verde.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-117">One needs to look no further than Microsoft Windows to get an idea for the cadence of releases that were acceptable before the ever-green days of Windows 10.</span></span> <span data-ttu-id="e0e3e-118">Cinco anos passados entre o Windows XP e o vista, mais 3 entre o Vista e o Windows 7.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-118">Five years passed between Windows XP and Vista, a further 3 between Vista and Windows 7.</span></span>

<span data-ttu-id="e0e3e-119">Agora, é bem estabelecido que ser capaz de lançar o software rapidamente dá às empresas de movimentação rápida uma enorme vantagem do mercado em relação a seus concorrentes mais sloths.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-119">It's now fairly well established that being able to release software rapidly gives fast-moving companies a huge market advantage over their more sloth-like competitors.</span></span> <span data-ttu-id="e0e3e-120">É por esse motivo que as principais atualizações do Windows 10 agora são aproximadamente a cada seis meses.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-120">It's for that reason that major updates to Windows 10 are now approximately every six months.</span></span>

<span data-ttu-id="e0e3e-121">Os padrões e as práticas que permitem uma liberação mais rápida e confiável para agregar valor aos negócios são coletivamente conhecidos como DevOps.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-121">The patterns and practices that enable faster, more reliable releases to deliver value to the business are collectively known as DevOps.</span></span> <span data-ttu-id="e0e3e-122">Eles consistem em uma ampla gama de ideias que abrangem todo o ciclo de vida do desenvolvimento de software, desde a especificação de um aplicativo até a entrega e operação desse aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-122">They consist of a wide range of ideas spanning the entire software development life cycle from specifying an application all the way up to delivering and operating that application.</span></span>

<span data-ttu-id="e0e3e-123">DevOps surgiu antes dos microserviços e é provável que o movimento em direção ao menor, mais se ajuste aos serviços de finalidade não teria sido possível sem DevOps para fazer o lançamento e operar não apenas um, mas muitos aplicativos na produção.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-123">DevOps emerged before microservices and it's likely that the movement towards smaller, more fit to purpose services wouldn't have been possible without DevOps to make releasing and operating not just one but many applications in production easier.</span></span>

![Figura 11-0 as tendências de pesquisa mostram que o crescimento em microserviços não começa até que DevOps seja uma ideia bem estabelecida.](./media/microservices-vs-devops.png)

<span data-ttu-id="e0e3e-125">Por meio de boas práticas de DevOps, é possível perceber as vantagens dos aplicativos nativos de nuvem sem Suffocating em uma montanha de trabalho que realmente opera os aplicativos.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-125">Through good DevOps practices, it's possible to realize the advantages of cloud-native applications without suffocating under a mountain of work actually operating the applications.</span></span>

<span data-ttu-id="e0e3e-126">Não há um martelo de ouro quando se trata de DevOps.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-126">There's no golden hammer when it comes to DevOps.</span></span> <span data-ttu-id="e0e3e-127">Ninguém pode vender uma solução completa e totalmente abrangente para liberar e operar aplicativos de alta qualidade.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-127">Nobody can sell a complete and all-encompassing solution for releasing and operating high-quality applications.</span></span> <span data-ttu-id="e0e3e-128">Isso ocorre porque cada aplicativo é muito diferente de todos os outros.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-128">This is because each application is wildly different from all others.</span></span> <span data-ttu-id="e0e3e-129">No entanto, há ferramentas que podem tornar o DevOps uma proposta muito menos assustadora.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-129">However, there are tools that can make DevOps a far less daunting proposition.</span></span> <span data-ttu-id="e0e3e-130">Uma dessas ferramentas é conhecida como Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-130">One of these tools is known as Azure DevOps.</span></span>

## <a name="azure-devops"></a><span data-ttu-id="e0e3e-131">Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="e0e3e-131">Azure DevOps</span></span>

<span data-ttu-id="e0e3e-132">O Azure DevOps tem um longo pedigree.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-132">Azure DevOps has a long pedigree.</span></span> <span data-ttu-id="e0e3e-133">Ele pode rastrear suas raízes de volta para quando Team Foundation Server movidos pela primeira vez online e pelas várias alterações de nome: Visual Studio online e Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-133">It can trace its roots back to when Team Foundation Server first moved online and through the various name changes: Visual Studio Online and Visual Studio Team Services.</span></span> <span data-ttu-id="e0e3e-134">Ao longo dos anos, no entanto, ele se tornou muito mais do que seus antecessores.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-134">Through the years, however, it has become far more than its predecessors.</span></span>

<span data-ttu-id="e0e3e-135">O Azure DevOps é dividido em cinco componentes principais:</span><span class="sxs-lookup"><span data-stu-id="e0e3e-135">Azure DevOps is divided into five major components:</span></span>

![Figura 11-1 as cinco áreas principais do Azure DevOps](./media/devops-components.png)

<span data-ttu-id="e0e3e-137">**Azure boards** -fornece um problema e uma ferramenta de acompanhamento de itens de trabalho que se esforça para permitir que os usuários escolham os fluxos que funcionam melhor para eles.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-137">**Azure Boards** - Provides an issue and work item tracking tool that strives to allow users to pick the workflows that work best for them.</span></span> <span data-ttu-id="e0e3e-138">Ele vem com vários modelos pré-configurados, incluindo aqueles para oferecer suporte a estilos de desenvolvimento e do SCRUM.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-138">It comes with a number of pre-configured templates including ones to support SCRUM and Kanban styles of development.</span></span>

<span data-ttu-id="e0e3e-139">**Azure Repos** -gerenciamento de código-fonte que dá suporte ao TFVC (respeitável controle de versão do Team Foundation) e ao git favorito do setor.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-139">**Azure Repos** - Source code management that supports the venerable Team Foundation Version Control (TFVC) and the industry favorite git.</span></span> <span data-ttu-id="e0e3e-140">As solicitações de pull fornecem uma maneira de habilitar a codificação social, estimulando a discussão sobre alterações à medida que elas são feitas.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-140">Pull requests provide a way to enable social coding by fostering discussion of changes as they're made.</span></span>

<span data-ttu-id="e0e3e-141">**Azure pipelines** -um sistema de gerenciamento de versão e compilação que dá suporte à integração rígida com o Azure.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-141">**Azure Pipelines** - A build and release management system that supports tight integration with Azure.</span></span> <span data-ttu-id="e0e3e-142">As compilações podem ser executadas em uma variedade de plataformas do Windows para Linux para MacOS.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-142">Builds can be run on a variety of platforms from Windows to Linux to MacOS.</span></span> <span data-ttu-id="e0e3e-143">Os agentes de compilação podem ser provisionados na nuvem ou localmente.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-143">Build agents may be provisioned in the cloud or on-premises.</span></span>

<span data-ttu-id="e0e3e-144">**Azure Test Plans** -nenhuma pessoa de QA será deixada com o suporte de teste de gerenciamento de teste e exploratório oferecido pelo recurso de Test Plans.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-144">**Azure Test Plans** - No QA person will be left behind with the test management and exploratory testing support offered by the Test Plans feature.</span></span>

<span data-ttu-id="e0e3e-145">**Azure Artifacts** -um feed de artefatos que permite que as empresas criem suas próprias versões internas do NuGet, NPM e outras.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-145">**Azure Artifacts** - An artifact feed that allows companies to create their own, internal, versions of NuGet, npm, and others.</span></span> <span data-ttu-id="e0e3e-146">Ele atende a uma dupla finalidade de atuar como um cache de pacotes upstream, se houver uma falha de um repositório centralizado.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-146">It serves a double purpose of acting as a cache of upstream packages if there's a failure of a centralized repository.</span></span>

<span data-ttu-id="e0e3e-147">A unidade organizacional de nível superior no Azure DevOps é conhecida como um projeto.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-147">The top-level organizational unit in Azure DevOps is known as a Project.</span></span> <span data-ttu-id="e0e3e-148">Dentro de cada projeto, os vários componentes, como Azure Artifacts, podem ser ativados e desativados.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-148">Within each project the various components, such as Azure Artifacts, can be turned on and off.</span></span> <span data-ttu-id="e0e3e-149">Se os usuários desejarem gerenciar seu código-fonte no GitHub, mas ainda tirar proveito de Azure Pipelines, isso é perfeitamente possível.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-149">If users want to manage their source code in GitHub but still take advantage of Azure Pipelines, then that's perfectly possible.</span></span> <span data-ttu-id="e0e3e-150">Na verdade, muitos projetos de código aberto aproveitam as [compilações gratuitas](https://azure.microsoft.com/blog/announcing-azure-pipelines-with-unlimited-ci-cd-minutes-for-open-source/) oferecidas pelo Azure DevOps enquanto mantém seu código-fonte no github.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-150">In fact, many open-source projects leverage the [free builds](https://azure.microsoft.com/blog/announcing-azure-pipelines-with-unlimited-ci-cd-minutes-for-open-source/) offered by Azure DevOps while keeping their source code on GitHub.</span></span> <span data-ttu-id="e0e3e-151">Alguns projetos significativos de código aberto, como [Visual Studio Code](https://code.visualstudio.com/), [yarn](https://yarnpkg.com/en/), [Gulp](https://gulpjs.com/)e [numpy](https://www.numpy.org/) , fizeram a transição.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-151">Some significant open-source projects such as [Visual Studio Code](https://code.visualstudio.com/), [yarn](https://yarnpkg.com/en/), [gulp](https://gulpjs.com/), and [NumPy](https://www.numpy.org/) have made the transition.</span></span>

<span data-ttu-id="e0e3e-152">Cada um desses componentes fornece algumas vantagens para aplicativos nativos de nuvem, mas os três mais úteis são o controle de origem, placas e pipelines.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-152">Each of these components provides some advantages for cloud-native applications, but the three most useful are the source control, boards and pipelines.</span></span>  

## <a name="source-control"></a><span data-ttu-id="e0e3e-153">Controle do código-fonte</span><span class="sxs-lookup"><span data-stu-id="e0e3e-153">Source control</span></span>

<span data-ttu-id="e0e3e-154">Organizar o código para um aplicativo nativo de nuvem pode ser desafiador.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-154">Organizing the code for a cloud-native application can be challenging.</span></span> <span data-ttu-id="e0e3e-155">Em vez de um único aplicativo gigante, os aplicativos nativos de nuvem tendem a ser compostos por uma Web de aplicativos menores que se comunicam entre si.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-155">Instead of a single giant application, the cloud-native applications tend to be made up of a web of smaller applications that talk with one another.</span></span> <span data-ttu-id="e0e3e-156">Assim como acontece com tudo em computação, a melhor disposição do código continua sendo uma pergunta aberta.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-156">As with all things in computing, the best arrangement of code remains an open question.</span></span> <span data-ttu-id="e0e3e-157">Há exemplos de aplicativos bem-sucedidos usando diferentes tipos de layouts, mas duas variantes parecem ter a maior popularidade.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-157">There are examples of successful applications using different kinds of layouts, but two variants seem to have the most popularity.</span></span>

<span data-ttu-id="e0e3e-158">Antes de entrar no controle do código-fonte propriamente dito, provavelmente vale a pena decidir quantos projetos são apropriados.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-158">Before getting down into the actual source control itself, it's probably worth deciding on how many projects are appropriate.</span></span> <span data-ttu-id="e0e3e-159">Em um único projeto, há suporte para vários repositórios e pipelines de compilação.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-159">Within a single project, there's support for multiple repositories, and build pipelines.</span></span> <span data-ttu-id="e0e3e-160">As placas são um pouco mais complicadas, mas sim, as tarefas podem ser facilmente atribuídas a várias equipes dentro de um único projeto.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-160">Boards are a little more complicated, but there too, the tasks can easily be assigned to multiple teams within a single project.</span></span> <span data-ttu-id="e0e3e-161">Certamente é possível dar suporte a centenas, até milhares de desenvolvedores, de um único projeto DevOps do Azure.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-161">It's certainly possible to support hundreds, even thousands of developers, out of a single Azure DevOps project.</span></span> <span data-ttu-id="e0e3e-162">Isso é provavelmente a melhor abordagem, pois fornece um único local para que todo o desenvolvedor possa trabalhar e reduz a confusão de encontrar um aplicativo quando os desenvolvedores não têm certeza de qual projeto no qual ele reside.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-162">Doing so is likely the best approach as it provides a single place for all developer to work out of and reduces the confusion of finding that one application when developers are unsure in which project in which it resides.</span></span>

<span data-ttu-id="e0e3e-163">Dividir o código para os microserviços no projeto DevOps do Azure pode ser um pouco mais desafiador.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-163">Splitting up code for microservices within the Azure DevOps project can be slightly more challenging.</span></span>

![Figura 11-2 único versus vários repositórios](./media/single-repository-vs-multiple.png)

### <a name="repository-per-microservice"></a><span data-ttu-id="e0e3e-165">Repositório por microserviço</span><span class="sxs-lookup"><span data-stu-id="e0e3e-165">Repository per microservice</span></span>

<span data-ttu-id="e0e3e-166">À primeira vista, isso parece a abordagem mais lógica para dividir o código-fonte para os microservices.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-166">At first glance, this seems like the most logical approach to splitting up the source code for microservices.</span></span> <span data-ttu-id="e0e3e-167">Cada repositório pode conter o código necessário para criar um microserviço.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-167">Each repository can contain the code needed to build the one microservice.</span></span> <span data-ttu-id="e0e3e-168">As vantagens dessa abordagem estão prontamente visíveis:</span><span class="sxs-lookup"><span data-stu-id="e0e3e-168">The advantages to this approach are readily visible:</span></span>

1. <span data-ttu-id="e0e3e-169">As instruções para criar e manter o aplicativo podem ser adicionadas a um arquivo LEIAme na raiz de cada repositório.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-169">Instructions for building and maintaining the application can be added to a README file at the root of each repository.</span></span> <span data-ttu-id="e0e3e-170">Ao inverter os repositórios, é fácil encontrar essas instruções, reduzindo o tempo de rotação para os desenvolvedores.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-170">When flipping through the repositories, it's easy to find these instructions, reducing spin-up time for developers.</span></span>
2. <span data-ttu-id="e0e3e-171">Cada serviço está localizado em um local lógico, facilmente encontrado sabendo o nome do serviço.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-171">Every service is located in a logical place, easily found by knowing the name of the service.</span></span>
3. <span data-ttu-id="e0e3e-172">As compilações podem ser facilmente configuradas de forma que sejam disparadas apenas quando uma alteração é feita no repositório proprietário.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-172">Builds can easily be set up such that they're only triggered when a change is made to the owning repository.</span></span>
4. <span data-ttu-id="e0e3e-173">O número de alterações que entram em um repositório é limitado ao pequeno número de desenvolvedores que trabalham no projeto.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-173">The number of changes coming into a repository is limited to the small number of developers working on the project.</span></span>
5. <span data-ttu-id="e0e3e-174">A segurança é fácil de configurar restringindo os repositórios aos quais os desenvolvedores têm permissões de leitura e gravação.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-174">Security is easy to set up by restricting the repositories to which developers have read and write permissions.</span></span>
6. <span data-ttu-id="e0e3e-175">As configurações de nível de repositório podem ser alteradas pela equipe proprietária com um mínimo de discussão com outras pessoas.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-175">Repository level settings can be changed by the owning team with a minimum of discussion with others.</span></span>

<span data-ttu-id="e0e3e-176">Uma das principais ideias por trás de microserviços é que os serviços devem ser silodos e separados uns dos outros.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-176">One of the key ideas behind microservices is that services should be siloed and separated from each other.</span></span> <span data-ttu-id="e0e3e-177">Ao usar o design controlado por domínio para decidir sobre os limites dos serviços, os serviços atuam como limites transacionais.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-177">When using Domain Driven Design to decide on the boundaries for services the services act as transactional boundaries.</span></span> <span data-ttu-id="e0e3e-178">As atualizações de banco de dados não devem abranger vários serviços.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-178">Database updates shouldn't span multiple services.</span></span> <span data-ttu-id="e0e3e-179">Essa coleção de dados relacionados é conhecida como um contexto limitado.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-179">This collection of related data is referred to as a bounded context.</span></span>  <span data-ttu-id="e0e3e-180">Essa ideia é refletida pelo isolamento de dados de microserviço para um banco de dado separado e autônomo do restante dos serviços.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-180">This idea is reflected by the isolation of microservice data to a database separate and autonomous from the rest of the services.</span></span> <span data-ttu-id="e0e3e-181">Isso faz muito sentido para levar essa ideia até o código-fonte do.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-181">It makes a great deal of sense to carry this idea all the way through to the source code.</span></span>

<span data-ttu-id="e0e3e-182">No entanto, essa abordagem não está sem seus problemas.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-182">However, this approach isn't without its issues.</span></span> <span data-ttu-id="e0e3e-183">Um dos mais gnarly problemas de desenvolvimento do nosso tempo é o gerenciamento de dependências.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-183">One of the more gnarly development problems of our time is managing dependencies.</span></span> <span data-ttu-id="e0e3e-184">Considere o número de arquivos que compõem o diretório de `node_modules` médio.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-184">Consider the number of files that make up the average `node_modules` directory.</span></span> <span data-ttu-id="e0e3e-185">Uma nova instalação de algo como `create-react-app` provavelmente trará milhares de pacotes.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-185">A fresh install of something like `create-react-app` is likely to bring with it thousands of packages.</span></span> <span data-ttu-id="e0e3e-186">A questão de como gerenciar essas dependências é uma tarefa difícil.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-186">The question of how to manage these dependencies is a difficult one.</span></span>

<span data-ttu-id="e0e3e-187">Se uma dependência for atualizada, os pacotes downstream também deverão atualizar essa dependência.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-187">If a dependency is updated, then downstream packages must also update this dependency.</span></span> <span data-ttu-id="e0e3e-188">Infelizmente, isso leva o trabalho de desenvolvimento, portanto, invariavelmente, o `node_modules` Directory acaba com várias versões de um único pacote, cada uma com uma dependência de algum outro pacote com controle de versão em uma cadência um pouco diferente.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-188">Unfortunately, that takes development work so, invariably, the `node_modules` directory ends up with multiple versions of a single package, each one a dependency of some other package that is versioned at a slightly different cadence.</span></span> <span data-ttu-id="e0e3e-189">Ao implantar um aplicativo, qual versão de uma dependência deve ser usada?</span><span class="sxs-lookup"><span data-stu-id="e0e3e-189">When deploying an application, which version of a dependency should be used?</span></span> <span data-ttu-id="e0e3e-190">A versão que está em produção no momento?</span><span class="sxs-lookup"><span data-stu-id="e0e3e-190">The version that is currently in production?</span></span> <span data-ttu-id="e0e3e-191">A versão atualmente em beta, mas é provável que esteja em produção no momento em que o consumidor faz isso para produção?</span><span class="sxs-lookup"><span data-stu-id="e0e3e-191">The version that is currently in Beta but is likely to be in production by the time the consumer makes it to production?</span></span> <span data-ttu-id="e0e3e-192">Problemas difíceis que não são resolvidos apenas com o uso de microservices.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-192">Difficult problems that aren't resolved by just using microservices.</span></span>

<span data-ttu-id="e0e3e-193">Há bibliotecas que dependem de uma ampla variedade de projetos.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-193">There are libraries that are depended upon by a wide variety of projects.</span></span> <span data-ttu-id="e0e3e-194">Dividindo os microserviços por um em cada repositório, as dependências internas podem ser melhor resolvidas usando o repositório interno, Azure Artifacts.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-194">By dividing the microservices up with one in each repository the internal dependencies can best be resolved by using the internal repository, Azure Artifacts.</span></span> <span data-ttu-id="e0e3e-195">As compilações para bibliotecas enviarão suas versões mais recentes para Azure Artifacts para consumo interno.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-195">Builds for libraries will push their latest versions into Azure Artifacts for internal consumption.</span></span> <span data-ttu-id="e0e3e-196">O projeto downstream ainda deve ser atualizado manualmente para assumir uma dependência dos pacotes recentemente atualizados.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-196">The downstream project must still be manually updated to take a dependency on the newly updated packages.</span></span>

<span data-ttu-id="e0e3e-197">Outra desvantagem se apresenta ao mover o código entre os serviços.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-197">Another disadvantage presents itself when moving code between services.</span></span> <span data-ttu-id="e0e3e-198">Embora seja interessante acreditar que a primeira divisão de um aplicativo em microserviços é 100% correta, a realidade é que raramente estamos tão prescients quanto não fazer nenhum erro de divisão de serviço.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-198">Although it would be nice to believe that the first division of an application into microservices is 100% correct, the reality is that rarely we're so prescient as to make no service division mistakes.</span></span> <span data-ttu-id="e0e3e-199">Portanto, a funcionalidade e o código que os conduz deverão mudar de serviço para serviço: repositório para repositório.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-199">Thus, functionality and the code that drives it will need to move from service to service: repository to repository.</span></span> <span data-ttu-id="e0e3e-200">Ao saltar de um repositório para outro, o código perde seu histórico.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-200">When leaping from one repository to another, the code loses its history.</span></span> <span data-ttu-id="e0e3e-201">Há muitos casos, especialmente no caso de uma auditoria, em que o histórico completo de uma parte do código é inestimável.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-201">There are many cases, especially in the event of an audit, where having full history on a piece of code is invaluable.</span></span>

<span data-ttu-id="e0e3e-202">A desvantagem final e talvez mais importante é coordenar as alterações.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-202">The final and perhaps most important disadvantage is coordinating changes.</span></span> <span data-ttu-id="e0e3e-203">Em um aplicativo de microserviços verdadeiro, não deve haver nenhuma dependência de implantação entre os serviços.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-203">In a true microservices application, there should be no deployment dependencies between services.</span></span> <span data-ttu-id="e0e3e-204">Deve ser possível implantar os serviços A, B e C em qualquer ordem, pois eles têm acoplamento flexível.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-204">It should be possible to deploy services A, B, and C in any order as they have loose coupling.</span></span> <span data-ttu-id="e0e3e-205">Na realidade, no entanto, há ocasiões em que é desejável fazer uma alteração que cruze vários repositórios ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-205">In reality, however, there are times when it's desirable to make a change that crosses multiple repositories at the same time.</span></span> <span data-ttu-id="e0e3e-206">Alguns exemplos incluem a atualização de uma biblioteca para fechar uma brecha de segurança ou alterar um protocolo de comunicação usado por todos os serviços.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-206">Some examples include updating a library to close a security hole or changing a communication protocol used by all services.</span></span>

<span data-ttu-id="e0e3e-207">Para fazer uma alteração entre repositórios, é necessário que uma confirmação para cada repositório seja feita sucessivamente.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-207">To do a cross-repository change requires a commit to each repository be made in succession.</span></span> <span data-ttu-id="e0e3e-208">Cada alteração em cada repositório precisará ser solicitada por pull e revisada separadamente.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-208">Each change in each repository will need to be pull-requested and reviewed separately.</span></span> <span data-ttu-id="e0e3e-209">Isso pode ser difícil de coordenar e, geralmente, irritante.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-209">This can be difficult to coordinate and generally annoying to do.</span></span>

<span data-ttu-id="e0e3e-210">Uma alternativa ao uso de muitos repositórios é colocar todo o código-fonte em um gigante, sabendo, único repositório.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-210">An alternative to using many repositories is to put all the source code together in a giant, all knowing, single repository.</span></span>

### <a name="single-repository"></a><span data-ttu-id="e0e3e-211">Repositório único</span><span class="sxs-lookup"><span data-stu-id="e0e3e-211">Single repository</span></span>

<span data-ttu-id="e0e3e-212">Nessa abordagem, às vezes conhecida como um [monorepository](https://danluu.com/monorepo/), todo o código-fonte de cada serviço é colocado no mesmo repositório.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-212">In this approach, sometimes referred to as a [monorepository](https://danluu.com/monorepo/), all the source code for every service is put into the same repository.</span></span> <span data-ttu-id="e0e3e-213">A princípio, parece que uma terrível é uma boa ideia tornar difícil lidar com o código-fonte.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-213">At first, this seems like a terrible idea likely to make dealing with source code unwieldy.</span></span> <span data-ttu-id="e0e3e-214">No entanto, há algumas vantagens marcadas para trabalhar dessa forma.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-214">There are, however, some marked advantages to working this way.</span></span>

<span data-ttu-id="e0e3e-215">A primeira vantagem é que é mais fácil gerenciar dependências entre projetos.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-215">The first advantage is that it's easier to manage dependencies between projects.</span></span> <span data-ttu-id="e0e3e-216">Em vez de contar com um feed de artefatos externo, os projetos podem importar diretamente um do outro.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-216">Instead of relying on some external artifact feed, projects can directly import one another.</span></span> <span data-ttu-id="e0e3e-217">Isso significa que as atualizações são instantâneas e as versões conflitantes provavelmente serão encontradas no momento da compilação na estação de trabalho do desenvolvedor.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-217">This means that updates are instant, and conflicting versions are likely to be found at compile time on the developer's workstation.</span></span> <span data-ttu-id="e0e3e-218">Em vigor, deslocar parte do teste de integração para a esquerda.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-218">In effect, shifting some of the integration testing left.</span></span>

<span data-ttu-id="e0e3e-219">Ao mover o código entre projetos, agora é mais fácil preservar o histórico à medida que os arquivos forem detectados como tendo sido movidos em vez de serem reescritos.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-219">When moving code between projects, it's now easier to preserve the history as the files will be detected as having been moved rather than being rewritten.</span></span>

<span data-ttu-id="e0e3e-220">Outra vantagem é que a ampla gama de alterações que cruzam limites de serviço pode ser feita em uma única confirmação.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-220">Another advantage is that wide ranging changes that cross service boundaries can be made in a single commit.</span></span> <span data-ttu-id="e0e3e-221">Isso reduz a sobrecarga de ter potencialmente dezenas de alterações a serem examinadas individualmente.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-221">This reduces the overhead of having potentially dozens of changes to review individually.</span></span>

<span data-ttu-id="e0e3e-222">Há muitas ferramentas que podem executar a análise estática de código para detectar práticas de programação inseguras ou uso problemático de APIs.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-222">There are many tools that can perform static analysis of code to detect insecure programming practices or problematic use of APIs.</span></span> <span data-ttu-id="e0e3e-223">Em um mundo de vários repositórios, cada repositório precisará ser iterado para localizar os problemas neles.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-223">In a multi-repository world, each repository will need to be iterated over to find the problems in them.</span></span> <span data-ttu-id="e0e3e-224">O repositório único permite executar a análise em um só lugar.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-224">The single repository allows running the analysis all in one place.</span></span>

<span data-ttu-id="e0e3e-225">Também há muitas desvantagens para a abordagem de repositório único.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-225">There are also many disadvantages to the single repository approach.</span></span> <span data-ttu-id="e0e3e-226">Uma das mais importantes preocupações é que ter um único repositório gera preocupações de segurança.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-226">One of the most worrying ones is that having a single repository raises security concerns.</span></span> <span data-ttu-id="e0e3e-227">Se o conteúdo de um repositório estiver vazado em um repositório por modelo de serviço, a quantidade de código perdido será mínima.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-227">If the contents of a repository are leaked in a repository per service model, the amount of code lost is minimal.</span></span> <span data-ttu-id="e0e3e-228">Com um único repositório, tudo o que a empresa possui pode ser perdido.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-228">With a single repository, everything the company owns could be lost.</span></span> <span data-ttu-id="e0e3e-229">Houve muitos exemplos no passado sobre isso acontecendo e degradendo trabalhos inteiros de desenvolvimento de jogos.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-229">There have been many examples in the past of this happening and derailing entire game development efforts.</span></span> <span data-ttu-id="e0e3e-230">Ter vários repositórios expõe menos área de superfície, que é uma característica muito desejável na maioria das práticas de segurança.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-230">Having multiple repositories exposes less surface area, which is a very desirable trait in most security practices.</span></span>

<span data-ttu-id="e0e3e-231">O tamanho do único repositório provavelmente se tornará não gerenciável rapidamente.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-231">The size of the single repository is likely to become unmanageable rapidly.</span></span> <span data-ttu-id="e0e3e-232">Isso apresenta algumas implicações de desempenho interessantes.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-232">This presents some interesting performance implications.</span></span> <span data-ttu-id="e0e3e-233">Pode ser necessário usar ferramentas especializadas, como o [sistema de arquivos virtual para git](https://vfsforgit.org/), que foi originalmente projetado para melhorar a experiência dos desenvolvedores na equipe do Windows.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-233">It may become necessary to use specialized tools such as [Virtual File System for Git](https://vfsforgit.org/), which was originally designed to improve the experience for developers on the Windows team.</span></span>

<span data-ttu-id="e0e3e-234">Frequentemente, o argumento para usar um único repositório se resume a um argumento que o Facebook ou o Google usam esse método para a organização do código-fonte.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-234">Frequently the argument for using a single repository boils down to an argument that Facebook or Google use this method for source code arrangement.</span></span> <span data-ttu-id="e0e3e-235">Se a abordagem for boa o suficiente para essas empresas, certamente, essa será a abordagem correta para todas as empresas.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-235">If the approach is good enough for these companies, then, surely, it's the correct approach for all companies.</span></span> <span data-ttu-id="e0e3e-236">A verdade da questão é que poucas empresas operam em qualquer coisa como a escala do Facebook ou do Google.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-236">The truth of the matter is that very few companies operate on anything like the scale of Facebook or Google.</span></span> <span data-ttu-id="e0e3e-237">Os problemas que ocorrem nessas escalas são diferentes daqueles que a maioria dos desenvolvedores enfrentarão.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-237">The problems that occur at those scales are different from those most developers will face.</span></span> <span data-ttu-id="e0e3e-238">O que é bom para o ganso pode não ser bom para o analisar.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-238">What is good for the goose may not be good for the gander.</span></span>

<span data-ttu-id="e0e3e-239">No final, qualquer uma das soluções pode ser usada para hospedar o código-fonte para os microservices.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-239">In the end, either solution can be used to host the source code for microservices.</span></span> <span data-ttu-id="e0e3e-240">No entanto, na maioria dos casos, a sobrecarga de gerenciamento e engenharia de operar em um único repositório não vale as vantagens meagers.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-240">However, in most cases, the management and engineering overhead of operating in a single repository isn't worth the meager advantages.</span></span> <span data-ttu-id="e0e3e-241">Dividir o código em vários repositórios incentiva a melhor separação de preocupações e incentiva a autonomia entre as equipes de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-241">Splitting code up over multiple repositories encourages better separation of concerns and encourages autonomy among development teams.</span></span>  

### <a name="standard-directory-structure"></a><span data-ttu-id="e0e3e-242">Estrutura de diretório padrão</span><span class="sxs-lookup"><span data-stu-id="e0e3e-242">Standard directory structure</span></span>

<span data-ttu-id="e0e3e-243">Independentemente do único versus de vários repositórios, cada serviço terá seu próprio diretório.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-243">Regardless of the single versus multiple repositories debate each service will have its own directory.</span></span> <span data-ttu-id="e0e3e-244">Uma das melhores otimizações para permitir que os desenvolvedores entrem em projetos rapidamente é manter uma estrutura de diretório padrão.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-244">One of the best optimizations to allow developers to cross between projects quickly is to maintain a standard directory structure.</span></span>

![Figura 11-3 uma estrutura de diretório padrão para os serviços de email e de entrada](./media/dir-struct.png)

<span data-ttu-id="e0e3e-246">Sempre que um novo projeto é criado, um modelo que coloca a estrutura correta deve ser usado.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-246">Whenever a new project is created, a template that puts in place the correct structure should be used.</span></span> <span data-ttu-id="e0e3e-247">Esse modelo também pode incluir itens úteis como um arquivo LEIAme de esqueleto e um `azure-pipelines.yml`.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-247">This template can also include such useful items as a skeleton README file and an `azure-pipelines.yml`.</span></span> <span data-ttu-id="e0e3e-248">Em qualquer arquitetura de microserviço, um alto grau de variação entre projetos torna as operações em massa em relação aos serviços mais difíceis.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-248">In any microservice architecture, a high degree of variance between projects makes bulk operations against the services more difficult.</span></span>

<span data-ttu-id="e0e3e-249">Há muitas ferramentas que podem fornecer Templating para um diretório inteiro, contendo vários diretórios de código-fonte.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-249">There are many tools that can provide templating for an entire directory, containing several source code directories.</span></span> <span data-ttu-id="e0e3e-250">O [Yeoman](https://yeoman.io/) é popular no mundo do JavaScript e o GitHub lançou recentemente [modelos de repositório](https://github.blog/2019-06-06-generate-new-repositories-with-repository-templates/), que fornecem grande parte da mesma funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-250">[Yeoman](https://yeoman.io/) is popular in the JavaScript world and GitHub have recently released [Repository Templates](https://github.blog/2019-06-06-generate-new-repositories-with-repository-templates/), which provide much of the same functionality.</span></span>

## <a name="task-management"></a><span data-ttu-id="e0e3e-251">Gerenciamento de tarefas</span><span class="sxs-lookup"><span data-stu-id="e0e3e-251">Task management</span></span>

<span data-ttu-id="e0e3e-252">O gerenciamento de tarefas em qualquer projeto pode ser difícil.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-252">Managing tasks in any project can be difficult.</span></span> <span data-ttu-id="e0e3e-253">Na frente, há inúmeras perguntas a serem respondidas sobre o tipo de fluxos de trabalho a serem configurados para garantir a produtividade ideal do desenvolvedor.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-253">Up front there are countless questions to be answered about the sort of workflows to set up to ensure optimal developer productivity.</span></span>

<span data-ttu-id="e0e3e-254">Os aplicativos nativos de nuvem tendem a ser menores do que os produtos de software tradicionais ou pelo menos eles são divididos em serviços menores.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-254">Cloud-native applications tend to be smaller than traditional software products or at least they're divided into smaller services.</span></span> <span data-ttu-id="e0e3e-255">O rastreamento de problemas ou tarefas relacionadas a esses serviços permanece tão importante quanto qualquer outro projeto de software.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-255">Tracking of issues or tasks related to these services remains as important as with any other software project.</span></span> <span data-ttu-id="e0e3e-256">Ninguém deseja perder o controle de algum item de trabalho ou explicar a um cliente que seu problema não foi registrado corretamente.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-256">Nobody wants to lose track of some work item or explain to a customer that their issue wasn't properly logged.</span></span> <span data-ttu-id="e0e3e-257">As placas são configuradas no nível do projeto, mas dentro de cada projeto, as áreas podem ser definidas.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-257">Boards are configured at the project level but within each project, areas can be defined.</span></span> <span data-ttu-id="e0e3e-258">Eles permitem a interrupção de problemas em vários componentes.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-258">These allow breaking down issues across several components.</span></span> <span data-ttu-id="e0e3e-259">A vantagem de manter todo o trabalho para todo o aplicativo em um só lugar é que é fácil mover itens de trabalho de uma equipe para outra, já que eles são bem compreendidos.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-259">The advantage to keeping all the work for the entire application in one place is that it's easy to move work items from one team to another as they're understood better.</span></span>

<span data-ttu-id="e0e3e-260">O DevOps do Azure vem com vários modelos populares pré-configurados.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-260">Azure DevOps comes with a number of popular templates pre-configured.</span></span> <span data-ttu-id="e0e3e-261">Na configuração mais básica, tudo o que é necessário saber é o que há na lista de pendências, em que as pessoas estão trabalhando e o que é feito.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-261">In the most basic configuration, all that is needed to know is what's in the backlog, what people are working on, and what's done.</span></span> <span data-ttu-id="e0e3e-262">É importante ter essa visibilidade no processo de criação de software, para que o trabalho possa ser priorizado e tarefas concluídas relatadas ao cliente.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-262">It's important to have this visibility into the process of building software, so that work can be prioritized and completed tasks reported to the customer.</span></span> <span data-ttu-id="e0e3e-263">É claro que poucos projetos de software se encontram em um processo tão simples quanto `to do`, `doing`e `done`.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-263">Of course, very few software projects stick to a process as simple as `to do`, `doing`, and `done`.</span></span> <span data-ttu-id="e0e3e-264">Não demora muito para as pessoas começarem a adicionar etapas como `QA` ou `Detailed Specification` ao processo.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-264">It doesn't take long for people to start adding steps like `QA` or `Detailed Specification` to the process.</span></span>

<span data-ttu-id="e0e3e-265">Uma das partes mais importantes das metodologias Agile é a auto-introspecção em intervalos regulares.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-265">One of the more important parts of Agile methodologies is self-introspection at regular intervals.</span></span> <span data-ttu-id="e0e3e-266">Essas revisões destinam-se a fornecer informações sobre quais problemas a equipe está enfrentando e como eles podem ser aprimorados.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-266">These reviews are meant to provide insight into what problems the team is facing and how they can be improved.</span></span> <span data-ttu-id="e0e3e-267">Frequentemente, isso significa alterar o fluxo de problemas e recursos por meio do processo de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-267">Frequently, this means changing the flow of issues and features through the development process.</span></span> <span data-ttu-id="e0e3e-268">Portanto, é perfeitamente saudável expandir os layouts das placas com estágios adicionais.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-268">So, it's perfectly healthy to expand the layouts of the boards with additional stages.</span></span>

<span data-ttu-id="e0e3e-269">Os estágios nas placas não são a única ferramenta organizacional.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-269">The stages in the boards aren't the only organizational tool.</span></span> <span data-ttu-id="e0e3e-270">Dependendo da configuração do quadro, há uma hierarquia de itens de trabalho.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-270">Depending on the configuration of the board, there's a hierarchy of work items.</span></span> <span data-ttu-id="e0e3e-271">O item mais granular que pode aparecer em um quadro é uma tarefa.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-271">The most granular item that can appear on a board is a task.</span></span> <span data-ttu-id="e0e3e-272">Uma tarefa que contém campos para um título, uma descrição, uma prioridade, uma estimativa da quantidade de trabalho restante e a capacidade de vincular a outros itens de trabalho ou itens de desenvolvimento (branches, confirmações, solicitações de pull, compilações e assim por diante).</span><span class="sxs-lookup"><span data-stu-id="e0e3e-272">Out of the box a task contains fields for a title, description, a priority, an estimate of the amount of work remaining and the ability to link to other work items or development items (branches, commits, pull requests, builds, and so forth).</span></span> <span data-ttu-id="e0e3e-273">Os itens de trabalho podem ser classificados em diferentes áreas do aplicativo e em diferentes iterações (sprints) para facilitar sua localização.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-273">Work items can be classified into different areas of the application and different iterations (sprints) to make finding them easier.</span></span>

![Figura 11-4 um exemplo de tarefa no Azure DevOps](./media/task-details.png)

<span data-ttu-id="e0e3e-275">O campo Descrição dá suporte aos estilos normais esperados (negrito, sublinhado e tachado) e a capacidade de inserir imagens.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-275">The description field supports the normal styles you'd expect (bold, italic underscore and strike through) and the ability to insert images.</span></span> <span data-ttu-id="e0e3e-276">Isso o torna uma ferramenta muito poderosa para uso ao especificar trabalho ou bugs.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-276">This makes it a very powerful tool for use when specifying work or bugs.</span></span>

<span data-ttu-id="e0e3e-277">As tarefas podem ser acumuladas em recursos, que definem uma unidade maior de trabalho.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-277">Tasks can be rolled up into features, which define a larger unit of work.</span></span> <span data-ttu-id="e0e3e-278">Os recursos, por sua vez, podem ser [acumulados em Epics](https://docs.microsoft.com/azure/devops/boards/backlogs/define-features-epics?view=azure-devops).</span><span class="sxs-lookup"><span data-stu-id="e0e3e-278">Features, in turn, can be [rolled up into epics](https://docs.microsoft.com/azure/devops/boards/backlogs/define-features-epics?view=azure-devops).</span></span> <span data-ttu-id="e0e3e-279">A classificação de tarefas nessa hierarquia facilita muito a compreensão de como um recurso grande é para ser implantado.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-279">Classifying tasks in this hierarchy makes it much easier to understand how close a large feature is to rolling out.</span></span>

![Figura 11-5 tipos de item de trabalho configurados por padrão no modelo de processo básico](./media/board-issue-types.png)

<span data-ttu-id="e0e3e-281">Há diferentes tipos de exibições nos problemas no Azure Boards.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-281">There are different kinds of views into the issues in Azure Boards.</span></span> <span data-ttu-id="e0e3e-282">Os itens que ainda não estão agendados aparecem na pendência.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-282">Items that aren't yet scheduled appear in the backlog.</span></span> <span data-ttu-id="e0e3e-283">A partir daí, eles podem ser atribuídos a um Sprint.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-283">From there, they can be assigned to a sprint.</span></span> <span data-ttu-id="e0e3e-284">Um Sprint é uma caixa de tempo durante a qual é esperada alguma quantidade de trabalho será concluída.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-284">A sprint is a time box during which it's expected some quantity of work will be completed.</span></span> <span data-ttu-id="e0e3e-285">Esse trabalho pode incluir tarefas, mas também a resolução de tíquetes.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-285">This work can include tasks but also the resolution of tickets.</span></span> <span data-ttu-id="e0e3e-286">Uma vez lá, o Sprint inteiro pode ser gerenciado na seção de painel do Sprint.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-286">Once there, the entire sprint can be managed from the Sprint board section.</span></span> <span data-ttu-id="e0e3e-287">Esta exibição mostra como o trabalho está progredindo e inclui um gráfico de gravação para fornecer uma estimativa sempre atualizada de se o Sprint será bem-sucedido.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-287">This view shows how work is progressing and includes a burn down chart to give an ever-updating estimate of if the sprint will be successful.</span></span>

![Figura 11-6 um quadro com um Sprint definido](./media/sprint-board.png)

<span data-ttu-id="e0e3e-289">Agora, deve ser aparente que há uma grande quantidade de energia nas placas no Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-289">By now, it should be apparent that there's a great deal of power in the Boards in Azure DevOps.</span></span> <span data-ttu-id="e0e3e-290">Para os desenvolvedores, há exibições fáceis do que está sendo trabalhado.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-290">For developers, there are easy views of what is being worked on.</span></span> <span data-ttu-id="e0e3e-291">Para os gerentes de projeto exibições no futuro trabalho, bem como uma visão geral do trabalho existente.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-291">For project managers views into upcoming work as well as an overview of existing work.</span></span> <span data-ttu-id="e0e3e-292">Para os gerentes, há muitos relatórios sobre a capacidade e a insourcing.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-292">For managers, there are plenty of reports about resourcing and capacity.</span></span> <span data-ttu-id="e0e3e-293">Infelizmente, não há nada mágico sobre aplicativos nativos de nuvem que eliminam a necessidade de controlar o trabalho.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-293">Unfortunately, there's nothing magical about cloud-native applications that eliminate the need to track work.</span></span> <span data-ttu-id="e0e3e-294">Mas se você precisar acompanhar o trabalho, há alguns lugares onde a experiência é melhor do que no Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-294">But if you must track work, there are a few places where the experience is better than in Azure DevOps.</span></span>

## <a name="cicd-pipelines"></a><span data-ttu-id="e0e3e-295">Pipelines de CI/CD</span><span class="sxs-lookup"><span data-stu-id="e0e3e-295">CI/CD pipelines</span></span>

<span data-ttu-id="e0e3e-296">Quase nenhuma alteração no ciclo de vida de desenvolvimento de software foi tão revolucionária quanto o advento da CI (integração contínua) e do CD (entrega contínua).</span><span class="sxs-lookup"><span data-stu-id="e0e3e-296">Almost no change in the software development life cycle has been so revolutionary as the advent of continuous integration (CI) and continuous delivery (CD).</span></span> <span data-ttu-id="e0e3e-297">A criação e execução de testes automatizados em relação ao código-fonte de um projeto assim que uma alteração é verificada em captura de erros antecipadamente.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-297">Building and running automated tests against the source code of a project as soon as a change is checked in catches mistakes early.</span></span> <span data-ttu-id="e0e3e-298">Antes do advento das compilações de integração contínua, não seria incomum efetuar pull do código do repositório e descobrir que ele não passou em testes nem sequer foi criado.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-298">Prior to the advent of continuous integration builds, it wouldn't be uncommon to pull code from the repository and find that it didn't pass tests or couldn't even be built.</span></span> <span data-ttu-id="e0e3e-299">Isso resultou em muitos rastreamentos da origem da quebra.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-299">This resulted in a lot of tracking down the source of the breakage.</span></span>

<span data-ttu-id="e0e3e-300">Tradicionalmente, o fornecimento de software para o ambiente de produção exigia documentação extensiva e uma lista de etapas.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-300">Traditionally shipping software to the production environment required extensive documentation and a list of steps.</span></span> <span data-ttu-id="e0e3e-301">Cada uma dessas etapas precisava ser concluída manualmente em um processo muito propenso a erros.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-301">Each one of these steps needed to be manually completed in a very error prone process.</span></span>

![Figura 11-7 uma lista de verificação](./media/checklist.png)

<span data-ttu-id="e0e3e-303">A irmã da integração contínua é a entrega contínua na qual os pacotes compilados recentemente são implantados em um ambiente.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-303">The sister of continuous integration is continuous delivery in which the freshly built packages are deployed to an environment.</span></span> <span data-ttu-id="e0e3e-304">O processo manual não pode ser dimensionado para corresponder à velocidade de desenvolvimento para que a automação se torne mais importante.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-304">The manual process can't scale to match the speed of development so automation becomes more important.</span></span> <span data-ttu-id="e0e3e-305">As listas de verificação são substituídas por scripts que podem executar as mesmas tarefas com mais rapidez e precisão do que qualquer humano.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-305">Checklists are replaced by scripts that can execute the same tasks faster and more accurately than any human.</span></span>

<span data-ttu-id="e0e3e-306">O ambiente no qual a entrega contínua é entregue pode ser um ambiente de teste ou, como está sendo feito por muitas empresas de tecnologia de grande porte, pode ser o ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-306">The environment to which continuous delivery delivers might be a test environment or, as is being done by many major technology companies, it could be the production environment.</span></span> <span data-ttu-id="e0e3e-307">O último exige um investimento em testes de alta qualidade que podem dar confiança de que uma alteração não irá interromper a produção para os usuários.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-307">The latter requires an investment in high-quality tests that can give confidence that a change isn't going to break production for users.</span></span> <span data-ttu-id="e0e3e-308">Da mesma forma que a integração contínua capturou problemas no código, a entrega contínua inicial captura problemas no início do processo de implantação.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-308">In the same way that continuous integration caught issues in the code early continuous delivery catches issues in the deployment process early.</span></span>

<span data-ttu-id="e0e3e-309">A importância de automatizar o processo de criação e entrega é acentuada por aplicativos nativos de nuvem.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-309">The importance of automating the build and delivery process is accentuated by cloud-native applications.</span></span> <span data-ttu-id="e0e3e-310">As implantações acontecem com mais frequência e para mais ambientes, Implantando manualmente as bordas em impossível.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-310">Deployments happen more frequently and to more environments so manually deploying borders on impossible.</span></span>

### <a name="azure-builds"></a><span data-ttu-id="e0e3e-311">Compilações do Azure</span><span class="sxs-lookup"><span data-stu-id="e0e3e-311">Azure Builds</span></span>

<span data-ttu-id="e0e3e-312">O Azure DevOps fornece um conjunto de ferramentas para tornar a integração e a implantação contínuas mais fáceis do que nunca.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-312">Azure DevOps provides a set of tools to make continuous integration and deployment easier than ever.</span></span> <span data-ttu-id="e0e3e-313">Essas ferramentas estão localizadas em Azure Pipelines.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-313">These tools are located under Azure Pipelines.</span></span> <span data-ttu-id="e0e3e-314">O primeiro deles é o Azure builds, que é uma ferramenta para executar definições de compilação baseadas em YAML em escala.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-314">The first of them is Azure Builds, which is a tool for running YAML-based build definitions at scale.</span></span> <span data-ttu-id="e0e3e-315">Os usuários podem trazer seus próprios computadores de compilação (ótimo para se a compilação exigir um ambiente de configuração meticulosa) ou usar um computador de um pool atualizado constantemente de máquinas virtuais hospedadas do Azure.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-315">Users can either bring their own build machines (great for if the build requires a meticulously set up environment) or use a machine from a constantly refreshed pool of Azure hosted virtual machines.</span></span> <span data-ttu-id="e0e3e-316">Esses agentes de compilação hospedados vêm pré-instalados com uma ampla gama de ferramentas de desenvolvimento, não apenas para o desenvolvimento do .NET, mas para tudo, desde Java até Python até o desenvolvimento do iPhone.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-316">These hosted build agents come pre-installed with a wide range of development tools for not just .NET development but for everything from Java to Python to iPhone development.</span></span>

<span data-ttu-id="e0e3e-317">O DevOps inclui uma ampla gama de definições de compilação prontas para uso que podem ser personalizadas para qualquer compilação.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-317">DevOps includes a wide range of out of the box build definitions that can be customized for any build.</span></span> <span data-ttu-id="e0e3e-318">As definições de compilação são definidas em um arquivo chamado `azure-pipelines.yml` e verificadas no repositório para que possam ter controle de versão junto com o código-fonte.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-318">The build definitions are defined in a file called `azure-pipelines.yml` and checked into the repository so they can be versioned along with the source code.</span></span> <span data-ttu-id="e0e3e-319">Isso torna muito mais fácil fazer alterações no pipeline de compilação em uma ramificação, pois as alterações podem ser verificadas apenas nessa ramificação.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-319">This makes it much easier to make changes to the build pipeline in a branch as the changes can be checked into just that branch.</span></span> <span data-ttu-id="e0e3e-320">Um exemplo `azure-pipelines.yml` para criar um aplicativo Web ASP.NET na estrutura completa é mostrado na Figura 11-8.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-320">An example `azure-pipelines.yml` for building an ASP.NET web application on full framework is show in Figure 11-8.</span></span>

```yml
name: $(rev:r)

variables:
  version: 9.2.0.$(Build.BuildNumber)
  solution: Portals.sln
  artifactName: drop
  buildPlatform: any cpu
  buildConfiguration: release
  
pool:
  name: Hosted VS2017
  demands:
  - msbuild
  - visualstudio
  - vstest

steps:
- task: NuGetToolInstaller@0
  displayName: 'Use NuGet 4.4.1'
  inputs:
    versionSpec: 4.4.1

- task: NuGetCommand@2
  displayName: 'NuGet restore'
  inputs:
    restoreSolution: '$(solution)'

- task: VSBuild@1
  displayName: 'Build solution'
  inputs:
    solution: '$(solution)'
    msbuildArgs: '-p:DeployOnBuild=true -p:WebPublishMethod=Package -p:PackageAsSingleFile=true -p:SkipInvalidConfigurations=true -p:PackageLocation="$(build.artifactstagingdirectory)\\"'
    platform: '$(buildPlatform)'
    configuration: '$(buildConfiguration)'

- task: VSTest@2
  displayName: 'Test Assemblies'
  inputs:
    testAssemblyVer2: |
     **\$(buildConfiguration)\**\*test*.dll
     !**\obj\**
     !**\*testadapter.dll
    platform: '$(buildPlatform)'
    configuration: '$(buildConfiguration)'

- task: CopyFiles@2
  displayName: 'Copy UI Test Files to: $(build.artifactstagingdirectory)'
  inputs:
    SourceFolder: UITests
    TargetFolder: '$(build.artifactstagingdirectory)/uitests'

- task: PublishBuildArtifacts@1
  displayName: 'Publish Artifact'
  inputs:
    PathtoPublish: '$(build.artifactstagingdirectory)'
    ArtifactName: '$(artifactName)'
  condition: succeededOrFailed()
```

<span data-ttu-id="e0e3e-321">**Figura 11-8** -um exemplo de Azure-pipelines. yml</span><span class="sxs-lookup"><span data-stu-id="e0e3e-321">**Figure 11-8** - A sample azure-pipelines.yml</span></span>

<span data-ttu-id="e0e3e-322">Essa definição de compilação usa várias tarefas internas que tornam a criação de compilações tão simples quanto a criação de um conjunto de Lego (mais simples do que o Giant Millennium Falcon).</span><span class="sxs-lookup"><span data-stu-id="e0e3e-322">This build definition uses a number of built-in tasks that make creating builds as simple as building a Lego set (simpler than the giant Millennium Falcon).</span></span> <span data-ttu-id="e0e3e-323">Por exemplo, a tarefa do NuGet restaura os pacotes NuGet, enquanto a tarefa VSBuild chama as ferramentas de Build do Visual Studio para executar a compilação real.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-323">For instance, the NuGet task restores NuGet packages, while the VSBuild task calls the Visual Studio build tools to perform the actual compilation.</span></span> <span data-ttu-id="e0e3e-324">Há centenas de tarefas diferentes disponíveis no Azure DevOps, com milhares de outras que são mantidas pela Comunidade.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-324">There are hundreds of different tasks available in Azure DevOps, with thousands more that are maintained by the community.</span></span> <span data-ttu-id="e0e3e-325">É provável que, independentemente das tarefas de compilação que você pretende executar, alguém tenha criado um já.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-325">It's likely that no matter what build tasks you're looking to run, somebody has built one already.</span></span>

<span data-ttu-id="e0e3e-326">As compilações podem ser disparadas manualmente, por um check-in, em um agendamento ou pela conclusão de outra compilação.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-326">Builds can be triggered manually, by a check-in, on a schedule, or by the completion of another build.</span></span> <span data-ttu-id="e0e3e-327">Na maioria dos casos, a criação de cada check-in é desejável.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-327">In most cases, building on every check-in is desirable.</span></span> <span data-ttu-id="e0e3e-328">As compilações podem ser filtradas para que diferentes compilações sejam executadas em diferentes partes do repositório ou em diferentes ramificações.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-328">Builds can be filtered so that different builds run against different parts of the repository or against different branches.</span></span> <span data-ttu-id="e0e3e-329">Isso permite cenários como a execução de compilações rápidas com testes reduzidos em solicitações pull e execução de um pacote de regressão completo no tronco em uma base noturna.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-329">This allows for scenarios like running fast builds with reduced testing on pull requests and running a full regression suite against the trunk on a nightly basis.</span></span>

<span data-ttu-id="e0e3e-330">O resultado final de uma compilação é uma coleção de arquivos conhecidos como artefatos de compilação.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-330">The end result of a build is a collection of files known as build artifacts.</span></span> <span data-ttu-id="e0e3e-331">Esses artefatos podem ser passados para a próxima etapa no processo de compilação ou adicionados a um feed de artefatos do Azure, para que possam ser consumidos por outras compilações.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-331">These artifacts can be passed along to the next step in the build process or added to an Azure Artifact feed, so they can be consumed by other builds.</span></span>

### <a name="azure-devops-releases"></a><span data-ttu-id="e0e3e-332">Versões do Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="e0e3e-332">Azure DevOps releases</span></span>

<span data-ttu-id="e0e3e-333">As compilações cuidam da compilação do software em um pacote freqüentemente, mas os artefatos ainda precisam ser enviados para um ambiente de teste para concluir a entrega contínua.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-333">Builds take care of compiling the software into a shippable package, but the artifacts still need to be pushed out to a testing environment to complete continuous delivery.</span></span> <span data-ttu-id="e0e3e-334">Para isso, o Azure DevOps usa uma ferramenta separada chamada releases.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-334">For this, Azure DevOps uses a separate tool called Releases.</span></span> <span data-ttu-id="e0e3e-335">A ferramenta de versões usa a biblioteca das mesmas tarefas que estava disponível para a compilação, mas introduziu um conceito de "estágios".</span><span class="sxs-lookup"><span data-stu-id="e0e3e-335">The Releases tool makes use of the same tasks' library that were available to the Build but introduce a concept of "stages".</span></span> <span data-ttu-id="e0e3e-336">Um estágio é um ambiente isolado no qual o pacote está instalado.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-336">A stage is an isolated environment into which the package is installed.</span></span> <span data-ttu-id="e0e3e-337">Por exemplo, um produto pode fazer uso de um ambiente de desenvolvimento, QA e de produção.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-337">For instance, a product might make use of a development, a QA, and a production environment.</span></span> <span data-ttu-id="e0e3e-338">O código é entregue continuamente no ambiente de desenvolvimento em que os testes automatizados podem ser executados em relação a ele.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-338">Code is continuously delivered into the development environment where automated tests can be run against it.</span></span> <span data-ttu-id="e0e3e-339">Depois que esses testes passarem pela versão, o ambiente de QA será movido para teste manual.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-339">Once those tests pass the release moves onto the QA environment for manual testing.</span></span> <span data-ttu-id="e0e3e-340">Por fim, o código é enviado para a produção, onde está visível para todos.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-340">Finally, the code is pushed to production where it's visible to everybody.</span></span>

![Figura 11-9 um pipeline de lançamento de exemplo com fases de desenvolvimento, QA e produção](./media/release-pipeline.png)

<span data-ttu-id="e0e3e-342">Cada estágio na compilação pode ser disparado automaticamente pela conclusão da fase anterior.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-342">Each stage in the build can be automatically triggered by the completion of the previous phase.</span></span> <span data-ttu-id="e0e3e-343">Em muitos casos, no entanto, isso não é desejável.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-343">In many cases, however, this isn't desirable.</span></span> <span data-ttu-id="e0e3e-344">Mover o código para produção pode exigir aprovação de alguém.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-344">Moving code into production might require approval from somebody.</span></span> <span data-ttu-id="e0e3e-345">A ferramenta releases dá suporte a isso permitindo que os aprovadores em cada etapa do pipeline de lançamento.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-345">The Releases tool supports this by allowing approvers at each step of the release pipeline.</span></span> <span data-ttu-id="e0e3e-346">As regras podem ser configuradas de forma que uma pessoa ou grupo de pessoas específico deva se desconectar em uma versão antes de fazer a produção.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-346">Rules can be set up such that a specific person or group of people must sign off on a release before it makes into production.</span></span> <span data-ttu-id="e0e3e-347">Esses Gates permitem verificações manuais de qualidade e também para conformidade com quaisquer requisitos regulatórios relacionados ao controle do que entra em produção.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-347">These gates allow for manual quality checks and also for compliance with any regulatory requirements related to control what goes into production.</span></span>

### <a name="everybody-gets-a-build-pipeline"></a><span data-ttu-id="e0e3e-348">Todo mundo Obtém um pipeline de compilação</span><span class="sxs-lookup"><span data-stu-id="e0e3e-348">Everybody gets a build pipeline</span></span>

<span data-ttu-id="e0e3e-349">Não há nenhum custo para configurar muitos pipelines de Build, portanto, é vantajoso ter pelo menos um pipeline de compilação por microserviço.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-349">There's no cost to configuring many build pipelines, so it's advantageous to have at least one build pipeline per microservice.</span></span> <span data-ttu-id="e0e3e-350">O ideal é que os microserviços sejam implantados independentemente em qualquer ambiente, de modo que cada um deles possa ser liberado por meio de seu próprio pipeline sem liberar uma massa de código não relacionado é perfeito.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-350">Ideally, microservices are independently deployable to any environment so having each one able to be released via its own pipeline without releasing a mass of unrelated code is perfect.</span></span> <span data-ttu-id="e0e3e-351">Cada pipeline pode ter seu próprio conjunto de aprovações, permitindo variações no processo de compilação para cada serviço.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-351">Each pipeline can have its own set of approvals allowing for variations in build process for each service.</span></span>

### <a name="versioning-releases"></a><span data-ttu-id="e0e3e-352">Versões de controle de versão</span><span class="sxs-lookup"><span data-stu-id="e0e3e-352">Versioning releases</span></span>

<span data-ttu-id="e0e3e-353">Uma desvantagem de usar a funcionalidade de versões é que ela não pode ser definida em um arquivo de `azure-pipelines.yml` com check-in.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-353">One drawback to using the Releases functionality is that it can't be defined in a checked-in `azure-pipelines.yml` file.</span></span> <span data-ttu-id="e0e3e-354">Há muitas razões pelas quais você pode querer fazer isso de ter definições de versão por ramificação para incluir um esqueleto de versão em seu modelo de projeto.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-354">There are many reasons you might want to do that from having per-branch release definitions to including a release skeleton in your project template.</span></span> <span data-ttu-id="e0e3e-355">Felizmente, o trabalho é contínuo para mudar alguns dos estágios com suporte para o componente de compilação.</span><span class="sxs-lookup"><span data-stu-id="e0e3e-355">Fortunately, work is ongoing to shift some of the stages support into the Build component.</span></span> <span data-ttu-id="e0e3e-356">Isso será conhecido como compilação de vários estágios e a [primeira versão estará disponível agora](https://devblogs.microsoft.com/devops/whats-new-with-azure-pipelines/)!</span><span class="sxs-lookup"><span data-stu-id="e0e3e-356">This will be known as multi-stage build and the [first version is available now](https://devblogs.microsoft.com/devops/whats-new-with-azure-pipelines/)!</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="e0e3e-357">[Anterior](azure-security.md)
>[Próximo](infrastructure-as-code.md)</span><span class="sxs-lookup"><span data-stu-id="e0e3e-357">[Previous](azure-security.md)
[Next](infrastructure-as-code.md)</span></span>
