---
title: Como implantar contêineres no Azure
description: Implantando contêineres no Azure com o registro de contêiner do Azure, o serviço kubernetes do Azure e o Azure Dev Spaces.
ms.date: 04/13/2020
ms.openlocfilehash: ba2854323ee0f1394a3cff0dd3756cb3c7c32d5b
ms.sourcegitcommit: 27db07ffb26f76912feefba7b884313547410db5
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/19/2020
ms.locfileid: "83614143"
---
# <a name="deploying-containers-in-azure"></a><span data-ttu-id="0e24f-103">Como implantar contêineres no Azure</span><span class="sxs-lookup"><span data-stu-id="0e24f-103">Deploying containers in Azure</span></span>

<span data-ttu-id="0e24f-104">Discutimos os contêineres neste capítulo e no capítulo 1.</span><span class="sxs-lookup"><span data-stu-id="0e24f-104">We've discussed containers in this chapter and in chapter 1.</span></span> <span data-ttu-id="0e24f-105">Vimos que os contêineres fornecem muitos benefícios para aplicativos nativos de nuvem, incluindo portabilidade.</span><span class="sxs-lookup"><span data-stu-id="0e24f-105">We've seen that containers provide many benefits to cloud-native applications, including portability.</span></span> <span data-ttu-id="0e24f-106">Na nuvem do Azure, você pode implantar os mesmos serviços em contêineres em ambientes de preparo e produção.</span><span class="sxs-lookup"><span data-stu-id="0e24f-106">In the Azure cloud, you can deploy the same containerized services across staging and production environments.</span></span> <span data-ttu-id="0e24f-107">O Azure fornece várias opções para hospedar essas cargas de trabalho em contêineres:</span><span class="sxs-lookup"><span data-stu-id="0e24f-107">Azure provides several options for hosting these containerized workloads:</span></span>

- <span data-ttu-id="0e24f-108">AKS (Serviços do Kubernetes do Azure)</span><span class="sxs-lookup"><span data-stu-id="0e24f-108">Azure Kubernetes Services (AKS)</span></span>
- <span data-ttu-id="0e24f-109">ACI (Instância de Contêiner do Azure)</span><span class="sxs-lookup"><span data-stu-id="0e24f-109">Azure Container Instance (ACI)</span></span>
- <span data-ttu-id="0e24f-110">Aplicativos Web para contêineres do Azure</span><span class="sxs-lookup"><span data-stu-id="0e24f-110">Azure Web Apps for Containers</span></span>

## <a name="azure-container-registry"></a><span data-ttu-id="0e24f-111">Registro de Contêiner do Azure</span><span class="sxs-lookup"><span data-stu-id="0e24f-111">Azure Container Registry</span></span>

<span data-ttu-id="0e24f-112">Ao colocar um microserviço em contêiner, você primeiro cria um contêiner de compilação "imagem".</span><span class="sxs-lookup"><span data-stu-id="0e24f-112">When containerizing a microservice, you first a build container "image."</span></span> <span data-ttu-id="0e24f-113">A imagem é uma representação binária do código de serviço, das dependências e do tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="0e24f-113">The image is a binary representation of the service code, dependencies, and runtime.</span></span> <span data-ttu-id="0e24f-114">Embora seja possível criar manualmente uma imagem usando o `Docker Build` comando da API do Docker, uma abordagem melhor é criá-la como parte de um processo de compilação automatizado.</span><span class="sxs-lookup"><span data-stu-id="0e24f-114">While you can manually create an image using the `Docker Build` command from the Docker API, a better approach is to create it as part of an automated build process.</span></span>

<span data-ttu-id="0e24f-115">Depois de criadas, as imagens de contêiner são armazenadas em registros de contêiner.</span><span class="sxs-lookup"><span data-stu-id="0e24f-115">Once created, container images are stored in container registries.</span></span> <span data-ttu-id="0e24f-116">Eles permitem que você crie, armazene e gerencie imagens de contêiner.</span><span class="sxs-lookup"><span data-stu-id="0e24f-116">They enable you to build, store, and manage container images.</span></span> <span data-ttu-id="0e24f-117">Há vários registros disponíveis, públicos e privados.</span><span class="sxs-lookup"><span data-stu-id="0e24f-117">There are many registries available, both public and private.</span></span> <span data-ttu-id="0e24f-118">O ACR (registro de contêiner do Azure) é um serviço de registro de contêiner totalmente gerenciado na nuvem do Azure.</span><span class="sxs-lookup"><span data-stu-id="0e24f-118">Azure Container Registry (ACR) is a fully managed container registry service in the Azure cloud.</span></span> <span data-ttu-id="0e24f-119">Ele persiste suas imagens dentro da rede do Azure, reduzindo o tempo para implantá-las nos hosts de contêiner do Azure.</span><span class="sxs-lookup"><span data-stu-id="0e24f-119">It persists your images inside the Azure network, reducing the time to deploy them to Azure container hosts.</span></span> <span data-ttu-id="0e24f-120">Você também pode protegê-los usando os mesmos procedimentos de segurança e identidade que você usa para outros recursos do Azure.</span><span class="sxs-lookup"><span data-stu-id="0e24f-120">You can also secure them using the same security and identity procedures that you use for other Azure resources.</span></span>

<span data-ttu-id="0e24f-121">Você cria um registro de contêiner do Azure usando as ferramentas [portal do Azure](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-portal), [CLI do Azure](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-azure-cli)ou [PowerShell](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-powershell).</span><span class="sxs-lookup"><span data-stu-id="0e24f-121">You create an Azure Container Registry using the [Azure portal](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-portal), [Azure CLI](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-azure-cli), or [PowerShell tools](https://docs.microsoft.com/azure/container-registry/container-registry-get-started-powershell).</span></span> <span data-ttu-id="0e24f-122">A criação de um registro no Azure é simples.</span><span class="sxs-lookup"><span data-stu-id="0e24f-122">Creating a registry in Azure is simple.</span></span> <span data-ttu-id="0e24f-123">Ele requer uma assinatura do Azure, um grupo de recursos e um nome exclusivo.</span><span class="sxs-lookup"><span data-stu-id="0e24f-123">It requires an Azure subscription, resource group, and a unique name.</span></span> <span data-ttu-id="0e24f-124">A Figura 3-11 mostra as opções básicas para a criação de um registro, que será hospedado em `registryname.azurecr.io` .</span><span class="sxs-lookup"><span data-stu-id="0e24f-124">Figure 3-11 shows the basic options for creating a registry, which will be hosted at `registryname.azurecr.io`.</span></span>

![Criar um registro de contêiner](./media/create-container-registry.png)

<span data-ttu-id="0e24f-126">**Figura 3-11**.</span><span class="sxs-lookup"><span data-stu-id="0e24f-126">**Figure 3-11**.</span></span> <span data-ttu-id="0e24f-127">Criar um registro de contêiner</span><span class="sxs-lookup"><span data-stu-id="0e24f-127">Create container registry</span></span>

<span data-ttu-id="0e24f-128">Depois de criar o registro, você precisará autenticar com ele antes de poder usá-lo.</span><span class="sxs-lookup"><span data-stu-id="0e24f-128">Once you've created the registry, you'll need to authenticate with it before you can use it.</span></span> <span data-ttu-id="0e24f-129">Normalmente, você fará logon no registro usando o comando CLI do Azure:</span><span class="sxs-lookup"><span data-stu-id="0e24f-129">Typically, you'll log into the registry using the Azure CLI command:</span></span>

```azurecli
az acr login --name *registryname*
```

<span data-ttu-id="0e24f-130">Depois de autenticado, você pode usar comandos do Docker para enviar imagens de contêiner para ele.</span><span class="sxs-lookup"><span data-stu-id="0e24f-130">Once authenticated, you can use docker commands to push container images to it.</span></span> <span data-ttu-id="0e24f-131">Para poder fazer isso, no entanto, você deve marcar sua imagem com o nome totalmente qualificado (URL) do seu servidor de logon do ACR.</span><span class="sxs-lookup"><span data-stu-id="0e24f-131">Before you can do so, however, you must tag your image with the fully qualified name (URL) of your ACR login server.</span></span> <span data-ttu-id="0e24f-132">Ele terá o formato *registryname*. azurecr.IO.</span><span class="sxs-lookup"><span data-stu-id="0e24f-132">It will have the format *registryname*.azurecr.io.</span></span>

```console
docker tag mycontainer myregistry.azurecr.io/mycontainer:v1
```

<span data-ttu-id="0e24f-133">Depois de ter marcado a imagem, use o `docker push` comando para enviar a imagem por push para a instância do ACR.</span><span class="sxs-lookup"><span data-stu-id="0e24f-133">After you've tagged the image, you use the `docker push` command to push the image to your ACR instance.</span></span>

```console
docker push myregistry.azurecr.io/mycontainer:v1
```

<span data-ttu-id="0e24f-134">Depois de enviar uma imagem por push para o registro, é uma boa ideia remover a imagem do ambiente do Docker local, usando este comando:</span><span class="sxs-lookup"><span data-stu-id="0e24f-134">After you push an image to the registry, it's a good idea to remove the image from your local Docker environment, using this command:</span></span>

```console
docker rmi myregistry.azurecr.io/mycontainer:v1
```

<span data-ttu-id="0e24f-135">Como prática recomendada, os desenvolvedores não devem enviar por push as imagens manualmente para um registro de contêiner.</span><span class="sxs-lookup"><span data-stu-id="0e24f-135">As a best practice, developers shouldn't manually push images to a container registry.</span></span> <span data-ttu-id="0e24f-136">Em vez disso, um pipeline de compilação definido em uma ferramenta como GitHub ou Azure DevOps deve ser responsável por esse processo.</span><span class="sxs-lookup"><span data-stu-id="0e24f-136">Instead, a build pipeline defined in a tool like GitHub or Azure DevOps should be responsible for this process.</span></span> <span data-ttu-id="0e24f-137">Saiba mais no [capítulo DevOps de nuvem nativa](devops.md).</span><span class="sxs-lookup"><span data-stu-id="0e24f-137">Learn more in the [Cloud-Native DevOps chapter](devops.md).</span></span>

## <a name="acr-tasks"></a><span data-ttu-id="0e24f-138">Tarefas do ACR</span><span class="sxs-lookup"><span data-stu-id="0e24f-138">ACR Tasks</span></span>

<span data-ttu-id="0e24f-139">[As tarefas ACR](https://docs.microsoft.com/azure/container-registry/container-registry-tasks-overview) são um conjunto de recursos disponíveis no registro de contêiner do Azure.</span><span class="sxs-lookup"><span data-stu-id="0e24f-139">[ACR Tasks](https://docs.microsoft.com/azure/container-registry/container-registry-tasks-overview) is a set of features available from the Azure Container Registry.</span></span> <span data-ttu-id="0e24f-140">Ele estende seu [ciclo de desenvolvimento de loop interno](https://docs.microsoft.com/dotnet/architecture/containerized-lifecycle/design-develop-containerized-apps/docker-apps-inner-loop-workflow) criando e gerenciando imagens de contêiner na nuvem do Azure.</span><span class="sxs-lookup"><span data-stu-id="0e24f-140">It extends your [inner-loop development cycle](https://docs.microsoft.com/dotnet/architecture/containerized-lifecycle/design-develop-containerized-apps/docker-apps-inner-loop-workflow) by building and managing container images in the Azure cloud.</span></span> <span data-ttu-id="0e24f-141">Em vez de invocar um `docker build` e `docker push` localmente em seu computador de desenvolvimento, eles são automaticamente tratados por tarefas de ACR na nuvem.</span><span class="sxs-lookup"><span data-stu-id="0e24f-141">Instead of invoking a `docker build` and `docker push` locally on your development machine, they're automatically handled by ACR Tasks in the cloud.</span></span>

<span data-ttu-id="0e24f-142">O comando AZ CLI a seguir cria uma imagem de contêiner e a envia para o ACR:</span><span class="sxs-lookup"><span data-stu-id="0e24f-142">The following AZ CLI command both builds a container image and pushes it to ACR:</span></span>

```azurecli
# create a container registry
az acr create --resource-group myResourceGroup --name myContainerRegistry008 --sku Basic

# build container image in ACR and push it into your container regsitry
az acr build --image sample/hello-world:v1  --registry myContainerRegistry008 --file Dockerfile .
```

<span data-ttu-id="0e24f-143">Como você pode ver no bloco de comando anterior, não há necessidade de instalar o Docker desktop em seu computador de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="0e24f-143">As you can see from the previous command block, there's no need to install Docker Desktop on your development machine.</span></span> <span data-ttu-id="0e24f-144">Além disso, você pode configurar gatilhos de tarefa ACR para recriar imagens de contêineres no código-fonte e nas atualizações da imagem de base.</span><span class="sxs-lookup"><span data-stu-id="0e24f-144">Additionally, you can configure ACR Task triggers to rebuild containers images on both source code and base image updates.</span></span>

## <a name="azure-kubernetes-service"></a><span data-ttu-id="0e24f-145">Serviço de Kubernetes do Azure</span><span class="sxs-lookup"><span data-stu-id="0e24f-145">Azure Kubernetes Service</span></span>

<span data-ttu-id="0e24f-146">Discutimos o AKS (serviço kubernetes do Azure) no comprimento deste capítulo.</span><span class="sxs-lookup"><span data-stu-id="0e24f-146">We discussed Azure Kubernetes Service (AKS) at length in this chapter.</span></span> <span data-ttu-id="0e24f-147">Vimos que é o orquestrador de contêineres de fato gerenciar aplicativos nativos de nuvem em contêineres.</span><span class="sxs-lookup"><span data-stu-id="0e24f-147">We've seen that it's the de facto container orchestrator managing containerized cloud-native applications.</span></span>

<span data-ttu-id="0e24f-148">Depois de implantar uma imagem em um registro, como o ACR, você pode configurar o AKS para efetuar pull e implantá-lo automaticamente.</span><span class="sxs-lookup"><span data-stu-id="0e24f-148">Once you deploy an image to a registry, such as ACR, you can configure AKS to automatically pull and deploy it.</span></span> <span data-ttu-id="0e24f-149">Com um pipeline de CI/CD em vigor, você pode configurar uma estratégia de [liberação canário](https://martinfowler.com/bliki/CanaryRelease.html) para minimizar o risco envolvido ao implantar atualizações rapidamente.</span><span class="sxs-lookup"><span data-stu-id="0e24f-149">With a CI/CD pipeline in place, you might configure a  [canary release](https://martinfowler.com/bliki/CanaryRelease.html) strategy to minimize the risk involved when rapidly deploying updates.</span></span> <span data-ttu-id="0e24f-150">A nova versão do aplicativo é inicialmente configurada em produção, sem nenhum tráfego roteado para ele.</span><span class="sxs-lookup"><span data-stu-id="0e24f-150">The new version of the app is initially configured in production with no traffic routed to it.</span></span> <span data-ttu-id="0e24f-151">Em seguida, o sistema roteará uma pequena porcentagem de usuários para a versão implantada recentemente.</span><span class="sxs-lookup"><span data-stu-id="0e24f-151">Then, the system will route a small percentage of users to the newly deployed version.</span></span> <span data-ttu-id="0e24f-152">À medida que a equipe ganha confiança na nova versão, ela pode distribuir mais instâncias e desativar o antigo.</span><span class="sxs-lookup"><span data-stu-id="0e24f-152">As the team gains confidence in the new version, it can roll out more instances and retire the old.</span></span> <span data-ttu-id="0e24f-153">O AKS dá suporte facilmente a esse estilo de implantação.</span><span class="sxs-lookup"><span data-stu-id="0e24f-153">AKS easily supports this style of deployment.</span></span>

<span data-ttu-id="0e24f-154">Assim como acontece com a maioria dos recursos no Azure, você pode criar um cluster do serviço kubernetes do Azure usando o portal, a linha de comando ou as ferramentas de automação, como Helm ou Terraform.</span><span class="sxs-lookup"><span data-stu-id="0e24f-154">As with most resources in Azure, you can create an Azure Kubernetes Service cluster using the portal, command-line, or automation tools like Helm or Terraform.</span></span> <span data-ttu-id="0e24f-155">Para começar a usar um novo cluster, você precisa fornecer as seguintes informações:</span><span class="sxs-lookup"><span data-stu-id="0e24f-155">To get started with a new cluster, you need to provide the following information:</span></span>

- <span data-ttu-id="0e24f-156">Assinatura do Azure</span><span class="sxs-lookup"><span data-stu-id="0e24f-156">Azure subscription</span></span>
- <span data-ttu-id="0e24f-157">Resource group</span><span class="sxs-lookup"><span data-stu-id="0e24f-157">Resource group</span></span>
- <span data-ttu-id="0e24f-158">Nome do cluster kubernetes</span><span class="sxs-lookup"><span data-stu-id="0e24f-158">Kubernetes cluster name</span></span>
- <span data-ttu-id="0e24f-159">Região</span><span class="sxs-lookup"><span data-stu-id="0e24f-159">Region</span></span>
- <span data-ttu-id="0e24f-160">Versão do kubernetes</span><span class="sxs-lookup"><span data-stu-id="0e24f-160">Kubernetes version</span></span>
- <span data-ttu-id="0e24f-161">Prefixo do nome DNS</span><span class="sxs-lookup"><span data-stu-id="0e24f-161">DNS name prefix</span></span>
- <span data-ttu-id="0e24f-162">Tamanho do nó</span><span class="sxs-lookup"><span data-stu-id="0e24f-162">Node size</span></span>
- <span data-ttu-id="0e24f-163">Contagem de nós</span><span class="sxs-lookup"><span data-stu-id="0e24f-163">Node count</span></span>

<span data-ttu-id="0e24f-164">Essas informações são suficientes para começar.</span><span class="sxs-lookup"><span data-stu-id="0e24f-164">This information is sufficient to get started.</span></span> <span data-ttu-id="0e24f-165">Como parte do processo de criação no portal do Azure, você também pode configurar opções para os seguintes recursos do cluster:</span><span class="sxs-lookup"><span data-stu-id="0e24f-165">As part of the creation process in the Azure portal, you can also configure options for the following features of your cluster:</span></span>

- <span data-ttu-id="0e24f-166">Escala</span><span class="sxs-lookup"><span data-stu-id="0e24f-166">Scale</span></span>
- <span data-ttu-id="0e24f-167">Autenticação</span><span class="sxs-lookup"><span data-stu-id="0e24f-167">Authentication</span></span>
- <span data-ttu-id="0e24f-168">Rede</span><span class="sxs-lookup"><span data-stu-id="0e24f-168">Networking</span></span>
- <span data-ttu-id="0e24f-169">Monitoramento</span><span class="sxs-lookup"><span data-stu-id="0e24f-169">Monitoring</span></span>
- <span data-ttu-id="0e24f-170">Marcações</span><span class="sxs-lookup"><span data-stu-id="0e24f-170">Tags</span></span>

<span data-ttu-id="0e24f-171">Este [Guia de início rápido orienta a implantação de um cluster AKs usando o portal do Azure](https://docs.microsoft.com/azure/aks/kubernetes-walkthrough-portal).</span><span class="sxs-lookup"><span data-stu-id="0e24f-171">This [quickstart walks through deploying an AKS cluster using the Azure portal](https://docs.microsoft.com/azure/aks/kubernetes-walkthrough-portal).</span></span>

## <a name="azure-dev-spaces"></a><span data-ttu-id="0e24f-172">Espaços de Desenvolvimento do Azure</span><span class="sxs-lookup"><span data-stu-id="0e24f-172">Azure Dev Spaces</span></span>

<span data-ttu-id="0e24f-173">Os aplicativos nativos de nuvem podem crescer de forma rápida e complexa, exigindo recursos de computação significativos para serem executados.</span><span class="sxs-lookup"><span data-stu-id="0e24f-173">Cloud-native applications can quickly grow large and complex, requiring significant compute resources to run.</span></span> <span data-ttu-id="0e24f-174">Nesses cenários, o aplicativo inteiro não pode ser hospedado em um computador de desenvolvimento (especialmente um laptop).</span><span class="sxs-lookup"><span data-stu-id="0e24f-174">In these scenarios, the entire application can't be hosted on a development machine (especially a laptop).</span></span> <span data-ttu-id="0e24f-175">Azure Dev Spaces foi projetado para resolver esse problema usando AKS.</span><span class="sxs-lookup"><span data-stu-id="0e24f-175">Azure Dev Spaces is designed to address this problem using AKS.</span></span> <span data-ttu-id="0e24f-176">Ele permite que os desenvolvedores trabalhem com uma versão local de seus serviços enquanto hospedam o restante do aplicativo em um cluster de desenvolvimento AKS.</span><span class="sxs-lookup"><span data-stu-id="0e24f-176">It enables developers to work with a local version of their services while hosting the rest of the application in an AKS development cluster.</span></span>

<span data-ttu-id="0e24f-177">Os desenvolvedores compartilham uma instância em execução (desenvolvimento) em um cluster AKS que contém o aplicativo em contêineres inteiro.</span><span class="sxs-lookup"><span data-stu-id="0e24f-177">Developers share a running (development) instance in an AKS cluster that contains the entire containerized application.</span></span> <span data-ttu-id="0e24f-178">Mas eles usam espaços pessoais configurados em sua máquina para desenvolver localmente seus serviços.</span><span class="sxs-lookup"><span data-stu-id="0e24f-178">But they use personal spaces set up on their machine to locally develop their services.</span></span> <span data-ttu-id="0e24f-179">Quando estiver pronto, eles serão testados de ponta a ponta no cluster AKS, sem replicar dependências.</span><span class="sxs-lookup"><span data-stu-id="0e24f-179">When ready, they test from end-to-end in the AKS cluster - without replicating dependencies.</span></span> <span data-ttu-id="0e24f-180">Azure Dev Spaces mescla o código do computador local com serviços no AKS.</span><span class="sxs-lookup"><span data-stu-id="0e24f-180">Azure Dev Spaces merges code from the local machine with services in AKS.</span></span> <span data-ttu-id="0e24f-181">Os desenvolvedores podem iterar e depurar rapidamente o código diretamente no kubernetes usando o Visual Studio ou o Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="0e24f-181">Developers can rapidly iterate and debug code directly in Kubernetes using Visual Studio or Visual Studio Code.</span></span>

<span data-ttu-id="0e24f-182">Para entender o valor de Azure Dev Spaces, deixe-me compartilhar essa citação de Gabe Monroy, PM Lead dos contêineres em Microsoft Azure:</span><span class="sxs-lookup"><span data-stu-id="0e24f-182">To understand the value of Azure Dev Spaces, let me share this quotation from Gabe Monroy, PM Lead of Containers at Microsoft Azure:</span></span>

> <span data-ttu-id="0e24f-183">"Imagine que você seja um novo funcionário tentando corrigir um bug em um aplicativo de microserviços complexos que consiste em dezenas de componentes, cada um com sua própria configuração e serviços de apoio.</span><span class="sxs-lookup"><span data-stu-id="0e24f-183">"Imagine you're a new employee trying to fix a bug in a complex microservices application consisting of dozens of components, each with their own configuration and backing services.</span></span> <span data-ttu-id="0e24f-184">Para começar, você deve configurar seu ambiente de desenvolvimento local para que ele possa imitar a produção, incluindo a configuração de seu IDE, criação de cadeia de ferramentas, dependências de serviço em contêineres, um ambiente kubernetes local, simulações para fazer backup de serviços e muito mais.</span><span class="sxs-lookup"><span data-stu-id="0e24f-184">To get started, you must configure your local development environment so that it can mimic production including setting up your IDE, building tool chain, containerized service dependencies, a local Kubernetes environment, mocks for backing services, and more.</span></span> <span data-ttu-id="0e24f-185">Com o tempo todo envolvido na configuração de seu ambiente de desenvolvimento, corrigir esse primeiro bug pode levar dias.</span><span class="sxs-lookup"><span data-stu-id="0e24f-185">With all the time involved setting up your development environment, fixing that first bug could take days.</span></span>
> <span data-ttu-id="0e24f-186">Ou você pode usar espaços de desenvolvimento e AKS. "</span><span class="sxs-lookup"><span data-stu-id="0e24f-186">Or you could use Dev Spaces and AKS."</span></span>

<span data-ttu-id="0e24f-187">O processo para trabalhar com Azure Dev Spaces envolve as seguintes etapas:</span><span class="sxs-lookup"><span data-stu-id="0e24f-187">The process for working with Azure Dev Spaces involves the following steps:</span></span>

1. <span data-ttu-id="0e24f-188">Crie o espaço de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="0e24f-188">Create the dev space.</span></span>
2. <span data-ttu-id="0e24f-189">Configure o espaço de desenvolvimento raiz.</span><span class="sxs-lookup"><span data-stu-id="0e24f-189">Configure the root dev space.</span></span>
3. <span data-ttu-id="0e24f-190">Configure um espaço de desenvolvimento filho (para sua própria versão do sistema).</span><span class="sxs-lookup"><span data-stu-id="0e24f-190">Configure a child dev space (for your own version of the system).</span></span>
4. <span data-ttu-id="0e24f-191">Conecte-se ao espaço de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="0e24f-191">Connect to the dev space.</span></span>

<span data-ttu-id="0e24f-192">Todas essas etapas podem ser executadas usando o CLI do Azure e novas `azds` ferramentas de linha de comando.</span><span class="sxs-lookup"><span data-stu-id="0e24f-192">All of these steps can be performed using the Azure CLI and new  `azds` command-line tools.</span></span> <span data-ttu-id="0e24f-193">Por exemplo, para criar um novo espaço de desenvolvimento do Azure para um determinado cluster kubernetes, você usaria um comando como este:</span><span class="sxs-lookup"><span data-stu-id="0e24f-193">For example, to create a new Azure Dev Space for a given Kubernetes cluster, you would use a command like this one:</span></span>

```azurecli
az aks use-dev-spaces -g my-aks-resource-group -n MyAKSCluster
```

<span data-ttu-id="0e24f-194">Em seguida, você pode usar o `azds prep` comando para gerar os ativos necessários do Docker e do gráfico Helm para executar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="0e24f-194">Next, you can use the `azds prep` command to generate the necessary Docker and Helm chart assets for running the application.</span></span> <span data-ttu-id="0e24f-195">Em seguida, você executa seu código no AKS usando `azds up` .</span><span class="sxs-lookup"><span data-stu-id="0e24f-195">Then you run your code in AKS using `azds up`.</span></span> <span data-ttu-id="0e24f-196">Na primeira vez que você executar esse comando, o gráfico Helm será instalado.</span><span class="sxs-lookup"><span data-stu-id="0e24f-196">The first time you run this command, the Helm chart will be installed.</span></span> <span data-ttu-id="0e24f-197">Os contêineres serão criados e implantados de acordo com suas instruções.</span><span class="sxs-lookup"><span data-stu-id="0e24f-197">The containers will be built and deployed according to your instructions.</span></span> <span data-ttu-id="0e24f-198">Essa tarefa pode levar alguns minutos na primeira vez em que for executada.</span><span class="sxs-lookup"><span data-stu-id="0e24f-198">This task may take a few minutes the first time it's run.</span></span> <span data-ttu-id="0e24f-199">No entanto, depois de fazer alterações, você pode se conectar ao seu próprio espaço de desenvolvimento filho usando `azds space select` e, em seguida, implantar e depurar suas atualizações em seu espaço de desenvolvimento filho isolado.</span><span class="sxs-lookup"><span data-stu-id="0e24f-199">However, after you make changes, you can connect to your own child dev space using `azds space select` and then deploy and debug your updates in your isolated child dev space.</span></span> <span data-ttu-id="0e24f-200">Depois que o seu espaço de desenvolvimento estiver em funcionamento, você poderá enviar atualizações para ele emitindo o `azds up` comando novamente ou pode usar as ferramentas internas no Visual Studio ou Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="0e24f-200">Once you have your dev space up and running, you can send updates to it by reissuing the `azds up` command or you can use built-in tooling in Visual Studio or Visual Studio Code.</span></span> <span data-ttu-id="0e24f-201">Com VS Code, você usa a paleta de comandos para se conectar ao seu espaço de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="0e24f-201">With VS Code, you use the command palette to connect to your dev space.</span></span> <span data-ttu-id="0e24f-202">A Figura 3-12 mostra como iniciar seu aplicativo Web usando o Azure Dev Spaces no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="0e24f-202">Figure 3-12 shows how to launch your web application using Azure Dev Spaces in Visual Studio.</span></span>

<span data-ttu-id="0e24f-203">![Conecte-se a Azure Dev Spaces no Visual Studio ](./media/azure-dev-spaces-visual-studio-launchsettings.png)
 **Figura 3-12**.</span><span class="sxs-lookup"><span data-stu-id="0e24f-203">![Connect to Azure Dev Spaces in Visual Studio](./media/azure-dev-spaces-visual-studio-launchsettings.png)
**Figure 3-12**.</span></span> <span data-ttu-id="0e24f-204">Conectar-se a Azure Dev Spaces no Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0e24f-204">Connect to Azure Dev Spaces in Visual Studio</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="0e24f-205">[Anterior](combine-containers-serverless-approaches.md) 
> [Avançar](scale-containers-serverless.md)</span><span class="sxs-lookup"><span data-stu-id="0e24f-205">[Previous](combine-containers-serverless-approaches.md)
[Next](scale-containers-serverless.md)</span></span>
