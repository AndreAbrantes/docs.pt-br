---
title: Objetos Principal e Identity
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- WindowsIdentity objects
- GenericIdentity objects
- GenericPrincipal objects
- identity objects, about identity objects
- security [.NET Framework], identity objects
- principal objects, about principal objects
- security [.NET Framework], principals
- WindowsPrincipal objects
ms.assetid: aa5930ad-f3d7-40aa-b6f6-c6edcd5c64f7
author: mairaw
ms.author: mairaw
ms.openlocfilehash: bfc9a08377a281f7325b120a873fc9b27b8ad856
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/04/2018
---
# <a name="principal-and-identity-objects"></a><span data-ttu-id="9f6a2-102">Objetos Principal e Identity</span><span class="sxs-lookup"><span data-stu-id="9f6a2-102">Principal and Identity Objects</span></span>
<span data-ttu-id="9f6a2-103">Código gerenciado pode descobrir a identidade ou a função de uma entidade de segurança por meio de um <xref:System.Security.Principal.IPrincipal> objeto, que contém uma referência a um <xref:System.Security.Principal.IIdentity> objeto.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-103">Managed code can discover the identity or the role of a principal through a <xref:System.Security.Principal.IPrincipal> object, which contains a reference to an <xref:System.Security.Principal.IIdentity> object.</span></span> <span data-ttu-id="9f6a2-104">Pode ser útil comparar objetos de identidade e uma entidade para conceitos familiares, como contas de usuário e grupo.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-104">It might be helpful to compare identity and principal objects to familiar concepts like user and group accounts.</span></span> <span data-ttu-id="9f6a2-105">Na maioria dos ambientes de rede, contas de usuário representam pessoas ou programas, enquanto as contas de grupo representam certas categorias de usuários e os direitos que eles possuem.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-105">In most network environments, user accounts represent people or programs, while group accounts represent certain categories of users and the rights they possess.</span></span> <span data-ttu-id="9f6a2-106">Da mesma forma, os objetos de identidade do .NET Framework representam usuários, enquanto funções representam as associações e contextos de segurança.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-106">Similarly, .NET Framework identity objects represent users, while roles represent memberships and security contexts.</span></span> <span data-ttu-id="9f6a2-107">No .NET Framework, o objeto principal encapsula um objeto de identidade e uma função.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-107">In the .NET Framework, the principal object encapsulates both an identity object and a role.</span></span> <span data-ttu-id="9f6a2-108">Aplicativos do .NET framework concedem direitos para a entidade de segurança com base em sua identidade ou, mais comumente, sua associação de função.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-108">.NET Framework applications grant rights to the principal based on its identity or, more commonly, its role membership.</span></span>  
  
## <a name="identity-objects"></a><span data-ttu-id="9f6a2-109">Objetos de identidade</span><span class="sxs-lookup"><span data-stu-id="9f6a2-109">Identity Objects</span></span>  
 <span data-ttu-id="9f6a2-110">O objeto de identidade encapsula informações sobre o usuário ou a entidade que está sendo validado.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-110">The identity object encapsulates information about the user or entity being validated.</span></span> <span data-ttu-id="9f6a2-111">Em seu nível mais básico, objetos de identidade contêm um nome e um tipo de autenticação.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-111">At their most basic level, identity objects contain a name and an authentication type.</span></span> <span data-ttu-id="9f6a2-112">O nome pode ser um nome de usuário ou o nome de uma conta do Windows, enquanto o tipo de autenticação pode ser um protocolo de logon com suporte, como o Kerberos V5, ou um valor personalizado.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-112">The name can either be a user's name or the name of a Windows account, while the authentication type can be either a supported logon protocol, such as Kerberos V5, or a custom value.</span></span> <span data-ttu-id="9f6a2-113">O .NET Framework define um <xref:System.Security.Principal.GenericIdentity> objeto que pode ser usado para a maioria dos cenários de logon personalizada e uma mais especializadas <xref:System.Security.Principal.WindowsIdentity> objeto que pode ser usado quando você deseja que seu aplicativo depender de autenticação do Windows.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-113">The .NET Framework defines a <xref:System.Security.Principal.GenericIdentity> object that can be used for most custom logon scenarios and a more specialized <xref:System.Security.Principal.WindowsIdentity> object that can be used when you want your application to rely on Windows authentication.</span></span> <span data-ttu-id="9f6a2-114">Além disso, você pode definir sua própria classe de identidade que encapsula informações de usuário personalizada.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-114">Additionally, you can define your own identity class that encapsulates custom user information.</span></span>  
  
 <span data-ttu-id="9f6a2-115">O <xref:System.Security.Principal.IIdentity> interface define propriedades para acessar um nome e um tipo de autenticação, como Kerberos V5 ou NTLM.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-115">The <xref:System.Security.Principal.IIdentity> interface defines properties for accessing a name and an authentication type, such as Kerberos V5 or NTLM.</span></span> <span data-ttu-id="9f6a2-116">Todos os **identidade** classes implementam o **IIdentity** interface.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-116">All **Identity** classes implement the **IIdentity** interface.</span></span> <span data-ttu-id="9f6a2-117">Não há nenhuma relação necessária entre um **identidade** token de objeto e o processo do Windows NT em que um thread está em execução atualmente.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-117">There is no required relationship between an **Identity** object and the Windows NT process token under which a thread is currently executing.</span></span> <span data-ttu-id="9f6a2-118">No entanto, se o **identidade** objeto é um **WindowsIdentity** object, a identidade é assumida para representar um token de segurança do Windows NT.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-118">However, if the **Identity** object is a **WindowsIdentity** object, the identity is assumed to represent a Windows NT security token.</span></span>  
  
## <a name="principal-objects"></a><span data-ttu-id="9f6a2-119">Objetos de entidade</span><span class="sxs-lookup"><span data-stu-id="9f6a2-119">Principal Objects</span></span>  
 <span data-ttu-id="9f6a2-120">O objeto principal representa o contexto de segurança sob a qual o código está sendo executado.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-120">The principal object represents the security context under which code is running.</span></span> <span data-ttu-id="9f6a2-121">Os aplicativos que implementam a segurança baseada em função conceder direitos com base em função associada a um objeto principal.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-121">Applications that implement role-based security grant rights based on the role associated with a principal object.</span></span> <span data-ttu-id="9f6a2-122">Semelhante aos objetos de identidade, o .NET Framework fornece um <xref:System.Security.Principal.GenericPrincipal> objeto e um <xref:System.Security.Principal.WindowsPrincipal> objeto.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-122">Similar to identity objects, the .NET Framework provides a <xref:System.Security.Principal.GenericPrincipal> object and a <xref:System.Security.Principal.WindowsPrincipal> object.</span></span> <span data-ttu-id="9f6a2-123">Você também pode definir suas próprias classes de entidade de segurança personalizadas.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-123">You can also define your own custom principal classes.</span></span>  
  
 <span data-ttu-id="9f6a2-124">O <xref:System.Security.Principal.IPrincipal> interface define uma propriedade para acessar um associado **identidade** do objeto, bem como um método para determinar se o usuário identificado pelo **Principal** objeto é um membro de um função determinada.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-124">The <xref:System.Security.Principal.IPrincipal> interface defines a property for accessing an associated **Identity** object as well as a method for determining whether the user identified by the **Principal** object is a member of a given role.</span></span> <span data-ttu-id="9f6a2-125">Todos os **Principal** classes implementam o **IPrincipal** interface, bem como quaisquer propriedades e métodos adicionais que são necessários.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-125">All **Principal** classes implement the **IPrincipal** interface as well as any additional properties and methods that are necessary.</span></span> <span data-ttu-id="9f6a2-126">Por exemplo, o common language runtime fornece o **WindowsPrincipal** classe que implementa a funcionalidade adicional para o mapeamento de associação de grupo do Windows NT ou Windows 2000 para funções.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-126">For example, the common language runtime provides the **WindowsPrincipal** class, which implements additional functionality for mapping Windows NT or Windows 2000 group membership to roles.</span></span>  
  
 <span data-ttu-id="9f6a2-127">Um **Principal** objeto está associado a um contexto de chamada (<xref:System.Runtime.Remoting.Messaging.CallContext>) objeto dentro de um domínio de aplicativo (<xref:System.AppDomain>).</span><span class="sxs-lookup"><span data-stu-id="9f6a2-127">A **Principal** object is bound to a call context (<xref:System.Runtime.Remoting.Messaging.CallContext>) object within an application domain (<xref:System.AppDomain>).</span></span> <span data-ttu-id="9f6a2-128">Um contexto de chamada padrão sempre é criado com cada novo **AppDomain**, portanto, sempre há um contexto de chamada disponível para aceitar o **Principal** objeto.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-128">A default call context is always created with each new **AppDomain**, so there is always a call context available to accept the **Principal** object.</span></span> <span data-ttu-id="9f6a2-129">Quando um novo thread é criado, um **CallContext** objeto também é criado para o thread.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-129">When a new thread is created, a **CallContext** object is also created for the thread.</span></span> <span data-ttu-id="9f6a2-130">O **Principal** referência de objeto é copiada automaticamente do criar thread para o novo thread **CallContext**.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-130">The **Principal** object reference is automatically copied from the creating thread to the new thread's **CallContext**.</span></span> <span data-ttu-id="9f6a2-131">Se o tempo de execução não pode determinar qual **Principal** objeto pertence ao criador do thread, ele segue a política padrão para **Principal** e **identidade** objeto criação.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-131">If the runtime cannot determine which **Principal** object belongs to the creator of the thread, it follows the default policy for **Principal** and **Identity** object creation.</span></span>  
  
 <span data-ttu-id="9f6a2-132">Uma política de domínio específico de aplicativo configurável define as regras para decidir qual tipo de **Principal** objeto para associar um novo domínio de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-132">A configurable application domain-specific policy defines the rules for deciding what type of **Principal** object to associate with a new application domain.</span></span> <span data-ttu-id="9f6a2-133">Quando a política de segurança permite, o tempo de execução pode criar **Principal** e **identidade** objetos que refletem o token de sistema operacional associado com o segmento atual de execução.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-133">Where security policy permits, the runtime can create **Principal** and **Identity** objects that reflect the operating system token associated with the current thread of execution.</span></span> <span data-ttu-id="9f6a2-134">Por padrão, o tempo de execução usa **Principal** e **identidade** objetos que representam os usuários não autenticados.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-134">By default, the runtime uses **Principal** and **Identity** objects that represent unauthenticated users.</span></span> <span data-ttu-id="9f6a2-135">O tempo de execução não cria esses padrão **Principal** e **identidade** objetos até que o código tentar acessá-los.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-135">The runtime does not create these default **Principal** and **Identity** objects until the code attempts to access them.</span></span>  
  
 <span data-ttu-id="9f6a2-136">Confiável para o código que cria um domínio de aplicativo pode definir a política de domínio de aplicativo que controla a construção do padrão **Principal** e **identidade** objetos.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-136">Trusted code that creates an application domain can set the application domain policy that controls construction of the default **Principal** and **Identity** objects.</span></span> <span data-ttu-id="9f6a2-137">Esta política de domínio específico do aplicativo se aplica a todos os threads de execução no domínio de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-137">This application domain-specific policy applies to all execution threads in that application domain.</span></span> <span data-ttu-id="9f6a2-138">Um host confiável, não gerenciado inerentemente tem a capacidade de definir essa política, mas o código gerenciado que define essa diretiva deve ter o <xref:System.Security.Permissions.SecurityPermission?displayProperty=nameWithType> para controlar a política de domínio.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-138">An unmanaged, trusted host inherently has the ability to set this policy, but managed code that sets this policy must have the <xref:System.Security.Permissions.SecurityPermission?displayProperty=nameWithType> for controlling domain policy.</span></span>  
  
 <span data-ttu-id="9f6a2-139">Ao transmitir um **Principal** objeto entre domínios de aplicativo, mas dentro do mesmo processo (e, portanto, no mesmo computador), a infraestrutura de comunicação remota copia uma referência para o **Principal** objeto associado com o contexto do chamador para o contexto do receptor.</span><span class="sxs-lookup"><span data-stu-id="9f6a2-139">When transmitting a **Principal** object across application domains but within the same process (and therefore on the same computer), the remoting infrastructure copies a reference to the **Principal** object associated with the caller's context to the callee's context.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9f6a2-140">Consulte também</span><span class="sxs-lookup"><span data-stu-id="9f6a2-140">See Also</span></span>  
 [<span data-ttu-id="9f6a2-141">Como criar um objeto WindowsPrincipal</span><span class="sxs-lookup"><span data-stu-id="9f6a2-141">How to: Create a WindowsPrincipal Object</span></span>](../../../docs/standard/security/how-to-create-a-windowsprincipal-object.md)  
 [<span data-ttu-id="9f6a2-142">Como criar objetos GenericPrincipal e GenericIdentity</span><span class="sxs-lookup"><span data-stu-id="9f6a2-142">How to: Create GenericPrincipal and GenericIdentity Objects</span></span>](../../../docs/standard/security/how-to-create-genericprincipal-and-genericidentity-objects.md)  
 [<span data-ttu-id="9f6a2-143">Como substituir um objeto Principal</span><span class="sxs-lookup"><span data-stu-id="9f6a2-143">Replacing a Principal Object</span></span>](../../../docs/standard/security/replacing-a-principal-object.md)  
 [<span data-ttu-id="9f6a2-144">Representação e reversão</span><span class="sxs-lookup"><span data-stu-id="9f6a2-144">Impersonating and Reverting</span></span>](../../../docs/standard/security/impersonating-and-reverting.md)  
 [<span data-ttu-id="9f6a2-145">Segurança baseada em Função</span><span class="sxs-lookup"><span data-stu-id="9f6a2-145">Role-Based Security</span></span>](../../../docs/standard/security/role-based-security.md)  
 [<span data-ttu-id="9f6a2-146">Principais conceitos de segurança</span><span class="sxs-lookup"><span data-stu-id="9f6a2-146">Key Security Concepts</span></span>](../../../docs/standard/security/key-security-concepts.md)
