---
title: Bloqueios de leitor-gravador
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- ReaderWriterLock class, about ReaderWriterLock class
- threading [.NET Framework], ReaderWriterLock class
ms.assetid: 8c71acf2-2c18-4f4d-8cdb-0728639265fd
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 8be9b4eef30333fbbdc26915635d17157176d6fc
ms.sourcegitcommit: 4b6490b2529707627ad77c3a43fbe64120397175
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/10/2018
ms.locfileid: "44275032"
---
# <a name="reader-writer-locks"></a><span data-ttu-id="5ba84-102">Bloqueios de leitor-gravador</span><span class="sxs-lookup"><span data-stu-id="5ba84-102">Reader-Writer Locks</span></span>
<span data-ttu-id="5ba84-103">A classe <xref:System.Threading.ReaderWriterLockSlim> permite que vários threads leiam um recurso ao mesmo tempo, mas requer que um thread aguarde um bloqueio exclusivo para gravar o recurso.</span><span class="sxs-lookup"><span data-stu-id="5ba84-103">The <xref:System.Threading.ReaderWriterLockSlim> class enables multiple threads to read a resource concurrently, but requires a thread to wait for an exclusive lock in order to write to the resource.</span></span>  
  
 <span data-ttu-id="5ba84-104">É possível usar um <xref:System.Threading.ReaderWriterLockSlim> ni seu aplicativo para fornecer sincronização cooperativa entre os threads que acessam um recurso compartilhado.</span><span class="sxs-lookup"><span data-stu-id="5ba84-104">You might use a <xref:System.Threading.ReaderWriterLockSlim> in your application to provide cooperative synchronization among threads that access a shared resource.</span></span> <span data-ttu-id="5ba84-105">Os bloqueios são aplicados no próprio <xref:System.Threading.ReaderWriterLockSlim>.</span><span class="sxs-lookup"><span data-stu-id="5ba84-105">Locks are taken on the <xref:System.Threading.ReaderWriterLockSlim> itself.</span></span>  
  
 <span data-ttu-id="5ba84-106">Assim como em qualquer mecanismo de sincronização de thread, nenhum thread deve ignorar o bloqueio fornecido pelo <xref:System.Threading.ReaderWriterLockSlim>.</span><span class="sxs-lookup"><span data-stu-id="5ba84-106">As with any thread synchronization mechanism, you must ensure that no threads bypass the locking that is provided by <xref:System.Threading.ReaderWriterLockSlim>.</span></span> <span data-ttu-id="5ba84-107">Uma maneira de garantir isso é criar uma classe que encapsule o recurso compartilhado.</span><span class="sxs-lookup"><span data-stu-id="5ba84-107">One way to ensure this is to design a class that encapsulates the shared resource.</span></span> <span data-ttu-id="5ba84-108">Essa classe forneceria membros que acessam o recurso compartilhado privado e que usam um <xref:System.Threading.ReaderWriterLockSlim> particular para a sincronização.</span><span class="sxs-lookup"><span data-stu-id="5ba84-108">This class would provide members that access the private shared resource and that use a private <xref:System.Threading.ReaderWriterLockSlim> for synchronization.</span></span> <span data-ttu-id="5ba84-109">Para ilustrar, confira o exemplo de código para a classe <xref:System.Threading.ReaderWriterLockSlim>.</span><span class="sxs-lookup"><span data-stu-id="5ba84-109">For an example, see the code example for the <xref:System.Threading.ReaderWriterLockSlim> class.</span></span> <span data-ttu-id="5ba84-110">O <xref:System.Threading.ReaderWriterLockSlim> é bastante eficiente para ser usado na sincronização de objetos individuais.</span><span class="sxs-lookup"><span data-stu-id="5ba84-110"><xref:System.Threading.ReaderWriterLockSlim> is efficient enough to be used to synchronize individual objects.</span></span>  
  
 <span data-ttu-id="5ba84-111">Estruture seu aplicativo para minimizar a duração das operações de leitura e gravação.</span><span class="sxs-lookup"><span data-stu-id="5ba84-111">Structure your application to minimize the duration of read and write operations.</span></span> <span data-ttu-id="5ba84-112">Operações de gravação longas afetam diretamente a taxa de transferência porque o bloqueio de gravação é exclusivo.</span><span class="sxs-lookup"><span data-stu-id="5ba84-112">Long write operations affect throughput directly because the write lock is exclusive.</span></span> <span data-ttu-id="5ba84-113">Operações de leitura longas bloqueiam os gravadores em espera e, se pelo menos um thread estiver aguardando pelo acesso de gravação, os threads que solicitarem acesso de leitura também serão bloqueados.</span><span class="sxs-lookup"><span data-stu-id="5ba84-113">Long read operations block waiting writers, and if at least one thread is waiting for write access, threads that request read access will be blocked as well.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5ba84-114">O [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] tem dois bloqueios de leitor-gravador, <xref:System.Threading.ReaderWriterLockSlim> e <xref:System.Threading.ReaderWriterLock>.</span><span class="sxs-lookup"><span data-stu-id="5ba84-114">The [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] has two reader-writer locks, <xref:System.Threading.ReaderWriterLockSlim> and <xref:System.Threading.ReaderWriterLock>.</span></span> <span data-ttu-id="5ba84-115">O <xref:System.Threading.ReaderWriterLockSlim> é recomendado para todos os novos desenvolvimentos.</span><span class="sxs-lookup"><span data-stu-id="5ba84-115"><xref:System.Threading.ReaderWriterLockSlim> is recommended for all new development.</span></span> <span data-ttu-id="5ba84-116">O <xref:System.Threading.ReaderWriterLockSlim> é semelhante ao <xref:System.Threading.ReaderWriterLock>, mas tem regras simplificadas para recursão e para atualização e downgrade de estado de bloqueio.</span><span class="sxs-lookup"><span data-stu-id="5ba84-116"><xref:System.Threading.ReaderWriterLockSlim> is similar to <xref:System.Threading.ReaderWriterLock>, but it has simplified rules for recursion and for upgrading and downgrading lock state.</span></span> <span data-ttu-id="5ba84-117"><xref:System.Threading.ReaderWriterLockSlim> evita muitos casos potenciais de deadlock.</span><span class="sxs-lookup"><span data-stu-id="5ba84-117"><xref:System.Threading.ReaderWriterLockSlim> avoids many cases of potential deadlock.</span></span> <span data-ttu-id="5ba84-118">Além disso, o desempenho de <xref:System.Threading.ReaderWriterLockSlim> é significativamente melhor que o de <xref:System.Threading.ReaderWriterLock>.</span><span class="sxs-lookup"><span data-stu-id="5ba84-118">In addition, the performance of <xref:System.Threading.ReaderWriterLockSlim> is significantly better than <xref:System.Threading.ReaderWriterLock>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5ba84-119">Consulte também</span><span class="sxs-lookup"><span data-stu-id="5ba84-119">See also</span></span>

- <xref:System.Threading.ReaderWriterLockSlim>  
- <xref:System.Threading.ReaderWriterLock>  
- [<span data-ttu-id="5ba84-120">Threading</span><span class="sxs-lookup"><span data-stu-id="5ba84-120">Threading</span></span>](../../../docs/standard/threading/index.md)  
- [<span data-ttu-id="5ba84-121">Objetos e recursos de threading</span><span class="sxs-lookup"><span data-stu-id="5ba84-121">Threading Objects and Features</span></span>](../../../docs/standard/threading/threading-objects-and-features.md)
