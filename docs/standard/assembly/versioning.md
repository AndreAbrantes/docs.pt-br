---
title: Controle de versão do assembly
description: Saiba mais sobre o controle de versão de assemblies .NET. Todas as versões de assemblies que usam o CLR são feitas no nível do assembly.
ms.date: 08/20/2019
helpviewer_keywords:
- informational versions
- version numbers, assemblies
- assemblies [.NET], versioning
- resolving assembly binding requests
- versioning, assemblies
ms.assetid: 775ad4fb-914f-453c-98ef-ce1089b6f903
ms.openlocfilehash: c94e0c74b8beed29537b53d7476715e2cacb7b80
ms.sourcegitcommit: 279fb6e8d515df51676528a7424a1df2f0917116
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/27/2020
ms.locfileid: "92687643"
---
# <a name="assembly-versioning"></a><span data-ttu-id="99f0d-104">Controle de versão do assembly</span><span class="sxs-lookup"><span data-stu-id="99f0d-104">Assembly versioning</span></span>

<span data-ttu-id="99f0d-105">Todo o controle de versão de assemblies que usam o Common Language Runtime é feito no nível do assembly.</span><span class="sxs-lookup"><span data-stu-id="99f0d-105">All versioning of assemblies that use the common language runtime is done at the assembly level.</span></span> <span data-ttu-id="99f0d-106">A versão específica de um assembly e as versões de assemblies dependentes são registradas no manifesto do assembly.</span><span class="sxs-lookup"><span data-stu-id="99f0d-106">The specific version of an assembly and the versions of dependent assemblies are recorded in the assembly's manifest.</span></span> <span data-ttu-id="99f0d-107">A política de versão padrão do runtime diz que aplicativos só são executados com as versões com que foram compilados e testados, a menos que essa política de versão seja substituída pela política de versão explícita em arquivos de configuração (o arquivo de configuração do aplicativo, o arquivo de política do editor e o arquivo de configuração do administrador do computador).</span><span class="sxs-lookup"><span data-stu-id="99f0d-107">The default version policy for the runtime is that applications run only with the versions they were built and tested with, unless overridden by explicit version policy in configuration files (the application configuration file, the publisher policy file, and the computer's administrator configuration file).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="99f0d-108">O controle de versão só é feito em assemblies com nomes fortes.</span><span class="sxs-lookup"><span data-stu-id="99f0d-108">Versioning is done only on assemblies with strong names.</span></span>  
  
<span data-ttu-id="99f0d-109">O ambiente de runtime realiza várias etapas para resolver uma solicitação de associação de assembly:</span><span class="sxs-lookup"><span data-stu-id="99f0d-109">The runtime performs several steps to resolve an assembly binding request:</span></span>  
  
1. <span data-ttu-id="99f0d-110">Verifica a referência ao assembly original para determinar a versão do assembly a ser associada.</span><span class="sxs-lookup"><span data-stu-id="99f0d-110">Checks the original assembly reference to determine the version of the assembly to be bound.</span></span>  
  
2. <span data-ttu-id="99f0d-111">Verifica todos os arquivos de configuração aplicáveis para aplicar uma política de versão.</span><span class="sxs-lookup"><span data-stu-id="99f0d-111">Checks for all applicable configuration files to apply version policy.</span></span>  
  
3. <span data-ttu-id="99f0d-112">Determina o assembly correto com base na referência do assembly original e qualquer redirecionamento especificado nos arquivos de configuração, além de determinar a versão que deve ser associada ao assembly de chamada.</span><span class="sxs-lookup"><span data-stu-id="99f0d-112">Determines the correct assembly from the original assembly reference and any redirection specified in the configuration files, and determines the version that should be bound to the calling assembly.</span></span>  
  
4. <span data-ttu-id="99f0d-113">Verifica o cache de assembly global, codebases especificados em arquivos de configuração e, em seguida, verifica o diretório e os subdiretórios do aplicativo usando as regras de investigação explicadas em [como o tempo de execução localiza assemblies](../../framework/deployment/how-the-runtime-locates-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="99f0d-113">Checks the global assembly cache, codebases specified in configuration files, and then checks the application's directory and subdirectories using the probing rules explained in [How the runtime locates assemblies](../../framework/deployment/how-the-runtime-locates-assemblies.md).</span></span>  
  
<span data-ttu-id="99f0d-114">A seguinte ilustração mostra estas etapas:</span><span class="sxs-lookup"><span data-stu-id="99f0d-114">The following illustration shows these steps:</span></span>  
  
![Diagrama que mostra as etapas na resolução da solicitação de associação de assembly.](./media/versioning/resolve-assembly-binding-request.gif)
  
<span data-ttu-id="99f0d-116">Para obter mais informações sobre como configurar aplicativos, consulte [configurar aplicativos](../../framework/configure-apps/index.md).</span><span class="sxs-lookup"><span data-stu-id="99f0d-116">For more information about configuring applications, see [Configure apps](../../framework/configure-apps/index.md).</span></span> <span data-ttu-id="99f0d-117">Para obter mais informações sobre a política de associação, consulte [como o tempo de execução localiza assemblies](../../framework/deployment/how-the-runtime-locates-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="99f0d-117">For more information about binding policy, see [How the runtime locates assemblies](../../framework/deployment/how-the-runtime-locates-assemblies.md).</span></span>  
  
## <a name="version-information"></a><span data-ttu-id="99f0d-118">Informações da versão</span><span class="sxs-lookup"><span data-stu-id="99f0d-118">Version information</span></span>  

<span data-ttu-id="99f0d-119">Cada assembly tem duas maneiras diferentes de expressar informações de versão:</span><span class="sxs-lookup"><span data-stu-id="99f0d-119">Each assembly has two distinct ways of expressing version information:</span></span>  
  
- <span data-ttu-id="99f0d-120">O número de versão do assembly que, com o nome e a cultura do assembly, faz parte da identidade do assembly.</span><span class="sxs-lookup"><span data-stu-id="99f0d-120">The assembly's version number, which, together with the assembly name and culture information, is part of the assembly's identity.</span></span> <span data-ttu-id="99f0d-121">Esse número é usado pelo runtime para impor a política de versão e desempenha um papel fundamental no processo de resolução do tipo no runtime.</span><span class="sxs-lookup"><span data-stu-id="99f0d-121">This number is used by the runtime to enforce version policy and plays a key part in the type resolution process at run time.</span></span>  
  
- <span data-ttu-id="99f0d-122">Uma versão informativa, uma cadeia de caracteres que representa informações de versão adicionais incluída apenas para fins informativos.</span><span class="sxs-lookup"><span data-stu-id="99f0d-122">An informational version, which is a string that represents additional version information included for informational purposes only.</span></span>  
  
### <a name="assembly-version-number"></a><span data-ttu-id="99f0d-123">Número de versão do assembly</span><span class="sxs-lookup"><span data-stu-id="99f0d-123">Assembly version number</span></span>  

<span data-ttu-id="99f0d-124">Cada assembly tem um número de versão como parte de sua identidade.</span><span class="sxs-lookup"><span data-stu-id="99f0d-124">Each assembly has a version number as part of its identity.</span></span> <span data-ttu-id="99f0d-125">Dessa forma, dois assemblies que diferem pelo número de versão são considerados pelo ambiente de runtime assemblies completamente diferentes.</span><span class="sxs-lookup"><span data-stu-id="99f0d-125">As such, two assemblies that differ by version number are considered by the runtime to be completely different assemblies.</span></span> <span data-ttu-id="99f0d-126">Esse número de versão é representado fisicamente como uma cadeia de caracteres em quatro partes com o seguinte formato:</span><span class="sxs-lookup"><span data-stu-id="99f0d-126">This version number is physically represented as a four-part string with the following format:</span></span>  
  
<span data-ttu-id="99f0d-127">\<*major version*>.\<*minor version*>.\<*build number*>.\<*revision*></span><span class="sxs-lookup"><span data-stu-id="99f0d-127">\<*major version*>.\<*minor version*>.\<*build number*>.\<*revision*></span></span>  
  
<span data-ttu-id="99f0d-128">Por exemplo, a versão 1.5.1254.0 indica que 1 é a versão principal, 5 é a versão secundária, 1254 é o número da versão e 0 é o número de revisão.</span><span class="sxs-lookup"><span data-stu-id="99f0d-128">For example, version 1.5.1254.0 indicates 1 as the major version, 5 as the minor version, 1254 as the build number, and 0 as the revision number.</span></span>  
  
<span data-ttu-id="99f0d-129">O número da versão é armazenado no manifesto do assembly com outras informações de identidade, incluindo o nome e a chave pública do assembly, bem como informações sobre relacionamentos e identidades de outros assemblies conectados ao aplicativo.</span><span class="sxs-lookup"><span data-stu-id="99f0d-129">The version number is stored in the assembly manifest along with other identity information, including the assembly name and public key, as well as information on relationships and identities of other assemblies connected with the application.</span></span>  
  
<span data-ttu-id="99f0d-130">Quando um assembly é compilado, a ferramenta de desenvolvimento registra as informações de dependência de cada assembly referenciado no manifesto do assembly.</span><span class="sxs-lookup"><span data-stu-id="99f0d-130">When an assembly is built, the development tool records dependency information for each assembly that is referenced in the assembly manifest.</span></span> <span data-ttu-id="99f0d-131">O runtime usa esses números de versão, com informações de configuração definidas por um administrador, por um aplicativo ou por um editor, para carregar a versão apropriada de um assembly referenciado.</span><span class="sxs-lookup"><span data-stu-id="99f0d-131">The runtime uses these version numbers, in conjunction with configuration information set by an administrator, an application, or a publisher, to load the proper version of a referenced assembly.</span></span>  
  
<span data-ttu-id="99f0d-132">O runtime diferencia assemblies regulares de assemblies com nomes fortes para fins de controle de versão.</span><span class="sxs-lookup"><span data-stu-id="99f0d-132">The runtime distinguishes between regular and strong-named assemblies for the purposes of versioning.</span></span> <span data-ttu-id="99f0d-133">A verificação de versão só ocorre em assemblies com nomes fortes.</span><span class="sxs-lookup"><span data-stu-id="99f0d-133">Version checking only occurs with strong-named assemblies.</span></span>  
  
<span data-ttu-id="99f0d-134">Para obter informações sobre como especificar políticas de associação de versão, consulte [configurar aplicativos](../../framework/configure-apps/index.md).</span><span class="sxs-lookup"><span data-stu-id="99f0d-134">For information about specifying version binding policies, see [Configure apps](../../framework/configure-apps/index.md).</span></span> <span data-ttu-id="99f0d-135">Para obter informações sobre como o tempo de execução usa informações de versão para localizar um assembly específico, consulte [como o tempo de execução localiza assemblies](../../framework/deployment/how-the-runtime-locates-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="99f0d-135">For information about how the runtime uses version information to find a particular assembly, see [How the runtime locates assemblies](../../framework/deployment/how-the-runtime-locates-assemblies.md).</span></span>  
  
### <a name="assembly-informational-version"></a><span data-ttu-id="99f0d-136">Versão informativa do assembly</span><span class="sxs-lookup"><span data-stu-id="99f0d-136">Assembly informational version</span></span>  

<span data-ttu-id="99f0d-137">A versão informativa é uma cadeia de caracteres que anexa informações adicionais de versão a um assembly apenas para fins informativos; essa informação não é usada no tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="99f0d-137">The informational version is a string that attaches additional version information to an assembly for informational purposes only; this information is not used at run time.</span></span> <span data-ttu-id="99f0d-138">A versão informativa com base em texto corresponde à literatura de marketing, ao empacotamento ou ao nome do produto e não é usada pelo runtime.</span><span class="sxs-lookup"><span data-stu-id="99f0d-138">The text-based informational version corresponds to the product's marketing literature, packaging, or product name and is not used by the runtime.</span></span> <span data-ttu-id="99f0d-139">Por exemplo, uma versão informativa poderia ser "Common Language Runtime versão 1.0" ou "NET Control SP 2".</span><span class="sxs-lookup"><span data-stu-id="99f0d-139">For example, an informational version could be "Common Language Runtime version 1.0" or "NET Control SP 2".</span></span> <span data-ttu-id="99f0d-140">Na guia Versão da caixa de diálogo de propriedades do arquivo no Microsoft Windows, essas informações são exibidas no item "Versão do Produto".</span><span class="sxs-lookup"><span data-stu-id="99f0d-140">On the Version tab of the file properties dialog in Microsoft Windows, this information appears in the item "Product Version".</span></span>  
  
> [!NOTE]
> <span data-ttu-id="99f0d-141">Embora você possa especificar qualquer texto, uma mensagem de aviso aparecerá durante a compilação se a cadeia de caracteres não estiver no formato usado pelo número de versão do assembly ou se ela estiver no formato correto, mas contiver curingas.</span><span class="sxs-lookup"><span data-stu-id="99f0d-141">Although you can specify any text, a warning message appears on compilation if the string is not in the format used by the assembly version number, or if it is in that format but contains wildcards.</span></span> <span data-ttu-id="99f0d-142">Esse aviso é inofensivo.</span><span class="sxs-lookup"><span data-stu-id="99f0d-142">This warning is harmless.</span></span>  
  
<span data-ttu-id="99f0d-143">A versão informativa é representada usando-se o atributo personalizado <xref:System.Reflection.AssemblyInformationalVersionAttribute?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="99f0d-143">The informational version is represented using the custom attribute <xref:System.Reflection.AssemblyInformationalVersionAttribute?displayProperty=nameWithType>.</span></span> <span data-ttu-id="99f0d-144">Para obter mais informações sobre o atributo versão informativa, consulte [set Assembly Attributes](set-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="99f0d-144">For more information about the informational version attribute, see [Set assembly attributes](set-attributes.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="99f0d-145">Veja também</span><span class="sxs-lookup"><span data-stu-id="99f0d-145">See also</span></span>

- [<span data-ttu-id="99f0d-146">Como o tempo de execução localiza assemblies</span><span class="sxs-lookup"><span data-stu-id="99f0d-146">How the runtime locates assemblies</span></span>](../../framework/deployment/how-the-runtime-locates-assemblies.md)
- [<span data-ttu-id="99f0d-147">Configurar aplicativos</span><span class="sxs-lookup"><span data-stu-id="99f0d-147">Configure apps</span></span>](../../framework/configure-apps/index.md)
- [<span data-ttu-id="99f0d-148">Definir atributos do assembly</span><span class="sxs-lookup"><span data-stu-id="99f0d-148">Set assembly attributes</span></span>](set-attributes.md)
- [<span data-ttu-id="99f0d-149">Assemblies no .NET</span><span class="sxs-lookup"><span data-stu-id="99f0d-149">Assemblies in .NET</span></span>](index.md)
