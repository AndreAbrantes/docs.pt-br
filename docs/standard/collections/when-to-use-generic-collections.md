---
title: Quando usar coleções genéricas
ms.date: 04/30/2020
ms.technology: dotnet-standard
helpviewer_keywords:
- collections [.NET Framework], generic
- generic collections [.NET Framework]
ms.assetid: e7b868b1-11fe-4ac5-bed3-de68aca47739
ms.openlocfilehash: c59a125a8df95e3c4fe6e1839956d800bd6ee910
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/02/2020
ms.locfileid: "84290377"
---
# <a name="when-to-use-generic-collections"></a><span data-ttu-id="15465-102">Quando usar coleções genéricas</span><span class="sxs-lookup"><span data-stu-id="15465-102">When to use generic collections</span></span>

<span data-ttu-id="15465-103">O uso de coleções genéricas oferece o benefício automático da segurança de tipo sem a necessidade de derivar de um tipo de coleção base e implementar membros específicos de tipo.</span><span class="sxs-lookup"><span data-stu-id="15465-103">Using generic collections gives you the automatic benefit of type safety without having to derive from a base collection type and implement type-specific members.</span></span> <span data-ttu-id="15465-104">Geralmente, os tipos de coleção genéricos também têm melhor desempenho que os tipos de coleção não genéricos correspondentes (e melhores que os tipos derivados de tipos de coleção base não genéricos) quando os elementos de coleção são tipos de valor, porque com os genéricos, não há necessidade de box os elementos.</span><span class="sxs-lookup"><span data-stu-id="15465-104">Generic collection types also generally perform better than the corresponding nongeneric collection types (and better than types that are derived from nongeneric base collection types) when the collection elements are value types, because with generics, there's no need to box the elements.</span></span>

<span data-ttu-id="15465-105">Para programas direcionados .NET Standard 1,0 ou posterior, use as classes de coleção genéricas no <xref:System.Collections.Concurrent> namespace quando vários threads podem estar adicionando ou removendo itens da coleção simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="15465-105">For programs that target .NET Standard 1.0 or later, use the generic collection classes in the <xref:System.Collections.Concurrent> namespace when multiple threads might be adding or removing items from the collection concurrently.</span></span> <span data-ttu-id="15465-106">Além disso, quando a imutabilidade é desejada, considere as classes de coleção genéricas no <xref:System.Collections.Immutable> namespace.</span><span class="sxs-lookup"><span data-stu-id="15465-106">Additionally, when immutability is desired, consider the generic collection classes in the <xref:System.Collections.Immutable> namespace.</span></span>

<span data-ttu-id="15465-107">Os seguintes tipos genéricos correspondem aos tipos de coleção existentes:</span><span class="sxs-lookup"><span data-stu-id="15465-107">The following generic types correspond to existing collection types:</span></span>

- <span data-ttu-id="15465-108"><xref:System.Collections.Generic.List%601> é a classe genérica que corresponde à <xref:System.Collections.ArrayList>.</span><span class="sxs-lookup"><span data-stu-id="15465-108"><xref:System.Collections.Generic.List%601> is the generic class that corresponds to <xref:System.Collections.ArrayList>.</span></span>

- <span data-ttu-id="15465-109"><xref:System.Collections.Generic.Dictionary%602> e <xref:System.Collections.Concurrent.ConcurrentDictionary%602> são as classes genéricas que correspondem à <xref:System.Collections.Hashtable>.</span><span class="sxs-lookup"><span data-stu-id="15465-109"><xref:System.Collections.Generic.Dictionary%602> and <xref:System.Collections.Concurrent.ConcurrentDictionary%602> are the generic classes that correspond to <xref:System.Collections.Hashtable>.</span></span>

- <span data-ttu-id="15465-110"><xref:System.Collections.ObjectModel.Collection%601> é a classe genérica que corresponde à <xref:System.Collections.CollectionBase>.</span><span class="sxs-lookup"><span data-stu-id="15465-110"><xref:System.Collections.ObjectModel.Collection%601> is the generic class that corresponds to <xref:System.Collections.CollectionBase>.</span></span> <span data-ttu-id="15465-111"><xref:System.Collections.ObjectModel.Collection%601>pode ser usado como uma classe base, mas, ao contrário <xref:System.Collections.CollectionBase> de, não é abstrato, o que o torna muito mais fácil de usar.</span><span class="sxs-lookup"><span data-stu-id="15465-111"><xref:System.Collections.ObjectModel.Collection%601> can be used as a base class, but unlike <xref:System.Collections.CollectionBase>, it is not abstract, which makes it much easier to use.</span></span>

- <span data-ttu-id="15465-112"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> é a classe genérica que corresponde à <xref:System.Collections.ReadOnlyCollectionBase>.</span><span class="sxs-lookup"><span data-stu-id="15465-112"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> is the generic class that corresponds to <xref:System.Collections.ReadOnlyCollectionBase>.</span></span> <span data-ttu-id="15465-113"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601>Não é abstrato e tem um construtor que torna mais fácil expor um existente <xref:System.Collections.Generic.List%601> como uma coleção somente leitura.</span><span class="sxs-lookup"><span data-stu-id="15465-113"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> is not abstract and has a constructor that makes it easy to expose an existing <xref:System.Collections.Generic.List%601> as a read-only collection.</span></span>

- <span data-ttu-id="15465-114">As <xref:System.Collections.Generic.Queue%601> <xref:System.Collections.Concurrent.ConcurrentQueue%601> <xref:System.Collections.Immutable.ImmutableQueue%601> classes genéricas,,,, <xref:System.Collections.Immutable.ImmutableArray%601> <xref:System.Collections.Generic.SortedList%602> e <xref:System.Collections.Immutable.ImmutableSortedSet%601> correspondem às respectivas classes não genéricas com os mesmos nomes.</span><span class="sxs-lookup"><span data-stu-id="15465-114">The <xref:System.Collections.Generic.Queue%601>, <xref:System.Collections.Concurrent.ConcurrentQueue%601>, <xref:System.Collections.Immutable.ImmutableQueue%601>, <xref:System.Collections.Immutable.ImmutableArray%601>, <xref:System.Collections.Generic.SortedList%602>, and <xref:System.Collections.Immutable.ImmutableSortedSet%601> generic classes correspond to the respective nongeneric classes with the same names.</span></span>

## <a name="additional-types"></a><span data-ttu-id="15465-115">Tipos adicionais</span><span class="sxs-lookup"><span data-stu-id="15465-115">Additional Types</span></span>

<span data-ttu-id="15465-116">Vários tipos de coleção genérica não têm equivalentes não genéricas.</span><span class="sxs-lookup"><span data-stu-id="15465-116">Several generic collection types do not have nongeneric counterparts.</span></span> <span data-ttu-id="15465-117">Eles incluem o seguinte:</span><span class="sxs-lookup"><span data-stu-id="15465-117">They include the following:</span></span>

- <span data-ttu-id="15465-118"><xref:System.Collections.Generic.LinkedList%601> é uma lista vinculada de uso geral que fornece operações de inserção e remoção O(1).</span><span class="sxs-lookup"><span data-stu-id="15465-118"><xref:System.Collections.Generic.LinkedList%601> is a general-purpose linked list that provides O(1) insertion and removal operations.</span></span>

- <span data-ttu-id="15465-119"><xref:System.Collections.Generic.SortedDictionary%602> é um dicionário classificado com operações de inserção e recuperação O(log `n`), o que o torna uma alternativa útil para <xref:System.Collections.Generic.SortedList%602>.</span><span class="sxs-lookup"><span data-stu-id="15465-119"><xref:System.Collections.Generic.SortedDictionary%602> is a sorted dictionary with O(log `n`) insertion and retrieval operations, which makes it a useful alternative to <xref:System.Collections.Generic.SortedList%602>.</span></span>

- <span data-ttu-id="15465-120"><xref:System.Collections.ObjectModel.KeyedCollection%602> é um híbrido entre uma lista e um dicionário, que fornece uma maneira de armazenar objetos que contenham suas próprias chaves.</span><span class="sxs-lookup"><span data-stu-id="15465-120"><xref:System.Collections.ObjectModel.KeyedCollection%602> is a hybrid between a list and a dictionary, which provides a way to store objects that contain their own keys.</span></span>

- <span data-ttu-id="15465-121"><xref:System.Collections.Concurrent.BlockingCollection%601> implementa uma classe de coleção com funcionalidade de delimitação e bloqueio.</span><span class="sxs-lookup"><span data-stu-id="15465-121"><xref:System.Collections.Concurrent.BlockingCollection%601> implements a collection class with bounding and blocking functionality.</span></span>

- <span data-ttu-id="15465-122"><xref:System.Collections.Concurrent.ConcurrentBag%601> fornece rápida inserção e remoção de elementos não classificados.</span><span class="sxs-lookup"><span data-stu-id="15465-122"><xref:System.Collections.Concurrent.ConcurrentBag%601> provides fast insertion and removal of unordered elements.</span></span>

### <a name="immutable-builders"></a><span data-ttu-id="15465-123">Construtores imutáveis</span><span class="sxs-lookup"><span data-stu-id="15465-123">Immutable builders</span></span>

<span data-ttu-id="15465-124">Quando você deseja a funcionalidade de imutabilidade em seu aplicativo, o <xref:System.Collections.Immutable> namespace oferece tipos de coleção genéricos que você pode usar.</span><span class="sxs-lookup"><span data-stu-id="15465-124">When you desire immutability functionality in your app, the <xref:System.Collections.Immutable> namespace offers generic collection types you can use.</span></span> <span data-ttu-id="15465-125">Todos os tipos de coleção imutáveis oferecem `Builder` classes que podem otimizar o desempenho quando você estiver realizando várias mutações.</span><span class="sxs-lookup"><span data-stu-id="15465-125">All of the immutable collection types offer `Builder` classes that can optimize performance when you're performing multiple mutations.</span></span> <span data-ttu-id="15465-126">A `Builder` classe agrupa operações em um estado mutável.</span><span class="sxs-lookup"><span data-stu-id="15465-126">The `Builder` class batches operations in a mutable state.</span></span> <span data-ttu-id="15465-127">Quando todas as mutações tiverem sido concluídas, chame o `ToImmutable` método para "congelar" todos os nós e crie uma coleção genérica imutável, por exemplo, um <xref:System.Collections.Immutable.ImmutableList%601> .</span><span class="sxs-lookup"><span data-stu-id="15465-127">When all mutations have been completed, call the `ToImmutable` method to "freeze" all nodes and create an immutable generic collection, for example, an <xref:System.Collections.Immutable.ImmutableList%601>.</span></span>

<span data-ttu-id="15465-128">O `Builder` objeto pode ser criado chamando o método não genérico `CreateBuilder()` .</span><span class="sxs-lookup"><span data-stu-id="15465-128">The `Builder` object can be created by calling the nongeneric `CreateBuilder()` method.</span></span> <span data-ttu-id="15465-129">Em uma `Builder` instância do, você pode chamar `ToImmutable()` .</span><span class="sxs-lookup"><span data-stu-id="15465-129">From a `Builder` instance, you can call `ToImmutable()`.</span></span> <span data-ttu-id="15465-130">Da mesma forma, da `Immutable*` coleção, você pode chamar `ToBuilder()` para criar uma instância de construtor da coleção imutável genérica.</span><span class="sxs-lookup"><span data-stu-id="15465-130">Likewise, from the `Immutable*` collection, you can call `ToBuilder()` to create a builder instance from the generic immutable collection.</span></span> <span data-ttu-id="15465-131">A seguir estão os vários `Builder` tipos.</span><span class="sxs-lookup"><span data-stu-id="15465-131">The following are the various `Builder` types.</span></span>

- <xref:System.Collections.Immutable.ImmutableArray%601.Builder>
- <xref:System.Collections.Immutable.ImmutableDictionary%602.Builder>
- <xref:System.Collections.Immutable.ImmutableHashSet%601.Builder>
- <xref:System.Collections.Immutable.ImmutableList%601.Builder>
- <xref:System.Collections.Immutable.ImmutableSortedDictionary%602.Builder>
- <xref:System.Collections.Immutable.ImmutableSortedSet%601.Builder>

## <a name="linq-to-objects"></a><span data-ttu-id="15465-132">Objetos LINQ to</span><span class="sxs-lookup"><span data-stu-id="15465-132">LINQ to Objects</span></span>

<span data-ttu-id="15465-133">O recurso LINQ para objetos permite que você use consultas LINQ para acessar objetos na memória, desde que o tipo de objeto implemente a interface <xref:System.Collections.IEnumerable?displayProperty=nameWithType> ou <xref:System.Collections.Generic.IEnumerable%601?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="15465-133">The LINQ to Objects feature enables you to use LINQ queries to access in-memory objects as long as the object type implements the <xref:System.Collections.IEnumerable?displayProperty=nameWithType> or <xref:System.Collections.Generic.IEnumerable%601?displayProperty=nameWithType> interface.</span></span> <span data-ttu-id="15465-134">Consultas LINQ fornecem um padrão comum para acessar dados; normalmente são mais concisos e legíveis do que `foreach` loops padrão e fornecem recursos de filtragem, classificação e agrupamento.</span><span class="sxs-lookup"><span data-stu-id="15465-134">LINQ queries provide a common pattern for accessing data; are typically more concise and readable than standard `foreach` loops; and provide filtering, ordering, and grouping capabilities.</span></span> <span data-ttu-id="15465-135">Consultas LINQ também podem melhorar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="15465-135">LINQ queries can also improve performance.</span></span> <span data-ttu-id="15465-136">Para obter mais informações, confira [LINQ to Objects (C#)](../../csharp/programming-guide/concepts/linq/linq-to-objects.md), [LINQ to Objects (Visual Basic)](../../visual-basic/programming-guide/concepts/linq/linq-to-objects.md) e [PLINQ (Parallel LINQ)](../parallel-programming/introduction-to-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="15465-136">For more information, see [LINQ to Objects (C#)](../../csharp/programming-guide/concepts/linq/linq-to-objects.md), [LINQ to Objects (Visual Basic)](../../visual-basic/programming-guide/concepts/linq/linq-to-objects.md), and [Parallel LINQ (PLINQ)](../parallel-programming/introduction-to-plinq.md).</span></span>

## <a name="additional-functionality"></a><span data-ttu-id="15465-137">Funcionalidade adicional</span><span class="sxs-lookup"><span data-stu-id="15465-137">Additional Functionality</span></span>
<span data-ttu-id="15465-138">Alguns dos tipos genéricos possuem funcionalidades que não se encontram em tipos de coleção genérica.</span><span class="sxs-lookup"><span data-stu-id="15465-138">Some of the generic types have functionality that is not found in the nongeneric collection types.</span></span> <span data-ttu-id="15465-139">Por exemplo, a classe <xref:System.Collections.Generic.List%601>, que corresponde à classe <xref:System.Collections.ArrayList> não genérica, possui vários métodos que aceitam delegados genéricos, tais como o delegado <xref:System.Predicate%601> que permite que você especifique métodos para pesquisa na lista, o delegado <xref:System.Action%601> que representa métodos que atuam em cada elemento da lista e o delegado <xref:System.Converter%602> que permite definir conversões entre tipos.</span><span class="sxs-lookup"><span data-stu-id="15465-139">For example, the <xref:System.Collections.Generic.List%601> class, which corresponds to the nongeneric <xref:System.Collections.ArrayList> class, has a number of methods that accept generic delegates, such as the <xref:System.Predicate%601> delegate that allows you to specify methods for searching the list, the <xref:System.Action%601> delegate that represents methods that act on each element of the list, and the <xref:System.Converter%602> delegate that lets you define conversions between types.</span></span>

<span data-ttu-id="15465-140">A classe <xref:System.Collections.Generic.List%601> permite que você especifique suas próprias implementações de interface genérica <xref:System.Collections.Generic.IComparer%601> para classificação e pesquisa na lista.</span><span class="sxs-lookup"><span data-stu-id="15465-140">The <xref:System.Collections.Generic.List%601> class allows you to specify your own <xref:System.Collections.Generic.IComparer%601> generic interface implementations for sorting and searching the list.</span></span> <span data-ttu-id="15465-141">As classes <xref:System.Collections.Generic.SortedDictionary%602> e <xref:System.Collections.Generic.SortedList%602> também possuem esse recurso.</span><span class="sxs-lookup"><span data-stu-id="15465-141">The <xref:System.Collections.Generic.SortedDictionary%602> and <xref:System.Collections.Generic.SortedList%602> classes also have this capability.</span></span> <span data-ttu-id="15465-142">Além disso, essas classes permitem que você especifique comparadores quando a coleção for criada.</span><span class="sxs-lookup"><span data-stu-id="15465-142">In addition, these classes let you specify comparers when the collection is created.</span></span> <span data-ttu-id="15465-143">De maneira semelhante, as classes <xref:System.Collections.Generic.Dictionary%602> e <xref:System.Collections.ObjectModel.KeyedCollection%602> permitem que você especifique seus próprios comparadores de igualdade.</span><span class="sxs-lookup"><span data-stu-id="15465-143">In similar fashion, the <xref:System.Collections.Generic.Dictionary%602> and <xref:System.Collections.ObjectModel.KeyedCollection%602> classes let you specify your own equality comparers.</span></span>

## <a name="see-also"></a><span data-ttu-id="15465-144">Veja também</span><span class="sxs-lookup"><span data-stu-id="15465-144">See also</span></span>

- [<span data-ttu-id="15465-145">Coleções e estruturas de dados</span><span class="sxs-lookup"><span data-stu-id="15465-145">Collections and Data Structures</span></span>](index.md)
- [<span data-ttu-id="15465-146">Tipos de coleção comumente usados</span><span class="sxs-lookup"><span data-stu-id="15465-146">Commonly Used Collection Types</span></span>](commonly-used-collection-types.md)
- [<span data-ttu-id="15465-147">Genéricos</span><span class="sxs-lookup"><span data-stu-id="15465-147">Generics</span></span>](../generics/index.md)
