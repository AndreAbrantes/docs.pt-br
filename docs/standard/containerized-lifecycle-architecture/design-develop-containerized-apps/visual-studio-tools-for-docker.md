---
title: Ferramentas do Visual Studio para Docker no Windows
description: Obtenha as ferramentas do Docker disponíveis no Visual Studio 2017 versão 15.7 e posteriores de saber.
ms.date: 02/15/2019
ms.custom: vs-dotnet
ms.openlocfilehash: 2b6fdc33f9cf850cf9e52fca4a1a9754cd412567
ms.sourcegitcommit: 8699383914c24a0df033393f55db3369db728a7b
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/15/2019
ms.locfileid: "65644687"
---
# <a name="use-docker-tools-in-visual-studio-2017-on-windows"></a><span data-ttu-id="ca6e0-103">Use as ferramentas do Docker no Visual Studio 2017 no Windows</span><span class="sxs-lookup"><span data-stu-id="ca6e0-103">Use Docker Tools in Visual Studio 2017 on Windows</span></span>

<span data-ttu-id="ca6e0-104">O fluxo de trabalho do desenvolvedor ao usar as ferramentas do Docker incluído no Visual Studio 2017 versão 15.7 e posteriores, é semelhante a usar o Visual Studio Code e CLI do Docker (na verdade, ele se baseia na mesma Docker CLI), mas ele é mais fácil de começar, simplifica o processo, e fornece maior produtividade para a compilação, executar e composição de tarefas.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-104">The developer workflow when using the Docker Tools included in Visual Studio 2017 version 15.7 and later, is similar to using Visual Studio Code and Docker CLI (in fact, it's based on the same Docker CLI), but it's easier to get started, simplifies the process, and provides greater productivity for the build, run, and compose tasks.</span></span> <span data-ttu-id="ca6e0-105">Ele também pode executar e depurar seus contêineres por meio de normais `F5` e `Ctrl+F5` teclas do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-105">It can also run and debug your containers via the usual `F5` and `Ctrl+F5` keys from Visual Studio.</span></span> <span data-ttu-id="ca6e0-106">Você pode até mesmo depurar toda a solução se seus contêineres são definidos no mesmo `docker-compose.yml` arquivo no nível da solução.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-106">You can even debug a whole solution if its containers are defined in the same `docker-compose.yml` file at the solution level.</span></span>

## <a name="configure-your-local-environment"></a><span data-ttu-id="ca6e0-107">Configurar seu ambiente local</span><span class="sxs-lookup"><span data-stu-id="ca6e0-107">Configure your local environment</span></span>

<span data-ttu-id="ca6e0-108">Com as versões mais recentes do Docker para Windows, é mais fácil do que nunca para desenvolver aplicativos do Docker porque a instalação é simples, conforme explicado nas seguintes referências.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-108">With the latest versions of Docker for Windows, it's easier than ever to develop Docker applications because the setup is straightforward, as explained in the following references.</span></span>

> [!TIP]
> <span data-ttu-id="ca6e0-109">Para saber mais sobre como instalar o Docker para Windows, vá para (<https://docs.docker.com/docker-for-windows/>).</span><span class="sxs-lookup"><span data-stu-id="ca6e0-109">To learn more about installing Docker for Windows, go to (<https://docs.docker.com/docker-for-windows/>).</span></span>

## <a name="docker-support-in-visual-studio-2017"></a><span data-ttu-id="ca6e0-110">Suporte do docker no Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="ca6e0-110">Docker support in Visual Studio 2017</span></span>

<span data-ttu-id="ca6e0-111">Há dois níveis de suporte do Docker que você pode adicionar a um projeto.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-111">There are two levels of Docker support you can add to a project.</span></span> <span data-ttu-id="ca6e0-112">Em projetos do ASP.NET Core, você pode adicionar apenas um `Dockerfile` arquivo ao projeto, permitindo o suporte do Docker.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-112">In ASP.NET Core projects, you can just add a `Dockerfile` file to the project by enabling Docker support.</span></span> <span data-ttu-id="ca6e0-113">O próximo nível é o suporte de orquestração de contêiner, que adiciona uma `Dockerfile` para o projeto (se ainda não existir) e um `docker-compose.yml` arquivo no nível da solução.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-113">The next level is container orchestration support, which adds a `Dockerfile` to the project (if it doesn't already exist) and a `docker-compose.yml` file at the solution level.</span></span> <span data-ttu-id="ca6e0-114">Suporte de orquestração de contêiner, por meio do Docker Compose, é adicionado por padrão no Visual Studio 2017 versões 15.0 para 15.7.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-114">Container orchestration support, via Docker Compose, is added by default in Visual Studio 2017 versions 15.0 to 15.7.</span></span> <span data-ttu-id="ca6e0-115">Suporte de orquestração de contêiner é um recurso de aceitação em versões do Visual Studio 2017 15,8 ou posteriores.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-115">Container orchestration support is an opt-in feature in Visual Studio 2017 versions 15.8 or later.</span></span> <span data-ttu-id="ca6e0-116">Versão 15,8 um posteriormente oferecer suporte a Docker Compose e do Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-116">Version 15.8 an later support Docker Compose and Service Fabric.</span></span>

<span data-ttu-id="ca6e0-117">O **Adicionar > suporte do Docker** e **Adicionar > suporte de orquestrador de contêiner** comandos estão localizados no menu de atalho (ou menu de contexto) do nó do projeto para um projeto ASP.NET Core em  **Gerenciador de soluções**, conforme mostrado na Figura 4-31:</span><span class="sxs-lookup"><span data-stu-id="ca6e0-117">The **Add > Docker Support** and **Add > Container Orchestrator Support** commands are located on the right-click menu (or context menu) of the project node for an ASP.NET Core project in **Solution Explorer**, as shown in Figure 4-31:</span></span>

![Adicionar a opção de menu de Suporte ao Docker no Visual Studio](./media/add-docker-support-menu.png)

<span data-ttu-id="ca6e0-119">**Figura 4-31**.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-119">**Figure 4-31**.</span></span> <span data-ttu-id="ca6e0-120">Adicionando suporte ao Docker a um projeto do Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="ca6e0-120">Adding Docker support to a Visual Studio 2017 project</span></span>

### <a name="add-docker-support"></a><span data-ttu-id="ca6e0-121">Adicionar suporte ao Docker</span><span class="sxs-lookup"><span data-stu-id="ca6e0-121">Add Docker support</span></span>

<span data-ttu-id="ca6e0-122">Você pode adicionar suporte ao Docker a um projeto existente do ASP.NET Core, selecionando **Add** > **suporte ao Docker** na **Gerenciador de soluções**.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-122">You can add Docker support to an existing ASP.NET Core project by selecting **Add** > **Docker Support** in **Solution Explorer**.</span></span> <span data-ttu-id="ca6e0-123">Você também pode habilitar o suporte ao Docker durante a criação do projeto, selecionando **Habilitar suporte ao Docker** na **novo aplicativo Web do ASP.NET Core** caixa de diálogo que abre após você clicar em **Okey** no **novo projeto** caixa de diálogo, conforme mostrado na Figura 4-32.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-123">You can also enable Docker support during project creation by selecting **Enable Docker Support** in the **New ASP.NET Core Web Application** dialog box that opens after you click **OK** in the **New Project** dialog box, as shown in Figure 4-32.</span></span>

![Habilitar o suporte ao Docker para o novo aplicativo Web do ASP.NET Core no Visual Studio](./media/enable-docker-support-visual-studio.png)

<span data-ttu-id="ca6e0-125">**Figura 4-32**.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-125">**Figure 4-32**.</span></span> <span data-ttu-id="ca6e0-126">Habilitar o suporte ao Docker durante a criação do projeto no Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="ca6e0-126">Enable Docker support during project creation in Visual Studio 2017</span></span>

<span data-ttu-id="ca6e0-127">Quando você adiciona ou habilitar o suporte do Docker, o Visual Studio adiciona uma *Dockerfile* arquivo ao projeto.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-127">When you add or enable Docker support, Visual Studio adds a *Dockerfile* file to the project.</span></span>

> [!NOTE]
> <span data-ttu-id="ca6e0-128">Quando você habilita o suporte do Docker Compose durante a criação do projeto para um projeto do ASP.NET (.NET Framework, não em um projeto .NET Core) conforme mostrado na Figura 4-33, suporte de orquestração de contêiner também é adicionado.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-128">When you enable Docker Compose support during project creation for a ASP.NET project (.NET Framework, not a .NET Core project) as shown in Figure 4-33, container orchestration support is also added.</span></span>

![Habilitar o suporte ao Docker Compose para um projeto do ASP.NET](media/enable-docker-compose-support.png)

<span data-ttu-id="ca6e0-130">**Figura 4-33**.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-130">**Figure 4-33**.</span></span> <span data-ttu-id="ca6e0-131">Habilitando o suporte do Docker Compose para um projeto ASP.NET no Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="ca6e0-131">Enabling Docker Compose support for an ASP.NET project in Visual Studio 2017</span></span>

### <a name="add-container-orchestration-support"></a><span data-ttu-id="ca6e0-132">Adicionar suporte de orquestração de contêiner</span><span class="sxs-lookup"><span data-stu-id="ca6e0-132">Add container orchestration support</span></span>

<span data-ttu-id="ca6e0-133">Quando você deseja compor uma solução de vários contêiner, adicione suporte de orquestração de contêiner para seus projetos.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-133">When you want to compose a multi-container solution, add container orchestration support to your projects.</span></span> <span data-ttu-id="ca6e0-134">Isso permite que você execute e depure um grupo de contêineres (uma solução inteira) ao mesmo tempo se eles estão definidos na mesma *docker-Compose. yml* arquivo.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-134">This lets you run and debug a group of containers (a whole solution) at the same time if they're defined in the same *docker-compose.yml* file.</span></span>

<span data-ttu-id="ca6e0-135">Para adicionar suporte de orquestração de contêiner, clique com botão direito no nó do projeto ou solução na **Gerenciador de soluções**e escolha **Adicionar > suporte de orquestração de contêiner**.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-135">To add container orchestration support, right-click on the solution or project node in **Solution Explorer**, and choose **Add > Container Orchestration Support**.</span></span> <span data-ttu-id="ca6e0-136">Em seguida, escolha **Docker Compose** ou **do Service Fabric** para gerenciar os contêineres.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-136">Then choose **Docker Compose** or **Service Fabric** to manage the containers.</span></span>

<span data-ttu-id="ca6e0-137">Depois de adicionar suporte de orquestração de contêiner ao seu projeto, você verá um Dockerfile adicionado ao projeto e um **docker-compose** pasta adicionada à solução em **Gerenciador de soluções**, conforme mostrado na Figura 4-34:</span><span class="sxs-lookup"><span data-stu-id="ca6e0-137">After you add container orchestration support to your project, you see a Dockerfile added to the project and a **docker-compose** folder added to the solution in **Solution Explorer**, as shown in Figure 4-34:</span></span>

![Arquivos do Docker no Gerenciador de Soluções no Visual Studio](media/docker-support-solution-explorer.png)

<span data-ttu-id="ca6e0-139">**Figura 4-34**.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-139">**Figure 4-34**.</span></span> <span data-ttu-id="ca6e0-140">Arquivos do docker no Gerenciador de soluções no Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="ca6e0-140">Docker files in Solution Explorer in Visual Studio 2017</span></span>

<span data-ttu-id="ca6e0-141">Se o *docker-compose.yml* já existir, o Visual Studio adiciona nele apenas as linhas necessárias do código de configuração.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-141">If *docker-compose.yml* already exists, Visual Studio just adds the required lines of configuration code to it.</span></span>

## <a name="configure-docker-tools"></a><span data-ttu-id="ca6e0-142">Configurar ferramentas do Docker</span><span class="sxs-lookup"><span data-stu-id="ca6e0-142">Configure Docker tools</span></span>

<span data-ttu-id="ca6e0-143">No menu principal, escolha **Ferramentas > Opções**e expanda **ferramentas de contêiner > configurações**.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-143">From the main menu, choose **Tools > Options**, and expand **Container Tools > Settings**.</span></span> <span data-ttu-id="ca6e0-144">As configurações de ferramentas de contêiner aparecem.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-144">The container tools settings appear.</span></span>

![Docker no Visual Studio tools opções, que mostra: Extrair automaticamente as imagens necessárias do Docker no carregamento do projeto, iniciar automaticamente os contêineres em segundo plano, elimine automaticamente os contêineres no fechamento de solução e não solicitar para confiar em certificado SSL.](./media/visual-studio-docker-tools-options.png)

<span data-ttu-id="ca6e0-146">**Figura 4-35**.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-146">**Figure 4-35**.</span></span> <span data-ttu-id="ca6e0-147">Opções de ferramentas do docker</span><span class="sxs-lookup"><span data-stu-id="ca6e0-147">Docker Tools Options</span></span>

<span data-ttu-id="ca6e0-148">A tabela a seguir pode ajudá-lo a decidir como definir essas opções.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-148">The following table might help you decide how to set these options.</span></span>

| <span data-ttu-id="ca6e0-149">Nome</span><span class="sxs-lookup"><span data-stu-id="ca6e0-149">Name</span></span> | <span data-ttu-id="ca6e0-150">Configuração padrão</span><span class="sxs-lookup"><span data-stu-id="ca6e0-150">Default Setting</span></span> | <span data-ttu-id="ca6e0-151">Aplica-se a</span><span class="sxs-lookup"><span data-stu-id="ca6e0-151">Applies To</span></span> | <span data-ttu-id="ca6e0-152">Descrição</span><span class="sxs-lookup"><span data-stu-id="ca6e0-152">Description</span></span> |
| -----|:---------------:|:----------:| ----------- |
| <span data-ttu-id="ca6e0-153">Extrair automaticamente as imagens necessárias do Docker no carregamento do projeto</span><span class="sxs-lookup"><span data-stu-id="ca6e0-153">Automatically pull required Docker images on project load</span></span> | <span data-ttu-id="ca6e0-154">On</span><span class="sxs-lookup"><span data-stu-id="ca6e0-154">On</span></span> | <span data-ttu-id="ca6e0-155">Docker Compose</span><span class="sxs-lookup"><span data-stu-id="ca6e0-155">Docker Compose</span></span> | <span data-ttu-id="ca6e0-156">Para melhorar o desempenho durante o carregamento de projetos, o Visual Studio será iniciado uma operação de pull do Docker em segundo plano para que quando você estiver pronto para executar seu código, a imagem é baixada já ou no processo de download.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-156">For increased performance when loading projects, Visual Studio will start a Docker pull operation in the background so that when you're ready to run your code, the image is already downloaded or in the process of downloading.</span></span> <span data-ttu-id="ca6e0-157">Se você estiver apenas carregar projetos e navegação de código, você pode desativar isso para evitar o download de imagens de contêiner, que você não precisa.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-157">If you're just loading projects and browsing code, you can turn this off to avoid downloading container images you don't need.</span></span> |
| <span data-ttu-id="ca6e0-158">Iniciar automaticamente os contêineres em segundo plano</span><span class="sxs-lookup"><span data-stu-id="ca6e0-158">Automatically start containers in background</span></span> | <span data-ttu-id="ca6e0-159">On</span><span class="sxs-lookup"><span data-stu-id="ca6e0-159">On</span></span> | <span data-ttu-id="ca6e0-160">Docker Compose</span><span class="sxs-lookup"><span data-stu-id="ca6e0-160">Docker Compose</span></span> | <span data-ttu-id="ca6e0-161">Novamente para melhorar o desempenho, o Visual Studio cria um contêiner com montagens de volume pronto para quando você compila e executar seu contêiner.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-161">Again for increased performance, Visual Studio creates a container with volume mounts ready for when you build and run your container.</span></span> <span data-ttu-id="ca6e0-162">Se você desejar controlar quando o contêiner é criado, desative essa opção.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-162">If you want to control when your container is created, turn this off.</span></span> |
| <span data-ttu-id="ca6e0-163">Fechar automaticamente os contêineres kill na solução</span><span class="sxs-lookup"><span data-stu-id="ca6e0-163">Automatically kill containers on solution close</span></span> | <span data-ttu-id="ca6e0-164">On</span><span class="sxs-lookup"><span data-stu-id="ca6e0-164">On</span></span> | <span data-ttu-id="ca6e0-165">Docker Compose</span><span class="sxs-lookup"><span data-stu-id="ca6e0-165">Docker Compose</span></span> | <span data-ttu-id="ca6e0-166">Desative essa opção se você desejar contêineres para sua solução continuar a executar após fechar a solução ou fechar o Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-166">Turn this off if you would like containers for your solution to continue to run after closing the solution or closing Visual Studio.</span></span> |
| <span data-ttu-id="ca6e0-167">Não solicitar certificado SSL localhost confiável</span><span class="sxs-lookup"><span data-stu-id="ca6e0-167">Do not prompt for trusting localhost SSL certificate</span></span> | <span data-ttu-id="ca6e0-168">Off</span><span class="sxs-lookup"><span data-stu-id="ca6e0-168">Off</span></span> | <span data-ttu-id="ca6e0-169">Projetos do ASP.NET Core 2.2</span><span class="sxs-lookup"><span data-stu-id="ca6e0-169">ASP.NET Core 2.2 projects</span></span> | <span data-ttu-id="ca6e0-170">Se o certificado SSL do localhost não for confiável, Visual Studio solicitará que toda vez que você execute seu projeto, a menos que essa caixa de seleção está marcada.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-170">If the localhost SSL certificate is not trusted, Visual Studio will prompt every time you run your project, unless this checkbox is checked.</span></span> |

> [!WARNING]
> <span data-ttu-id="ca6e0-171">Se o certificado SSL do localhost não é confiável e você marcar a caixa para suprimir a solicitação, solicitações da web HTTPS podem falhar em tempo de execução em seu aplicativo ou serviço.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-171">If the localhost SSL certificate is not trusted, and you check the box to suppress prompting, then HTTPS web requests might fail at runtime in your app or service.</span></span> <span data-ttu-id="ca6e0-172">Nesse caso, desmarque a **não solicitar** caixa de seleção, execute seu projeto e indicar confiança no prompt de.</span><span class="sxs-lookup"><span data-stu-id="ca6e0-172">In that case, uncheck the **Do not prompt** checkbox, run your project, and indicate trust at the prompt.</span></span>

> [!TIP]
> <span data-ttu-id="ca6e0-173">Para obter mais detalhes sobre a implementação de serviços e o uso de ferramentas do Visual Studio para Docker, leia os artigos a seguir:</span><span class="sxs-lookup"><span data-stu-id="ca6e0-173">For further details on the services implementation and use of Visual Studio Tools for Docker, read the following articles:</span></span>
>
><span data-ttu-id="ca6e0-174">Depuração de aplicativos em um contêiner de Docker local: <https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh></span><span class="sxs-lookup"><span data-stu-id="ca6e0-174">Debugging apps in a local Docker container: <https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh></span></span>
>
><span data-ttu-id="ca6e0-175">Implante um contêiner ASP.NET em um registro de contêiner usando o Visual Studio: <https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker></span><span class="sxs-lookup"><span data-stu-id="ca6e0-175">Deploy an ASP.NET container to a container registry using Visual Studio: <https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker></span></span>

>[!div class="step-by-step"]
><span data-ttu-id="ca6e0-176">[Anterior](docker-apps-inner-loop-workflow.md)
>[Próximo](set-up-windows-containers-with-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="ca6e0-176">[Previous](docker-apps-inner-loop-workflow.md)
[Next](set-up-windows-containers-with-powershell.md)</span></span>
