---
title: Ferramentas do Visual Studio para Docker no Windows
description: Containerized Docker Application Lifecycle with Microsoft Platform and Tools (Ciclo de vida de aplicativo do Docker em contêineres com a plataforma e as ferramentas da Microsoft)
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 09/12/2018
ms.custom: vs-dotnet
ms.openlocfilehash: c58c680c6500bc3b9adec50e18c26af3329122c9
ms.sourcegitcommit: 2eb5ca4956231c1a0efd34b6a9cab6153a5438af
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/11/2018
ms.locfileid: "49086382"
---
# <a name="using-visual-studio-tools-for-docker-visual-studio-on-windows"></a><span data-ttu-id="a085b-103">Usando ferramentas do Visual Studio para Docker (Visual Studio no Windows)</span><span class="sxs-lookup"><span data-stu-id="a085b-103">Using Visual Studio Tools for Docker (Visual Studio on Windows)</span></span>

<span data-ttu-id="a085b-104">O Visual Studio Tools para o fluxo de trabalho de desenvolvimento de Docker é semelhante ao fluxo de trabalho ao usar o Visual Studio Code e CLI do Docker.</span><span class="sxs-lookup"><span data-stu-id="a085b-104">The Visual Studio Tools for Docker development workflow is similar to the workflow when using Visual Studio Code and Docker CLI.</span></span> <span data-ttu-id="a085b-105">Na verdade, ele se baseia a CLI do Docker mesmo, mas é mais fácil de começar, simplifica o processo e fornece maior produtividade para a compilação, executar e composição de tarefas.</span><span class="sxs-lookup"><span data-stu-id="a085b-105">In fact, it's based on the same Docker CLI, but it's easier to get started, simplifies the process, and provides greater productivity for the build, run, and compose tasks.</span></span> <span data-ttu-id="a085b-106">Executar e depurar seus contêineres por meio de ações simples, como **F5** e **Ctrl**+**F5**.</span><span class="sxs-lookup"><span data-stu-id="a085b-106">Execute and debug your containers via simple actions like **F5** and **Ctrl**+**F5**.</span></span> <span data-ttu-id="a085b-107">Com o suporte de orquestração de contêiner opcional, além de poder executar e depurar um único contêiner, você pode executar e depurar um grupo de contêineres (uma solução inteira) ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="a085b-107">With the optional container orchestration support, in addition to being able to run and debug a single container, you can run and debug a group of containers (a whole solution) at the same time.</span></span>

> [!NOTE]
> <span data-ttu-id="a085b-108">Este artigo se aplica ao Visual Studio no Windows e não no Visual Studio para Mac.</span><span class="sxs-lookup"><span data-stu-id="a085b-108">This article applies to Visual Studio on Windows, and not Visual Studio for Mac.</span></span>

## <a name="configure-your-local-environment"></a><span data-ttu-id="a085b-109">Configurar seu ambiente local</span><span class="sxs-lookup"><span data-stu-id="a085b-109">Configure your local environment</span></span>

<span data-ttu-id="a085b-110">Com as versões mais recentes do Docker para Windows ([https://docs.docker.com/docker-for-windows/](https://docs.docker.com/docker-for-windows/)), o programa de instalação simples torna mais fácil desenvolver aplicativos do Docker.</span><span class="sxs-lookup"><span data-stu-id="a085b-110">With the latest versions of Docker for Windows ([https://docs.docker.com/docker-for-windows/](https://docs.docker.com/docker-for-windows/)), the straightforward setup makes it easy to develop Docker applications.</span></span>

<span data-ttu-id="a085b-111">Suporte ao docker está incluído no Visual Studio 2017.</span><span class="sxs-lookup"><span data-stu-id="a085b-111">Docker support is included in Visual Studio 2017.</span></span> <span data-ttu-id="a085b-112">Baixe o Visual Studio 2017 aqui: [https://aka.ms/vsdownload?utm_source=mscom&utm_campaign=msdocs](https://aka.ms/vsdownload?utm_source=mscom&utm_campaign=msdocs)</span><span class="sxs-lookup"><span data-stu-id="a085b-112">Download Visual Studio 2017 here: [https://aka.ms/vsdownload?utm_source=mscom&utm_campaign=msdocs](https://aka.ms/vsdownload?utm_source=mscom&utm_campaign=msdocs)</span></span>

## <a name="use-docker-tools-in-visual-studio-2017"></a><span data-ttu-id="a085b-113">Use as ferramentas do Docker no Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="a085b-113">Use Docker Tools in Visual Studio 2017</span></span>

<span data-ttu-id="a085b-114">Há dois níveis de suporte do Docker que você pode adicionar a um projeto.</span><span class="sxs-lookup"><span data-stu-id="a085b-114">There are two levels of Docker support you can add to a project.</span></span> <span data-ttu-id="a085b-115">Em projetos de aplicativo web .NET Core, você pode adicionar apenas um *Dockerfile* arquivo ao projeto, permitindo o suporte do Docker.</span><span class="sxs-lookup"><span data-stu-id="a085b-115">In .NET Core web app projects, you can just add a *Dockerfile* file to the project by enabling Docker support.</span></span> <span data-ttu-id="a085b-116">O próximo nível é o suporte de orquestração de contêiner, que adiciona uma *Dockerfile* para o projeto (se ainda não existir) e uma *docker-Compose. yml* arquivo no nível da solução.</span><span class="sxs-lookup"><span data-stu-id="a085b-116">The next level is container orchestration support, which adds a *Dockerfile* to the project (if it doesn't already exist) and a *docker-compose.yml* file at the solution level.</span></span> <span data-ttu-id="a085b-117">Suporte de orquestração de contêiner, por meio do Docker Compose, é adicionado por padrão nas versões do Visual Studio 2017 15.7 ou anteriores.</span><span class="sxs-lookup"><span data-stu-id="a085b-117">Container orchestration support, via Docker Compose, is added by default in Visual Studio 2017 versions 15.7 or earlier.</span></span> <span data-ttu-id="a085b-118">Suporte de orquestração de contêiner é um recurso de aceitação em versões do Visual Studio 2017 15,8 ou posterior, nesse caso, Docker Compose e o Service Fabric têm suporte.</span><span class="sxs-lookup"><span data-stu-id="a085b-118">Container orchestration support is an opt-in feature in Visual Studio 2017 versions 15.8 or later, in which case Docker Compose and Service Fabric are supported.</span></span>

<span data-ttu-id="a085b-119">O **Add** > **suporte ao Docker** e **Add** > **suporte de orquestração de contêiner** comandos são localizado no menu de atalho (ou menu de contexto) do nó do projeto para um projeto de aplicativo web no **Gerenciador de soluções**, conforme mostrado na Figura 4-26:</span><span class="sxs-lookup"><span data-stu-id="a085b-119">The **Add** > **Docker Support** and **Add** > **Container orchestration Support** commands are located on the right-click menu (or context menu) of the project node for a web app project in **Solution Explorer**, as shown in Figure 4-26:</span></span>

![Adicionar a opção de menu de suporte do Docker no Visual Studio](media/add-docker-support-menu.png)

<span data-ttu-id="a085b-121">Figura 4-26: adicionar suporte ao Docker a um projeto do Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="a085b-121">Figure 4-26: Adding Docker support to a Visual Studio 2017 project</span></span>

### <a name="add-docker-support"></a><span data-ttu-id="a085b-122">Adicionar suporte ao Docker</span><span class="sxs-lookup"><span data-stu-id="a085b-122">Add Docker support</span></span>

<span data-ttu-id="a085b-123">Você pode adicionar suporte ao Docker para um projeto de aplicativo web .NET Core existente selecionando **Add** > **suporte ao Docker** na **Gerenciador de soluções**.</span><span class="sxs-lookup"><span data-stu-id="a085b-123">You can add Docker support to an existing .NET Core web app project by selecting **Add** > **Docker Support** in **Solution Explorer**.</span></span> <span data-ttu-id="a085b-124">Você também pode habilitar o suporte ao Docker durante a criação do projeto, selecionando **Habilitar suporte ao Docker** na **novo aplicativo Web do ASP.NET Core** caixa de diálogo que abre após você clicar em **Okey** no **novo projeto** caixa de diálogo, conforme mostrado na Figura 4-27.</span><span class="sxs-lookup"><span data-stu-id="a085b-124">You can also enable Docker support during project creation by selecting **Enable Docker Support** in the **New ASP.NET Core Web Application** dialog box that opens after you click **OK** in the **New Project** dialog box, as shown in Figure 4-27.</span></span>

![Habilitar o suporte do Docker para o novo aplicativo web de ASP.NET Core no Visual Studio](./media/enable-docker-support-visual-studio.png)

<span data-ttu-id="a085b-126">Figura 4-27: habilitar o suporte ao Docker durante a criação do projeto no Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="a085b-126">Figure 4-27: Enable Docker support during project creation in Visual Studio 2017</span></span>

<span data-ttu-id="a085b-127">Quando você adiciona ou habilitar o suporte do Docker, o Visual Studio adiciona uma *Dockerfile* arquivo ao projeto.</span><span class="sxs-lookup"><span data-stu-id="a085b-127">When you add or enable Docker support, Visual Studio adds a *Dockerfile* file to the project.</span></span>

> [!NOTE]
> <span data-ttu-id="a085b-128">Quando você habilita o suporte do Docker Compose durante a criação do projeto para um projeto de aplicativo web do .NET Framework (não um projeto de aplicativo .NET Core da web) como mostrado na Figura 4-28, suporte de orquestração de contêiner também é adicionado.</span><span class="sxs-lookup"><span data-stu-id="a085b-128">When you enable Docker Compose support during project creation for a .NET Framework web app project (not a .NET Core web app project) as shown in Figure 4-28, container orchestration support is also added.</span></span>
>
> ![Habilitar o Docker compose suporte para um projeto de aplicativo web do .NET Framework](media/enable-docker-compose-support.png)

> <span data-ttu-id="a085b-130">Figura 4-28: Habilitando o suporte do Docker Compose em um projeto de aplicativo web do .NET Framework no Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="a085b-130">Figure 4-28: Enabling Docker Compose support on a .NET Framework web app project in Visual Studio 2017</span></span>

### <a name="add-container-orchestration-support"></a><span data-ttu-id="a085b-131">Adicionar suporte de orquestração de contêiner</span><span class="sxs-lookup"><span data-stu-id="a085b-131">Add container orchestration support</span></span>

<span data-ttu-id="a085b-132">Quando você deseja compor uma solução de vários contêineres, adicione suporte de orquestração de contêiner para seus projetos.</span><span class="sxs-lookup"><span data-stu-id="a085b-132">When you want to compose a multicontainer solution, add container orchestration support to your projects.</span></span> <span data-ttu-id="a085b-133">Isso permite que você execute e depure um grupo de contêineres (uma solução inteira) ao mesmo tempo se eles estão definidos na mesma *docker-Compose. yml* arquivo.</span><span class="sxs-lookup"><span data-stu-id="a085b-133">This lets you run and debug a group of containers (a whole solution) at the same time if they're defined in the same *docker-compose.yml* file.</span></span>

<span data-ttu-id="a085b-134">Para adicionar suporte de orquestração de contêiner, clique com botão direito no nó do projeto ou solução na **Gerenciador de soluções**e escolha **Add** > **suporte de orquestração de contêiner**.</span><span class="sxs-lookup"><span data-stu-id="a085b-134">To add container orchestration support, right-click on the solution or project node in **Solution Explorer**, and choose **Add** > **Container Orchestration Support**.</span></span> <span data-ttu-id="a085b-135">Em seguida, escolha **Docker Compose** ou **do Service Fabric** para gerenciar os contêineres.</span><span class="sxs-lookup"><span data-stu-id="a085b-135">Then choose **Docker Compose** or **Service Fabric** to manage the containers.</span></span>

<span data-ttu-id="a085b-136">Depois de adicionar suporte de orquestração de contêiner ao seu projeto, você verá um Dockerfile adicionado ao projeto e um **docker-compose** pasta adicionada à solução em **Gerenciador de soluções**, conforme mostrado na Figura 4-29:</span><span class="sxs-lookup"><span data-stu-id="a085b-136">After you add container orchestration support to your project, you see a Dockerfile added to the project and a **docker-compose** folder added to the solution in **Solution Explorer**, as shown in Figure 4-29:</span></span>

![Arquivos do docker no Gerenciador de soluções no Visual Studio](media/docker-support-solution-explorer.png)

<span data-ttu-id="a085b-138">Figura 4-29: arquivos do Docker no Gerenciador de soluções no Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="a085b-138">Figure 4-29: Docker files in Solution Explorer in Visual Studio 2017</span></span>

<span data-ttu-id="a085b-139">Se *docker-Compose. yml* já existir, o Visual Studio adiciona apenas as linhas necessárias de código de configuração a ele.</span><span class="sxs-lookup"><span data-stu-id="a085b-139">If *docker-compose.yml* already exists, Visual Studio just adds the required lines of configuration code to it.</span></span>

## <a name="configure-docker-tools"></a><span data-ttu-id="a085b-140">Configurar ferramentas do Docker</span><span class="sxs-lookup"><span data-stu-id="a085b-140">Configure Docker tools</span></span>

<span data-ttu-id="a085b-141">No menu principal, escolha **ferramentas** > **opções**e expanda **ferramentas de contêiner** > **configurações**.</span><span class="sxs-lookup"><span data-stu-id="a085b-141">From the main menu, choose **Tools** > **Options**, and expand **Container Tools** > **Settings**.</span></span> <span data-ttu-id="a085b-142">As configurações de ferramentas de contêiner aparecem.</span><span class="sxs-lookup"><span data-stu-id="a085b-142">The container tools settings appear.</span></span>

![](./media/visual-studio-docker-tools-options.png)

<span data-ttu-id="a085b-143">Figura 4-30: opções de ferramentas do Docker</span><span class="sxs-lookup"><span data-stu-id="a085b-143">Figure 4-30: Docker Tools Options</span></span>

<span data-ttu-id="a085b-144">A tabela a seguir pode ajudá-lo a decidir como definir essas opções.</span><span class="sxs-lookup"><span data-stu-id="a085b-144">The following table might help you decide how to set these options.</span></span>

| <span data-ttu-id="a085b-145">Nome</span><span class="sxs-lookup"><span data-stu-id="a085b-145">Name</span></span> | <span data-ttu-id="a085b-146">Configuração padrão</span><span class="sxs-lookup"><span data-stu-id="a085b-146">Default Setting</span></span> | <span data-ttu-id="a085b-147">Aplica-se a</span><span class="sxs-lookup"><span data-stu-id="a085b-147">Applies To</span></span> | <span data-ttu-id="a085b-148">Descrição</span><span class="sxs-lookup"><span data-stu-id="a085b-148">Description</span></span> |
| -----|:---------------:|:----------:| ----------- |
| <span data-ttu-id="a085b-149">Extrair automaticamente as imagens necessárias do Docker no carregamento do projeto</span><span class="sxs-lookup"><span data-stu-id="a085b-149">Automatically pull required Docker images on project load</span></span> | <span data-ttu-id="a085b-150">On</span><span class="sxs-lookup"><span data-stu-id="a085b-150">On</span></span> | <span data-ttu-id="a085b-151">Docker Compose</span><span class="sxs-lookup"><span data-stu-id="a085b-151">Docker Compose</span></span> | <span data-ttu-id="a085b-152">Para melhorar o desempenho, ao carregar projetos, o Visual Studio será iniciado uma operação de pull do Docker em segundo plano para que quando você estiver pronto para executar seu código, a imagem é baixada já ou no processo de download.</span><span class="sxs-lookup"><span data-stu-id="a085b-152">For increased performance, when loading projects, Visual Studio will start a Docker pull operation in the background so that when you are ready to run your code, the image is already downloaded or in the process of downloading.</span></span> <span data-ttu-id="a085b-153">Se você estiver apenas carregar projetos e navegação de código, você pode desativar isso para evitar o download de imagens de contêiner, que você não precisa.</span><span class="sxs-lookup"><span data-stu-id="a085b-153">If you're just loading projects and browsing code, you can turn this off to avoid downloading container images you don't need.</span></span> |
| <span data-ttu-id="a085b-154">Iniciar automaticamente os contêineres em segundo plano</span><span class="sxs-lookup"><span data-stu-id="a085b-154">Automatically start containers in background</span></span> | <span data-ttu-id="a085b-155">On</span><span class="sxs-lookup"><span data-stu-id="a085b-155">On</span></span> | <span data-ttu-id="a085b-156">Docker Compose</span><span class="sxs-lookup"><span data-stu-id="a085b-156">Docker Compose</span></span> | <span data-ttu-id="a085b-157">Novamente para melhorar o desempenho, o Visual Studio cria um contêiner com montagens de volume pronto para quando você compila e executar seu contêiner.</span><span class="sxs-lookup"><span data-stu-id="a085b-157">Again for increased performance, Visual Studio creates a container with volume mounts ready for when you build and run your container.</span></span> <span data-ttu-id="a085b-158">Se você desejar controlar quando o contêiner é criado, desative essa opção.</span><span class="sxs-lookup"><span data-stu-id="a085b-158">If you want to control when your container is created, turn this off.</span></span> |
| <span data-ttu-id="a085b-159">Fechar automaticamente os contêineres kill na solução</span><span class="sxs-lookup"><span data-stu-id="a085b-159">Automatically kill containers on solution close</span></span> | <span data-ttu-id="a085b-160">On</span><span class="sxs-lookup"><span data-stu-id="a085b-160">On</span></span> | <span data-ttu-id="a085b-161">Docker Compose</span><span class="sxs-lookup"><span data-stu-id="a085b-161">Docker Compose</span></span> | <span data-ttu-id="a085b-162">Desative essa opção se você desejar contêineres para sua solução continuar a executar após fechar a solução ou fechar o Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a085b-162">Turn this off if you would like containers for your solution to continue to run after closing the solution or closing Visual Studio.</span></span> |
| <span data-ttu-id="a085b-163">Não solicitar certificado SSL localhost confiável</span><span class="sxs-lookup"><span data-stu-id="a085b-163">Do not prompt for trusting localhost SSL certificate</span></span> | <span data-ttu-id="a085b-164">Off</span><span class="sxs-lookup"><span data-stu-id="a085b-164">Off</span></span> | <span data-ttu-id="a085b-165">Projetos do ASP.NET Core 2.1</span><span class="sxs-lookup"><span data-stu-id="a085b-165">ASP.NET Core 2.1 projects</span></span> | <span data-ttu-id="a085b-166">Se o certificado SSL do localhost não for confiável, Visual Studio solicitará que toda vez que você execute seu projeto, a menos que essa caixa de seleção está marcada.</span><span class="sxs-lookup"><span data-stu-id="a085b-166">If the localhost SSL certificate is not trusted, Visual Studio will prompt every time you run your project, unless this checkbox is checked.</span></span> |

> [!WARNING]
> <span data-ttu-id="a085b-167">Se o certificado SSL do localhost não é confiável e você marcar a caixa para suprimir a solicitação, solicitações da web HTTPS podem falhar em tempo de execução em seu aplicativo ou serviço.</span><span class="sxs-lookup"><span data-stu-id="a085b-167">If the localhost SSL certificate is not trusted, and you check the box to suppress prompting, then HTTPS web requests might fail at runtime in your app or service.</span></span> <span data-ttu-id="a085b-168">Nesse caso, desmarque a **não solicitar** caixa de seleção, execute seu projeto e indicar confiança no prompt de.</span><span class="sxs-lookup"><span data-stu-id="a085b-168">In that case, uncheck the **Do not prompt** checkbox, run your project, and indicate trust at the prompt.</span></span>

<span data-ttu-id="a085b-169">**Obter mais informações:** para obter mais detalhes sobre a implementação de serviços e o uso de ferramentas do Visual Studio para Docker, leia os artigos a seguir:</span><span class="sxs-lookup"><span data-stu-id="a085b-169">**More information:** For further details on the services implementation and use of Visual Studio Tools for Docker, read the following articles:</span></span>

<span data-ttu-id="a085b-170">Compilar, depurar, atualizar e atualizar aplicativos em um contêiner de Docker local: [https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh/](https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh)</span><span class="sxs-lookup"><span data-stu-id="a085b-170">Build, debug, update, and refresh apps in a local Docker container: [https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh/](https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh)</span></span>

<span data-ttu-id="a085b-171">Implante um contêiner de docker do ASP.NET Core em um registro de contêiner: [https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker/](https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker)</span><span class="sxs-lookup"><span data-stu-id="a085b-171">Deploy an ASP.NET Core Docker container to a container registry: [https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker/](https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker)</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="a085b-172">[Anterior](docker-apps-inner-loop-workflow.md)
[Próximo](set-up-windows-containers-with-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="a085b-172">[Previous](docker-apps-inner-loop-workflow.md)
[Next](set-up-windows-containers-with-powershell.md)</span></span>