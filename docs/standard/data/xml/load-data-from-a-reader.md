---
title: Carregando dados de um leitor
ms.date: 03/30/2017
ms.technology: dotnet-standard
ms.assetid: 7e74918c-bc72-4977-a49b-e1520a6d8f60
ms.openlocfilehash: 90a66e04bda4fb2ee4216e8aabd631afb2f28dd0
ms.sourcegitcommit: 5f236cd78cf09593c8945a7d753e0850e96a0b80
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2020
ms.locfileid: "75710707"
---
# <a name="load-data-from-a-reader"></a><span data-ttu-id="07908-102">Carregando dados de um leitor</span><span class="sxs-lookup"><span data-stu-id="07908-102">Load Data from a Reader</span></span>
<span data-ttu-id="07908-103">Se um documento XML é carregado usando o método <xref:System.Xml.XmlDocument.Load%2A> e um parâmetro de <xref:System.Xml.XmlReader>, existem diferenças no comportamento que ocorre quando comparado ao comportamento de dados de carregamento de outro formata.</span><span class="sxs-lookup"><span data-stu-id="07908-103">If an XML document is loaded using the <xref:System.Xml.XmlDocument.Load%2A> method and a parameter of an <xref:System.Xml.XmlReader>, there are differences in the behavior that occurs when compared to the behavior of loading data from the other formats.</span></span> <span data-ttu-id="07908-104">Se o leitor está no estado inicial, <xref:System.Xml.XmlDocument.Load%2A> consome todo o conteúdo do leitor e compila o modelo de objeto (DOM) de documento de todos os dados no leitor.</span><span class="sxs-lookup"><span data-stu-id="07908-104">If the reader is in its initial state, <xref:System.Xml.XmlDocument.Load%2A> consumes the entire contents from the reader and builds the XML Document Object Model (DOM) from all the data in the reader.</span></span>  
  
 <span data-ttu-id="07908-105">Se o leitor já está localizado em um nó em algum lugar no documento, e o leitor é então passado para o método de <xref:System.Xml.XmlDocument.Load%2A> , tentativas de <xref:System.Xml.XmlDocument.Load%2A> de ler o nó atual e todos os seus irmãos, até a marca de fim que fecha a profundidade atual na memória.</span><span class="sxs-lookup"><span data-stu-id="07908-105">If the reader is already positioned on a node somewhere in the document, and the reader is then passed to the <xref:System.Xml.XmlDocument.Load%2A> method, <xref:System.Xml.XmlDocument.Load%2A> attempts to read the current node and all of its siblings, up to the end tag that closes the current depth into memory.</span></span> <span data-ttu-id="07908-106">O sucesso de <xref:System.Xml.XmlDocument.Load%2A> tentado depende do nó que o leitor está na carga quando é tentada, porque <xref:System.Xml.XmlDocument.Load%2A> verifica que XML do leitor seja bem formado.</span><span class="sxs-lookup"><span data-stu-id="07908-106">The success of the attempted <xref:System.Xml.XmlDocument.Load%2A> depends on the node that the reader is on when the load is attempted, as <xref:System.Xml.XmlDocument.Load%2A> verifies that the XML from the reader is well-formed.</span></span> <span data-ttu-id="07908-107">Se XML bem formado, não é <xref:System.Xml.XmlDocument.Load%2A> gerencie uma exceção.</span><span class="sxs-lookup"><span data-stu-id="07908-107">If the XML is not well-formed, the <xref:System.Xml.XmlDocument.Load%2A> throws an exception.</span></span> <span data-ttu-id="07908-108">Por exemplo, o seguinte conjunto de nós contém dois elementos de nível raiz, não é XML bem formado, e gera de <xref:System.Xml.XmlDocument.Load%2A> uma exceção.</span><span class="sxs-lookup"><span data-stu-id="07908-108">For example, the following set of nodes contain two root-level elements, the XML is not well-formed, and <xref:System.Xml.XmlDocument.Load%2A> throws an exception.</span></span>  
  
- <span data-ttu-id="07908-109">Nó de comentário, seguido por um nó de elemento, seguido por um nó de elemento, seguido por um nó de EndElement.</span><span class="sxs-lookup"><span data-stu-id="07908-109">Comment node, followed by an Element node, followed by an Element node, followed by an EndElement node.</span></span>  
  
 <span data-ttu-id="07908-110">O seguinte conjunto de nós cria os DOM incompletos, porque não há nenhum elemento de nível raiz.</span><span class="sxs-lookup"><span data-stu-id="07908-110">The following set of nodes creates an incomplete DOM, because there is no root-level element.</span></span>  
  
- <span data-ttu-id="07908-111">Nó de comentário seguido por um nó de ProcessingInstruction seguido por um nó de comentário seguido por um nó de EndElement.</span><span class="sxs-lookup"><span data-stu-id="07908-111">Comment node followed by a ProcessingInstruction node followed by a Comment node followed by an EndElement node.</span></span>  
  
 <span data-ttu-id="07908-112">Isso não gerencie uma exceção, e os dados estão carregados.</span><span class="sxs-lookup"><span data-stu-id="07908-112">This does not throw an exception, and the data is loaded.</span></span> <span data-ttu-id="07908-113">Você pode adicionar um elemento raiz na parte superior desses nós e criar o XML bem formado que pode ser salvo sem erro.</span><span class="sxs-lookup"><span data-stu-id="07908-113">You can add a root element to the top of these nodes and create well-formed XML that can be saved without error.</span></span>  
  
 <span data-ttu-id="07908-114">Se o leitor é posicionado em um nó folha que não é válido para o nível raiz de um documento (por exemplo, um espaço em branco ou um nó de atributo), o leitor continua a ler até que está localizado em um nó que pode ser usado para a raiz.</span><span class="sxs-lookup"><span data-stu-id="07908-114">If the reader is positioned on a leaf node that is invalid for the root level of a document (for example, a white space or attribute node), the reader continues to read until it is positioned on a node that can be used for the root.</span></span> <span data-ttu-id="07908-115">O documento começa a carregar no momento.</span><span class="sxs-lookup"><span data-stu-id="07908-115">The document begins loading at this point.</span></span>  
  
 <span data-ttu-id="07908-116">Por padrão, <xref:System.Xml.XmlDocument.Load%2A> não verifica se o XML é válida usando o Document type definition (DTD) ou validação de esquema.</span><span class="sxs-lookup"><span data-stu-id="07908-116">By default, <xref:System.Xml.XmlDocument.Load%2A> does not verify whether the XML is valid using document type definition (DTD) or schema validation.</span></span> <span data-ttu-id="07908-117">Verifica somente se está XML bem formado.</span><span class="sxs-lookup"><span data-stu-id="07908-117">It only verifies whether the XML is well-formed.</span></span> <span data-ttu-id="07908-118">Para que a validação ocorre, você precisa criar <xref:System.Xml.XmlReader> usando a classe de <xref:System.Xml.XmlReaderSettings> .</span><span class="sxs-lookup"><span data-stu-id="07908-118">In order for validation to occur, you need to create an <xref:System.Xml.XmlReader> using the <xref:System.Xml.XmlReaderSettings> class.</span></span> <span data-ttu-id="07908-119">A classe <xref:System.Xml.XmlReader> pode impor a validação usando um esquema da linguagem XSD ou DTD.</span><span class="sxs-lookup"><span data-stu-id="07908-119">The <xref:System.Xml.XmlReader> class can enforce validation using a DTD or Schema definition language (XSD) schema.</span></span> <span data-ttu-id="07908-120">A propriedade de <xref:System.Xml.ValidationType> na classe de <xref:System.Xml.XmlReaderSettings> determina se a instância de <xref:System.Xml.XmlReader> aplica a validação.</span><span class="sxs-lookup"><span data-stu-id="07908-120">The <xref:System.Xml.ValidationType> property on the <xref:System.Xml.XmlReaderSettings> class determines whether the <xref:System.Xml.XmlReader> instance enforces validation.</span></span> <span data-ttu-id="07908-121">Para obter mais informações sobre a validação de dados XML, consulte a seção comentários da página de referência <xref:System.Xml.XmlReader>.</span><span class="sxs-lookup"><span data-stu-id="07908-121">For more information about validating XML data, see the Remarks section of the <xref:System.Xml.XmlReader> reference page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="07908-122">Veja também</span><span class="sxs-lookup"><span data-stu-id="07908-122">See also</span></span>

- [<span data-ttu-id="07908-123">DOM (Modelo de Objeto do Documento) de XML</span><span class="sxs-lookup"><span data-stu-id="07908-123">XML Document Object Model (DOM)</span></span>](../../../../docs/standard/data/xml/xml-document-object-model-dom.md)
