---
title: "Referências a entidades são expandidos e não preservadas"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: ffd97806-ab43-4538-8de2-5828bfbbde57
caps.latest.revision: "3"
author: mairaw
ms.author: mairaw
manager: wpickett
ms.openlocfilehash: 069d3b94a0269917400e75fdbe975ec39dcfdb71
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/18/2017
---
# <a name="entity-references-are-expanded-and-not-preserved"></a><span data-ttu-id="faee9-102">Referências a entidades são expandidos e não preservadas</span><span class="sxs-lookup"><span data-stu-id="faee9-102">Entity References are Expanded and Not Preserved</span></span>
<span data-ttu-id="faee9-103">Quando a referência de entidade é expandida e substituída pelo texto representa, o **XmlEntityReference** nó não é criado.</span><span class="sxs-lookup"><span data-stu-id="faee9-103">When the entity reference is expanded and replaced by the text it represents, the **XmlEntityReference** node is not created.</span></span> <span data-ttu-id="faee9-104">Em vez disso, a declaração de entidade é analisada e nós criados do conteúdo na declaração são copiados em vez do **XmlEntityReference**.</span><span class="sxs-lookup"><span data-stu-id="faee9-104">Instead, the entity declaration is parsed, and nodes created from the content in the declaration are copied in the place of the **XmlEntityReference**.</span></span> <span data-ttu-id="faee9-105">Portanto, o `&publisher;` exemplo, o `&publisher;` não for salva, mas em vez disso, um **XmlText** nó será criado.</span><span class="sxs-lookup"><span data-stu-id="faee9-105">Therefore, in the `&publisher;` example, the `&publisher;` is not saved, but instead, an **XmlText** node is created.</span></span>  
  
 <span data-ttu-id="faee9-106">![expandido a estrutura de árvore](../../../../docs/standard/data/xml/media/xmlentityref-expanded-nodes.gif "xmlentityref_expanded_nodes")</span><span class="sxs-lookup"><span data-stu-id="faee9-106">![expanded tree structure](../../../../docs/standard/data/xml/media/xmlentityref-expanded-nodes.gif "xmlentityref_expanded_nodes")</span></span>  
<span data-ttu-id="faee9-107">Estrutura de árvore para as referências de entidade que são expandidas</span><span class="sxs-lookup"><span data-stu-id="faee9-107">Tree structure for entity references that are expanded</span></span>  
  
 <span data-ttu-id="faee9-108">As entidades de caractere como `B` ou `<` não são preservados.</span><span class="sxs-lookup"><span data-stu-id="faee9-108">Character entities such as `B` or `<` are not preserved.</span></span> <span data-ttu-id="faee9-109">Em vez disso, sempre são expandidos e representados como nós de texto.</span><span class="sxs-lookup"><span data-stu-id="faee9-109">Instead, they are always expanded and represented as text nodes.</span></span>  
  
 <span data-ttu-id="faee9-110">Para preservar **XmlEntityReference** nós e nós filho da referência de entidade anexado a ele, defina o **EntityHandling** sinalizador como **ExpandCharEntities**.</span><span class="sxs-lookup"><span data-stu-id="faee9-110">To preserve **XmlEntityReference** nodes and child nodes of the entity reference attached to it, set the **EntityHandling** flag to **ExpandCharEntities**.</span></span> <span data-ttu-id="faee9-111">Caso contrário, deixe o **EntityHandling** sinalizador padrão, que é **ExpandEntities**.</span><span class="sxs-lookup"><span data-stu-id="faee9-111">Otherwise, leave the **EntityHandling** flag at the default, which is to **ExpandEntities**.</span></span> <span data-ttu-id="faee9-112">Nesse caso, você não verá nós de referência de entidade em DOM.</span><span class="sxs-lookup"><span data-stu-id="faee9-112">In this case, you will not see entity reference nodes in the DOM.</span></span> <span data-ttu-id="faee9-113">Os nós são substituídos pelos nós que são cópias dos nós filho da declaração de entidade.</span><span class="sxs-lookup"><span data-stu-id="faee9-113">The nodes are replaced by the nodes that are copies of the child nodes of the entity declaration.</span></span>  
  
 <span data-ttu-id="faee9-114">Um efeito colateral de não preservar referências a entidades é que quando o documento é salvo e passado sobre a outro aplicativo, o aplicativo de receptor não sabe que os nós foram gerados por uma referência de entidade.</span><span class="sxs-lookup"><span data-stu-id="faee9-114">One side effect of not preserving entity references is that when the document is saved and passed on to another application, the receiving application does not know that the nodes were generated by an entity reference.</span></span> <span data-ttu-id="faee9-115">No entanto, quando as referências a entidades são preservadas, um aplicativo de receptor considera uma referência de entidade e ler os nós filho.</span><span class="sxs-lookup"><span data-stu-id="faee9-115">However, when entity references are preserved, a receiving application sees an entity reference and reads the child nodes.</span></span> <span data-ttu-id="faee9-116">É aparente que os nós filhos representam informações que estava na declaração de entidade.</span><span class="sxs-lookup"><span data-stu-id="faee9-116">It is apparent that the child nodes represent the information that was in the entity declaration.</span></span> <span data-ttu-id="faee9-117">Por exemplo, os DOM têm teoricamente a seguinte estrutura se as referências a entidades são preservadas.</span><span class="sxs-lookup"><span data-stu-id="faee9-117">For example, the DOM theoretically has the following structure if entity references are preserved.</span></span>  
  
 <span data-ttu-id="faee9-118">XmlElement: editor</span><span class="sxs-lookup"><span data-stu-id="faee9-118">XmlElement: publisher</span></span>  
  
 <span data-ttu-id="faee9-119">XmlEntityReference: `&publisher;`</span><span class="sxs-lookup"><span data-stu-id="faee9-119">XmlEntityReference: `&publisher;`</span></span>  
  
 <span data-ttu-id="faee9-120">XmlText: Pressione da Microsoft</span><span class="sxs-lookup"><span data-stu-id="faee9-120">XmlText: Microsoft Press</span></span>  
  
 <span data-ttu-id="faee9-121">Se as referências a entidades são expandidas em DOM, que é o método padrão, a estrutura tem esse tipo de árvore:</span><span class="sxs-lookup"><span data-stu-id="faee9-121">If entity references are expanded in the DOM, which is the default method, the structure has this type of tree:</span></span>  
  
 <span data-ttu-id="faee9-122">XmlElement: editor</span><span class="sxs-lookup"><span data-stu-id="faee9-122">XmlElement: publisher</span></span>  
  
 <span data-ttu-id="faee9-123">XmlText: Pressione da Microsoft</span><span class="sxs-lookup"><span data-stu-id="faee9-123">XmlText: Microsoft Press</span></span>  
  
 <span data-ttu-id="faee9-124">Observe que o nó de referência de entidade será excluído e o aplicativo de recebimento não pode determinar que o **XmlText** nó que contém "Microsoft Press" foi criado a partir de uma declaração de entidade.</span><span class="sxs-lookup"><span data-stu-id="faee9-124">Notice that the entity reference node is gone, and the receiving application cannot tell that the **XmlText** node containing "Microsoft Press" was created from an entity declaration.</span></span>  
  
 <span data-ttu-id="faee9-125">Se você usar um leitor que não é possível resolver entidades, o **carga** método lançará uma exceção quando ele encontra uma referência de entidade.</span><span class="sxs-lookup"><span data-stu-id="faee9-125">If you use a reader that cannot resolve entities, the **Load** method throws an exception when it encounters an entity reference.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="faee9-126">Consulte também</span><span class="sxs-lookup"><span data-stu-id="faee9-126">See Also</span></span>  
 [<span data-ttu-id="faee9-127">XML Document Object Model (DOM)</span><span class="sxs-lookup"><span data-stu-id="faee9-127">XML Document Object Model (DOM)</span></span>](../../../../docs/standard/data/xml/xml-document-object-model-dom.md)
