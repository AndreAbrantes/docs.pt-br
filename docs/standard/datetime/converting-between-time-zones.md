---
title: Convertendo horários entre fusos horários
ms.date: 04/10/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- times [.NET Framework], converting
- time zones [.NET Framework], conversions
- UTC times, converting
- converting times
- local time conversions
ms.assetid: a51e1a3b-c983-4320-b31a-1f9fa3cf824a
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 64b971e71019359cebc1493a410e748a1fd7b7cb
ms.sourcegitcommit: e614e0f3b031293e4107f37f752be43652f3f253
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/26/2018
ms.locfileid: "42933492"
---
# <a name="converting-times-between-time-zones"></a><span data-ttu-id="8881b-102">Convertendo horários entre fusos horários</span><span class="sxs-lookup"><span data-stu-id="8881b-102">Converting times between time zones</span></span>

<span data-ttu-id="8881b-103">Está se tornando cada vez mais importante para qualquer aplicativo que trabalha com datas e horas lidar com diferenças entre fusos horários.</span><span class="sxs-lookup"><span data-stu-id="8881b-103">It is becoming increasingly important for any application that works with dates and times to handle differences between time zones.</span></span> <span data-ttu-id="8881b-104">Um aplicativo não pode assumir que todos os horários podem ser expressos na hora local, que é o tempo disponível do <xref:System.DateTime> estrutura.</span><span class="sxs-lookup"><span data-stu-id="8881b-104">An application can no longer assume that all times can be expressed in the local time, which is the time available from the <xref:System.DateTime> structure.</span></span> <span data-ttu-id="8881b-105">Por exemplo, uma página da Web que exibe a hora atual no leste dos Estados Unidos não terá credibilidade para um cliente no leste da Ásia.</span><span class="sxs-lookup"><span data-stu-id="8881b-105">For example, a Web page that displays the current time in the eastern part of the United States will lack credibility to a customer in eastern Asia.</span></span> <span data-ttu-id="8881b-106">Este tópico explica como converter horários de um fuso horário para outro, bem como converter <xref:System.DateTimeOffset> valores que têm limitado o reconhecimento de fuso horário.</span><span class="sxs-lookup"><span data-stu-id="8881b-106">This topic explains how to convert times from one time zone to another, as well as how to convert <xref:System.DateTimeOffset> values that have limited time zone awareness.</span></span>

## <a name="converting-to-coordinated-universal-time"></a><span data-ttu-id="8881b-107">Convertendo para o Tempo Universal Coordenado</span><span class="sxs-lookup"><span data-stu-id="8881b-107">Converting to Coordinated Universal Time</span></span>

<span data-ttu-id="8881b-108">O UTC (Tempo Universal Coordenado) é um padrão de tempo atômico de alta precisão.</span><span class="sxs-lookup"><span data-stu-id="8881b-108">Coordinated Universal Time (UTC) is a high-precision, atomic time standard.</span></span> <span data-ttu-id="8881b-109">Os fusos horários do mundo são expressos como deslocamentos positivos ou negativos com relação ao UTC.</span><span class="sxs-lookup"><span data-stu-id="8881b-109">The world’s time zones are expressed as positive or negative offsets from UTC.</span></span> <span data-ttu-id="8881b-110">Sendo assim, o UTC fornece uma espécie de hora livre de fuso horário ou com fuso horário neutro.</span><span class="sxs-lookup"><span data-stu-id="8881b-110">Thus, UTC provides a kind of time-zone free or time-zone neutral time.</span></span> <span data-ttu-id="8881b-111">O uso da hora em UTC é recomendado quando a portabilidade da data e hora entre computadores é importante.</span><span class="sxs-lookup"><span data-stu-id="8881b-111">The use of UTC time is recommended when a date and time's portability across computers is important.</span></span> <span data-ttu-id="8881b-112">(Para obter detalhes e as melhores práticas usando datas e horas, consulte [codificando as práticas recomendadas usando DateTime no .NET Framework](https://msdn.microsoft.com/library/ms973825.aspx).) Converter fusos horários individuais em UTC facilita comparações de hora.</span><span class="sxs-lookup"><span data-stu-id="8881b-112">(For details and other best practices using dates and times, see [Coding best practices using DateTime in the .NET Framework](https://msdn.microsoft.com/library/ms973825.aspx).) Converting individual time zones to UTC makes time comparisons easy.</span></span>

> [!NOTE]
> <span data-ttu-id="8881b-113">Você também pode serializar um <xref:System.DateTimeOffset> estrutura para representar sem ambiguidade um único ponto no tempo.</span><span class="sxs-lookup"><span data-stu-id="8881b-113">You can also serialize a <xref:System.DateTimeOffset> structure to unambiguously represent a single point in time.</span></span> <span data-ttu-id="8881b-114">Porque <xref:System.DateTimeOffset> objetos armazenarem um valor de data e hora junto com seu deslocamento do UTC, eles sempre representam um ponto específico no tempo em relação ao UTC.</span><span class="sxs-lookup"><span data-stu-id="8881b-114">Because <xref:System.DateTimeOffset> objects store a date and time value along with its offset from UTC, they always represent a particular point in time in relationship to UTC.</span></span>

<span data-ttu-id="8881b-115">A maneira mais fácil para converter uma hora em UTC é chamar o `static` (`Shared` no Visual Basic) <xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> método.</span><span class="sxs-lookup"><span data-stu-id="8881b-115">The easiest way to convert a time to UTC is to call the `static` (`Shared` in Visual Basic) <xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="8881b-116">A conversão exata executada pelo método depende do valor da `dateTime` do parâmetro <xref:System.DateTime.Kind%2A> propriedade, como mostra a tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="8881b-116">The exact conversion performed by the method depends on the value of the `dateTime` parameter's <xref:System.DateTime.Kind%2A> property, as the following table shows.</span></span>

| `DateTime.Kind`            | <span data-ttu-id="8881b-117">Conversão</span><span class="sxs-lookup"><span data-stu-id="8881b-117">Conversion</span></span>                                                                     |
| -------------------------- | ------------------------------------------------------------------------------ |
| `DateTimeKind.Local`       | <span data-ttu-id="8881b-118">Converte a hora local para UTC.</span><span class="sxs-lookup"><span data-stu-id="8881b-118">Converts local time to UTC.</span></span>                                                    |
| `DateTimeKind.Unspecified` | <span data-ttu-id="8881b-119">Presume que o parâmetro `dateTime` é a hora local e converte a hora local para UTC.</span><span class="sxs-lookup"><span data-stu-id="8881b-119">Assumes the `dateTime` parameter is local time and converts local time to UTC.</span></span> |
| `DateTimeKind.Utc`         | <span data-ttu-id="8881b-120">Retorna o parâmetro `dateTime` inalterado.</span><span class="sxs-lookup"><span data-stu-id="8881b-120">Returns the `dateTime` parameter unchanged.</span></span>                                    |

<span data-ttu-id="8881b-121">O código a seguir converte a hora local atual para UTC e exibe o resultado no console.</span><span class="sxs-lookup"><span data-stu-id="8881b-121">The following code converts the current local time to UTC and displays the result to the console.</span></span>

[!code-csharp[System.TimeZone2.Concepts#6](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#6)]
[!code-vb[System.TimeZone2.Concepts#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#6)]

> [!NOTE]
> <span data-ttu-id="8881b-122">O <xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> método não produz necessariamente resultados idênticos do <xref:System.TimeZone.ToUniversalTime%2A?displayProperty=nameWithType> e <xref:System.DateTime.ToUniversalTime%2A?displayProperty=nameWithType> métodos.</span><span class="sxs-lookup"><span data-stu-id="8881b-122">The <xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> method does not necessarily produce results that are identical to the <xref:System.TimeZone.ToUniversalTime%2A?displayProperty=nameWithType> and <xref:System.DateTime.ToUniversalTime%2A?displayProperty=nameWithType> methods.</span></span> <span data-ttu-id="8881b-123">Se o sistema do host local do fuso horário inclui várias regras de ajuste, <xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> aplica-se a regra apropriada para uma determinada data e hora.</span><span class="sxs-lookup"><span data-stu-id="8881b-123">If the host system's local time zone includes multiple adjustment rules, <xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> applies the appropriate rule to a particular date and time.</span></span> <span data-ttu-id="8881b-124">Os outros dois métodos sempre aplicam a regra de ajuste mais recente.</span><span class="sxs-lookup"><span data-stu-id="8881b-124">The other two methods always apply the latest adjustment rule.</span></span>

<span data-ttu-id="8881b-125">Se o valor de data e hora não representar a hora local ou UTC, o <xref:System.DateTime.ToUniversalTime%2A> método provavelmente retornará um resultado errado.</span><span class="sxs-lookup"><span data-stu-id="8881b-125">If the date and time value does not represent either the local time or UTC, the <xref:System.DateTime.ToUniversalTime%2A> method will likely return an erroneous result.</span></span> <span data-ttu-id="8881b-126">No entanto, você pode usar o <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> método para converter a data e hora de um fuso horário especificado.</span><span class="sxs-lookup"><span data-stu-id="8881b-126">However, you can use the <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> method to convert the date and time from a specified time zone.</span></span> <span data-ttu-id="8881b-127">(Para obter detalhes sobre como recuperar um <xref:System.TimeZoneInfo> objeto que representa o fuso horário de destino, consulte [encontrando os fusos horários definidos em um sistema local](../../../docs/standard/datetime/finding-the-time-zones-on-local-system.md).) O código a seguir usa o <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> método para converter a hora padrão Oriental para UTC.</span><span class="sxs-lookup"><span data-stu-id="8881b-127">(For details on retrieving a <xref:System.TimeZoneInfo> object that represents the destination time zone, see [Finding the time zones defined on a local system](../../../docs/standard/datetime/finding-the-time-zones-on-local-system.md).) The following code uses the <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> method to convert Eastern Standard Time to UTC.</span></span>

[!code-csharp[System.TimeZone2.Concepts#7](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#7)]
[!code-vb[System.TimeZone2.Concepts#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#7)]

<span data-ttu-id="8881b-128">Observe que esse método lança um <xref:System.ArgumentException> se o <xref:System.DateTime> do objeto <xref:System.DateTime.Kind%2A> propriedade e o fuso horário forem incompatíveis.</span><span class="sxs-lookup"><span data-stu-id="8881b-128">Note that this method throws an <xref:System.ArgumentException> if the <xref:System.DateTime> object's <xref:System.DateTime.Kind%2A> property and the time zone are mismatched.</span></span> <span data-ttu-id="8881b-129">Uma incompatibilidade ocorre se o <xref:System.DateTime.Kind%2A> é de propriedade <xref:System.DateTimeKind.Local?displayProperty=nameWithType> , mas o <xref:System.TimeZoneInfo> objeto não representa o fuso horário local, ou se o <xref:System.DateTime.Kind%2A> é de propriedade <xref:System.DateTimeKind.Utc?displayProperty=nameWithType> , mas o <xref:System.TimeZoneInfo> objeto não é igual a <xref:System.TimeZoneInfo.Utc?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="8881b-129">A mismatch occurs if the <xref:System.DateTime.Kind%2A> property is <xref:System.DateTimeKind.Local?displayProperty=nameWithType> but the <xref:System.TimeZoneInfo> object does not represent the local time zone, or if the <xref:System.DateTime.Kind%2A> property is <xref:System.DateTimeKind.Utc?displayProperty=nameWithType> but the <xref:System.TimeZoneInfo> object does not equal <xref:System.TimeZoneInfo.Utc?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="8881b-130">Todos esses métodos usam <xref:System.DateTime> valores como parâmetros e retornam um <xref:System.DateTime> valor.</span><span class="sxs-lookup"><span data-stu-id="8881b-130">All of these methods take <xref:System.DateTime> values as parameters and return a <xref:System.DateTime> value.</span></span> <span data-ttu-id="8881b-131">Para <xref:System.DateTimeOffset> valores, o <xref:System.DateTimeOffset> estrutura tem um <xref:System.DateTimeOffset.ToUniversalTime%2A> método que converte a data e hora da instância atual em UTC de instância.</span><span class="sxs-lookup"><span data-stu-id="8881b-131">For <xref:System.DateTimeOffset> values, the <xref:System.DateTimeOffset> structure has a <xref:System.DateTimeOffset.ToUniversalTime%2A> instance method that converts the date and time of the current instance to UTC.</span></span> <span data-ttu-id="8881b-132">A exemplo a seguir chama o <xref:System.DateTimeOffset.ToUniversalTime%2A> método para converter uma hora local e várias outras horas para o tempo Universal Coordenado (UTC).</span><span class="sxs-lookup"><span data-stu-id="8881b-132">The following example calls the <xref:System.DateTimeOffset.ToUniversalTime%2A> method to convert a local time and several other times to Coordinated Universal Time (UTC).</span></span>

[!code-csharp[System.DateTimeOffset.Methods#16](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Methods/cs/Methods.cs#16)]
[!code-vb[System.DateTimeOffset.Methods#16](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Methods/vb/Methods.vb#16)]

## <a name="converting-utc-to-a-designated-time-zone"></a><span data-ttu-id="8881b-133">Convertendo UTC em um fuso horário designado</span><span class="sxs-lookup"><span data-stu-id="8881b-133">Converting UTC to a designated time zone</span></span>

<span data-ttu-id="8881b-134">Para converter UTC em hora local, consulte a seção "convertendo UTC em Hora Local" que segue.</span><span class="sxs-lookup"><span data-stu-id="8881b-134">To convert UTC to local time, see the "Converting UTC to Local Time" section that follows.</span></span> <span data-ttu-id="8881b-135">Para converter UTC para o horário em qualquer fuso horário que você designar, chame o <xref:System.TimeZoneInfo.ConvertTimeFromUtc%2A> método.</span><span class="sxs-lookup"><span data-stu-id="8881b-135">To convert UTC to the time in any time zone that you designate, call the <xref:System.TimeZoneInfo.ConvertTimeFromUtc%2A> method.</span></span> <span data-ttu-id="8881b-136">O método utiliza dois parâmetros:</span><span class="sxs-lookup"><span data-stu-id="8881b-136">The method takes two parameters:</span></span>

* <span data-ttu-id="8881b-137">O UTC a ser convertido.</span><span class="sxs-lookup"><span data-stu-id="8881b-137">The UTC to convert.</span></span> <span data-ttu-id="8881b-138">Isso deve ser um <xref:System.DateTime> valor cuja <xref:System.DateTime.Kind%2A> estiver definida como `Unspecified` ou `Utc`.</span><span class="sxs-lookup"><span data-stu-id="8881b-138">This must be a <xref:System.DateTime> value whose <xref:System.DateTime.Kind%2A> property is set to `Unspecified` or `Utc`.</span></span>

* <span data-ttu-id="8881b-139">O fuso horário no qual o UTC deve ser convertido.</span><span class="sxs-lookup"><span data-stu-id="8881b-139">The time zone to convert the UTC to.</span></span>

<span data-ttu-id="8881b-140">O código a seguir converte o UTC para o Horário Padrão Central.</span><span class="sxs-lookup"><span data-stu-id="8881b-140">The following code converts UTC to Central Standard Time.</span></span>

[!code-csharp[System.TimeZone2.Concepts#8](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#8)]
[!code-vb[System.TimeZone2.Concepts#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#8)]

## <a name="converting-utc-to-local-time"></a><span data-ttu-id="8881b-141">Convertendo UTC em hora local</span><span class="sxs-lookup"><span data-stu-id="8881b-141">Converting UTC to local time</span></span>

<span data-ttu-id="8881b-142">Para converter UTC em hora local, chame o <xref:System.DateTime.ToLocalTime%2A> método da <xref:System.DateTime> objeto cuja hora você deseja converter.</span><span class="sxs-lookup"><span data-stu-id="8881b-142">To convert UTC to local time, call the <xref:System.DateTime.ToLocalTime%2A> method of the <xref:System.DateTime> object whose time you want to convert.</span></span> <span data-ttu-id="8881b-143">O comportamento exato do método depende do valor do objeto <xref:System.DateTime.Kind%2A> propriedade, como mostra a tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="8881b-143">The exact behavior of the method depends on the value of the object’s <xref:System.DateTime.Kind%2A> property, as the following table shows.</span></span>

| `DateTime.Kind`            | <span data-ttu-id="8881b-144">Conversão</span><span class="sxs-lookup"><span data-stu-id="8881b-144">Conversion</span></span>                                                                               |
| -------------------------- | ---------------------------------------------------------------------------------------- |
| `DateTimeKind.Local`       | <span data-ttu-id="8881b-145">Retorna o <xref:System.DateTime> valor inalterado.</span><span class="sxs-lookup"><span data-stu-id="8881b-145">Returns the <xref:System.DateTime> value unchanged.</span></span>                                      |
| `DateTimeKind.Unspecified` | <span data-ttu-id="8881b-146">Pressupõe que o <xref:System.DateTime> valor é o UTC e converte o UTC em hora local.</span><span class="sxs-lookup"><span data-stu-id="8881b-146">Assumes that the <xref:System.DateTime> value is UTC and converts the UTC to local time.</span></span> |
| `DateTimeKind.Utc`         | <span data-ttu-id="8881b-147">Converte o <xref:System.DateTime> valor para a hora local.</span><span class="sxs-lookup"><span data-stu-id="8881b-147">Converts the <xref:System.DateTime> value to local time.</span></span>                                 |

> [!NOTE]
> <span data-ttu-id="8881b-148">O <xref:System.TimeZone.ToLocalTime%2A?displayProperty=nameWithType> método se comporta de forma idêntica ao `DateTime.ToLocalTime` método.</span><span class="sxs-lookup"><span data-stu-id="8881b-148">The <xref:System.TimeZone.ToLocalTime%2A?displayProperty=nameWithType> method behaves identically to the `DateTime.ToLocalTime` method.</span></span> <span data-ttu-id="8881b-149">Ele usa um único parâmetro, que é o valor de data e hora a ser convertido.</span><span class="sxs-lookup"><span data-stu-id="8881b-149">It takes a single parameter, which is the date and time value to convert.</span></span>

<span data-ttu-id="8881b-150">Você também pode converter a hora em qualquer fuso horário designado para o horário local usando o `static` (`Shared` no Visual Basic) <xref:System.TimeZoneInfo.ConvertTime%2A?displayProperty=nameWithType> método.</span><span class="sxs-lookup"><span data-stu-id="8881b-150">You can also convert the time in any designated time zone to local time by using the `static` (`Shared` in Visual Basic) <xref:System.TimeZoneInfo.ConvertTime%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="8881b-151">Essa técnica é abordada na próxima seção.</span><span class="sxs-lookup"><span data-stu-id="8881b-151">This technique is discussed in the next section.</span></span>

## <a name="converting-between-any-two-time-zones"></a><span data-ttu-id="8881b-152">Convertendo entre dois fusos horários</span><span class="sxs-lookup"><span data-stu-id="8881b-152">Converting between any two time zones</span></span>

<span data-ttu-id="8881b-153">Você pode converter entre quaisquer dois fusos horários usando qualquer um dos dois seguintes `static` (`Shared` no Visual Basic) métodos do <xref:System.TimeZoneInfo> classe:</span><span class="sxs-lookup"><span data-stu-id="8881b-153">You can convert between any two time zones by using either of the following two `static` (`Shared` in Visual Basic) methods of the <xref:System.TimeZoneInfo> class:</span></span>

* <xref:System.TimeZoneInfo.ConvertTime%2A>

  <span data-ttu-id="8881b-154">Os parâmetros desse método são o valor de data e hora a ser convertido, um `TimeZoneInfo` objeto que representa o fuso horário do valor de data e hora, e um `TimeZoneInfo` objeto que representa o fuso horário ao converter o valor de data e hora.</span><span class="sxs-lookup"><span data-stu-id="8881b-154">This method's parameters are the date and time value to convert, a `TimeZoneInfo` object that represents the time zone of the date and time value, and a `TimeZoneInfo` object that represents the time zone to convert the date and time value to.</span></span>

* <xref:System.TimeZoneInfo.ConvertTimeBySystemTimeZoneId%2A>

  <span data-ttu-id="8881b-155">Os parâmetros desse método são a data e valor de tempo a ser convertido, o identificador da data e fuso horário do valor de hora e o identificador do fuso horário para converter o valor de data e hora.</span><span class="sxs-lookup"><span data-stu-id="8881b-155">This method's parameters are the date and time value to convert, the identifier of the date and time value's time zone, and the identifier of the time zone to convert the date and time value to.</span></span>

<span data-ttu-id="8881b-156">Ambos os métodos requerem que o <xref:System.DateTime.Kind%2A> propriedade do valor de data e hora a ser convertido e o <xref:System.TimeZoneInfo> identificador de fuso horário ou objeto que representa seu fuso horário, sejam correspondentes.</span><span class="sxs-lookup"><span data-stu-id="8881b-156">Both methods require that the <xref:System.DateTime.Kind%2A> property of the date and time value to convert and the <xref:System.TimeZoneInfo> object or time zone identifier that represents its time zone correspond to one another.</span></span> <span data-ttu-id="8881b-157">Caso contrário, um <xref:System.ArgumentException> será gerado.</span><span class="sxs-lookup"><span data-stu-id="8881b-157">Otherwise, an <xref:System.ArgumentException> is thrown.</span></span> <span data-ttu-id="8881b-158">Por exemplo, se o `Kind` é de propriedade do valor de data e hora `DateTimeKind.Local`, uma exceção é lançada se o `TimeZoneInfo` objeto passado como um parâmetro para o método não é igual a `TimeZoneInfo.Local`.</span><span class="sxs-lookup"><span data-stu-id="8881b-158">For example, if the `Kind` property of the date and time value is `DateTimeKind.Local`, an exception is thrown if the `TimeZoneInfo` object passed as a parameter to the method is not equal to `TimeZoneInfo.Local`.</span></span> <span data-ttu-id="8881b-159">Uma exceção também será gerada se o identificador passado como um parâmetro para o método não é igual a `TimeZoneInfo.Local.Id`.</span><span class="sxs-lookup"><span data-stu-id="8881b-159">An exception is also thrown if the identifier passed as a parameter to the method is not equal to `TimeZoneInfo.Local.Id`.</span></span>

<span data-ttu-id="8881b-160">O exemplo a seguir usa o <xref:System.TimeZoneInfo.ConvertTime%2A> método para converter a hora oficial do Havaí para a hora local.</span><span class="sxs-lookup"><span data-stu-id="8881b-160">The following example uses the <xref:System.TimeZoneInfo.ConvertTime%2A> method to convert from Hawaiian Standard Time to local time.</span></span>

[!code-csharp[System.TimeZone2.Concepts#9](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#9)]
[!code-vb[System.TimeZone2.Concepts#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#9)]

## <a name="converting-datetimeoffset-values"></a><span data-ttu-id="8881b-161">Convertendo valores de DateTimeOffset</span><span class="sxs-lookup"><span data-stu-id="8881b-161">Converting DateTimeOffset values</span></span>

<span data-ttu-id="8881b-162">Valores de data e hora representados por <xref:System.DateTimeOffset> objetos não são de fuso horário totalmente ciente porque o objeto é desassociado do seu fuso horário no momento em que ela é instanciada.</span><span class="sxs-lookup"><span data-stu-id="8881b-162">Date and time values represented by <xref:System.DateTimeOffset> objects are not fully time-zone aware because the object is disassociated from its time zone at the time it is instantiated.</span></span> <span data-ttu-id="8881b-163">No entanto, em muitos casos o aplicativo precisa apenas converter uma data e hora com base em dois deslocamentos diferentes do UTC, em vez da hora em fusos horários específicos.</span><span class="sxs-lookup"><span data-stu-id="8881b-163">However, in many cases an application simply needs to convert a date and time based on two different offsets from UTC rather than on the time in particular time zones.</span></span> <span data-ttu-id="8881b-164">Para realizar essa conversão, você pode chamar a instância atual <xref:System.DateTimeOffset.ToOffset%2A> método.</span><span class="sxs-lookup"><span data-stu-id="8881b-164">To perform this conversion, you can call the current instance's <xref:System.DateTimeOffset.ToOffset%2A> method.</span></span> <span data-ttu-id="8881b-165">O parâmetro do método único é o deslocamento da nova data e valor de tempo que o método deve retornar.</span><span class="sxs-lookup"><span data-stu-id="8881b-165">The method's single parameter is the offset of the new date and time value that the method is to return.</span></span>

<span data-ttu-id="8881b-166">Por exemplo, se a data e hora da solicitação de um usuário de uma página da Web for conhecida e for serializada como uma cadeia de caracteres no formato MM/dd/aaaa hh:mm:ss zzzz, o seguinte método `ReturnTimeOnServer` converte esse valor de data e hora para a data e hora no servidor Web.</span><span class="sxs-lookup"><span data-stu-id="8881b-166">For example, if the date and time of a user request for a Web page is known and is serialized as a string in the format MM/dd/yyyy hh:mm:ss zzzz, the following `ReturnTimeOnServer` method converts this date and time value to the date and time on the Web server.</span></span>

[!code-csharp[System.DateTimeOffset.Conceptual.OffsetConversions#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/cs/TimeConversions.cs#1)]
[!code-vb[System.DateTimeOffset.Conceptual.OffsetConversions#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/vb/TimeConversions.vb#1)] 

<span data-ttu-id="8881b-167">Se a cadeia de caracteres "9/1/2007 5:32:07 -05:00" for passada ao método, representando a data e hora em um fuso horário cinco horas anteriores ao UTC, ele retornará 9/1/2007 3:32:07 AM -07:00 para um servidor localizado nos EUA. Fuso horário padrão do Pacífico.</span><span class="sxs-lookup"><span data-stu-id="8881b-167">If the method is passed the string "9/1/2007 5:32:07 -05:00", which represents the date and time in a time zone five hours earlier than UTC, it returns 9/1/2007 3:32:07 AM -07:00 for a server located in the U.S. Pacific Standard Time zone.</span></span>

<span data-ttu-id="8881b-168">O <xref:System.TimeZoneInfo> classe também inclui uma sobrecarga da <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29?displayProperty=nameWithType> método que executa conversões de fuso horário com <xref:System.DateTimeOffset.ToOffset(System.TimeSpan)> valores.</span><span class="sxs-lookup"><span data-stu-id="8881b-168">The <xref:System.TimeZoneInfo> class also includes an overload of the <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29?displayProperty=nameWithType> method that performs time zone conversions with <xref:System.DateTimeOffset.ToOffset(System.TimeSpan)> values.</span></span> <span data-ttu-id="8881b-169">Os parâmetros do método são um <xref:System.DateTimeOffset> valor e uma referência ao fuso horário ao qual a hora deve ser convertido.</span><span class="sxs-lookup"><span data-stu-id="8881b-169">The method's parameters are a <xref:System.DateTimeOffset> value and a reference to the time zone to which the time is to be converted.</span></span> <span data-ttu-id="8881b-170">A chamada de método retorna um <xref:System.DateTimeOffset> valor.</span><span class="sxs-lookup"><span data-stu-id="8881b-170">The method call returns a <xref:System.DateTimeOffset> value.</span></span> <span data-ttu-id="8881b-171">Por exemplo, o `ReturnTimeOnServer` método no exemplo anterior poderia ser reescrito da seguinte maneira para chamar o <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29> método.</span><span class="sxs-lookup"><span data-stu-id="8881b-171">For example, the `ReturnTimeOnServer` method in the previous example could be rewritten as follows to call the <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29> method.</span></span>

[!code-csharp[System.DateTimeOffset.Conceptual.OffsetConversions#2](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/cs/timeconversions2.cs#2)]
[!code-vb[System.DateTimeOffset.Conceptual.OffsetConversions#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/vb/TimeConversions2.vb#2)]

## <a name="see-also"></a><span data-ttu-id="8881b-172">Consulte também</span><span class="sxs-lookup"><span data-stu-id="8881b-172">See also</span></span>

<span data-ttu-id="8881b-173"><xref:System.TimeZoneInfo>
[Datas, horas e fusos horários](../../../docs/standard/datetime/index.md)
[encontrando os fusos horários definidos em um sistema local](../../../docs/standard/datetime/finding-the-time-zones-on-local-system.md)</span><span class="sxs-lookup"><span data-stu-id="8881b-173"><xref:System.TimeZoneInfo>
[Dates, times, and time zones](../../../docs/standard/datetime/index.md)
[Finding the time zones defined on a local system](../../../docs/standard/datetime/finding-the-time-zones-on-local-system.md)</span></span>
