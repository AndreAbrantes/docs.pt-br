---
title: Escolhendo entre DateTime, DateTimeOffset, TimeSpan e TimeZoneInfo
ms.date: 04/10/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- DateTimeOffset structure
- TimeZoneInfo class
- time zones [.NET Framework], common uses
- date and time classes [.NET Framework]
- time zones [.NET Framework], type options
- DateTime structure
ms.assetid: 07f17aad-3571-4014-9ef3-b695a86f3800
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 0ed41d7739822d531986d65faa820ab7100c6651
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/23/2019
ms.locfileid: "54600109"
---
# <a name="choosing-between-datetime-datetimeoffset-timespan-and-timezoneinfo"></a><span data-ttu-id="cd1cb-102">Escolhendo entre DateTime, DateTimeOffset, TimeSpan e TimeZoneInfo</span><span class="sxs-lookup"><span data-stu-id="cd1cb-102">Choosing between DateTime, DateTimeOffset, TimeSpan, and TimeZoneInfo</span></span>

<span data-ttu-id="cd1cb-103">Os aplicativos .NET que usam informações de data e hora são muito diferentes e podem usar essas informações de várias maneiras.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-103">.NET applications that use date and time information are very diverse and can use that information in several ways.</span></span> <span data-ttu-id="cd1cb-104">As formas de utilização mais comuns de data e hora incluem uma ou mais das seguintes opções:</span><span class="sxs-lookup"><span data-stu-id="cd1cb-104">The more common uses of date and time information include one or more of the following:</span></span>

* <span data-ttu-id="cd1cb-105">Para refletir somente uma data, uma vez que a informação de tempo não é importante.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-105">To reflect a date only, so that time information is not important.</span></span>

* <span data-ttu-id="cd1cb-106">Para refletir somente um tempo, uma vez que a informação de data não é importante.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-106">To reflect a time only, so that date information is not important.</span></span>

* <span data-ttu-id="cd1cb-107">Para refletir uma data abstrata e um tempo que não está vinculado a uma hora e local específicos (por exemplo, a maioria das lojas em um uma cadeia internacional abre em dias da semana às 9h).</span><span class="sxs-lookup"><span data-stu-id="cd1cb-107">To reflect an abstract date and time that is not tied to a specific time and place (for example, most stores in an international chain open on weekdays at 9:00 A.M.).</span></span>

* <span data-ttu-id="cd1cb-108">Para recuperar informações de data e hora de fontes fora do .NET, normalmente em que as informações de data e hora são armazenadas em um tipo simples de dados.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-108">To retrieve date and time information from sources outside of .NET, typically where date and time information is stored in a simple data type.</span></span>

* <span data-ttu-id="cd1cb-109">Para identificar um único ponto no tempo de maneira única e não ambígua.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-109">To uniquely and unambiguously identify a single point in time.</span></span> <span data-ttu-id="cd1cb-110">Alguns aplicativos exigem que uma data e hora não seja ambígua somente no sistema host; outros exigem que ela não seja ambígua entre sistemas (ou seja, uma data serializada em um sistema pode ser significativamente desserializada e usada em outro sistema em qualquer lugar do mundo).</span><span class="sxs-lookup"><span data-stu-id="cd1cb-110">Some applications require that a date and time be unambiguous only on the host system; others require that it be unambiguous across systems (that is, a date serialized on one system can be meaningfully deserialized and used on another system anywhere in the world).</span></span>

* <span data-ttu-id="cd1cb-111">Para preservar vários horários relacionados (como o horário local do solicitante e o horário de recebimento de uma solicitação Web pelo servidor).</span><span class="sxs-lookup"><span data-stu-id="cd1cb-111">To preserve multiple related times (such as the requestor's local time and the server's time of receipt for a Web request).</span></span>

* <span data-ttu-id="cd1cb-112">Para realizar a aritmética de data e hora, possivelmente com um resultado que identifica de maneira única e não ambígua um único ponto no tempo.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-112">To perform date and time arithmetic, possibly with a result that uniquely and unambiguously identifies a single point in time.</span></span>

<span data-ttu-id="cd1cb-113">O .NET inclui os tipos <xref:System.DateTime>, <xref:System.DateTimeOffset>, <xref:System.TimeSpan> e <xref:System.TimeZoneInfo>, que podem ser usados para criar aplicativos que funcionam com datas e horas.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-113">.NET includes the <xref:System.DateTime>, <xref:System.DateTimeOffset>, <xref:System.TimeSpan>, and <xref:System.TimeZoneInfo> types, all of which can be used to build applications that work with dates and times.</span></span>

> [!NOTE]
> <span data-ttu-id="cd1cb-114">Este tópico não aborda um quarto tipo, <xref:System.TimeZone>, porque sua funcionalidade é quase inteiramente incorporada à classe <xref:System.TimeZoneInfo>.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-114">This topic does not discuss a fourth type, <xref:System.TimeZone>, because its functionality is almost entirely incorporated in the <xref:System.TimeZoneInfo> class.</span></span> <span data-ttu-id="cd1cb-115">Sempre que possível, os desenvolvedores devem usar a classe <xref:System.TimeZoneInfo> em vez da classe <xref:System.TimeZone>.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-115">Whenever possible, developers should use the <xref:System.TimeZoneInfo> class instead of the <xref:System.TimeZone> class.</span></span>

## <a name="the-datetime-structure"></a><span data-ttu-id="cd1cb-116">A estrutura DateTime</span><span class="sxs-lookup"><span data-stu-id="cd1cb-116">The DateTime structure</span></span>

<span data-ttu-id="cd1cb-117">Um valor <xref:System.DateTime> define uma determinada data e hora.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-117">A <xref:System.DateTime> value defines a particular date and time.</span></span> <span data-ttu-id="cd1cb-118">Ele inclui uma propriedade <xref:System.DateTime.Kind%2A> que fornece informações limitadas sobre o fuso horário ao qual essa data e hora pertencem.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-118">It includes a <xref:System.DateTime.Kind%2A> property that provides limited information about the time zone to which that date and time belongs.</span></span> <span data-ttu-id="cd1cb-119">O valor <xref:System.DateTimeKind> retornado pela propriedade <xref:System.DateTime.Kind%2A> indica se o valor <xref:System.DateTime> representa a hora local (<xref:System.DateTimeKind.Local?displayProperty=nameWithType>), o Tempo Universal Coordenado (UTC) (<xref:System.DateTimeKind.Utc?displayProperty=nameWithType>) ou uma hora não especificada (<xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="cd1cb-119">The <xref:System.DateTimeKind> value returned by the <xref:System.DateTime.Kind%2A> property indicates whether the <xref:System.DateTime> value represents the local time (<xref:System.DateTimeKind.Local?displayProperty=nameWithType>), Coordinated Universal Time (UTC) (<xref:System.DateTimeKind.Utc?displayProperty=nameWithType>), or an unspecified time (<xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>).</span></span>

<span data-ttu-id="cd1cb-120">A estrutura <xref:System.DateTime> é adequada para aplicativos que fazem o seguinte:</span><span class="sxs-lookup"><span data-stu-id="cd1cb-120">The <xref:System.DateTime> structure is suitable for applications that do the following:</span></span>

* <span data-ttu-id="cd1cb-121">Trabalhar apenas com datas.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-121">Work with dates only.</span></span>

* <span data-ttu-id="cd1cb-122">Trabalhar apenas com horas.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-122">Work with times only.</span></span>

* <span data-ttu-id="cd1cb-123">Trabalhar com datas e horas abstratas.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-123">Work with abstract dates and times.</span></span>

* <span data-ttu-id="cd1cb-124">Trabalhar com datas e horas para as quais as informações de fuso horário estão ausentes.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-124">Work with dates and times for which time zone information is missing.</span></span>

* <span data-ttu-id="cd1cb-125">Trabalhar apenas com datas e horas UTC.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-125">Work with UTC dates and times only.</span></span>

* <span data-ttu-id="cd1cb-126">Recuperar informações de data e hora de fontes fora do .NET, como bancos de dados SQL.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-126">Retrieve date and time information from sources outside of .NET, such as SQL databases.</span></span> <span data-ttu-id="cd1cb-127">Normalmente, essas fontes armazenam informações de data e hora em um formato simples que é compatível com a estrutura <xref:System.DateTime>.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-127">Typically, these sources store date and time information in a simple format that is compatible with the <xref:System.DateTime> structure.</span></span>

* <span data-ttu-id="cd1cb-128">Realizar aritmética de data e hora, mas em que há preocupações com resultados gerais.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-128">Perform date and time arithmetic, but are concerned with general results.</span></span> <span data-ttu-id="cd1cb-129">Por exemplo, em uma operação de adição que soma seis meses a uma data e hora determinada, geralmente não é importante se o resultado é ajustado para horário de verão.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-129">For example, in an addition operation that adds six months to a particular date and time, it is often not important whether the result is adjusted for daylight saving time.</span></span>

<span data-ttu-id="cd1cb-130">A menos que um determinado valor <xref:System.DateTime> represente o UTC, esse valor de data e hora geralmente é ambíguo ou limitado na sua portabilidade.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-130">Unless a particular <xref:System.DateTime> value represents UTC, that date and time value is often ambiguous or limited in its portability.</span></span> <span data-ttu-id="cd1cb-131">Por exemplo, se um valor <xref:System.DateTime> representa a hora local, ele é portátil dentro desse fuso horário local (ou seja, se o valor for desserializado em outro sistema no mesmo fuso horário, esse valor ainda identificará, de forma não ambígua, um único ponto no tempo).</span><span class="sxs-lookup"><span data-stu-id="cd1cb-131">For example, if a <xref:System.DateTime> value represents the local time, it is portable within that local time zone (that is, if the value is deserialized on another system in the same time zone, that value still unambiguously identifies a single point in time).</span></span> <span data-ttu-id="cd1cb-132">Fora do fuso horário local, o valor <xref:System.DateTime> pode ter várias interpretações.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-132">Outside the local time zone, that <xref:System.DateTime> value can have multiple interpretations.</span></span> <span data-ttu-id="cd1cb-133">Se a propriedade <xref:System.DateTime.Kind%2A> do valor é <xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>, ele será ainda menos portátil: agora é ambíguo dentro do mesmo fuso horário e, possivelmente, até mesmo no mesmo sistema no qual ele foi serializado pela primeira vez.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-133">If the value's <xref:System.DateTime.Kind%2A> property is <xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>, it is even less portable: it is now ambiguous within the same time zone and possibly even on the same system on which it was first serialized.</span></span> <span data-ttu-id="cd1cb-134">Esse valor identificará um único ponto no tempo de forma não ambígua somente se um valor <xref:System.DateTime> representar um UTC, independentemente do sistema ou do fuso horário no qual o valor é usado.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-134">Only if a <xref:System.DateTime> value represents UTC does that value unambiguously identify a single point in time regardless of the system or time zone in which the value is used.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="cd1cb-135">Ao salvar ou compartilhar dados <xref:System.DateTime>, o UTC deve ser usado e a propriedade <xref:System.DateTime.Kind%2A> do valor <xref:System.DateTime> deve ser definida como <xref:System.DateTimeKind.Utc?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-135">When saving or sharing <xref:System.DateTime> data, UTC should be used and the <xref:System.DateTime> value's <xref:System.DateTime.Kind%2A> property should be set to <xref:System.DateTimeKind.Utc?displayProperty=nameWithType>.</span></span>

## <a name="the-datetimeoffset-structure"></a><span data-ttu-id="cd1cb-136">A estrutura DateTimeOffset</span><span class="sxs-lookup"><span data-stu-id="cd1cb-136">The DateTimeOffset structure</span></span>

<span data-ttu-id="cd1cb-137">A estrutura <xref:System.DateTimeOffset> representa um valor de data e hora, junto com um deslocamento que indica quanto o valor difere do UTC.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-137">The <xref:System.DateTimeOffset> structure represents a date and time value, together with an offset that indicates how much that value differs from UTC.</span></span> <span data-ttu-id="cd1cb-138">Portanto, o valor sempre identifica um único ponto no tempo de forma não ambígua.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-138">Thus, the value always unambiguously identifies a single point in time.</span></span>

<span data-ttu-id="cd1cb-139">O tipo <xref:System.DateTimeOffset> inclui toda a funcionalidade do tipo <xref:System.DateTime> junto com o reconhecimento de fuso horário.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-139">The <xref:System.DateTimeOffset> type includes all of the functionality of the <xref:System.DateTime> type along with time zone awareness.</span></span> <span data-ttu-id="cd1cb-140">Isso o torna adequado para aplicativos que fazem o seguinte:</span><span class="sxs-lookup"><span data-stu-id="cd1cb-140">This makes it suitable for applications that do the following:</span></span>

* <span data-ttu-id="cd1cb-141">Identificam de maneira única e não ambígua um único ponto no tempo.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-141">Uniquely and unambiguously identify a single point in time.</span></span> <span data-ttu-id="cd1cb-142">O tipo <xref:System.DateTimeOffset> pode ser usado para definir sem ambiguidade o significado de "agora", para registrar os tempos de transação, para registrar os tempos de eventos do sistema ou do aplicativo e para registrar os tempos de criação e modificação do arquivo.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-142">The <xref:System.DateTimeOffset> type can be used to unambiguously define the meaning of "now", to log transaction times, to log the times of system or application events, and to record file creation and modification times.</span></span>

* <span data-ttu-id="cd1cb-143">Realizar aritmética geral de data e hora.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-143">Perform general date and time arithmetic.</span></span>

* <span data-ttu-id="cd1cb-144">Preserve vários tempos relacionados contanto que esses tempos sejam armazenados como dois valores separados ou como dois membros de uma estrutura.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-144">Preserve multiple related times, as long as those times are stored as two separate values or as two members of a structure.</span></span>

> [!NOTE]
> <span data-ttu-id="cd1cb-145">Esses usos para os valores <xref:System.DateTimeOffset> são muito mais comuns do que aqueles para valores <xref:System.DateTime>.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-145">These uses for <xref:System.DateTimeOffset> values are much more common than those for <xref:System.DateTime> values.</span></span> <span data-ttu-id="cd1cb-146">Como resultado, <xref:System.DateTimeOffset> deve ser considerado o tipo de data e hora padrão para o desenvolvimento de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-146">As a result, <xref:System.DateTimeOffset> should be considered the default date and time type for application development.</span></span>

<span data-ttu-id="cd1cb-147">Um valor <xref:System.DateTimeOffset> não está vinculado a um determinado fuso horário, mas pode se originar de qualquer um dentre vários fusos horários.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-147">A <xref:System.DateTimeOffset> value is not tied to a particular time zone, but can originate from any of a variety of time zones.</span></span> <span data-ttu-id="cd1cb-148">Para ilustrar isso, o exemplo a seguir lista os fusos horários aos quais vários valores <xref:System.DateTimeOffset> (incluindo um valor local da hora padrão do Pacífico) podem pertencer.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-148">To illustrate this, the following example lists the time zones to which a number of <xref:System.DateTimeOffset> values (including a local Pacific Standard Time) can belong.</span></span>

[!code-csharp[System.DateTimeOffset.Conceptual#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual/cs/Conceptual1.cs#1)]
[!code-vb[System.DateTimeOffset.Conceptual#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual/vb/Conceptual1.vb#1)]

<span data-ttu-id="cd1cb-149">A saída mostra que cada valor de data e hora nesse exemplo pode pertencer a pelo menos três fusos horários diferentes.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-149">The output shows that each date and time value in this example can belong to at least three different time zones.</span></span> <span data-ttu-id="cd1cb-150">O valor<xref:System.DateTimeOffset> de 6/10/2007 mostra que, se um valor de data e hora representa um horário de verão, seu deslocamento do UTC não corresponde necessariamente ao deslocamento base do UTC do fuso horário originário ou ao deslocamento do UTC encontrado no seu nome de exibição.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-150">The <xref:System.DateTimeOffset> value of 6/10/2007 shows that if a date and time value represents a daylight saving time, its offset from UTC does not even necessarily correspond to the originating time zone's base UTC offset or to the offset from UTC found in its display name.</span></span> <span data-ttu-id="cd1cb-151">Isso significa que, como um único valor <xref:System.DateTimeOffset> não está acoplado ao seu fuso horário, ele não pode refletir a transição de um fuso horário para e do horário de verão.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-151">This means that, because a single <xref:System.DateTimeOffset> value is not tightly coupled with its time zone, it cannot reflect a time zone's transition to and from daylight saving time.</span></span> <span data-ttu-id="cd1cb-152">Isso pode ser particularmente problemático quando a aritmética de data e hora é usada para manipular um valor <xref:System.DateTimeOffset>.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-152">This can be particularly problematic when date and time arithmetic is used to manipulate a <xref:System.DateTimeOffset> value.</span></span> <span data-ttu-id="cd1cb-153">(Para uma discussão sobre como realizar a aritmética de data e hora de uma maneira que leve em conta as regras de ajuste de um fuso horário, consulte [Executando operações aritméticas com datas e horas](../../../docs/standard/datetime/performing-arithmetic-operations.md).)</span><span class="sxs-lookup"><span data-stu-id="cd1cb-153">(For a discussion of how to perform date and time arithmetic in a way that takes account of a time zone's adjustment rules, see [Performing arithmetic operations with dates and times](../../../docs/standard/datetime/performing-arithmetic-operations.md).)</span></span>

## <a name="the-timespan-structure"></a><span data-ttu-id="cd1cb-154">A estrutura TimeSpan</span><span class="sxs-lookup"><span data-stu-id="cd1cb-154">The TimeSpan structure</span></span>

<span data-ttu-id="cd1cb-155">A estrutura <xref:System.TimeSpan> representa um intervalo de tempo.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-155">The <xref:System.TimeSpan> structure represents a time interval.</span></span> <span data-ttu-id="cd1cb-156">Seus dois usos típicos são:</span><span class="sxs-lookup"><span data-stu-id="cd1cb-156">Its two typical uses are:</span></span>

* <span data-ttu-id="cd1cb-157">Refletir o intervalo de tempo entre dois valores de data e hora.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-157">Reflecting the time interval between two date and time values.</span></span> <span data-ttu-id="cd1cb-158">Por exemplo, subtrair um valor <xref:System.DateTime> de outro e retornar um valor <xref:System.TimeSpan>.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-158">For example, subtracting one <xref:System.DateTime> value from another returns a <xref:System.TimeSpan> value.</span></span>

* <span data-ttu-id="cd1cb-159">Calcular o tempo decorrido.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-159">Measuring elapsed time.</span></span> <span data-ttu-id="cd1cb-160">Por exemplo, a propriedade <xref:System.Diagnostics.Stopwatch.Elapsed%2A?displayProperty=nameWithType> retorna um valor <xref:System.TimeSpan> que reflete o intervalo de tempo decorrido desde a chamada de um método <xref:System.Diagnostics.Stopwatch> que começa a medir o tempo decorrido.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-160">For example, the <xref:System.Diagnostics.Stopwatch.Elapsed%2A?displayProperty=nameWithType> property returns a <xref:System.TimeSpan> value that reflects the time interval that has elapsed since the call to one of the <xref:System.Diagnostics.Stopwatch> methods that begins to measure elapsed time.</span></span>

<span data-ttu-id="cd1cb-161">Um valor <xref:System.TimeSpan> também pode ser usado como uma substituição para um valor <xref:System.DateTime> quando esse valor reflete um tempo sem referência a uma determinada hora do dia.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-161">A <xref:System.TimeSpan> value can also be used as a replacement for a <xref:System.DateTime> value when that value reflects a time without reference to a particular time of day.</span></span> <span data-ttu-id="cd1cb-162">Esse uso é semelhante para as propriedades <xref:System.DateTime.TimeOfDay%2A?displayProperty=nameWithType> e <xref:System.DateTimeOffset.TimeOfDay%2A?displayProperty=nameWithType>, que retornam um valor <xref:System.TimeSpan> que representa o tempo sem referência a uma data.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-162">This usage is similar to the <xref:System.DateTime.TimeOfDay%2A?displayProperty=nameWithType> and <xref:System.DateTimeOffset.TimeOfDay%2A?displayProperty=nameWithType> properties, which return a <xref:System.TimeSpan> value that represents the time without reference to a date.</span></span> <span data-ttu-id="cd1cb-163">Por exemplo, a estrutura <xref:System.TimeSpan> pode ser usada para refletir a abertura diária ou a hora de fechamento de uma loja ou ela pode ser usada para representar a hora em que qualquer evento regular ocorre.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-163">For example, the <xref:System.TimeSpan> structure can be used to reflect a store's daily opening or closing time, or it can be used to represent the time at which any regular event occurs.</span></span>

<span data-ttu-id="cd1cb-164">O exemplo a seguir define uma estrutura `StoreInfo` que inclui objetos <xref:System.TimeSpan> para armazenar a hora de abertura e fechamento da loja, bem como um objeto <xref:System.TimeZoneInfo> que representa o fuso horário da loja.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-164">The following example defines a `StoreInfo` structure that includes <xref:System.TimeSpan> objects for store opening and closing times, as well as a <xref:System.TimeZoneInfo> object that represents the store's time zone.</span></span> <span data-ttu-id="cd1cb-165">A estrutura também inclui dois métodos, `IsOpenNow` e `IsOpenAt`, que indicam se a loja está aberta em um momento especificado pelo usuário, que se considera estar no fuso horário local.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-165">The structure also includes two methods, `IsOpenNow` and `IsOpenAt`, that indicates whether the store is open at a time specified by the user, who is assumed to be in the local time zone.</span></span>

[!code-csharp[Conceptual.ChoosingDates#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.choosingdates/cs/datetimereplacement1.cs#1)]
[!code-vb[Conceptual.ChoosingDates#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.choosingdates/vb/datetimereplacement1.vb#1)]

<span data-ttu-id="cd1cb-166">A estrutura `StoreInfo` pode ser usada pelo código do cliente como o exposto a seguir.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-166">The `StoreInfo` structure can then be used by client code like the following.</span></span>

[!code-csharp[Conceptual.ChoosingDates#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.choosingdates/cs/datetimereplacement1.cs#2)]
[!code-vb[Conceptual.ChoosingDates#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.choosingdates/vb/datetimereplacement1.vb#2)]

## <a name="the-timezoneinfo-class"></a><span data-ttu-id="cd1cb-167">A classe TimeZoneInfo</span><span class="sxs-lookup"><span data-stu-id="cd1cb-167">The TimeZoneInfo class</span></span>

<span data-ttu-id="cd1cb-168">A classe <xref:System.TimeZoneInfo> representa qualquer um dos fusos horários da Terra e permite a conversão de qualquer data e hora em um fuso horário ao seu equivalente em outro fuso horário.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-168">The <xref:System.TimeZoneInfo> class represents any of the Earth's time zones, and enables the conversion of any date and time in one time zone to its equivalent in another time zone.</span></span> <span data-ttu-id="cd1cb-169">A classe <xref:System.TimeZoneInfo> possibilita trabalhar com datas e horas de modo que qualquer valor de data e hora identifica de forma não ambígua um único ponto no tempo.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-169">The <xref:System.TimeZoneInfo> class makes it possible to work with dates and times so that any date and time value unambiguously identifies a single point in time.</span></span> <span data-ttu-id="cd1cb-170">A classe <xref:System.TimeZoneInfo> também é extensível.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-170">The <xref:System.TimeZoneInfo> class is also extensible.</span></span> <span data-ttu-id="cd1cb-171">Embora ela dependa de informações de fuso horário fornecidas para sistemas Windows e definidas no registro, ela oferece suporte à criação de fusos horários personalizados.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-171">Although it depends on time zone information provided for Windows systems and defined in the registry, it supports the creation of custom time zones.</span></span> <span data-ttu-id="cd1cb-172">Ela também oferece suporte à serialização e à desserialização de informações de fuso horário.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-172">It also supports the serialization and deserialization of time zone information.</span></span>

<span data-ttu-id="cd1cb-173">Em alguns casos, aproveitar o máximo da classe <xref:System.TimeZoneInfo> pode exigir trabalho de desenvolvimento adicional.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-173">In some cases, taking full advantage of the <xref:System.TimeZoneInfo> class may require further development work.</span></span> <span data-ttu-id="cd1cb-174">Se os valores de data e hora não são estritamente acoplados aos fusos horários aos quais eles pertencem, ainda mais trabalho é necessário.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-174">If date and time values are not tightly coupled with the time zones to which they belong, further work is required.</span></span> <span data-ttu-id="cd1cb-175">A menos que seu aplicativo forneça algum mecanismo para vincular uma data e hora ao seu fuso horário associado, é fácil para um determinado valor de data e hora se desassociar do seu fuso horário.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-175">Unless your application provides some mechanism for linking a date and time with its associated time zone, it's easy for a particular date and time value to become disassociated from its time zone.</span></span> <span data-ttu-id="cd1cb-176">Um método para vincular essas informações é definir uma classe ou uma estrutura que contenha o valor de data e hora e seu objeto de fuso horário associado.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-176">One method of linking this information is to define a class or structure that contains both the date and time value and its associated time zone object.</span></span>

<span data-ttu-id="cd1cb-177">É possível obter suporte de fuso horário no .NET apenas se o fuso horário ao qual um valor de data e hora pertence for conhecido quando a instância desse objeto de data e hora for criada.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-177">Taking advantage of time zone support in .NET is possible only if the time zone to which a date and time value belongs is known when that date and time object is instantiated.</span></span> <span data-ttu-id="cd1cb-178">Geralmente isso não acontece, especialmente em aplicativos Web ou de rede.</span><span class="sxs-lookup"><span data-stu-id="cd1cb-178">This is often not the case, particularly in Web or network applications.</span></span>

## <a name="see-also"></a><span data-ttu-id="cd1cb-179">Consulte também</span><span class="sxs-lookup"><span data-stu-id="cd1cb-179">See also</span></span>

- [<span data-ttu-id="cd1cb-180">Datas, horas e fusos horários</span><span class="sxs-lookup"><span data-stu-id="cd1cb-180">Dates, times, and time zones</span></span>](../../../docs/standard/datetime/index.md)
