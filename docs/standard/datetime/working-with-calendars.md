---
title: Trabalhando com calendários
ms.date: 02/23/2019
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- globalization [.NET Framework], calendars
- calendars, global applications
- global applications, calendars
- world-ready applications, calendars
- international applications [.NET Framework], calendars
- culture, calendars
ms.assetid: 0c1534e5-979b-4c8a-a588-1c24301aefb3
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 6bc41f6881c8a876e77ac385c715a5517b95842c
ms.sourcegitcommit: 69bf8b719d4c289eec7b45336d0b933dd7927841
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/14/2019
ms.locfileid: "57845980"
---
# <a name="working-with-calendars"></a><span data-ttu-id="de5f5-102">Trabalhando com calendários</span><span class="sxs-lookup"><span data-stu-id="de5f5-102">Working with calendars</span></span>

<span data-ttu-id="de5f5-103">Embora um valor de data e hora representem um momento, sua representação de cadeia de caracteres depende da cultura e também das convenções usadas para exibir valores de data e hora por uma cultura específica e do calendário usado por essa cultura.</span><span class="sxs-lookup"><span data-stu-id="de5f5-103">Although a date and time value represents a moment in time, its string representation is culture-sensitive and depends both on the conventions used for displaying date and time values by a specific culture and on the calendar used by that culture.</span></span> <span data-ttu-id="de5f5-104">Este tópico explora o suporte para os calendários no .NET e discute o uso das classes de calendário ao trabalhar com valores de data.</span><span class="sxs-lookup"><span data-stu-id="de5f5-104">This topic explores the support for calendars in .NET and discusses the use of the calendar classes when working with date values.</span></span>

## <a name="calendars-in-net"></a><span data-ttu-id="de5f5-105">Calendários no .NET</span><span class="sxs-lookup"><span data-stu-id="de5f5-105">Calendars in .NET</span></span>

<span data-ttu-id="de5f5-106">Todos os calendários no .NET derivam o <xref:System.Globalization.Calendar?displayProperty=nameWithType> classe, que fornece a implementação do calendário base.</span><span class="sxs-lookup"><span data-stu-id="de5f5-106">All calendars in .NET derive from the <xref:System.Globalization.Calendar?displayProperty=nameWithType> class, which provides the base calendar implementation.</span></span> <span data-ttu-id="de5f5-107">Uma das classes que herda da classe <xref:System.Globalization.Calendar> é a classe <xref:System.Globalization.EastAsianLunisolarCalendar>, a qual é a classe base para todos os calendários lunissolares.</span><span class="sxs-lookup"><span data-stu-id="de5f5-107">One of the classes that inherits from the <xref:System.Globalization.Calendar> class is the <xref:System.Globalization.EastAsianLunisolarCalendar> class, which is the base class for all lunisolar calendars.</span></span> <span data-ttu-id="de5f5-108">O .NET inclui as seguintes implementações de calendar:</span><span class="sxs-lookup"><span data-stu-id="de5f5-108">.NET includes the following calendar implementations:</span></span>

* <span data-ttu-id="de5f5-109"><xref:System.Globalization.ChineseLunisolarCalendar>, que representa o calendário lunissolar chinês.</span><span class="sxs-lookup"><span data-stu-id="de5f5-109"><xref:System.Globalization.ChineseLunisolarCalendar>, which represents the Chinese lunisolar calendar.</span></span>

* <span data-ttu-id="de5f5-110"><xref:System.Globalization.GregorianCalendar>, que representa o calendário gregoriano.</span><span class="sxs-lookup"><span data-stu-id="de5f5-110"><xref:System.Globalization.GregorianCalendar>, which represents the Gregorian calendar.</span></span> <span data-ttu-id="de5f5-111">Esse calendário é particionado em subtipos adicionais (como árabe e francês do Oriente Médio) que são definidos pela enumeração <xref:System.Globalization.GregorianCalendarTypes?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-111">This calendar is further divided into subtypes (such as Arabic and Middle East French) that are defined by the <xref:System.Globalization.GregorianCalendarTypes?displayProperty=nameWithType> enumeration.</span></span> <span data-ttu-id="de5f5-112">A propriedade <xref:System.Globalization.GregorianCalendar.CalendarType%2A?displayProperty=nameWithType> especifica o subtipo do calendário gregoriano.</span><span class="sxs-lookup"><span data-stu-id="de5f5-112">The <xref:System.Globalization.GregorianCalendar.CalendarType%2A?displayProperty=nameWithType> property specifies the subtype of the Gregorian calendar.</span></span>

* <span data-ttu-id="de5f5-113"><xref:System.Globalization.HebrewCalendar>, que representa o calendário hebraico.</span><span class="sxs-lookup"><span data-stu-id="de5f5-113"><xref:System.Globalization.HebrewCalendar>, which represents the Hebrew calendar.</span></span>

* <span data-ttu-id="de5f5-114"><xref:System.Globalization.HijriCalendar>, que representa o calendário islâmico.</span><span class="sxs-lookup"><span data-stu-id="de5f5-114"><xref:System.Globalization.HijriCalendar>, which represents the Hijri calendar.</span></span>

* <span data-ttu-id="de5f5-115"><xref:System.Globalization.JapaneseCalendar>, que representa o calendário japonês.</span><span class="sxs-lookup"><span data-stu-id="de5f5-115"><xref:System.Globalization.JapaneseCalendar>, which represents the Japanese calendar.</span></span>

* <span data-ttu-id="de5f5-116"><xref:System.Globalization.JapaneseLunisolarCalendar>, que representa o calendário lunissolar japonês.</span><span class="sxs-lookup"><span data-stu-id="de5f5-116"><xref:System.Globalization.JapaneseLunisolarCalendar>, which represents the Japanese lunisolar calendar.</span></span>

* <span data-ttu-id="de5f5-117"><xref:System.Globalization.JulianCalendar>, que representa o calendário juliano.</span><span class="sxs-lookup"><span data-stu-id="de5f5-117"><xref:System.Globalization.JulianCalendar>, which represents the Julian calendar.</span></span>

* <span data-ttu-id="de5f5-118"><xref:System.Globalization.KoreanCalendar>, que representa o calendário coreano.</span><span class="sxs-lookup"><span data-stu-id="de5f5-118"><xref:System.Globalization.KoreanCalendar>, which represents the Korean calendar.</span></span>

* <span data-ttu-id="de5f5-119"><xref:System.Globalization.KoreanLunisolarCalendar>, que representa o calendário lunissolar coreano.</span><span class="sxs-lookup"><span data-stu-id="de5f5-119"><xref:System.Globalization.KoreanLunisolarCalendar>, which represents the Korean lunisolar calendar.</span></span>

* <span data-ttu-id="de5f5-120"><xref:System.Globalization.PersianCalendar>, que representa o calendário persa.</span><span class="sxs-lookup"><span data-stu-id="de5f5-120"><xref:System.Globalization.PersianCalendar>, which represents the Persian calendar.</span></span>

* <span data-ttu-id="de5f5-121"><xref:System.Globalization.TaiwanCalendar>, que representa o calendário de Taiwan.</span><span class="sxs-lookup"><span data-stu-id="de5f5-121"><xref:System.Globalization.TaiwanCalendar>, which represents the Taiwan calendar.</span></span>

* <span data-ttu-id="de5f5-122"><xref:System.Globalization.TaiwanLunisolarCalendar>, que representa o calendário lunissolar de Taiwan.</span><span class="sxs-lookup"><span data-stu-id="de5f5-122"><xref:System.Globalization.TaiwanLunisolarCalendar>, which represents the Taiwan lunisolar calendar.</span></span>

* <span data-ttu-id="de5f5-123"><xref:System.Globalization.ThaiBuddhistCalendar>, que representa o calendário tailandês budista.</span><span class="sxs-lookup"><span data-stu-id="de5f5-123"><xref:System.Globalization.ThaiBuddhistCalendar>, which represents the Thai Buddhist calendar.</span></span>

* <span data-ttu-id="de5f5-124"><xref:System.Globalization.UmAlQuraCalendar>, que representa o calendário Um Al Qura.</span><span class="sxs-lookup"><span data-stu-id="de5f5-124"><xref:System.Globalization.UmAlQuraCalendar>, which represents the Um Al Qura calendar.</span></span>

<span data-ttu-id="de5f5-125">Um calendário pode ser usado em uma de duas formas:</span><span class="sxs-lookup"><span data-stu-id="de5f5-125">A calendar can be used in one of two ways:</span></span>

* <span data-ttu-id="de5f5-126">Como o calendário usado por uma cultura específica.</span><span class="sxs-lookup"><span data-stu-id="de5f5-126">As the calendar used by a specific culture.</span></span> <span data-ttu-id="de5f5-127">Cada objeto <xref:System.Globalization.CultureInfo> contém um calendário atual, que é o calendário que o objeto está usando no momento.</span><span class="sxs-lookup"><span data-stu-id="de5f5-127">Each <xref:System.Globalization.CultureInfo> object has a current calendar, which is the calendar that the object is currently using.</span></span> <span data-ttu-id="de5f5-128">As representações de cadeia de caracteres de todos os valores de data e hora refletem automaticamente a cultura e seu calendário atual.</span><span class="sxs-lookup"><span data-stu-id="de5f5-128">The string representations of all date and time values automatically reflect the current culture and its current calendar.</span></span> <span data-ttu-id="de5f5-129">Normalmente, o calendário atual é o calendário padrão da cultura.</span><span class="sxs-lookup"><span data-stu-id="de5f5-129">Typically, the current calendar is the culture's default calendar.</span></span> <span data-ttu-id="de5f5-130"><xref:System.Globalization.CultureInfo> objetos também têm calendários opcionais, que incluem os calendários adicionais que a cultura pode usar.</span><span class="sxs-lookup"><span data-stu-id="de5f5-130"><xref:System.Globalization.CultureInfo> objects also have optional calendars, which include additional calendars that the culture can use.</span></span>

* <span data-ttu-id="de5f5-131">Como calendário autônomo independente de uma cultura específica.</span><span class="sxs-lookup"><span data-stu-id="de5f5-131">As a standalone calendar independent of a specific culture.</span></span> <span data-ttu-id="de5f5-132">Nesse caso, os métodos <xref:System.Globalization.Calendar> são usados para expressar datas como os valores que refletem o calendário.</span><span class="sxs-lookup"><span data-stu-id="de5f5-132">In this case, <xref:System.Globalization.Calendar> methods are used to express dates as values that reflect the calendar.</span></span>

<span data-ttu-id="de5f5-133">Observe que seis classes de calendário – <xref:System.Globalization.ChineseLunisolarCalendar>, <xref:System.Globalization.JapaneseLunisolarCalendar>, <xref:System.Globalization.JulianCalendar>, <xref:System.Globalization.KoreanLunisolarCalendar>, <xref:System.Globalization.PersianCalendar> e <xref:System.Globalization.TaiwanLunisolarCalendar> – podem ser usadas apenas como calendários autônomos.</span><span class="sxs-lookup"><span data-stu-id="de5f5-133">Note that six calendar classes – <xref:System.Globalization.ChineseLunisolarCalendar>, <xref:System.Globalization.JapaneseLunisolarCalendar>, <xref:System.Globalization.JulianCalendar>, <xref:System.Globalization.KoreanLunisolarCalendar>, <xref:System.Globalization.PersianCalendar>, and <xref:System.Globalization.TaiwanLunisolarCalendar> – can be used only as standalone calendars.</span></span> <span data-ttu-id="de5f5-134">Elas não são usadas por nenhuma cultura, seja como o calendário padrão ou como um calendário opcional.</span><span class="sxs-lookup"><span data-stu-id="de5f5-134">They are not used by any culture as either the default calendar or as an optional calendar.</span></span>

## <a name="calendars-and-cultures"></a><span data-ttu-id="de5f5-135">Calendários e culturas</span><span class="sxs-lookup"><span data-stu-id="de5f5-135">Calendars and cultures</span></span>

<span data-ttu-id="de5f5-136">Cada cultura tem um calendário padrão, o qual é definido pela propriedade <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-136">Each culture has a default calendar, which is defined by the <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="de5f5-137">A propriedade <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> retorna uma matriz de objetos <xref:System.Globalization.Calendar> que especifica todos os calendários suportados por uma cultura específica, inclusive o calendário padrão da cultura.</span><span class="sxs-lookup"><span data-stu-id="de5f5-137">The <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property returns an array of <xref:System.Globalization.Calendar> objects that specifies all the calendars supported by a particular culture, including that culture's default calendar.</span></span>

<span data-ttu-id="de5f5-138">O exemplo a seguir ilustra as propriedades <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> e <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-138">The following example illustrates the <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> and <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> properties.</span></span> <span data-ttu-id="de5f5-139">Ele cria objetos `CultureInfo` para as culturas Tailandês (Tailândia) e Japonês (Japão) e exibe seus calendários padrão e opcionais.</span><span class="sxs-lookup"><span data-stu-id="de5f5-139">It creates `CultureInfo` objects for the Thai (Thailand) and Japanese (Japan) cultures and displays their default and optional calendars.</span></span> <span data-ttu-id="de5f5-140">Observe que, em ambos os casos, o calendário padrão da cultura também é incluído na coleção <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-140">Note that in both cases, the culture's default calendar is also included in the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> collection.</span></span>

[!code-csharp[Conceptual.Calendars#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/calendarinfo1.cs#1)]
[!code-vb[Conceptual.Calendars#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/calendarinfo1.vb#1)]

<span data-ttu-id="de5f5-141">O calendário em uso no momento por um objeto <xref:System.Globalization.CultureInfo> específico é definido pela propriedade <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> da cultura.</span><span class="sxs-lookup"><span data-stu-id="de5f5-141">The calendar currently in use by a particular <xref:System.Globalization.CultureInfo> object is defined by the culture's <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="de5f5-142">O objeto <xref:System.Globalization.DateTimeFormatInfo> de uma cultura é retornado pela propriedade <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-142">A culture's <xref:System.Globalization.DateTimeFormatInfo> object is returned by the <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="de5f5-143">Quando uma cultura é criada, o valor padrão é o mesmo valor da propriedade <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-143">When a culture is created, its default value is the same as the value of the <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="de5f5-144">No entanto, você pode mudar o calendário atual da cultura para qualquer calendário contido na matriz retornada pela propriedade <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-144">However, you can change the culture's current calendar to any calendar contained in the array returned by the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="de5f5-145">Se você tentar definir o calendário atual como um calendário que não está incluído no valor da propriedade <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>, uma <xref:System.ArgumentException> será gerada.</span><span class="sxs-lookup"><span data-stu-id="de5f5-145">If you try to set the current calendar to a calendar that is not included in the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property value, an <xref:System.ArgumentException> is thrown.</span></span>

<span data-ttu-id="de5f5-146">O exemplo a seguir altera o calendário usado pela cultura Árabe (Arábia Saudita).</span><span class="sxs-lookup"><span data-stu-id="de5f5-146">The following example changes the calendar used by the Arabic (Saudi Arabia) culture.</span></span> <span data-ttu-id="de5f5-147">Ele primeiro cria uma instância de um valor <xref:System.DateTime> e o exibe usando a cultura atual – que, nesse caso, é Inglês (Estados Unidos) – e o calendário atual da cultura (que, nesse caso, é o calendário gregoriano).</span><span class="sxs-lookup"><span data-stu-id="de5f5-147">It first instantiates a <xref:System.DateTime> value and displays it using the current culture - which, in this case, is English (United States) - and the current culture's calendar (which, in this case, is the Gregorian calendar).</span></span> <span data-ttu-id="de5f5-148">Em seguida, ele muda a cultura atual para Árabe (Arábia Saudita) e exibe a data usando seu calendário padrão Um Al Qura.</span><span class="sxs-lookup"><span data-stu-id="de5f5-148">Next, it changes the current culture to Arabic (Saudi Arabia) and displays the date using its default Um Al-Qura calendar.</span></span> <span data-ttu-id="de5f5-149">Finalmente, ele chama o método `CalendarExists` para determinar se o calendário islâmico é suportado pela cultura Árabe (Arábia Saudita).</span><span class="sxs-lookup"><span data-stu-id="de5f5-149">It then calls the `CalendarExists` method to determine whether the Hijri calendar is supported by the Arabic (Saudi Arabia) culture.</span></span> <span data-ttu-id="de5f5-150">Como o calendário é suportado, ele muda o calendário atual para Hijri e, novamente, exibe a data.</span><span class="sxs-lookup"><span data-stu-id="de5f5-150">Because the calendar is supported, it changes the current calendar to Hijri and again displays the date.</span></span> <span data-ttu-id="de5f5-151">Observe que, em cada caso, a data é exibida usando o calendário atual da cultura atual.</span><span class="sxs-lookup"><span data-stu-id="de5f5-151">Note that in each case, the date is displayed using the current culture's current calendar.</span></span>

[!code-csharp[Conceptual.Calendars#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/changecalendar2.cs#2)]
[!code-vb[Conceptual.Calendars#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/changecalendar2.vb#2)]

## <a name="dates-and-calendars"></a><span data-ttu-id="de5f5-152">Datas e calendários</span><span class="sxs-lookup"><span data-stu-id="de5f5-152">Dates and calendars</span></span>

<span data-ttu-id="de5f5-153">Com exceção dos construtores que incluem um parâmetro de tipo <xref:System.Globalization.Calendar> e permitem que os elementos de uma data (ou seja, mês, dia e ano), reflitam valores em um calendário designado, os valores de <xref:System.DateTime> e <xref:System.DateTimeOffset> sempre são baseados no calendário gregoriano.</span><span class="sxs-lookup"><span data-stu-id="de5f5-153">With the exception of the constructors that include a parameter of type <xref:System.Globalization.Calendar> and allow the elements of a date (that is, the month, the day, and the year) to reflect values in a designated calendar, both <xref:System.DateTime> and <xref:System.DateTimeOffset> values are always based on the Gregorian calendar.</span></span> <span data-ttu-id="de5f5-154">Isso significa, por exemplo, que a propriedade <xref:System.DateTime.Year%2A?displayProperty=nameWithType> retorna o ano no calendário gregoriano e que a propriedade <xref:System.DateTime.Day%2A?displayProperty=nameWithType> retorna o dia do mês no calendário gregoriano.</span><span class="sxs-lookup"><span data-stu-id="de5f5-154">This means, for example, that the <xref:System.DateTime.Year%2A?displayProperty=nameWithType> property returns the year in the Gregorian calendar, and the <xref:System.DateTime.Day%2A?displayProperty=nameWithType> property returns the day of the month in the Gregorian calendar.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="de5f5-155">É importante lembrar que há uma diferença entre um valor de data e sua representação de cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="de5f5-155">It is important to remember that there is a difference between a date value and its string representation.</span></span> <span data-ttu-id="de5f5-156">O primeiro baseia-se no calendário gregoriano; o último baseia-se no calendário atual de uma determinada cultura.</span><span class="sxs-lookup"><span data-stu-id="de5f5-156">The former is based on the Gregorian calendar; the latter is based on the current calendar of a specific culture.</span></span>

<span data-ttu-id="de5f5-157">O exemplo a seguir ilustra a diferença entre as propriedades <xref:System.DateTime> e seus métodos <xref:System.Globalization.Calendar> correspondentes.</span><span class="sxs-lookup"><span data-stu-id="de5f5-157">The following example illustrates this difference between <xref:System.DateTime> properties and their corresponding <xref:System.Globalization.Calendar> methods.</span></span> <span data-ttu-id="de5f5-158">No exemplo, a cultura atual é Árabe (Egito), e o calendário atual é Um Al Qura.</span><span class="sxs-lookup"><span data-stu-id="de5f5-158">In the example, the current culture is Arabic (Egypt), and the current calendar is Um Al Qura.</span></span> <span data-ttu-id="de5f5-159">Um valor de <xref:System.DateTime> é definido como o décimo quinto dia do sétimo mês de 2011.</span><span class="sxs-lookup"><span data-stu-id="de5f5-159">A <xref:System.DateTime> value is set to the fifteenth day of the seventh month of 2011.</span></span> <span data-ttu-id="de5f5-160">Está claro que esse é interpretado como uma data gregoriana, pois esses mesmos valores são retornados pelo método <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> quando as convenções da cultura invariável são usadas.</span><span class="sxs-lookup"><span data-stu-id="de5f5-160">It is clear that this is interpreted as a Gregorian date, because these same values are returned by the <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> method when it uses the conventions of the invariant culture.</span></span> <span data-ttu-id="de5f5-161">A representação de cadeia de caracteres da data que é formatada usando as convenções de cultura atual é 14/08/32, que é a data equivalente no calendário Um Al Qura.</span><span class="sxs-lookup"><span data-stu-id="de5f5-161">The string representation of the date that is formatted using the conventions of the current culture is 14/08/32, which is the equivalent date in the Um Al Qura calendar.</span></span> <span data-ttu-id="de5f5-162">Em seguida, membros de `DateTime` e `Calendar` são usados para retornar o dia, mês e o ano do valor de <xref:System.DateTime>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-162">Next, members of `DateTime` and `Calendar` are used to return the day, the month, and the year of the <xref:System.DateTime> value.</span></span> <span data-ttu-id="de5f5-163">Em cada caso, os valores retornados pelos membros de <xref:System.DateTime> refletem os valores do calendário gregoriano, enquanto que os valores retornados pelos membros de <xref:System.Globalization.UmAlQuraCalendar> refletem os valores do calendário Um Al Qura.</span><span class="sxs-lookup"><span data-stu-id="de5f5-163">In each case, the values returned by <xref:System.DateTime> members reflect values in the Gregorian calendar, whereas values returned by <xref:System.Globalization.UmAlQuraCalendar> members reflect values in the Uum al-Qura calendar.</span></span>

[!code-csharp[Conceptual.Calendars#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/datesandcalendars2.cs#3)]
[!code-vb[Conceptual.Calendars#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/datesandcalendars2.vb#3)]

### <a name="instantiating-dates-based-on-a-calendar"></a><span data-ttu-id="de5f5-164">Criando instâncias datas com base em um calendário</span><span class="sxs-lookup"><span data-stu-id="de5f5-164">Instantiating dates based on a calendar</span></span>

<span data-ttu-id="de5f5-165">Como os valores <xref:System.DateTime> e <xref:System.DateTimeOffset> baseiam-se no calendário gregoriano, você deve chamar um construtor sobrecarregado que inclua um parâmetro do tipo <xref:System.Globalization.Calendar> para criar uma instância de um valor de data se você quiser usar os valores de dia, mês ou ano em um calendário diferente.</span><span class="sxs-lookup"><span data-stu-id="de5f5-165">Because <xref:System.DateTime> and <xref:System.DateTimeOffset> values are based on the Gregorian calendar, you must call an overloaded constructor that includes a parameter of type <xref:System.Globalization.Calendar> to instantiate a date value if you want to use the day, month, or year values from a different calendar.</span></span> <span data-ttu-id="de5f5-166">Você também pode chamar uma das sobrecargas do método <xref:System.Globalization.Calendar.ToDateTime%2A?displayProperty=nameWithType> de um calendário específico para criar uma instância de um objeto <xref:System.DateTime> com base nos valores de um calendário específico.</span><span class="sxs-lookup"><span data-stu-id="de5f5-166">You can also call one of the overloads of a specific calendar's <xref:System.Globalization.Calendar.ToDateTime%2A?displayProperty=nameWithType> method to instantiate a <xref:System.DateTime> object based on the values of a particular calendar.</span></span>

<span data-ttu-id="de5f5-167">O exemplo a seguir cria uma instância de um valor de <xref:System.DateTime> ao passar um objeto <xref:System.Globalization.HebrewCalendar> para um construtor de <xref:System.DateTime> e cria uma instância de um segundo valor <xref:System.DateTime> ao chamar o método <xref:System.Globalization.HebrewCalendar.ToDateTime%28System.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-167">The following example instantiates one <xref:System.DateTime> value by passing a <xref:System.Globalization.HebrewCalendar> object to a <xref:System.DateTime> constructor, and instantiates a second <xref:System.DateTime> value by calling the <xref:System.Globalization.HebrewCalendar.ToDateTime%28System.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="de5f5-168">Como os dois valores são criados com valores idênticos do calendário hebraico, a chamada ao método <xref:System.DateTime.Equals%2A?displayProperty=nameWithType> mostra que os dois valores de <xref:System.DateTime> são iguais.</span><span class="sxs-lookup"><span data-stu-id="de5f5-168">Because the two values are created with identical values from the Hebrew calendar, the call to the <xref:System.DateTime.Equals%2A?displayProperty=nameWithType> method shows that the two <xref:System.DateTime> values are equal.</span></span>

[!code-csharp[Conceptual.Calendars#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/instantiatehcdate1.cs#4)]
[!code-vb[Conceptual.Calendars#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/instantiatehcdate1.vb#4)]

### <a name="representing-dates-in-the-current-calendar"></a><span data-ttu-id="de5f5-169">Representando datas no calendário atual</span><span class="sxs-lookup"><span data-stu-id="de5f5-169">Representing dates in the current calendar</span></span>

<span data-ttu-id="de5f5-170">Os métodos de formatação de data e hora sempre usam o calendário atual ao converter datas em cadeias de caracteres.</span><span class="sxs-lookup"><span data-stu-id="de5f5-170">Date and time formatting methods always use the current calendar when converting dates to strings.</span></span> <span data-ttu-id="de5f5-171">Isso significa que a representação de cadeia de caracteres do ano, mês e dia do mês reflete o calendário atual, e não necessariamente o calendário gregoriano.</span><span class="sxs-lookup"><span data-stu-id="de5f5-171">This means that the string representation of the year, the month, and the day of the month reflect the current calendar, and do not necessarily reflect the Gregorian calendar.</span></span>

<span data-ttu-id="de5f5-172">O exemplo a seguir mostra como o calendário atual afeta a representação de cadeia de caracteres de uma data.</span><span class="sxs-lookup"><span data-stu-id="de5f5-172">The following example shows how the current calendar affects the string representation of a date.</span></span> <span data-ttu-id="de5f5-173">Ele muda a cultura atual de Chinês (Tradicional, Taiwan) e cria uma instância de um valor de data.</span><span class="sxs-lookup"><span data-stu-id="de5f5-173">It changes the current culture to Chinese (Traditional, Taiwan), and instantiates a date value.</span></span> <span data-ttu-id="de5f5-174">Ele então exibe o calendário e a data atuais, altera o calendário atual para <xref:System.Globalization.TaiwanCalendar> e exibe o calendário e a data atuais mais uma vez.</span><span class="sxs-lookup"><span data-stu-id="de5f5-174">It then displays the current calendar and the date, changes the current calendar to <xref:System.Globalization.TaiwanCalendar>, and displays the current calendar and date once again.</span></span> <span data-ttu-id="de5f5-175">Na primeira vez que a data é exibida, ela é representada como uma data no calendário gregoriano.</span><span class="sxs-lookup"><span data-stu-id="de5f5-175">The first time the date is displayed, it is represented as a date in the Gregorian calendar.</span></span> <span data-ttu-id="de5f5-176">Na segunda vez que a data é exibida, ela é representada como uma data no calendário de Taiwan.</span><span class="sxs-lookup"><span data-stu-id="de5f5-176">The second time it is displayed, it is represented as a date in the Taiwan calendar.</span></span>

[!code-csharp[Conceptual.Calendars#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/currentcalendar1.cs#5)]
[!code-vb[Conceptual.Calendars#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/currentcalendar1.vb#5)]

### <a name="representing-dates-in-a-non-current-calendar"></a><span data-ttu-id="de5f5-177">Representando datas em um calendário diferente do atual</span><span class="sxs-lookup"><span data-stu-id="de5f5-177">Representing dates in a non-current calendar</span></span>

<span data-ttu-id="de5f5-178">Para representar uma data usando um calendário que não é o calendário atual de uma cultura específica, você deve chamar métodos do objeto <xref:System.Globalization.Calendar>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-178">To represent a date using a calendar that is not the current calendar of a particular culture, you must call methods of that <xref:System.Globalization.Calendar> object.</span></span> <span data-ttu-id="de5f5-179">Por exemplo, os métodos <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType> e <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> convertem o ano, o mês e o dia para valores que refletem um calendário específico.</span><span class="sxs-lookup"><span data-stu-id="de5f5-179">For example, the <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType>, and <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> methods convert the year, month, and day to values that reflect a particular calendar.</span></span>

> [!WARNING]
> <span data-ttu-id="de5f5-180">Como alguns calendários são calendários não opcionais de qualquer cultura, representar datas nesses calendários sempre exige que você chame métodos de calendário.</span><span class="sxs-lookup"><span data-stu-id="de5f5-180">Because some calendars are not optional calendars of any culture, representing dates in these calendars always requires that you call calendar methods.</span></span> <span data-ttu-id="de5f5-181">Isso é verdadeiro para todos os calendários que derivam das classes <xref:System.Globalization.EastAsianLunisolarCalendar>, de <xref:System.Globalization.JulianCalendar> e <xref:System.Globalization.PersianCalendar>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-181">This is true of all calendars that derive from the <xref:System.Globalization.EastAsianLunisolarCalendar>, <xref:System.Globalization.JulianCalendar>, and <xref:System.Globalization.PersianCalendar> classes.</span></span>

<span data-ttu-id="de5f5-182">O exemplo a seguir usa um objeto <xref:System.Globalization.JulianCalendar> para criar uma instância de uma data, 9 de janeiro de 1905, no calendário juliano.</span><span class="sxs-lookup"><span data-stu-id="de5f5-182">The following example uses a <xref:System.Globalization.JulianCalendar> object to instantiate a date, January 9, 1905, in the Julian calendar.</span></span> <span data-ttu-id="de5f5-183">Quando essa data é exibida no calendário gregoriano (padrão), ela é representada como 22 de janeiro de 1905.</span><span class="sxs-lookup"><span data-stu-id="de5f5-183">When this date is displayed using the default (Gregorian) calendar, it is represented as January 22, 1905.</span></span> <span data-ttu-id="de5f5-184">Chamadas para métodos <xref:System.Globalization.JulianCalendar> individuais permitem que a data seja representada no calendário juliano.</span><span class="sxs-lookup"><span data-stu-id="de5f5-184">Calls to individual <xref:System.Globalization.JulianCalendar> methods enable the date to be represented in the Julian calendar.</span></span>

[!code-csharp[Conceptual.Calendars#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/noncurrentcalendar1.cs#6)]
[!code-vb[Conceptual.Calendars#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/noncurrentcalendar1.vb#6)]

### <a name="calendars-and-date-ranges"></a><span data-ttu-id="de5f5-185">Calendários e intervalos de datas</span><span class="sxs-lookup"><span data-stu-id="de5f5-185">Calendars and date ranges</span></span>

<span data-ttu-id="de5f5-186">A data mais antiga suportada por um calendário é indicada pela propriedade <xref:System.Globalization.Calendar.MinSupportedDateTime%2A?displayProperty=nameWithType> desse calendário.</span><span class="sxs-lookup"><span data-stu-id="de5f5-186">The earliest date supported by a calendar is indicated by that calendar's <xref:System.Globalization.Calendar.MinSupportedDateTime%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="de5f5-187">Para a classe <xref:System.Globalization.GregorianCalendar>, essa data é 1º de janeiro de 0001. C.E.</span><span class="sxs-lookup"><span data-stu-id="de5f5-187">For the <xref:System.Globalization.GregorianCalendar> class, that date is January 1, 0001 C.E.</span></span> <span data-ttu-id="de5f5-188">A maioria dos outros calendários no .NET dão suporte a uma data posterior.</span><span class="sxs-lookup"><span data-stu-id="de5f5-188">Most of the other calendars in .NET support a later date.</span></span> <span data-ttu-id="de5f5-189">Tentar trabalhar com um valor de data e hora que antecedem a data com suporte mais antiga de um calendário gerará uma exceção <xref:System.ArgumentOutOfRangeException>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-189">Trying to work with a date and time value that precedes a calendar's earliest supported date throws an <xref:System.ArgumentOutOfRangeException> exception.</span></span>

<span data-ttu-id="de5f5-190">Porém, há uma exceção importante.</span><span class="sxs-lookup"><span data-stu-id="de5f5-190">However, there is one important exception.</span></span> <span data-ttu-id="de5f5-191">O valor padrão (não inicializado) de um objeto <xref:System.DateTime> e um objeto <xref:System.DateTimeOffset> é igual ao valor de <xref:System.Globalization.GregorianCalendar.MinSupportedDateTime%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-191">The default (uninitialized) value of a <xref:System.DateTime> object and a <xref:System.DateTimeOffset> object is equal to the <xref:System.Globalization.GregorianCalendar.MinSupportedDateTime%2A?displayProperty=nameWithType> value.</span></span> <span data-ttu-id="de5f5-192">Se você tentar formatar essa data em um calendário que não oferece suporte a 1 de janeiro de 0001. C.E.</span><span class="sxs-lookup"><span data-stu-id="de5f5-192">If you try to format this date in a calendar that does not support January 1, 0001 C.E.</span></span> <span data-ttu-id="de5f5-193">e você não fornecer um especificador de formato, o método de formatação usa o especificador de formato "s" (padrão de data/hora classificável) em vez do especificador de formato "G" (padrão de data/hora geral).</span><span class="sxs-lookup"><span data-stu-id="de5f5-193">and you do not provide a format specifier, the formatting method uses the "s" (sortable date/time pattern) format specifier instead of the "G" (general date/time pattern) format specifier.</span></span> <span data-ttu-id="de5f5-194">Como resultado, a operação de formatação não gerará uma exceção <xref:System.ArgumentOutOfRangeException>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-194">As a result, the formatting operation does not throw an <xref:System.ArgumentOutOfRangeException> exception.</span></span> <span data-ttu-id="de5f5-195">Em vez disso, retornará uma data sem suporte.</span><span class="sxs-lookup"><span data-stu-id="de5f5-195">Instead, it returns the unsupported date.</span></span> <span data-ttu-id="de5f5-196">Isso é ilustrado no exemplo a seguir, que exibe o valor de <xref:System.DateTime.MinValue?displayProperty=nameWithType> quando a cultura atual é configurada para Japonês (Japão) com o calendário japonês, e para Árabe (Egito) com o calendário Um Al Qura.</span><span class="sxs-lookup"><span data-stu-id="de5f5-196">This is illustrated in the following example, which displays the value of <xref:System.DateTime.MinValue?displayProperty=nameWithType> when the current culture is set to Japanese (Japan) with the Japanese calendar, and to Arabic (Egypt) with the Um Al Qura calendar.</span></span> <span data-ttu-id="de5f5-197">Ela também define a cultura atual como Inglês (Estados Unidos) e chama o método <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType> com cada um desses objetos <xref:System.Globalization.CultureInfo>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-197">It also sets the current culture to English (United States) and calls the <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType> method with each of these <xref:System.Globalization.CultureInfo> objects.</span></span> <span data-ttu-id="de5f5-198">Em cada caso, a data é exibida usando o padrão classificável de data/hora.</span><span class="sxs-lookup"><span data-stu-id="de5f5-198">In each case, the date is displayed by using the sortable date/time pattern.</span></span>

[!code-csharp[Conceptual.Calendars#11](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/minsupporteddatetime1.cs#11)]
[!code-vb[Conceptual.Calendars#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/minsupporteddatetime1.vb#11)]

## <a name="working-with-eras"></a><span data-ttu-id="de5f5-199">Trabalhando com eras</span><span class="sxs-lookup"><span data-stu-id="de5f5-199">Working with eras</span></span>

<span data-ttu-id="de5f5-200">Os calendários normalmente dividem as datas em eras.</span><span class="sxs-lookup"><span data-stu-id="de5f5-200">Calendars typically divide dates into eras.</span></span> <span data-ttu-id="de5f5-201">No entanto, o <xref:System.Globalization.Calendar> classes no .NET não dão suporte a cada era definida por um calendário e a maioria do <xref:System.Globalization.Calendar> classes dão suporte a uma única era.</span><span class="sxs-lookup"><span data-stu-id="de5f5-201">However, the <xref:System.Globalization.Calendar> classes in .NET do not support every era defined by a calendar, and most of the <xref:System.Globalization.Calendar> classes support only a single era.</span></span> <span data-ttu-id="de5f5-202">Somente as classes <xref:System.Globalization.JapaneseCalendar> e <xref:System.Globalization.JapaneseLunisolarCalendar> oferecem suporte a várias eras.</span><span class="sxs-lookup"><span data-stu-id="de5f5-202">Only the <xref:System.Globalization.JapaneseCalendar> and <xref:System.Globalization.JapaneseLunisolarCalendar> classes support multiple eras.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="de5f5-203">Uma nova era no <xref:System.Globalization.JapaneseCalendar> e no <xref:System.Globalization.JapaneseLunisolarCalendar> começa em 1º de maio de 2019.</span><span class="sxs-lookup"><span data-stu-id="de5f5-203">A new era in the <xref:System.Globalization.JapaneseCalendar> and <xref:System.Globalization.JapaneseLunisolarCalendar> begins on May 1, 2019.</span></span> <span data-ttu-id="de5f5-204">Essa alteração afeta todos os aplicativos que usam esses calendários.</span><span class="sxs-lookup"><span data-stu-id="de5f5-204">This change affects all applications that use these calendars.</span></span> <span data-ttu-id="de5f5-205">Veja [Tratamento de uma nova era no calendário japonês no .NET](https://devblogs.microsoft.com/dotnet/handling-a-new-era-in-the-japanese-calendar-in-net/) para obter mais informações e para determinar se seus aplicativos são afetados.</span><span class="sxs-lookup"><span data-stu-id="de5f5-205">See [Handling a new era in the Japanese calendar in .NET](https://devblogs.microsoft.com/dotnet/handling-a-new-era-in-the-japanese-calendar-in-net/) for more information and to determine whether your applications are affected.</span></span> <span data-ttu-id="de5f5-206">Ver [preparar seu aplicativo para que a alteração era japonesa](/windows/uwp/design/globalizing/japanese-era-change) para obter informações sobre como testar seus aplicativos em Windows para garantir que a preparação para a alteração era.</span><span class="sxs-lookup"><span data-stu-id="de5f5-206">See [Prepare your application for the Japanese era change](/windows/uwp/design/globalizing/japanese-era-change) for information on testing your applications on Windows to ensure their readiness for the era change.</span></span>

<span data-ttu-id="de5f5-207">Uma época na maioria dos calendários denota um período de tempo extremamente longo.</span><span class="sxs-lookup"><span data-stu-id="de5f5-207">An era in most calendars denotes an extremely long time period.</span></span> <span data-ttu-id="de5f5-208">No calendário gregoriano, por exemplo, a era atual abrange mais de dois millenia.</span><span class="sxs-lookup"><span data-stu-id="de5f5-208">In the Gregorian calendar, for example, the current era spans more than two millenia.</span></span> <span data-ttu-id="de5f5-209">Para o <xref:System.Globalization.JapaneseCalendar> e o <xref:System.Globalization.JapaneseLunisolarCalendar>, os dois calendários que dão suporte a várias eras, isso não for o caso.</span><span class="sxs-lookup"><span data-stu-id="de5f5-209">For the <xref:System.Globalization.JapaneseCalendar> and the <xref:System.Globalization.JapaneseLunisolarCalendar>, the two calendars that support multiple eras, this is not the case.</span></span> <span data-ttu-id="de5f5-210">Uma era corresponde ao período de Reino do Imperador um.</span><span class="sxs-lookup"><span data-stu-id="de5f5-210">An era corresponds to the period of an emperor's reign.</span></span> <span data-ttu-id="de5f5-211">Suporte a várias eras, especialmente quando o limite superior de era atual é desconhecido, apresenta desafios.</span><span class="sxs-lookup"><span data-stu-id="de5f5-211">Support for multiple eras, particularly when the upper limit of the current era is unknown, poses special challenges.</span></span> 

### <a name="eras-and-era-names"></a><span data-ttu-id="de5f5-212">Eras e nomes de eras</span><span class="sxs-lookup"><span data-stu-id="de5f5-212">Eras and era names</span></span>

<span data-ttu-id="de5f5-213">No .NET, inteiros que representam as eras com suporte por uma implementação específica do calendário são armazenados em ordem inversa no <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> matriz.</span><span class="sxs-lookup"><span data-stu-id="de5f5-213">In .NET, integers that represent the eras supported by a particular calendar implementation are stored in reverse order in the <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> array.</span></span> <span data-ttu-id="de5f5-214">A era atual está no índice zero. Para classes <xref:System.Globalization.Calendar> que oferecem suporte a várias eras, cada índice sucessivo reflete a era anterior.</span><span class="sxs-lookup"><span data-stu-id="de5f5-214">The current era is at index zero, and for <xref:System.Globalization.Calendar> classes that support multiple eras, each successive index reflects the previous era.</span></span> <span data-ttu-id="de5f5-215">A propriedade estática <xref:System.Globalization.Calendar.CurrentEra?displayProperty=nameWithType> define o índice de era atual na matriz <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> ; ela é uma constante cujo valor é sempre zero.</span><span class="sxs-lookup"><span data-stu-id="de5f5-215">The static <xref:System.Globalization.Calendar.CurrentEra?displayProperty=nameWithType> property defines the index of the current era in the <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> array; it is a constant whose value is always zero.</span></span> <span data-ttu-id="de5f5-216">As classes <xref:System.Globalization.Calendar> individuais também incluem os campos estáticos que retornam o valor da era atual.</span><span class="sxs-lookup"><span data-stu-id="de5f5-216">Individual <xref:System.Globalization.Calendar> classes also include static fields that return the value of the current era.</span></span> <span data-ttu-id="de5f5-217">Elas são listadas na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="de5f5-217">They are listed in the following table.</span></span>

| <span data-ttu-id="de5f5-218">Classe do calendário</span><span class="sxs-lookup"><span data-stu-id="de5f5-218">Calendar class</span></span>                                        | <span data-ttu-id="de5f5-219">Campo de era atual</span><span class="sxs-lookup"><span data-stu-id="de5f5-219">Current era field</span></span>                                                 |
| ----------------------------------------------------- | ----------------------------------------------------------------- |
| <xref:System.Globalization.ChineseLunisolarCalendar>  | <xref:System.Globalization.ChineseLunisolarCalendar.ChineseEra>   |
| <xref:System.Globalization.GregorianCalendar>         | <xref:System.Globalization.GregorianCalendar.ADEra>               |
| <xref:System.Globalization.HebrewCalendar>            | <xref:System.Globalization.HebrewCalendar.HebrewEra>              |
| <xref:System.Globalization.HijriCalendar>             | <xref:System.Globalization.HijriCalendar.HijriEra>                |
| <xref:System.Globalization.JapaneseLunisolarCalendar> | <xref:System.Globalization.JapaneseLunisolarCalendar.JapaneseEra> |
| <xref:System.Globalization.JulianCalendar>            | <xref:System.Globalization.JulianCalendar.JulianEra>              |
| <xref:System.Globalization.KoreanCalendar>            | <xref:System.Globalization.KoreanCalendar.KoreanEra>              |
| <xref:System.Globalization.KoreanLunisolarCalendar>   | <xref:System.Globalization.KoreanLunisolarCalendar.GregorianEra>  |
| <xref:System.Globalization.PersianCalendar>           | <xref:System.Globalization.PersianCalendar.PersianEra>            |
| <xref:System.Globalization.ThaiBuddhistCalendar>      | <xref:System.Globalization.ThaiBuddhistCalendar.ThaiBuddhistEra>  |
| <xref:System.Globalization.UmAlQuraCalendar>          | <xref:System.Globalization.UmAlQuraCalendar.UmAlQuraEra>          |

<span data-ttu-id="de5f5-220">O nome que corresponde a um número de era específico não pode ser recuperado com a passagem do número da era para o método <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> ou <xref:System.Globalization.DateTimeFormatInfo.GetAbbreviatedEraName%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-220">The name that corresponds to a particular era number can be retrieved by passing the era number to the <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> or <xref:System.Globalization.DateTimeFormatInfo.GetAbbreviatedEraName%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="de5f5-221">O exemplo a seguir chama esses métodos para recuperar informações sobre o suporte a eras na classe <xref:System.Globalization.GregorianCalendar>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-221">The following example calls these methods to retrieve information about era support in the <xref:System.Globalization.GregorianCalendar> class.</span></span>

[!code-csharp[Conceptual.Calendars#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/instantiatewithera1.cs#7)]
[!code-vb[Conceptual.Calendars#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/instantiatewithera1.vb#7)]

<span data-ttu-id="de5f5-222">Além disso, a cadeia de caracteres de formato de data e hora personalizado "g" inclui o nome da era na representação de cadeia de caracteres de uma data e hora.</span><span class="sxs-lookup"><span data-stu-id="de5f5-222">In addition, the "g" custom date and time format string includes a calendar's era name in the string representation of a date and time.</span></span> <span data-ttu-id="de5f5-223">Para obter mais informações, consulte [cadeias de caracteres de formato de data e hora personalizado](../../../docs/standard/base-types/custom-date-and-time-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="de5f5-223">For more information, see [Custom date and time format strings](../../../docs/standard/base-types/custom-date-and-time-format-strings.md).</span></span>

### <a name="instantiating-a-date-with-an-era"></a><span data-ttu-id="de5f5-224">Criando uma instância de uma data com uma época</span><span class="sxs-lookup"><span data-stu-id="de5f5-224">Instantiating a date with an era</span></span>

<span data-ttu-id="de5f5-225">Para os dois <xref:System.Globalization.Calendar> classes que oferecem suporte a várias eras, uma data que consiste em um determinado ano, mês e dia do valor de mês pode ser ambígua.</span><span class="sxs-lookup"><span data-stu-id="de5f5-225">For the two <xref:System.Globalization.Calendar> classes that support multiple eras, a date that consists of a particular year, month, and day of the month value can be ambiguous.</span></span> <span data-ttu-id="de5f5-226">Por exemplo, todas as eras com suporte a <xref:System.Globalization.JapaneseCalendar> ter anos cujo número é 1.</span><span class="sxs-lookup"><span data-stu-id="de5f5-226">For example, all eras supported by the <xref:System.Globalization.JapaneseCalendar> have years whose number is 1.</span></span> <span data-ttu-id="de5f5-227">Normalmente, se uma era não é especificada, os métodos de data e hora e calendário assumem que os valores pertencem à era atual.</span><span class="sxs-lookup"><span data-stu-id="de5f5-227">Ordinarily, if an era is not specified, both date and time and calendar methods assume that values belong to the current era.</span></span> <span data-ttu-id="de5f5-228">Isso é verdadeiro para o <xref:System.DateTime.%23ctor%2A> e <xref:System.DateTimeOffset.%23ctor%2A> construtores que incluem parâmetros de tipo <xref:System.Globalization.Calendar>, bem como o [JapaneseCalendar.ToDateTime](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)) e [JapaneseLunisolarCalendar.ToDateTime ](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)) métodos.</span><span class="sxs-lookup"><span data-stu-id="de5f5-228">This is true of the <xref:System.DateTime.%23ctor%2A> and <xref:System.DateTimeOffset.%23ctor%2A> constructors that include parameters of type <xref:System.Globalization.Calendar>, as well as the [JapaneseCalendar.ToDateTime](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)) and [JapaneseLunisolarCalendar.ToDateTime](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)) methods.</span></span> <span data-ttu-id="de5f5-229">O exemplo a seguir cria uma instância de uma data que representa 1 de janeiro do segundo ano de uma época não especificado.</span><span class="sxs-lookup"><span data-stu-id="de5f5-229">The following example instantiates a date that represents January 1 of the second year of an unspecified era.</span></span> <span data-ttu-id="de5f5-230">Como a saída do exemplo mostra, a data é interpretada como o segundo ano do era Heisei do calendário, a era atual no momento em que este exemplo foi executado.</span><span class="sxs-lookup"><span data-stu-id="de5f5-230">As the output from the example shows, the date is interpreted as the second year of the Heisei era, the current era at the time this example was executed.</span></span> <span data-ttu-id="de5f5-231">Era, 平成, precede o ano na cadeia de caracteres retornada pelo <xref:System.DateTime.ToString(System.String,System.IFormatProvider)?displayProperty=nameWithType> método e corresponde a 1º de janeiro de 1990, no calendário gregoriano.</span><span class="sxs-lookup"><span data-stu-id="de5f5-231">The era, 平成, precedes the year in the string returned by the <xref:System.DateTime.ToString(System.String,System.IFormatProvider)?displayProperty=nameWithType> method and corresponds to January 1, 1990, in the Gregorian calendar.</span></span> <span data-ttu-id="de5f5-232">(O intervalo da era Heisei do calendário é de 1989 2019 no calendário gregoriano.)</span><span class="sxs-lookup"><span data-stu-id="de5f5-232">(The range of the Heisei era is from 1989 to 2019 in the Gregorian calendar.)</span></span>

[!code-csharp[A date in the current era](~/samples/snippets/standard/datetime/calendars/current-era/cs/program.cs)]
[!code-vb[A date in the current era](~/samples/snippets/standard/datetime/calendars/current-era/vb/program.vb)]

<span data-ttu-id="de5f5-233">No entanto, se a era for alterado, a intenção desse código se torna ambígua.</span><span class="sxs-lookup"><span data-stu-id="de5f5-233">However, if the era changes, the intent of this code becomes ambiguous.</span></span> <span data-ttu-id="de5f5-234">A data serve para representar um segundo ano de era atual ou ele serve para representar o segundo ano da era Heisei?</span><span class="sxs-lookup"><span data-stu-id="de5f5-234">Is the date intended to represent the second year of the current era, or is it intended to represent the second year of the Heisei era?</span></span> <span data-ttu-id="de5f5-235">Há duas maneiras de evitar essa ambiguidade:</span><span class="sxs-lookup"><span data-stu-id="de5f5-235">There are two ways to avoid this ambiguity:</span></span>

- <span data-ttu-id="de5f5-236">O valor de data e hora usando o padrão de criar uma instância <xref:System.Globalization.GregorianCalendar> classe.</span><span class="sxs-lookup"><span data-stu-id="de5f5-236">Instantiate the date and time value using the default <xref:System.Globalization.GregorianCalendar> class.</span></span> <span data-ttu-id="de5f5-237">Em seguida, você pode usar o calendário japonês ou o calendário Lunissolar japonês para a representação de cadeia de caracteres de datas, como mostra o exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="de5f5-237">You can then use the Japanese calendar or the Japanese Lunisolar calendar for the string representation of dates, as the following example shows.</span></span>

   [!code-csharp[Insantiating a Gregorian date](~/samples/snippets/standard/datetime/calendars/gregorian/cs/program.cs)]
   [!code-vb[Instantiating a Gregorian date](~/samples/snippets/standard/datetime/calendars/gregorian/vb/program.vb)]

- <span data-ttu-id="de5f5-238">Chame um método de data e hora que especifica explicitamente uma era.</span><span class="sxs-lookup"><span data-stu-id="de5f5-238">Call a date and time method that explicitly specifies an era.</span></span> <span data-ttu-id="de5f5-239">Isso inclui os seguintes métodos:</span><span class="sxs-lookup"><span data-stu-id="de5f5-239">This includes the following methods:</span></span>

   - <span data-ttu-id="de5f5-240">O <xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)> método da <xref:System.Globalization.JapaneseCalendar> ou <xref:System.Globalization.JapaneseLunisolarCalendar> classe.</span><span class="sxs-lookup"><span data-stu-id="de5f5-240">The <xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)> method of the <xref:System.Globalization.JapaneseCalendar> or <xref:System.Globalization.JapaneseLunisolarCalendar> class.</span></span>

   - <span data-ttu-id="de5f5-241">Um <xref:System.DateTime> ou <xref:System.DateTimeOffset> tais como o método, de análise <xref:System.DateTime.Parse%2A>, <xref:System.DateTime.TryParse%2A>, <xref:System.DateTime.ParseExact%2A>, ou <xref:System.DateTime.TryParseExact%2A>, que inclui a cadeia de caracteres a ser analisada e, opcionalmente, um <xref:System.Globalization.DateTimeStyles> argumento se a cultura atual é Japão japonês (" ja-JP") e o calendário da cultura é o <xref:System.Globalization.JapaneseCalendar>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-241">A <xref:System.DateTime> or <xref:System.DateTimeOffset> parsing method, such as <xref:System.DateTime.Parse%2A>, <xref:System.DateTime.TryParse%2A>, <xref:System.DateTime.ParseExact%2A>, or <xref:System.DateTime.TryParseExact%2A>, that includes the string to be parsed and optionally a <xref:System.Globalization.DateTimeStyles> argument if the current culture is Japanese-Japan ("ja-JP") and that culture's calendar is the <xref:System.Globalization.JapaneseCalendar>.</span></span> <span data-ttu-id="de5f5-242">A cadeia de caracteres a ser analisada deve incluir a era.</span><span class="sxs-lookup"><span data-stu-id="de5f5-242">The string to be parsed must include the era.</span></span>

   - <span data-ttu-id="de5f5-243">Um <xref:System.DateTime> ou <xref:System.DateTimeOffset> análise do método inclui um `provider` parâmetro do tipo <xref:System.IFormatProvider>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-243">A <xref:System.DateTime> or <xref:System.DateTimeOffset> parsing method that includes a `provider` parameter of type <xref:System.IFormatProvider>.</span></span> <span data-ttu-id="de5f5-244">`provider` deve ser um <xref:System.Globalization.CultureInfo> objeto que representa a cultura de japonês-Japão ("ja-JP") cujo calendário atual é <xref:System.Globalization.JapaneseCalendar> ou um <xref:System.Globalization.DateTimeFormatInfo> do objeto cuja <xref:System.Globalization.DateTimeFormatInfo.Calendar> é de propriedade <xref:System.Globalization.JapaneseCalendar>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-244">`provider` must be either a <xref:System.Globalization.CultureInfo> object that represents the Japanese-Japan ("ja-JP") culture whose current calendar is <xref:System.Globalization.JapaneseCalendar> or a <xref:System.Globalization.DateTimeFormatInfo> object whose <xref:System.Globalization.DateTimeFormatInfo.Calendar> property is <xref:System.Globalization.JapaneseCalendar>.</span></span> <span data-ttu-id="de5f5-245">A cadeia de caracteres a ser analisada deve incluir a era.</span><span class="sxs-lookup"><span data-stu-id="de5f5-245">The string to be parsed must include the era.</span></span>

   <span data-ttu-id="de5f5-246">O exemplo a seguir usa três desses métodos para instanciar uma data e hora na era Meiji, que iniciou em 8 de setembro de 1868 e foi encerrado em 29 de julho de 1912.</span><span class="sxs-lookup"><span data-stu-id="de5f5-246">The following example uses three of these methods to instantiate a date and time in the Meiji era, which began on September 8, 1868, and ended on July 29, 1912.</span></span> 

   [!code-csharp[A date in a specified era](~/samples/snippets/standard/datetime/calendars/specify-era/cs/program.cs)]
   [!code-vb[A date in a specified era](~/samples/snippets/standard/datetime/calendars/specify-era/vb/program.vb)]

> [!TIP]
> <span data-ttu-id="de5f5-247">Quando estiver trabalhando com calendários que dão suporte a várias eras, *sempre* use a data no calendário gregoriano para instanciar uma data, ou especifique a era quando você instancia uma data e hora com base no calendário.</span><span class="sxs-lookup"><span data-stu-id="de5f5-247">When working with calendars that support multiple eras, *always* use the Gregorian date to instantiate a date, or specify the era when you instantiate a date and time based on that calendar.</span></span>

<span data-ttu-id="de5f5-248">Especificar uma era para o <xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)> método, você fornece o índice da era do calendário <xref:System.Globalization.Calendar.Eras> propriedade.</span><span class="sxs-lookup"><span data-stu-id="de5f5-248">In specifying a era to the <xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)> method, you provide the index of the era in the calendar's <xref:System.Globalization.Calendar.Eras> property.</span></span> <span data-ttu-id="de5f5-249">Para os calendários cujos eras estão sujeitos a alterações, porém, esses índices não são valores de constante; a era atual está no índice 0 e a era mais antiga está no índice `Eras.Length - 1`.</span><span class="sxs-lookup"><span data-stu-id="de5f5-249">For calendars whose eras are subject to change, however, these indexes are not constant values; the current era is at index 0, and the oldest era is at index `Eras.Length - 1`.</span></span> <span data-ttu-id="de5f5-250">Quando uma nova era é adicionada a um calendário, os índices das eras anteriores aumentam em um.</span><span class="sxs-lookup"><span data-stu-id="de5f5-250">When a new era is added to a calendar, the indexes of the previous eras increase by one.</span></span> <span data-ttu-id="de5f5-251">Você pode fornecer o índice de era apropriado da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="de5f5-251">You can supply the appropriate era index as follows:</span></span>

- <span data-ttu-id="de5f5-252">Para datas na era atual, use sempre o calendário <xref:System.Globalization.Calendar.CurrentEra> propriedade.</span><span class="sxs-lookup"><span data-stu-id="de5f5-252">For dates in the current era, always use the calendar's <xref:System.Globalization.Calendar.CurrentEra> property.</span></span>

- <span data-ttu-id="de5f5-253">Para datas em uma era especificada, use o <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> método para recuperar o índice que corresponde a um nome da era especificada.</span><span class="sxs-lookup"><span data-stu-id="de5f5-253">For dates in a specified era, use the <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> method to retrieve the index that corresponds to a specified era name.</span></span> <span data-ttu-id="de5f5-254">Isso requer que o <xref:System.Globalization.JapaneseCalendar> ser o calendário atual do <xref:System.Globalization.CultureInfo> objeto que representa a cultura ja-JP.</span><span class="sxs-lookup"><span data-stu-id="de5f5-254">This requires that the <xref:System.Globalization.JapaneseCalendar> be the current calendar of the <xref:System.Globalization.CultureInfo> object that represents the ja-JP culture.</span></span>  <span data-ttu-id="de5f5-255">(Essa técnica funciona para o <xref:System.Globalization.JapaneseLunisolarCalendar> Além disso, já que ele suporta as mesmas eras como o <xref:System.Globalization.JapaneseCalendar>.) O exemplo anterior ilustra essa abordagem.</span><span class="sxs-lookup"><span data-stu-id="de5f5-255">(This technique works for the <xref:System.Globalization.JapaneseLunisolarCalendar> as well, since it supports the same eras as the <xref:System.Globalization.JapaneseCalendar>.) The previous example illustrates this approach.</span></span>

### <a name="calendars-eras-and-date-ranges-relaxed-range-checks"></a><span data-ttu-id="de5f5-256">Calendários, eras e intervalos de datas: Verificações de intervalo reduzida</span><span class="sxs-lookup"><span data-stu-id="de5f5-256">Calendars, eras, and date ranges: Relaxed range checks</span></span>

<span data-ttu-id="de5f5-257">Muito parecida com a calendários individuais têm suporte para intervalos de datas, eras na <xref:System.Globalization.JapaneseCalendar> e <xref:System.Globalization.JapaneseLunisolarCalendar> classes também têm suporte para intervalos.</span><span class="sxs-lookup"><span data-stu-id="de5f5-257">Very much like individual calendars have supported date ranges, eras in the  <xref:System.Globalization.JapaneseCalendar> and <xref:System.Globalization.JapaneseLunisolarCalendar> classes also have supported ranges.</span></span> <span data-ttu-id="de5f5-258">.NET usado anteriormente, era estrito intervalo verifica para garantir que uma data de era específico foi dentro do intervalo de nessa época.</span><span class="sxs-lookup"><span data-stu-id="de5f5-258">Previously, .NET used strict era range checks to ensure that a era-specific date was within the range of that era.</span></span> <span data-ttu-id="de5f5-259">Uma data fora do intervalo lançaria um .NET Framework usa a verificação de intervalos reduzida por padrão.</span><span class="sxs-lookup"><span data-stu-id="de5f5-259">An out-of-range date would throw a the .NET Framework uses relaxed ranged checking by default.</span></span> <span data-ttu-id="de5f5-260">Ou seja, se uma data está fora do intervalo da era especificada, o método gerará uma <xref:System.ArgumentOutOfRangeException>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-260">That is, if a date is outside of the range of the specified era, the method throws an <xref:System.ArgumentOutOfRangeException>.</span></span> <span data-ttu-id="de5f5-261">Atualizações para todas as versões do .NET Framework introduzida relaxada era intervalo verificações; a tentativa de instanciar uma data de era específico que está fora do intervalo da era especificada "estouro" a seguir era, e nenhuma exceção é lançada.</span><span class="sxs-lookup"><span data-stu-id="de5f5-261">Updates to all versions of the .NET Framework introduced relaxed era range checks; the attempt to instantiate an era-specific date that is outside the range of the specified era "overflow" into the following era, and no exception is thrown.</span></span>

<span data-ttu-id="de5f5-262">O exemplo a seguir tenta criar uma instância de uma data no ano 65th da era Imperador Showa, que iniciou em 25 de dezembro de 1926 e terminou em 7 de janeiro de 1989.</span><span class="sxs-lookup"><span data-stu-id="de5f5-262">The following example attempts to instantiate a date in the 65th year of the Showa era, which began on December 25, 1926 and ended on January 7, 1989.</span></span> <span data-ttu-id="de5f5-263">Essa data corresponde ao dia 9 de janeiro de 1990, que está fora do intervalo da era Imperador Showa no <xref:System.Globalization.JapaneseCalendar>.</span><span class="sxs-lookup"><span data-stu-id="de5f5-263">This date corresponds to January 9, 1990, which is outside the range of the Showa era in the <xref:System.Globalization.JapaneseCalendar>.</span></span> <span data-ttu-id="de5f5-264">Como ilustra a saída do exemplo, a data exibida pelo exemplo é 9 de janeiro de 1990, no segundo ano da era Heisei do calendário.</span><span class="sxs-lookup"><span data-stu-id="de5f5-264">As the output from the example illustrates, the date displayed by the example is January 9, 1990, in the second year of the Heisei era.</span></span>

   [!code-csharp[Relaxed range checks](~/samples/snippets/standard/datetime/calendars/relaxed-range/cs/program.cs)]
   [!code-vb[Relaxed range checks](~/samples/snippets/standard/datetime/calendars/relaxed-range/vb/program.vb)]

<span data-ttu-id="de5f5-265">Se as verificações de intervalo reduzida indesejáveis, você pode restaurar verificações de intervalo estrita de várias maneiras, dependendo da versão do .NET que está executando seu aplicativo:</span><span class="sxs-lookup"><span data-stu-id="de5f5-265">If relaxed range checks are undesirable, you can restore strict range checks in a number of ways, depending on the version of .NET on which your application is running:</span></span>

- <span data-ttu-id="de5f5-266">**.NET core:** Você pode adicionar o seguinte para o *. netcore.runtime.json* arquivo de configuração:</span><span class="sxs-lookup"><span data-stu-id="de5f5-266">**.NET Core:** You can add the following to the *.netcore.runtime.json* config file:</span></span>

   ```json
   "runtimeOptions": {
      "configProperties": {
         "Switch.System.Globalization.EnforceJapaneseEraYearRanges": true
      } 
   }
   ```

- <span data-ttu-id="de5f5-267">**.NET framework 4.6 ou posterior:** Você pode definir a opção de AppContext a seguir:</span><span class="sxs-lookup"><span data-stu-id="de5f5-267">**.NET Framework 4.6 or later:** You can set the following AppContext switch:</span></span>

   ```xml
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <runtime>
       <AppContextSwitchOverrides value="Switch.System.Globalization.EnforceJapaneseEraYearRanges=true" />
     </runtime>
   </configuration>
   ```

- <span data-ttu-id="de5f5-268">**.NET framework 4.5.2 ou anterior:** Você pode definir o valor do registro:</span><span class="sxs-lookup"><span data-stu-id="de5f5-268">**.NET Framework 4.5.2 or earlier:** You can set the following registry value:</span></span>

   |  |  |
   |--|--|
   |<span data-ttu-id="de5f5-269">Chave</span><span class="sxs-lookup"><span data-stu-id="de5f5-269">Key</span></span> | <span data-ttu-id="de5f5-270">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span><span class="sxs-lookup"><span data-stu-id="de5f5-270">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span></span> |
   |<span data-ttu-id="de5f5-271">Nome</span><span class="sxs-lookup"><span data-stu-id="de5f5-271">Name</span></span> | <span data-ttu-id="de5f5-272">Switch.System.Globalization.EnforceJapaneseEraYearRanges</span><span class="sxs-lookup"><span data-stu-id="de5f5-272">Switch.System.Globalization.EnforceJapaneseEraYearRanges</span></span> |
   |<span data-ttu-id="de5f5-273">Tipo</span><span class="sxs-lookup"><span data-stu-id="de5f5-273">Type</span></span> | <span data-ttu-id="de5f5-274">REG_SZ</span><span class="sxs-lookup"><span data-stu-id="de5f5-274">REG_SZ</span></span> |
   |<span data-ttu-id="de5f5-275">Valor</span><span class="sxs-lookup"><span data-stu-id="de5f5-275">Value</span></span> | <span data-ttu-id="de5f5-276">1</span><span class="sxs-lookup"><span data-stu-id="de5f5-276">1</span></span> |

<span data-ttu-id="de5f5-277">Com verificações de intervalo estrito habilitadas, o exemplo anterior gera um <xref:System.ArgumentOutOfRangeException> e exibe a seguinte saída:</span><span class="sxs-lookup"><span data-stu-id="de5f5-277">With strict range checks enabled, the previous example throws an <xref:System.ArgumentOutOfRangeException> and displays the following output:</span></span>

```console
Unhandled Exception: System.ArgumentOutOfRangeException: Valid values are between 1 and 64, inclusive.
Parameter name: year
   at System.Globalization.GregorianCalendarHelper.GetYearOffset(Int32 year, Int32 era, Boolean throwOnError)
   at System.Globalization.GregorianCalendarHelper.ToDateTime(Int32 year, Int32 month, Int32 day, Int32 hour, Int32 minute, Int32 second, Int32 millisecond, Int32 era)
   at Example.Main()
```

### <a name="representing-dates-in-calendars-with-multiple-eras"></a><span data-ttu-id="de5f5-278">Representando datas em calendários com eras vários</span><span class="sxs-lookup"><span data-stu-id="de5f5-278">Representing dates in calendars with multiple eras</span></span>

<span data-ttu-id="de5f5-279">Se um objeto <xref:System.Globalization.Calendar> oferece suporte a eras e é o calendário atual de um objeto <xref:System.Globalization.CultureInfo>, a era está incluída na representação de cadeia de caracteres de um valor de data e hora para os padrões de data e hora completa, data completa e data abreviada.</span><span class="sxs-lookup"><span data-stu-id="de5f5-279">If a <xref:System.Globalization.Calendar> object supports eras and is the current calendar of a <xref:System.Globalization.CultureInfo> object, the era is included in the string representation of a date and time value for the full date and time, long date, and short date patterns.</span></span> <span data-ttu-id="de5f5-280">O exemplo a seguir exibe esses padrões de data quando a cultura atual é Japão (japanese) e o calendário atual é o calendário japonês.</span><span class="sxs-lookup"><span data-stu-id="de5f5-280">The following example displays these date patterns when the current culture is Japan (Japanese) and the current calendar is the Japanese calendar.</span></span>

[!code-csharp[Conceptual.Calendars#8](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/formatstrings1.cs#8)]
[!code-vb[Conceptual.Calendars#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/formatstrings1.vb#8)]

> [!WARNING]
> <span data-ttu-id="de5f5-281">O <xref:System.Globalization.JapaneseCalendar> classe é a única classe de calendário no .NET que ambos os oferece suporte a datas em mais de uma era e que pode ser o calendário atual de um <xref:System.Globalization.CultureInfo> objeto – especificamente, de um <xref:System.Globalization.CultureInfo> objeto que representa a cultura japonês (Japão).</span><span class="sxs-lookup"><span data-stu-id="de5f5-281">The <xref:System.Globalization.JapaneseCalendar> class is the only calendar class in .NET that both supports dates in more than one era and that can be the current calendar of a <xref:System.Globalization.CultureInfo> object - specifically, of a <xref:System.Globalization.CultureInfo> object that represents the Japanese (Japan) culture.</span></span>

<span data-ttu-id="de5f5-282">Para todos os calendários, o especificador de formato personalizado “g” inclui a era na cadeia de caracteres de resultado.</span><span class="sxs-lookup"><span data-stu-id="de5f5-282">For all calendars, the "g" custom format specifier includes the era in the result string.</span></span> <span data-ttu-id="de5f5-283">O exemplo a seguir usa a cadeia de caracteres de formato personalizado "MM-dd-aaaa g" para incluir a era na cadeia de caracteres de resultado quando o calendário atual é o calendário gregoriano.</span><span class="sxs-lookup"><span data-stu-id="de5f5-283">The following example uses the "MM-dd-yyyy g" custom format string to include the era in the result string when the current calendar is the Gregorian calendar.</span></span>

[!code-csharp[Conceptual.Calendars#9](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/formatstrings2.cs#9)]
[!code-vb[Conceptual.Calendars#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/formatstrings2.vb#9)]

<span data-ttu-id="de5f5-284">Em casos em que a representação de cadeia de caracteres de uma data é expressa em um calendário que não é o calendário atual, a classe <xref:System.Globalization.Calendar> inclui um método <xref:System.Globalization.Calendar.GetEra%2A?displayProperty=nameWithType> que pode ser usado junto com <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType> e os métodos <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> para indicar inequivocamente uma data e a era à qual ela pertence.</span><span class="sxs-lookup"><span data-stu-id="de5f5-284">In cases where the string representation of a date is expressed in a calendar that is not the current calendar, the <xref:System.Globalization.Calendar> class includes a <xref:System.Globalization.Calendar.GetEra%2A?displayProperty=nameWithType> method that can be used along with the <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType>, and <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> methods to unambiguously indicate a date as well as the era to which it belongs.</span></span> <span data-ttu-id="de5f5-285">O exemplo a seguir usa a classe <xref:System.Globalization.JapaneseLunisolarCalendar> para fornecer uma ilustração.</span><span class="sxs-lookup"><span data-stu-id="de5f5-285">The following example uses the <xref:System.Globalization.JapaneseLunisolarCalendar> class to provide an illustration.</span></span> <span data-ttu-id="de5f5-286">No entanto, observe que incluir um nome ou abreviação significativa em vez de um inteiro para a era na cadeia de caracteres de resultado exige que você crie uma instância de um objeto <xref:System.Globalization.DateTimeFormatInfo> e faça de <xref:System.Globalization.JapaneseCalendar> o calendário atual.</span><span class="sxs-lookup"><span data-stu-id="de5f5-286">However, note that including a meaningful name or abbreviation instead of an integer for the era in the result string requires that you instantiate a <xref:System.Globalization.DateTimeFormatInfo> object and make <xref:System.Globalization.JapaneseCalendar> its current calendar.</span></span> <span data-ttu-id="de5f5-287">(O calendário <xref:System.Globalization.JapaneseLunisolarCalendar> não pode ser o calendário atual de qualquer cultura, mas, nesse caso, os dois calendários compartilham as mesmas eras.)</span><span class="sxs-lookup"><span data-stu-id="de5f5-287">(The <xref:System.Globalization.JapaneseLunisolarCalendar> calendar cannot be the current calendar of any culture, but in this case the two calendars share the same eras.)</span></span>

[!code-csharp[Conceptual.Calendars#10](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/formatstrings3.cs#10)]
[!code-vb[Conceptual.Calendars#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/formatstrings3.vb#10)]

<span data-ttu-id="de5f5-288">O primeiro ano de uma época nos calendários japonês, é chamado de Gannen (元年).</span><span class="sxs-lookup"><span data-stu-id="de5f5-288">In the Japanese calendars, the first year of an era is called Gannen (元年).</span></span> <span data-ttu-id="de5f5-289">Por exemplo, em vez de 1 Heisei do calendário, o primeiro ano da era Heisei do calendário pode ser descrito como Heisei Gannen.</span><span class="sxs-lookup"><span data-stu-id="de5f5-289">For example, instead of Heisei 1, the first year of the Heisei era can be described as Heisei Gannen.</span></span> <span data-ttu-id="de5f5-290">.NET adota essa convenção na formatação de operações para datas e horários formatada com o seguinte padrão ou personalizada formato de data e hora em cadeias de caracteres quando eles são usados com um <xref:System.Globalization.CultureInfo> objeto que representa a cultura de japonês-Japão ("ja-JP") com o <xref:System.Globalization.JapaneseCalendar> classe:</span><span class="sxs-lookup"><span data-stu-id="de5f5-290">.NET adopts this convention in formatting operations for dates and times formatted with the following standard or custom date and time format strings when they are used with a <xref:System.Globalization.CultureInfo> object that represents the Japanese-Japan ("ja-JP") culture with the <xref:System.Globalization.JapaneseCalendar> class:</span></span>

- <span data-ttu-id="de5f5-291">[O padrão de data por extenso](../base-types/standard-date-and-time-format-strings.md#LongDate), indicado pela "D" data e hora de cadeia de caracteres de formato padrão.</span><span class="sxs-lookup"><span data-stu-id="de5f5-291">[The long date pattern](../base-types/standard-date-and-time-format-strings.md#LongDate), indicated by the "D" standard date and time format string.</span></span>
- <span data-ttu-id="de5f5-292">[A hora longa de data completa padrão](../base-types/standard-date-and-time-format-strings.md#FullDateLongTime), indicado pela "F" data e hora de cadeia de caracteres de formato padrão.</span><span class="sxs-lookup"><span data-stu-id="de5f5-292">[The full date long time pattern](../base-types/standard-date-and-time-format-strings.md#FullDateLongTime), indicated by the "F" standard date and time format string.</span></span>
- <span data-ttu-id="de5f5-293">[O padrão de curto período de tempo de data completa](../base-types/standard-date-and-time-format-strings.md#FullDateShortTime), indicado pela "f" data e hora de cadeia de caracteres de formato padrão.</span><span class="sxs-lookup"><span data-stu-id="de5f5-293">[The full date short time pattern](../base-types/standard-date-and-time-format-strings.md#FullDateShortTime), indicated by the "f" standard date and time format string.</span></span>
- <span data-ttu-id="de5f5-294">[O padrão de ano/mês](../base-types/standard-date-and-time-format-strings.md#YearMonth), indicado pelo Y "ou"y"padrão de data e hora de cadeia de caracteres de formato.</span><span class="sxs-lookup"><span data-stu-id="de5f5-294">[The year/month pattern](../base-types/standard-date-and-time-format-strings.md#YearMonth), indicated by the Y" or "y" standard date and time format string.</span></span>
- <span data-ttu-id="de5f5-295">[O "ggy '年'" ou "ggy年" [cadeia de caracteres de formato de data e hora personalizado](../base-types/custom-date-and-time-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="de5f5-295">[The "ggy'年'" or "ggy年" [custom date and time format string](../base-types/custom-date-and-time-format-strings.md).</span></span>

<span data-ttu-id="de5f5-296">Por exemplo, o exemplo a seguir exibe uma data no primeiro ano da era Heisei do calendário no <xref:System.Globalization.JapaneseCalendar> .</span><span class="sxs-lookup"><span data-stu-id="de5f5-296">For example, the following example displays a date in the first year of the Heisei era in the <xref:System.Globalization.JapaneseCalendar> .</span></span>

   [!code-csharp[gannen](~/samples/snippets/standard/datetime/calendars/gannen/cs/program.cs)]
   [!code-vb[gannen](~/samples/snippets/standard/datetime/calendars/gannen/vb/gannen-fmt.vb)]

<span data-ttu-id="de5f5-297">Se esse comportamento for indesejável em operações de formatação, você pode restaurar o comportamento anterior, o que sempre representa o primeiro ano de uma época como "1" em vez de "Gannen", fazendo o seguinte, dependendo da versão do .NET:</span><span class="sxs-lookup"><span data-stu-id="de5f5-297">If this behavior is undesirable in formatting operations, you can restore the previous behavior, which always represents the first year of an era as “1” rather than “Gannen”, by doing the following, depending on the version of .NET:</span></span>

- <span data-ttu-id="de5f5-298">**.NET core:** Você pode adicionar o seguinte para o *. netcore.runtime.json* arquivo de configuração:</span><span class="sxs-lookup"><span data-stu-id="de5f5-298">**.NET Core:** You can add the following to the *.netcore.runtime.json* config file:</span></span>

   ```json
   "runtimeOptions": {
      "configProperties": {
         "Switch.System.Globalization.FormatJapaneseFirstYearAsANumber": true
      } 
   }
   ```

- <span data-ttu-id="de5f5-299">**.NET framework 4.6 ou posterior:** Você pode definir a opção de AppContext a seguir:</span><span class="sxs-lookup"><span data-stu-id="de5f5-299">**.NET Framework 4.6 or later:** You can set the following AppContext switch:</span></span>

   ```xml
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <runtime>
       <AppContextSwitchOverrides value="Switch.System.Globalization.FormatJapaneseFirstYearAsANumber=true" />
     </runtime>
   </configuration>
   ```

- <span data-ttu-id="de5f5-300">**.NET framework 4.5.2 ou anterior:** Você pode definir o valor do registro:</span><span class="sxs-lookup"><span data-stu-id="de5f5-300">**.NET Framework 4.5.2 or earlier:** You can set the following registry value:</span></span>

   |  |  |
   |--|--|
   |<span data-ttu-id="de5f5-301">Chave</span><span class="sxs-lookup"><span data-stu-id="de5f5-301">Key</span></span> | <span data-ttu-id="de5f5-302">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span><span class="sxs-lookup"><span data-stu-id="de5f5-302">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span></span> |
   |<span data-ttu-id="de5f5-303">Nome</span><span class="sxs-lookup"><span data-stu-id="de5f5-303">Name</span></span> | <span data-ttu-id="de5f5-304">Switch.System.Globalization.FormatJapaneseFirstYearAsANumber</span><span class="sxs-lookup"><span data-stu-id="de5f5-304">Switch.System.Globalization.FormatJapaneseFirstYearAsANumber</span></span> |
   |<span data-ttu-id="de5f5-305">Tipo</span><span class="sxs-lookup"><span data-stu-id="de5f5-305">Type</span></span> | <span data-ttu-id="de5f5-306">REG_SZ</span><span class="sxs-lookup"><span data-stu-id="de5f5-306">REG_SZ</span></span> |
   |<span data-ttu-id="de5f5-307">Valor</span><span class="sxs-lookup"><span data-stu-id="de5f5-307">Value</span></span> | <span data-ttu-id="de5f5-308">1</span><span class="sxs-lookup"><span data-stu-id="de5f5-308">1</span></span> |

<span data-ttu-id="de5f5-309">Com o suporte de gannen em operações desabilitadas de formatação, o exemplo anterior exibe a seguinte saída:</span><span class="sxs-lookup"><span data-stu-id="de5f5-309">With gannen support in formatting operations disabled, the previous example displays the following output:</span></span>

```console
Japanese calendar date: 平成1年8月18日 (Gregorian: Friday, August 18, 1989)
```

<span data-ttu-id="de5f5-310">.NET também foi atualizado para que a data e hora em operações de análise de cadeias de caracteres que contêm o ano representado como "1" ou Gannen dão suporte.</span><span class="sxs-lookup"><span data-stu-id="de5f5-310">.NET has also been updated so that date and time parsing operations support strings that contain the year represented as either "1" or Gannen.</span></span> <span data-ttu-id="de5f5-311">Embora você não deve precisar fazer isso, você pode restaurar o comportamento anterior ao reconhece apenas "1" como o primeiro ano de uma época.</span><span class="sxs-lookup"><span data-stu-id="de5f5-311">Although you should not need to do this, you can restore the previous behavior to recognizes only “1” as the first year of an era.</span></span> <span data-ttu-id="de5f5-312">Você pode fazer isso da seguinte maneira, dependendo da versão do .NET:</span><span class="sxs-lookup"><span data-stu-id="de5f5-312">You can do this as follows, depending on the version of .NET:</span></span>

- <span data-ttu-id="de5f5-313">**.NET core:** Você pode adicionar o seguinte para o *. netcore.runtime.json* arquivo de configuração:</span><span class="sxs-lookup"><span data-stu-id="de5f5-313">**.NET Core:** You can add the following to the *.netcore.runtime.json* config file:</span></span>

   ```json
   "runtimeOptions": {
      "configProperties": {
         "Switch.System.Globalization.EnforceLegacyJapaneseDateParsing": true
      } 
   }
   ```

- <span data-ttu-id="de5f5-314">**.NET framework 4.6 ou posterior:** Você pode definir a opção de AppContext a seguir:</span><span class="sxs-lookup"><span data-stu-id="de5f5-314">**.NET Framework 4.6 or later:** You can set the following AppContext switch:</span></span>

   ```xml
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <runtime>
       <AppContextSwitchOverrides value="Switch.System.Globalization.EnforceLegacyJapaneseDateParsing=true" />
     </runtime>
   </configuration>
   ```

- <span data-ttu-id="de5f5-315">**.NET framework 4.5.2 ou anterior:** Você pode definir o valor do registro:</span><span class="sxs-lookup"><span data-stu-id="de5f5-315">**.NET Framework 4.5.2 or earlier:** You can set the following registry value:</span></span>

   |  |  |
   |--|--|  
   |<span data-ttu-id="de5f5-316">Chave</span><span class="sxs-lookup"><span data-stu-id="de5f5-316">Key</span></span> | <span data-ttu-id="de5f5-317">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span><span class="sxs-lookup"><span data-stu-id="de5f5-317">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span></span> |
   |<span data-ttu-id="de5f5-318">Nome</span><span class="sxs-lookup"><span data-stu-id="de5f5-318">Name</span></span> | <span data-ttu-id="de5f5-319">Switch.System.Globalization.EnforceLegacyJapaneseDateParsing</span><span class="sxs-lookup"><span data-stu-id="de5f5-319">Switch.System.Globalization.EnforceLegacyJapaneseDateParsing</span></span> |
   |<span data-ttu-id="de5f5-320">Tipo</span><span class="sxs-lookup"><span data-stu-id="de5f5-320">Type</span></span> | <span data-ttu-id="de5f5-321">REG_SZ</span><span class="sxs-lookup"><span data-stu-id="de5f5-321">REG_SZ</span></span> |
   |<span data-ttu-id="de5f5-322">Valor</span><span class="sxs-lookup"><span data-stu-id="de5f5-322">Value</span></span> | <span data-ttu-id="de5f5-323">1</span><span class="sxs-lookup"><span data-stu-id="de5f5-323">1</span></span> | 

## <a name="see-also"></a><span data-ttu-id="de5f5-324">Consulte também</span><span class="sxs-lookup"><span data-stu-id="de5f5-324">See also</span></span>

- [<span data-ttu-id="de5f5-325">Como: Exibir datas em calendários não gregorianos</span><span class="sxs-lookup"><span data-stu-id="de5f5-325">How to: Display dates in non-Gregorian calendars</span></span>](../../../docs/standard/base-types/how-to-display-dates-in-non-gregorian-calendars.md)
- [<span data-ttu-id="de5f5-326">Exemplo: Utilitário de intervalo de semana de calendário</span><span class="sxs-lookup"><span data-stu-id="de5f5-326">Sample: Calendar week range utility</span></span>](https://code.msdn.microsoft.com/NET-Framework-4-Calendar-3360a84a)
