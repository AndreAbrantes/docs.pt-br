---
title: Formatação composta
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: ''
ms.suite: ''
ms.technology: dotnet-standard
ms.tgt_pltfrm: ''
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- parameter specifiers
- strings [.NET Framework], alignment
- format specifiers, composite formatting
- strings [.NET Framework], composite
- composite formatting
- objects [.NET Framework], formatting multiple objects
ms.assetid: 87b7d528-73f6-43c6-b71a-f23043039a49
caps.latest.revision: 36
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 156ef0f063219f5e78084dd664b64699d33e6593
ms.sourcegitcommit: 935d5267c44f9bce801468ef95f44572f1417e8c
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/28/2018
---
# <a name="composite-formatting"></a><span data-ttu-id="e293a-102">Formatação composta</span><span class="sxs-lookup"><span data-stu-id="e293a-102">Composite Formatting</span></span>
<span data-ttu-id="e293a-103">O recurso de formatação de composição do .NET utiliza uma lista de objetos e uma cadeia de caracteres de formato de composição como entrada.</span><span class="sxs-lookup"><span data-stu-id="e293a-103">The .NET composite formatting feature takes a list of objects and a composite format string as input.</span></span> <span data-ttu-id="e293a-104">Uma cadeia de formato de composição consiste em um texto fixo intercalado com espaços reservados indexados, chamados de itens de formato, que correspondem aos objetos na lista.</span><span class="sxs-lookup"><span data-stu-id="e293a-104">A composite format string consists of fixed text intermixed with indexed placeholders, called format items, that correspond to the objects in the list.</span></span> <span data-ttu-id="e293a-105">A operação de formatação produz uma cadeia de caracteres de resultado que consiste no texto fixo original intercalado com a representação de cadeia de caracteres dos objetos na lista.</span><span class="sxs-lookup"><span data-stu-id="e293a-105">The formatting operation yields a result string that consists of the original fixed text intermixed with the string representation of the objects in the list.</span></span>  
  
 <span data-ttu-id="e293a-106">O recurso de formatação de composição tem suporte de métodos como:</span><span class="sxs-lookup"><span data-stu-id="e293a-106">The composite formatting feature is supported by methods such as the following:</span></span>  
  
-   <span data-ttu-id="e293a-107"><xref:System.String.Format%2A?displayProperty=nameWithType>, que retorna uma cadeia de caracteres de resultado formatada.</span><span class="sxs-lookup"><span data-stu-id="e293a-107"><xref:System.String.Format%2A?displayProperty=nameWithType>, which returns a formatted result string.</span></span>  
  
-   <span data-ttu-id="e293a-108"><xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType>, que acrescenta uma cadeia de caracteres de resultado formatada a um objeto <xref:System.Text.StringBuilder>.</span><span class="sxs-lookup"><span data-stu-id="e293a-108"><xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType>, which appends a formatted result string to a <xref:System.Text.StringBuilder> object.</span></span>  
  
-   <span data-ttu-id="e293a-109">Algumas sobrecargas do método <xref:System.Console.WriteLine%2A?displayProperty=nameWithType>, as quais exibem uma cadeia de caracteres de resultado formatada para o console.</span><span class="sxs-lookup"><span data-stu-id="e293a-109">Some overloads of the <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> method, which display a formatted result string to the console.</span></span>  
  
-   <span data-ttu-id="e293a-110">Algumas sobrecargas do método <xref:System.IO.TextWriter.WriteLine%2A?displayProperty=nameWithType>, as quais escrevem a cadeia de caracteres de resultado formatada em um fluxo ou arquivo.</span><span class="sxs-lookup"><span data-stu-id="e293a-110">Some overloads of the <xref:System.IO.TextWriter.WriteLine%2A?displayProperty=nameWithType> method, which write the formatted result string to a stream or file.</span></span> <span data-ttu-id="e293a-111">As classes derivadas de <xref:System.IO.TextWriter>, como <xref:System.IO.StreamWriter> e <xref:System.Web.UI.HtmlTextWriter>, também têm essa funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="e293a-111">The classes derived from <xref:System.IO.TextWriter>, such as <xref:System.IO.StreamWriter> and <xref:System.Web.UI.HtmlTextWriter>, also share this functionality.</span></span>  
  
-   <span data-ttu-id="e293a-112"><xref:System.Diagnostics.Debug.WriteLine%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, que gera uma mensagem formatada para rastrear ouvintes.</span><span class="sxs-lookup"><span data-stu-id="e293a-112"><xref:System.Diagnostics.Debug.WriteLine%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, which outputs a formatted message to trace listeners.</span></span>  
  
-   <span data-ttu-id="e293a-113">Os métodos <xref:System.Diagnostics.Trace.TraceError%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, <xref:System.Diagnostics.Trace.TraceInformation%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> e <xref:System.Diagnostics.Trace.TraceWarning%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, os quais produzem mensagens formatadas rastrear ouvintes.</span><span class="sxs-lookup"><span data-stu-id="e293a-113">The <xref:System.Diagnostics.Trace.TraceError%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, <xref:System.Diagnostics.Trace.TraceInformation%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, and <xref:System.Diagnostics.Trace.TraceWarning%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> methods, which output formatted messages to trace listeners.</span></span>  
  
-   <span data-ttu-id="e293a-114">O método <xref:System.Diagnostics.TraceSource.TraceInformation%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, que grava um método informativo para rastrear ouvintes.</span><span class="sxs-lookup"><span data-stu-id="e293a-114">The <xref:System.Diagnostics.TraceSource.TraceInformation%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method, which writes an informational method to trace listeners.</span></span>  
  
## <a name="composite-format-string"></a><span data-ttu-id="e293a-115">Cadeia de formato de composição</span><span class="sxs-lookup"><span data-stu-id="e293a-115">Composite Format String</span></span>  
 <span data-ttu-id="e293a-116">Uma cadeia de formato de composição e uma lista de objetos são usadas como argumentos dos métodos que dão suporte ao recurso de formatação de composição.</span><span class="sxs-lookup"><span data-stu-id="e293a-116">A composite format string and object list are used as arguments of methods that support the composite formatting feature.</span></span> <span data-ttu-id="e293a-117">Uma cadeia de formato de composição consiste em zero ou mais sequências de texto fixo intercaladas com um ou mais itens de formato.</span><span class="sxs-lookup"><span data-stu-id="e293a-117">A composite format string consists of zero or more runs of fixed text intermixed with one or more format items.</span></span> <span data-ttu-id="e293a-118">O texto fixo é qualquer cadeia de caracteres que você escolher e cada item de formato corresponde a um objeto ou a uma estrutura demarcada na lista.</span><span class="sxs-lookup"><span data-stu-id="e293a-118">The fixed text is any string that you choose, and each format item corresponds to an object or boxed structure in the list.</span></span> <span data-ttu-id="e293a-119">O recurso de formatação de composição retorna uma nova cadeia de caracteres de resultado em que cada item de formato é substituído pela representação de cadeia de caracteres do objeto correspondente na lista.</span><span class="sxs-lookup"><span data-stu-id="e293a-119">The composite formatting feature returns a new result string where each format item is replaced by the string representation of the corresponding object in the list.</span></span>  
  
 <span data-ttu-id="e293a-120">Considere o fragmento de código <xref:System.String.Format%2A> a seguir.</span><span class="sxs-lookup"><span data-stu-id="e293a-120">Consider the following <xref:System.String.Format%2A> code fragment.</span></span>  
  
 [!code-csharp[Formatting.Composite#1](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Composite1.cs#1)]
 [!code-vb[Formatting.Composite#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Composite1.vb#1)]  
  
 <span data-ttu-id="e293a-121">O texto fixo é "`Name =` "e"`, hours =` ".</span><span class="sxs-lookup"><span data-stu-id="e293a-121">The fixed text is "`Name =` " and "`, hours =` ".</span></span> <span data-ttu-id="e293a-122">Os itens de formato são "`{0}`", cujo índice é 0, que corresponde ao objeto `name`, e "`{1:hh}`", cujo índice é 1, que corresponde ao objeto `DateTime.Now`.</span><span class="sxs-lookup"><span data-stu-id="e293a-122">The format items are "`{0}`", whose index is 0, which corresponds to the object `name`, and "`{1:hh}`", whose index is 1, which corresponds to the object `DateTime.Now`.</span></span>  
  
## <a name="format-item-syntax"></a><span data-ttu-id="e293a-123">Sintaxe do item de formato</span><span class="sxs-lookup"><span data-stu-id="e293a-123">Format Item Syntax</span></span>  
 <span data-ttu-id="e293a-124">Cada item de formato assume a forma a seguir e consiste nos seguintes componentes:</span><span class="sxs-lookup"><span data-stu-id="e293a-124">Each format item takes the following form and consists of the following components:</span></span>  
  
 <span data-ttu-id="e293a-125">`{` *index*[`,`*alignment*][`:`*formatString*]`}`</span><span class="sxs-lookup"><span data-stu-id="e293a-125">`{` *index*[`,`*alignment*][`:`*formatString*]`}`</span></span>  
  
 <span data-ttu-id="e293a-126">As chaves correspondentes ("{" e "}") são necessárias.</span><span class="sxs-lookup"><span data-stu-id="e293a-126">The matching braces ("{" and "}") are required.</span></span>  
  
### <a name="index-component"></a><span data-ttu-id="e293a-127">Componente de índice</span><span class="sxs-lookup"><span data-stu-id="e293a-127">Index Component</span></span>  
 <span data-ttu-id="e293a-128">O componente obrigatório *index*, também chamado de especificador de parâmetro, é um número iniciado por 0 que identifica um item correspondente na lista de objetos.</span><span class="sxs-lookup"><span data-stu-id="e293a-128">The mandatory *index* component, also called a parameter specifier, is a number starting from 0 that identifies a corresponding item in the list of objects.</span></span> <span data-ttu-id="e293a-129">Ou seja, o item de formato cujo especificador de parâmetro é 0 formata o primeiro objeto na lista, o item de formato cujo especificador de parâmetro é 1 formata o segundo objeto na lista e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="e293a-129">That is, the format item whose parameter specifier is 0 formats the first object in the list, the format item whose parameter specifier is 1 formats the second object in the list, and so on.</span></span> <span data-ttu-id="e293a-130">O exemplo a seguir inclui quatro especificadores de parâmetros, numerados de zero a três, para representar números primos menores que dez:</span><span class="sxs-lookup"><span data-stu-id="e293a-130">The following example includes four parameter specifiers, numbered zero through three,  to represent prime numbers less than ten:</span></span>  
  
 [!code-csharp[Formatting.Composite#7](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/index1.cs#7)]
 [!code-vb[Formatting.Composite#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/index1.vb#7)]  
  
 <span data-ttu-id="e293a-131">Vários itens de formato podem fazer referência ao mesmo elemento na lista de objetos ao especificar o mesmo especificador de parâmetro.</span><span class="sxs-lookup"><span data-stu-id="e293a-131">Multiple format items can refer to the same element in the list of objects by specifying the same parameter specifier.</span></span> <span data-ttu-id="e293a-132">Por exemplo, você pode formatar o mesmo valor numérico em formato hexadecimal, científico e numérico especificando uma cadeia de formato de composição como "0x{0:X} {0:E} {0:N}", conforme demonstrado no exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="e293a-132">For example, you can format the same numeric value in hexadecimal, scientific, and number format by specifying a composite format string such as : "0x{0:X} {0:E} {0:N}", as the following example shows.</span></span>  
  
 [!code-csharp[Formatting.Composite#10](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/index1.cs#10)]
 [!code-vb[Formatting.Composite#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/index1.vb#10)]  
  
 <span data-ttu-id="e293a-133">Cada item de formato pode fazer referência a qualquer objeto na lista.</span><span class="sxs-lookup"><span data-stu-id="e293a-133">Each format item can refer to any object in the list.</span></span> <span data-ttu-id="e293a-134">Por exemplo, se houver três objetos, você poderá formatar o segundo, o primeiro e o terceiro objetos especificando uma cadeia de formato de composição como esta: "{1} {0} {2}".</span><span class="sxs-lookup"><span data-stu-id="e293a-134">For example, if there are three objects, you can format the second, first, and third object by specifying a composite format string like this: "{1} {0} {2}".</span></span> <span data-ttu-id="e293a-135">Um objeto que não é referenciado por um item de formato é ignorado.</span><span class="sxs-lookup"><span data-stu-id="e293a-135">An object that is not referenced by a format item is ignored.</span></span> <span data-ttu-id="e293a-136">Uma <xref:System.FormatException> será lançada no tempo de execução se um especificador de parâmetro designar um item fora dos limites da lista de objetos.</span><span class="sxs-lookup"><span data-stu-id="e293a-136">A <xref:System.FormatException> is thrown at runtime if a parameter specifier designates an item outside the bounds of the list of objects.</span></span>  
  
### <a name="alignment-component"></a><span data-ttu-id="e293a-137">Componente de alinhamento</span><span class="sxs-lookup"><span data-stu-id="e293a-137">Alignment Component</span></span>  
 <span data-ttu-id="e293a-138">O componente opcional *alignment* é um inteiro com sinal que indica a largura preferencial do campo formatado.</span><span class="sxs-lookup"><span data-stu-id="e293a-138">The optional *alignment* component is a signed integer indicating the preferred formatted field width.</span></span> <span data-ttu-id="e293a-139">Se o valor de *alignment* for menor que o comprimento da cadeia de caracteres formatada, *alignment* será ignorado e o comprimento da cadeia de caracteres formatada será usado como a largura do campo.</span><span class="sxs-lookup"><span data-stu-id="e293a-139">If the value of *alignment* is less than the length of the formatted string, *alignment* is ignored and the length of the formatted string is used as the field width.</span></span> <span data-ttu-id="e293a-140">Os dados formatados no campo serão alinhados à direita se *alignment* for positivo e serão alinhados à esquerda se *alignment* for negativo.</span><span class="sxs-lookup"><span data-stu-id="e293a-140">The formatted data in the field is right-aligned if *alignment* is positive and left-aligned if *alignment* is negative.</span></span> <span data-ttu-id="e293a-141">Se for necessário preenchimento, espaços em branco serão usados.</span><span class="sxs-lookup"><span data-stu-id="e293a-141">If padding is necessary, white space is used.</span></span> <span data-ttu-id="e293a-142">A vírgula é necessária se *alignment* for especificado.</span><span class="sxs-lookup"><span data-stu-id="e293a-142">The comma is required if *alignment*  is specified.</span></span>  
  
 <span data-ttu-id="e293a-143">O exemplo a seguir define duas matrizes, uma contendo os nomes dos funcionários e outra contendo as horas trabalhadas por eles em um período de duas semanas.</span><span class="sxs-lookup"><span data-stu-id="e293a-143">The following example defines two arrays, one containing the names of employees and the other containing the hours they worked over a two-week period.</span></span> <span data-ttu-id="e293a-144">A cadeia de caracteres de formato de composição alinha à esquerda os nomes em um campo de 20 caracteres e alinha à direita as horas em um campo de 5 caracteres.</span><span class="sxs-lookup"><span data-stu-id="e293a-144">The composite format string left-aligns the names in a 20-character field, and right-aligns their hours in a 5-character field.</span></span> <span data-ttu-id="e293a-145">Observe que a cadeia de caracteres de formato padrão "N1" também é usada para formatar horas com um dígito fracionário.</span><span class="sxs-lookup"><span data-stu-id="e293a-145">Note that the "N1" standard format string is also used to format the hours with one fractional digit.</span></span>  
  
 [!code-csharp[Formatting.Composite#8](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/alignment1.cs#8)]
 [!code-vb[Formatting.Composite#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/alignment1.vb#8)]  
  
### <a name="format-string-component"></a><span data-ttu-id="e293a-146">Componente da cadeia de caracteres de formato</span><span class="sxs-lookup"><span data-stu-id="e293a-146">Format String Component</span></span>  
 <span data-ttu-id="e293a-147">O componente opcional *formatString* é uma cadeia de caracteres de formato que é apropriada para o tipo de objeto que está sendo formatado.</span><span class="sxs-lookup"><span data-stu-id="e293a-147">The optional *formatString* component is a format string that is appropriate for the type of object being formatted.</span></span> <span data-ttu-id="e293a-148">Especifique uma cadeia de caracteres de formato numérico padrão ou personalizado se o objeto correspondente é um valor numérico, uma cadeia de caracteres de formato de data e hora padrão ou personalizado, se o objeto é um objeto <xref:System.DateTime> ou uma [cadeia de caracteres de formato de enumeração](../../../docs/standard/base-types/enumeration-format-strings.md) se o objeto correspondente é um valor de enumeração.</span><span class="sxs-lookup"><span data-stu-id="e293a-148">Specify a standard or custom numeric format string if the corresponding object is a numeric value, a standard or custom date and time format string if the corresponding object is a <xref:System.DateTime> object, or an [enumeration format string](../../../docs/standard/base-types/enumeration-format-strings.md) if the corresponding object is an enumeration value.</span></span> <span data-ttu-id="e293a-149">Se *formatString* não for especificado, o especificador de formato geral ("G") para um tipo numérico, de data e hora ou enumeração será usado.</span><span class="sxs-lookup"><span data-stu-id="e293a-149">If *formatString* is not specified, the general ("G") format specifier for a numeric, date and time, or enumeration type is used.</span></span> <span data-ttu-id="e293a-150">Os dois-pontos são necessários quando *formatString* é especificado.</span><span class="sxs-lookup"><span data-stu-id="e293a-150">The colon is required if *formatString* is specified.</span></span>  
  
 <span data-ttu-id="e293a-151">A tabela a seguir lista tipos ou categorias de tipos na biblioteca de classes do .NET Framework que dão suporte a um conjunto predefinido de cadeias de caracteres de formato e fornece links para tópicos que relacionam as cadeias de caracteres de formato com suporte.</span><span class="sxs-lookup"><span data-stu-id="e293a-151">The following table lists types or categories of types in the .NET Framework class library that support a predefined set of format strings, and provides links to the topics that list the supported format strings.</span></span> <span data-ttu-id="e293a-152">Observe que a formatação de cadeias de caracteres é um mecanismo extensível que possibilita definir novas cadeias de caracteres de formato para todos os tipos existentes, bem como definir um conjunto de cadeias de caracteres de formato com suporte por um tipo definido por aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e293a-152">Note that string formatting is an extensible mechanism that makes it possible to define new format strings for all existing types as well as to define a set of format strings supported by an application-defined type.</span></span> <span data-ttu-id="e293a-153">Para saber mais, veja os tópicos de interface <xref:System.IFormattable> e <xref:System.ICustomFormatter>.</span><span class="sxs-lookup"><span data-stu-id="e293a-153">For more information, see the <xref:System.IFormattable> and <xref:System.ICustomFormatter> interface topics.</span></span>  
  
|<span data-ttu-id="e293a-154">Tipo ou categoria de tipo</span><span class="sxs-lookup"><span data-stu-id="e293a-154">Type or type category</span></span>|<span data-ttu-id="e293a-155">Consulte</span><span class="sxs-lookup"><span data-stu-id="e293a-155">See</span></span>|  
|---------------------------|---------|  
|<span data-ttu-id="e293a-156">Tipos de data e hora (<xref:System.DateTime>, <xref:System.DateTimeOffset>)</span><span class="sxs-lookup"><span data-stu-id="e293a-156">Date and time types (<xref:System.DateTime>, <xref:System.DateTimeOffset>)</span></span>|[<span data-ttu-id="e293a-157">Cadeias de caracteres de formato de data e hora padrão</span><span class="sxs-lookup"><span data-stu-id="e293a-157">Standard Date and Time Format Strings</span></span>](../../../docs/standard/base-types/standard-date-and-time-format-strings.md)<br /><br /> [<span data-ttu-id="e293a-158">Cadeias de caracteres de formato de data e hora personalizado</span><span class="sxs-lookup"><span data-stu-id="e293a-158">Custom Date and Time Format Strings</span></span>](../../../docs/standard/base-types/custom-date-and-time-format-strings.md)|  
|<span data-ttu-id="e293a-159">Tipos de enumeração (todos os tipos derivados de <xref:System.Enum?displayProperty=nameWithType>)</span><span class="sxs-lookup"><span data-stu-id="e293a-159">Enumeration types (all types derived from <xref:System.Enum?displayProperty=nameWithType>)</span></span>|[<span data-ttu-id="e293a-160">Cadeias de Caracteres de Formato de Enumeração</span><span class="sxs-lookup"><span data-stu-id="e293a-160">Enumeration Format Strings</span></span>](../../../docs/standard/base-types/enumeration-format-strings.md)|  
|<span data-ttu-id="e293a-161">Tipos numéricos (<xref:System.Numerics.BigInteger>, <xref:System.Byte>, <xref:System.Decimal>, <xref:System.Double>, <xref:System.Int16>, <xref:System.Int32>, <xref:System.Int64>, <xref:System.SByte>, <xref:System.Single>, <xref:System.UInt16>, <xref:System.UInt32>, <xref:System.UInt64>)</span><span class="sxs-lookup"><span data-stu-id="e293a-161">Numeric types (<xref:System.Numerics.BigInteger>, <xref:System.Byte>, <xref:System.Decimal>, <xref:System.Double>, <xref:System.Int16>, <xref:System.Int32>, <xref:System.Int64>, <xref:System.SByte>, <xref:System.Single>, <xref:System.UInt16>, <xref:System.UInt32>, <xref:System.UInt64>)</span></span>|[<span data-ttu-id="e293a-162">Cadeias de Caracteres de Formato Numérico Padrão</span><span class="sxs-lookup"><span data-stu-id="e293a-162">Standard Numeric Format Strings</span></span>](../../../docs/standard/base-types/standard-numeric-format-strings.md)<br /><br /> [<span data-ttu-id="e293a-163">Cadeias de caracteres de formato numérico personalizado</span><span class="sxs-lookup"><span data-stu-id="e293a-163">Custom Numeric Format Strings</span></span>](../../../docs/standard/base-types/custom-numeric-format-strings.md)|  
|<xref:System.Guid>|<xref:System.Guid.ToString%28System.String%29?displayProperty=nameWithType>|  
|<xref:System.TimeSpan>|[<span data-ttu-id="e293a-164">Cadeias de caracteres de formato TimeSpan padrão</span><span class="sxs-lookup"><span data-stu-id="e293a-164">Standard TimeSpan Format Strings</span></span>](../../../docs/standard/base-types/standard-timespan-format-strings.md)<br /><br /> [<span data-ttu-id="e293a-165">Cadeias de caracteres de formato TimeSpan personalizado</span><span class="sxs-lookup"><span data-stu-id="e293a-165">Custom TimeSpan Format Strings</span></span>](../../../docs/standard/base-types/custom-timespan-format-strings.md)|  
  
### <a name="escaping-braces"></a><span data-ttu-id="e293a-166">Chaves de escape</span><span class="sxs-lookup"><span data-stu-id="e293a-166">Escaping Braces</span></span>  
 <span data-ttu-id="e293a-167">As chaves de abertura e fechamento são interpretadas como o início e o fim de um item de formato.</span><span class="sxs-lookup"><span data-stu-id="e293a-167">Opening and closing braces are interpreted as starting and ending a format item.</span></span> <span data-ttu-id="e293a-168">Consequentemente, você deve usar uma sequência de escape para exibir uma chave de abertura ou fechamento literal.</span><span class="sxs-lookup"><span data-stu-id="e293a-168">Consequently, you must use an escape sequence to display a literal opening brace or closing brace.</span></span> <span data-ttu-id="e293a-169">Especifique duas chaves de abertura ("{{") no texto fixo para exibir uma chave de abertura ("{"), ou duas chaves de fechamento ("}}") para exibir uma chave de fechamento ("}").</span><span class="sxs-lookup"><span data-stu-id="e293a-169">Specify two opening braces ("{{") in the fixed text to display one opening brace ("{"), or two closing braces ("}}") to display one closing brace ("}").</span></span> <span data-ttu-id="e293a-170">As chaves em um item de formato são interpretadas sequencialmente na ordem em que são encontradas.</span><span class="sxs-lookup"><span data-stu-id="e293a-170">Braces in a format item are interpreted sequentially in the order they are encountered.</span></span> <span data-ttu-id="e293a-171">Não há suporte para interpretação de chaves aninhadas.</span><span class="sxs-lookup"><span data-stu-id="e293a-171">Interpreting nested braces is not supported.</span></span>  
  
 <span data-ttu-id="e293a-172">A forma como as chaves de escape são interpretadas pode levar a resultados inesperados.</span><span class="sxs-lookup"><span data-stu-id="e293a-172">The way escaped braces are interpreted can lead to unexpected results.</span></span> <span data-ttu-id="e293a-173">Por exemplo, considere o item de formato "{{{0:D}}}", que deve exibir uma chave de abertura, um valor numérico formatado como número decimal e uma chave de fechamento.</span><span class="sxs-lookup"><span data-stu-id="e293a-173">For example, consider the format item "{{{0:D}}}", which is intended to display an opening brace, a numeric value formatted as a decimal number, and a closing brace.</span></span> <span data-ttu-id="e293a-174">No entanto, o item de formato na verdade é interpretado da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="e293a-174">However, the format item is actually interpreted in the following manner:</span></span>  
  
1.  <span data-ttu-id="e293a-175">As duas primeiras chaves de abertura ("{{") são escapadas e produzem uma chave de abertura.</span><span class="sxs-lookup"><span data-stu-id="e293a-175">The first two opening braces ("{{") are escaped and yield one opening brace.</span></span>  
  
2.  <span data-ttu-id="e293a-176">Os três caracteres seguintes ("{0:") são interpretados como o início de um item de formato.</span><span class="sxs-lookup"><span data-stu-id="e293a-176">The next three characters ("{0:") are interpreted as the start of a format item.</span></span>  
  
3.  <span data-ttu-id="e293a-177">O caractere seguinte ("D") seria interpretado como o especificador de formato numérico Decimal padrão, mas as duas chaves de escape seguintes ("}} ") produzem uma única chave.</span><span class="sxs-lookup"><span data-stu-id="e293a-177">The next character ("D") would be interpreted as the Decimal standard numeric format specifier, but the next two escaped braces ("}}") yield a single brace.</span></span> <span data-ttu-id="e293a-178">Como a cadeia de caracteres resultante ("D}") não é um especificador de formato numérico padrão, ela é interpretada como uma cadeia de formato personalizado que visa exibir a cadeia de caracteres literal "D}".</span><span class="sxs-lookup"><span data-stu-id="e293a-178">Because the resulting string ("D}") is not a standard numeric format specifier, the resulting string is interpreted as a custom format string that means display the literal string "D}".</span></span>  
  
4.  <span data-ttu-id="e293a-179">A última chave ("}") é interpretada como o final do item de formato.</span><span class="sxs-lookup"><span data-stu-id="e293a-179">The last brace ("}") is interpreted as the end of the format item.</span></span>  
  
5.  <span data-ttu-id="e293a-180">O resultado final que é exibido é a cadeia de caracteres literal, "{D}".</span><span class="sxs-lookup"><span data-stu-id="e293a-180">The final result that is displayed is the literal string, "{D}".</span></span> <span data-ttu-id="e293a-181">O valor numérico que deveria ser formatado não é exibido.</span><span class="sxs-lookup"><span data-stu-id="e293a-181">The numeric value that was to be formatted is not displayed.</span></span>  
  
 <span data-ttu-id="e293a-182">Uma maneira de escrever seu código para evitar a interpretação incorreta de chaves de escape e itens de formato é formatar as chaves e os itens de formato separadamente.</span><span class="sxs-lookup"><span data-stu-id="e293a-182">One way to write your code to avoid misinterpreting escaped braces and format items is to format the braces and format item separately.</span></span> <span data-ttu-id="e293a-183">Ou seja, na primeira operação de formato exibir uma chave de abertura literal, na operação seguinte exibir o resultado do item de formato e, na operação final, exibir uma chave de fechamento literal.</span><span class="sxs-lookup"><span data-stu-id="e293a-183">That is, in the first format operation display a literal opening brace, in the next operation display the result of the format item, then in the final operation display a literal closing brace.</span></span> <span data-ttu-id="e293a-184">O exemplo a seguir ilustra esta abordagem.</span><span class="sxs-lookup"><span data-stu-id="e293a-184">The following example illustrates this approach.</span></span>  
  
 [!code-csharp[Formatting.Composite#2](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Escaping1.cs#2)]
 [!code-vb[Formatting.Composite#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Escaping1.vb#2)]  
  
### <a name="processing-order"></a><span data-ttu-id="e293a-185">Ordem de processamento</span><span class="sxs-lookup"><span data-stu-id="e293a-185">Processing Order</span></span>  
 <span data-ttu-id="e293a-186">Se a chamada ao método de formatação composto inclui um argumento <xref:System.IFormatProvider> cujo valor não é `null`, o tempo de execução chama seu método <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> para solicitar uma implementação de <xref:System.ICustomFormatter>.</span><span class="sxs-lookup"><span data-stu-id="e293a-186">If the call to the composite formatting method includes an <xref:System.IFormatProvider> argument whose value is not `null`, the runtime calls its <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> method to request an <xref:System.ICustomFormatter> implementation.</span></span> <span data-ttu-id="e293a-187">Se o método puder retornar uma implementação de <xref:System.ICustomFormatter>, ele será armazenado no cache para uso posterior.</span><span class="sxs-lookup"><span data-stu-id="e293a-187">If the method is able to return an <xref:System.ICustomFormatter> implementation, it is cached for later use.</span></span>  
  
 <span data-ttu-id="e293a-188">Cada valor na lista de parâmetros que corresponder a um item de formato será convertido em uma cadeia de caracteres por meio da execução das etapas a seguir.</span><span class="sxs-lookup"><span data-stu-id="e293a-188">Each value in the parameter list that corresponds to a format item is converted to a string by performing the following steps.</span></span> <span data-ttu-id="e293a-189">Se qualquer condição nas três primeiras etapas for verdadeira, a representação de cadeia de caracteres do valor será retornada nessa etapa e as etapas subsequentes não serão executadas.</span><span class="sxs-lookup"><span data-stu-id="e293a-189">If any condition in the first three steps is true, the string representation of the value is returned in that step, and subsequent steps are not executed.</span></span>  
  
1.  <span data-ttu-id="e293a-190">Se o valor a ser formatado for `null`, uma cadeia de caracteres vazia ("") será retornada.</span><span class="sxs-lookup"><span data-stu-id="e293a-190">If the value to be formatted is `null`, an empty string ("") is returned.</span></span>  
  
2.  <span data-ttu-id="e293a-191">Se uma implementação de <xref:System.ICustomFormatter> estiver disponível, o tempo de execução chamará seu método <xref:System.ICustomFormatter.Format%2A>.</span><span class="sxs-lookup"><span data-stu-id="e293a-191">If an <xref:System.ICustomFormatter> implementation is available, the runtime calls its <xref:System.ICustomFormatter.Format%2A> method.</span></span> <span data-ttu-id="e293a-192">Passa ao método o valor *formatString* do item de formato, se há algum presente, ou `null` quando não há, junto com a implementação de <xref:System.IFormatProvider>.</span><span class="sxs-lookup"><span data-stu-id="e293a-192">It passes the method the format item's *formatString* value, if one is present, or `null` if it is not, along with the <xref:System.IFormatProvider> implementation.</span></span>  
  
3.  <span data-ttu-id="e293a-193">Se o valor implementa a interface <xref:System.IFormattable>, o método <xref:System.IFormattable.ToString%28System.String%2CSystem.IFormatProvider%29> da interface é chamado.</span><span class="sxs-lookup"><span data-stu-id="e293a-193">If the value implements the <xref:System.IFormattable> interface, the interface's <xref:System.IFormattable.ToString%28System.String%2CSystem.IFormatProvider%29> method is called.</span></span> <span data-ttu-id="e293a-194">O método recebe o valor *formatString*, se houver um presente no item de formato ou `null`, se não houver.</span><span class="sxs-lookup"><span data-stu-id="e293a-194">The method is passed the *formatString* value, if one is present in the format item, or `null` if it is not.</span></span> <span data-ttu-id="e293a-195">O argumento <xref:System.IFormatProvider> é determinado da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="e293a-195">The <xref:System.IFormatProvider> argument is determined as follows:</span></span>  
  
    -   <span data-ttu-id="e293a-196">Para um valor numérico, se um método de formatação composto com um argumento <xref:System.IFormatProvider> não nulo é chamado, o tempo de execução solicita um objeto <xref:System.Globalization.NumberFormatInfo> do seu método <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e293a-196">For a numeric value, if a composite formatting method with a non-null <xref:System.IFormatProvider> argument is called, the runtime requests a <xref:System.Globalization.NumberFormatInfo> object from its <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="e293a-197">Se ele não for capaz de fornecer um, se o valor do argumento for `null` ou se o método de formatação composto não tiver um parâmetro <xref:System.IFormatProvider>, o objeto <xref:System.Globalization.NumberFormatInfo> para a cultura do thread atual será usado.</span><span class="sxs-lookup"><span data-stu-id="e293a-197">If it is unable to supply one, if the value of the argument is `null`, or if the composite formatting method does not have an <xref:System.IFormatProvider> parameter, the <xref:System.Globalization.NumberFormatInfo> object for the current thread culture is used.</span></span>  
  
    -   <span data-ttu-id="e293a-198">Para um valor de data e hora, se um método de formatação composto com um argumento <xref:System.IFormatProvider> não nulo é chamado, o tempo de execução solicita um objeto <xref:System.Globalization.DateTimeFormatInfo> do seu método <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e293a-198">For a date and time value, if a composite formatting method with a non-null <xref:System.IFormatProvider> argument is called, the runtime requests a <xref:System.Globalization.DateTimeFormatInfo> object from its <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="e293a-199">Se ele não for capaz de fornecer um, se o valor do argumento for `null` ou se o método de formatação composto não tiver um parâmetro <xref:System.IFormatProvider>, o objeto <xref:System.Globalization.DateTimeFormatInfo> para a cultura do thread atual será usado.</span><span class="sxs-lookup"><span data-stu-id="e293a-199">If it is unable to supply one, if the value of the argument is `null`, or if the composite formatting method does not have an <xref:System.IFormatProvider> parameter, the <xref:System.Globalization.DateTimeFormatInfo> object for the current thread culture is used.</span></span>  
  
    -   <span data-ttu-id="e293a-200">Para objetos de outros tipos, se uma formatação composta for chamada com um argumento <xref:System.IFormatProvider>, seu valor (incluindo `null`, se nenhum objeto <xref:System.IFormatProvider> é fornecido) é passado diretamente para a implementação de <xref:System.IFormattable.ToString%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e293a-200">For objects of other types, if a composite formatting is called with an <xref:System.IFormatProvider> argument, its value (including a `null`, if no <xref:System.IFormatProvider> object is supplied) is passed directly to the <xref:System.IFormattable.ToString%2A?displayProperty=nameWithType> implementation.</span></span>  <span data-ttu-id="e293a-201">Caso contrário, um objeto <xref:System.Globalization.CultureInfo> que representa a cultura atual do thread é passado para a implementação de <xref:System.IFormattable.ToString%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e293a-201">Otherwise, a <xref:System.Globalization.CultureInfo> object that represents the current thread culture is passed to the <xref:System.IFormattable.ToString%2A?displayProperty=nameWithType> implementation.</span></span>  
  
4.  <span data-ttu-id="e293a-202">O método sem parâmetros `ToString` do tipo, o qual substitui <xref:System.Object.ToString?displayProperty=nameWithType> ou herda o comportamento da sua classe base, é chamado.</span><span class="sxs-lookup"><span data-stu-id="e293a-202">The type's parameterless `ToString` method, which either overrides <xref:System.Object.ToString?displayProperty=nameWithType> or inherits the behavior of its base class, is called.</span></span> <span data-ttu-id="e293a-203">Nesse caso, a cadeia de caracteres de formato especificada pelo componente *formatString* no item de formato, se houver, será ignorada.</span><span class="sxs-lookup"><span data-stu-id="e293a-203">In this case, the format string specified by the *formatString* component in the format item, if it is present, is ignored.</span></span>  
  
 <span data-ttu-id="e293a-204">O alinhamento é aplicado após as etapas anteriores terem sido executadas.</span><span class="sxs-lookup"><span data-stu-id="e293a-204">Alignment is applied after the preceding steps have been performed.</span></span>  
  
## <a name="code-examples"></a><span data-ttu-id="e293a-205">Exemplos de código</span><span class="sxs-lookup"><span data-stu-id="e293a-205">Code Examples</span></span>  
 <span data-ttu-id="e293a-206">O exemplo a seguir mostra uma cadeia de caracteres criada usando formatação de composição e outra criada usando o método `ToString` de um objeto.</span><span class="sxs-lookup"><span data-stu-id="e293a-206">The following example shows one string created using composite formatting and another created using an object's `ToString` method.</span></span> <span data-ttu-id="e293a-207">Os dois tipos de formatação produzem resultados equivalentes.</span><span class="sxs-lookup"><span data-stu-id="e293a-207">Both types of formatting produce equivalent results.</span></span>  
  
 [!code-csharp[Formatting.Composite#3](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Composite1.cs#3)]
 [!code-vb[Formatting.Composite#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Composite1.vb#3)]  
  
 <span data-ttu-id="e293a-208">Supondo que o dia atual seja uma quinta-feira de maio, o valor de ambas as cadeias de caracteres no exemplo anterior será `Thursday May` na cultura do inglês nos EUA.</span><span class="sxs-lookup"><span data-stu-id="e293a-208">Assuming that the current day is a Thursday in May, the value of both strings in the preceding example is `Thursday May` in the U.S. English culture.</span></span>  
  
 <span data-ttu-id="e293a-209"><xref:System.Console.WriteLine%2A?displayProperty=nameWithType> expõe a mesma funcionalidade que <xref:System.String.Format%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e293a-209"><xref:System.Console.WriteLine%2A?displayProperty=nameWithType> exposes the same functionality as <xref:System.String.Format%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="e293a-210">A única diferença entre os dois métodos é que <xref:System.String.Format%2A?displayProperty=nameWithType> retorna o resultado como uma cadeia de caracteres, enquanto que <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> grava o resultado no fluxo de saída associado ao objeto <xref:System.Console>.</span><span class="sxs-lookup"><span data-stu-id="e293a-210">The only difference between the two methods is that <xref:System.String.Format%2A?displayProperty=nameWithType> returns its result as a string, while <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> writes the result to the output stream associated with the <xref:System.Console> object.</span></span> <span data-ttu-id="e293a-211">O exemplo a seguir usa o método <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> para formatar o valor de `MyInt` como um valor de moeda.</span><span class="sxs-lookup"><span data-stu-id="e293a-211">The following example uses the <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> method to format the value of `MyInt` to a currency value.</span></span>  
  
 [!code-csharp[Formatting.Composite#4](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Composite1.cs#4)]
 [!code-vb[Formatting.Composite#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Composite1.vb#4)]  
  
 <span data-ttu-id="e293a-212">O exemplo a seguir demonstra a formatação de vários objetos, incluindo a formatação de um objeto de duas maneiras diferentes.</span><span class="sxs-lookup"><span data-stu-id="e293a-212">The following example demonstrates formatting multiple objects, including formatting one object two different ways.</span></span>  
  
 [!code-csharp[Formatting.Composite#5](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Composite1.cs#5)]
 [!code-vb[Formatting.Composite#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Composite1.vb#5)]  
  
 <span data-ttu-id="e293a-213">O exemplo a seguir demonstra o uso de alinhamento na formatação.</span><span class="sxs-lookup"><span data-stu-id="e293a-213">The following example demonstrates the use of alignment in formatting.</span></span> <span data-ttu-id="e293a-214">Os argumentos formatados são colocados entre caracteres de barra vertical (&#124;) para realçar o alinhamento resultante.</span><span class="sxs-lookup"><span data-stu-id="e293a-214">The arguments that are formatted are placed between vertical bar characters (&#124;) to highlight the resulting alignment.</span></span>  
  
 [!code-csharp[Formatting.Composite#6](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Composite1.cs#6)]
 [!code-vb[Formatting.Composite#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Composite1.vb#6)]  
  
## <a name="see-also"></a><span data-ttu-id="e293a-215">Consulte também</span><span class="sxs-lookup"><span data-stu-id="e293a-215">See Also</span></span>  
 <xref:System.Console.WriteLine%2A>  
 <xref:System.String.Format%2A?displayProperty=nameWithType>  
 [<span data-ttu-id="e293a-216">Interpolação de cadeia de caracteres (C#)</span><span class="sxs-lookup"><span data-stu-id="e293a-216">String interpolation (C#)</span></span>](../../csharp/language-reference/tokens/interpolated.md)  
 [<span data-ttu-id="e293a-217">Interpolação de cadeia de caracteres (Visual Basic)</span><span class="sxs-lookup"><span data-stu-id="e293a-217">String interpolation (Visual Basic)</span></span>](../../visual-basic/programming-guide/language-features/strings/interpolated-strings.md)  
 [<span data-ttu-id="e293a-218">Formatando Tipos</span><span class="sxs-lookup"><span data-stu-id="e293a-218">Formatting Types</span></span>](../../../docs/standard/base-types/formatting-types.md)  
 [<span data-ttu-id="e293a-219">Cadeias de Caracteres de Formato Numérico Padrão</span><span class="sxs-lookup"><span data-stu-id="e293a-219">Standard Numeric Format Strings</span></span>](../../../docs/standard/base-types/standard-numeric-format-strings.md)  
 [<span data-ttu-id="e293a-220">Cadeias de caracteres de formato numérico personalizado</span><span class="sxs-lookup"><span data-stu-id="e293a-220">Custom Numeric Format Strings</span></span>](../../../docs/standard/base-types/custom-numeric-format-strings.md)  
 [<span data-ttu-id="e293a-221">Cadeias de caracteres de formato de data e hora padrão</span><span class="sxs-lookup"><span data-stu-id="e293a-221">Standard Date and Time Format Strings</span></span>](../../../docs/standard/base-types/standard-date-and-time-format-strings.md)  
 [<span data-ttu-id="e293a-222">Cadeias de caracteres de formato de data e hora personalizado</span><span class="sxs-lookup"><span data-stu-id="e293a-222">Custom Date and Time Format Strings</span></span>](../../../docs/standard/base-types/custom-date-and-time-format-strings.md)  
 [<span data-ttu-id="e293a-223">Cadeias de caracteres de formato TimeSpan padrão</span><span class="sxs-lookup"><span data-stu-id="e293a-223">Standard TimeSpan Format Strings</span></span>](../../../docs/standard/base-types/standard-timespan-format-strings.md)  
 [<span data-ttu-id="e293a-224">Cadeias de caracteres de formato TimeSpan personalizado</span><span class="sxs-lookup"><span data-stu-id="e293a-224">Custom TimeSpan Format Strings</span></span>](../../../docs/standard/base-types/custom-timespan-format-strings.md)  
 [<span data-ttu-id="e293a-225">Cadeias de Caracteres de Formato de Enumeração</span><span class="sxs-lookup"><span data-stu-id="e293a-225">Enumeration Format Strings</span></span>](../../../docs/standard/base-types/enumeration-format-strings.md)
