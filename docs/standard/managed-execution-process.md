---
title: "Processo de execução gerenciada"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- source code language
- code, managed execution process
- runtime, managed execution process
- compiling source code, managed execution process
- managed execution process
- common language runtime, managed execution process
ms.assetid: 476b03dc-2b12-49a7-b067-41caeaa2f533
caps.latest.revision: "20"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: a47761acfabd3de77d65483d50fbe7a77f96e076
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/21/2017
---
# <a name="managed-execution-process"></a><span data-ttu-id="e6af0-102">Processo de execução gerenciada</span><span class="sxs-lookup"><span data-stu-id="e6af0-102">Managed Execution Process</span></span>
<a name="introduction"></a> <span data-ttu-id="e6af0-103">O processo de execução gerenciada inclui as seguintes etapas, que serão discutidas em detalhes mais adiante neste tópico:</span><span class="sxs-lookup"><span data-stu-id="e6af0-103">The managed execution process includes the following steps, which are discussed in detail later in this topic:</span></span>  
  
1.  <span data-ttu-id="e6af0-104">[Escolhendo um compilador](#choosing_a_compiler).</span><span class="sxs-lookup"><span data-stu-id="e6af0-104">[Choosing a compiler](#choosing_a_compiler).</span></span>  
  
     <span data-ttu-id="e6af0-105">Para obter as vantagens fornecidas pelo Common Language Runtime, você deve usar um ou mais compiladores de linguagem que selecionam o tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="e6af0-105">To obtain the benefits provided by the common language runtime, you must use one or more language compilers that target the runtime.</span></span>  
  
2.  <span data-ttu-id="e6af0-106">[Compilando seu código em MSIL](#compiling_to_msil).</span><span class="sxs-lookup"><span data-stu-id="e6af0-106">[Compiling your code to MSIL](#compiling_to_msil).</span></span>  
  
     <span data-ttu-id="e6af0-107">A compilação converte seu código-fonte em MSIL (Microsoft Intermediate Language) e gera os metadados necessários.</span><span class="sxs-lookup"><span data-stu-id="e6af0-107">Compiling translates your source code into Microsoft intermediate language (MSIL) and generates the required metadata.</span></span>  
  
3.  <span data-ttu-id="e6af0-108">[Compilando MSIL em código nativo](#compiling_msil_to_native_code).</span><span class="sxs-lookup"><span data-stu-id="e6af0-108">[Compiling MSIL to native code](#compiling_msil_to_native_code).</span></span>  
  
     <span data-ttu-id="e6af0-109">No tempo de execução, uma compilação JIT (just-in-time) converte o MSIL em código nativo.</span><span class="sxs-lookup"><span data-stu-id="e6af0-109">At execution time, a just-in-time (JIT) compiler translates the MSIL into native code.</span></span> <span data-ttu-id="e6af0-110">Durante essa compilação, o código deve passar por um processo de verificação que examina o MSIL e os metadados para descobrir se o código pode ser considerado fortemente tipado.</span><span class="sxs-lookup"><span data-stu-id="e6af0-110">During this compilation, code must pass a verification process that examines the MSIL and metadata to find out whether the code can be determined to be type safe.</span></span>  
  
4.  <span data-ttu-id="e6af0-111">[Executando o código](#running_code).</span><span class="sxs-lookup"><span data-stu-id="e6af0-111">[Running code](#running_code).</span></span>  
  
     <span data-ttu-id="e6af0-112">O Common Language Runtime fornece a infraestrutura que permite que a execução ocorra e os serviços que podem ser usados durante a execução.</span><span class="sxs-lookup"><span data-stu-id="e6af0-112">The common language runtime provides the infrastructure that enables execution to take place and services that can be used during execution.</span></span>  
  
<a name="choosing_a_compiler"></a>   
## <a name="choosing-a-compiler"></a><span data-ttu-id="e6af0-113">Escolhendo um compilador</span><span class="sxs-lookup"><span data-stu-id="e6af0-113">Choosing a Compiler</span></span>  
 <span data-ttu-id="e6af0-114">Para obter as vantagens fornecidas pelo CLR (Common Language Runtime), você deve usar um ou mais compiladores de linguagem que direcionam o tempo de execução, como Visual Basic, C#, Visual C++, F# ou um dos muitos compiladores de terceiros como um Eiffel, um Perl ou um compilador COBOL.</span><span class="sxs-lookup"><span data-stu-id="e6af0-114">To obtain the benefits provided by the common language runtime (CLR), you must use one or more language compilers that target the runtime, such as Visual Basic, C#, Visual C++, F#, or one of many third-party compilers such as an Eiffel, Perl, or COBOL compiler.</span></span>  
  
 <span data-ttu-id="e6af0-115">Por ser um ambiente de execução multilíngue, o tempo de execução dá suporte a uma grande variedade de tipos de dados e recursos de linguagem.</span><span class="sxs-lookup"><span data-stu-id="e6af0-115">Because it is a multilanguage execution environment, the runtime supports a wide variety of data types and language features.</span></span> <span data-ttu-id="e6af0-116">O compilador de linguagem que você usa determina quais recursos do tempo de execução estão disponíveis, e você cria seu código usando esses recursos.</span><span class="sxs-lookup"><span data-stu-id="e6af0-116">The language compiler you use determines which runtime features are available, and you design your code using those features.</span></span> <span data-ttu-id="e6af0-117">O seu compilador, e não o tempo de execução, estabelece a sintaxe que seu código deve usar.</span><span class="sxs-lookup"><span data-stu-id="e6af0-117">Your compiler, not the runtime, establishes the syntax your code must use.</span></span> <span data-ttu-id="e6af0-118">Se o componente deve ser completamente utilizável por componentes escritos em outras linguagens, os tipos exportados do seu componente devem expor somente recursos de linguagem incluídos na [Independência de linguagem e componentes independentes de linguagem](../../docs/standard/language-independence-and-language-independent-components.md) (CLS).</span><span class="sxs-lookup"><span data-stu-id="e6af0-118">If your component must be completely usable by components written in other languages, your component's exported types must expose only language features that are included in the [Language Independence and Language-Independent Components](../../docs/standard/language-independence-and-language-independent-components.md) (CLS).</span></span> <span data-ttu-id="e6af0-119">Você pode usar o atributo <xref:System.CLSCompliantAttribute> para garantir que seu código seja compatível com CLS.</span><span class="sxs-lookup"><span data-stu-id="e6af0-119">You can use the <xref:System.CLSCompliantAttribute> attribute to ensure that your code is CLS-compliant.</span></span> <span data-ttu-id="e6af0-120">Para saber mais, veja [Componentes de independência de linguagem e componentes independentes da linguagem](../../docs/standard/language-independence-and-language-independent-components.md).</span><span class="sxs-lookup"><span data-stu-id="e6af0-120">For more information, see [Language Independence and Language-Independent Components](../../docs/standard/language-independence-and-language-independent-components.md).</span></span>  
  
 [<span data-ttu-id="e6af0-121">Voltar ao início</span><span class="sxs-lookup"><span data-stu-id="e6af0-121">Back to top</span></span>](#introduction)  
  
<a name="compiling_to_msil"></a>   
## <a name="compiling-to-msil"></a><span data-ttu-id="e6af0-122">Compilando para MSIL</span><span class="sxs-lookup"><span data-stu-id="e6af0-122">Compiling to MSIL</span></span>  
 <span data-ttu-id="e6af0-123">Quando compila para o código gerenciado, o compilador converte seu código fonte em MSIL, que é um conjunto de instruções independente de CPU que pode ser convertido em código nativo com eficiência.</span><span class="sxs-lookup"><span data-stu-id="e6af0-123">When compiling to managed code, the compiler translates your source code into Microsoft intermediate language (MSIL), which is a CPU-independent set of instructions that can be efficiently converted to native code.</span></span> <span data-ttu-id="e6af0-124">O MSIL inclui instruções para carregamento, armazenamento, inicialização e chamada de métodos em objetos, bem como instruções para operações aritméticas e lógicas, fluxo de controle, acesso direto à memória, tratamento de exceções e outras operações.</span><span class="sxs-lookup"><span data-stu-id="e6af0-124">MSIL includes instructions for loading, storing, initializing, and calling methods on objects, as well as instructions for arithmetic and logical operations, control flow, direct memory access, exception handling, and other operations.</span></span> <span data-ttu-id="e6af0-125">Para o código ser executado, a MSIL deve ser convertida em código específico de CPU, geralmente por um [Compilador JIT (Just-In-Time)](#compiling_msil_to_native_code).</span><span class="sxs-lookup"><span data-stu-id="e6af0-125">Before code can be run, MSIL must be converted to CPU-specific code, usually by a [just-in-time (JIT) compiler](#compiling_msil_to_native_code).</span></span> <span data-ttu-id="e6af0-126">Como o Common Language Runtime fornece um ou mais compiladores JIT para cada arquitetura de computador para a qual dá suporte, o mesmo conjunto de MSIL pode ser compilado por JIT e executado em qualquer arquitetura compatível.</span><span class="sxs-lookup"><span data-stu-id="e6af0-126">Because the common language runtime supplies one or more JIT compilers for each computer architecture it supports, the same set of MSIL can be JIT-compiled and run on any supported architecture.</span></span>  
  
 <span data-ttu-id="e6af0-127">Quando um compilador produz MSIL, ele também produz metadados.</span><span class="sxs-lookup"><span data-stu-id="e6af0-127">When a compiler produces MSIL, it also produces metadata.</span></span> <span data-ttu-id="e6af0-128">Metadados descrevem os tipos no seu código, incluindo a definição de cada tipo, as assinaturas de membros de cada tipo, os membros que seu código referencia e outros dados que o tempo de execução usa no tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="e6af0-128">Metadata describes the types in your code, including the definition of each type, the signatures of each type's members, the members that your code references, and other data that the runtime uses at execution time.</span></span> <span data-ttu-id="e6af0-129">O MSIL e os metadados estão contidos em um arquivo PE (Portable Executable) com base no e que estende o arquivo PE Microsoft publicado e o COFF (Common Object File Format) usados historicamente no conteúdo executável.</span><span class="sxs-lookup"><span data-stu-id="e6af0-129">The MSIL and metadata are contained in a portable executable (PE) file that is based on and that extends the published Microsoft PE and common object file format (COFF) used historically for executable content.</span></span> <span data-ttu-id="e6af0-130">Esse formato de arquivo, que acomoda MSIL ou código nativo, bem como metadados, permite ao sistema operacional reconhecer imagens do Common Language Runtime.</span><span class="sxs-lookup"><span data-stu-id="e6af0-130">This file format, which accommodates MSIL or native code as well as metadata, enables the operating system to recognize common language runtime images.</span></span> <span data-ttu-id="e6af0-131">A presença de metadados no arquivo com MSIL permite que seu código se descreva, o que significa que não há necessidade de bibliotecas de tipos ou IDL (Interface Definition Language).</span><span class="sxs-lookup"><span data-stu-id="e6af0-131">The presence of metadata in the file together with MSIL enables your code to describe itself, which means that there is no need for type libraries or Interface Definition Language (IDL).</span></span> <span data-ttu-id="e6af0-132">O tempo de execução localiza e extrai os metadados do arquivo conforme necessário durante a execução.</span><span class="sxs-lookup"><span data-stu-id="e6af0-132">The runtime locates and extracts the metadata from the file as needed during execution.</span></span>  
  
 [<span data-ttu-id="e6af0-133">Voltar ao início</span><span class="sxs-lookup"><span data-stu-id="e6af0-133">Back to top</span></span>](#introduction)  
  
<a name="compiling_msil_to_native_code"></a>   
## <a name="compiling-msil-to-native-code"></a><span data-ttu-id="e6af0-134">Compilando MSIL para código nativo</span><span class="sxs-lookup"><span data-stu-id="e6af0-134">Compiling MSIL to Native Code</span></span>  
 <span data-ttu-id="e6af0-135">Para executar o MSIL, ele deve ser compilado no CLR para código nativo da arquitetura do computador de destino.</span><span class="sxs-lookup"><span data-stu-id="e6af0-135">Before you can run Microsoft intermediate language (MSIL), it must be compiled against the common language runtime to native code for the target machine architecture.</span></span> <span data-ttu-id="e6af0-136">O [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] fornece duas maneiras para realizar essa conversão:</span><span class="sxs-lookup"><span data-stu-id="e6af0-136">The [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] provides two ways to perform this conversion:</span></span>  
  
-   <span data-ttu-id="e6af0-137">Um compilador JIT (just-in-time) do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="e6af0-137">A .NET Framework just-in-time (JIT) compiler.</span></span>  
  
-   <span data-ttu-id="e6af0-138">O [Ngen.exe (Gerador de Imagem Nativa)](../../docs/framework/tools/ngen-exe-native-image-generator.md) do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="e6af0-138">The .NET Framework [Ngen.exe (Native Image Generator)](../../docs/framework/tools/ngen-exe-native-image-generator.md).</span></span>  
  
### <a name="compilation-by-the-jit-compiler"></a><span data-ttu-id="e6af0-139">Compilação pelo compilador JIT</span><span class="sxs-lookup"><span data-stu-id="e6af0-139">Compilation by the JIT Compiler</span></span>  
 <span data-ttu-id="e6af0-140">A compilação JIT converte MSIL para código nativo sob demanda no tempo de execução do aplicativo, quando o conteúdo de um assembly é carregado e executado.</span><span class="sxs-lookup"><span data-stu-id="e6af0-140">JIT compilation converts MSIL to native code on demand at application run time, when the contents of an assembly are loaded and executed.</span></span> <span data-ttu-id="e6af0-141">Como o CLR fornece um compilador JIT para cada arquitetura de CPU compatível, os desenvolvedores podem compilar um conjunto de assemblies MSIL que pode ser compilado pelo JIT e executado em diferentes computadores com arquiteturas diferentes.</span><span class="sxs-lookup"><span data-stu-id="e6af0-141">Because the common language runtime supplies a JIT compiler for each supported CPU architecture, developers can build a set of MSIL assemblies that can be JIT-compiled and run on different computers with different machine architectures.</span></span> <span data-ttu-id="e6af0-142">No entanto, se seu código gerenciado chama APIs nativas específicas da plataforma ou uma biblioteca de classes específica da plataforma, ele será executado somente nesse sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="e6af0-142">However, if your managed code calls platform-specific native APIs or a platform-specific class library, it will run only on that operating system.</span></span>  
  
 <span data-ttu-id="e6af0-143">A compilação JIT leva em conta a possibilidade de um código jamais ser chamado durante a execução.</span><span class="sxs-lookup"><span data-stu-id="e6af0-143">JIT compilation takes into account the possibility that some code might never be called during execution.</span></span> <span data-ttu-id="e6af0-144">Em vez de usar o tempo e a memória para converter todo o MSIL em um arquivo PE para código nativo, ele converte o MSIL conforme necessário durante a execução e armazena o código nativo resultante na memória de forma que seja acessível para chamadas subsequentes no contexto desse processo.</span><span class="sxs-lookup"><span data-stu-id="e6af0-144">Instead of using time and memory to convert all the MSIL in a PE file to native code, it converts the MSIL as needed during execution and stores the resulting native code in memory so that it is accessible for subsequent calls in the context of that process.</span></span> <span data-ttu-id="e6af0-145">O carregador cria e anexa um stub para cada método em um tipo quando o tipo é carregado e inicializado.</span><span class="sxs-lookup"><span data-stu-id="e6af0-145">The loader creates and attaches a stub to each method in a type when the type is loaded and initialized.</span></span> <span data-ttu-id="e6af0-146">Quando um método é chamado pela primeira vez, o stub passa o controle para o compilador JIT, que converte o MSIL para esse método em código nativo e modifica o stub para apontar diretamente para o código nativo gerado.</span><span class="sxs-lookup"><span data-stu-id="e6af0-146">When a method is called for the first time, the stub passes control to the JIT compiler, which converts the MSIL for that method into native code and modifies the stub to point directly to the generated native code.</span></span> <span data-ttu-id="e6af0-147">Portanto, as chamadas subsequentes para o método compilado por JIT vão diretamente para o código nativo.</span><span class="sxs-lookup"><span data-stu-id="e6af0-147">Therefore, subsequent calls to the JIT-compiled method go directly to the native code.</span></span>  
  
### <a name="install-time-code-generation-using-ngenexe"></a><span data-ttu-id="e6af0-148">Geração de código do tempo de instalação usando NGen.exe</span><span class="sxs-lookup"><span data-stu-id="e6af0-148">Install-Time Code Generation Using NGen.exe</span></span>  
 <span data-ttu-id="e6af0-149">Como o compilador JIT converte o MSIL do assembly para código nativo quando métodos individuais definidos nesse assembly são chamados, ele afeta o desempenho negativamente no tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="e6af0-149">Because the JIT compiler converts an assembly's MSIL to native code when individual methods defined in that assembly are called, it affects performance adversely at run time.</span></span> <span data-ttu-id="e6af0-150">Na maioria dos casos, esse desempenho diminuído é aceitável.</span><span class="sxs-lookup"><span data-stu-id="e6af0-150">In most cases, that diminished performance is acceptable.</span></span> <span data-ttu-id="e6af0-151">Mais importante, o código gerado pelo compilador JIT é associado ao processo que disparou a compilação.</span><span class="sxs-lookup"><span data-stu-id="e6af0-151">More importantly, the code generated by the JIT compiler is bound to the process that triggered the compilation.</span></span> <span data-ttu-id="e6af0-152">Ele não pode ser compartilhado por vários processos.</span><span class="sxs-lookup"><span data-stu-id="e6af0-152">It cannot be shared across multiple processes.</span></span> <span data-ttu-id="e6af0-153">Para permitir que o código gerado seja compartilhado por várias invocações de um aplicativo ou por vários processos que compartilham um conjunto de assemblies, o CLR dá suporte a um modo de compilação antecipado.</span><span class="sxs-lookup"><span data-stu-id="e6af0-153">To allow the generated code to be shared across multiple invocations of an application or across multiple processes that share a set of assemblies, the common language runtime supports an ahead-of-time compilation mode.</span></span> <span data-ttu-id="e6af0-154">Esse modo de compilação Ahead Of Time usa o [Ngen.exe (Gerador de Imagem Nativa)](../../docs/framework/tools/ngen-exe-native-image-generator.md) para converter assemblies MSIL em código nativo de maneira semelhante ao compilador JIT.</span><span class="sxs-lookup"><span data-stu-id="e6af0-154">This ahead-of-time compilation mode uses the [Ngen.exe (Native Image Generator)](../../docs/framework/tools/ngen-exe-native-image-generator.md) to convert MSIL assemblies to native code much like the JIT compiler does.</span></span> <span data-ttu-id="e6af0-155">No entanto, a operação de Ngen.exe é diferente da operação do compilador JIT de três maneiras:</span><span class="sxs-lookup"><span data-stu-id="e6af0-155">However, the operation of Ngen.exe differs from that of the JIT compiler in three ways:</span></span>  
  
-   <span data-ttu-id="e6af0-156">Ele executa a conversão do MSIL em código nativo antes de executar o aplicativo, e não durante a execução do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e6af0-156">It performs the conversion from MSIL to native code before running the application instead of while the application is running.</span></span>  
  
-   <span data-ttu-id="e6af0-157">Ele cria um assembly inteiro por vez, em vez de um método de cada vez.</span><span class="sxs-lookup"><span data-stu-id="e6af0-157">It compiles an entire assembly at a time, instead of one method at a time.</span></span>  
  
-   <span data-ttu-id="e6af0-158">Ele mantém o código gerado no Cache de Imagem Nativa como um arquivo no disco.</span><span class="sxs-lookup"><span data-stu-id="e6af0-158">It persists the generated code in the Native Image Cache as a file on disk.</span></span>  
  
### <a name="code-verification"></a><span data-ttu-id="e6af0-159">Verificação de código</span><span class="sxs-lookup"><span data-stu-id="e6af0-159">Code Verification</span></span>  
 <span data-ttu-id="e6af0-160">Como parte de sua compilação para código nativo, o código MSIL deve passar por um processo de verificação, a menos que um administrador estabeleça uma política de segurança permitindo que o código ignore a verificação.</span><span class="sxs-lookup"><span data-stu-id="e6af0-160">As part of its compilation to native code, the MSIL code must pass a verification process unless an administrator has established a security policy that allows the code to bypass verification.</span></span> <span data-ttu-id="e6af0-161">A verificação examina o MSIL e os metadados para descobrir se o código é fortemente tipado, o que significa que ele acessa apenas os locais de memória que está autorizado a acessar.</span><span class="sxs-lookup"><span data-stu-id="e6af0-161">Verification examines MSIL and metadata to find out whether the code is type safe, which means that it accesses only the memory locations it is authorized to access.</span></span> <span data-ttu-id="e6af0-162">A segurança de tipo ajuda a isolar objetos uns dos outros e a protegê-los de danos não intencionais ou corrupção mal-intencionada.</span><span class="sxs-lookup"><span data-stu-id="e6af0-162">Type safety helps isolate objects from each other and helps protect them from inadvertent or malicious corruption.</span></span> <span data-ttu-id="e6af0-163">Ela também dá garantia de que restrições de segurança no código possam ser aplicadas confiavelmente.</span><span class="sxs-lookup"><span data-stu-id="e6af0-163">It also provides assurance that security restrictions on code can be reliably enforced.</span></span>  
  
 <span data-ttu-id="e6af0-164">O tempo de execução depende das seguintes declarações serem verdadeiras para o código que é comprovadamente fortemente tipado:</span><span class="sxs-lookup"><span data-stu-id="e6af0-164">The runtime relies on the fact that the following statements are true for code that is verifiably type safe:</span></span>  
  
-   <span data-ttu-id="e6af0-165">Uma referência a um tipo é estritamente compatível com o tipo que está sendo referenciado.</span><span class="sxs-lookup"><span data-stu-id="e6af0-165">A reference to a type is strictly compatible with the type being referenced.</span></span>  
  
-   <span data-ttu-id="e6af0-166">Somente operações definidas adequadamente são invocadas em um objeto.</span><span class="sxs-lookup"><span data-stu-id="e6af0-166">Only appropriately defined operations are invoked on an object.</span></span>  
  
-   <span data-ttu-id="e6af0-167">Identidades são o que elas afirmam ser.</span><span class="sxs-lookup"><span data-stu-id="e6af0-167">Identities are what they claim to be.</span></span>  
  
 <span data-ttu-id="e6af0-168">Durante o processo de verificação, o código MSIL é examinado em uma tentativa de confirmar que o código possa acessar locais de memória e chamar métodos apenas por tipos corretamente definidos.</span><span class="sxs-lookup"><span data-stu-id="e6af0-168">During the verification process, MSIL code is examined in an attempt to confirm that the code can access memory locations and call methods only through properly defined types.</span></span> <span data-ttu-id="e6af0-169">Por exemplo, o código não pode permitir que campos de um objeto sejam acessados de uma maneira que permita que locais de memória sejam saturados.</span><span class="sxs-lookup"><span data-stu-id="e6af0-169">For example, code cannot allow an object's fields to be accessed in a manner that allows memory locations to be overrun.</span></span> <span data-ttu-id="e6af0-170">Além disso, a verificação inspeciona o código para determinar se o MSIL foi corretamente gerado, porque MSIL incorreto pode levar a uma violação das regras de segurança de tipos.</span><span class="sxs-lookup"><span data-stu-id="e6af0-170">Additionally, verification inspects code to determine whether the MSIL has been correctly generated, because incorrect MSIL can lead to a violation of the type safety rules.</span></span> <span data-ttu-id="e6af0-171">O processo de verificação passa um conjunto bem definido de código fortemente tipado, e ele passa apenas código fortemente tipado.</span><span class="sxs-lookup"><span data-stu-id="e6af0-171">The verification process passes a well-defined set of type-safe code, and it passes only code that is type safe.</span></span> <span data-ttu-id="e6af0-172">Entretanto, alguns códigos fortemente tipados podem não passar nessa verificação devido às limitações do processo de verificação, e algumas linguagens, por projeto, não produzem código fortemente tipado verificável.</span><span class="sxs-lookup"><span data-stu-id="e6af0-172">However, some type-safe code might not pass verification because of some limitations of the verification process, and some languages, by design, do not produce verifiably type-safe code.</span></span> <span data-ttu-id="e6af0-173">Se o código fortemente tipado for exigido pela política de segurança mas o código não passar pela verificação, uma exceção será lançada quando o código for executado.</span><span class="sxs-lookup"><span data-stu-id="e6af0-173">If type-safe code is required by the security policy but the code does not pass verification, an exception is thrown when the code is run.</span></span>  
  
 [<span data-ttu-id="e6af0-174">Voltar ao início</span><span class="sxs-lookup"><span data-stu-id="e6af0-174">Back to top</span></span>](#introduction)  
  
<a name="running_code"></a>   
## <a name="running-code"></a><span data-ttu-id="e6af0-175">Executando o código</span><span class="sxs-lookup"><span data-stu-id="e6af0-175">Running Code</span></span>  
 <span data-ttu-id="e6af0-176">O CLR fornece a infraestrutura que permite que a execução gerenciada ocorra e os serviços que podem ser usados durante a execução.</span><span class="sxs-lookup"><span data-stu-id="e6af0-176">The common language runtime provides the infrastructure that enables managed execution to take place and services that can be used during execution.</span></span> <span data-ttu-id="e6af0-177">Para um método ser executado, ele deve ser compilado para o código específico do processador.</span><span class="sxs-lookup"><span data-stu-id="e6af0-177">Before a method can be run, it must be compiled to processor-specific code.</span></span> <span data-ttu-id="e6af0-178">Cada método para MSIL gerado é compilado por JIT quando é chamado pela primeira vez e executado.</span><span class="sxs-lookup"><span data-stu-id="e6af0-178">Each method for which MSIL has been generated is JIT-compiled when it is called for the first time, and then run.</span></span> <span data-ttu-id="e6af0-179">Na próxima vez em que o método for executado, o código nativo compilado por JIT existente será executado.</span><span class="sxs-lookup"><span data-stu-id="e6af0-179">The next time the method is run, the existing JIT-compiled native code is run.</span></span> <span data-ttu-id="e6af0-180">O processo de compilação por JIT e a execução do código é repetido até a execução ser concluída.</span><span class="sxs-lookup"><span data-stu-id="e6af0-180">The process of JIT-compiling and then running the code is repeated until execution is complete.</span></span>  
  
 <span data-ttu-id="e6af0-181">Durante a execução, o código gerenciado recebe serviços como coleta de lixo, segurança, interoperabilidade com código não gerenciado, suporte à depuração entre linguagens e suporte avançado à implantação e ao controle de versão.</span><span class="sxs-lookup"><span data-stu-id="e6af0-181">During execution, managed code receives services such as garbage collection, security, interoperability with unmanaged code, cross-language debugging support, and enhanced deployment and versioning support.</span></span>  
  
 <span data-ttu-id="e6af0-182">No Microsoft [!INCLUDE[winxp](../../includes/winxp-md.md)] e [!INCLUDE[windowsver](../../includes/windowsver-md.md)], o carregador do sistema operacional verifica módulos gerenciados examinando um bit no cabeçalho COFF.</span><span class="sxs-lookup"><span data-stu-id="e6af0-182">In Microsoft [!INCLUDE[winxp](../../includes/winxp-md.md)] and [!INCLUDE[windowsver](../../includes/windowsver-md.md)], the operating system loader checks for managed modules by examining a bit in the COFF header.</span></span> <span data-ttu-id="e6af0-183">Se o bit estiver definido, o módulo será gerenciado.</span><span class="sxs-lookup"><span data-stu-id="e6af0-183">The bit being set denotes a managed module.</span></span> <span data-ttu-id="e6af0-184">Se o carregador detecta módulos gerenciados, ele carrega mscoree.dll e `_CorValidateImage`, e `_CorImageUnloading` notifica o carregador quando as imagens do módulo gerenciado são carregadas e descarregadas.</span><span class="sxs-lookup"><span data-stu-id="e6af0-184">If the loader detects managed modules, it loads mscoree.dll, and `_CorValidateImage` and `_CorImageUnloading` notify the loader when the managed module images are loaded and unloaded.</span></span> <span data-ttu-id="e6af0-185">`_CorValidateImage` executa as seguintes ações:</span><span class="sxs-lookup"><span data-stu-id="e6af0-185">`_CorValidateImage` performs the following actions:</span></span>  
  
1.  <span data-ttu-id="e6af0-186">Garante que o código seja um código gerenciado válido.</span><span class="sxs-lookup"><span data-stu-id="e6af0-186">Ensures that the code is valid managed code.</span></span>  
  
2.  <span data-ttu-id="e6af0-187">Altera o ponto de entrada na imagem para um ponto de entrada no ambiente de execução.</span><span class="sxs-lookup"><span data-stu-id="e6af0-187">Changes the entry point in the image to an entry point in the runtime.</span></span>  
  
 <span data-ttu-id="e6af0-188">No Windows 64 bits, `_CorValidateImage` modifica a imagem que está na memória transformando-a do formato PE32 para o formato PE32+.</span><span class="sxs-lookup"><span data-stu-id="e6af0-188">On 64-bit Windows, `_CorValidateImage` modifies the image that is in memory by transforming it from PE32 to PE32+ format.</span></span>  
  
 [<span data-ttu-id="e6af0-189">Voltar ao início</span><span class="sxs-lookup"><span data-stu-id="e6af0-189">Back to top</span></span>](#introduction)  
  
## <a name="see-also"></a><span data-ttu-id="e6af0-190">Consulte também</span><span class="sxs-lookup"><span data-stu-id="e6af0-190">See Also</span></span>  
 [<span data-ttu-id="e6af0-191">Visão Geral</span><span class="sxs-lookup"><span data-stu-id="e6af0-191">Overview</span></span>](../../docs/framework/get-started/overview.md)  
 [<span data-ttu-id="e6af0-192">Componentes de independência de linguagem e componentes independentes da linguagem</span><span class="sxs-lookup"><span data-stu-id="e6af0-192">Language Independence and Language-Independent Components</span></span>](../../docs/standard/language-independence-and-language-independent-components.md)  
 [<span data-ttu-id="e6af0-193">Metadados e componentes autodescritivos</span><span class="sxs-lookup"><span data-stu-id="e6af0-193">Metadata and Self-Describing Components</span></span>](../../docs/standard/metadata-and-self-describing-components.md)  
 [<span data-ttu-id="e6af0-194">Ilasm.exe (IL Assembler)</span><span class="sxs-lookup"><span data-stu-id="e6af0-194">Ilasm.exe (IL Assembler)</span></span>](../../docs/framework/tools/ilasm-exe-il-assembler.md)  
 [<span data-ttu-id="e6af0-195">Segurança</span><span class="sxs-lookup"><span data-stu-id="e6af0-195">Security</span></span>](../../docs/standard/security/index.md)  
 [<span data-ttu-id="e6af0-196">Interoperação com código não gerenciado</span><span class="sxs-lookup"><span data-stu-id="e6af0-196">Interoperating with Unmanaged Code</span></span>](../../docs/framework/interop/index.md)  
 [<span data-ttu-id="e6af0-197">Implantação</span><span class="sxs-lookup"><span data-stu-id="e6af0-197">Deployment</span></span>](../../docs/framework/deployment/net-framework-applications.md)  
 [<span data-ttu-id="e6af0-198">Assemblies no Common Language Runtime</span><span class="sxs-lookup"><span data-stu-id="e6af0-198">Assemblies in the Common Language Runtime</span></span>](../../docs/framework/app-domains/assemblies-in-the-common-language-runtime.md)  
 [<span data-ttu-id="e6af0-199">Domínios do aplicativo</span><span class="sxs-lookup"><span data-stu-id="e6af0-199">Application Domains</span></span>](../../docs/framework/app-domains/application-domains.md)
