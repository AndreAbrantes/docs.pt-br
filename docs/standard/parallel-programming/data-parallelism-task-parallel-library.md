---
title: Paralelismo de dados (biblioteca de tarefas paralelas)
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords: parallelism, data
ms.assetid: 3f05f33f-f1da-4b16-81c2-9ceff1bef449
caps.latest.revision: "25"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: 13788542fa368bd5bcf1c2f277c9d83f84b35cdb
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/18/2017
---
# <a name="data-parallelism-task-parallel-library"></a><span data-ttu-id="d2167-102">Paralelismo de dados (biblioteca de tarefas paralelas)</span><span class="sxs-lookup"><span data-stu-id="d2167-102">Data Parallelism (Task Parallel Library)</span></span>
<span data-ttu-id="d2167-103">*Paralelismo de dados* refere-se a cenários em que a mesma operação é executada simultaneamente (isto é, em paralelo) aos elementos em uma coleção de origem ou uma matriz.</span><span class="sxs-lookup"><span data-stu-id="d2167-103">*Data parallelism* refers to scenarios in which the same operation is performed concurrently (that is, in parallel) on elements in a source collection or array.</span></span> <span data-ttu-id="d2167-104">Operações paralelas de dados, a coleção de origem é particionada para que vários threads podem operar em diferentes segmentos simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="d2167-104">In data parallel operations, the source collection is partitioned so that multiple threads can operate on different segments concurrently.</span></span>  
  
 <span data-ttu-id="d2167-105">O biblioteca paralela de tarefas (TPL) oferece suporte ao paralelismo de dados por meio de <xref:System.Threading.Tasks.Parallel?displayProperty=nameWithType> classe.</span><span class="sxs-lookup"><span data-stu-id="d2167-105">The Task Parallel Library (TPL) supports data parallelism through the <xref:System.Threading.Tasks.Parallel?displayProperty=nameWithType> class.</span></span> <span data-ttu-id="d2167-106">Essa classe fornece implementações de paralelas com base em método de [para](~/docs/csharp/language-reference/keywords/for.md) e [foreach](~/docs/csharp/language-reference/keywords/foreach-in.md) loops (`For` e `For Each` no Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="d2167-106">This class provides method-based parallel implementations of [for](~/docs/csharp/language-reference/keywords/for.md) and [foreach](~/docs/csharp/language-reference/keywords/foreach-in.md) loops (`For` and `For Each` in Visual Basic).</span></span> <span data-ttu-id="d2167-107">Gravar a lógica de loop para um <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> ou <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> loop quanto você escreve um loop sequencial.</span><span class="sxs-lookup"><span data-stu-id="d2167-107">You write the loop logic for a <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> or <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> loop much as you would write a sequential loop.</span></span> <span data-ttu-id="d2167-108">Você não precisa criar threads ou itens de trabalho da fila.</span><span class="sxs-lookup"><span data-stu-id="d2167-108">You do not have to create threads or queue work items.</span></span> <span data-ttu-id="d2167-109">Em loops básico, você não precisa usam bloqueios.</span><span class="sxs-lookup"><span data-stu-id="d2167-109">In basic loops, you do not have to take locks.</span></span> <span data-ttu-id="d2167-110">A TPL manipula todo o trabalho de baixo nível para você.</span><span class="sxs-lookup"><span data-stu-id="d2167-110">The TPL handles all the low-level work for you.</span></span> <span data-ttu-id="d2167-111">Para obter informações detalhadas sobre o uso do <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> e <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType>, baixe o documento [padrões de programação paralela: Noções básicas e aplicação de padrões paralelos, com o .NET Framework 4](http://www.microsoft.com/download/details.aspx?id=19222).</span><span class="sxs-lookup"><span data-stu-id="d2167-111">For in-depth information about the use of <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> and <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType>, download the document [Patterns for Parallel Programming: Understanding and Applying Parallel Patterns with the .NET Framework 4](http://www.microsoft.com/download/details.aspx?id=19222).</span></span> <span data-ttu-id="d2167-112">O exemplo de código a seguir mostra um simples `foreach` loop e seu equivalente paralelo.</span><span class="sxs-lookup"><span data-stu-id="d2167-112">The following code example shows a simple `foreach` loop and its parallel equivalent.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="d2167-113">Esta documentação usa expressões lambda para definir delegados na TLP.</span><span class="sxs-lookup"><span data-stu-id="d2167-113">This documentation uses lambda expressions to define delegates in TPL.</span></span> <span data-ttu-id="d2167-114">Se você não estiver familiarizado com expressões lambda no C# ou no Visual Basic, veja [Expressões lambda em PLINQ e TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md).</span><span class="sxs-lookup"><span data-stu-id="d2167-114">If you are not familiar with lambda expressions in C# or Visual Basic, see [Lambda Expressions in PLINQ and TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md).</span></span>  
  
 [!code-csharp[TPL#20](../../../samples/snippets/csharp/VS_Snippets_Misc/tpl/cs/tpl.cs#20)]
 [!code-vb[TPL#20](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpl/vb/tpl_vb.vb#20)]  
  
 <span data-ttu-id="d2167-115">Quando um paralelo loop é executado, as partições TPL a fonte de dados para que o loop pode funcionar simultaneamente em várias partes.</span><span class="sxs-lookup"><span data-stu-id="d2167-115">When a parallel loop runs, the TPL partitions the data source so that the loop can operate on multiple parts concurrently.</span></span> <span data-ttu-id="d2167-116">Nos bastidores, o Agendador de tarefas particiona a tarefa com base na carga de trabalho e recursos do sistema.</span><span class="sxs-lookup"><span data-stu-id="d2167-116">Behind the scenes, the Task Scheduler partitions the task based on system resources and workload.</span></span> <span data-ttu-id="d2167-117">Quando possível, o Agendador redistribui trabalho entre vários threads e processadores se a carga de trabalho ficar desbalanceada.</span><span class="sxs-lookup"><span data-stu-id="d2167-117">When possible, the scheduler redistributes work among multiple threads and processors if the workload becomes unbalanced.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="d2167-118">Você também pode fornecer sua própria particionador personalizado ou o Agendador.</span><span class="sxs-lookup"><span data-stu-id="d2167-118">You can also supply your own custom partitioner or scheduler.</span></span> <span data-ttu-id="d2167-119">Para obter mais informações, consulte [Particionadores personalizados para PLINQ e TPL](../../../docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) e [agendadores de tarefa](http://msdn.microsoft.com/library/638f8ea5-21db-47a2-a934-86e1e961bf65).</span><span class="sxs-lookup"><span data-stu-id="d2167-119">For more information, see [Custom Partitioners for PLINQ and TPL](../../../docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) and [Task Schedulers](http://msdn.microsoft.com/library/638f8ea5-21db-47a2-a934-86e1e961bf65).</span></span>  
  
 <span data-ttu-id="d2167-120">Tanto o <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> e <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> métodos têm várias sobrecargas que permitem que você para ou interromper a execução do loop, monitorar o estado de loop em outros threads, manter o estado de local de thread, finalizar objetos de local de thread, controla o grau de simultaneidade, e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="d2167-120">Both the <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> and <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> methods have several overloads that let you stop or break loop execution, monitor the state of the loop on other threads, maintain thread-local state, finalize thread-local objects, control the degree of concurrency, and so on.</span></span> <span data-ttu-id="d2167-121">Os tipos de auxiliar que habilitar essa funcionalidade incluem <xref:System.Threading.Tasks.ParallelLoopState>, <xref:System.Threading.Tasks.ParallelOptions>, <xref:System.Threading.Tasks.ParallelLoopResult>, <xref:System.Threading.CancellationToken>, e <xref:System.Threading.CancellationTokenSource>.</span><span class="sxs-lookup"><span data-stu-id="d2167-121">The helper types that enable this functionality include <xref:System.Threading.Tasks.ParallelLoopState>, <xref:System.Threading.Tasks.ParallelOptions>, <xref:System.Threading.Tasks.ParallelLoopResult>, <xref:System.Threading.CancellationToken>, and <xref:System.Threading.CancellationTokenSource>.</span></span>  
  
 <span data-ttu-id="d2167-122">Para obter mais informações, consulte [padrões de programação paralela](http://go.microsoft.com/fwlink/p/?LinkId=265491).</span><span class="sxs-lookup"><span data-stu-id="d2167-122">For more information, see [Patterns of Parallel Programming](http://go.microsoft.com/fwlink/p/?LinkId=265491).</span></span>  
  
 <span data-ttu-id="d2167-123">Há suporte para paralelismo de dados com a sintaxe declarativa ou semelhante a consultas, PLINQ.</span><span class="sxs-lookup"><span data-stu-id="d2167-123">Data parallelism with declarative, or query-like, syntax is supported by PLINQ.</span></span> <span data-ttu-id="d2167-124">Para obter mais informações, consulte [PLINQ (Parallel LINQ)](../../../docs/standard/parallel-programming/parallel-linq-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="d2167-124">For more information, see [Parallel LINQ (PLINQ)](../../../docs/standard/parallel-programming/parallel-linq-plinq.md).</span></span>  
  
## <a name="related-topics"></a><span data-ttu-id="d2167-125">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="d2167-125">Related Topics</span></span>  
  
|<span data-ttu-id="d2167-126">Título</span><span class="sxs-lookup"><span data-stu-id="d2167-126">Title</span></span>|<span data-ttu-id="d2167-127">Descrição</span><span class="sxs-lookup"><span data-stu-id="d2167-127">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="d2167-128">Como escrever um loop Parallel.For simples</span><span class="sxs-lookup"><span data-stu-id="d2167-128">How to: Write a Simple Parallel.For Loop</span></span>](../../../docs/standard/parallel-programming/how-to-write-a-simple-parallel-for-loop.md)|<span data-ttu-id="d2167-129">Descreve como escrever um <xref:System.Threading.Tasks.Parallel.For%2A> loop sobre qualquer matriz ou indexáveis <xref:System.Collections.Generic.IEnumerable%601> coleção de origem.</span><span class="sxs-lookup"><span data-stu-id="d2167-129">Describes how to write a <xref:System.Threading.Tasks.Parallel.For%2A> loop over any array or indexable <xref:System.Collections.Generic.IEnumerable%601> source collection.</span></span>|  
|[<span data-ttu-id="d2167-130">Como escrever um loop Parallel.ForEach simples</span><span class="sxs-lookup"><span data-stu-id="d2167-130">How to: Write a Simple Parallel.ForEach Loop</span></span>](../../../docs/standard/parallel-programming/how-to-write-a-simple-parallel-foreach-loop.md)|<span data-ttu-id="d2167-131">Descreve como escrever um <xref:System.Threading.Tasks.Parallel.ForEach%2A> loop sobre qualquer <xref:System.Collections.Generic.IEnumerable%601> coleção de origem.</span><span class="sxs-lookup"><span data-stu-id="d2167-131">Describes how to write a <xref:System.Threading.Tasks.Parallel.ForEach%2A> loop over any <xref:System.Collections.Generic.IEnumerable%601> source collection.</span></span>|  
|[<span data-ttu-id="d2167-132">Como: interromper ou interromper um loop Parallel. for</span><span class="sxs-lookup"><span data-stu-id="d2167-132">How to: Stop or Break from a Parallel.For Loop</span></span>](http://msdn.microsoft.com/en-us/de52e4f1-9346-4ad5-b582-1a4d54dc7f7e)|<span data-ttu-id="d2167-133">Descreve como interromper ou interromper um loop paralelo para que todos os threads serão informados sobre a ação.</span><span class="sxs-lookup"><span data-stu-id="d2167-133">Describes how to stop or break from a parallel loop so that all threads are informed of the action.</span></span>|  
|[<span data-ttu-id="d2167-134">Como escrever um loop Parallel.For com variáveis locais de thread</span><span class="sxs-lookup"><span data-stu-id="d2167-134">How to: Write a Parallel.For Loop with Thread-Local Variables</span></span>](../../../docs/standard/parallel-programming/how-to-write-a-parallel-for-loop-with-thread-local-variables.md)|<span data-ttu-id="d2167-135">Descreve como escrever um <xref:System.Threading.Tasks.Parallel.For%2A> loop na qual cada thread mantém uma variável privada que não é visível para qualquer outro thread e como sincronizar os resultados de todos os threads quando o loop estiver concluído.</span><span class="sxs-lookup"><span data-stu-id="d2167-135">Describes how to write a <xref:System.Threading.Tasks.Parallel.For%2A> loop in which each thread maintains a private variable that is not visible to any other threads, and how to synchronize the results from all threads when the loop completes.</span></span>|  
|[<span data-ttu-id="d2167-136">Como escrever um loop Parallel.ForEach com variáveis locais de thread</span><span class="sxs-lookup"><span data-stu-id="d2167-136">How to: Write a Parallel.ForEach Loop with Thread-Local Variables</span></span>](../../../docs/standard/parallel-programming/how-to-write-a-parallel-foreach-loop-with-thread-local-variables.md)|<span data-ttu-id="d2167-137">Descreve como escrever um <xref:System.Threading.Tasks.Parallel.ForEach%2A> loop na qual cada thread mantém uma variável privada que não é visível para qualquer outro thread e como sincronizar os resultados de todos os threads quando o loop estiver concluído.</span><span class="sxs-lookup"><span data-stu-id="d2167-137">Describes how to write a <xref:System.Threading.Tasks.Parallel.ForEach%2A> loop in which each thread maintains a private variable that is not visible to any other threads, and how to synchronize the results from all threads when the loop completes.</span></span>|  
|[<span data-ttu-id="d2167-138">Como cancelar um loop Parallel.For ou ForEach</span><span class="sxs-lookup"><span data-stu-id="d2167-138">How to: Cancel a Parallel.For or ForEach Loop</span></span>](../../../docs/standard/parallel-programming/how-to-cancel-a-parallel-for-or-foreach-loop.md)|<span data-ttu-id="d2167-139">Descreve como cancelar um loop paralelo usando um<xref:System.Threading.CancellationToken?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="d2167-139">Describes how to cancel a parallel loop by using a <xref:System.Threading.CancellationToken?displayProperty=nameWithType></span></span>|  
|[<span data-ttu-id="d2167-140">Como agilizar corpos de loop pequenos</span><span class="sxs-lookup"><span data-stu-id="d2167-140">How to: Speed Up Small Loop Bodies</span></span>](../../../docs/standard/parallel-programming/how-to-speed-up-small-loop-bodies.md)|<span data-ttu-id="d2167-141">Descreve uma maneira para acelerar a execução quando um corpo do loop for muito pequeno.</span><span class="sxs-lookup"><span data-stu-id="d2167-141">Describes one way to speed up execution when a loop body is very small.</span></span>|  
|[<span data-ttu-id="d2167-142">TPL (Biblioteca de Paralelismo de Tarefas)</span><span class="sxs-lookup"><span data-stu-id="d2167-142">Task Parallel Library (TPL)</span></span>](../../../docs/standard/parallel-programming/task-parallel-library-tpl.md)|<span data-ttu-id="d2167-143">Fornece uma visão geral da biblioteca de tarefas paralelas.</span><span class="sxs-lookup"><span data-stu-id="d2167-143">Provides an overview of the Task Parallel Library.</span></span>|  
|[<span data-ttu-id="d2167-144">Programação paralela</span><span class="sxs-lookup"><span data-stu-id="d2167-144">Parallel Programming</span></span>](../../../docs/standard/parallel-programming/index.md)|<span data-ttu-id="d2167-145">Apresenta a programação paralela no .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="d2167-145">Introduces Parallel Programming in the .NET Framework.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="d2167-146">Consulte também</span><span class="sxs-lookup"><span data-stu-id="d2167-146">See Also</span></span>  
 [<span data-ttu-id="d2167-147">Programação paralela</span><span class="sxs-lookup"><span data-stu-id="d2167-147">Parallel Programming</span></span>](../../../docs/standard/parallel-programming/index.md)
