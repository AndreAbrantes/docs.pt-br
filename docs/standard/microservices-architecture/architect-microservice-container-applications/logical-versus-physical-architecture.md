---
title: "Arquitetura lógica versus arquitetura física"
description: "Arquitetura de Microservices .NET para aplicativos .NET em contêineres | Arquitetura lógica versus arquitetura física"
keywords: "Docker, Microsserviços, ASP.NET, Contêiner"
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 05/26/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.openlocfilehash: 635774a8fcd0cf1c0ede6a73c604071f538a37fd
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/18/2017
---
# <a name="logical-architecture-versus-physical-architecture"></a><span data-ttu-id="98488-104">Arquitetura lógica versus arquitetura física</span><span class="sxs-lookup"><span data-stu-id="98488-104">Logical architecture versus physical architecture</span></span>

<span data-ttu-id="98488-105">É útil neste momento parar e discutir a diferença entre a arquitetura lógica e arquitetura física e como isso se aplica ao design de aplicativos baseados em microsserviço.</span><span class="sxs-lookup"><span data-stu-id="98488-105">It is useful at this point to stop and discuss the distinction between logical architecture and physical architecture, and how this applies to the design of microservice-based applications.</span></span>

<span data-ttu-id="98488-106">Para começar, criar microservices não requer o uso de qualquer tecnologia específica.</span><span class="sxs-lookup"><span data-stu-id="98488-106">To begin, building microservices does not require the use of any specific technology.</span></span> <span data-ttu-id="98488-107">Por exemplo, contêineres do Docker não são obrigatórios para criar uma arquitetura de microsserviço.</span><span class="sxs-lookup"><span data-stu-id="98488-107">For instance, Docker containers are not mandatory in order to create a microservice-based architecture.</span></span> <span data-ttu-id="98488-108">Essas microservices também pode ser executados como processos simples.</span><span class="sxs-lookup"><span data-stu-id="98488-108">Those microservices could also be run as plain processes.</span></span> <span data-ttu-id="98488-109">Microservices é uma arquitetura lógica.</span><span class="sxs-lookup"><span data-stu-id="98488-109">Microservices is a logical architecture.</span></span>

<span data-ttu-id="98488-110">Além disso, mesmo quando um microsserviço poderia ser fisicamente implementado como um único serviço, o processo ou o contêiner (para simplificar, que é a abordagem usada na versão inicial do [eShopOnContainers](http://aka.ms/MicroservicesArchitecture)), essa semelhança entre microsserviço de negócios e física de serviço ou um contêiner não é necessariamente necessário em todos os casos quando você compila um aplicativo grande e complexo composto de muitas dúzias ou até mesmo centenas de serviços.</span><span class="sxs-lookup"><span data-stu-id="98488-110">Moreover, even when a microservice could be physically implemented as a single service, process, or container (for simplicity’s sake, that is the approach taken in the initial version of [eShopOnContainers](http://aka.ms/MicroservicesArchitecture)), this parity between business microservice and physical service or container is not necessarily required in all cases when you build a large and complex application composed of many dozens or even hundreds of services.</span></span>

<span data-ttu-id="98488-111">Este é o local onde houver uma diferença entre a arquitetura lógica e a arquitetura física de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="98488-111">This is where there is a difference between an application’s logical architecture and physical architecture.</span></span> <span data-ttu-id="98488-112">A arquitetura lógica e os limites de lógicos de um sistema não necessariamente mapeiam individualmente para a arquitetura física ou de implantação.</span><span class="sxs-lookup"><span data-stu-id="98488-112">The logical architecture and logical boundaries of a system do not necessarily map one-to-one to the physical or deployment architecture.</span></span> <span data-ttu-id="98488-113">Isso pode acontecer, mas geralmente não.</span><span class="sxs-lookup"><span data-stu-id="98488-113">It can happen, but it often does not.</span></span>

<span data-ttu-id="98488-114">Embora pode identificar certos microservices de negócios ou contextos limitada, isso não significa que a melhor maneira de implementá-las sempre é criando um serviço (por exemplo, uma API Web do ASP.NET) ou um único contêiner de Docker para cada microsserviço de negócios.</span><span class="sxs-lookup"><span data-stu-id="98488-114">Although you might have identified certain business microservices or Bounded Contexts, it does not mean that the best way to implement them is always by creating a single service (such as an ASP.NET Web API) or single Docker container for each business microservice.</span></span> <span data-ttu-id="98488-115">Ter uma regra que cada microsserviço de negócios precisa ser implementada usando um único serviço ou contêiner é muito rígido.</span><span class="sxs-lookup"><span data-stu-id="98488-115">Having a rule saying each business microservice has to be implemented using a single service or container is too rigid.</span></span>

<span data-ttu-id="98488-116">Portanto, um microsserviço de negócios ou contexto associado é uma arquitetura lógica pode coincidir (ou não) com a arquitetura física.</span><span class="sxs-lookup"><span data-stu-id="98488-116">Therefore, a business microservice or Bounded Context is a logical architecture that might coincide (or not) with physical architecture.</span></span> <span data-ttu-id="98488-117">O ponto importante é que um microsserviço de negócios ou contexto associado deve ser autônomo, permitindo que o código de estado seja independentemente com controle de versão, implantado e expandida.</span><span class="sxs-lookup"><span data-stu-id="98488-117">The important point is that a business microservice or Bounded Context must be autonomous by allowing code and state to be independently versioned, deployed, and scaled.</span></span>

<span data-ttu-id="98488-118">Como mostra a Figura 4-8, o microsserviço de negócios de catálogo pode ser composto de vários serviços ou processos.</span><span class="sxs-lookup"><span data-stu-id="98488-118">As Figure 4-8 shows, the catalog business microservice could be composed of several services or processes.</span></span> <span data-ttu-id="98488-119">Eles podem ser vários serviços de API da Web ASP.NET ou qualquer outro tipo de serviços usando HTTP ou qualquer outro protocolo.</span><span class="sxs-lookup"><span data-stu-id="98488-119">These could be multiple ASP.NET Web API services or any other kind of services using HTTP or any other protocol.</span></span> <span data-ttu-id="98488-120">Mais importante, os serviços podem compartilhar os mesmos dados, como esses serviços são coesos em relação ao mesmo domínio de negócios.</span><span class="sxs-lookup"><span data-stu-id="98488-120">More importantly, the services could share the same data, as long as these services are cohesive with respect to the same business domain.</span></span>

![](./media/image8.png)

<span data-ttu-id="98488-121">**Figura 4-8**.</span><span class="sxs-lookup"><span data-stu-id="98488-121">**Figure 4-8**.</span></span> <span data-ttu-id="98488-122">Microsserviço de negócios com vários serviços físicos</span><span class="sxs-lookup"><span data-stu-id="98488-122">Business microservice with several physical services</span></span>

<span data-ttu-id="98488-123">Os serviços no exemplo a compartilham o mesmo modelo de dados porque o serviço de API da Web tem como alvo os mesmos dados que o serviço de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="98488-123">The services in the example share the same data model because the Web API service targets the same data as the Search service.</span></span> <span data-ttu-id="98488-124">Portanto, na implementação física de microsserviço de negócios, você esteja dividindo essa funcionalidade para que você pode dimensionar cada um desses serviços interno para cima ou para baixo conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="98488-124">So, in the physical implementation of the business microservice, you are splitting that functionality so you can scale each of those internal services up or down as needed.</span></span> <span data-ttu-id="98488-125">Talvez o serviço de API da Web geralmente precisa mais instâncias que o serviço de pesquisa, ou vice-versa.)</span><span class="sxs-lookup"><span data-stu-id="98488-125">Maybe the Web API service usually needs more instances than the Search service, or vice versa.)</span></span>

<span data-ttu-id="98488-126">Em resumo, a arquitetura lógica de microservices sempre precisa coincidir com a arquitetura de implantação física.</span><span class="sxs-lookup"><span data-stu-id="98488-126">In short, the logical architecture of microservices does not always have to coincide with the physical deployment architecture.</span></span> <span data-ttu-id="98488-127">Neste guia, sempre que vamos mencionar um microsserviço, queremos dizer uma empresa ou microsserviço lógico que foi mapeado para um ou mais serviços.</span><span class="sxs-lookup"><span data-stu-id="98488-127">In this guide, whenever we mention a microservice, we mean a business or logical microservice that could map to one or more services.</span></span> <span data-ttu-id="98488-128">Na maioria dos casos, esse será um único serviço, mas pode ser mais.</span><span class="sxs-lookup"><span data-stu-id="98488-128">In most cases, this will be a single service, but it might be more.</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="98488-129">[Anterior] (dados-Soberania-por-microservice.md) [Avançar] (distributed-data-management.md)</span><span class="sxs-lookup"><span data-stu-id="98488-129">[Previous] (data-sovereignty-per-microservice.md) [Next] (distributed-data-management.md)</span></span>
