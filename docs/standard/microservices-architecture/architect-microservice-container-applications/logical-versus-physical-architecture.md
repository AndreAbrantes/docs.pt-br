---
title: Arquitetura lógica versus arquitetura física
description: Entenda as diferenças entre arquiteturas lógica e física.
ms.date: 09/20/2018
ms.openlocfilehash: c269369e9b5391e8d25ece46e6b08e34a82fbbba
ms.sourcegitcommit: 8699383914c24a0df033393f55db3369db728a7b
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/15/2019
ms.locfileid: "65644321"
---
# <a name="logical-architecture-versus-physical-architecture"></a><span data-ttu-id="7a00a-103">Arquitetura lógica versus arquitetura física</span><span class="sxs-lookup"><span data-stu-id="7a00a-103">Logical architecture versus physical architecture</span></span>

<span data-ttu-id="7a00a-104">Neste momento, é útil parar e discutir a diferença entre as arquiteturas lógica e física, além de como isso se aplica ao design de aplicativos baseados em microsserviços.</span><span class="sxs-lookup"><span data-stu-id="7a00a-104">It's useful at this point to stop and discuss the distinction between logical architecture and physical architecture, and how this applies to the design of microservice-based applications.</span></span>

<span data-ttu-id="7a00a-105">Para começar, a criação de microsserviços não exige o uso de nenhuma tecnologia específica.</span><span class="sxs-lookup"><span data-stu-id="7a00a-105">To begin, building microservices doesn't require the use of any specific technology.</span></span> <span data-ttu-id="7a00a-106">Por exemplo, os contêineres do Docker não são obrigatórios para criar uma arquitetura baseada em microsserviço.</span><span class="sxs-lookup"><span data-stu-id="7a00a-106">For instance, Docker containers aren't mandatory to create a microservice-based architecture.</span></span> <span data-ttu-id="7a00a-107">Essas microsserviços também podem ser executados como processos simples.</span><span class="sxs-lookup"><span data-stu-id="7a00a-107">Those microservices could also be run as plain processes.</span></span> <span data-ttu-id="7a00a-108">Os microsserviços são uma arquitetura lógica.</span><span class="sxs-lookup"><span data-stu-id="7a00a-108">Microservices is a logical architecture.</span></span>

<span data-ttu-id="7a00a-109">Além disso, mesmo quando um microsserviço puder ser implementado fisicamente como um único serviço, processo ou contêiner (para simplificar, essa é a abordagem usada na versão inicial de [eShopOnContainers](https://aka.ms/MicroservicesArchitecture)), essa paridade entre microsserviço empresarial e serviço ou contêiner físico não será necessariamente obrigatória em todos os casos quando você criar um aplicativo grande e complexo composto por muitas dezenas ou até mesmo centenas de serviços.</span><span class="sxs-lookup"><span data-stu-id="7a00a-109">Moreover, even when a microservice could be physically implemented as a single service, process, or container (for simplicity's sake, that's the approach taken in the initial version of [eShopOnContainers](https://aka.ms/MicroservicesArchitecture)), this parity between business microservice and physical service or container isn't necessarily required in all cases when you build a large and complex application composed of many dozens or even hundreds of services.</span></span>

<span data-ttu-id="7a00a-110">É aqui em que há uma diferença entre a arquitetura lógica e a arquitetura física de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="7a00a-110">This is where there's a difference between an application's logical architecture and physical architecture.</span></span> <span data-ttu-id="7a00a-111">A arquitetura lógica e os limites de lógicos de um sistema não necessariamente mapeiam individualmente para a arquitetura física ou de implantação.</span><span class="sxs-lookup"><span data-stu-id="7a00a-111">The logical architecture and logical boundaries of a system do not necessarily map one-to-one to the physical or deployment architecture.</span></span> <span data-ttu-id="7a00a-112">Isso pode acontecer, mas geralmente não acontece.</span><span class="sxs-lookup"><span data-stu-id="7a00a-112">It can happen, but it often doesn't.</span></span>

<span data-ttu-id="7a00a-113">Embora você possa ter identificado determinados microsserviços empresariais ou Contextos Limitados, isso não significa que a melhor maneira de implementá-los seja sempre criando um único serviço (como uma ASP.NET Web API) ou um único contêiner do Docker para cada microsserviço empresarial.</span><span class="sxs-lookup"><span data-stu-id="7a00a-113">Although you might have identified certain business microservices or Bounded Contexts, it doesn't mean that the best way to implement them is always by creating a single service (such as an ASP.NET Web API) or single Docker container for each business microservice.</span></span> <span data-ttu-id="7a00a-114">Ter uma regra que diz que cada microsserviço de negócios deve ser implementado usando um único serviço ou contêiner é rígido demais.</span><span class="sxs-lookup"><span data-stu-id="7a00a-114">Having a rule saying each business microservice has to be implemented using a single service or container is too rigid.</span></span>

<span data-ttu-id="7a00a-115">Portanto, um microsserviço de negócios ou um Contexto limitado é uma arquitetura lógica que pode coincidir (ou não) com a arquitetura física.</span><span class="sxs-lookup"><span data-stu-id="7a00a-115">Therefore, a business microservice or Bounded Context is a logical architecture that might coincide (or not) with physical architecture.</span></span> <span data-ttu-id="7a00a-116">O ponto importante é que um microsserviço de negócios ou Contexto limitado deve ser autônomo, permitindo que o controle de versão, a implantação e a colocação em escala do código e do estado sejam feitas de maneira independente.</span><span class="sxs-lookup"><span data-stu-id="7a00a-116">The important point is that a business microservice or Bounded Context must be autonomous by allowing code and state to be independently versioned, deployed, and scaled.</span></span>

<span data-ttu-id="7a00a-117">Como mostra a Figura 4-8, o microsserviço de negócios de catálogo pode ser composto por vários serviços ou processos.</span><span class="sxs-lookup"><span data-stu-id="7a00a-117">As Figure 4-8 shows, the catalog business microservice could be composed of several services or processes.</span></span> <span data-ttu-id="7a00a-118">Eles podem ser vários serviços do ASP.NET Web API ou qualquer outro tipo de serviços que usam HTTP ou qualquer outro protocolo.</span><span class="sxs-lookup"><span data-stu-id="7a00a-118">These could be multiple ASP.NET Web API services or any other kind of services using HTTP or any other protocol.</span></span> <span data-ttu-id="7a00a-119">Mais importante, os serviços podem compartilhar os mesmos dados, desde que esses serviços sejam coesos em relação ao mesmo domínio de negócios.</span><span class="sxs-lookup"><span data-stu-id="7a00a-119">More importantly, the services could share the same data, as long as these services are cohesive with respect to the same business domain.</span></span>

![Diagrama do microsserviço empresarial de Catálogo, que contém um serviço de API, um serviço de pesquisa e um Banco de Dados do SQL Server.](./media/image8.png)

<span data-ttu-id="7a00a-121">**Figura 4-8**.</span><span class="sxs-lookup"><span data-stu-id="7a00a-121">**Figure 4-8**.</span></span> <span data-ttu-id="7a00a-122">Microsserviço de negócios com vários serviços físicos</span><span class="sxs-lookup"><span data-stu-id="7a00a-122">Business microservice with several physical services</span></span>

<span data-ttu-id="7a00a-123">Os serviços no exemplo compartilham o mesmo modelo de dados, porque o serviço de API Web tem como alvo os mesmos dados que o Serviço de Pesquisa.</span><span class="sxs-lookup"><span data-stu-id="7a00a-123">The services in the example share the same data model because the Web API service targets the same data as the Search service.</span></span> <span data-ttu-id="7a00a-124">Portanto, na implementação física do microsserviço empresarial, você está dividindo essa funcionalidade para poder escalar ou reduzir verticalmente cada um desses serviços internos, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="7a00a-124">So, in the physical implementation of the business microservice, you're splitting that functionality so you can scale each of those internal services up or down as needed.</span></span> <span data-ttu-id="7a00a-125">Talvez o serviço de API Web geralmente precise de mais instâncias do que o Serviço de Pesquisa ou vice-versa.</span><span class="sxs-lookup"><span data-stu-id="7a00a-125">Maybe the Web API service usually needs more instances than the Search service, or vice versa.</span></span>

<span data-ttu-id="7a00a-126">Em resumo, a arquitetura lógica de microsserviços nem sempre precisa coincidir com a arquitetura de implantação física.</span><span class="sxs-lookup"><span data-stu-id="7a00a-126">In short, the logical architecture of microservices doesn't always have to coincide with the physical deployment architecture.</span></span> <span data-ttu-id="7a00a-127">Neste guia, sempre que mencionamos um microsserviço, queremos dizer um microsserviço lógico ou empresarial que pode ser mapeado para um ou mais serviços (físicos).</span><span class="sxs-lookup"><span data-stu-id="7a00a-127">In this guide, whenever we mention a microservice, we mean a business or logical microservice that could map to one or more (physical) services.</span></span> <span data-ttu-id="7a00a-128">Na maioria dos casos, esse será um único serviço, mas pode ser mais.</span><span class="sxs-lookup"><span data-stu-id="7a00a-128">In most cases, this will be a single service, but it might be more.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="7a00a-129">[Anterior](data-sovereignty-per-microservice.md)
>[Próximo](distributed-data-management.md)</span><span class="sxs-lookup"><span data-stu-id="7a00a-129">[Previous](data-sovereignty-per-microservice.md)
[Next](distributed-data-management.md)</span></span>
