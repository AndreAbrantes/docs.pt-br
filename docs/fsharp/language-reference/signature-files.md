---
title: Arquivos de assinatura
description: Saiba como usar F# arquivos de assinatura para manter informações sobre as assinaturas públicas de um conjunto de F# elementos de programa, como tipos, namespaces e módulos.
ms.date: 06/15/2018
ms.openlocfilehash: c04ac8bf4ee360a2caa15be8f2bbea41105bd160
ms.sourcegitcommit: f20dd18dbcf2275513281f5d9ad7ece6a62644b4
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/30/2019
ms.locfileid: "68627158"
---
# <a name="signatures"></a><span data-ttu-id="dac9a-103">Assinaturas</span><span class="sxs-lookup"><span data-stu-id="dac9a-103">Signatures</span></span>

<span data-ttu-id="dac9a-104">Um arquivo de assinatura contém informações sobre as assinaturas públicas de um conjunto de elementos de programação de F#, como tipos, namespaces e módulos.</span><span class="sxs-lookup"><span data-stu-id="dac9a-104">A signature file contains information about the public signatures of a set of F# program elements, such as types, namespaces, and modules.</span></span> <span data-ttu-id="dac9a-105">Ele pode ser usado para especificar a acessibilidade desses elementos de programa.</span><span class="sxs-lookup"><span data-stu-id="dac9a-105">It can be used to specify the accessibility of these program elements.</span></span>

## <a name="remarks"></a><span data-ttu-id="dac9a-106">Comentários</span><span class="sxs-lookup"><span data-stu-id="dac9a-106">Remarks</span></span>

<span data-ttu-id="dac9a-107">Para cada F# arquivo de código, você pode ter um *arquivo de assinatura*, que é um arquivo que tem o mesmo nome que o arquivo de código, mas com a extensão. FSI em vez de. FS.</span><span class="sxs-lookup"><span data-stu-id="dac9a-107">For each F# code file, you can have a *signature file*, which is a file that has the same name as the code file but with the extension .fsi instead of .fs.</span></span> <span data-ttu-id="dac9a-108">Os arquivos de assinatura também podem ser adicionados à linha de comando de compilação se você estiver usando a linha de comando diretamente.</span><span class="sxs-lookup"><span data-stu-id="dac9a-108">Signature files can also be added to the compilation command-line if you are using the command line directly.</span></span> <span data-ttu-id="dac9a-109">Para distinguir entre arquivos de código e arquivos de assinatura, os arquivos de código, às vezes, são chamados de *arquivos de implementação*.</span><span class="sxs-lookup"><span data-stu-id="dac9a-109">To distinguish between code files and signature files, code files are sometimes referred to as *implementation files*.</span></span> <span data-ttu-id="dac9a-110">Em um projeto, o arquivo de assinatura deve preceder o arquivo de código associado.</span><span class="sxs-lookup"><span data-stu-id="dac9a-110">In a project, the signature file should precede the associated code file.</span></span>

<span data-ttu-id="dac9a-111">Um arquivo de assinatura descreve os namespaces, os módulos, os tipos e os membros no arquivo de implementação correspondente.</span><span class="sxs-lookup"><span data-stu-id="dac9a-111">A signature file describes the namespaces, modules, types, and members in the corresponding implementation file.</span></span> <span data-ttu-id="dac9a-112">Você usa as informações em um arquivo de assinatura para especificar quais partes do código no arquivo de implementação correspondente podem ser acessadas do código fora do arquivo de implementação e quais partes são internas ao arquivo de implementação.</span><span class="sxs-lookup"><span data-stu-id="dac9a-112">You use the information in a signature file to specify what parts of the code in the corresponding implementation file can be accessed from code outside the implementation file, and what parts are internal to the implementation file.</span></span> <span data-ttu-id="dac9a-113">Os namespaces, os módulos e os tipos incluídos no arquivo de assinatura devem ser um subconjunto dos namespaces, módulos e tipos incluídos no arquivo de implementação.</span><span class="sxs-lookup"><span data-stu-id="dac9a-113">The namespaces, modules, and types that are included in the signature file must be a subset of the namespaces, modules, and types that are included in the implementation file.</span></span> <span data-ttu-id="dac9a-114">Com algumas exceções mencionadas posteriormente neste tópico, os elementos de idioma que não estão listados no arquivo de assinatura são considerados particulares para o arquivo de implementação.</span><span class="sxs-lookup"><span data-stu-id="dac9a-114">With some exceptions noted later in this topic, those language elements that are not listed in the signature file are considered private to the implementation file.</span></span> <span data-ttu-id="dac9a-115">Se nenhum arquivo de assinatura for encontrado no projeto ou na linha de comando, a acessibilidade padrão será usada.</span><span class="sxs-lookup"><span data-stu-id="dac9a-115">If no signature file is found in the project or command line, the default accessibility is used.</span></span>

<span data-ttu-id="dac9a-116">Para obter mais informações sobre a acessibilidade padrão, consulte [controle de acesso](access-control.md).</span><span class="sxs-lookup"><span data-stu-id="dac9a-116">For more information about the default accessibility, see [Access Control](access-control.md).</span></span>

<span data-ttu-id="dac9a-117">Em um arquivo de assinatura, você não repete a definição dos tipos e as implementações de cada método ou função.</span><span class="sxs-lookup"><span data-stu-id="dac9a-117">In a signature file, you do not repeat the definition of the types and the implementations of each method or function.</span></span> <span data-ttu-id="dac9a-118">Em vez disso, você usa a assinatura para cada método e função, que atua como uma especificação completa da funcionalidade implementada por um fragmento de módulo ou de namespace.</span><span class="sxs-lookup"><span data-stu-id="dac9a-118">Instead, you use the signature for each method and function, which acts as a complete specification of the functionality that is implemented by a module or namespace fragment.</span></span> <span data-ttu-id="dac9a-119">A sintaxe de uma assinatura de tipo é igual à usada em declarações de método abstratas em interfaces e classes abstratas, e também é mostrada pelo IntelliSense F# e pelo intérprete FSI. exe quando exibe a entrada compilada corretamente.</span><span class="sxs-lookup"><span data-stu-id="dac9a-119">The syntax for a type signature is the same as that used in abstract method declarations in interfaces and abstract classes, and is also shown by IntelliSense and by the F# interpreter fsi.exe when it displays correctly compiled input.</span></span>

<span data-ttu-id="dac9a-120">Se não houver informações suficientes na assinatura de tipo para indicar se um tipo é lacrado ou se é um tipo de interface, você deve adicionar um atributo que indique a natureza do tipo ao compilador.</span><span class="sxs-lookup"><span data-stu-id="dac9a-120">If there is not enough information in the type signature to indicate whether a type is sealed, or whether it is an interface type, you must add an attribute that indicates the nature of the type to the compiler.</span></span> <span data-ttu-id="dac9a-121">Os atributos que você usa para essa finalidade são descritos na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="dac9a-121">Attributes that you use for this purpose are described in the following table.</span></span>

|<span data-ttu-id="dac9a-122">Atributo</span><span class="sxs-lookup"><span data-stu-id="dac9a-122">Attribute</span></span>|<span data-ttu-id="dac9a-123">Descrição</span><span class="sxs-lookup"><span data-stu-id="dac9a-123">Description</span></span>|
|---------|-----------|
|`[<Sealed>]`|<span data-ttu-id="dac9a-124">Para um tipo que não tem membros abstratos ou que não deve ser estendido.</span><span class="sxs-lookup"><span data-stu-id="dac9a-124">For a type that has no abstract members, or that should not be extended.</span></span>|
|`[<Interface>]`|<span data-ttu-id="dac9a-125">Para um tipo que é uma interface.</span><span class="sxs-lookup"><span data-stu-id="dac9a-125">For a type that is an interface.</span></span>|

<span data-ttu-id="dac9a-126">O compilador produzirá um erro se os atributos não forem consistentes entre a assinatura e a declaração no arquivo de implementação.</span><span class="sxs-lookup"><span data-stu-id="dac9a-126">The compiler produces an error if the attributes are not consistent between the signature and the declaration in the implementation file.</span></span>

<span data-ttu-id="dac9a-127">Use a palavra `val` -chave para criar uma assinatura para um valor ou valor de função.</span><span class="sxs-lookup"><span data-stu-id="dac9a-127">Use the keyword `val` to create a signature for a value or function value.</span></span> <span data-ttu-id="dac9a-128">A palavra `type` -chave apresenta uma assinatura de tipo.</span><span class="sxs-lookup"><span data-stu-id="dac9a-128">The keyword `type` introduces a type signature.</span></span>

<span data-ttu-id="dac9a-129">Você pode gerar um arquivo de assinatura usando a `--sig` opção do compilador.</span><span class="sxs-lookup"><span data-stu-id="dac9a-129">You can generate a signature file by using the `--sig` compiler option.</span></span> <span data-ttu-id="dac9a-130">Em geral, você não grava arquivos. FSI manualmente.</span><span class="sxs-lookup"><span data-stu-id="dac9a-130">Generally, you do not write .fsi files manually.</span></span> <span data-ttu-id="dac9a-131">Em vez disso, você gera arquivos. FSI usando o compilador, adiciona-os ao seu projeto, se você tiver um, e editá-los removendo métodos e funções que você não deseja que sejam acessíveis.</span><span class="sxs-lookup"><span data-stu-id="dac9a-131">Instead, you generate .fsi files by using the compiler, add them to your project, if you have one, and edit them by removing methods and functions that you do not want to be accessible.</span></span>

<span data-ttu-id="dac9a-132">Há várias regras para assinaturas de tipo:</span><span class="sxs-lookup"><span data-stu-id="dac9a-132">There are several rules for type signatures:</span></span>

- <span data-ttu-id="dac9a-133">As abreviações de tipo em um arquivo de implementação não devem corresponder a um tipo sem uma abreviação em um arquivo de assinatura.</span><span class="sxs-lookup"><span data-stu-id="dac9a-133">Type abbreviations in an implementation file must not match a type without an abbreviation in a signature file.</span></span>

- <span data-ttu-id="dac9a-134">Registros e uniões discriminadas devem expor todos ou nenhum dos seus campos e construtores, e a ordem na assinatura deve corresponder à ordem no arquivo de implementação.</span><span class="sxs-lookup"><span data-stu-id="dac9a-134">Records and discriminated unions must expose either all or none of their fields and constructors, and the order in the signature must match the order in the implementation file.</span></span> <span data-ttu-id="dac9a-135">As classes podem revelar alguns, todos ou nenhum dos seus campos e métodos na assinatura.</span><span class="sxs-lookup"><span data-stu-id="dac9a-135">Classes can reveal some, all, or none of their fields and methods in the signature.</span></span>

- <span data-ttu-id="dac9a-136">Classes e estruturas que têm construtores devem expor as declarações de suas classes base (a `inherits` declaração).</span><span class="sxs-lookup"><span data-stu-id="dac9a-136">Classes and structures that have constructors must expose the declarations of their base classes (the `inherits` declaration).</span></span> <span data-ttu-id="dac9a-137">Além disso, as classes e estruturas que têm construtores devem expor todos os seus métodos abstratos e declarações de interface.</span><span class="sxs-lookup"><span data-stu-id="dac9a-137">Also, classes and structures that have constructors must expose all of their abstract methods and interface declarations.</span></span>

- <span data-ttu-id="dac9a-138">Os tipos de interface devem revelar todos os seus métodos e interfaces.</span><span class="sxs-lookup"><span data-stu-id="dac9a-138">Interface types must reveal all their methods and interfaces.</span></span>

<span data-ttu-id="dac9a-139">As regras para as assinaturas de valor são as seguintes:</span><span class="sxs-lookup"><span data-stu-id="dac9a-139">The rules for value signatures are as follows:</span></span>

- <span data-ttu-id="dac9a-140">Os modificadores para acessibilidade`public`( `internal`, e assim por diante) e `inline` os `mutable` modificadores e na assinatura devem corresponder aos da implementação.</span><span class="sxs-lookup"><span data-stu-id="dac9a-140">Modifiers for accessibility (`public`, `internal`, and so on) and the `inline` and `mutable` modifiers in the signature must match those in the implementation.</span></span>

- <span data-ttu-id="dac9a-141">O número de parâmetros de tipo genérico (implicitamente inferido ou declarado explicitamente) deve corresponder, e os tipos e as restrições de tipo em parâmetros de tipo genérico devem corresponder.</span><span class="sxs-lookup"><span data-stu-id="dac9a-141">The number of generic type parameters (either implicitly inferred or explicitly declared) must match, and the types and type constraints in generic type parameters must match.</span></span>

- <span data-ttu-id="dac9a-142">Se o `Literal` atributo for usado, ele deverá aparecer na assinatura e na implementação, e o mesmo valor literal deverá ser usado para ambos.</span><span class="sxs-lookup"><span data-stu-id="dac9a-142">If the `Literal` attribute is used, it must appear in both the signature and the implementation, and the same literal value must be used for both.</span></span>

- <span data-ttu-id="dac9a-143">O padrão de parâmetros (também conhecido como *arity*) de assinaturas e implementações deve ser consistente.</span><span class="sxs-lookup"><span data-stu-id="dac9a-143">The pattern of parameters (also known as the *arity*) of signatures and implementations must be consistent.</span></span>

- <span data-ttu-id="dac9a-144">Se os nomes de parâmetro em um arquivo de assinatura forem diferentes do arquivo de implementação correspondente, o nome no arquivo de assinatura será usado em vez disso, o que pode causar problemas durante a depuração ou a criação de perfil.</span><span class="sxs-lookup"><span data-stu-id="dac9a-144">If parameter names in a signature file differ from the corresponding implementation file, the name in the signature file will be used instead, which may cause issues when debugging or profiling.</span></span> <span data-ttu-id="dac9a-145">Se você quiser ser notificado sobre tais incompatibilidades, habilite o aviso 3218 em seu arquivo de projeto ou ao invocar o `--warnon` compilador (consulte em [Opções do compilador](compiler-options.md)).</span><span class="sxs-lookup"><span data-stu-id="dac9a-145">If you wish to be notified of such mismatches, enable warning 3218 in your project file or when invoking the compiler (see `--warnon` under [Compiler Options](compiler-options.md)).</span></span>

<span data-ttu-id="dac9a-146">O exemplo de código a seguir mostra um exemplo de um arquivo de assinatura que tem o namespace, módulo, valor de função e assinaturas de tipo junto com os atributos apropriados.</span><span class="sxs-lookup"><span data-stu-id="dac9a-146">The following code example shows an example of a signature file that has namespace, module, function value, and type signatures together with the appropriate attributes.</span></span> <span data-ttu-id="dac9a-147">Ele também mostra o arquivo de implementação correspondente.</span><span class="sxs-lookup"><span data-stu-id="dac9a-147">It also shows the corresponding implementation file.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssignatures/snippet9002.fs)]

<span data-ttu-id="dac9a-148">O código a seguir mostra o arquivo de implementação.</span><span class="sxs-lookup"><span data-stu-id="dac9a-148">The following code shows the implementation file.</span></span>

[!code-fsharp[Main](~/samples/snippets/fsharp/fssignatures/snippet9001.fs)]

## <a name="see-also"></a><span data-ttu-id="dac9a-149">Consulte também</span><span class="sxs-lookup"><span data-stu-id="dac9a-149">See also</span></span>

- [<span data-ttu-id="dac9a-150">Referência da Linguagem F#</span><span class="sxs-lookup"><span data-stu-id="dac9a-150">F# Language Reference</span></span>](index.md)
- [<span data-ttu-id="dac9a-151">Controle de Acesso</span><span class="sxs-lookup"><span data-stu-id="dac9a-151">Access Control</span></span>](access-control.md)
- [<span data-ttu-id="dac9a-152">Opções do Compilador</span><span class="sxs-lookup"><span data-stu-id="dac9a-152">Compiler Options</span></span>](compiler-options.md)
