---
title: Criar uma solução completa do .NET Core usando o Visual Studio para Mac
description: Este artigo orienta você pela criação de uma solução .NET Core que inclui uma biblioteca reutilizável e testes de unidade.
ms.date: 12/19/2019
ms.openlocfilehash: dea23da33912de849f0dcbe1e2f6fa3edb3a5e24
ms.sourcegitcommit: 9c54866bcbdc49dbb981dd55be9bbd0443837aa2
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/14/2020
ms.locfileid: "77215201"
---
# <a name="build-a-complete-net-core-solution-on-macos-using-visual-studio-for-mac"></a><span data-ttu-id="e3aa8-103">Criar uma solução completa do .NET Core no macOS usando Visual Studio para Mac</span><span class="sxs-lookup"><span data-stu-id="e3aa8-103">Build a complete .NET Core solution on macOS using Visual Studio for Mac</span></span>

<span data-ttu-id="e3aa8-104">O Visual Studio para Mac fornece um IDE (Ambiente de desenvolvimento integrado) completo para desenvolver aplicativos .NET Core.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-104">Visual Studio for Mac provides a full-featured Integrated Development Environment (IDE) for developing .NET Core applications.</span></span> <span data-ttu-id="e3aa8-105">Este artigo orienta você pela criação de uma solução .NET Core que inclui uma biblioteca reutilizável e testes de unidade.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-105">This article walks you through building a .NET Core solution that includes a reusable library and unit testing.</span></span>

<span data-ttu-id="e3aa8-106">Este tutorial mostra como criar um aplicativo que aceita uma palavra de pesquisa e uma cadeia de caracteres de texto do usuário, conta o número de vezes que a palavra de pesquisa aparece na cadeia de caracteres usando um método em uma biblioteca de classes e depois retorna o resultado ao usuário.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-106">This tutorial shows you how to create an application that accepts a search word and a string of text from the user, counts the number of times the search word appears in the string using a method in a class library, and returns the result to the user.</span></span> <span data-ttu-id="e3aa8-107">A solução também inclui um teste de unidade para a biblioteca de classes como uma introdução aos conceitos de teste de unidade.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-107">The solution also includes unit testing for the class library as an introduction to unit testing concepts.</span></span> <span data-ttu-id="e3aa8-108">Se você preferir acompanhar o tutorial com um exemplo completo, baixe o [exemplo de solução](https://github.com/dotnet/samples/blob/master/core/tutorials/using-on-mac-vs-full-solution/WordCounter).</span><span class="sxs-lookup"><span data-stu-id="e3aa8-108">If you prefer to proceed through the tutorial with a complete sample, download the [sample solution](https://github.com/dotnet/samples/blob/master/core/tutorials/using-on-mac-vs-full-solution/WordCounter).</span></span> <span data-ttu-id="e3aa8-109">Para obter instruções de download, consulte [Exemplos e tutoriais](../../samples-and-tutorials/index.md#viewing-and-downloading-samples).</span><span class="sxs-lookup"><span data-stu-id="e3aa8-109">For download instructions, see [Samples and Tutorials](../../samples-and-tutorials/index.md#viewing-and-downloading-samples).</span></span>

> [!NOTE]
> <span data-ttu-id="e3aa8-110">Seus comentários são muito importantes.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-110">Your feedback is highly valued.</span></span> <span data-ttu-id="e3aa8-111">Há duas maneiras de enviar comentários à equipe de desenvolvimento no Visual Studio para Mac:</span><span class="sxs-lookup"><span data-stu-id="e3aa8-111">There are two ways you can provide feedback to the development team on Visual Studio for Mac:</span></span>
>
> - <span data-ttu-id="e3aa8-112">No Visual Studio para Mac, escolha **Ajuda** > **Relatar um Problema** no menu, ou **Relatar um Problema** na tela de boas-vindas. Isso abrirá uma janela para registrar um relatório de bug.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-112">In Visual Studio for Mac, select **Help** > **Report a Problem** from the menu or **Report a Problem** from the Welcome screen, which opens a window for filing a bug report.</span></span> <span data-ttu-id="e3aa8-113">Você pode acompanhar seus comentários no portal [Developer Community (Comunidade do Desenvolvedor)](https://developercommunity.visualstudio.com/spaces/41/index.html).</span><span class="sxs-lookup"><span data-stu-id="e3aa8-113">You can track your feedback in the [Developer Community](https://developercommunity.visualstudio.com/spaces/41/index.html) portal.</span></span>
> - <span data-ttu-id="e3aa8-114">Para fazer uma sugestão, escolha **Ajuda** > **Forneça uma Sugestão** no menu ou **Forneça uma Sugestão** na tela de boas-vindas. Isso leva você até a página da Web da [Comunidade de Desenvolvedores do Visual Studio para Mac](https://developercommunity.visualstudio.com/content/idea/post.html?space=41).</span><span class="sxs-lookup"><span data-stu-id="e3aa8-114">To make a suggestion, select **Help** > **Provide a Suggestion** from the menu or **Provide a Suggestion** from the Welcome screen, which takes you to the [Visual Studio for Mac Developer Community webpage](https://developercommunity.visualstudio.com/content/idea/post.html?space=41).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="e3aa8-115">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="e3aa8-115">Prerequisites</span></span>

- [<span data-ttu-id="e3aa8-116">SDK do .NET Core 3,1 ou posterior</span><span class="sxs-lookup"><span data-stu-id="e3aa8-116">.NET Core SDK 3.1 or later</span></span>](https://dotnet.microsoft.com/download)
- [<span data-ttu-id="e3aa8-117">Visual Studio 2019 para Mac</span><span class="sxs-lookup"><span data-stu-id="e3aa8-117">Visual Studio 2019 for Mac</span></span>](https://visualstudio.microsoft.com/vs/mac/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link)

<span data-ttu-id="e3aa8-118">Para obter mais informações sobre os pré-requisitos, consulte as [dependências e os requisitos do .NET Core](../install/dependencies.md?pivots=os-macos).</span><span class="sxs-lookup"><span data-stu-id="e3aa8-118">For more information on prerequisites, see the [.NET Core dependencies and requirements](../install/dependencies.md?pivots=os-macos).</span></span> <span data-ttu-id="e3aa8-119">Para obter os requisitos de sistema completos do Visual Studio 2019 para Mac, consulte [requisitos de sistema da família de produtos do visual studio 2019 para Mac](/visualstudio/productinfo/vs2019-system-requirements-mac).</span><span class="sxs-lookup"><span data-stu-id="e3aa8-119">For the full system requirements of Visual Studio 2019 for Mac, see [Visual Studio 2019 for Mac Product Family System Requirements](/visualstudio/productinfo/vs2019-system-requirements-mac).</span></span>

## <a name="building-a-library"></a><span data-ttu-id="e3aa8-120">Compilar uma biblioteca</span><span class="sxs-lookup"><span data-stu-id="e3aa8-120">Building a library</span></span>

1. <span data-ttu-id="e3aa8-121">Na janela iniciar, selecione **novo projeto**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-121">On the start window, select **New Project**.</span></span> <span data-ttu-id="e3aa8-122">Na caixa de diálogo **Novo Projeto**, sob o nó **.NET Core**, selecione o modelo **Biblioteca .NET Standard**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-122">In the **New Project** dialog under the **.NET Core** node, select the **.NET Standard Library** template.</span></span> <span data-ttu-id="e3aa8-123">Este comando cria uma biblioteca de .NET Standard que tem como alvo o .NET Core, bem como qualquer outra implementação do .NET que ofereça suporte à versão 2,1 do [.net Standard](../../standard/net-standard.md).</span><span class="sxs-lookup"><span data-stu-id="e3aa8-123">This command creates a .NET Standard library that targets .NET Core as well as any other .NET implementation that supports version 2.1 of the [.NET Standard](../../standard/net-standard.md).</span></span> <span data-ttu-id="e3aa8-124">Se você tiver várias versões do SDK do .NET Core instaladas, poderá escolher versões diferentes do .NET Standard para sua biblioteca.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-124">If you have multiple versions of the .NET Core SDK installed, you can choose different versions of .NET Standard for your library.</span></span> <span data-ttu-id="e3aa8-125">Escolha ".NET Standard 2,1" e selecione **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-125">Choose ".NET Standard 2.1" and select **Next**.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-126">![Visual Studio para Mac caixa de diálogo novo projeto](./media/using-on-mac-vs-full-solution/visual-studio-mac-new-project.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-126">![Visual Studio for Mac New project dialog](./media/using-on-mac-vs-full-solution/visual-studio-mac-new-project.png)</span></span>

1. <span data-ttu-id="e3aa8-127">Nomeie o projeto "TextUtils" (um nome curto para "Utilitários de Texto") e a solução "WordCounter".</span><span class="sxs-lookup"><span data-stu-id="e3aa8-127">Name the project "TextUtils" (a short name for "Text Utilities") and the solution "WordCounter".</span></span> <span data-ttu-id="e3aa8-128">Deixe a opção **Criar um diretório de projeto no diretório da solução** marcada.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-128">Leave **Create a project directory within the solution directory** checked.</span></span> <span data-ttu-id="e3aa8-129">Selecione **Criar**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-129">Select **Create**.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-130">![Visual Studio para Mac opções de diálogo novo projeto](./media/using-on-mac-vs-full-solution/visual-studio-mac-new-project-options.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-130">![Visual Studio for Mac New project dialog options](./media/using-on-mac-vs-full-solution/visual-studio-mac-new-project-options.png)</span></span>

1. <span data-ttu-id="e3aa8-131">No painel de **solução** , expanda o nó `TextUtils` para revelar o arquivo de classe fornecido pelo modelo, *Class1.cs*.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-131">In the **Solution** pad, expand the `TextUtils` node to reveal the class file provided by the template, *Class1.cs*.</span></span> <span data-ttu-id="e3aa8-132">CTRL-clique no arquivo, selecione **renomear** no menu de contexto e renomeie o arquivo para *WordCount.cs*.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-132">Ctrl-click the file, select **Rename** from the context menu, and rename the file to *WordCount.cs*.</span></span> <span data-ttu-id="e3aa8-133">Abra o arquivo e substitua o conteúdo pelo código a seguir:</span><span class="sxs-lookup"><span data-stu-id="e3aa8-133">Open the file and replace the contents with the following code:</span></span>

   [!code-csharp[Main](../../../samples/core/tutorials/using-on-mac-vs-full-solution/WordCounter/TextUtils/WordCount.cs)]

1. <span data-ttu-id="e3aa8-134">Salve <kbd>&#8984;</kbd> o arquivo usando qualquer um dos três métodos diferentes: Use o atalho de teclado+<kbd>s</kbd>, selecione **arquivo** > **salvar** no menu ou CTRL + clique na guia do arquivo e selecione **salvar** no menu contextual.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-134">Save the file by using any of three different methods: use the keyboard shortcut <kbd>&#8984;</kbd>+<kbd>s</kbd>, select **File** > **Save** from the menu, or ctrl-click on the file's tab and select **Save** from the contextual menu.</span></span> <span data-ttu-id="e3aa8-135">A imagem a seguir mostra a janela do IDE:</span><span class="sxs-lookup"><span data-stu-id="e3aa8-135">The following image shows the IDE window:</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-136">![Visual Studio para Mac janela do IDE com o método e o arquivo da biblioteca de classes](./media/using-on-mac-vs-full-solution/visual-studio-mac-editor.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-136">![Visual Studio for Mac IDE window with class library file and method](./media/using-on-mac-vs-full-solution/visual-studio-mac-editor.png)</span></span>

1. <span data-ttu-id="e3aa8-137">Selecione **Erros** na margem da parte inferior da janela do IDE para abrir o painel **Erros**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-137">Select **Errors** in the margin at the bottom of the IDE window to open the **Errors** panel.</span></span> <span data-ttu-id="e3aa8-138">Selecione o botão **Compilar Saída**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-138">Select the **Build Output** button.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-139">![margem inferior do IDE do Visual Studio Mac mostrando o botão erros](./media/using-on-mac-vs-full-solution/visual-studio-mac-error-button.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-139">![Bottom margin of the Visual Studio Mac IDE showing the Errors button](./media/using-on-mac-vs-full-solution/visual-studio-mac-error-button.png)</span></span>

1. <span data-ttu-id="e3aa8-140">Selecione **Compilar** > **Compilar Tudo** no menu.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-140">Select **Build** > **Build All** from the menu.</span></span>

   <span data-ttu-id="e3aa8-141">A solução é compilada.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-141">The solution builds.</span></span> <span data-ttu-id="e3aa8-142">O painel de saída da compilação mostra que a compilação foi bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-142">The build output panel shows that the build is successful.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-143">![painel saída de Build do Visual Studio Mac do painel erros com a mensagem Build bem-sucedida](./media/using-on-mac-vs-full-solution/visual-studio-mac-build-panel.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-143">![Visual Studio Mac Build output pane of the Errors panel with Build successful message](./media/using-on-mac-vs-full-solution/visual-studio-mac-build-panel.png)</span></span>

## <a name="creating-a-test-project"></a><span data-ttu-id="e3aa8-144">Criar um projeto de teste</span><span class="sxs-lookup"><span data-stu-id="e3aa8-144">Creating a test project</span></span>

<span data-ttu-id="e3aa8-145">As unidade de teste fornecem testes de software automatizados durante o desenvolvimento e a publicação.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-145">Unit tests provide automated software testing during your development and publishing.</span></span> <span data-ttu-id="e3aa8-146">A estrutura de teste que você usa neste tutorial é [xUnit (versão 2.4.0 ou posterior)](https://xunit.github.io/), que é instalada automaticamente quando o projeto de teste xUnit é adicionado à solução nas seguintes etapas:</span><span class="sxs-lookup"><span data-stu-id="e3aa8-146">The testing framework that you use in this tutorial is [xUnit (version 2.4.0 or later)](https://xunit.github.io/), which is installed automatically when the xUnit test project is added to the solution in the following steps:</span></span>

1. <span data-ttu-id="e3aa8-147">Na barra lateral da **solução** , clique com o botão CTRL na solução `WordCounter` e selecione **Adicionar** > **Adicionar novo projeto**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-147">In the **Solution** sidebar, ctrl-click the `WordCounter` solution and select **Add** > **Add New Project**.</span></span>

1. <span data-ttu-id="e3aa8-148">Na caixa de diálogo **Novo Projeto**, selecione **Testes** sob o nó **.NET Core**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-148">In the **New Project** dialog, select **Tests** from the **.NET Core** node.</span></span> <span data-ttu-id="e3aa8-149">Selecione o **Projeto de Teste xUnit** e depois **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-149">Select the **xUnit Test Project** followed by **Next**.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-150">caixa de diálogo ![novo projeto do Visual Studio Mac criando projeto de teste do xUnit](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-project.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-150">![Visual Studio Mac New Project dialog creating xUnit test project](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-project.png)</span></span>

1. <span data-ttu-id="e3aa8-151">Se você tiver várias versões do SDK do .NET Core, precisará selecionar a versão deste projeto.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-151">If you have multiple versions of the .NET Core SDK, you'll need to select the version for this project.</span></span> <span data-ttu-id="e3aa8-152">Selecione **.NET Core 3,1**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-152">Select **.NET Core 3.1**.</span></span> <span data-ttu-id="e3aa8-153">Nomeie o novo projeto "TestLibrary" e selecione **Criar**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-153">Name the new project "TestLibrary" and select **Create**.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-154">![caixa de diálogo novo projeto do Visual Studio Mac fornecendo o nome do projeto](./media/using-on-mac-vs-full-solution/visual-studio-mac-new-project-name.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-154">![Visual Studio Mac New Project dialog providing project name](./media/using-on-mac-vs-full-solution/visual-studio-mac-new-project-name.png)</span></span>

1. <span data-ttu-id="e3aa8-155">Para que a biblioteca de teste funcione com a classe `WordCount`, adicione uma referência ao projeto `TextUtils`.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-155">In order for the test library to work with the `WordCount` class, add a reference to the `TextUtils` project.</span></span> <span data-ttu-id="e3aa8-156">Na barra lateral da **solução** , pressione CTRL e clique em **dependências** em **TestLibrary**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-156">In the **Solution** sidebar, ctrl-click **Dependencies** under **TestLibrary**.</span></span> <span data-ttu-id="e3aa8-157">Selecione **Editar Referências** no menu de contexto.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-157">Select **Edit References** from the context menu.</span></span>

1. <span data-ttu-id="e3aa8-158">Na caixa de diálogo **Editar referências** , selecione o projeto **textutils** na guia **projetos** . Selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-158">In the **Edit References** dialog, select the **TextUtils** project on the **Projects** tab. Select **OK**.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-159">](./media/using-on-mac-vs-full-solution/visual-studio-mac-edit-references.png) de diálogo ![Visual Studio Mac editar referências</span><span class="sxs-lookup"><span data-stu-id="e3aa8-159">![Visual Studio Mac Edit References dialog](./media/using-on-mac-vs-full-solution/visual-studio-mac-edit-references.png)</span></span>

1. <span data-ttu-id="e3aa8-160">No projeto **TestLibrary**, renomeie o arquivo *Unittest1* como *TextUtilsTests.cs*.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-160">In the **TestLibrary** project, rename the *UnitTest1.cs* file to *TextUtilsTests.cs*.</span></span>

1. <span data-ttu-id="e3aa8-161">Abra o arquivo e substitua o código pelo código a seguir:</span><span class="sxs-lookup"><span data-stu-id="e3aa8-161">Open the file and replace the code with the following code:</span></span>

   ```csharp
   using Xunit;
   using TextUtils;
   using System.Diagnostics;

   namespace TestLibrary
   {
       public class TextUtils_GetWordCountShould
       {
           [Fact]
           public void IgnoreCasing()
           {
               var wordCount = WordCount.GetWordCount("Jack", "Jack jack");

               Assert.NotEqual(2, wordCount);
           }
       }
   }
   ```

   <span data-ttu-id="e3aa8-162">A imagem a seguir mostra o IDE com o código de teste de unidade aplicado.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-162">The following image shows the IDE with the unit test code in place.</span></span> <span data-ttu-id="e3aa8-163">Preste atenção à instrução `Assert.NotEqual`.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-163">Pay attention to the `Assert.NotEqual` statement.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-164">![Visual Studio para Mac teste de unidade inicial na janela principal do IDE](./media/using-on-mac-vs-full-solution/visual-studio-mac-assert-test.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-164">![Visual Studio for Mac Initial unit test in the IDE main window](./media/using-on-mac-vs-full-solution/visual-studio-mac-assert-test.png)</span></span>

   <span data-ttu-id="e3aa8-165">É importante fazer um novo teste falhar uma vez a fim de confirmar que a lógica do teste está correta.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-165">It's important to make a new test fail once to confirm its testing logic is correct.</span></span> <span data-ttu-id="e3aa8-166">O método passa o nome "Jack" (maiúsculo) e uma cadeia de caracteres com "Jack" e "jack" (letras maiúsculas e minúsculas).</span><span class="sxs-lookup"><span data-stu-id="e3aa8-166">The method passes in the name "Jack" (uppercase) and a string with "Jack" and "jack" (uppercase and lowercase).</span></span> <span data-ttu-id="e3aa8-167">Se o método `GetWordCount` estiver funcionando corretamente, ele retornará uma contagem de duas instâncias da palavra de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-167">If the `GetWordCount` method is working properly, it returns a count of two instances of the search word.</span></span> <span data-ttu-id="e3aa8-168">Para falhar de propósito nesse teste, primeiro implemente o teste declarando que duas instâncias da palavra de pesquisa "Jack" não foram retornadas pelo método `GetWordCount`.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-168">In order to fail this test on purpose, you first implement the test asserting that two instances of the search word "Jack" aren't returned by the `GetWordCount` method.</span></span> <span data-ttu-id="e3aa8-169">Vá para a próxima etapa para falhar no teste de propósito.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-169">Continue to the next step to fail the test on purpose.</span></span>

1. <span data-ttu-id="e3aa8-170">Abra o painel **Testes de Unidade** no lado direito da tela.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-170">Open the **Unit Tests** panel on the right side of the screen.</span></span> <span data-ttu-id="e3aa8-171">Selecione **exibir** > **testes** no menu.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-171">Select **View** > **Tests** from the menu.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-172">![Visual Studio para Mac painel de testes de unidade](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-panel.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-172">![Visual Studio for Mac Unit Tests panel](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-panel.png)</span></span>

1. <span data-ttu-id="e3aa8-173">Clique no ícone **Dock** para manter o painel aberto.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-173">Click the **Dock** icon to keep the panel open.</span></span> <span data-ttu-id="e3aa8-174">(Realçado na imagem a seguir.)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-174">(Highlighted in the following image.)</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-175">![ícone de encaixe do painel de Visual Studio para Mac de testes de unidade](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-dock-icon.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-175">![Visual Studio for Mac Unit Tests panel dock icon](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-dock-icon.png)</span></span>

1. <span data-ttu-id="e3aa8-176">Clique no botão **Executar Tudo**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-176">Click the **Run All** button.</span></span>

   <span data-ttu-id="e3aa8-177">O teste falhará, o que é o resultado correto.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-177">The test fails, which is the correct result.</span></span> <span data-ttu-id="e3aa8-178">O método de teste afirma que duas instâncias da `inputString`, "Jack", não foram retornadas da cadeia de caracteres "Jack jack" fornecida ao método `GetWordCount`.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-178">The test method asserts that two instances of the `inputString`, "Jack," aren't returned from the string "Jack jack" provided to the `GetWordCount` method.</span></span> <span data-ttu-id="e3aa8-179">Como as maiúsculas e minúsculas de palavra foram fatoradas no método `GetWordCount`, duas instâncias retornam.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-179">Since word casing was factored out in the `GetWordCount` method, two instances are returned.</span></span> <span data-ttu-id="e3aa8-180">A declaração de que 2 *não é igual a* 2 falha.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-180">The assertion that 2 *is not equal to* 2 fails.</span></span> <span data-ttu-id="e3aa8-181">Esse resultado é o resultado correto, e a lógica do nosso teste é boa.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-181">This result is the correct outcome, and the logic of our test is good.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-182">![Visual Studio para Mac exibição de falha de teste](./media/using-on-mac-vs-full-solution/visual-studio-for-mac-unit-test-failure.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-182">![Visual Studio for Mac test failure display](./media/using-on-mac-vs-full-solution/visual-studio-for-mac-unit-test-failure.png)</span></span>

1. <span data-ttu-id="e3aa8-183">Modifique o método de teste `IgnoreCasing` alterando `Assert.NotEqual` para `Assert.Equal`.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-183">Modify the `IgnoreCasing` test method by changing `Assert.NotEqual` to `Assert.Equal`.</span></span> <span data-ttu-id="e3aa8-184">Salve o arquivo usando o atalho de teclado <kbd>Ctrl</kbd>+<kbd>s</kbd>, **arquivo** > **salvar** no menu ou CTRL + clique na guia do arquivo e selecione **salvar** no menu de contexto.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-184">Save the file by using the keyboard shortcut <kbd>Ctrl</kbd>+<kbd>s</kbd>, **File** > **Save** from the menu, or ctrl-clicking on the file's tab and selecting **Save** from the context menu.</span></span>

   <span data-ttu-id="e3aa8-185">Você espera que a `searchWord` "Jack" retorne duas instâncias com `inputString` "Jack jack" passadas para `GetWordCount`.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-185">You expect that the `searchWord` "Jack" returns two instances with `inputString` "Jack jack" passed into `GetWordCount`.</span></span> <span data-ttu-id="e3aa8-186">Execute o teste novamente clicando no botão **Executar Testes** no painel **Testes de Unidade** ou no botão **Executar Testes Novamente** no painel **Resultados do Teste** na parte inferior da tela.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-186">Run the test again by clicking the **Run Tests** button in the **Unit Tests** panel or the **Rerun Tests** button in the **Test Results** panel at the bottom of the screen.</span></span> <span data-ttu-id="e3aa8-187">O teste é aprovado.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-187">The test passes.</span></span> <span data-ttu-id="e3aa8-188">Há duas instâncias de "Jack" na cadeia de caracteres "Jack jack" (ignorando maiúsculas e minúsculas) e a declaração do teste é `true`.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-188">There are two instances of "Jack" in the string "Jack jack" (ignoring casing), and the test assertion is `true`.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-189">![Visual Studio para Mac de testes de](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-pass.png) de exibição aprovados</span><span class="sxs-lookup"><span data-stu-id="e3aa8-189">![Visual Studio for Mac tests pass display](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-pass.png)</span></span>

1. <span data-ttu-id="e3aa8-190">Testar os valores de retorno individuais com um `Fact` é apenas o começo do que você pode fazer com testes de unidade.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-190">Testing individual return values with a `Fact` is only the beginning of what you can do with unit testing.</span></span> <span data-ttu-id="e3aa8-191">Outra técnica poderosa permite o teste de vários valores de uma só vez usando um `Theory`.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-191">Another powerful technique allows you to test several values at once using a `Theory`.</span></span> <span data-ttu-id="e3aa8-192">Adicione o seguinte método à sua classe `TextUtils_GetWordCountShould`.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-192">Add the following method to your `TextUtils_GetWordCountShould` class.</span></span> <span data-ttu-id="e3aa8-193">Você terá dois métodos na classe depois de adicionar este método:</span><span class="sxs-lookup"><span data-stu-id="e3aa8-193">You have two methods in the class after you add this method:</span></span>

   ```csharp
   [Theory]
   [InlineData(0, "Ting", "Does not appear in the string.")]
   [InlineData(1, "Ting", "Ting appears once.")]
   [InlineData(2, "Ting", "Ting appears twice with Ting.")]
   public void CountInstancesCorrectly(int count,
                                       string searchWord,
                                       string inputString)
   {
       Assert.NotEqual(count, WordCount.GetWordCount(searchWord,
                                                  inputString));
   }
   ```

   <span data-ttu-id="e3aa8-194">`CountInstancesCorrectly` verifica se o método `GetWordCount` conta corretamente.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-194">The `CountInstancesCorrectly` checks that the `GetWordCount` method counts correctly.</span></span> <span data-ttu-id="e3aa8-195">`InlineData` fornece uma contagem, uma palavra de pesquisa e uma cadeia de caracteres de entrada para verificação.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-195">The `InlineData` provides a count, a search word, and an input string to check.</span></span> <span data-ttu-id="e3aa8-196">O método de teste é executado uma vez para cada linha de dados.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-196">The test method runs once for each line of data.</span></span> <span data-ttu-id="e3aa8-197">Observe novamente que você está declarando uma falha primeiro usando `Assert.NotEqual`, mesmo quando você sabe que as contagens dos dados estão corretas e os valores correspondem à contagem retornada pelo método `GetWordCount`.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-197">Note once again that you're asserting a failure first by using `Assert.NotEqual`, even when you know that the counts in the data are correct and that the values match the counts returned by the `GetWordCount` method.</span></span> <span data-ttu-id="e3aa8-198">A princípio, a etapa de falhar de propósito no teste parece ser perda de tempo, mas a verificação da lógica do teste gerando uma falha primeiro é uma verificação importante da lógica de seus testes.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-198">Performing the step of failing the test on purpose might seem like a waste of time at first, but checking the logic of the test by failing it first is an important check on the logic of your tests.</span></span> <span data-ttu-id="e3aa8-199">Quando um método de teste é aprovado apesar de você esperar uma falha, você terá encontrado um bug na lógica do teste.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-199">When you come across a test method that passes when you expect it to fail, you've found a bug in the logic of the test.</span></span> <span data-ttu-id="e3aa8-200">Vale a pena o esforço para executar essa etapa sempre que você criar um método de teste.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-200">It's worth the effort to take this step every time you create a test method.</span></span>

1. <span data-ttu-id="e3aa8-201">Salve o arquivo e execute os testes novamente.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-201">Save the file and run the tests again.</span></span> <span data-ttu-id="e3aa8-202">O teste de maiúsculas e minúsculas é aprovado, mas os três testes de contagem falham.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-202">The casing test passes but the three count tests fail.</span></span> <span data-ttu-id="e3aa8-203">Esse resultado é exatamente o que você espera que aconteça.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-203">This outcome is exactly what you expect to happen.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-204">![Visual Studio para Mac falha de teste esperada](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-failure.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-204">![Visual Studio for Mac expected test failure](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-failure.png)</span></span>

1. <span data-ttu-id="e3aa8-205">Modifique o método de teste `CountInstancesCorrectly` alterando `Assert.NotEqual` para `Assert.Equal`.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-205">Modify the `CountInstancesCorrectly` test method by changing `Assert.NotEqual` to `Assert.Equal`.</span></span> <span data-ttu-id="e3aa8-206">Salve o arquivo.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-206">Save the file.</span></span> <span data-ttu-id="e3aa8-207">Execute os testes novamente.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-207">Run the tests again.</span></span> <span data-ttu-id="e3aa8-208">Todos os testes serão aprovados.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-208">All tests pass.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-209">![Visual Studio para Mac aprovações de teste esperadas](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-pass.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-209">![Visual Studio for Mac expected test passes](./media/using-on-mac-vs-full-solution/visual-studio-mac-unit-test-pass.png)</span></span>

## <a name="adding-a-console-app"></a><span data-ttu-id="e3aa8-210">Adicionar um aplicativo do console</span><span class="sxs-lookup"><span data-stu-id="e3aa8-210">Adding a console app</span></span>

1. <span data-ttu-id="e3aa8-211">Na barra lateral da **solução** , clique com o botão CTRL na solução `WordCounter`.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-211">In the **Solution** sidebar, ctrl-click the `WordCounter` solution.</span></span> <span data-ttu-id="e3aa8-212">Adicione um novo projeto de **Aplicativo de Console** selecionando o modelo em **.NET Core** > **Aplicativo**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-212">Add a new **Console Application** project by selecting the template from the **.NET Core** > **App** templates.</span></span> <span data-ttu-id="e3aa8-213">Selecione **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-213">Select **Next**.</span></span> <span data-ttu-id="e3aa8-214">Nomeie o projeto **WordCounterApp**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-214">Name the project **WordCounterApp**.</span></span> <span data-ttu-id="e3aa8-215">Selecione **Criar** para criar o projeto na solução.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-215">Select **Create** to create the project in the solution.</span></span>

1. <span data-ttu-id="e3aa8-216">Na barra lateral **soluções** , pressione CTRL e clique no nó **dependências** do novo projeto **WordCounterApp** .</span><span class="sxs-lookup"><span data-stu-id="e3aa8-216">In the **Solutions** sidebar, ctrl-click the **Dependencies** node of the new **WordCounterApp** project.</span></span> <span data-ttu-id="e3aa8-217">Na caixa de diálogo **Editar Referências**, marque **TextUtils** e selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-217">In the **Edit References** dialog, check **TextUtils** and select **OK**.</span></span>

1. <span data-ttu-id="e3aa8-218">Abra o arquivo *Program.cs*.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-218">Open the *Program.cs* file.</span></span> <span data-ttu-id="e3aa8-219">Substitua o código pelo código a seguir:</span><span class="sxs-lookup"><span data-stu-id="e3aa8-219">Replace the code with the following code:</span></span>

   [!code-csharp[Main](../../../samples/core/tutorials/using-on-mac-vs-full-solution/WordCounter/WordCounterApp/Program.cs)]

1. <span data-ttu-id="e3aa8-220">CTRL + clique no projeto `WordCounterApp` e selecione **Executar projeto** no menu de contexto.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-220">Ctrl-click on the `WordCounterApp` project and select **Run project** from the context menu.</span></span> <span data-ttu-id="e3aa8-221">Ao executar o aplicativo, forneça valores para a palavra de pesquisa e a cadeia de caracteres de entrada nos prompts da janela do console.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-221">When you run the app, provide values for the search word and input string at the prompts in the console window.</span></span> <span data-ttu-id="e3aa8-222">O aplicativo indica o número de vezes que a palavra de pesquisa aparece na cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-222">The app indicates the number of times the search word appears in the string.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-223">![janela do Console Visual Studio para Mac mostrando seu aplicativo em execução](./media/using-on-mac-vs-full-solution/visual-studio-mac-console-window.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-223">![Visual Studio for Mac console window showing your app running](./media/using-on-mac-vs-full-solution/visual-studio-mac-console-window.png)</span></span>

1. <span data-ttu-id="e3aa8-224">O último recurso a ser explorado é a depuração com o Visual Studio para Mac.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-224">The last feature to explore is debugging with Visual Studio for Mac.</span></span> <span data-ttu-id="e3aa8-225">Defina um ponto de interrupção na instrução `Console.WriteLine`: selecione na margem esquerda da linha 23, e um círculo vermelho aparecerá ao lado da linha do código.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-225">Set a breakpoint on the `Console.WriteLine` statement: Select in the left margin of line 23, and you see a red circle appear next to the line of code.</span></span> <span data-ttu-id="e3aa8-226">Como alternativa, selecione qualquer lugar na linha de código e selecione **Executar** > **Alternar Ponto de Interrupção** no menu.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-226">Alternatively, select anywhere on the line of code and select **Run** > **Toggle Breakpoint** from the menu.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-227">![conjunto de Visual Studio para Mac de ponto de interrupção](./media/using-on-mac-vs-full-solution/visual-studio-mac-breakpoint.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-227">![Visual Studio for Mac breakpoint set](./media/using-on-mac-vs-full-solution/visual-studio-mac-breakpoint.png)</span></span>

1. <span data-ttu-id="e3aa8-228">CTRL + clique no projeto `WordCounterApp`.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-228">ctrl-click the `WordCounterApp` project.</span></span> <span data-ttu-id="e3aa8-229">Selecione **Iniciar Depuração de projeto** no menu de contexto.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-229">Select **Start Debugging Project** from the context menu.</span></span> <span data-ttu-id="e3aa8-230">Quando o aplicativo for executado, insira a palavra de pesquisa "gato" e "O cachorro perseguiu o gato, mas o gato escapou."</span><span class="sxs-lookup"><span data-stu-id="e3aa8-230">When the app runs, enter the search word "cat" and "The dog chased the cat, but the cat escaped."</span></span> <span data-ttu-id="e3aa8-231">na cadeia de caracteres a ser pesquisada.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-231">for the string to search.</span></span> <span data-ttu-id="e3aa8-232">Quando a instrução `Console.WriteLine` é atingida, a execução do programa é interrompida antes que a instrução seja executada.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-232">When the `Console.WriteLine` statement is reached, program execution halts before the statement is executed.</span></span> <span data-ttu-id="e3aa8-233">Na guia **Locais**, você pode ver os valores `searchWord`, `inputString`, `wordCount` e `pluralChar`.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-233">In the **Locals** tab, you can see the `searchWord`, `inputString`, `wordCount`, and `pluralChar` values.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-234">![execução do programa do depurador Visual Studio para Mac interrompida](./media/using-on-mac-vs-full-solution/visual-studio-mac-debugger.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-234">![Visual Studio for Mac debugger program execution stopped](./media/using-on-mac-vs-full-solution/visual-studio-mac-debugger.png)</span></span>

1. <span data-ttu-id="e3aa8-235">No painel **Imediato**, digite "wordCount = 999;" e pressione Enter.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-235">In the **Immediate** pane, type "wordCount = 999;" and press Enter.</span></span> <span data-ttu-id="e3aa8-236">Esse comando atribui um valor sem sentido de 999 à variável `wordCount` mostrando que você pode substituir valores de variáveis durante a depuração.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-236">This command assigns a nonsense value of 999 to the `wordCount` variable showing that you can replace variable values while debugging.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-237">![Visual Studio para Mac alterar os valores na janela imediata](./media/using-on-mac-vs-full-solution/visual-studio-mac-immediate-window.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-237">![Visual Studio for Mac changing values in the immediate window](./media/using-on-mac-vs-full-solution/visual-studio-mac-immediate-window.png)</span></span>

1. <span data-ttu-id="e3aa8-238">Na barra de ferramentas, clique na seta *continuar*.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-238">In the toolbar, click the *continue* arrow.</span></span> <span data-ttu-id="e3aa8-239">Procure a saída na janela do console.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-239">Look at the output in the console window.</span></span> <span data-ttu-id="e3aa8-240">Ela informa o valor incorreto de 999 definido durante a depuração do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-240">It reports the incorrect value of 999 that you set when you were debugging the app.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-241">![botão Visual Studio para Mac continuar na barra de ferramentas](./media/using-on-mac-vs-full-solution/visual-studio-mac-toolbar.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-241">![Visual Studio for Mac continue button in the toolbar](./media/using-on-mac-vs-full-solution/visual-studio-mac-toolbar.png)</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="e3aa8-242">![saída da janela do Console Visual Studio para Mac](./media/using-on-mac-vs-full-solution/visual-studio-mac-output.png)</span><span class="sxs-lookup"><span data-stu-id="e3aa8-242">![Visual Studio for Mac console window output](./media/using-on-mac-vs-full-solution/visual-studio-mac-output.png)</span></span>

<span data-ttu-id="e3aa8-243">Você pode usar o mesmo processo para depurar o código usando seu projeto de teste de unidade.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-243">You can use the same process to debug code using your unit test project.</span></span> <span data-ttu-id="e3aa8-244">Em vez de iniciar o projeto de aplicativo WordCount, pressione CTRL para o projeto de **biblioteca de teste** e selecione **Iniciar Depuração de projeto** no menu de contexto.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-244">Instead of starting the WordCount app project, ctrl-click the **Test Library** project, and select **Start Debugging Project** from the context menu.</span></span> <span data-ttu-id="e3aa8-245">Visual Studio para Mac inicia o projeto de teste com o depurador anexado.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-245">Visual Studio for Mac starts your test project with the debugger attached.</span></span> <span data-ttu-id="e3aa8-246">A execução será interrompida em qualquer ponto de interrupção que você adicionou ao projeto de teste ou no código de biblioteca subjacente.</span><span class="sxs-lookup"><span data-stu-id="e3aa8-246">Execution will stop at any breakpoint you've added to the test project, or the underlying library code.</span></span>

## <a name="see-also"></a><span data-ttu-id="e3aa8-247">Confira também</span><span class="sxs-lookup"><span data-stu-id="e3aa8-247">See also</span></span>

- [<span data-ttu-id="e3aa8-248">Notas sobre a versão do Visual Studio 2019 para Mac</span><span class="sxs-lookup"><span data-stu-id="e3aa8-248">Visual Studio 2019 for Mac Release Notes</span></span>](/visualstudio/releasenotes/vs2019-mac-relnotes)
