---
title: Porte do .NET Framework para o .NET Core
description: Entenda o processo de compatibilidade e descubra ferramentas que podem ser úteis ao realizar a portabilidade de um projeto do .NET Framework para o .NET Core.
author: cartermp
ms.date: 10/22/2019
ms.openlocfilehash: 764c615d250474573f873b1745b9f1469e637d29
ms.sourcegitcommit: 34968a61e9bac0f6be23ed6ffb837f52d2390c85
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/17/2020
ms.locfileid: "94687406"
---
# <a name="overview-of-porting-from-net-framework-to-net-core"></a><span data-ttu-id="535bf-103">Visão geral da portabilidade do .NET Framework para o .NET Core</span><span class="sxs-lookup"><span data-stu-id="535bf-103">Overview of porting from .NET Framework to .NET Core</span></span>

<span data-ttu-id="535bf-104">Você pode ter um código que atualmente é executado no .NET Framework que você está interessado em portar para o .NET Core.</span><span class="sxs-lookup"><span data-stu-id="535bf-104">You might have code that currently runs on the .NET Framework that you're interested in porting to .NET Core.</span></span> <span data-ttu-id="535bf-105">Esse artigo fornece:</span><span class="sxs-lookup"><span data-stu-id="535bf-105">This article provides:</span></span>

* <span data-ttu-id="535bf-106">Uma visão geral do processo de portabilidade.</span><span class="sxs-lookup"><span data-stu-id="535bf-106">An overview of the porting process.</span></span>
* <span data-ttu-id="535bf-107">Uma lista de ferramentas que você pode achar útil quando está portando seu código para o .NET Core.</span><span class="sxs-lookup"><span data-stu-id="535bf-107">A list of tools that you may find helpful when you're porting your code to .NET Core.</span></span>

## <a name="overview-of-the-porting-process"></a><span data-ttu-id="535bf-108">Visão geral do processo de portabilidade</span><span class="sxs-lookup"><span data-stu-id="535bf-108">Overview of the porting process</span></span>

<span data-ttu-id="535bf-109">Portar para .NET Core (ou .NET Standard) de .NET Framework para muitos projetos é relativamente simples.</span><span class="sxs-lookup"><span data-stu-id="535bf-109">Porting to .NET Core (or .NET Standard) from .NET Framework for many projects is relatively straightforward.</span></span> <span data-ttu-id="535bf-110">Há várias alterações que são necessárias, mas muitas delas seguem os padrões descritos abaixo.</span><span class="sxs-lookup"><span data-stu-id="535bf-110">There are a number of changes that are required, but many of them follow the patterns outlined below.</span></span> <span data-ttu-id="535bf-111">Os projetos em que o modelo de aplicativo está disponível no .NET Core (como bibliotecas, aplicativos de console e aplicativos de área de trabalho) geralmente exigem pouca alteração.</span><span class="sxs-lookup"><span data-stu-id="535bf-111">Projects where the app-model is available in .NET Core (such as libraries, console apps, and desktop applications) usually require little changes.</span></span> <span data-ttu-id="535bf-112">Os projetos que exigem um novo modelo de aplicativo, como a mudança para ASP.NET Core de ASP.NET, exigem um pouco mais de trabalho, mas muitos padrões têm analogias que podem ser usadas durante a conversão.</span><span class="sxs-lookup"><span data-stu-id="535bf-112">Projects that require a new app model, such as moving to ASP.NET Core from ASP.NET, require a bit more work, but many patterns have analogs that can be used during the conversion.</span></span> <span data-ttu-id="535bf-113">Este documento deve ajudar a identificar as principais estratégias que foram empregadas pelos usuários para converter com êxito suas bases de código para o destino .NET Standard ou o .NET Core e abordarão a conversão em dois níveis: toda a solução e o projeto específico.</span><span class="sxs-lookup"><span data-stu-id="535bf-113">This document should help with identifying the main strategies that have been employed by users to successfully convert their code bases to target .NET Standard or .NET Core and will address the conversion at two levels: solution-wide and project specific.</span></span> <span data-ttu-id="535bf-114">Consulte os links na parte inferior para obter instruções sobre conversões específicas de modelo de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="535bf-114">See the links at the bottom for directions on app-model specific conversions.</span></span>

<span data-ttu-id="535bf-115">Recomendamos que você use o processo a seguir ao portar seu projeto para o .NET Core.</span><span class="sxs-lookup"><span data-stu-id="535bf-115">We recommend you use the following process when porting your project to .NET Core.</span></span> <span data-ttu-id="535bf-116">Cada uma dessas etapas introduz possíveis locais para alterações de comportamento, portanto, certifique-se de testar adequadamente sua biblioteca ou aplicativo antes de continuar em etapas posteriores.</span><span class="sxs-lookup"><span data-stu-id="535bf-116">Each of these steps introduces potential places for behavior changes, so ensure that you adequately test your library or application before continuing on to later steps.</span></span> <span data-ttu-id="535bf-117">As primeiras etapas são preparar seu projeto para um comutador para .NET Standard ou para o .NET Core.</span><span class="sxs-lookup"><span data-stu-id="535bf-117">The first steps are to get your project ready for a switch to .NET Standard or .NET Core.</span></span> <span data-ttu-id="535bf-118">Se você tiver testes de unidade, será melhor convertê-los primeiro para que você possa continuar testando as alterações no produto em que está trabalhando.</span><span class="sxs-lookup"><span data-stu-id="535bf-118">If you have unit tests, it's best to convert them first so that you can continue testing changes in the product you're working on.</span></span> <span data-ttu-id="535bf-119">Como a portabilidade para o .NET Core é uma alteração significativa na base de código, é altamente recomendável portar seus projetos de teste para que você possa executar testes à medida que você portar seu código.</span><span class="sxs-lookup"><span data-stu-id="535bf-119">Because porting to .NET Core is such a significant change to your codebase, it's highly recommended to port your test projects so that you can run tests as you port your code over.</span></span> <span data-ttu-id="535bf-120">MSTest, xUnit e NUnit funcionam no .NET Core.</span><span class="sxs-lookup"><span data-stu-id="535bf-120">MSTest, xUnit, and NUnit all work on .NET Core.</span></span>

## <a name="getting-started"></a><span data-ttu-id="535bf-121">Introdução</span><span class="sxs-lookup"><span data-stu-id="535bf-121">Getting started</span></span>

<span data-ttu-id="535bf-122">As ferramentas a seguir serão usadas em todo o processo:</span><span class="sxs-lookup"><span data-stu-id="535bf-122">The following tools will be used throughout the process:</span></span>

- <span data-ttu-id="535bf-123">Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="535bf-123">Visual Studio 2019</span></span>
- <span data-ttu-id="535bf-124">Baixar o [.net Portability Analyzer](../../standard/analyzers/portability-analyzer.md)</span><span class="sxs-lookup"><span data-stu-id="535bf-124">Download [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md)</span></span>
- <span data-ttu-id="535bf-125">_Opcional_ Instalar [dotnet try – Convert](https://github.com/dotnet/try-convert)</span><span class="sxs-lookup"><span data-stu-id="535bf-125">_Optional_ Install [dotnet try-convert](https://github.com/dotnet/try-convert)</span></span>

## <a name="porting-a-solution"></a><span data-ttu-id="535bf-126">Portando uma solução</span><span class="sxs-lookup"><span data-stu-id="535bf-126">Porting a solution</span></span>

<span data-ttu-id="535bf-127">Quando há vários projetos em uma solução, a portabilidade pode parecer mais complicada porque você deve tratar projetos em uma ordem específica.</span><span class="sxs-lookup"><span data-stu-id="535bf-127">When there are multiple projects in a solution, the porting can seem more complicated because you must address projects in a specific order.</span></span> <span data-ttu-id="535bf-128">O processo de conversão deve ser uma abordagem de baixo para cima, em que os projetos sem dependências em outros projetos na solução são convertidos primeiro e continuam em toda a solução.</span><span class="sxs-lookup"><span data-stu-id="535bf-128">The conversion process should be a bottom-up approach, where the projects with no dependencies on other projects in the solution are converted first, and continue up through the whole solution.</span></span>

<span data-ttu-id="535bf-129">Para identificar a ordem em que os projetos devem ser migrados, você pode usar as seguintes ferramentas:</span><span class="sxs-lookup"><span data-stu-id="535bf-129">In order to identify the order projects should be migrated, you can use the following tools:</span></span>

- <span data-ttu-id="535bf-130">Os [diagramas de dependência no Visual Studio](/visualstudio/modeling/create-layer-diagrams-from-your-code) podem criar um grafo direcionado do código em uma solução.</span><span class="sxs-lookup"><span data-stu-id="535bf-130">[Dependency Diagrams in Visual Studio](/visualstudio/modeling/create-layer-diagrams-from-your-code) can create a directed graph of the code in a solution.</span></span>
- <span data-ttu-id="535bf-131">Execute `msbuild _SolutionPath_ /t:GenerateRestoreGraphFile /p:RestoreGraphOutputPath=graph.dg.json` para gerar um documento JSON que inclui a lista de referências do projeto.</span><span class="sxs-lookup"><span data-stu-id="535bf-131">Run `msbuild _SolutionPath_ /t:GenerateRestoreGraphFile /p:RestoreGraphOutputPath=graph.dg.json` to generate a json document that includes list of project references.</span></span>
- <span data-ttu-id="535bf-132">Execute o [analisador de portabilidade do .net](../../standard/analyzers/portability-analyzer.md) com a `-r DGML` opção para recuperar um diagrama de dependência dos assemblies.</span><span class="sxs-lookup"><span data-stu-id="535bf-132">Run [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) with the `-r DGML` switch to retrieve a dependency diagram of the assemblies.</span></span> <span data-ttu-id="535bf-133">Para saber mais, clique [aqui](../../standard/analyzers/portability-analyzer.md#solution-wide-view).</span><span class="sxs-lookup"><span data-stu-id="535bf-133">For more information, see [here](../../standard/analyzers/portability-analyzer.md#solution-wide-view).</span></span>

<span data-ttu-id="535bf-134">Depois que você tiver informações de dependência, poderá usar essas informações para começar nos nós folha e trabalhar com a árvore de dependência aplicando as etapas na próxima seção.</span><span class="sxs-lookup"><span data-stu-id="535bf-134">Once you have dependency information, you can use that information to start at the leaf nodes and work your way up the dependency tree applying the steps in the next section.</span></span>

## <a name="per-project-steps"></a><span data-ttu-id="535bf-135">Etapas por projeto</span><span class="sxs-lookup"><span data-stu-id="535bf-135">Per project steps</span></span>

<span data-ttu-id="535bf-136">Recomendamos que você use o seguinte processo ao portar seu projeto para o .NET Core:</span><span class="sxs-lookup"><span data-stu-id="535bf-136">We recommend you use the following process when porting your project to .NET Core:</span></span>

1. <span data-ttu-id="535bf-137">Converta todas as suas `packages.config` dependências para o formato [PackageReference](/nuget/consume-packages/package-references-in-project-files) com a [ferramenta de conversão no Visual Studio](/nuget/consume-packages/migrate-packages-config-to-package-reference).</span><span class="sxs-lookup"><span data-stu-id="535bf-137">Convert all of your `packages.config` dependencies to the [PackageReference](/nuget/consume-packages/package-references-in-project-files) format with the [conversion tool in Visual Studio](/nuget/consume-packages/migrate-packages-config-to-package-reference).</span></span>

   <span data-ttu-id="535bf-138">Esta etapa envolve a conversão de suas dependências do formato herdado `packages.config` .</span><span class="sxs-lookup"><span data-stu-id="535bf-138">This step involves converting your dependencies from the legacy `packages.config` format.</span></span> <span data-ttu-id="535bf-139">`packages.config` Não funciona no .NET Core, portanto, essa conversão será necessária se você tiver dependências de pacote.</span><span class="sxs-lookup"><span data-stu-id="535bf-139">`packages.config` doesn't work on .NET Core, so this conversion is required if you have package dependencies.</span></span> <span data-ttu-id="535bf-140">Ele também requer apenas as dependências que você está usando diretamente em um projeto, o que facilita mais as etapas, reduzindo o número de dependências que você deve gerenciar.</span><span class="sxs-lookup"><span data-stu-id="535bf-140">It also only requires the dependencies you are directly using in a project, which makes later steps easier by reducing the number of dependencies you must manage.</span></span>

1. <span data-ttu-id="535bf-141">Converta o arquivo de projeto para a nova estrutura de arquivos em estilo SDK.</span><span class="sxs-lookup"><span data-stu-id="535bf-141">Convert your project file to the new SDK-style files structure.</span></span> <span data-ttu-id="535bf-142">Você pode criar novos projetos para o .NET Core e copiar sobre os arquivos de origem, ou tentar converter o arquivo de projeto existente com uma ferramenta.</span><span class="sxs-lookup"><span data-stu-id="535bf-142">You can create new projects for .NET Core and copy over source files, or attempt to convert your existing project file with a tool.</span></span>

   <span data-ttu-id="535bf-143">O .NET Core usa um formato de arquivo de [projeto](../tools/csproj.md) simplificado (e diferente) do que o .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="535bf-143">.NET Core uses a simplified (and different) [project file format](../tools/csproj.md) than .NET Framework.</span></span> <span data-ttu-id="535bf-144">Você precisará converter os arquivos de projeto nesse formato para continuar.</span><span class="sxs-lookup"><span data-stu-id="535bf-144">You'll need to convert your project files into this format to continue.</span></span> <span data-ttu-id="535bf-145">Este estilo de projeto permite que você também direcione .NET Framework, que neste ponto você ainda desejará direcionar.</span><span class="sxs-lookup"><span data-stu-id="535bf-145">This project style allows you to also target .NET Framework, which at this point you'll still want to target.</span></span>

   <span data-ttu-id="535bf-146">Você pode tentar portar soluções menores ou projetos individuais em uma operação para o formato de arquivo de projeto do .NET Core com a ferramenta [dotnet try-Convert](https://github.com/dotnet/try-convert) .</span><span class="sxs-lookup"><span data-stu-id="535bf-146">You can attempt to port smaller solutions or individual projects in one operation to the .NET Core project file format with the [dotnet try-convert](https://github.com/dotnet/try-convert) tool.</span></span> <span data-ttu-id="535bf-147">`dotnet try-convert` Não tem garantia de funcionar para todos os seus projetos e pode causar alterações sutis no comportamento que você dependou.</span><span class="sxs-lookup"><span data-stu-id="535bf-147">`dotnet try-convert` is not guaranteed to work for all your projects, and it may cause subtle changes in behavior that you depended on.</span></span> <span data-ttu-id="535bf-148">Use-o como um _ponto de partida_ que automatize as coisas básicas que podem ser automatizadas.</span><span class="sxs-lookup"><span data-stu-id="535bf-148">Use it as a _starting point_ that automates the basic things that can be automated.</span></span> <span data-ttu-id="535bf-149">Não é uma solução garantida para migrar um projeto, pois há muitas diferenças nos destinos usados pelos projetos de estilo do SDK em comparação com os arquivos de projeto de estilo antigo.</span><span class="sxs-lookup"><span data-stu-id="535bf-149">It isn't a guaranteed solution to migrating a project, as there are many differences in the targets used by the SDK style projects compared to the old-style project files.</span></span>

1. <span data-ttu-id="535bf-150">Redirecione todos os projetos que você deseja que a porta direcione .NET Framework 4.7.2 ou superior.</span><span class="sxs-lookup"><span data-stu-id="535bf-150">Retarget all projects you wish to port to target .NET Framework 4.7.2 or higher.</span></span>

   <span data-ttu-id="535bf-151">Essa etapa garante que você possa usar alternativas de API para destinos específicos do .NET Framework quando o .NET Core não oferecer suporte a determinada API.</span><span class="sxs-lookup"><span data-stu-id="535bf-151">This step ensures that you can use API alternatives for .NET Framework-specific targets when .NET Core doesn't support a particular API.</span></span>

1. <span data-ttu-id="535bf-152">Atualize todas as dependências para a versão mais recente.</span><span class="sxs-lookup"><span data-stu-id="535bf-152">Update all dependencies to the latest version.</span></span> <span data-ttu-id="535bf-153">Os projetos podem estar usando versões mais antigas de bibliotecas que podem não ter suporte .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="535bf-153">Projects may be using older versions of libraries that may not have .NET Standard support.</span></span> <span data-ttu-id="535bf-154">No entanto, as versões posteriores podem dar suporte a ela com um comutador simples.</span><span class="sxs-lookup"><span data-stu-id="535bf-154">However, later versions may support it with a simple switch.</span></span> <span data-ttu-id="535bf-155">Isso pode exigir alterações de código se houver alterações significativas nas bibliotecas.</span><span class="sxs-lookup"><span data-stu-id="535bf-155">This may require code changes if there are breaking changes in libraries.</span></span>

1. <span data-ttu-id="535bf-156">Use o [.net Portability Analyzer](../../standard/analyzers/portability-analyzer.md) para analisar seus assemblies e ver se eles são portáteis para o .NET Core.</span><span class="sxs-lookup"><span data-stu-id="535bf-156">Use the [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) to analyze your assemblies and see if they're portable to .NET Core.</span></span>

   <span data-ttu-id="535bf-157">A ferramenta Analisador de portabilidade .NET analisa seus assemblies compilados e gera um relatório.</span><span class="sxs-lookup"><span data-stu-id="535bf-157">The .NET Portability Analyzer tool analyzes your compiled assemblies and generates a report.</span></span> <span data-ttu-id="535bf-158">Este relatório mostra um resumo de portabilidade de alto nível e uma análise de cada API que você está usando e que não está disponível no .NET Core.</span><span class="sxs-lookup"><span data-stu-id="535bf-158">This report shows a high-level portability summary and a breakdown of each API you're using that isn't available on .NET Core.</span></span> <span data-ttu-id="535bf-159">Ao usar a ferramenta, envie apenas o projeto individual que você está convertendo para se concentrar nas alterações da API que são potencialmente necessárias.</span><span class="sxs-lookup"><span data-stu-id="535bf-159">While using the tool, only submit the individual project you are converting to focus on the API changes that are potentially needed.</span></span> <span data-ttu-id="535bf-160">Muitas das APIs têm disponibilidade equivalente no .NET Core, para a qual você vai querer alternar.</span><span class="sxs-lookup"><span data-stu-id="535bf-160">Many of the APIs have equivalent availability in .NET Core, which you'll want to switch to.</span></span>

   <span data-ttu-id="535bf-161">Ao ler os relatórios gerados pelo analisador, as informações importantes são as APIs reais que estão sendo usadas e não necessariamente a porcentagem de suporte para a plataforma de destino.</span><span class="sxs-lookup"><span data-stu-id="535bf-161">While reading the reports generated by the analyzer, the important information is the actual APIs that are being used and not necessarily the percentage of support for the target platform.</span></span> <span data-ttu-id="535bf-162">Muitas APIs têm opções equivalentes no .NET Standard/Core e, portanto, entender os cenários de que sua biblioteca ou aplicativo precisa para a API ajudará a determinar a implicação da portabilidade.</span><span class="sxs-lookup"><span data-stu-id="535bf-162">Many APIs have equivalent options in .NET Standard/Core, and so understanding the scenarios your library or application needs the API for will help determine the implication for portability.</span></span>

   <span data-ttu-id="535bf-163">Há alguns casos em que as APIs não são equivalentes e você precisará fazer algumas diretivas de pré-processador do compilador (ou seja, `#if NET45` ) para o caso especial das plataformas.</span><span class="sxs-lookup"><span data-stu-id="535bf-163">There are some cases where APIs are not equivalent and you'll need to do some compiler preprocessor directives (that is, `#if NET45`) to special case the platforms.</span></span> <span data-ttu-id="535bf-164">Neste ponto, seu projeto ainda será direcionado .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="535bf-164">At this point, your project will still be targeting .NET Framework.</span></span> <span data-ttu-id="535bf-165">Para cada um desses casos de destino, é recomendável usar condicionais bem conhecidos que podem ser compreendidos como um cenário.</span><span class="sxs-lookup"><span data-stu-id="535bf-165">For each of these targeted cases, it is recommended to use well-known conditionals that can be understood as a scenario.</span></span>  <span data-ttu-id="535bf-166">Por exemplo, o suporte a AppDomain no .NET Core é limitado, mas para o cenário de carregamento e descarregamento de assemblies, há uma nova API que não está disponível no .NET Core.</span><span class="sxs-lookup"><span data-stu-id="535bf-166">For example, AppDomain support in .NET Core is limited, but for the scenario of loading and unloading assemblies, there is a new API that's not available in .NET Core.</span></span> <span data-ttu-id="535bf-167">Uma maneira comum de lidar com isso no código seria algo assim:</span><span class="sxs-lookup"><span data-stu-id="535bf-167">A common way to handle this in code would be something like this:</span></span>

   ```csharp
   #if FEATURE_APPDOMAIN_LOADING
   // Code that uses appdomains
   #elif FEATURE_ASSEMBLY_LOAD_CONTEXT
   // Code that uses assembly load context
   #else
   #error Unsupported platform
   #endif
   ```

1. <span data-ttu-id="535bf-168">Instale o [.NET API Analyzer](../../standard/analyzers/api-analyzer.md) em seus projetos para identificar as APIs que lançam <xref:System.PlatformNotSupportedException> em algumas plataformas e outros problemas de compatibilidade em potencial.</span><span class="sxs-lookup"><span data-stu-id="535bf-168">Install the [.NET API analyzer](../../standard/analyzers/api-analyzer.md) into your projects to identify APIs that throw <xref:System.PlatformNotSupportedException> on some platforms and some other potential compatibility issues.</span></span>

   <span data-ttu-id="535bf-169">Essa ferramenta é semelhante ao analisador de portabilidade, mas em vez de analisar se o código pode ser criado no .NET Core, ele analisa se você está usando uma API de uma forma que gerará um <xref:System.PlatformNotSupportedException> em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="535bf-169">This tool is similar to the portability analyzer, but instead of analyzing if code can build on .NET Core, it analyzes whether you're using an API in a way that will throw a <xref:System.PlatformNotSupportedException> at run time.</span></span> <span data-ttu-id="535bf-170">Embora isso não seja comum se você estiver mudando de .NET Framework 4.7.2 ou superior, é bom verificar.</span><span class="sxs-lookup"><span data-stu-id="535bf-170">Although this isn't common if you're moving from .NET Framework 4.7.2 or higher, it's good to check.</span></span> <span data-ttu-id="535bf-171">Para obter mais informações sobre APIs que lançam exceções no .NET Core, consulte [APIs que sempre lançam exceções no .NET Core](../compatibility/unsupported-apis.md).</span><span class="sxs-lookup"><span data-stu-id="535bf-171">For more information about APIs that throw exceptions on .NET Core, see [APIs that always throw exceptions on .NET Core](../compatibility/unsupported-apis.md).</span></span>

1. <span data-ttu-id="535bf-172">Neste ponto, você pode mudar para direcionar o .NET Core (geralmente para aplicativos) ou .NET Standard (para bibliotecas).</span><span class="sxs-lookup"><span data-stu-id="535bf-172">At this point, you can switch to targeting .NET Core (generally for applications) or .NET Standard (for libraries).</span></span>

   <span data-ttu-id="535bf-173">A escolha entre o .NET Core e o .NET Standard é amplamente dependente de onde o projeto será executado.</span><span class="sxs-lookup"><span data-stu-id="535bf-173">The choice between .NET Core and .NET Standard is largely dependent on where the project will be run.</span></span> <span data-ttu-id="535bf-174">Se for uma biblioteca que será consumida por outros aplicativos ou distribuída via NuGet, a preferência geralmente será direcionada .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="535bf-174">If it is a library that will be consumed by other applications or distributed via NuGet, the preference is usually to target .NET Standard.</span></span> <span data-ttu-id="535bf-175">No entanto, pode haver APIs que só estão disponíveis no .NET Core para fins de desempenho ou outros motivos; Se esse for o caso, o .NET Core deve ser direcionado com uma compilação potencialmente .NET Standard disponível, bem como desempenho ou funcionalidade reduzidos.</span><span class="sxs-lookup"><span data-stu-id="535bf-175">However, there may be APIs that are only available on .NET Core for performance or other reasons; if that's the case, .NET Core should be targeted with potentially a .NET Standard build available as well with reduced performance or functionality.</span></span> <span data-ttu-id="535bf-176">Ao direcionar .NET Standard, o projeto estará pronto para ser executado em novas plataformas (como Webassembly).</span><span class="sxs-lookup"><span data-stu-id="535bf-176">By targeting .NET Standard, the project will be ready to run on new platforms (such as WebAssembly).</span></span> <span data-ttu-id="535bf-177">Se o projeto tiver dependências em estruturas de aplicativo específicas (como ASP.NET Core), o destino será limitado pelo que as dependências dão suporte.</span><span class="sxs-lookup"><span data-stu-id="535bf-177">If the project has dependencies on specific app frameworks (such as ASP.NET Core), then the target will be limited by what the dependencies support.</span></span>

   <span data-ttu-id="535bf-178">Se não houver diretivas de pré-processador para o código de compilação condicional para .NET Framework ou .NET Standard, isso será tão simples quanto encontrar o seguinte no arquivo de projeto:</span><span class="sxs-lookup"><span data-stu-id="535bf-178">If there are no preprocessor directives to conditional compile code for .NET Framework or .NET Standard, this will be as simple as finding the following in the project file:</span></span>

   ```xml
   <TargetFramework>net472</TargetFramework>
   ```

   <span data-ttu-id="535bf-179">e alterne para a estrutura desejada.</span><span class="sxs-lookup"><span data-stu-id="535bf-179">and switch it to the desired framework.</span></span> <span data-ttu-id="535bf-180">Para o .NET Core 3,1, isso seria:</span><span class="sxs-lookup"><span data-stu-id="535bf-180">For .NET Core 3.1, this would be:</span></span>

   ```xml
   <TargetFramework>netcoreapp3.1</TargetFramework>
   ```

   <span data-ttu-id="535bf-181">No entanto, se esta for uma biblioteca para a qual você deseja continuar a dar suporte a compilações específicas de .NET Framework, você pode fazer [vários destinos](../../standard/library-guidance/cross-platform-targeting.md) substituindo-o pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="535bf-181">However, if this is a library for which you want to continue supporting .NET Framework-specific builds, you can [multi-target](../../standard/library-guidance/cross-platform-targeting.md) by replacing it with the following:</span></span>

   ```xml
   <TargetFrameworks>net472;netstandard2.0</TargetFrameworks>
   ```

   <span data-ttu-id="535bf-182">Se você estiver usando APIs específicas do Windows (como o acesso ao registro), instale o [pacote de compatibilidade do Windows](./windows-compat-pack.md).</span><span class="sxs-lookup"><span data-stu-id="535bf-182">If you're using Windows-specific APIs (such as registry access), install the [Windows Compatibility Pack](./windows-compat-pack.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="535bf-183">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="535bf-183">Next steps</span></span>

> [!div class="nextstepaction"]
> <span data-ttu-id="535bf-184">[Analisar dependências](third-party-deps.md) 
>  [Empacotar um pacote NuGet](../deploying/creating-nuget-packages.md)</span><span class="sxs-lookup"><span data-stu-id="535bf-184">[Analyze dependencies](third-party-deps.md)
[Package a NuGet package](../deploying/creating-nuget-packages.md)</span></span>

## <a name="see-also"></a><span data-ttu-id="535bf-185">Consulte também</span><span class="sxs-lookup"><span data-stu-id="535bf-185">See also</span></span>

- [<span data-ttu-id="535bf-186">ASP.NET para migração de ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="535bf-186">ASP.NET to ASP.NET Core migration</span></span>](/aspnet/core/migration/proper-to-2x)
- [<span data-ttu-id="535bf-187">Migrar aplicativos do WPF para o .NET Core</span><span class="sxs-lookup"><span data-stu-id="535bf-187">Migrate WPF apps to .NET Core</span></span>](/dotnet/desktop/wpf/migration/convert-project-from-net-framework)
- [<span data-ttu-id="535bf-188">Migrar .NET Framework Windows Forms aplicativos para o .NET</span><span class="sxs-lookup"><span data-stu-id="535bf-188">Migrate .NET Framework Windows Forms apps to .NET</span></span>](/dotnet/desktop/winforms/migration/?view=netdesktop-5.0&preserve-view=true)
