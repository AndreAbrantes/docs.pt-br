---
title: Portabilidade de código do .NET Framework para o .NET Core
description: Entenda o processo de compatibilidade e descubra ferramentas que podem ser úteis ao realizar a portabilidade de um projeto do .NET Framework para o .NET Core.
author: cartermp
ms.date: 09/13/2019
ms.custom: seodec18
ms.openlocfilehash: c349f7df3726e7a9814e5ad5e738742ab1bb9ff8
ms.sourcegitcommit: 4f4a32a5c16a75724920fa9627c59985c41e173c
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/17/2019
ms.locfileid: "72522992"
---
# <a name="port-your-code-from-net-framework-to-net-core"></a><span data-ttu-id="d895f-103">Faça a portabilidade do seu código do .NET Framework para o .NET Core</span><span class="sxs-lookup"><span data-stu-id="d895f-103">Port your code from .NET Framework to .NET Core</span></span>

<span data-ttu-id="d895f-104">Se você tiver código em execução no .NET Framework, poderá ser útil executá-lo no .NET Core também.</span><span class="sxs-lookup"><span data-stu-id="d895f-104">If you've got code that runs on the .NET Framework, you may be interested in running your code on .NET Core, too.</span></span> <span data-ttu-id="d895f-105">Tenha aqui uma visão geral do processo de portabilidade e uma lista das ferramentas que podem ser úteis na portabilidade do seu código para o .NET Core.</span><span class="sxs-lookup"><span data-stu-id="d895f-105">Here's an overview of the porting process and a list of the tools you may find helpful when porting your code to .NET Core.</span></span>

## <a name="overview-of-the-porting-process"></a><span data-ttu-id="d895f-106">Visão geral do processo de portabilidade</span><span class="sxs-lookup"><span data-stu-id="d895f-106">Overview of the porting process</span></span>

<span data-ttu-id="d895f-107">Este é o processo que recomendamos que você realize ao fazer a portabilidade do seu projeto para o .NET Core.</span><span class="sxs-lookup"><span data-stu-id="d895f-107">This is the process we recommend you take when porting your project to .NET Core.</span></span> <span data-ttu-id="d895f-108">Cada etapa do processo é abordada em mais detalhes nos próximos artigos.</span><span class="sxs-lookup"><span data-stu-id="d895f-108">Each step of the process is covered in more detail in further articles.</span></span>

1. <span data-ttu-id="d895f-109">Identifique e considere as dependências de terceiros.</span><span class="sxs-lookup"><span data-stu-id="d895f-109">Identify and account for your third-party dependencies.</span></span>

   <span data-ttu-id="d895f-110">Essa etapa inclui compreender quais são suas dependências de terceiros, como você depende delas, como verificar se elas também são executadas no .NET Core e as etapas a ser seguidas caso não sejam.</span><span class="sxs-lookup"><span data-stu-id="d895f-110">This step involves understanding what your third-party dependencies are, how you depend on them, how to check if they also run on .NET Core, and steps you can take if they don't.</span></span> <span data-ttu-id="d895f-111">Ela também aborda como migrar suas dependências para o formato [PackageReference](/nuget/consume-packages/package-references-in-project-files) que é usado no .NET Core.</span><span class="sxs-lookup"><span data-stu-id="d895f-111">It also covers how you can migrate your dependencies over to the [PackageReference](/nuget/consume-packages/package-references-in-project-files) format that is used in .NET Core.</span></span>

2. <span data-ttu-id="d895f-112">Redirecione todos os projetos que você deseja portar para o .NET Framework 4.7.2 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="d895f-112">Retarget all projects you wish to port to target the .NET Framework 4.7.2 or higher.</span></span>

   <span data-ttu-id="d895f-113">Essa etapa garante que você possa usar alternativas de API para destinos específicos do .NET Framework quando o .NET Core não oferecer suporte a determinada API.</span><span class="sxs-lookup"><span data-stu-id="d895f-113">This step ensures that you can use API alternatives for .NET Framework-specific targets when .NET Core doesn't support a particular API.</span></span>

3. <span data-ttu-id="d895f-114">Use o [Analisador de Portabilidade do .NET](../../standard/analyzers/portability-analyzer.md) para analisar seus assemblies e desenvolver um plano de portabilidade com base nos resultados dele.</span><span class="sxs-lookup"><span data-stu-id="d895f-114">Use the [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) to analyze your assemblies and develop a plan to port based on its results.</span></span>

   <span data-ttu-id="d895f-115">A ferramenta Analisador de portabilidade de API analisa seus assemblies compilados e gera um relatório que mostra um resumo de portabilidade de alto nível e uma análise de cada API que você está usando e que não está disponível na superfície pública da plataforma .NET Core de destino.</span><span class="sxs-lookup"><span data-stu-id="d895f-115">The API Portability Analyzer tool analyzes your compiled assemblies and generates a report that shows a high-level portability summary and a breakdown of each API you're using that isn't available on targeted .NET Core platform public surface.</span></span> <span data-ttu-id="d895f-116">Você pode usar esse relatório junto com uma análise da sua base de código para desenvolver um plano para como você realizará a portabilidade do código.</span><span class="sxs-lookup"><span data-stu-id="d895f-116">You can use this report alongside an analysis of your codebase to develop a plan for how you'll port your code over.</span></span>

4. <span data-ttu-id="d895f-117">Depois que o arquivo de projeto for convertido em sua versão do .NET Core de destino, você poderá usar o Roslyn com base no [.NET API Analyzer](../../standard/analyzers/api-analyzer.md) para identificar as APIs que geram <xref:System.PlatformNotSupportedException> em algumas plataformas e alguns outros problemas de compatibilidade em potencial.</span><span class="sxs-lookup"><span data-stu-id="d895f-117">Once you have your project file converted to your targeted .NET Core version, you can use Roslyn based [.NET API analyzer](../../standard/analyzers/api-analyzer.md) to identify APIs throwing <xref:System.PlatformNotSupportedException> on some platforms and some other potential compatibility issues.</span></span>

5. <span data-ttu-id="d895f-118">Porte seu código de testes.</span><span class="sxs-lookup"><span data-stu-id="d895f-118">Port your tests code.</span></span>

   <span data-ttu-id="d895f-119">Como a portabilidade para o .NET Core é uma mudança significativa para sua base de código, é altamente recomendável portar seus testes para poder realizar testes à medida que o código é portado.</span><span class="sxs-lookup"><span data-stu-id="d895f-119">Because porting to .NET Core is such a significant change to your codebase, it's highly recommended to get your tests ported, so that you can run tests as you port your code over.</span></span> <span data-ttu-id="d895f-120">MSTest, xUnit e NUnit são compatíveis com o .NET Core.</span><span class="sxs-lookup"><span data-stu-id="d895f-120">MSTest, xUnit, and NUnit all support .NET Core.</span></span>

6. <span data-ttu-id="d895f-121">Execute seu plano de portabilidade.</span><span class="sxs-lookup"><span data-stu-id="d895f-121">Execute your plan for porting!</span></span>

<span data-ttu-id="d895f-122">A lista a seguir mostra as ferramentas que podem ser úteis para usar durante o processo de portabilidade:</span><span class="sxs-lookup"><span data-stu-id="d895f-122">The following list shows tools you might find helpful to use during the porting process:</span></span>

- <span data-ttu-id="d895f-123">Analisador de portabilidade .NET – [ferramenta de linha de comando](https://github.com/Microsoft/dotnet-apiport/releases) ou [extensão do Visual Studio](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer), uma ferramenta que pode gerar um relatório de quão portátil seu código está entre .NET Framework e sua plataforma .NET Core de destino.</span><span class="sxs-lookup"><span data-stu-id="d895f-123">.NET Portability Analyzer - [command-line tool](https://github.com/Microsoft/dotnet-apiport/releases) or [Visual Studio Extension](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer), a tool that can generate a report of how portable your code is between .NET Framework and your target .NET Core platform.</span></span> <span data-ttu-id="d895f-124">O relatório contém um detalhamento assembly por assembly do tipo e das APIs ausentes na plataforma .NET Core de destino.</span><span class="sxs-lookup"><span data-stu-id="d895f-124">The report contains an assembly-by-assembly breakdown of the Type and APIs missing on the target .NET Core platform.</span></span> <span data-ttu-id="d895f-125">Para obter mais informações, consulte [Analisador de Portabilidade do .NET](../../standard/analyzers/portability-analyzer.md).</span><span class="sxs-lookup"><span data-stu-id="d895f-125">For more information, see [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md).</span></span> <span data-ttu-id="d895f-126">É recomendável executar a ferramenta do analisador de portabilidade .NET antes de iniciar a portabilidade, pois ela ajudará a identificar as lacunas nas APIs ausentes na superfície pública específica da plataforma .NET direcionada.</span><span class="sxs-lookup"><span data-stu-id="d895f-126">It is recommended to run the .NET Portability Analyzer tool before you start porting, as it will help you identify any gaps in missing APIs in specific targeted .NET platform public surface.</span></span>
- <span data-ttu-id="d895f-127">Analisador de API do .NET – um analisador Roslyn que descobre a API do .NET Standard que gera <xref:System.PlatformNotSupportedException> em algumas plataformas, detecta chamadas a APIs preteridas e descobre alguns outros possíveis riscos de compatibilidade para APIs C# em diferentes plataformas.</span><span class="sxs-lookup"><span data-stu-id="d895f-127">.NET API Analyzer - A Roslyn analyzer that discovers .NET Standard API that throws <xref:System.PlatformNotSupportedException> on some platforms, detects calls to deprecated APIs, and discovers some other potential compatibility risks for C# APIs on different platforms.</span></span> <span data-ttu-id="d895f-128">Para obter mais informações, confira [Analisador de API do .NET](../../standard/analyzers/api-analyzer.md).</span><span class="sxs-lookup"><span data-stu-id="d895f-128">For more information, see [.NET API analyzer](../../standard/analyzers/api-analyzer.md).</span></span> <span data-ttu-id="d895f-129">Esse analisador é útil depois que você já criou seu projeto .NET Core para identificar diferenças de comportamento de tempo de execução em diferentes plataformas.</span><span class="sxs-lookup"><span data-stu-id="d895f-129">This analyzer is helpful after you already created your .NET Core project to identify runtime behavior differences on different platforms.</span></span>
- <span data-ttu-id="d895f-130">Pesquisa Inversa de Pacotes – Um [serviço Web útil](https://packagesearch.azurewebsites.net) que permite pesquisar por um tipo e localizar os pacotes que contêm esse tipo.</span><span class="sxs-lookup"><span data-stu-id="d895f-130">Reverse Package Search - A [useful web service](https://packagesearch.azurewebsites.net) that allows you to search for a type and find packages containing that type.</span></span>

<span data-ttu-id="d895f-131">Além disso, você pode tentar fazer a portabilidade de soluções menores ou projetos individuais para o formato de arquivo de projeto do .NET Core com a ferramenta [CsprojToVs2017](https://github.com/hvanbakel/CsprojToVs2017).</span><span class="sxs-lookup"><span data-stu-id="d895f-131">Additionally, you can attempt to port smaller solutions or individual projects to the .NET Core project file format with the [CsprojToVs2017](https://github.com/hvanbakel/CsprojToVs2017) tool.</span></span>

> [!WARNING]
> <span data-ttu-id="d895f-132">CsprojToVs2017 é uma ferramenta de terceiros.</span><span class="sxs-lookup"><span data-stu-id="d895f-132">CsprojToVs2017 is a third-party tool.</span></span> <span data-ttu-id="d895f-133">Não há nenhuma garantia de que ela funcionará para todos os seus projetos, e isso pode causar alterações sutis no comportamento que dependem de você.</span><span class="sxs-lookup"><span data-stu-id="d895f-133">There is no guarantee that it will work for all of your projects, and it may cause subtle changes in behavior that you depend on.</span></span> <span data-ttu-id="d895f-134">CsprojToVs2017 deve ser usada como um _ponto de partida_ que automatize as funções básicas que podem ser automatizadas.</span><span class="sxs-lookup"><span data-stu-id="d895f-134">CsprojToVs2017 should be used as a _starting point_ that automates the basic things that can be automated.</span></span> <span data-ttu-id="d895f-135">Não é uma solução garantida para a migração de formatos de arquivo de projeto.</span><span class="sxs-lookup"><span data-stu-id="d895f-135">It is not a guaranteed solution to migrating project file formats.</span></span>

>[!div class="step-by-step"]
>[<span data-ttu-id="d895f-136">Avançar</span><span class="sxs-lookup"><span data-stu-id="d895f-136">Next</span></span>](net-framework-tech-unavailable.md)
