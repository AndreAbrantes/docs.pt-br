---
title: "Pacote de distribuição do .NET Core"
description: "Aprenda a empacotar, nomear e controlar a versão do .NET Core para distribuição."
keywords: .NET, .NET core, fonte, build
author: bleroy
ms.author: mairaw
ms.date: 06/28/2017
ms.topic: article
ms.prod: .net-core
ms.devlang: dotnet
ms.assetid: 71b9d722-c5a8-4271-9ce1-d87e7ae2494d
ms.openlocfilehash: 7ff5ed127ad0d4f435c697a8f35b33c7ba3b56ff
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/18/2017
---
# <a name="net-core-distribution-packaging"></a><span data-ttu-id="97320-104">Pacote de distribuição do .NET Core</span><span class="sxs-lookup"><span data-stu-id="97320-104">.NET Core distribution packaging</span></span>

<span data-ttu-id="97320-105">À medida que o .NET Core fica disponível em mais plataformas, é muito útil saber como empacotar, nomear e controlar a versão dele.</span><span class="sxs-lookup"><span data-stu-id="97320-105">As .NET Core becomes available on more and more platforms, it's useful to learn how to package, name, and version it.</span></span> <span data-ttu-id="97320-106">Dessa forma, os mantenedores do pacote podem ajudar a garantir uma experiência consistente, independentemente de onde os usuários escolhem executar o .NET.</span><span class="sxs-lookup"><span data-stu-id="97320-106">This way, package maintainers can help ensure a consistent experience no matter where users choose to run .NET.</span></span>

## <a name="net-core-components"></a><span data-ttu-id="97320-107">Componentes do .NET Core</span><span class="sxs-lookup"><span data-stu-id="97320-107">.NET Core components</span></span>

<span data-ttu-id="97320-108">O .NET Core é composto por três partes principais que precisam ser empacotadas:</span><span class="sxs-lookup"><span data-stu-id="97320-108">.NET Core is made of three major parts that need to be packaged:</span></span>

1. <span data-ttu-id="97320-109">**O host** (também conhecido como o "muxer") tem duas funções distintas: ativar um tempo de execução para iniciar um aplicativo e ativar um SDK para enviar comandos a ele.</span><span class="sxs-lookup"><span data-stu-id="97320-109">**The host** (also known as the "muxer") has two distinct roles: activate a runtime to launch an application, and activate an SDK to dispatch commands to it.</span></span> <span data-ttu-id="97320-110">O host é um executável nativo (`dotnet.exe`) e suas bibliotecas de política de suporte (instalados em `host/fxr`).</span><span class="sxs-lookup"><span data-stu-id="97320-110">The host is a native executable (`dotnet.exe`) and its supporting policy libraries (installed in `host/fxr`).</span></span> <span data-ttu-id="97320-111">Ele é compilado do código no repositório [`dotnet/core-setup`](https://github.com/dotnet/core-setup/).</span><span class="sxs-lookup"><span data-stu-id="97320-111">It's built from the code in the [`dotnet/core-setup`](https://github.com/dotnet/core-setup/) repository.</span></span> <span data-ttu-id="97320-112">Normalmente, há apenas um host em um computador específico, embora isso não seja um requisito restrito.</span><span class="sxs-lookup"><span data-stu-id="97320-112">There is typically only one host on a given machine, although that isn't a strict requirement.</span></span>
2. <span data-ttu-id="97320-113">**A estrutura** é composta por um tempo de execução e por bibliotecas gerenciadas de suporte.</span><span class="sxs-lookup"><span data-stu-id="97320-113">**The framework** is made of a runtime and supporting managed libraries.</span></span> <span data-ttu-id="97320-114">A estrutura pode ser instalada como parte de um aplicativo, ou como uma estrutura compartilhada em um local central que pode ser reutilizado por vários aplicativos.</span><span class="sxs-lookup"><span data-stu-id="97320-114">The framework may be installed as part of an application, or as a shared framework in a central location that can be reused by multiple applications.</span></span> <span data-ttu-id="97320-115">Pode haver qualquer quantidade de estruturas compartilhadas instaladas em um determinado computador.</span><span class="sxs-lookup"><span data-stu-id="97320-115">There may be any number of shared frameworks installed on a given machine.</span></span> <span data-ttu-id="97320-116">Estruturas compartilhadas ativas em `shared/Microsoft.NETCore.App/<version>`.</span><span class="sxs-lookup"><span data-stu-id="97320-116">Shared frameworks live under `shared/Microsoft.NETCore.App/<version>`.</span></span> <span data-ttu-id="97320-117">O host efetua o roll forward em versões do patch.</span><span class="sxs-lookup"><span data-stu-id="97320-117">The host rolls forward across patch versions.</span></span> <span data-ttu-id="97320-118">Se um aplicativo é direcionado ao `Microsoft.NETCore.App` 1.0.0, e somente o 1.0.4 estiver presente, o aplicativo será iniciado no 1.0.4.</span><span class="sxs-lookup"><span data-stu-id="97320-118">If an application targets `Microsoft.NETCore.App` 1.0.0, and only 1.0.4 is present, the app is launched against 1.0.4.</span></span>
3. <span data-ttu-id="97320-119">**O SDK** (também conhecido como "as ferramentas") é um conjunto de ferramentas gerenciadas que pode ser usado para escrever e compilar bibliotecas e aplicativos do .NET Core.</span><span class="sxs-lookup"><span data-stu-id="97320-119">**The SDK** (also known as "the tooling") is a set of managed tools that can be used to write and build .NET Core libraries and applications.</span></span> <span data-ttu-id="97320-120">O SDK inclui a CLI, MSBuild e tarefas de compilação e direcionamentos associados, o NuGet, novos modelos de projeto etc. É possível ter vários SDKs em um computador (por exemplo, para compilar projetos que exigem explicitamente uma versão mais antiga), mas a recomendação é usar as ferramentas mais recente.</span><span class="sxs-lookup"><span data-stu-id="97320-120">The SDK includes the CLI, MSBuild, and associated build tasks and targets, NuGet, new project templates, etc. It's possible to have multiple SDKs on a machine (for example, to build projects that explicitly require an older version), but the recommendation is to use the latest released tools.</span></span>

## <a name="recommended-package-names"></a><span data-ttu-id="97320-121">Nomes de pacote recomendados</span><span class="sxs-lookup"><span data-stu-id="97320-121">Recommended package names</span></span>

<span data-ttu-id="97320-122">As diretrizes a seguir são nossa recomendação para nomes de pacote.</span><span class="sxs-lookup"><span data-stu-id="97320-122">The following guidance is our recommendation for package names.</span></span> <span data-ttu-id="97320-123">O mantenedor do pacote poderá divergir delas por vários motivos, por exemplo, uma tradição diferente da distribuição específica direcionada.</span><span class="sxs-lookup"><span data-stu-id="97320-123">A package maintainer may choose to diverge from it based on various reasons, such as, a different tradition of the specific distribution they're targeting.</span></span>

### <a name="minimum-package-set"></a><span data-ttu-id="97320-124">Conjunto mínimo de pacote</span><span class="sxs-lookup"><span data-stu-id="97320-124">Minimum package set</span></span>

* <span data-ttu-id="97320-125">`dotnet-runtime-[major].[minor]`: uma estrutura compartilhada com a versão especificada (apenas a versão de patch mais recente para uma determinada combinação de principal+secundário deve estar disponível no gerenciador de pacote).</span><span class="sxs-lookup"><span data-stu-id="97320-125">`dotnet-runtime-[major].[minor]`: a shared framework with the specified version (only the latest patch version for a given major+minor combination should be available in the package manager).</span></span> <span data-ttu-id="97320-126">**dependências**: `dotnet-host`</span><span class="sxs-lookup"><span data-stu-id="97320-126">**dependencies**: `dotnet-host`</span></span>
* <span data-ttu-id="97320-127">`dotnet-sdk`: o SDK mais recente.</span><span class="sxs-lookup"><span data-stu-id="97320-127">`dotnet-sdk`: the latest SDK.</span></span> <span data-ttu-id="97320-128">**dependências**: o `dotnet-sdk-[major].[minor]` mais recente.</span><span class="sxs-lookup"><span data-stu-id="97320-128">**dependencies**: the latest `dotnet-sdk-[major].[minor]`.</span></span>
* <span data-ttu-id="97320-129">`dotnet-sdk-[major].[minor]`: o SDK com a versão especificada.</span><span class="sxs-lookup"><span data-stu-id="97320-129">`dotnet-sdk-[major].[minor]`: the SDK with the specified version.</span></span> <span data-ttu-id="97320-130">A versão especificada é a versão mais recente incluída das estruturas compartilhadas incluídas, para que os usuários possam relacionar facilmente um SDK a uma estrutura compartilhada.</span><span class="sxs-lookup"><span data-stu-id="97320-130">The version specified is the highest included version of included shared frameworks, so that users can easily relate an SDK to a shared framework.</span></span> <span data-ttu-id="97320-131">**dependências**: `dotnet-host`, um ou mais `dotnet-runtime-[major].[minor]` (um dos tempos de execução é usado pelo próprio código do SDK, os outros servem para compilação e execução dos usuários).</span><span class="sxs-lookup"><span data-stu-id="97320-131">**dependencies**: `dotnet-host`, one or more `dotnet-runtime-[major].[minor]` (one of the runtimes is used by the SDK code itself, the others are here for users to build and run against).</span></span>
* <span data-ttu-id="97320-132">`dotnet-host`: o host mais recente.</span><span class="sxs-lookup"><span data-stu-id="97320-132">`dotnet-host`: the latest host.</span></span>

#### <a name="preview-versions"></a><span data-ttu-id="97320-133">Versões prévias</span><span class="sxs-lookup"><span data-stu-id="97320-133">Preview versions</span></span>

<span data-ttu-id="97320-134">Os mantenedores do pacote podem decidir incluem as versões prévias da estrutura compartilhada e do SDK.</span><span class="sxs-lookup"><span data-stu-id="97320-134">Package maintainers may decide to include preview versions of the shared framework and SDK.</span></span> <span data-ttu-id="97320-135">Eles nunca devem ser incluídos no pacote do `dotnet-sdk` sem controle de versão, mas podem ser lançados como pacotes com controle de versão com um marcador de prévia adicional anexado às seções de versão principal e secundária do nome.</span><span class="sxs-lookup"><span data-stu-id="97320-135">Those should never be included in the unversioned `dotnet-sdk` package, but may be released as versioned packages with an additional preview marker appended to the major and minor version sections of the name.</span></span> <span data-ttu-id="97320-136">Por exemplo, pode haver um pacote `dotnet-sdk-2.0-preview-final`.</span><span class="sxs-lookup"><span data-stu-id="97320-136">For example, there may be a `dotnet-sdk-2.0-preview-final` package.</span></span>

### <a name="optional-additional-packages"></a><span data-ttu-id="97320-137">Pacotes adicionais opcionais</span><span class="sxs-lookup"><span data-stu-id="97320-137">Optional additional packages</span></span>

<span data-ttu-id="97320-138">Alguns mantenedores podem optar por fornecer pacotes adicionais, como:</span><span class="sxs-lookup"><span data-stu-id="97320-138">Some maintainers may choose to provide additional packages such as:</span></span>

* <span data-ttu-id="97320-139">`dotnet-lts`: a versão mais recente de LTS (Suporte de longo prazo) da estrutura compartilhada.</span><span class="sxs-lookup"><span data-stu-id="97320-139">`dotnet-lts`: the latest Long-Term Support (LTS) version of the shared framework.</span></span> <span data-ttu-id="97320-140">[As séries da Versão Atual e de LTS](~/docs/core/versions/lts-current.md) correspondem a cadências diferentes de lançamento do .NET Core.</span><span class="sxs-lookup"><span data-stu-id="97320-140">[LTS and Current release trains](~/docs/core/versions/lts-current.md) correspond to different cadences at which .NET Core gets released.</span></span> <span data-ttu-id="97320-141">Os usuários têm a opção de adotar uma ou a outra, com base na frequência com que estão dispostos a atualizar.</span><span class="sxs-lookup"><span data-stu-id="97320-141">Users have a choice of adopting one or the other train, based on how often they are willing to update.</span></span> <span data-ttu-id="97320-142">Este é um conceito que também está ligado aos níveis de suporte, portanto pode ou não fazer sentido dependendo da distribuição que está sendo considerada.</span><span class="sxs-lookup"><span data-stu-id="97320-142">This is a concept that is also tied to support levels, so it may or may not make sense depending on the distro being considered.</span></span>

## <a name="disk-layout"></a><span data-ttu-id="97320-143">Layout de disco</span><span class="sxs-lookup"><span data-stu-id="97320-143">Disk layout</span></span>

<span data-ttu-id="97320-144">Ao instalar os pacotes do .NET Core, o posicionamento relativo dos destinos de direcionamento no disco é importante.</span><span class="sxs-lookup"><span data-stu-id="97320-144">When installing .NET Core packages, the relative placement of their target destinations on disk matter.</span></span>
<span data-ttu-id="97320-145">O host `dotnet.exe` deve ser colocado ao lado das pastas `sdk` e `shared` que contêm o conteúdo com controle de versão dos pacotes do SDK `dotnet-sdk`, e os pacotes da estrutura compartilhada `dotnet-runtime`.</span><span class="sxs-lookup"><span data-stu-id="97320-145">The `dotnet.exe` host should be placed next to `sdk` and `shared` folders that contain the versioned contents of the `dotnet-sdk` SDK packages, and `dotnet-runtime` shared framework packages.</span></span>

<span data-ttu-id="97320-146">O layout de disco de arquivos e diretórios dentro dos pacotes tem controle de versão.</span><span class="sxs-lookup"><span data-stu-id="97320-146">The disk layout of files and directories inside the packages is versioned.</span></span> <span data-ttu-id="97320-147">Isso significa que a atualização para a versão mais recente de `dotnet-runtime` instala a nova versão lado a lado com as versões anteriores, reduzindo a possibilidade de interrupção dos aplicativos existentes ao atualizar o pacote.</span><span class="sxs-lookup"><span data-stu-id="97320-147">This means that updating to the latest `dotnet-runtime` installs the new version side by side with previous versions, reducing the possibility of breaking existing applications by updating the package.</span></span> <span data-ttu-id="97320-148">As atualizações de pacote não devem remover as versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="97320-148">Package updates should not remove previous versions.</span></span>

## <a name="update-policies"></a><span data-ttu-id="97320-149">Políticas de atualização</span><span class="sxs-lookup"><span data-stu-id="97320-149">Update policies</span></span>

<span data-ttu-id="97320-150">Quando um `update` é executado, o comportamento de cada pacote ocorre da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="97320-150">When an `update` is performed, the behavior of each package is as follows:</span></span>

* <span data-ttu-id="97320-151">`dotnet-runtime-[major].[minor]`: as novas versões de patch atualizam o pacote, mas novas versões principais ou secundárias são pacotes separados.</span><span class="sxs-lookup"><span data-stu-id="97320-151">`dotnet-runtime-[major].[minor]`: new patch versions update the package, but new minor or major versions are separate packages.</span></span>
* <span data-ttu-id="97320-152">`dotnet-sdk`: `update` efetua o roll forward das versões principal, secundária e de patch.</span><span class="sxs-lookup"><span data-stu-id="97320-152">`dotnet-sdk`: `update` rolls forward major, minor, and patch versions.</span></span>
* <span data-ttu-id="97320-153">`dotnet-sdk-[major].[minor]`: as novas versões de patch atualizam o pacote, mas novas versões principais ou secundárias são pacotes separados.</span><span class="sxs-lookup"><span data-stu-id="97320-153">`dotnet-sdk-[major].[minor]`: new patch versions update the package, but new minor or major versions are separate packages.</span></span>
* <span data-ttu-id="97320-154">`dotnet-lts`: `update` efetua o roll forward das versões principal, secundária e de patch.</span><span class="sxs-lookup"><span data-stu-id="97320-154">`dotnet-lts`: `update` rolls forward major, minor, and patch versions.</span></span>

<span data-ttu-id="97320-155">Este tópico apresentou nossas recomendações para empacotar o .NET Core. No entanto, cada distribuição é livre para escolher quais versões oferecer e quando.</span><span class="sxs-lookup"><span data-stu-id="97320-155">This topic has presented our recommendations for packaging .NET Core, however each distro is free to choose what versions to offer and when.</span></span> <span data-ttu-id="97320-156">Por exemplo, uma distribuição que valoriza mais a estabilidade do que a atualização pode optar por lançar somente versões que se ajustam à versão de treinamento do LTS.</span><span class="sxs-lookup"><span data-stu-id="97320-156">For example, a distro that values stability more than being up-to-date may choose to release only versions that snap with the LTS release train.</span></span>