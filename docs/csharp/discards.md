---
title: "Descartes – Guia do C# | Microsoft Docs"
description: "Descreve o suporte do C# a descartes, que são variáveis descartáveis não atribuídas, além das maneiras em que descartes podem ser usados."
keywords: .NET,.NET Core
author: rpetrusha
ms.author: ronpet
ms.date: 07/21/2017
ms.topic: article
ms.prod: .net
ms.technology: devlang-csharp
ms.devlang: csharp
ms.translationtype: HT
ms.sourcegitcommit: 6170e096e36f8d054fdfe9cbd8311e6492e32a04
ms.openlocfilehash: 3f8804f9b7522e385b145a9643dec942cc1aab9f
ms.contentlocale: pt-br
ms.lasthandoff: 08/28/2017

---
# <a name="discards---c-guide"></a><span data-ttu-id="1f9e9-104">Descartes – Guia do C#</span><span class="sxs-lookup"><span data-stu-id="1f9e9-104">Discards - C# Guide</span></span>

<span data-ttu-id="1f9e9-105">Começando com o C# 7, o C# dá suporte a descartes, que são variáveis temporárias e fictícias que intencionalmente não são utilizadas no código do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-105">Starting with C# 7, C# supports discards, which are temporary, dummy variables that are intentionally unused in application code.</span></span> <span data-ttu-id="1f9e9-106">Descartes são equivalentes a variáveis não atribuídas; eles não têm um valor.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-106">Discards are equivalent to unassigned variables; they do not have a value.</span></span> <span data-ttu-id="1f9e9-107">Já que há apenas uma variável de descarte e essa variável pode nem mesmo ser de armazenamento alocado, descartes podem reduzir as alocações de memória.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-107">Because there is only a single discard variable, and that variable may not even be allocated storage, discards can reduce memory allocations.</span></span> <span data-ttu-id="1f9e9-108">Por deixarem clara a intenção do seu código, eles melhoram a sua legibilidade e a facilidade de manutenção.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-108">Because they make the intent of your code clear, they enhance its readability and maintainability.</span></span>

<span data-ttu-id="1f9e9-109">Você indica que uma variável é um descarte atribuindo a ela o sublinhado (`_`) como seu nome.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-109">You indicate that a variable is a discard by assigning it the underscore (`_`) as its name.</span></span> <span data-ttu-id="1f9e9-110">Por exemplo, a chamada de método a seguir retorna uma tupla de 3 na qual o primeiro e o segundo valores são descartes:</span><span class="sxs-lookup"><span data-stu-id="1f9e9-110">For example, the following method call returns a 3-tuple in which the first and second values are discards:</span></span>

```csharp
(var _, _, area) = city.GetCityInformation(cityName);
```

<span data-ttu-id="1f9e9-111">No C# 7, há suporte a descartes em atribuições nos seguintes contextos:</span><span class="sxs-lookup"><span data-stu-id="1f9e9-111">In C# 7, discards are supported in assignments in the following contexts:</span></span>

- <span data-ttu-id="1f9e9-112">[Desconstrução](deconstruct.md) de objeto e de tupla.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-112">Tuple and object [deconstruction](deconstruct.md).</span></span>
- <span data-ttu-id="1f9e9-113">Correspondência de padrões com [is](language-reference/keywords/is.md) e [switch](language-reference/keywords/switch.md).</span><span class="sxs-lookup"><span data-stu-id="1f9e9-113">Pattern matching with [is](language-reference/keywords/is.md) and [switch](language-reference/keywords/switch.md).</span></span>
- <span data-ttu-id="1f9e9-114">Chamadas para métodos com parâmetros `out`.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-114">Calls to methods with `out` parameters.</span></span>
- <span data-ttu-id="1f9e9-115">Um `_` autônomo quando nenhum `_` está no escopo.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-115">A standalone `_` when no `_` is in scope.</span></span>

<span data-ttu-id="1f9e9-116">Quando `_` é um descarte válido, tentar recuperar seu valor ou usá-lo em uma operação de atribuição gera o erro do compilador CS0301, "O nome '\_' não existe no contexto atual".</span><span class="sxs-lookup"><span data-stu-id="1f9e9-116">When `_` is a valid discard, attempting to retrieve its value or use it in an assignment operation generates compiler error CS0301, "The name '\_' does not exist in the current context".</span></span> <span data-ttu-id="1f9e9-117">Isso ocorre porque não há um valor atribuído a `_` e pode não haver nem mesmo um local de armazenamento atribuído a ela.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-117">This is because `_` is not assigned a value, and may not even be assigned a storage location.</span></span> <span data-ttu-id="1f9e9-118">Se ela fosse uma variável real, você não poderia descartar mais de um valor, tal como ocorreu no exemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-118">If it were an actual variable, you could not discard more than one value, as the previous example did.</span></span>

## <a name="tuple-and-object-deconstruction"></a><span data-ttu-id="1f9e9-119">Desconstrução de objeto e de tupla</span><span class="sxs-lookup"><span data-stu-id="1f9e9-119">Tuple and object deconstruction</span></span>

<span data-ttu-id="1f9e9-120">Descartes são particularmente úteis para trabalhar com tuplas quando seu código de aplicativo usa alguns elementos de tupla, mas ignora outros.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-120">Discards are particularly useful in working with tuples when your application code uses some tuple elements but ignores others.</span></span> <span data-ttu-id="1f9e9-121">Por exemplo, o método `QueryCityDataForYears` a seguir retorna uma tupla de 6 com o nome de uma cidade, sua área, um ano, a população da cidade nesse ano, um segundo ano e população da cidade nesse segundo ano.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-121">For example, the following `QueryCityDataForYears` method returns a 6-tuple with the name of a city, its area, a year, the city's population for that year, a second year, and the city's population for that second year.</span></span> <span data-ttu-id="1f9e9-122">O exemplo mostra a alteração na população entre esses dois anos.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-122">The example shows the change in population between those two years.</span></span> <span data-ttu-id="1f9e9-123">Entre os dados disponíveis da tupla, não estamos preocupados com a área da cidade e sabemos o nome da cidade e as duas datas em tempo de design.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-123">Of the data available from the tuple, we're unconcerned with the city area, and we know the city name and the two dates at design-time.</span></span> <span data-ttu-id="1f9e9-124">Como resultado, estamos interessados apenas nos dois valores de população armazenados na tupla e podemos lidar com seus valores restantes como descartes.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-124">As a result, we're only interested in the two population values stored in the tuple, and can handle its remaining values as discards.</span></span>  

<span data-ttu-id="1f9e9-125">[!code-csharp[Descarte de tupla](../../samples/snippets/csharp/programming-guide/deconstructing-tuples/discard-tuple1.cs)]</span><span class="sxs-lookup"><span data-stu-id="1f9e9-125">[!code-csharp[Tuple-discard](../../samples/snippets/csharp/programming-guide/deconstructing-tuples/discard-tuple1.cs)]</span></span>

<span data-ttu-id="1f9e9-126">Para obter mais informações sobre desconstruir tuplas com descartes, consulte [Desconstruindo tuplas e outros tipos](deconstruct.md#deconstructing-tuple-elements-with-discards).</span><span class="sxs-lookup"><span data-stu-id="1f9e9-126">For more information on deconstructing tuples with discards, see [Deconstructing tuples and other types](deconstruct.md#deconstructing-tuple-elements-with-discards).</span></span>

<span data-ttu-id="1f9e9-127">O método `Deconstruct` de uma classe, estrutura ou interface também permite que você recupere e decomponha um conjunto específico de dados de um objeto.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-127">The `Deconstruct` method of a class, structure, or interface also allows you to retrieve and deconstruct a specific set of data from an object.</span></span> <span data-ttu-id="1f9e9-128">Você poderá usar descartes quando estiver interessado em trabalhar com apenas um subconjunto dos valores desconstruídos.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-128">You can use discards when you are interested in working with only a subset of the deconstructed values.</span></span> <span data-ttu-id="1f9e9-129">O exemplo a seguir desconstrói um objeto `Person` em quatro cadeias de caracteres (os nomes e sobrenomes, a cidade e o estado), mas descarta o sobrenome e o estado.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-129">Ihe following example deconstructs a `Person` object into four strings (the first and last names, the city, and the state), but discards the last name and the state.</span></span>

<span data-ttu-id="1f9e9-130">[!code-csharp[Descarte de classe](../../samples/snippets/csharp/programming-guide/deconstructing-tuples/class-discard1.cs)]</span><span class="sxs-lookup"><span data-stu-id="1f9e9-130">[!code-csharp[Class-discard](../../samples/snippets/csharp/programming-guide/deconstructing-tuples/class-discard1.cs)]</span></span>

<span data-ttu-id="1f9e9-131">Para obter mais informações sobre desconstruir tipos definidos pelo usuário com descartes, consulte [Desconstruindo tuplas e outros tipos](deconstruct.md#deconstructing-a-user-defined-type-with-discards).</span><span class="sxs-lookup"><span data-stu-id="1f9e9-131">For more information on deconstructing user-defined types with discards, see [Deconstructing tuples and other types](deconstruct.md#deconstructing-a-user-defined-type-with-discards).</span></span>

## <a name="pattern-matching-with-switch-and-is"></a><span data-ttu-id="1f9e9-132">Correspondência de padrões com `switch` e `is`</span><span class="sxs-lookup"><span data-stu-id="1f9e9-132">Pattern matching with `switch` and `is`</span></span>

<span data-ttu-id="1f9e9-133">O *padrão de descarte* pode ser usado na correspondência de padrões com as palavras-chave [is](language-reference/keywords/is.md) e [switch](language-reference/keywords/switch.md).</span><span class="sxs-lookup"><span data-stu-id="1f9e9-133">The *discard pattern* can be used in pattern matching with the [is](language-reference/keywords/is.md) and [switch](language-reference/keywords/switch.md) keywords.</span></span> <span data-ttu-id="1f9e9-134">Toda expressão sempre corresponde ao padrão de descarte.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-134">Every expression always matches the discard pattern.</span></span>

<span data-ttu-id="1f9e9-135">O exemplo a seguir define um método `ProvidesFormatInfo` que usa instruções [is](language-reference/keywords/is.md) para determinar se um objeto fornece uma implementação de <xref:System.IFormatProvider> e testa se o objeto é `null`.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-135">The following example defines a `ProvidesFormatInfo` method that uses [is](language-reference/keywords/is.md) statements to determine whether an object provides an <xref:System.IFormatProvider> implementation and tests whether the object is `null`.</span></span> <span data-ttu-id="1f9e9-136">Ele também usa o padrão de descarte para manipular objetos não nulos de qualquer outro tipo.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-136">It also uses the discard pattern to handle non-null objects of any other type.</span></span>

<span data-ttu-id="1f9e9-137">[!code-csharp[padrão de descarte](../../samples/snippets/csharp/programming-guide/discards/discard-pattern2.cs)]</span><span class="sxs-lookup"><span data-stu-id="1f9e9-137">[!code-csharp[discard-pattern](../../samples/snippets/csharp/programming-guide/discards/discard-pattern2.cs)]</span></span>

## <a name="calls-to-methods-with-out-parameters"></a><span data-ttu-id="1f9e9-138">Chamadas para métodos com parâmetros out</span><span class="sxs-lookup"><span data-stu-id="1f9e9-138">Calls to methods with out parameters</span></span>

<span data-ttu-id="1f9e9-139">Ao chamar o método `Deconstruct` para desconstruir um tipo definido pelo usuário (uma instância de uma classe, estrutura ou interface), você pode descartar os valores de argumentos `out` individuais.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-139">When calling the `Deconstruct` method to deconstruct a user-defined type (an instance of a class, structure, or interface), you can discard the values of individual `out` arguments.</span></span> <span data-ttu-id="1f9e9-140">Mas você também pode descartar o valor de argumentos `out` ao chamar qualquer método com um parâmetro out.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-140">But you can also discard the value of `out` arguments when calling any method with an out parameter.</span></span> 

<span data-ttu-id="1f9e9-141">A exemplo a seguir chama o método [DateTime.TryParse(String, out DateTime)](<xref:System.DateTime.TryParse(System.String,System.DateTime@)>) para determinar se a representação de cadeia de caracteres de uma data é válida na cultura atual.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-141">The following example calls the [DateTime.TryParse(String, out DateTime)](<xref:System.DateTime.TryParse(System.String,System.DateTime@)>) method to determine whether the string representation of a date is valid in the current culture.</span></span> <span data-ttu-id="1f9e9-142">Já que o exemplo está preocupado apenas em validar a cadeia de caracteres de data e não em analisá-lo para extrair a data, o argumento `out` para o método é um descarte.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-142">Because the example is concerned only with validating the date string and not with parsing it to extract the date, the `out` argument to the method is a discard.</span></span>

<span data-ttu-id="1f9e9-143">[!code-csharp[descarte com out](../../samples/snippets/csharp/programming-guide/discards/discard-out1.cs)]</span><span class="sxs-lookup"><span data-stu-id="1f9e9-143">[!code-csharp[discard-with-out](../../samples/snippets/csharp/programming-guide/discards/discard-out1.cs)]</span></span>

## <a name="a-standalone-discard"></a><span data-ttu-id="1f9e9-144">Um descarte autônomo</span><span class="sxs-lookup"><span data-stu-id="1f9e9-144">A standalone discard</span></span>

<span data-ttu-id="1f9e9-145">Você pode usar um descarte autônomo para indicar qualquer variável que você opte por ignorar.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-145">You can use a standalone discard to indicate any variable that you choose to ignore.</span></span> <span data-ttu-id="1f9e9-146">O exemplo a seguir usa um descarte autônomo para ignorar o objeto <xref:System.Threading.Tasks.Task> retornado por uma operação assíncrona.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-146">The following example uses a standalone discard to ignore the <xref:System.Threading.Tasks.Task> object returned by an asynchronous operation.</span></span> <span data-ttu-id="1f9e9-147">Isso tem o efeito de suprimir a exceção que a operação gera quando está prestes a ser concluída.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-147">This has the effect of suppressing the exception that the operation throws as it is about to complete.</span></span>

<span data-ttu-id="1f9e9-148">[!code-csharp[descarte autônomo](../../samples/snippets/csharp/programming-guide/discards/standalone-discard1.cs)]</span><span class="sxs-lookup"><span data-stu-id="1f9e9-148">[!code-csharp[standalone-discard](../../samples/snippets/csharp/programming-guide/discards/standalone-discard1.cs)]</span></span>

<span data-ttu-id="1f9e9-149">Observe que `_` também é um identificador válido.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-149">Note that `_` is also a valid identifier.</span></span> <span data-ttu-id="1f9e9-150">Quando usado fora de um contexto com suporte, `_` não é tratado como um descarte, mas como uma variável válida.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-150">When used outside of a supported context, `_` is treated not as a discard but as a valid variable.</span></span> <span data-ttu-id="1f9e9-151">Se um identificador chamado `_` já está no escopo, o uso de `_` como um descarte autônomo pode resultar em:</span><span class="sxs-lookup"><span data-stu-id="1f9e9-151">If an identifier named `_` is already in scope, the use of `_` as a standalone discard can result in:</span></span>

- <span data-ttu-id="1f9e9-152">A modificação acidental do valor da variável `_` no escopo atribuindo a ela o valor do descarte pretendido.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-152">Accidental modification of the value of the in-scope `_` variable by assigning it the value of the intended discard.</span></span> <span data-ttu-id="1f9e9-153">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="1f9e9-153">For example:</span></span>

   <span data-ttu-id="1f9e9-154">[!code-csharp[descarte autônomo](../../samples/snippets/csharp/programming-guide/discards/standalone-discard2.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="1f9e9-154">[!code-csharp[standalone-discard](../../samples/snippets/csharp/programming-guide/discards/standalone-discard2.cs#1)]</span></span>
 
- <span data-ttu-id="1f9e9-155">Um erro do compilador por violação de segurança de tipo.</span><span class="sxs-lookup"><span data-stu-id="1f9e9-155">A compiler error for violating type safety.</span></span> <span data-ttu-id="1f9e9-156">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="1f9e9-156">For example:</span></span>

   <span data-ttu-id="1f9e9-157">[!code-csharp[descarte autônomo](../../samples/snippets/csharp/programming-guide/discards/standalone-discard2.cs#2)]</span><span class="sxs-lookup"><span data-stu-id="1f9e9-157">[!code-csharp[standalone-discard](../../samples/snippets/csharp/programming-guide/discards/standalone-discard2.cs#2)]</span></span>
 
- <span data-ttu-id="1f9e9-158">Erro do compilador CS0136, "Um local ou um parâmetro denominado '_' não pode ser declarado neste escopo porque esse nome é usado em um escopo delimitador de local para definir um local ou parâmetro."</span><span class="sxs-lookup"><span data-stu-id="1f9e9-158">Compiler error CS0136, "A local or parameter named '_' cannot be declared in this scope because that name is used in an enclosing local scope to define a local or parameter."</span></span> <span data-ttu-id="1f9e9-159">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="1f9e9-159">For example:</span></span>

   <span data-ttu-id="1f9e9-160">[!code-csharp[descarte autônomo](../../samples/snippets/csharp/programming-guide/discards/standalone-discard2.cs#3)]</span><span class="sxs-lookup"><span data-stu-id="1f9e9-160">[!code-csharp[standalone-discard](../../samples/snippets/csharp/programming-guide/discards/standalone-discard2.cs#3)]</span></span>

## <a name="see-also"></a><span data-ttu-id="1f9e9-161">Consulte também</span><span class="sxs-lookup"><span data-stu-id="1f9e9-161">See also</span></span>
<span data-ttu-id="1f9e9-162">[Desconstruindo tuplas e outros tipos](deconstruct.md) </span><span class="sxs-lookup"><span data-stu-id="1f9e9-162">[Deconstructing tuples and other types](deconstruct.md) </span></span>  
<span data-ttu-id="1f9e9-163">[`is` palavra-chave](language-reference/keywords/is.md) </span><span class="sxs-lookup"><span data-stu-id="1f9e9-163">[`is` keyword](language-reference/keywords/is.md) </span></span>  
[<span data-ttu-id="1f9e9-164">`switch` palavra-chave</span><span class="sxs-lookup"><span data-stu-id="1f9e9-164">`switch` keyword</span></span>](language-reference/keywords/switch.md)   

