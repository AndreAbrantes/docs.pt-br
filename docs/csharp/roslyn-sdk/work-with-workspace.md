---
title: "Trabalhar com o modelo de espaço de trabalho do SDK do .NET Compiler Platform"
description: "Esta visão geral fornece uma compreensão do tipo usado para consultar e manipular o espaço de trabalho e os projetos para o código."
author: billwagner
ms.author: wiwagn
ms.date: 10/15/2017
ms.topic: conceptual
ms.prod: .net
ms.devlang: devlang-csharp
ms.custom: mvc
ms.openlocfilehash: d0d4e9c012b025b9393ac34f0833795fca9841d5
ms.sourcegitcommit: d095094e942eedf09530ea5636fbaf9029853027
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/19/2017
---
# <a name="work-with-a-workspace"></a><span data-ttu-id="88b94-103">Trabalhar com um espaço de trabalho</span><span class="sxs-lookup"><span data-stu-id="88b94-103">Work with a workspace</span></span>

<span data-ttu-id="88b94-104">A camada **Espaços de Trabalho** contém a API de Espaço de Trabalho para fazer a análise de código e refatoração em soluções inteiras.</span><span class="sxs-lookup"><span data-stu-id="88b94-104">The **Workspaces** layer is the starting point for doing code analysis and refactoring over entire solutions.</span></span> <span data-ttu-id="88b94-105">Nessa camada, a API do Espaço de Trabalho ajudará você a organizar todas as informações sobre os projetos de uma solução em um único modelo de objeto, oferecendo acesso direto aos modelos de objeto da camada do compilador como texto de origem, árvores de sintaxe, modelos semânticos e compilações, sem a necessidade de analisar arquivos, configurar opções ou gerenciar dependências entre projetos.</span><span class="sxs-lookup"><span data-stu-id="88b94-105">Within this layer, the Workspace API assists you in organizing all the information about the projects in a solution into a single object model, offering you direct access to compiler layer object models like source text, syntax trees, semantic models, and compilations without needing to parse files, configure options, or manage inter-project dependencies.</span></span> 

<span data-ttu-id="88b94-106">Ambientes de host, como um IDE, fornecem um espaço de trabalho para você correspondente à solução aberta.</span><span class="sxs-lookup"><span data-stu-id="88b94-106">Host environments, like an IDE, provide a workspace for you corresponding to the open solution.</span></span> <span data-ttu-id="88b94-107">Também é possível usar esse modelo fora de um IDE apenas carregando um arquivo de solução.</span><span class="sxs-lookup"><span data-stu-id="88b94-107">It is also possible to use this model outside of an IDE by simply loading a solution file.</span></span>

## <a name="workspace"></a><span data-ttu-id="88b94-108">Espaço de trabalho</span><span class="sxs-lookup"><span data-stu-id="88b94-108">Workspace</span></span>

<span data-ttu-id="88b94-109">Um espaço de trabalho é uma representação ativa da solução como uma coleção de projetos, cada uma com uma coleção de documentos.</span><span class="sxs-lookup"><span data-stu-id="88b94-109">A workspace is an active representation of your solution as a collection of projects, each with a collection of documents.</span></span> <span data-ttu-id="88b94-110">Um espaço de trabalho normalmente é vinculado a um ambiente de host que está sendo modificado constantemente conforme um usuário digita ou manipula propriedades.</span><span class="sxs-lookup"><span data-stu-id="88b94-110">A workspace is typically tied to a host environment that is constantly changing as a user types or manipulates properties.</span></span> 

<span data-ttu-id="88b94-111">O <xref:Microsoft.CodeAnalysis.Workspace> fornece acesso ao modelo atual da solução.</span><span class="sxs-lookup"><span data-stu-id="88b94-111">The <xref:Microsoft.CodeAnalysis.Workspace> provides access to the current model of the solution.</span></span> <span data-ttu-id="88b94-112">Quando ocorre uma alteração no ambiente de host, o espaço de trabalho aciona eventos correspondentes e a propriedade <xref:Microsoft.CodeAnalysis.Workspace.CurrentSolution?displayProperty=nameWithType> é atualizada.</span><span class="sxs-lookup"><span data-stu-id="88b94-112">When a change in the host environment occurs, the workspace fires corresponding events, and the <xref:Microsoft.CodeAnalysis.Workspace.CurrentSolution?displayProperty=nameWithType> property is updated.</span></span> <span data-ttu-id="88b94-113">Por exemplo, quando o usuário digita em um editor de texto algo correspondente a um dos documentos de origem, o espaço de trabalho usa um evento para sinalizar que o modelo geral da solução foi alterado e qual documento foi modificado.</span><span class="sxs-lookup"><span data-stu-id="88b94-113">For example, when the user types in a text editor corresponding to one of the source documents, the workspace uses an event to signal that the overall model of the solution has changed and which document was modified.</span></span> <span data-ttu-id="88b94-114">Em seguida, você pode reagir a essas alterações analisando o novo modelo quanto à exatidão, realçando áreas de significância ou fazendo uma sugestão de alteração de código.</span><span class="sxs-lookup"><span data-stu-id="88b94-114">You can then react to those changes by analyzing the new model for correctness, highlighting areas of significance, or making a suggestion for a code change.</span></span> 

<span data-ttu-id="88b94-115">Também pode criar espaços de trabalho independentes desconectados do ambiente de host ou usados em um aplicativo que não tem nenhum ambiente de host.</span><span class="sxs-lookup"><span data-stu-id="88b94-115">You can also create stand-alone workspaces that are disconnected from the host environment or used in an application that has no host environment.</span></span>

## <a name="solutions-projects-documents"></a><span data-ttu-id="88b94-116">Soluções, projetos, documentos</span><span class="sxs-lookup"><span data-stu-id="88b94-116">Solutions, projects, documents</span></span>

<span data-ttu-id="88b94-117">Embora um espaço de trabalho possa ser alterado sempre que uma tecla é pressionada, você pode trabalhar com o modelo da solução de forma isolada.</span><span class="sxs-lookup"><span data-stu-id="88b94-117">Although a workspace may change every time a key is pressed, you can work with the model of the solution in isolation.</span></span> 

<span data-ttu-id="88b94-118">Uma solução é um modelo imutável dos projetos e documentos.</span><span class="sxs-lookup"><span data-stu-id="88b94-118">A solution is an immutable model of the projects and documents.</span></span> <span data-ttu-id="88b94-119">Isso significa que o modelo pode ser compartilhado sem bloqueio nem duplicação.</span><span class="sxs-lookup"><span data-stu-id="88b94-119">This means that the model can be shared without locking or duplication.</span></span> <span data-ttu-id="88b94-120">Depois de obter uma instância da solução da propriedade <xref:Microsoft.CodeAnalysis.Workspace.CurrentSolution?displayProperty=nameWithType>, essa instância nunca será alterada.</span><span class="sxs-lookup"><span data-stu-id="88b94-120">After you obtain a solution instance from the <xref:Microsoft.CodeAnalysis.Workspace.CurrentSolution?displayProperty=nameWithType> property, that instance will never change.</span></span> <span data-ttu-id="88b94-121">No entanto, assim como árvores de sintaxe e compilações, você pode modificar soluções construindo novas instâncias com base em soluções existentes e alterações específicas.</span><span class="sxs-lookup"><span data-stu-id="88b94-121">However, like with syntax trees and compilations, you can modify solutions by constructing new instances based on existing solutions and specific changes.</span></span> <span data-ttu-id="88b94-122">Para fazer com que o espaço de trabalho reflita as alterações, é necessário aplicar explicitamente a solução alterada novamente ao espaço de trabalho.</span><span class="sxs-lookup"><span data-stu-id="88b94-122">To get the workspace to reflect your changes, you must explicitly apply the changed solution back to the workspace.</span></span>

<span data-ttu-id="88b94-123">Um projeto é uma parte do modelo de solução imutável geral.</span><span class="sxs-lookup"><span data-stu-id="88b94-123">A project is a part of the overall immutable solution model.</span></span> <span data-ttu-id="88b94-124">Ele representa todos os documentos do código-fonte, opções de análise e compilação e referências de assembly e projeto a projeto.</span><span class="sxs-lookup"><span data-stu-id="88b94-124">It represents all the source code documents, parse and compilation options, and both assembly and project-to-project references.</span></span> <span data-ttu-id="88b94-125">Em um projeto, você pode acessar a compilação correspondente sem a necessidade de determinar as dependências de projeto nem analisar arquivos de origem.</span><span class="sxs-lookup"><span data-stu-id="88b94-125">From a project, you can access the corresponding compilation without needing to determine project dependencies or parse any source files.</span></span>

<span data-ttu-id="88b94-126">Um documento também é uma parte do modelo de solução imutável geral.</span><span class="sxs-lookup"><span data-stu-id="88b94-126">A document is also a part of the overall immutable solution model.</span></span> <span data-ttu-id="88b94-127">Um documento representa um único arquivo de origem do qual você pode acessar o texto do arquivo, a árvore de sintaxe e o modelo semântico.</span><span class="sxs-lookup"><span data-stu-id="88b94-127">A document represents a single source file from which you can access the text of the file, the syntax tree, and the semantic model.</span></span>

<span data-ttu-id="88b94-128">O diagrama a seguir é uma representação de como o Espaço de Trabalho se relaciona ao ambiente de host, às ferramentas e ao modo como as edições são feitas.</span><span class="sxs-lookup"><span data-stu-id="88b94-128">The following diagram is a representation of how the Workspace relates to the host environment, tools, and how edits are made.</span></span>

![as relações entre os diferentes elementos de um espaço de trabalho que contém projetos e arquivos de origem](media/workspace-obj-relations.png)

## <a name="summary"></a><span data-ttu-id="88b94-130">Resumo</span><span class="sxs-lookup"><span data-stu-id="88b94-130">Summary</span></span>

<span data-ttu-id="88b94-131">O Roslyn expõe um conjunto de APIs do compilador e APIs dos Espaços de Trabalho que fornecem informações detalhadas sobre o código-fonte e que têm fidelidade total com as linguagens C# e Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="88b94-131">Roslyn exposes a set of compiler APIs and Workspaces APIs that provides rich information about your source code and that has full fidelity with the C# and Visual Basic languages.</span></span>  <span data-ttu-id="88b94-132">O SDK do .NET Compiler Platform diminui drasticamente a barreira de entrada para a criação de aplicativos e ferramentas voltadas para o código.</span><span class="sxs-lookup"><span data-stu-id="88b94-132">The .NET Compiler Platform SDK dramatically lowers the barrier to entry for creating code-focused tools and applications.</span></span> <span data-ttu-id="88b94-133">Ele cria várias oportunidades para inovação em áreas como metaprogramação, geração e transformação de código, uso interativo das linguagens C# e VB e incorporação de C# e VB a linguagens específicas de domínio.</span><span class="sxs-lookup"><span data-stu-id="88b94-133">It creates many opportunities for innovation in areas such as meta-programming, code generation and transformation, interactive use of the C# and VB languages, and embedding of C# and VB in domain specific languages.</span></span>  
