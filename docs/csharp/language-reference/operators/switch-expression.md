---
title: expressão do interruptor - referência C#
description: Aprenda a usar a expressão do switch C# para correspondência de padrões e outras introspecções de dados
ms.date: 03/19/2020
ms.openlocfilehash: 9e609bcea0f92f492b5f9b07840e47f75c1b71e4
ms.sourcegitcommit: 99b153b93bf94d0fecf7c7bcecb58ac424dfa47c
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/25/2020
ms.locfileid: "80249784"
---
# <a name="switch-expression-c-reference"></a><span data-ttu-id="9d8e4-103">expressão do interruptor (referência C#)</span><span class="sxs-lookup"><span data-stu-id="9d8e4-103">switch expression (C# reference)</span></span>

<span data-ttu-id="9d8e4-104">Este artigo `switch` abrange a expressão, introduzida em C# 8.0.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-104">This article covers the `switch` expression, introduced in C# 8.0.</span></span> <span data-ttu-id="9d8e4-105">Para obter `switch` informações sobre a declaração, consulte o artigo sobre a [ `switch` declaração](../keywords/switch.md) na seção [de declarações.](../keywords/index.md)</span><span class="sxs-lookup"><span data-stu-id="9d8e4-105">For information on the `switch` statement, see the article on the [`switch` statement](../keywords/switch.md) in the [statements](../keywords/index.md) section.</span></span>

## <a name="basic-example"></a><span data-ttu-id="9d8e4-106">Exemplo básico</span><span class="sxs-lookup"><span data-stu-id="9d8e4-106">Basic example</span></span>

<span data-ttu-id="9d8e4-107">A `switch` expressão `switch`prevê semântica semelhante a um contexto de expressão.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-107">The `switch` expression provides for `switch`-like semantics in an expression context.</span></span> <span data-ttu-id="9d8e4-108">Fornece uma sintaxe concisa quando os braços de interruptor produzem um valor.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-108">It provides a concise syntax when the switch arms produce a value.</span></span> <span data-ttu-id="9d8e4-109">O exemplo a seguir mostra a estrutura de uma expressão de switch.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-109">The following example shows the structure of a switch expression.</span></span> <span data-ttu-id="9d8e4-110">Ele traduz valores `enum` de uma direção visual representativa em um mapa on-line para a direção cardeal correspondente:</span><span class="sxs-lookup"><span data-stu-id="9d8e4-110">It translates values from an `enum` representing visual directions in an online map to the corresponding cardinal direction:</span></span>

:::code language="csharp" source="snippets/SwitchExpressions.cs" id="SnippetBasicStructure":::

<span data-ttu-id="9d8e4-111">A amostra anterior mostra os elementos básicos de uma expressão de switch:</span><span class="sxs-lookup"><span data-stu-id="9d8e4-111">The preceding sample shows the basic elements of a switch expression:</span></span>

- <span data-ttu-id="9d8e4-112">A *expressão de intervalo*: `direction` O exemplo anterior usa a variável como expressão de intervalo.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-112">The *range expression*: The preceding example uses the variable `direction` as the range expression.</span></span>
- <span data-ttu-id="9d8e4-113">Braços *de expressão do interruptor*: Cada braço de expressão do interruptor contém um *padrão,* um protetor de *caixa*opcional, o `=>` token e uma *expressão*.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-113">The *switch expression arms*: Each switch expression arm contains a *pattern*, an optional *case guard*, the `=>` token, and an *expression*.</span></span>

<span data-ttu-id="9d8e4-114">O resultado da expressão do *interruptor* é o valor da expressão do primeiro braço de expressão do *interruptor* cujo *padrão* corresponde à expressão *de faixa* e cuja guarda de *causa,* se presente, avalia a `true`.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-114">The result of the *switch expression* is the value of the expression of the first *switch expression arm* whose *pattern* matches the *range expression* and whose *cause guard*, if present, evaluates to `true`.</span></span> <span data-ttu-id="9d8e4-115">A *expressão* à direita `=>` do token não pode ser uma declaração de expressão.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-115">The *expression* on the right of the `=>` token can't be an expression statement.</span></span>

<span data-ttu-id="9d8e4-116">Os *braços de expressão do interruptor* são avaliados na ordem de texto.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-116">The *switch expression arms* are evaluated in text order.</span></span> <span data-ttu-id="9d8e4-117">O compilador emite um erro quando um braço de expressão de *interruptor* inferior não pode ser escolhido porque um braço de expressão de *interruptor* mais alto corresponde a todos os seus valores.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-117">The compiler issues an error when a lower *switch expression arm* can't be chosen because a higher *switch expression arm* matches all its values.</span></span>

## <a name="patterns-and-case-guards"></a><span data-ttu-id="9d8e4-118">Padrões e guardas de caso</span><span class="sxs-lookup"><span data-stu-id="9d8e4-118">Patterns and case guards</span></span>

<span data-ttu-id="9d8e4-119">Muitos padrões são suportados em braços de expressão de interruptor.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-119">Many patterns are supported in switch expression arms.</span></span> <span data-ttu-id="9d8e4-120">O exemplo anterior usou um *padrão de valor*.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-120">The preceding example used a *value pattern*.</span></span> <span data-ttu-id="9d8e4-121">Um *padrão de valor* compara a expressão de intervalo a um valor.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-121">A *value pattern* compares the range expression to a value.</span></span> <span data-ttu-id="9d8e4-122">Esse valor deve ser uma constante de tempo de compilação.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-122">That value must be a compile time constant.</span></span> <span data-ttu-id="9d8e4-123">O *padrão de tipo* compara a expressão de intervalo a um tipo conhecido.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-123">The *type pattern* compares the range expression to a known type.</span></span> <span data-ttu-id="9d8e4-124">O exemplo a seguir recupera o terceiro elemento de uma seqüência.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-124">The following example retrieves the third element from a sequence.</span></span> <span data-ttu-id="9d8e4-125">Ele usa diferentes métodos baseados no tipo da seqüência:</span><span class="sxs-lookup"><span data-stu-id="9d8e4-125">It uses different methods based on the type of the sequence:</span></span>

:::code language="csharp" source="snippets/SwitchExpressions.cs" id="SnippetTypePattern":::

<span data-ttu-id="9d8e4-126">Padrões podem ser recursivos, onde um padrão testa um tipo, e se esse tipo corresponder, o padrão corresponde a um ou mais valores de propriedade na expressão de intervalo.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-126">Patterns can be recursive, where a pattern tests a type, and if that type matches, the pattern matches one or more property values on the range expression.</span></span> <span data-ttu-id="9d8e4-127">Você pode usar padrões recursivos para estender o exemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-127">You can use recursive patterns to extend the preceding example.</span></span> <span data-ttu-id="9d8e4-128">Você adiciona braços de expressão de interruptor para matrizes que tenham menos de 3 elementos.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-128">You add switch expression arms for arrays that have fewer than 3 elements.</span></span> <span data-ttu-id="9d8e4-129">Padrões recursivos são mostrados no seguinte exemplo:</span><span class="sxs-lookup"><span data-stu-id="9d8e4-129">Recursive patterns are shown in the following example:</span></span>

:::code language="csharp" source="snippets/SwitchExpressions.cs" id="SnippetRecursivePattern":::

<span data-ttu-id="9d8e4-130">Padrões recursivos podem examinar propriedades da expressão de intervalo, mas não podem executar código arbitrário.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-130">Recursive patterns can examine properties of the range expression, but can't execute arbitrary code.</span></span> <span data-ttu-id="9d8e4-131">Você pode usar um protetor de `when` *caso,* especificado em uma cláusula, para fornecer verificações semelhantes para outros tipos de seqüência:</span><span class="sxs-lookup"><span data-stu-id="9d8e4-131">You can use a *case guard*, specified in a `when` clause, to provide similar checks for other sequence types:</span></span>

:::code language="csharp" source="snippets/SwitchExpressions.cs" id="SnippetGuardCase":::

<span data-ttu-id="9d8e4-132">Finalmente, você pode `_` adicionar `null` o padrão e o padrão para captar argumentos que não são processados por qualquer outro braço de expressão do switch.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-132">Finally, you can add the `_` pattern and the `null` pattern to catch arguments that aren't processed by any other switch expression arm.</span></span> <span data-ttu-id="9d8e4-133">Isso torna a expressão do interruptor *exaustiva,* o que significa que qualquer possível valor da expressão de intervalo é manuseado.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-133">That makes the switch expression *exhaustive*, meaning any possible value of the range expression is handled.</span></span> <span data-ttu-id="9d8e4-134">O exemplo a seguir adiciona os braços de expressão:</span><span class="sxs-lookup"><span data-stu-id="9d8e4-134">The following example adds those expression arms:</span></span>

:::code language="csharp" source="snippets/SwitchExpressions.cs" id="SnippetExhaustive":::

<span data-ttu-id="9d8e4-135">O exemplo anterior `null` adiciona um `IEnumerable<T>` padrão e `_` altera o padrão de tipo para um padrão.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-135">The preceding example adds a `null` pattern, and changes the `IEnumerable<T>` type pattern to a `_` pattern.</span></span> <span data-ttu-id="9d8e4-136">O `null` padrão fornece uma verificação nula como um braço de expressão do interruptor.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-136">The `null` pattern provides a null check as a switch expression arm.</span></span> <span data-ttu-id="9d8e4-137">A expressão para esse <xref:System.ArgumentNullException>braço lança um .</span><span class="sxs-lookup"><span data-stu-id="9d8e4-137">The expression for that arm throws an <xref:System.ArgumentNullException>.</span></span> <span data-ttu-id="9d8e4-138">O `_` padrão corresponde a todas as entradas que não foram combinadas com armas anteriores.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-138">The `_` pattern matches all inputs that haven't been matched by previous arms.</span></span> <span data-ttu-id="9d8e4-139">Deve vir depois `null` do cheque, `null` ou corresponderia às entradas.</span><span class="sxs-lookup"><span data-stu-id="9d8e4-139">It must come after the `null` check, or it would match `null` inputs.</span></span>

<span data-ttu-id="9d8e4-140">Você pode ler mais na proposta de especificação da linguagem C# para [padrões recursivos](~/_csharplang/proposals/csharp-8.0/patterns.md#switch-expression).</span><span class="sxs-lookup"><span data-stu-id="9d8e4-140">You can read more in the C# language spec proposal for [recursive patterns](~/_csharplang/proposals/csharp-8.0/patterns.md#switch-expression).</span></span>

## <a name="see-also"></a><span data-ttu-id="9d8e4-141">Confira também</span><span class="sxs-lookup"><span data-stu-id="9d8e4-141">See also</span></span>

- [<span data-ttu-id="9d8e4-142">Referência do C#</span><span class="sxs-lookup"><span data-stu-id="9d8e4-142">C# reference</span></span>](../index.md)
- [<span data-ttu-id="9d8e4-143">Operadores do C#</span><span class="sxs-lookup"><span data-stu-id="9d8e4-143">C# operators</span></span>](index.md)
- [<span data-ttu-id="9d8e4-144">Correspondência de padrões</span><span class="sxs-lookup"><span data-stu-id="9d8e4-144">Pattern matching</span></span>](../../pattern-matching.md)
