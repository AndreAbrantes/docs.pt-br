---
title: Selecionar a versão da linguagem C# – Guia do C#
description: Configure o compilador para executar a validação de sintaxe usando uma versão específica de compilador
ms.date: 02/28/2019
ms.openlocfilehash: 6d31a757171bd2eecdcc1fbd3da765dcb3fe45c0
ms.sourcegitcommit: 79066169e93d9d65203028b21983574ad9dcf6b4
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57212021"
---
# <a name="select-the-c-language-version"></a><span data-ttu-id="ebf74-103">Selecionar a versão da linguagem C#</span><span class="sxs-lookup"><span data-stu-id="ebf74-103">Select the C# language version</span></span>

<span data-ttu-id="ebf74-104">O compilador C# determina uma versão da linguagem padrão com base na estrutura de destino ou nas estruturas de seu projeto.</span><span class="sxs-lookup"><span data-stu-id="ebf74-104">The C# compiler determines a default language version based on your project's target framework or frameworks.</span></span> <span data-ttu-id="ebf74-105">Quando seu projeto se destina a uma estrutura de visualização que tem uma versão da linguagem correspondente da visualização, a versão de linguagem usada é a de visualização.</span><span class="sxs-lookup"><span data-stu-id="ebf74-105">When your project targets a preview framework that has a corresponding preview language version, the language version used is the preview language version.</span></span> <span data-ttu-id="ebf74-106">Quando seu projeto não tem como alvo uma estrutura de visualização, a versão de linguagem usada é a versão secundária mais recente.</span><span class="sxs-lookup"><span data-stu-id="ebf74-106">When your project doesn't target a preview framework, the language version used is the latest minor version.</span></span>

<span data-ttu-id="ebf74-107">Por exemplo, durante o período de visualização do .NET Core 3.0, qualquer projeto que tem como alvo `netcoreapp3.0` ou `netstandard2.1` (ambas na visualização) usará a linguagem C# 8.0 (também em visualização).</span><span class="sxs-lookup"><span data-stu-id="ebf74-107">For example, during the preview period for .NET Core 3.0, any project that targets `netcoreapp3.0` or `netstandard2.1` (both in preview) will use the C# 8.0 language (also in preview).</span></span> <span data-ttu-id="ebf74-108">Projetos direcionados para qualquer versão de lançamento usarão o C# 7.3 (a versão lançada mais recente).</span><span class="sxs-lookup"><span data-stu-id="ebf74-108">Projects targeting any released version will use C# 7.3 (the latest released version).</span></span> <span data-ttu-id="ebf74-109">Esse comportamento significa que qualquer projeto direcionado ao .NET Framework usará a versão mais recente (C# 7.3).</span><span class="sxs-lookup"><span data-stu-id="ebf74-109">This behavior means that any project targeting .NET Framework will use latest (C# 7.3).</span></span> 

<span data-ttu-id="ebf74-110">Essa funcionalidade separa a decisão de instalar novas versões do SDK e das ferramentas no ambiente de desenvolvimento da decisão de incorporar novas funcionalidades da linguagem em um projeto.</span><span class="sxs-lookup"><span data-stu-id="ebf74-110">This capability decouples the decision to install new versions of the SDK and tools in your development environment from the decision to incorporate new language features in a project.</span></span> <span data-ttu-id="ebf74-111">Instale o último SDK e as últimas ferramentas no computador de build.</span><span class="sxs-lookup"><span data-stu-id="ebf74-111">You can install the latest SDK and tools on your build machine.</span></span> <span data-ttu-id="ebf74-112">Cada projeto pode ser configurado para usar uma versão específica da linguagem de seu build.</span><span class="sxs-lookup"><span data-stu-id="ebf74-112">Each project can be configured to use a specific version of the language for its build.</span></span> <span data-ttu-id="ebf74-113">O comportamento padrão significa que os recursos de linguagem que se baseiam em novos tipos ou novo comportamento CLR são habilitados somente quando os projetos se destinam a essas estruturas.</span><span class="sxs-lookup"><span data-stu-id="ebf74-113">The default behavior means that any language features that rely on new types or new CLR behavior are enabled only when projects target those frameworks.</span></span>

<span data-ttu-id="ebf74-114">Você pode substituir o comportamento padrão especificando uma versão da linguagem.</span><span class="sxs-lookup"><span data-stu-id="ebf74-114">You can override the default behavior by specifying a language version.</span></span> <span data-ttu-id="ebf74-115">Há várias maneiras de definir a versão da linguagem:</span><span class="sxs-lookup"><span data-stu-id="ebf74-115">There are several ways to set the language version:</span></span>

- <span data-ttu-id="ebf74-116">Depender de uma [ação rápida do Visual Studio](#visual-studio-quick-action).</span><span class="sxs-lookup"><span data-stu-id="ebf74-116">Rely on a [Visual Studio quick action](#visual-studio-quick-action).</span></span>
- <span data-ttu-id="ebf74-117">Definir a versão da linguagem na [interface do usuário do Visual Studio](#set-the-language-version-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="ebf74-117">Set the language version in the [Visual Studio UI](#set-the-language-version-in-visual-studio).</span></span>
- <span data-ttu-id="ebf74-118">Editar manualmente o arquivo [**.csproj**](#edit-the-csproj-file).</span><span class="sxs-lookup"><span data-stu-id="ebf74-118">Manually edit your [**.csproj** file](#edit-the-csproj-file).</span></span>
- <span data-ttu-id="ebf74-119">Definir a versão da linguagem [para vários projetos em um subdiretório](#configure-multiple-projects).</span><span class="sxs-lookup"><span data-stu-id="ebf74-119">Set the language version [for multiple projects in a subdirectory](#configure-multiple-projects).</span></span>
- <span data-ttu-id="ebf74-120">Configurar a opção [`-langversion` do compilador](#set-the-langversion-compiler-option).</span><span class="sxs-lookup"><span data-stu-id="ebf74-120">Configure the [`-langversion` compiler option](#set-the-langversion-compiler-option).</span></span>

## <a name="visual-studio-quick-action"></a><span data-ttu-id="ebf74-121">Ação rápida do Visual Studio</span><span class="sxs-lookup"><span data-stu-id="ebf74-121">Visual Studio quick action</span></span>

<span data-ttu-id="ebf74-122">O Visual Studio ajuda você a determinar a versão da linguagem necessária.</span><span class="sxs-lookup"><span data-stu-id="ebf74-122">Visual Studio helps you determine the language version you need.</span></span> <span data-ttu-id="ebf74-123">Se você usar uma funcionalidade de linguagem que não está disponível para a versão atualmente configurada, o Visual Studio mostrará uma correção potencial para atualizar a versão da linguagem do projeto.</span><span class="sxs-lookup"><span data-stu-id="ebf74-123">If you use a language feature that is not available for the currently configured version, Visual Studio shows a potential fix to update the language version for the project.</span></span>

## <a name="set-the-language-version-in-visual-studio"></a><span data-ttu-id="ebf74-124">Definir a versão da linguagem no Visual Studio</span><span class="sxs-lookup"><span data-stu-id="ebf74-124">Set the language version in Visual Studio</span></span>

<span data-ttu-id="ebf74-125">Você pode definir a versão no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="ebf74-125">You can set the version in Visual Studio.</span></span> <span data-ttu-id="ebf74-126">Clique com o botão direito do mouse no nó do projeto no Gerenciador de Soluções e selecione **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="ebf74-126">Right-click on the project node in Solution Explorer and select **Properties**.</span></span> <span data-ttu-id="ebf74-127">Selecione a guia **Build** e o botão **Avançado**.</span><span class="sxs-lookup"><span data-stu-id="ebf74-127">Select the **Build** tab and select the **Advanced** button.</span></span> <span data-ttu-id="ebf74-128">Na lista suspensa, selecione a versão.</span><span class="sxs-lookup"><span data-stu-id="ebf74-128">In the dropdown, select the version.</span></span> <span data-ttu-id="ebf74-129">A seguinte imagem mostra a "última" configuração:</span><span class="sxs-lookup"><span data-stu-id="ebf74-129">The following image shows the "latest" setting:</span></span>

![Captura de tela de configurações avançadas de build nas quais é possível especificar a versão da linguagem](./media/configure-language-version/advanced-build-settings.png)

> [!NOTE]
> <span data-ttu-id="ebf74-131">Se você usar o IDE do Visual Studio para atualizar os arquivos csproj, o IDE criará nós separados para cada configuração de build.</span><span class="sxs-lookup"><span data-stu-id="ebf74-131">If you use the Visual Studio IDE to update your csproj files, the IDE creates separate nodes for each build configuration.</span></span> <span data-ttu-id="ebf74-132">Normalmente, você definirá o valor da mesma forma em todas as configurações de build, mas precisará defini-lo explicitamente para cada configuração de build ou selecionar "Todas as Configurações" ao modificar essa configuração.</span><span class="sxs-lookup"><span data-stu-id="ebf74-132">You'll typically set the value the same in all build configurations, but you need to set it explicitly for each build configuration, or select "All Configurations" when you modify this setting.</span></span> <span data-ttu-id="ebf74-133">Você verá o seguinte no arquivo csproj:</span><span class="sxs-lookup"><span data-stu-id="ebf74-133">You'll see the following in your csproj file:</span></span>
>
>```xml
> <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|AnyCPU'">
>  <LangVersion>latest</LangVersion>
></PropertyGroup>
>
> <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|AnyCPU'">
>  <LangVersion>latest</LangVersion>
> </PropertyGroup>
> ```
>

## <a name="edit-the-csproj-file"></a><span data-ttu-id="ebf74-134">Editar o arquivo csproj</span><span class="sxs-lookup"><span data-stu-id="ebf74-134">Edit the csproj file</span></span>

<span data-ttu-id="ebf74-135">Você pode definir a versão da linguagem no arquivo **.csproj**.</span><span class="sxs-lookup"><span data-stu-id="ebf74-135">You can set the language version in your **.csproj** file.</span></span> <span data-ttu-id="ebf74-136">Adicione um elemento como o seguinte:</span><span class="sxs-lookup"><span data-stu-id="ebf74-136">Add an element like the following:</span></span>

```xml
<PropertyGroup>
   <LangVersion>latest</LangVersion>
</PropertyGroup>
```

<span data-ttu-id="ebf74-137">O valor `latest` usa a última versão secundária da linguagem C#.</span><span class="sxs-lookup"><span data-stu-id="ebf74-137">The value `latest` uses the latest minor version of the C# language.</span></span> <span data-ttu-id="ebf74-138">Os valores válidos são:</span><span class="sxs-lookup"><span data-stu-id="ebf74-138">Valid values are:</span></span>

|<span data-ttu-id="ebf74-139">Valor</span><span class="sxs-lookup"><span data-stu-id="ebf74-139">Value</span></span>|<span data-ttu-id="ebf74-140">Significado</span><span class="sxs-lookup"><span data-stu-id="ebf74-140">Meaning</span></span>|
|------------|-------------|
|<span data-ttu-id="ebf74-141">versão prévia</span><span class="sxs-lookup"><span data-stu-id="ebf74-141">preview</span></span>|<span data-ttu-id="ebf74-142">O compilador aceita todas as sintaxes de linguagem válidas da versão prévia mais recente.</span><span class="sxs-lookup"><span data-stu-id="ebf74-142">The compiler accepts all valid language syntax from the latest preview version.</span></span>|
|<span data-ttu-id="ebf74-143">mais recente</span><span class="sxs-lookup"><span data-stu-id="ebf74-143">latest</span></span>|<span data-ttu-id="ebf74-144">O compilador aceita a sintaxe da versão lançada mais recente do compilador (incluindo a versão secundária).</span><span class="sxs-lookup"><span data-stu-id="ebf74-144">The compiler accepts syntax from the latest released version of the compiler (including minor version).</span></span>|
|<span data-ttu-id="ebf74-145">latestMajor</span><span class="sxs-lookup"><span data-stu-id="ebf74-145">latestMajor</span></span>|<span data-ttu-id="ebf74-146">O compilador aceita a sintaxe da versão principal mais recente lançada do compilador.</span><span class="sxs-lookup"><span data-stu-id="ebf74-146">The compiler accepts syntax from the latest released major version of the compiler.</span></span>|
|<span data-ttu-id="ebf74-147">8.0</span><span class="sxs-lookup"><span data-stu-id="ebf74-147">8.0</span></span>|<span data-ttu-id="ebf74-148">O compilador aceita somente a sintaxe incluída no C# 8.0 ou inferior.</span><span class="sxs-lookup"><span data-stu-id="ebf74-148">The compiler accepts only syntax that is included in C# 8.0 or lower.</span></span>|
|<span data-ttu-id="ebf74-149">7.3</span><span class="sxs-lookup"><span data-stu-id="ebf74-149">7.3</span></span>|<span data-ttu-id="ebf74-150">O compilador aceita somente a sintaxe incluída no C# 7.3 ou inferior.</span><span class="sxs-lookup"><span data-stu-id="ebf74-150">The compiler accepts only syntax that is included in C# 7.3 or lower.</span></span>|
|<span data-ttu-id="ebf74-151">7.2</span><span class="sxs-lookup"><span data-stu-id="ebf74-151">7.2</span></span>|<span data-ttu-id="ebf74-152">O compilador aceita somente a sintaxe incluída no C# 7.2 ou inferior.</span><span class="sxs-lookup"><span data-stu-id="ebf74-152">The compiler accepts only syntax that is included in C# 7.2 or lower.</span></span>|
|<span data-ttu-id="ebf74-153">7.1</span><span class="sxs-lookup"><span data-stu-id="ebf74-153">7.1</span></span>|<span data-ttu-id="ebf74-154">O compilador aceita somente a sintaxe incluída no C# 7.1 ou inferior.</span><span class="sxs-lookup"><span data-stu-id="ebf74-154">The compiler accepts only syntax that is included in C# 7.1 or lower.</span></span>|
|<span data-ttu-id="ebf74-155">7</span><span class="sxs-lookup"><span data-stu-id="ebf74-155">7</span></span>|<span data-ttu-id="ebf74-156">O compilador aceita somente a sintaxe incluída no C# 7.0 ou inferior.</span><span class="sxs-lookup"><span data-stu-id="ebf74-156">The compiler accepts only syntax that is included in C# 7.0 or lower.</span></span>|
|<span data-ttu-id="ebf74-157">6</span><span class="sxs-lookup"><span data-stu-id="ebf74-157">6</span></span>|<span data-ttu-id="ebf74-158">O compilador aceita somente a sintaxe incluída no C# 6.0 ou inferior.</span><span class="sxs-lookup"><span data-stu-id="ebf74-158">The compiler accepts only syntax that is included in C# 6.0 or lower.</span></span>|
|<span data-ttu-id="ebf74-159">5</span><span class="sxs-lookup"><span data-stu-id="ebf74-159">5</span></span>|<span data-ttu-id="ebf74-160">O compilador aceita somente a sintaxe incluída no C# 5.0 ou inferior.</span><span class="sxs-lookup"><span data-stu-id="ebf74-160">The compiler accepts only syntax that is included in C# 5.0 or lower.</span></span>|
|<span data-ttu-id="ebf74-161">4</span><span class="sxs-lookup"><span data-stu-id="ebf74-161">4</span></span>|<span data-ttu-id="ebf74-162">O compilador aceita somente a sintaxe incluída no C# 4.0 ou inferior.</span><span class="sxs-lookup"><span data-stu-id="ebf74-162">The compiler accepts only syntax that is included in C# 4.0 or lower.</span></span>|
|<span data-ttu-id="ebf74-163">3</span><span class="sxs-lookup"><span data-stu-id="ebf74-163">3</span></span>|<span data-ttu-id="ebf74-164">O compilador aceita somente a sintaxe incluída no C# 3.0 ou inferior.</span><span class="sxs-lookup"><span data-stu-id="ebf74-164">The compiler accepts only syntax that is included in C# 3.0 or lower.</span></span>|
|<span data-ttu-id="ebf74-165">ISO-2</span><span class="sxs-lookup"><span data-stu-id="ebf74-165">ISO-2</span></span>|<span data-ttu-id="ebf74-166">O compilador aceita somente a sintaxe incluída no ISO/IEC 23270:2006 C# (2.0)</span><span class="sxs-lookup"><span data-stu-id="ebf74-166">The compiler accepts only syntax that is included in ISO/IEC 23270:2006 C# (2.0)</span></span> |
|<span data-ttu-id="ebf74-167">ISO-1</span><span class="sxs-lookup"><span data-stu-id="ebf74-167">ISO-1</span></span>|<span data-ttu-id="ebf74-168">O compilador aceita somente a sintaxe incluída no ISO/IEC 23270:2003 C# (1.0/1.2)</span><span class="sxs-lookup"><span data-stu-id="ebf74-168">The compiler accepts only syntax that is included in ISO/IEC 23270:2003 C# (1.0/1.2)</span></span> |

## <a name="configure-multiple-projects"></a><span data-ttu-id="ebf74-169">Configurar vários projetos</span><span class="sxs-lookup"><span data-stu-id="ebf74-169">Configure multiple projects</span></span>

<span data-ttu-id="ebf74-170">Crie um arquivo **Directory.build.props** que contém o elemento `<LangVersion>` para configurar vários diretórios.</span><span class="sxs-lookup"><span data-stu-id="ebf74-170">You can create a **Directory.build.props** file that contains the `<LangVersion>` element to configure multiple directories.</span></span> <span data-ttu-id="ebf74-171">Normalmente, você faz isso no diretório da solução.</span><span class="sxs-lookup"><span data-stu-id="ebf74-171">You typically do that in your solution directory.</span></span> <span data-ttu-id="ebf74-172">Adicione o seguinte a um arquivo **Directory.build.props** no diretório de solução:</span><span class="sxs-lookup"><span data-stu-id="ebf74-172">Add the following to a **Directory.build.props** file in your solution directory:</span></span>

```xml
<Project>
 <PropertyGroup>
   <LangVersion>7.3</LangVersion>
 </PropertyGroup>
</Project>
```

<span data-ttu-id="ebf74-173">Agora, os builds de cada subdiretório do diretório que contém esse arquivo usarão a sintaxe C# versão 7.3.</span><span class="sxs-lookup"><span data-stu-id="ebf74-173">Now, builds in every subdirectory of the directory containing that file will use C# version 7.3 syntax.</span></span> <span data-ttu-id="ebf74-174">Para obter mais informações, confira o artigo sobre como [personalizar o build](/visualstudio/msbuild/customize-your-build).</span><span class="sxs-lookup"><span data-stu-id="ebf74-174">For more information, see the article on [Customize your build](/visualstudio/msbuild/customize-your-build).</span></span>

## <a name="set-the-langversion-compiler-option"></a><span data-ttu-id="ebf74-175">Definir a opção langversion do compilador</span><span class="sxs-lookup"><span data-stu-id="ebf74-175">Set the langversion compiler option</span></span>

<span data-ttu-id="ebf74-176">Você pode usar a opção `-langversion` da linha de comando.</span><span class="sxs-lookup"><span data-stu-id="ebf74-176">You can use the `-langversion` command-line option.</span></span> <span data-ttu-id="ebf74-177">Para obter mais informações, confira o artigo sobre a opção [-langversion](../language-reference/compiler-options/langversion-compiler-option.md) do compilador.</span><span class="sxs-lookup"><span data-stu-id="ebf74-177">For more information, see the article on the [-langversion](../language-reference/compiler-options/langversion-compiler-option.md) compiler option.</span></span> <span data-ttu-id="ebf74-178">Veja uma lista dos valores válidos digitando `csc -langversion:?`.</span><span class="sxs-lookup"><span data-stu-id="ebf74-178">You can see a list of the valid values by typing  `csc -langversion:?`.</span></span>
