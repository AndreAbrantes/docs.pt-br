---
title: "Distinção entre Delegados e Eventos"
description: "Saber a diferença entre delegados e eventos e quando usar cada um desses recursos do .NET Core."
keywords: .NET, .NET Core
author: BillWagner
ms.author: wiwagn
ms.date: 06/20/2016
ms.topic: article
ms.prod: .net
ms.technology: devlang-csharp
ms.devlang: csharp
ms.assetid: 0fdc8629-2fdb-4a7c-a433-5b9d04eaf911
ms.openlocfilehash: 3026a0d853cb17dcf05d3b98d814044d743e48dc
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/18/2017
---
# <a name="distinguishing-delegates-and-events"></a><span data-ttu-id="0786e-104">Distinção entre Delegados e Eventos</span><span class="sxs-lookup"><span data-stu-id="0786e-104">Distinguishing Delegates and Events</span></span>

[<span data-ttu-id="0786e-105">Anterior</span><span class="sxs-lookup"><span data-stu-id="0786e-105">Previous</span></span>](modern-events.md)

<span data-ttu-id="0786e-106">Desenvolvedores que são novos na plataforma .NET Core geralmente têm dificuldades para decidir entre um design baseado em `delegates` e um design baseado em `events`.</span><span class="sxs-lookup"><span data-stu-id="0786e-106">Developers that are new to the .NET Core platform often struggle when deciding between a design based on `delegates` and a design based on `events`.</span></span> <span data-ttu-id="0786e-107">Este é um conceito difícil, porque os recursos das duas linguagens são muito semelhantes.</span><span class="sxs-lookup"><span data-stu-id="0786e-107">This is a difficult concept, because the two language features are very similar.</span></span> <span data-ttu-id="0786e-108">De fato, os eventos são criados usando o suporte de linguagem para delegados.</span><span class="sxs-lookup"><span data-stu-id="0786e-108">Events are even built using the language support for delegates.</span></span> 

<span data-ttu-id="0786e-109">Ambas oferecem um cenário de associação tardia: elas permitem cenários em que um componente se comunica chamando um método que é conhecido somente em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="0786e-109">They both offer a late binding scenario: they enable scenarios where a component communicates by calling a method that is only known at runtime.</span></span> <span data-ttu-id="0786e-110">Ambas dão suporte a métodos de assinante único e vários assinantes.</span><span class="sxs-lookup"><span data-stu-id="0786e-110">They both support single and multiple subscriber methods.</span></span> <span data-ttu-id="0786e-111">Você pode ver esse suporte ser chamado de singlecast e multicast.</span><span class="sxs-lookup"><span data-stu-id="0786e-111">You may find this referred to as singlecast and multicast support.</span></span> <span data-ttu-id="0786e-112">Ambas dão suporte a uma sintaxe semelhante para adicionar e remover manipuladores.</span><span class="sxs-lookup"><span data-stu-id="0786e-112">They both support similar syntax for adding and removing handlers.</span></span> <span data-ttu-id="0786e-113">Por fim, acionar um evento e chamar um delegado usam exatamente a mesma sintaxe de chamada de método.</span><span class="sxs-lookup"><span data-stu-id="0786e-113">Finally, raising an event and calling a delegate use exactly the same method call syntax.</span></span> <span data-ttu-id="0786e-114">As duas até mesmo dão suporte à mesma sintaxe de método `Invoke()` para uso com o operador `?.`.</span><span class="sxs-lookup"><span data-stu-id="0786e-114">They even both support the same `Invoke()` method syntax for use with the `?.` operator.</span></span>

<span data-ttu-id="0786e-115">Com todas essas semelhanças, é fácil de ter problemas para determinar quando usar qual.</span><span class="sxs-lookup"><span data-stu-id="0786e-115">With all those similarities, it is easy to have trouble determining when to use which.</span></span>

## <a name="listening-to-events-is-optional"></a><span data-ttu-id="0786e-116">Ouvir eventos é opcional</span><span class="sxs-lookup"><span data-stu-id="0786e-116">Listening to Events is Optional</span></span>

<span data-ttu-id="0786e-117">O aspecto mais importante para determinar qual recurso da linguagem usar é se é necessário ou não que haja um assinante anexado.</span><span class="sxs-lookup"><span data-stu-id="0786e-117">The most important consideration in determining which language feature to use is whether or not there must be an attached subscriber.</span></span> <span data-ttu-id="0786e-118">Se seu código precisar chamar o código fornecido pelo assinante, você deverá usar um design baseado em delegados.</span><span class="sxs-lookup"><span data-stu-id="0786e-118">If your code must call the code supplied by the subscriber, you should use a design based on delegates.</span></span> <span data-ttu-id="0786e-119">Se seu código puder concluir todo o seu trabalho sem chamar nenhum assinante, você deverá usar um design baseado em eventos.</span><span class="sxs-lookup"><span data-stu-id="0786e-119">If your code can complete all its work without calling any subscribers, you should use a design based on events.</span></span> 

<span data-ttu-id="0786e-120">Considere os exemplos criados durante esta seção.</span><span class="sxs-lookup"><span data-stu-id="0786e-120">Consider the examples built during this section.</span></span> <span data-ttu-id="0786e-121">O código que você criou usando `List.Sort()` deve receber uma função de comparador para classificar corretamente os elementos.</span><span class="sxs-lookup"><span data-stu-id="0786e-121">The code you built using `List.Sort()` must be given a comparer function in order to properly sort the elements.</span></span> <span data-ttu-id="0786e-122">Consultas de LINQ devem receber delegados para determinar quais elementos retornar.</span><span class="sxs-lookup"><span data-stu-id="0786e-122">LINQ queries must be supplied with delegates in order to determine what elements to return.</span></span> <span data-ttu-id="0786e-123">Ambos usaram um design criado com delegados.</span><span class="sxs-lookup"><span data-stu-id="0786e-123">Both used a design built with delegates.</span></span>

<span data-ttu-id="0786e-124">Considere o evento `Progress`.</span><span class="sxs-lookup"><span data-stu-id="0786e-124">Consider the `Progress` event.</span></span> <span data-ttu-id="0786e-125">Ele relata o progresso de uma tarefa.</span><span class="sxs-lookup"><span data-stu-id="0786e-125">It reports progress on a task.</span></span>
<span data-ttu-id="0786e-126">A tarefa continua quer haja ouvintes ou não.</span><span class="sxs-lookup"><span data-stu-id="0786e-126">The task continues to proceed whether or not there are any listeners.</span></span>
<span data-ttu-id="0786e-127">O `FileSearcher` é outro exemplo.</span><span class="sxs-lookup"><span data-stu-id="0786e-127">The `FileSearcher` is another example.</span></span> <span data-ttu-id="0786e-128">Ele ainda pesquisaria e localizaria todos os arquivos que foram buscados, mesmo que não houvesse assinantes do evento anexados.</span><span class="sxs-lookup"><span data-stu-id="0786e-128">It would still search and find all the files that were sought, even with no event subscribers attached.</span></span>
<span data-ttu-id="0786e-129">Controles de UX ainda funcionam corretamente, mesmo quando não houver nenhum assinante ouvindo os eventos.</span><span class="sxs-lookup"><span data-stu-id="0786e-129">UX controls still work correctly, even when there are no subscribers listening to the events.</span></span> <span data-ttu-id="0786e-130">Ambos usam os designs baseados em eventos.</span><span class="sxs-lookup"><span data-stu-id="0786e-130">They both use designs based on events.</span></span>

## <a name="return-values-require-delegates"></a><span data-ttu-id="0786e-131">Valores retornados exigem delegados</span><span class="sxs-lookup"><span data-stu-id="0786e-131">Return Values Require Delegates</span></span>

<span data-ttu-id="0786e-132">Outra consideração é o protótipo do método que você gostaria de ter para seu método de delegado.</span><span class="sxs-lookup"><span data-stu-id="0786e-132">Another consideration is the method prototype you would want for your delegate method.</span></span> <span data-ttu-id="0786e-133">Como você viu, todos os delegados usados para os eventos têm um tipo retornado nulo.</span><span class="sxs-lookup"><span data-stu-id="0786e-133">As you've seen, the delegates used for events all have a void return type.</span></span> <span data-ttu-id="0786e-134">Você também viu que há expressões para criar manipuladores de eventos que passam informações para as origens dos eventos modificando propriedades do objeto de argumento de evento.</span><span class="sxs-lookup"><span data-stu-id="0786e-134">You've also seen that there are idioms to create event handlers that do pass information back to event sources through modifying properties of the event argument object.</span></span> <span data-ttu-id="0786e-135">Embora essas expressões funcionem, elas não são tão naturais quanto retornar um valor de um método.</span><span class="sxs-lookup"><span data-stu-id="0786e-135">While these idioms do work, they are not as natural as returning a value from a method.</span></span>

<span data-ttu-id="0786e-136">Observe que essas duas heurísticas geralmente podem estar presentes: se o método de delegado retornar um valor, provavelmente ele terá impacto sobre o algoritmo de alguma forma.</span><span class="sxs-lookup"><span data-stu-id="0786e-136">Notice that these two heuristics may often both be present: If your delegate method returns a value, it will likely impact the algorithm in some way.</span></span>

## <a name="event-listeners-often-have-longer-lifetimes"></a><span data-ttu-id="0786e-137">Ouvintes de evento frequentemente têm vida útil mais longa</span><span class="sxs-lookup"><span data-stu-id="0786e-137">Event Listeners Often Have Longer Lifetimes</span></span> 

<span data-ttu-id="0786e-138">Essa é uma justificativa ligeiramente mais fraca.</span><span class="sxs-lookup"><span data-stu-id="0786e-138">This is a slightly weaker justification.</span></span> <span data-ttu-id="0786e-139">No entanto, você pode descobrir que designs baseados em eventos são mais naturais quando a origem do evento for gerar eventos durante um longo período de tempo.</span><span class="sxs-lookup"><span data-stu-id="0786e-139">However, you may find that event-based designs are more natural when the event source will be raising events over a long period of time.</span></span> <span data-ttu-id="0786e-140">Você pode ver exemplos disso para controles de UX em vários sistemas.</span><span class="sxs-lookup"><span data-stu-id="0786e-140">You can see examples of this for UX controls on many systems.</span></span> <span data-ttu-id="0786e-141">Quando você assina um evento, a origem do evento pode gerar eventos durante o tempo de vida do programa.</span><span class="sxs-lookup"><span data-stu-id="0786e-141">Once you subscribe to an event, the event source may raise events throughout the lifetime of the program.</span></span>
<span data-ttu-id="0786e-142">(Você pode cancelar a assinatura de eventos quando não precisar mais deles.)</span><span class="sxs-lookup"><span data-stu-id="0786e-142">(You can unsubscribe from events when you no longer need them.)</span></span>

<span data-ttu-id="0786e-143">Compare isso com vários designs baseados em delegados, em que um delegado é usado como um argumento para um método e o delegado não é usado depois que o método é retornado.</span><span class="sxs-lookup"><span data-stu-id="0786e-143">Contrast that with many delegate-based designs, where a delegate is used as an argument to a method, and the delegate is not used after that method returns.</span></span>

## <a name="evaluate-carefully"></a><span data-ttu-id="0786e-144">Avalie cuidadosamente</span><span class="sxs-lookup"><span data-stu-id="0786e-144">Evaluate Carefully</span></span>

<span data-ttu-id="0786e-145">As considerações acima não são regras rígidas e óbvias.</span><span class="sxs-lookup"><span data-stu-id="0786e-145">The above considerations are not hard and fast rules.</span></span> <span data-ttu-id="0786e-146">Em vez disso, elas são diretrizes que podem ajudá-lo a decidir qual opção é melhor para seu uso específico.</span><span class="sxs-lookup"><span data-stu-id="0786e-146">Instead, they represent guidance that can help you decide which choice is best for your particular usage.</span></span> <span data-ttu-id="0786e-147">Como elas são semelhantes, você pode até mesmo fazer protótipos das suas e considerar com qual seria mais natural trabalhar.</span><span class="sxs-lookup"><span data-stu-id="0786e-147">Because they are similar, you can even prototype both, and consider which would be more natural to work with.</span></span> <span data-ttu-id="0786e-148">Ambas lidam bem com cenários de associação tardia.</span><span class="sxs-lookup"><span data-stu-id="0786e-148">They both handle late binding scenarios well.</span></span> <span data-ttu-id="0786e-149">Use a que comunica melhor o seu design.</span><span class="sxs-lookup"><span data-stu-id="0786e-149">Use the one that communicates your design the best.</span></span>
