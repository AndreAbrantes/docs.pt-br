---
title: "Expressões lambda"
description: "Predisponha-se a usar expressões lambda, que são blocos de código executável que podem ser passados como argumentos."
keywords: ".NET, .NET Core, expressões lambda, lambdas, delegados"
ms-author: ronpet
author: rpetrusha
ms.date: 11/22/2016
ms.topic: article
ms.prod: .net
ms.technology: devlang-csharp
ms.devlang: csharp
ms.assetid: b6a0539a-8ce5-4da7-adcf-44be345a2714
ms.translationtype: HT
ms.sourcegitcommit: 2762cdc983465979a530192716c33de7044dd1ed
ms.openlocfilehash: 659a3366b00d6abe6598c31774d008c6b8f400fd
ms.contentlocale: pt-br
ms.lasthandoff: 08/04/2017

---

# <a name="lambda-expressions"></a><span data-ttu-id="7e8b2-104">Expressões lambda</span><span class="sxs-lookup"><span data-stu-id="7e8b2-104">Lambda expressions</span></span> #

<span data-ttu-id="7e8b2-105">Uma *expressão lambda* é um bloco de código (uma expressão ou um bloco de instruções) que é tratado como um objeto.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-105">A *lambda expression* is a block of code (an expression or a statement block) that is treated as an object.</span></span> <span data-ttu-id="7e8b2-106">Ela pode ser passada como um argumento para métodos e também pode ser retornada por chamadas de método.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-106">It can be passed as an argument to methods, and it can also be returned by method calls.</span></span> <span data-ttu-id="7e8b2-107">As expressões lambda são usadas amplamente para:</span><span class="sxs-lookup"><span data-stu-id="7e8b2-107">Lambda expressions are used extensively for:</span></span>

- <span data-ttu-id="7e8b2-108">Passar o código que deve ser executado por métodos assíncronos, como @System.Threading.Tasks.Task.Run(System.Action).</span><span class="sxs-lookup"><span data-stu-id="7e8b2-108">Passing the code that is to be executed to asynchronous methods, such as @System.Threading.Tasks.Task.Run(System.Action).</span></span>

- <span data-ttu-id="7e8b2-109">Escrever [expressões de consulta LINQ](linq/index.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b2-109">Writing [LINQ query expressions](linq/index.md).</span></span>

- <span data-ttu-id="7e8b2-110">Criar [árvores de expressão](expression-trees-building.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b2-110">Creating [expression trees](expression-trees-building.md).</span></span>

<span data-ttu-id="7e8b2-111">As expressões lambda são códigos que podem ser representados como um delegado ou como uma árvore de expressão que é compilada para um delegado.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-111">Lambda expressions are code that can be represented either as a delegate, or as an expression tree that compiles to a delegate.</span></span> <span data-ttu-id="7e8b2-112">O tipo delegado específico de uma expressão lambda depende de seus parâmetros e do valor retornado.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-112">The specific delegate type of a lambda expression depends on its parameters and return value.</span></span> <span data-ttu-id="7e8b2-113">As expressões lambda que não retornam um valor correspondem a um delegado `Action` específico, dependendo de seu número de parâmetros.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-113">Lambda expressions that don't return a value correspond to a specific `Action` delegate, depending on its number of parameters.</span></span> <span data-ttu-id="7e8b2-114">As expressões lambda que retornam um valor correspondem a um delegado `Func` específico, dependendo de seu número de parâmetros.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-114">Lambda expressions that return a value correspond to a specific `Func` delegate, depending on its number of parameters.</span></span> <span data-ttu-id="7e8b2-115">Por exemplo, uma expressão lambda que tem dois parâmetros, mas não retorna nenhum valor, corresponde a um delegado @System.Action%602.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-115">For example, a lambda expression that has two parameters but returns no value corresponds to an @System.Action%602 delegate.</span></span> <span data-ttu-id="7e8b2-116">Uma expressão lambda que tem um parâmetro e retorna um valor, corresponde ao delegado @System.Func%602.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-116">A lambda expression that has one parameter and returns a value corresponds to @System.Func%602 delegate.</span></span>

<span data-ttu-id="7e8b2-117">Usa uma expressão lambda usa o `=>`, o [operador de declaração lambda](language-reference/operators/lambda-operator.md), para separar a lista de parâmetros de lambda de seu código executável.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-117">A lambda expression uses `=>`, the [lambda declaration operator](language-reference/operators/lambda-operator.md), to separate the lambda's parameter list from its executable code.</span></span> <span data-ttu-id="7e8b2-118">Para criar uma expressão lambda, você especifica os parâmetros de entrada (se houver) no lado esquerdo do operador lambda e coloca a expressão ou o bloco de instruções do outro lado.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-118">To create a lambda expression, you specify input parameters (if any) on the left side of the lambda operator, and you put the expression or statement block on the other side.</span></span> <span data-ttu-id="7e8b2-119">Por exemplo, a expressão lambda de linha única `x => x * x` especifica um parâmetro chamado `x` e retorna o valor de `x` ao quadrado.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-119">For example, the single-line lambda expression `x => x * x` specifies a parameter that’s named `x` and returns the value of `x` squared.</span></span> <span data-ttu-id="7e8b2-120">Você pode atribuir essa expressão a um tipo delegado como neste exemplo:</span><span class="sxs-lookup"><span data-stu-id="7e8b2-120">You can assign this expression to a delegate type, as the following example shows:</span></span>

<span data-ttu-id="7e8b2-121">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/lambda1.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-121">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/lambda1.cs#1)]</span></span>

<span data-ttu-id="7e8b2-122">Ou pode passá-la diretamente como um argumento de método:</span><span class="sxs-lookup"><span data-stu-id="7e8b2-122">Or you can pass it directly as a method argument:</span></span>

<span data-ttu-id="7e8b2-123">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/lambda2.cs#2)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-123">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/lambda2.cs#2)]</span></span>

## <a name="expression-lambdas"></a><span data-ttu-id="7e8b2-124">Lambdas de expressão</span><span class="sxs-lookup"><span data-stu-id="7e8b2-124">Expression lambdas</span></span> ##

 <span data-ttu-id="7e8b2-125">Uma expressão lambda com uma expressão no lado direito do operador => é chamada de *lambda de expressão*.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-125">A lambda expression with an expression on the right side of the => operator is called an *expression lambda*.</span></span> <span data-ttu-id="7e8b2-126">Os lambdas de expressão são usados amplamente na construção de [árvores de expressão](expression-trees.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b2-126">Expression lambdas are used extensively in the construction of [expression trees](expression-trees.md).</span></span> <span data-ttu-id="7e8b2-127">Uma expressão lambda retorna o resultado da expressão e tem o seguinte formato básico:</span><span class="sxs-lookup"><span data-stu-id="7e8b2-127">An expression lambda returns the result of the expression and takes the following basic form:</span></span>

```csharp
(input parameters) => expression
```

<span data-ttu-id="7e8b2-128">Os parênteses serão opcionais somente se o lambda tiver um parâmetro de entrada; caso contrário, eles serão obrigatórios.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-128">The parentheses are optional only if the lambda has one input parameter; otherwise they are required.</span></span> <span data-ttu-id="7e8b2-129">Especifique parâmetros de entrada zero com parênteses vazios:</span><span class="sxs-lookup"><span data-stu-id="7e8b2-129">Specify zero input parameters with empty parentheses:</span></span>

<span data-ttu-id="7e8b2-130">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/expression3.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-130">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/expression3.cs#1)]</span></span>

<span data-ttu-id="7e8b2-131">Dois ou mais parâmetros de entrada são separados por vírgulas e envolvidos por parênteses:</span><span class="sxs-lookup"><span data-stu-id="7e8b2-131">Two or more input parameters are separated by commas enclosed in parentheses:</span></span>

<span data-ttu-id="7e8b2-132">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/expression3.cs#2)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-132">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/expression3.cs#2)]</span></span>

<span data-ttu-id="7e8b2-133">Normalmente, o compilador usa a inferência de tipos na determinação de tipos de parâmetro.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-133">Ordinarily, the compiler uses type inference in determining parameter types.</span></span> <span data-ttu-id="7e8b2-134">No entanto, às vezes é difícil ou impossível para o compilador inferir os tipos de entrada.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-134">However, sometimes it is difficult or impossible for the compiler to infer the input types.</span></span> <span data-ttu-id="7e8b2-135">Quando isso ocorre, você pode especificar os tipos de maneira explícita, como no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="7e8b2-135">When this occurs, you can specify the types explicitly, as in the following example:</span></span>

<span data-ttu-id="7e8b2-136">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/expression3.cs#3)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-136">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/expression3.cs#3)]</span></span>

<span data-ttu-id="7e8b2-137">Observe no exemplo anterior que o corpo de uma expressão lambda pode consistir de uma chamada de método.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-137">Note in the previous example that the body of an expression lambda can consist of a method call.</span></span> <span data-ttu-id="7e8b2-138">No entanto, se você estiver criando árvores de expressão que serão avaliadas fora do .NET Framework, como no SQL Server ou no EF (Entity Framework), você deverá evitar o uso de chamadas de método em expressões lambda, pois os métodos podem não ter significado fora do contexto da implementação do .NET.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-138">However, if you are creating expression trees that are evaluated outside of the .NET Framework, such as in SQL Server or Entity Framework (EF), you should refrain from using method calls in lambda expressions, since the methods may have no meaning outside the context of the .NET implementation.</span></span> <span data-ttu-id="7e8b2-139">Se você optar por usar chamadas de método nesse caso, certifique-se de testá-las cuidadosamente para garantir que as chamadas de método possam ser resolvidas com êxito.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-139">If you do choose to use method calls in this case, be sure to test them thoroughly to ensure that the method calls can be successfuly resolved.</span></span>

## <a name="statement-lambdas"></a><span data-ttu-id="7e8b2-140">Lambdas de instrução</span><span class="sxs-lookup"><span data-stu-id="7e8b2-140">Statement lambdas</span></span> ##

<span data-ttu-id="7e8b2-141">Um lambda de instrução lembra um lambda de expressão, exceto que as instruções estão incluídas entre chaves:</span><span class="sxs-lookup"><span data-stu-id="7e8b2-141">A statement lambda resembles an expression lambda except that the statement(s) is enclosed in braces:</span></span>

```csharp
(input parameters) => { statement; }
```

<span data-ttu-id="7e8b2-142">O corpo de uma instrução lambda pode consistir de qualquer número de instruções; no entanto, na prática, normalmente não há mais de duas ou três.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-142">The body of a statement lambda can consist of any number of statements; however, in practice there are typically no more than two or three.</span></span>

<span data-ttu-id="7e8b2-143">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/statement1.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-143">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/statement1.cs#1)]</span></span>

<span data-ttu-id="7e8b2-144">Lambdas de instrução, como métodos anônimos, não podem ser usados para criar árvores de expressão.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-144">Statement lambdas, like anonymous methods, cannot be used to create expression trees.</span></span>

## <a name="async-lambdas"></a><span data-ttu-id="7e8b2-145">Lambdas assíncronos</span><span class="sxs-lookup"><span data-stu-id="7e8b2-145">Async lambdas</span></span> ##

<span data-ttu-id="7e8b2-146">Você pode facilmente criar expressões e instruções lambda que incorporem processamento assíncrono, ao usar as palavras-chaves [async](language-reference/keywords/async.md) e [await](language-reference/keywords/await.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b2-146">You can easily create lambda expressions and statements that incorporate asynchronous processing by using the [async](language-reference/keywords/async.md) and [await](language-reference/keywords/await.md) keywords.</span></span> <span data-ttu-id="7e8b2-147">Por exemplo, o exemplo chama um método `ShowSquares` que é executado de forma assíncrona.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-147">For example, the example calls a `ShowSquares` method that executes asynchronously.</span></span>

<span data-ttu-id="7e8b2-148">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/async1.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-148">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/async1.cs#1)]</span></span>

<span data-ttu-id="7e8b2-149">Para obter mais informações sobre como criar e usar os métodos assíncronos, consulte [Programação assíncrona com async e await](programming-guide/concepts/async/index.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b2-149">For more information about how to create and use async methods, see [Asynchronous programming with async and await](programming-guide/concepts/async/index.md).</span></span>

## <a name="lambda-expressions-and-tuples"></a><span data-ttu-id="7e8b2-150">Expressões lambda e tuplas</span><span class="sxs-lookup"><span data-stu-id="7e8b2-150">Lambda expressions and tuples</span></span> ##

<span data-ttu-id="7e8b2-151">Começando com o C# 7.0, a linguagem C# fornece suporte interno para tuplas.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-151">Starting with C# 7.0, the C# language provides built-in support for tuples.</span></span> <span data-ttu-id="7e8b2-152">Você pode fornecer uma tupla como um argumento para uma expressão lambda e a expressão lambda também pode retornar uma tupla.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-152">You can provide a tuple as an argument to a lambda expression, and your lambda expression can also return a tuple.</span></span> <span data-ttu-id="7e8b2-153">Em alguns casos, o compilador do C# usa a inferência de tipos para determinar os tipos dos componentes da tupla.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-153">In some cases, the C# compiler uses type inference to determine the types of tuple components.</span></span> 

<span data-ttu-id="7e8b2-154">Você pode definir uma tupla, colocando entre parênteses uma lista delimitada por vírgulas de seus componentes.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-154">You define a tuple by enclosing a comma-delimited list of its components in parentheses.</span></span> <span data-ttu-id="7e8b2-155">O exemplo a seguir usa a tupla com cinco componentes para passar uma sequência de números para uma expressão lambda, que dobra cada valor e retorna uma tupla com cinco componentes que contêm o resultado das multiplicações.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-155">The following example uses tuple with 5 components to pass a sequence of numbers to a lambda expression, which doubles each value and returns a tuple with 5 components that contains the result of the multiplications.</span></span>

<span data-ttu-id="7e8b2-156">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/tuples1.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-156">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/tuples1.cs#1)]</span></span>

<span data-ttu-id="7e8b2-157">Normalmente, os campos de uma tupla são chamados de `Item1`, `Item2`, etc. No entanto, você pode definir uma tupla com componentes nomeados, como é feito no exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-157">Ordinarily, the fields of a tuple are named `Item1`, `Item2`, etc. You can, however, define a tuple with named components, as the following example does.</span></span>

<span data-ttu-id="7e8b2-158">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/tuples2.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-158">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/tuples2.cs#1)]</span></span>

<span data-ttu-id="7e8b2-159">Para obter mais informações sobre o suporte de tuplas no C#, consulte [Tipos de tupla do C#](tuples.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b2-159">For more information on support for tuples in C#, see [C# Tuple types](tuples.md).</span></span>

## <a name="lambdas-with-the-standard-query-operators"></a><span data-ttu-id="7e8b2-160">Lambdas com os operadores de consulta padrão</span><span class="sxs-lookup"><span data-stu-id="7e8b2-160">Lambdas with the standard query operators</span></span> ##

<span data-ttu-id="7e8b2-161">A LINQ to Objects, entre outras implementações, têm um parâmetro de entrada cujo tipo é um dos da família @System.Func%601 de delegados genéricos.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-161">LINQ to Objects, among other implementations, have an input parameter whose type is one of the @System.Func%601 family of generic delegates.</span></span> <span data-ttu-id="7e8b2-162">Esses delegados usam parâmetros de tipo para definir o número e o tipo de parâmetros de entrada e o tipo de retorno do delegado.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-162">These delegates use type parameters to define the number and type of input parameters, and the return type of the delegate.</span></span> <span data-ttu-id="7e8b2-163">delegados `Func` são muito úteis para encapsular expressões definidas pelo usuário aplicadas a cada elemento em um conjunto de dados de origem.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-163">`Func` delegates are very useful for encapsulating user-defined expressions that are applied to each element in a set of source data.</span></span> <span data-ttu-id="7e8b2-164">Por exemplo, considere o delegado @System.Func%601, cuja sintaxe é:</span><span class="sxs-lookup"><span data-stu-id="7e8b2-164">For example, consider the @System.Func%601 delegate, whose syntax is:</span></span>

<span data-ttu-id="7e8b2-165">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-165">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#1)]</span></span>

<span data-ttu-id="7e8b2-166">O delegado pode ser instanciado com código semelhante ao seguinte</span><span class="sxs-lookup"><span data-stu-id="7e8b2-166">The delegate can be instantiated with code like the following</span></span>

<span data-ttu-id="7e8b2-167">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#2)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-167">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#2)]</span></span>

<span data-ttu-id="7e8b2-168">em que `int` é um parâmetro de entrada e `bool` é o valor retornado.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-168">where `int` is an input parameter, and `bool` is the return value.</span></span> <span data-ttu-id="7e8b2-169">O valor de retorno é sempre especificado no último parâmetro de tipo.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-169">The return value is always specified in the last type parameter.</span></span> <span data-ttu-id="7e8b2-170">Quando o delegado `Func` a seguir é invocado, ele retorna true ou false para indicar se o parâmetro de entrada é igual a 5:</span><span class="sxs-lookup"><span data-stu-id="7e8b2-170">When the following `Func` delegate is invoked, it returns true or false to indicate whether the input parameter is equal to 5:</span></span>

<span data-ttu-id="7e8b2-171">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#3)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-171">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#3)]</span></span>

<span data-ttu-id="7e8b2-172">Você também pode fornecer uma expressão lambda quando o tipo de argumento é um @System.Linq.Expressions.Expression%601, por exemplo, nos operadores de consulta padrão que são definidos no tipo @System.Linq.Queryable.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-172">You can also supply a lambda expression when the argument type is an @System.Linq.Expressions.Expression%601, for example in the standard query operators that are defined in the @System.Linq.Queryable type.</span></span> <span data-ttu-id="7e8b2-173">Quando você especifica um argumento @System.Linq.Expressions.Expression%601, o lambda é compilado para uma árvore de expressão.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-173">When you specify an @System.Linq.Expressions.Expression%601 argument, the lambda is compiled to an expression tree.</span></span> <span data-ttu-id="7e8b2-174">O exemplo a seguir usa o operador de consulta padrão [System.Linq.Enumerable.Count](xref:System.Linq.Enumerable.Count%60%601(System.Collections.Generic.IEnumerable{%60%600})).</span><span class="sxs-lookup"><span data-stu-id="7e8b2-174">The following example uses the [System.Linq.Enumerable.Count](xref:System.Linq.Enumerable.Count%60%601(System.Collections.Generic.IEnumerable{%60%600})) standard query operator.</span></span>

<span data-ttu-id="7e8b2-175">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#4)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-175">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#4)]</span></span>

<span data-ttu-id="7e8b2-176">O compilador pode inferir o tipo de parâmetro de entrada ou você também pode especificá-lo explicitamente.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-176">The compiler can infer the type of the input parameter, or you can also specify it explicitly.</span></span> <span data-ttu-id="7e8b2-177">Essa expressão lambda em particular conta esses inteiros (`n`) que, quando divididos por dois, tem um resto igual a 1.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-177">This particular lambda expression counts those integers (`n`) that, when divided by two, have a remainder of 1.</span></span>

<span data-ttu-id="7e8b2-178">O exemplo a seguir gera uma sequência que contém todos os elementos da matriz `numbers` que precedem o 9, porque esse é o primeiro número na sequência que não satisfaz a condição.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-178">The following example produces a sequence that contains all elements in the `numbers` array that precede the 9, because that's the first number in the sequence that doesn't meet the condition.</span></span>

<span data-ttu-id="7e8b2-179">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#5)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-179">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#5)]</span></span>

<span data-ttu-id="7e8b2-180">O exemplo a seguir especifica vários parâmetros de entrada, colocando-os entre parênteses.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-180">The following example specifies multiple input parameters by enclosing them in parentheses.</span></span> <span data-ttu-id="7e8b2-181">O método retorna todos os elementos na matriz de números até encontrar um número cujo valor é menor que sua posição ordinal na matriz.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-181">The method returns all the elements in the numbers array until it encounters a number whose value is less than its ordinal position in the array.</span></span>

<span data-ttu-id="7e8b2-182">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#6)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-182">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#6)]</span></span>

## <a name="type-inference-in-lambda-expressions"></a><span data-ttu-id="7e8b2-183">Inferência de tipos em expressões lambda</span><span class="sxs-lookup"><span data-stu-id="7e8b2-183">Type inference in lambda expressions</span></span> ##

<span data-ttu-id="7e8b2-184">Ao escrever lambdas, você geralmente não precisa especificar um tipo para os parâmetros de entrada porque o compilador pode inferir o tipo com base no corpo lambda, nos tipos de parâmetro e em outros fatores, conforme descrito na especificação da linguagem C#.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-184">When writing lambdas, you often do not have to specify a type for the input parameters because the compiler can infer the type based on the lambda body, the parameter types, and other factors, as described in the C# Language Specification.</span></span> <span data-ttu-id="7e8b2-185">Para a maioria dos operadores de consulta padrão, a primeira entrada é o tipo dos elementos na sequência de origem.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-185">For most of the standard query operators, the first input is the type of the elements in the source sequence.</span></span> <span data-ttu-id="7e8b2-186">Se você estiver consultando um `IEnumerable<Customer>`, a variável de entrada será inferida para ser um objeto `Customer`, o que significa que você terá acesso aos seus métodos e propriedades:</span><span class="sxs-lookup"><span data-stu-id="7e8b2-186">If you are querying an `IEnumerable<Customer>`, then the input variable is inferred to be a `Customer` object, which means you have access to its methods and properties:</span></span>

<span data-ttu-id="7e8b2-187">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/infer1.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-187">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/infer1.cs#1)]</span></span>

<span data-ttu-id="7e8b2-188">As regras gerais para a inferência de tipos para lambdas são:</span><span class="sxs-lookup"><span data-stu-id="7e8b2-188">The general rules for type inference for lambdas are:</span></span>

- <span data-ttu-id="7e8b2-189">O lambda deve conter o mesmo número de parâmetros do tipo delegado.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-189">The lambda must contain the same number of parameters as the delegate type.</span></span>

- <span data-ttu-id="7e8b2-190">Cada argumento de entrada no lambda deve ser implicitamente conversível em seu parâmetro delegado correspondente.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-190">Each input argument in the lambda must be implicitly convertible to its corresponding delegate parameter.</span></span>

- <span data-ttu-id="7e8b2-191">O valor de retorno do lambda (se houver) deve ser implicitamente conversível para o tipo de retorno do delegado.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-191">The return value of the lambda (if any) must be implicitly convertible to the delegate's return type.</span></span>

<span data-ttu-id="7e8b2-192">Observe que as expressões lambda em si não têm um tipo porque o sistema de tipo comum não possui conceito intrínseco da "expressão lambda".</span><span class="sxs-lookup"><span data-stu-id="7e8b2-192">Note that lambda expressions in themselves do not have a type because the common type system has no intrinsic concept of "lambda expression."</span></span> <span data-ttu-id="7e8b2-193">No entanto, às vezes é conveniente falar informalmente do "tipo" de uma expressão lambda.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-193">However, it is sometimes convenient to speak informally of the "type" of a lambda expression.</span></span> <span data-ttu-id="7e8b2-194">Nesses casos, o tipo se refere ao tipo delegado ou tipo @System.Linq.Expressions.Expression ao qual a expressão lambda é convertida.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-194">In these cases the type refers to the delegate type or @System.Linq.Expressions.Expression type to which the lambda expression is converted.</span></span>

## <a name="variable-scope-in-lambda-expressions"></a><span data-ttu-id="7e8b2-195">Escopo variável em expressões lambda</span><span class="sxs-lookup"><span data-stu-id="7e8b2-195">Variable Scope in Lambda Expressions</span></span> ##

<span data-ttu-id="7e8b2-196">As lambdas podem se referir a *variáveis externas* (consulte [Métodos anônimos](programming-guide/statements-expressions-operators/anonymous-methods.md)) que estão no escopo do método que define a função lambda ou no escopo do tipo que contém a expressão lambda.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-196">Lambdas can refer to *outer variables* (see [Anonymous methods](programming-guide/statements-expressions-operators/anonymous-methods.md)) that are in scope in the method that defines the lambda function, or in scope in the type that contains the lambda expression.</span></span> <span data-ttu-id="7e8b2-197">As variáveis que são capturadas dessa forma são armazenadas para uso na expressão lambda mesmo que de alguma outra forma elas saíssem do escopo e fossem coletadas como lixo.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-197">Variables that are captured in this manner are stored for use in the lambda expression even if the variables would otherwise go out of scope and be garbage collected.</span></span> <span data-ttu-id="7e8b2-198">Uma variável externa deve ser definitivamente atribuída para que possa ser consumida em uma expressão lambda.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-198">An outer variable must be definitely assigned before it can be consumed in a lambda expression.</span></span> <span data-ttu-id="7e8b2-199">O exemplo a seguir demonstra estas regras.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-199">The following example demonstrates these rules.</span></span>

<span data-ttu-id="7e8b2-200">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/scope.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="7e8b2-200">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/scope.cs#1)]</span></span>

 <span data-ttu-id="7e8b2-201">As seguintes regras se aplicam ao escopo variável em expressões lambda:</span><span class="sxs-lookup"><span data-stu-id="7e8b2-201">The following rules apply to variable scope in lambda expressions:</span></span>

- <span data-ttu-id="7e8b2-202">Uma variável capturada não será coletada do lixo até que o delegado que faz referência a ela se qualifique para coleta de lixo.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-202">A variable that is captured will not be garbage-collected until the delegate that references it becomes eligible for garbage collection.</span></span>

- <span data-ttu-id="7e8b2-203">As variáveis introduzidas em uma expressão lambda não são visíveis no método externo.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-203">Variables introduced within a lambda expression are not visible in the outer method.</span></span>

- <span data-ttu-id="7e8b2-204">Uma expressão lambda não pode capturar diretamente um parâmetro `ref` ou `out` de um método delimitador.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-204">A lambda expression cannot directly capture a `ref` or `out` parameter from an enclosing method.</span></span>

- <span data-ttu-id="7e8b2-205">Uma instrução return em uma expressão lambda não faz com que o método delimitador retorne.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-205">A return statement in a lambda expression does not cause the enclosing method to return.</span></span>

- <span data-ttu-id="7e8b2-206">Uma expressão lambda não poderá conter uma instrução `goto`, `break` ou `continue` que está dentro da função lambda se o destino da instrução jump estiver fora do bloco.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-206">A lambda expression cannot contain a `goto` statement, `break` statement, or `continue` statement that is inside the lambda function if the jump statement’s target is outside the block.</span></span> <span data-ttu-id="7e8b2-207">Também será um erro ter uma instrução jump fora do bloco da função lambda se o destino estiver dentro do bloco.</span><span class="sxs-lookup"><span data-stu-id="7e8b2-207">It is also an error to have a jump statement outside the lambda function block if the target is inside the block.</span></span>

## <a name="see-also"></a><span data-ttu-id="7e8b2-208">Consulte também</span><span class="sxs-lookup"><span data-stu-id="7e8b2-208">See also</span></span> ##

<span data-ttu-id="7e8b2-209">[LINQ (Consulta Integrada à Linguagem)](../standard/using-linq.md) </span><span class="sxs-lookup"><span data-stu-id="7e8b2-209">[LINQ (Language-Integrated Query)](../standard/using-linq.md) </span></span>  
<span data-ttu-id="7e8b2-210">[Métodos anônimos](programming-guide/statements-expressions-operators/anonymous-methods.md) </span><span class="sxs-lookup"><span data-stu-id="7e8b2-210">[Anonymous methods](programming-guide/statements-expressions-operators/anonymous-methods.md) </span></span>  
[<span data-ttu-id="7e8b2-211">Árvores de expressão</span><span class="sxs-lookup"><span data-stu-id="7e8b2-211">Expression trees</span></span>](expression-trees.md)

