---
title: Benefícios dos genéricos (Guia de Programação em C#)
ms.date: 07/20/2015
helpviewer_keywords:
- generics [C#], benefits
ms.assetid: 80f037cd-9ea7-48be-bfc1-219bfb2d4277
ms.openlocfilehash: 2770f8bc7fc4242beb02bf9e0555b5cbb8db0180
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/04/2018
ms.locfileid: "43503788"
---
# <a name="benefits-of-generics-c-programming-guide"></a><span data-ttu-id="c7913-102">Benefícios dos genéricos (Guia de Programação em C#)</span><span class="sxs-lookup"><span data-stu-id="c7913-102">Benefits of Generics (C# Programming Guide)</span></span>
<span data-ttu-id="c7913-103">Os genéricos oferecem a solução para uma limitação em versões anteriores do Common Language Runtime da linguagem C# em que a generalização é realizada por tipos de conversão de e para o tipo base universal <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="c7913-103">Generics provide the solution to a limitation in earlier versions of the common language runtime and the C# language in which generalization is accomplished by casting types to and from the universal base type <xref:System.Object>.</span></span> <span data-ttu-id="c7913-104">Ao criar uma classe genérica, é possível criar uma coleção fortemente tipada em tempo de compilação.</span><span class="sxs-lookup"><span data-stu-id="c7913-104">By creating a generic class, you can create a collection that is type-safe at compile-time.</span></span>  
  
 <span data-ttu-id="c7913-105">As limitações do uso de classes de coleção não genéricas não podem ser demonstradas ao escrever um pequeno programa que use a classe de coleção <xref:System.Collections.ArrayList> da biblioteca de classes do .NET.</span><span class="sxs-lookup"><span data-stu-id="c7913-105">The limitations of using non-generic collection classes can be demonstrated by writing a short program that uses the <xref:System.Collections.ArrayList> collection class from the .NET class library.</span></span> <span data-ttu-id="c7913-106">Uma instância da classe <xref:System.Collections.ArrayList> pode armazenar qualquer referência ou tipo de valor.</span><span class="sxs-lookup"><span data-stu-id="c7913-106">An instance of the <xref:System.Collections.ArrayList> class can store any reference or value type.</span></span>  
  
 [!code-csharp[csProgGuideGenerics#4](../../../csharp/programming-guide/generics/codesnippet/CSharp/benefits-of-generics_1.cs)]  
  
 <span data-ttu-id="c7913-107">Porém, essa conveniência gera um custo.</span><span class="sxs-lookup"><span data-stu-id="c7913-107">But this convenience comes at a cost.</span></span> <span data-ttu-id="c7913-108">Qualquer tipo de referência ou valor que é adicionado a um <xref:System.Collections.ArrayList> é implicitamente upcast para <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="c7913-108">Any reference or value type that is added to an <xref:System.Collections.ArrayList> is implicitly upcast to <xref:System.Object>.</span></span> <span data-ttu-id="c7913-109">Se os itens forem tipos de valor, será necessário que eles sejam convertidos ao serem adicionados à lista e desconvertidos ao serem recuperados.</span><span class="sxs-lookup"><span data-stu-id="c7913-109">If the items are value types, they must be boxed when they are added to the list, and unboxed when they are retrieved.</span></span> <span data-ttu-id="c7913-110">Tanto a conversão quanto as operações de conversão boxing e unboxing diminuem o desempenho; o efeito das conversões boxing e unboxing podem ser muito significativos em cenários em que é necessário iterar em coleções grandes.</span><span class="sxs-lookup"><span data-stu-id="c7913-110">Both the casting and the boxing and unboxing operations decrease performance; the effect of boxing and unboxing can be very significant in scenarios where you must iterate over large collections.</span></span>  
  
 <span data-ttu-id="c7913-111">A outra limitação é a falta de verificação de tipo em tempo de compilação, pois uma <xref:System.Collections.ArrayList> converte tudo para <xref:System.Object>; não é possível evitar que o código cliente faça algo como isto no tempo de compilação:</span><span class="sxs-lookup"><span data-stu-id="c7913-111">The other limitation is lack of compile-time type checking; because an <xref:System.Collections.ArrayList> casts everything to <xref:System.Object>, there is no way at compile-time to prevent client code from doing something such as this:</span></span>  
  
 [!code-csharp[csProgGuideGenerics#5](../../../csharp/programming-guide/generics/codesnippet/CSharp/benefits-of-generics_2.cs)]  
  
 <span data-ttu-id="c7913-112">Embora seja perfeitamente aceitável e por vezes intencional, se você estiver criando uma coleção heterogênea, é mais provável que combinar cadeias de caracteres e `ints` em uma única <xref:System.Collections.ArrayList> seja um erro de programação e esse erro não será detectado até o tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="c7913-112">Although perfectly acceptable and sometimes intentional if you are creating a heterogeneous collection, combining strings and `ints` in a single <xref:System.Collections.ArrayList> is more likely to be a programming error, and this error will not be detected until runtime.</span></span>  
  
 <span data-ttu-id="c7913-113">Nas versões 1.0 e 1.1 da linguagem C#, é possível evitar os perigos do código generalizado em classes de coleção da biblioteca de classes base do .NET Framework somente pela gravação de suas próprias coleções de tipo específico.</span><span class="sxs-lookup"><span data-stu-id="c7913-113">In versions 1.0 and 1.1 of the C# language, you could avoid the dangers of generalized code in the .NET Framework base class library collection classes only by writing your own type specific collections.</span></span> <span data-ttu-id="c7913-114">Claro, como tal classe não é reutilizável para mais de um tipo de dados, os benefícios da generalização serão perdidos e será necessário gravar novamente a classe para cada tipo que será armazenado.</span><span class="sxs-lookup"><span data-stu-id="c7913-114">Of course, because such a class is not reusable for more than one data type, you lose the benefits of generalization, and you have to rewrite the class for each type that will be stored.</span></span>  
  
 <span data-ttu-id="c7913-115">O que <xref:System.Collections.ArrayList> e outras classes semelhantes precisam é uma maneira de o código cliente especificar, em uma base por instância, o tipo de dados específico que pretende usar.</span><span class="sxs-lookup"><span data-stu-id="c7913-115">What <xref:System.Collections.ArrayList> and other similar classes really need is a way for client code to specify, on a per-instance basis, the particular data type that they intend to use.</span></span> <span data-ttu-id="c7913-116">Isso eliminaria a necessidade do upcast para <xref:System.Object> e possibilitaria ao compilador a realização da verificação de tipo.</span><span class="sxs-lookup"><span data-stu-id="c7913-116">That would eliminate the need for the upcast to <xref:System.Object> and would also make it possible for the compiler to do type checking.</span></span> <span data-ttu-id="c7913-117">Em outras palavras, <xref:System.Collections.ArrayList> precisa de um parâmetro de tipo.</span><span class="sxs-lookup"><span data-stu-id="c7913-117">In other words, <xref:System.Collections.ArrayList> needs a type parameter.</span></span> <span data-ttu-id="c7913-118">Isso é exatamente o que os genéricos oferecem.</span><span class="sxs-lookup"><span data-stu-id="c7913-118">That is exactly what generics provide.</span></span> <span data-ttu-id="c7913-119">Na coleção genérica <xref:System.Collections.Generic.List%601>, no namespace <xref:System.Collections.Generic>, a mesma operação de adição de itens à coleção é semelhante a:</span><span class="sxs-lookup"><span data-stu-id="c7913-119">In the generic <xref:System.Collections.Generic.List%601> collection, in the <xref:System.Collections.Generic> namespace, the same operation of adding items to the collection resembles this:</span></span>  
  
 [!code-csharp[csProgGuideGenerics#6](../../../csharp/programming-guide/generics/codesnippet/CSharp/benefits-of-generics_3.cs)]  
  
 <span data-ttu-id="c7913-120">Para código cliente, a única sintaxe adicionada com <xref:System.Collections.Generic.List%601> em comparação com <xref:System.Collections.ArrayList> é o argumento de tipo na declaração e na instanciação.</span><span class="sxs-lookup"><span data-stu-id="c7913-120">For client code, the only added syntax with <xref:System.Collections.Generic.List%601> compared to <xref:System.Collections.ArrayList> is the type argument in the declaration and instantiation.</span></span> <span data-ttu-id="c7913-121">Como compensação por essa complexidade na codificação, é possível criar uma lista que não só é mais segura do que <xref:System.Collections.ArrayList>, mas também é significativamente mais rápida, especialmente quando os itens da lista são tipos de valor.</span><span class="sxs-lookup"><span data-stu-id="c7913-121">In return for this slightly more coding complexity, you can create a list that is not only safer than <xref:System.Collections.ArrayList>, but also significantly faster, especially when the list items are value types.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c7913-122">Consulte também</span><span class="sxs-lookup"><span data-stu-id="c7913-122">See Also</span></span>

- <xref:System.Collections.Generic>  
- [<span data-ttu-id="c7913-123">Guia de Programação em C#</span><span class="sxs-lookup"><span data-stu-id="c7913-123">C# Programming Guide</span></span>](../../../csharp/programming-guide/index.md)  
- [<span data-ttu-id="c7913-124">Introdução aos genéricos</span><span class="sxs-lookup"><span data-stu-id="c7913-124">Introduction to Generics</span></span>](../../../csharp/programming-guide/generics/introduction-to-generics.md)  
- [<span data-ttu-id="c7913-125">Conversão boxing e unboxing</span><span class="sxs-lookup"><span data-stu-id="c7913-125">Boxing and Unboxing</span></span>](../../../csharp/programming-guide/types/boxing-and-unboxing.md)  
- [<span data-ttu-id="c7913-126">Quando Usar Coleções Genéricas</span><span class="sxs-lookup"><span data-stu-id="c7913-126">When to Use Generic Collections</span></span>](../../../standard/collections/when-to-use-generic-collections.md)  
- [<span data-ttu-id="c7913-127">Diretrizes para coleções</span><span class="sxs-lookup"><span data-stu-id="c7913-127">Guidelines for Collections</span></span>](../../../standard/design-guidelines/guidelines-for-collections.md)   
