---
title: Serialização (C#)
ms.date: 01/02/2020
ms.openlocfilehash: 1d2bda9022b7e43744dd8a0286eff88914cf65a3
ms.sourcegitcommit: 7bc6887ab658550baa78f1520ea735838249345e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/03/2020
ms.locfileid: "75635724"
---
# <a name="serialization-c"></a><span data-ttu-id="ebaae-102">Serialização (C#)</span><span class="sxs-lookup"><span data-stu-id="ebaae-102">Serialization (C#)</span></span>

<span data-ttu-id="ebaae-103">A serialização é o processo de converter um objeto em um fluxo de bytes para armazenar o objeto ou transmiti-lo para a memória, um banco de dados ou um arquivo.</span><span class="sxs-lookup"><span data-stu-id="ebaae-103">Serialization is the process of converting an object into a stream of bytes to store the object or transmit it to memory, a database, or a file.</span></span> <span data-ttu-id="ebaae-104">Sua finalidade principal é salvar o estado de um objeto para recriá-lo quando necessário.</span><span class="sxs-lookup"><span data-stu-id="ebaae-104">Its main purpose is to save the state of an object in order to be able to recreate it when needed.</span></span> <span data-ttu-id="ebaae-105">O processo inverso é chamado desserialização.</span><span class="sxs-lookup"><span data-stu-id="ebaae-105">The reverse process is called deserialization.</span></span>

## <a name="how-serialization-works"></a><span data-ttu-id="ebaae-106">Como a serialização funciona</span><span class="sxs-lookup"><span data-stu-id="ebaae-106">How serialization works</span></span>

<span data-ttu-id="ebaae-107">Esta ilustração mostra o processo geral de serialização:</span><span class="sxs-lookup"><span data-stu-id="ebaae-107">This illustration shows the overall process of serialization:</span></span>

![Gráfico de serialização](./media/index/serialization-process.gif)

<span data-ttu-id="ebaae-109">O objeto é serializado para um fluxo que transporta os dados.</span><span class="sxs-lookup"><span data-stu-id="ebaae-109">The object is serialized to a stream that carries the data.</span></span> <span data-ttu-id="ebaae-110">O fluxo também pode ter informações sobre o tipo do objeto, como sua versão, cultura e nome do assembly.</span><span class="sxs-lookup"><span data-stu-id="ebaae-110">The stream may also have information about the object's type, such as its version, culture, and assembly name.</span></span> <span data-ttu-id="ebaae-111">A partir desse fluxo, o objeto pode ser armazenado em um banco de dados, em um arquivo ou em uma memória.</span><span class="sxs-lookup"><span data-stu-id="ebaae-111">From that stream, the object can be stored in a database, a file, or memory.</span></span>

### <a name="uses-for-serialization"></a><span data-ttu-id="ebaae-112">Usos para serialização</span><span class="sxs-lookup"><span data-stu-id="ebaae-112">Uses for serialization</span></span>

<span data-ttu-id="ebaae-113">A serialização permite que o desenvolvedor salve o estado de um objeto e recrie-o conforme necessário, fornecendo armazenamento de objetos, bem como troca de dados.</span><span class="sxs-lookup"><span data-stu-id="ebaae-113">Serialization allows the developer to save the state of an object and re-create it as needed, providing storage of objects as well as data exchange.</span></span> <span data-ttu-id="ebaae-114">Por meio da serialização, um desenvolvedor pode executar ações como:</span><span class="sxs-lookup"><span data-stu-id="ebaae-114">Through serialization, a developer can perform actions such as:</span></span>

* <span data-ttu-id="ebaae-115">Enviando o objeto para um aplicativo remoto usando um serviço Web</span><span class="sxs-lookup"><span data-stu-id="ebaae-115">Sending the object to a remote application by using a web service</span></span>
* <span data-ttu-id="ebaae-116">Passando um objeto de um domínio para outro</span><span class="sxs-lookup"><span data-stu-id="ebaae-116">Passing an object from one domain to another</span></span>
* <span data-ttu-id="ebaae-117">Passando um objeto por meio de um firewall como uma cadeia de caracteres JSON ou XML</span><span class="sxs-lookup"><span data-stu-id="ebaae-117">Passing an object through a firewall as a JSON or XML string</span></span>
* <span data-ttu-id="ebaae-118">Manter informações específicas de segurança ou de usuário entre aplicativos</span><span class="sxs-lookup"><span data-stu-id="ebaae-118">Maintaining security or user-specific information across applications</span></span>

## <a name="json-serialization"></a><span data-ttu-id="ebaae-119">Serialização JSON</span><span class="sxs-lookup"><span data-stu-id="ebaae-119">JSON serialization</span></span>

<span data-ttu-id="ebaae-120">O namespace <xref:System.Text.Json> contém classes para serialização e desserialização de JavaScript Object Notation (JSON).</span><span class="sxs-lookup"><span data-stu-id="ebaae-120">The <xref:System.Text.Json> namespace contains classes for JavaScript Object Notation (JSON) serialization and deserialization.</span></span> <span data-ttu-id="ebaae-121">JSON é um padrão aberto que normalmente é usado para compartilhar dados na Web.</span><span class="sxs-lookup"><span data-stu-id="ebaae-121">JSON is an open standard that is commonly used for sharing data across the web.</span></span>

<span data-ttu-id="ebaae-122">A serialização JSON serializa as propriedades públicas de um objeto em uma cadeia de caracteres, matriz de bytes ou fluxo que está em conformidade com [a especificação JSON RFC 8259](https://tools.ietf.org/html/rfc8259).</span><span class="sxs-lookup"><span data-stu-id="ebaae-122">JSON serialization serializes the public properties of an object into a string, byte array, or stream that conforms to [the RFC 8259 JSON specification](https://tools.ietf.org/html/rfc8259).</span></span> <span data-ttu-id="ebaae-123">Para controlar a maneira <xref:System.Text.Json.JsonSerializer> serializa ou desserializa uma instância da classe:</span><span class="sxs-lookup"><span data-stu-id="ebaae-123">To control the way <xref:System.Text.Json.JsonSerializer> serializes or deserializes an instance of the class:</span></span>

* <span data-ttu-id="ebaae-124">Usar um objeto <xref:System.Text.Json.JsonSerializerOptions></span><span class="sxs-lookup"><span data-stu-id="ebaae-124">Use a <xref:System.Text.Json.JsonSerializerOptions> object</span></span>
* <span data-ttu-id="ebaae-125">Aplicar atributos do namespace <xref:System.Text.Json.Serialization> a classes ou propriedades</span><span class="sxs-lookup"><span data-stu-id="ebaae-125">Apply attributes from the <xref:System.Text.Json.Serialization> namespace to classes or properties</span></span>
* [<span data-ttu-id="ebaae-126">Implementar conversores personalizados</span><span class="sxs-lookup"><span data-stu-id="ebaae-126">Implement custom converters</span></span>](../../../../standard/serialization/system-text-json-converters-how-to.md)

## <a name="binary-and-xml-serialization"></a><span data-ttu-id="ebaae-127">Serialização XML e binária</span><span class="sxs-lookup"><span data-stu-id="ebaae-127">Binary and XML serialization</span></span>

<span data-ttu-id="ebaae-128">O namespace <xref:System.Runtime.Serialization> contém classes para serialização e desserialização binária e XML.</span><span class="sxs-lookup"><span data-stu-id="ebaae-128">The <xref:System.Runtime.Serialization> namespace contains classes for binary and XML serialization and deserialization.</span></span>

<span data-ttu-id="ebaae-129">A serialização binária usa a codificação binária para produzir uma serialização compacta para usos como armazenamento ou fluxos de rede com base em soquete.</span><span class="sxs-lookup"><span data-stu-id="ebaae-129">Binary serialization uses binary encoding to produce compact serialization for uses such as storage or socket-based network streams.</span></span> <span data-ttu-id="ebaae-130">Na serialização binária, todos os membros, mesmo aqueles que são somente leitura, são serializados e o desempenho é aprimorado.</span><span class="sxs-lookup"><span data-stu-id="ebaae-130">In binary serialization, all members, even members that are read-only, are serialized, and performance is enhanced.</span></span> 

<span data-ttu-id="ebaae-131">A serialização XML serializa as propriedades e os campos públicos de um objeto, ou os parâmetros e os valores de retorno de métodos, em um fluxo XML que esteja de acordo com um documento XSD (linguagem de definição de esquema XML) específico.</span><span class="sxs-lookup"><span data-stu-id="ebaae-131">XML serialization serializes the public fields and properties of an object, or the parameters and return values of methods, into an XML stream that conforms to a specific XML Schema definition language (XSD) document.</span></span> <span data-ttu-id="ebaae-132">A serialização XML resulta em classes fortemente tipadas com propriedades e campos públicos que são convertidos em XML.</span><span class="sxs-lookup"><span data-stu-id="ebaae-132">XML serialization results in strongly typed classes with public properties and fields that are converted to XML.</span></span> <span data-ttu-id="ebaae-133"><xref:System.Xml.Serialization> contém classes para serialização e desserialização de XML.</span><span class="sxs-lookup"><span data-stu-id="ebaae-133"><xref:System.Xml.Serialization> contains classes for serializing and deserializing XML.</span></span> <span data-ttu-id="ebaae-134">Aplique atributos a classes e a membros de classe para controlar a maneira como o <xref:System.Xml.Serialization.XmlSerializer> serializa ou desserializa uma instância da classe.</span><span class="sxs-lookup"><span data-stu-id="ebaae-134">You apply attributes to classes and class members to control the way the <xref:System.Xml.Serialization.XmlSerializer> serializes or deserializes an instance of the class.</span></span>

### <a name="making-an-object-serializable"></a><span data-ttu-id="ebaae-135">Tornando um objeto serializável</span><span class="sxs-lookup"><span data-stu-id="ebaae-135">Making an object serializable</span></span>

<span data-ttu-id="ebaae-136">Para serialização binária ou XML, você precisa de:</span><span class="sxs-lookup"><span data-stu-id="ebaae-136">For binary or XML serialization, you need:</span></span>

* <span data-ttu-id="ebaae-137">O objeto a ser serializado</span><span class="sxs-lookup"><span data-stu-id="ebaae-137">The object to be serialized</span></span>
* <span data-ttu-id="ebaae-138">Um fluxo para conter o objeto serializado</span><span class="sxs-lookup"><span data-stu-id="ebaae-138">A stream to contain the serialized object</span></span>
* <span data-ttu-id="ebaae-139">Uma instância do <xref:System.Runtime.Serialization.Formatter?displayProperty=fullName></span><span class="sxs-lookup"><span data-stu-id="ebaae-139">A <xref:System.Runtime.Serialization.Formatter?displayProperty=fullName> instance</span></span>

<span data-ttu-id="ebaae-140">Aplique o atributo <xref:System.SerializableAttribute> a um tipo para indicar que as instâncias do tipo podem ser serializadas.</span><span class="sxs-lookup"><span data-stu-id="ebaae-140">Apply the <xref:System.SerializableAttribute> attribute to a type to indicate that instances of the type can be serialized.</span></span> <span data-ttu-id="ebaae-141">Uma exceção será gerada se você tentar serializar, mas o tipo não terá o atributo <xref:System.SerializableAttribute>.</span><span class="sxs-lookup"><span data-stu-id="ebaae-141">An  exception is thrown if you attempt to serialize but the type doesn't have the <xref:System.SerializableAttribute> attribute.</span></span>

<span data-ttu-id="ebaae-142">Para impedir que um campo seja serializado, aplique o atributo <xref:System.NonSerializedAttribute>.</span><span class="sxs-lookup"><span data-stu-id="ebaae-142">To prevent a field from being serialized, apply the <xref:System.NonSerializedAttribute> attribute.</span></span> <span data-ttu-id="ebaae-143">Se um campo de um tipo serializável contiver um ponteiro, um identificador ou outra estrutura de dados que é específica de um determinado ambiente e o campo não puder ser reconstituído em um ambiente diferente, será necessário torná-lo não serializável.</span><span class="sxs-lookup"><span data-stu-id="ebaae-143">If a field of a serializable type contains a pointer, a handle, or some other data structure that is specific to a particular environment, and the field cannot be meaningfully reconstituted in a different environment, then you may want to make it nonserializable.</span></span>

<span data-ttu-id="ebaae-144">Se uma classe serializada contiver referências a objetos de outras classes que estão marcadas como <xref:System.SerializableAttribute>, esses objetos também serão serializados.</span><span class="sxs-lookup"><span data-stu-id="ebaae-144">If a serialized class contains references to objects of other classes that are marked <xref:System.SerializableAttribute>, those objects will also be serialized.</span></span>

### <a name="basic-and-custom-serialization"></a><span data-ttu-id="ebaae-145">Serialização básica e personalizada</span><span class="sxs-lookup"><span data-stu-id="ebaae-145">Basic and custom serialization</span></span>

<span data-ttu-id="ebaae-146">A serialização binária e XML pode ser executada de duas maneiras, básicas e personalizadas.</span><span class="sxs-lookup"><span data-stu-id="ebaae-146">Binary and XML serialization can be performed in two ways, basic and custom.</span></span>

<span data-ttu-id="ebaae-147">A serialização básica usa o .NET Framework para serializar o objeto automaticamente.</span><span class="sxs-lookup"><span data-stu-id="ebaae-147">Basic serialization uses the .NET Framework to automatically serialize the object.</span></span> <span data-ttu-id="ebaae-148">O único requisito é que a classe tenha o atributo <xref:System.SerializableAttribute> aplicado.</span><span class="sxs-lookup"><span data-stu-id="ebaae-148">The only requirement is that the class has the <xref:System.SerializableAttribute> attribute applied.</span></span> <span data-ttu-id="ebaae-149">O <xref:System.NonSerializedAttribute> pode ser usado para impedir a serialização de campos específicos.</span><span class="sxs-lookup"><span data-stu-id="ebaae-149">The <xref:System.NonSerializedAttribute> can be used to keep specific fields from being serialized.</span></span>

<span data-ttu-id="ebaae-150">Quando você usa a serialização básica, a criação de versão de objetos pode criar problemas.</span><span class="sxs-lookup"><span data-stu-id="ebaae-150">When you use basic serialization, the versioning of objects may create problems.</span></span> <span data-ttu-id="ebaae-151">Use a serialização personalizada quando problemas de criação de versão forem importantes.</span><span class="sxs-lookup"><span data-stu-id="ebaae-151">You would use custom serialization when versioning issues are important.</span></span> <span data-ttu-id="ebaae-152">A serialização básica é a maneira mais fácil de executar a serialização, mas ela não fornece muito controle sobre o processo.</span><span class="sxs-lookup"><span data-stu-id="ebaae-152">Basic serialization is the easiest way to perform serialization, but it does not provide much control over the process.</span></span>

<span data-ttu-id="ebaae-153">Na serialização personalizada, você pode especificar exatamente quais objetos vão ser serializados e como isso será feito.</span><span class="sxs-lookup"><span data-stu-id="ebaae-153">In custom serialization, you can specify exactly which objects will be serialized and how it will be done.</span></span> <span data-ttu-id="ebaae-154">A classe deve ser marcada como <xref:System.SerializableAttribute> e implementar a interface <xref:System.Runtime.Serialization.ISerializable>.</span><span class="sxs-lookup"><span data-stu-id="ebaae-154">The class must be marked <xref:System.SerializableAttribute> and implement the <xref:System.Runtime.Serialization.ISerializable> interface.</span></span> <span data-ttu-id="ebaae-155">Se você quiser que seu objeto seja desserializado de uma maneira personalizada também, use um construtor personalizado.</span><span class="sxs-lookup"><span data-stu-id="ebaae-155">If you want your object to be deserialized in a custom manner as well, use a custom constructor.</span></span>

## <a name="designer-serialization"></a><span data-ttu-id="ebaae-156">Serialização de designer</span><span class="sxs-lookup"><span data-stu-id="ebaae-156">Designer serialization</span></span>

<span data-ttu-id="ebaae-157">A serialização de designer é um formulário especial de serialização que envolve o tipo de persistência do objeto associado a ferramentas de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="ebaae-157">Designer serialization is a special form of serialization that involves the kind of object persistence associated with development tools.</span></span> <span data-ttu-id="ebaae-158">A serialização de designer é o processo de conversão de um grafo do objeto em um arquivo de origem que pode, posteriormente, ser usado para recuperar o grafo do objeto.</span><span class="sxs-lookup"><span data-stu-id="ebaae-158">Designer serialization is the process of converting an object graph into a source file that can later be used to recover the object graph.</span></span> <span data-ttu-id="ebaae-159">Um arquivo de origem pode conter código, marcação ou até mesmo informações de tabela do SQL.</span><span class="sxs-lookup"><span data-stu-id="ebaae-159">A source file can contain code, markup, or even SQL table information.</span></span>

## <a name="BKMK_RelatedTopics"></a> <span data-ttu-id="ebaae-160">Exemplos e tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="ebaae-160">Related Topics and Examples</span></span>  

<span data-ttu-id="ebaae-161">[Visão geral de System. Text. JSON](../../../../standard/serialization/system-text-json-overview.md) Mostra como obter a biblioteca de `System.Text.Json`.</span><span class="sxs-lookup"><span data-stu-id="ebaae-161">[System.Text.Json overview](../../../../standard/serialization/system-text-json-overview.md) Shows how to get the `System.Text.Json` library.</span></span>

<span data-ttu-id="ebaae-162">[Como serializar e desserializar JSON no .net](../../../../standard/serialization/system-text-json-how-to.md).</span><span class="sxs-lookup"><span data-stu-id="ebaae-162">[How to serialize and deserialize JSON in .NET](../../../../standard/serialization/system-text-json-how-to.md).</span></span> <span data-ttu-id="ebaae-163">Mostra como ler e gravar dados de objeto de e para JSON usando a classe <xref:System.Text.Json.JsonSerializer>.</span><span class="sxs-lookup"><span data-stu-id="ebaae-163">Shows how to read and write object data to and from JSON using the <xref:System.Text.Json.JsonSerializer> class.</span></span>

[<span data-ttu-id="ebaae-164">Passo a passo: mantendo um objeto no Visual Studio (C#)</span><span class="sxs-lookup"><span data-stu-id="ebaae-164">Walkthrough: Persisting an Object in Visual Studio (C#)</span></span>](walkthrough-persisting-an-object-in-visual-studio.md)  
<span data-ttu-id="ebaae-165">Demonstra como a serialização pode ser usada para manter dados de um objeto entre instâncias, permitindo que você armazene e recupere valores na próxima vez que o objeto for instanciado.</span><span class="sxs-lookup"><span data-stu-id="ebaae-165">Demonstrates how serialization can be used to persist an object's data between instances, allowing you to store values and retrieve them the next time the object is instantiated.</span></span>

[<span data-ttu-id="ebaae-166">Como ler dados de objeto de um arquivo XML (C#)</span><span class="sxs-lookup"><span data-stu-id="ebaae-166">How to read object data from an XML file (C#)</span></span>](how-to-read-object-data-from-an-xml-file.md)  
<span data-ttu-id="ebaae-167">Mostra como ler dados de objeto que foram previamente gravados em um arquivo XML usando a classe <xref:System.Xml.Serialization.XmlSerializer>.</span><span class="sxs-lookup"><span data-stu-id="ebaae-167">Shows how to read object data that was previously written to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>

[<span data-ttu-id="ebaae-168">Como gravar dados de objeto em um arquivo XML (C#)</span><span class="sxs-lookup"><span data-stu-id="ebaae-168">How to write object data to an XML file (C#)</span></span>](how-to-write-object-data-to-an-xml-file.md)  
<span data-ttu-id="ebaae-169">Mostra como gravar o objeto de uma classe para um arquivo XML usando a classe <xref:System.Xml.Serialization.XmlSerializer>.</span><span class="sxs-lookup"><span data-stu-id="ebaae-169">Shows how to write the object from a class to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>
