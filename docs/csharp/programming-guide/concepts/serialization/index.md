---
title: Serialização (C#)
ms.date: 04/26/2018
ms.openlocfilehash: 7d72be92e5568037264438e3fde1e7565366c962
ms.sourcegitcommit: 3c1c3ba79895335ff3737934e39372555ca7d6d0
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/06/2018
ms.locfileid: "43858311"
---
# <a name="serialization-c"></a><span data-ttu-id="d4c04-102">Serialização (C#)</span><span class="sxs-lookup"><span data-stu-id="d4c04-102">Serialization (C#)</span></span>

<span data-ttu-id="d4c04-103">A serialização é o processo de converter um objeto em um fluxo de bytes para armazenar o objeto ou transmiti-lo para a memória, um banco de dados ou um arquivo.</span><span class="sxs-lookup"><span data-stu-id="d4c04-103">Serialization is the process of converting an object into a stream of bytes to store the object or transmit it to memory, a database, or a file.</span></span> <span data-ttu-id="d4c04-104">Sua finalidade principal é salvar o estado de um objeto para recriá-lo quando necessário.</span><span class="sxs-lookup"><span data-stu-id="d4c04-104">Its main purpose is to save the state of an object in order to be able to recreate it when needed.</span></span> <span data-ttu-id="d4c04-105">O processo inverso é chamado desserialização.</span><span class="sxs-lookup"><span data-stu-id="d4c04-105">The reverse process is called deserialization.</span></span>

## <a name="how-serialization-works"></a><span data-ttu-id="d4c04-106">Como a serialização funciona</span><span class="sxs-lookup"><span data-stu-id="d4c04-106">How serialization works</span></span>

<span data-ttu-id="d4c04-107">Esta ilustração mostra o processo geral de serialização.</span><span class="sxs-lookup"><span data-stu-id="d4c04-107">This illustration shows the overall process of serialization.</span></span>

<span data-ttu-id="d4c04-108">![Gráfico de serialização](./media/serialization.gif "serialização")</span><span class="sxs-lookup"><span data-stu-id="d4c04-108">![Serialization Graphic](./media/serialization.gif "serialization")</span></span>

<span data-ttu-id="d4c04-109">O objeto é serializado em um fluxo, que transporta não apenas os dados, mas informações sobre o tipo de objeto, como sua versão, cultura e nome do assembly.</span><span class="sxs-lookup"><span data-stu-id="d4c04-109">The object is serialized to a stream, which carries not just the data, but information about the object's type, such as its version, culture, and assembly name.</span></span> <span data-ttu-id="d4c04-110">Desse fluxo, ele pode ser armazenado em um banco de dados, um arquivo ou uma memória.</span><span class="sxs-lookup"><span data-stu-id="d4c04-110">From that stream, it can be stored in a database, a file, or memory.</span></span>

### <a name="uses-for-serialization"></a><span data-ttu-id="d4c04-111">Usos para serialização</span><span class="sxs-lookup"><span data-stu-id="d4c04-111">Uses for serialization</span></span>

<span data-ttu-id="d4c04-112">A serialização permite que o desenvolvedor salve o estado de um objeto e recrie conforme necessário, fornecendo o armazenamento dos objetos, bem como a troca de dados.</span><span class="sxs-lookup"><span data-stu-id="d4c04-112">Serialization allows the developer to save the state of an object and recreate it as needed, providing storage of objects as well as data exchange.</span></span> <span data-ttu-id="d4c04-113">Pela serialização, um desenvolvedor pode executar ações como enviar o objeto para um aplicativo remoto por meio de um serviço Web, passando um objeto de um domínio para outro, passando um objeto por um firewall como uma cadeia de caracteres XML ou mantendo a segurança ou as informações específicas de usuários entre aplicativos.</span><span class="sxs-lookup"><span data-stu-id="d4c04-113">Through serialization, a developer can perform actions like sending the object to a remote application by means of a Web Service, passing an object from one domain to another, passing an object through a firewall as an XML string, or maintaining security or user-specific information across applications.</span></span>

### <a name="making-an-object-serializable"></a><span data-ttu-id="d4c04-114">Tornando um objeto serializável</span><span class="sxs-lookup"><span data-stu-id="d4c04-114">Making an object serializable</span></span>

<span data-ttu-id="d4c04-115">Para serializar um objeto, é necessário que ele esteja serializado, um fluxo contenha o objeto serializado e um <xref:System.Runtime.Serialization.Formatter>.</span><span class="sxs-lookup"><span data-stu-id="d4c04-115">To serialize an object, you need the object to be serialized, a stream to contain the serialized object, and a <xref:System.Runtime.Serialization.Formatter>.</span></span> <span data-ttu-id="d4c04-116">O <xref:System.Runtime.Serialization> contém as classes necessárias para serializar e desserializar objetos.</span><span class="sxs-lookup"><span data-stu-id="d4c04-116"><xref:System.Runtime.Serialization> contains the classes necessary for serializing and deserializing objects.</span></span>

<span data-ttu-id="d4c04-117">Aplique o atributo <xref:System.SerializableAttribute> a um tipo para indicar que as instâncias desse tipo podem ser serializadas.</span><span class="sxs-lookup"><span data-stu-id="d4c04-117">Apply the <xref:System.SerializableAttribute> attribute to a type to indicate that instances of this type can be serialized.</span></span> <span data-ttu-id="d4c04-118">Uma exceção será gerada se você tentar serializar, mas o tipo não terá o atributo <xref:System.SerializableAttribute>.</span><span class="sxs-lookup"><span data-stu-id="d4c04-118">An  exception is thrown if you attempt to serialize but the type doesn't have the <xref:System.SerializableAttribute> attribute.</span></span>

<span data-ttu-id="d4c04-119">Se não desejar que um campo em sua classe seja serializável, aplique o atributo <xref:System.NonSerializedAttribute>.</span><span class="sxs-lookup"><span data-stu-id="d4c04-119">If you don't want a field within your class to be serializable, apply the <xref:System.NonSerializedAttribute> attribute.</span></span> <span data-ttu-id="d4c04-120">Se um campo de um tipo serializável contiver um ponteiro, um identificador ou outra estrutura de dados que é específica de um determinado ambiente e o campo não puder ser reconstituído em um ambiente diferente, será necessário torná-lo não serializável.</span><span class="sxs-lookup"><span data-stu-id="d4c04-120">If a field of a serializable type contains a pointer, a handle, or some other data structure that is specific to a particular environment, and the field cannot be meaningfully reconstituted in a different environment, then you may want to make it nonserializable.</span></span>

<span data-ttu-id="d4c04-121">Se uma classe serializada contiver referências a objetos de outras classes que estão marcadas como <xref:System.SerializableAttribute>, esses objetos também serão serializados.</span><span class="sxs-lookup"><span data-stu-id="d4c04-121">If a serialized class contains references to objects of other classes that are marked <xref:System.SerializableAttribute>, those objects will also be serialized.</span></span>

## <a name="binary-and-xml-serialization"></a><span data-ttu-id="d4c04-122">Serialização XML e binária</span><span class="sxs-lookup"><span data-stu-id="d4c04-122">Binary and XML serialization</span></span>

<span data-ttu-id="d4c04-123">É possível usar a serialização XML ou binária.</span><span class="sxs-lookup"><span data-stu-id="d4c04-123">You can use binary or XML serialization.</span></span> <span data-ttu-id="d4c04-124">Na serialização binária, todos os membros, mesmo aqueles que são somente leitura, são serializados e o desempenho é aprimorado.</span><span class="sxs-lookup"><span data-stu-id="d4c04-124">In binary serialization, all members, even members that are read-only, are serialized, and performance is enhanced.</span></span> <span data-ttu-id="d4c04-125">A serialização XML fornece código mais legível e maior flexibilidade de compartilhamento do objeto e uso para fins de interoperabilidade.</span><span class="sxs-lookup"><span data-stu-id="d4c04-125">XML serialization provides more readable code, and greater flexibility of object sharing and usage for interoperability purposes.</span></span>

### <a name="binary-serialization"></a><span data-ttu-id="d4c04-126">Serialização binária</span><span class="sxs-lookup"><span data-stu-id="d4c04-126">Binary serialization</span></span>

<span data-ttu-id="d4c04-127">A serialização binária usa a codificação binária para produzir uma serialização compacta para usos como armazenamento ou fluxos de rede com base em soquete.</span><span class="sxs-lookup"><span data-stu-id="d4c04-127">Binary serialization uses binary encoding to produce compact serialization for uses such as storage or socket-based network streams.</span></span>

### <a name="xml-serialization"></a><span data-ttu-id="d4c04-128">Serialização XML</span><span class="sxs-lookup"><span data-stu-id="d4c04-128">XML serialization</span></span>

<span data-ttu-id="d4c04-129">A serialização XML serializa as propriedades e os campos públicos de um objeto, ou os parâmetros e os valores de retorno de métodos, em um fluxo XML que esteja de acordo com um documento XSD (linguagem de definição de esquema XML) específico.</span><span class="sxs-lookup"><span data-stu-id="d4c04-129">XML serialization serializes the public fields and properties of an object, or the parameters and return values of methods, into an XML stream that conforms to a specific XML Schema definition language (XSD) document.</span></span> <span data-ttu-id="d4c04-130">A serialização XML resulta em classes fortemente tipadas com propriedades e campos públicos que são convertidos em XML.</span><span class="sxs-lookup"><span data-stu-id="d4c04-130">XML serialization results in strongly typed classes with public properties and fields that are converted to XML.</span></span> <span data-ttu-id="d4c04-131">O <xref:System.Xml.Serialization> contém as classes necessárias para serializar e desserializar XML.</span><span class="sxs-lookup"><span data-stu-id="d4c04-131"><xref:System.Xml.Serialization> contains the classes necessary for serializing and deserializing XML.</span></span>

<span data-ttu-id="d4c04-132">Aplique atributos a classes e a membros de classe para controlar a maneira como o <xref:System.Xml.Serialization.XmlSerializer> serializa ou desserializa uma instância da classe.</span><span class="sxs-lookup"><span data-stu-id="d4c04-132">You apply attributes to classes and class members to control the way the <xref:System.Xml.Serialization.XmlSerializer> serializes or deserializes an instance of the class.</span></span>

## <a name="basic-and-custom-serialization"></a><span data-ttu-id="d4c04-133">Serialização básica e personalizada</span><span class="sxs-lookup"><span data-stu-id="d4c04-133">Basic and custom serialization</span></span>

<span data-ttu-id="d4c04-134">A serialização pode ser realizada de duas maneiras: básica e personalizada.</span><span class="sxs-lookup"><span data-stu-id="d4c04-134">Serialization can be performed in two ways, basic and custom.</span></span> <span data-ttu-id="d4c04-135">A serialização básica usa o .NET Framework para serializar o objeto automaticamente.</span><span class="sxs-lookup"><span data-stu-id="d4c04-135">Basic serialization uses the .NET Framework to automatically serialize the object.</span></span>

### <a name="basic-serialization"></a><span data-ttu-id="d4c04-136">Serialização básica</span><span class="sxs-lookup"><span data-stu-id="d4c04-136">Basic serialization</span></span>

<span data-ttu-id="d4c04-137">O único requisito na serialização básica é que o objeto tenha o atributo <xref:System.SerializableAttribute> aplicado.</span><span class="sxs-lookup"><span data-stu-id="d4c04-137">The only requirement in basic serialization is that the object has the <xref:System.SerializableAttribute> attribute applied.</span></span> <span data-ttu-id="d4c04-138">O <xref:System.NonSerializedAttribute> pode ser usado para impedir a serialização de campos específicos.</span><span class="sxs-lookup"><span data-stu-id="d4c04-138">The <xref:System.NonSerializedAttribute> can be used to keep specific fields from being serialized.</span></span>

<span data-ttu-id="d4c04-139">Quando você usa a serialização básica, a criação de versão de objetos pode criar problemas.</span><span class="sxs-lookup"><span data-stu-id="d4c04-139">When you use basic serialization, the versioning of objects may create problems.</span></span> <span data-ttu-id="d4c04-140">Use a serialização personalizada quando problemas de criação de versão forem importantes.</span><span class="sxs-lookup"><span data-stu-id="d4c04-140">You would use custom serialization when versioning issues are important.</span></span> <span data-ttu-id="d4c04-141">A serialização básica é a maneira mais fácil de executar a serialização, mas ela não fornece muito controle sobre o processo.</span><span class="sxs-lookup"><span data-stu-id="d4c04-141">Basic serialization is the easiest way to perform serialization, but it does not provide much control over the process.</span></span>

### <a name="custom-serialization"></a><span data-ttu-id="d4c04-142">Serialização personalizada</span><span class="sxs-lookup"><span data-stu-id="d4c04-142">Custom serialization</span></span>

<span data-ttu-id="d4c04-143">Na serialização personalizada, você pode especificar exatamente quais objetos vão ser serializados e como isso será feito.</span><span class="sxs-lookup"><span data-stu-id="d4c04-143">In custom serialization, you can specify exactly which objects will be serialized and how it will be done.</span></span> <span data-ttu-id="d4c04-144">A classe deve ser marcada como <xref:System.SerializableAttribute> e implementar a interface <xref:System.Runtime.Serialization.ISerializable>.</span><span class="sxs-lookup"><span data-stu-id="d4c04-144">The class must be marked <xref:System.SerializableAttribute> and implement the <xref:System.Runtime.Serialization.ISerializable> interface.</span></span>

<span data-ttu-id="d4c04-145">Se você quiser que o objeto também seja desserializado de uma maneira personalizada, você deverá usar um construtor personalizado.</span><span class="sxs-lookup"><span data-stu-id="d4c04-145">If you want your object to be deserialized in a custom manner as well, you must use a custom constructor.</span></span>

## <a name="designer-serialization"></a><span data-ttu-id="d4c04-146">Serialização de designer</span><span class="sxs-lookup"><span data-stu-id="d4c04-146">Designer serialization</span></span>

<span data-ttu-id="d4c04-147">A serialização de designer é um formulário especial de serialização que envolve o tipo de persistência do objeto associado a ferramentas de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="d4c04-147">Designer serialization is a special form of serialization that involves the kind of object persistence associated with development tools.</span></span> <span data-ttu-id="d4c04-148">A serialização de designer é o processo de conversão de um grafo do objeto em um arquivo de origem que pode, posteriormente, ser usado para recuperar o grafo do objeto.</span><span class="sxs-lookup"><span data-stu-id="d4c04-148">Designer serialization is the process of converting an object graph into a source file that can later be used to recover the object graph.</span></span> <span data-ttu-id="d4c04-149">Um arquivo de origem pode conter código, marcação ou até mesmo informações de tabela do SQL.</span><span class="sxs-lookup"><span data-stu-id="d4c04-149">A source file can contain code, markup, or even SQL table information.</span></span>

##  <a name="BKMK_RelatedTopics"></a> <span data-ttu-id="d4c04-150">Exemplos e tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="d4c04-150">Related Topics and Examples</span></span>  
[<span data-ttu-id="d4c04-151">Passo a passo: mantendo um objeto no Visual Studio (C#)</span><span class="sxs-lookup"><span data-stu-id="d4c04-151">Walkthrough: Persisting an Object in Visual Studio (C#)</span></span>](walkthrough-persisting-an-object-in-visual-studio.md)  
<span data-ttu-id="d4c04-152">Demonstra como a serialização pode ser usada para manter dados de um objeto entre instâncias, permitindo que você armazene e recupere valores na próxima vez que o objeto for instanciado.</span><span class="sxs-lookup"><span data-stu-id="d4c04-152">Demonstrates how serialization can be used to persist an object's data between instances, allowing you to store values and retrieve them the next time the object is instantiated.</span></span>

[<span data-ttu-id="d4c04-153">Como ler dados de objeto de um arquivo XML (C#)</span><span class="sxs-lookup"><span data-stu-id="d4c04-153">How to: Read Object Data from an XML File (C#)</span></span>](how-to-read-object-data-from-an-xml-file.md)  
 <span data-ttu-id="d4c04-154">Mostra como ler dados de objeto que foram previamente gravados em um arquivo XML usando a classe <xref:System.Xml.Serialization.XmlSerializer>.</span><span class="sxs-lookup"><span data-stu-id="d4c04-154">Shows how to read object data that was previously written to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>

[<span data-ttu-id="d4c04-155">Como gravar dados de objeto em um arquivo XML (C#)</span><span class="sxs-lookup"><span data-stu-id="d4c04-155">How to: Write Object Data to an XML File (C#)</span></span>](how-to-write-object-data-to-an-xml-file.md)  
<span data-ttu-id="d4c04-156">Mostra como gravar o objeto de uma classe para um arquivo XML usando a classe <xref:System.Xml.Serialization.XmlSerializer>.</span><span class="sxs-lookup"><span data-stu-id="d4c04-156">Shows how to write the object from a class to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>
