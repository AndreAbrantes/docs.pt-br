---
title: Reduzindo reinicializações do sistema durante instalações do .NET Framework 4.5
ms.date: 03/30/2017
helpviewer_keywords:
- .NET Framework, reducing system restarts
- installing .NET Framework
- installation [.NET Framework]
ms.assetid: 7aa8cb72-dee9-4716-ac54-b17b9ae8218f
ms.openlocfilehash: 6261a883e7b99b7fd38da2a17ab4820c81552506
ms.sourcegitcommit: 5f236cd78cf09593c8945a7d753e0850e96a0b80
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2020
ms.locfileid: "75716424"
---
# <a name="reducing-system-restarts-during-net-framework-45-installations"></a><span data-ttu-id="736e7-102">Reduzindo reinicializações do sistema durante instalações do .NET Framework 4.5</span><span class="sxs-lookup"><span data-stu-id="736e7-102">Reducing System Restarts During .NET Framework 4.5 Installations</span></span>
<span data-ttu-id="736e7-103">O instalador do .NET Framework 4.5 usa o [Gerenciador de Reinicialização](/windows/win32/rstmgr/about-restart-manager) para impedir que o sistema seja reiniciado sempre que possível durante a instalação.</span><span class="sxs-lookup"><span data-stu-id="736e7-103">The .NET Framework 4.5 installer uses the [Restart Manager](/windows/win32/rstmgr/about-restart-manager) to prevent system restarts whenever possible during installation.</span></span> <span data-ttu-id="736e7-104">Se o programa de instalação do aplicativo instala o .NET Framework, ele pode interagir com o Gerenciador de Reinicialização para aproveitar esse recurso.</span><span class="sxs-lookup"><span data-stu-id="736e7-104">If your app setup program installs the .NET Framework, it can interface with the Restart Manager to take advantage of this feature.</span></span> <span data-ttu-id="736e7-105">Para obter mais informações, consulte [Como acompanhar o progresso do instalador do .NET Framework 4.5](how-to-get-progress-from-the-dotnet-installer.md).</span><span class="sxs-lookup"><span data-stu-id="736e7-105">For more information, see [How to: Get Progress from the .NET Framework 4.5 Installer](how-to-get-progress-from-the-dotnet-installer.md).</span></span>  
  
## <a name="reasons-for-a-restart"></a><span data-ttu-id="736e7-106">Motivos para uma reinicialização</span><span class="sxs-lookup"><span data-stu-id="736e7-106">Reasons for a Restart</span></span>  
 <span data-ttu-id="736e7-107">A instalação do .NET Framework 4.5 exigirá uma reinicialização do sistema se um aplicativo do .NET Framework 4 estiver em uso durante a instalação.</span><span class="sxs-lookup"><span data-stu-id="736e7-107">The .NET Framework 4.5 installation requires a system restart if a .NET Framework 4 app is in use during the installation.</span></span> <span data-ttu-id="736e7-108">Isso ocorre porque o .NET Framework 4.5 substitui arquivos do .NET Framework 4 e requer que esses arquivos estejam disponíveis durante a instalação.</span><span class="sxs-lookup"><span data-stu-id="736e7-108">This is because the .NET Framework 4.5 replaces .NET Framework 4 files and requires those files to be available during installation.</span></span> <span data-ttu-id="736e7-109">Em muitos casos, a reinicialização pode ser evitada detectando e fechando preventivamente aplicativos do .NET Framework 4 que estão em uso.</span><span class="sxs-lookup"><span data-stu-id="736e7-109">In many cases, the restart can be prevented by preemptively detecting and closing.NET Framework 4 apps that are in use.</span></span> <span data-ttu-id="736e7-110">No entanto, alguns aplicativos do sistema não devem ser fechados.</span><span class="sxs-lookup"><span data-stu-id="736e7-110">However, some system apps should not be closed.</span></span> <span data-ttu-id="736e7-111">Nesses casos, a reinicialização não pode ser evitada.</span><span class="sxs-lookup"><span data-stu-id="736e7-111">In these cases, a restart cannot be avoided.</span></span>  
  
## <a name="end-user-experience"></a><span data-ttu-id="736e7-112">Experiência do usuário final</span><span class="sxs-lookup"><span data-stu-id="736e7-112">End-User Experience</span></span>  
 <span data-ttu-id="736e7-113">Um usuário final que está fazendo uma instalação completa do .NET Framework 4.5 terá a oportunidade de evitar uma reinicialização do sistema se o instalador detectar os aplicativos do .NET Framework 4 em uso.</span><span class="sxs-lookup"><span data-stu-id="736e7-113">An end-user who is doing a full installation of the .NET Framework 4.5 is given the opportunity to avoid a system restart if the installer detects .NET Framework 4 apps in use.</span></span> <span data-ttu-id="736e7-114">Uma mensagem lista todos os aplicativos do .NET Framework 4 em execução e oferece a opção de fechar esses aplicativos antes da instalação.</span><span class="sxs-lookup"><span data-stu-id="736e7-114">A message lists all running .NET Framework 4 apps and provides the option to close these apps before the installation.</span></span> <span data-ttu-id="736e7-115">Se o usuário confirmar, esses aplicativos serão fechados pelo instalador e uma reinicialização do sistema é evitada.</span><span class="sxs-lookup"><span data-stu-id="736e7-115">If the user confirms, these apps are shut down by the installer, and a system restart is avoided.</span></span> <span data-ttu-id="736e7-116">Se o usuário não responder à mensagem dentro de um determinado período, a instalação continuará sem fechar os aplicativos.</span><span class="sxs-lookup"><span data-stu-id="736e7-116">If the user does not respond to the message within a certain amount of time, the installation continues without closing any apps.</span></span>  
  
 <span data-ttu-id="736e7-117">Se o Gerenciador de Reinicialização detectar uma situação que exigirá uma reinicialização do sistema, mesmo que os aplicativos em execução sejam fechados, a mensagem não será exibida.</span><span class="sxs-lookup"><span data-stu-id="736e7-117">If the Restart Manager detects a situation that will require a system restart even if running apps are closed, the message is not displayed.</span></span>  
  
 ![A caixa de diálogo Fechar Aplicativo listando os programas em execução no momento.](./media/reducing-system-restarts/close-application-dialog.png)  
  
## <a name="using-a-chained-installer"></a><span data-ttu-id="736e7-119">Usando um instalador encadeado</span><span class="sxs-lookup"><span data-stu-id="736e7-119">Using a Chained Installer</span></span>  
 <span data-ttu-id="736e7-120">Se você quer redistribuir o .NET Framework com seu aplicativo, mas deseja usar seu próprio programa de instalação e interface do usuário, você pode incluir (encadear) o processo de instalação do .NET Framework no seu processo de instalação.</span><span class="sxs-lookup"><span data-stu-id="736e7-120">If you want to redistribute the .NET Framework with your app, but you want to use your own setup program and UI, you can include (chain) the .NET Framework setup process to your setup process.</span></span> <span data-ttu-id="736e7-121">Para obter mais informações sobre instalações encadeadas, consulte [Guia de implantação para desenvolvedores](deployment-guide-for-developers.md).</span><span class="sxs-lookup"><span data-stu-id="736e7-121">For more information about chained installations, see [Deployment Guide for Developers](deployment-guide-for-developers.md).</span></span> <span data-ttu-id="736e7-122">Para reduzir as reinicializações do sistema em instalações encadeadas, o instalador do .NET Framework fornece ao programa de instalação a lista de aplicativos a serem fechados.</span><span class="sxs-lookup"><span data-stu-id="736e7-122">To reduce system restarts in chained installations, the .NET Framework installer supplies your setup program with the list of apps to close.</span></span> <span data-ttu-id="736e7-123">O programa de instalação deve fornecer essas informações para o usuário por meio de uma interface do usuário, como uma caixa de mensagem, obter a resposta do usuário e passar a resposta de volta para o instalador do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="736e7-123">Your setup program must provide this information to the user through a user interface such as a message box, get the user’s response, and then pass the response back to the .NET Framework installer.</span></span> <span data-ttu-id="736e7-124">Para obter um exemplo de um instalador encadeado, consulte o artigo [Como acompanhar o progresso do instalador do .NET Framework 4.5](how-to-get-progress-from-the-dotnet-installer.md).</span><span class="sxs-lookup"><span data-stu-id="736e7-124">For an example of a chained installer, see the article [How to: Get Progress from the .NET Framework 4.5 Installer](how-to-get-progress-from-the-dotnet-installer.md).</span></span>  
  
 <span data-ttu-id="736e7-125">Se você estiver usando um instalador encadeado, mas não quiser fornecer sua própria caixa de mensagem para fechar os aplicativos, você poderá usar as opções `/showrmui` e `/passive` na linha de comando quando encadear o processo de instalação do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="736e7-125">If you're using a chained installer, but you do not want to provide your own message box for closing apps, you can use the `/showrmui` and `/passive` options on the command line when you chain the .NET Framework setup process.</span></span> <span data-ttu-id="736e7-126">Quando você usa essas opções juntas, o instalador mostra a caixa de mensagem para fechar os aplicativos se eles puderem ser fechados para evitar uma reinicialização do sistema.</span><span class="sxs-lookup"><span data-stu-id="736e7-126">When you use these options together, the installer shows the message box for closing apps if they can be closed to avoid a system restart.</span></span> <span data-ttu-id="736e7-127">Essa caixa de mensagem se comporta no modo passivo da mesma forma que na interface do usuário completa.</span><span class="sxs-lookup"><span data-stu-id="736e7-127">This message box behaves the same in passive mode as it does under the full user interface.</span></span> <span data-ttu-id="736e7-128">Consulte [Guia de implantação para desenvolvedores](deployment-guide-for-developers.md) para obter o conjunto completo de opções de linha de comando para o .NET Framework redistribuível.</span><span class="sxs-lookup"><span data-stu-id="736e7-128">See [Deployment Guide for Developers](deployment-guide-for-developers.md) for the complete set of command-line options for the .NET Framework redistributable.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="736e7-129">Veja também</span><span class="sxs-lookup"><span data-stu-id="736e7-129">See also</span></span>

- [<span data-ttu-id="736e7-130">Implantação</span><span class="sxs-lookup"><span data-stu-id="736e7-130">Deployment</span></span>](index.md)
- [<span data-ttu-id="736e7-131">Guia de implantação para desenvolvedores</span><span class="sxs-lookup"><span data-stu-id="736e7-131">Deployment Guide for Developers</span></span>](deployment-guide-for-developers.md)
- [<span data-ttu-id="736e7-132">Como acompanhar o progresso do instalador do .NET Framework 4.5</span><span class="sxs-lookup"><span data-stu-id="736e7-132">How to: Get Progress from the .NET Framework 4.5 Installer</span></span>](how-to-get-progress-from-the-dotnet-installer.md)
