---
title: Diretrizes para criação de componentes para execução lado a lado
ms.date: 03/30/2017
helpviewer_keywords:
- side-by-side execution, multiple application versions
- side-by-side execution, multiple component versions
ms.assetid: 5c540161-6e40-42e9-be92-6175aee2c46a
ms.openlocfilehash: 42d0e2d85517d4a8fb443db9b63e6b893267caca
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/30/2019
ms.locfileid: "73121581"
---
# <a name="guidelines-for-creating-components-for-side-by-side-execution"></a><span data-ttu-id="cb7b7-102">Diretrizes para criação de componentes para execução lado a lado</span><span class="sxs-lookup"><span data-stu-id="cb7b7-102">Guidelines for Creating Components for Side-by-Side Execution</span></span>
<span data-ttu-id="cb7b7-103">Siga estas diretrizes gerais para criar aplicativos gerenciados ou componentes projetados para execução lado a lado:</span><span class="sxs-lookup"><span data-stu-id="cb7b7-103">Follow these general guidelines to create managed applications or components designed for side-by-side execution:</span></span>  
  
- <span data-ttu-id="cb7b7-104">Associe a identidade de tipo a uma versão específica de um arquivo.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-104">Bind type identity to a particular version of a file.</span></span>  
  
     <span data-ttu-id="cb7b7-105">O Common Language Runtime vincula a identidade de tipo a uma versão de arquivo específica usando assemblies de nome forte.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-105">The common language runtime binds type identity to a particular file version by using strong-named assemblies.</span></span> <span data-ttu-id="cb7b7-106">Para criar um aplicativo ou componente para execução lado a lado, você deve atribuir um nome forte a todos os assemblies.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-106">To create an application or component for side-by-side execution, you must give all assemblies a strong name.</span></span> <span data-ttu-id="cb7b7-107">Isso cria a identidade de tipo preciso e garante que a resolução de qualquer tipo seja direcionada para o arquivo correto.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-107">This creates precise type identity and ensures that any type resolution is directed to the correct file.</span></span> <span data-ttu-id="cb7b7-108">Um assembly de nome forte contém a versão, a cultura e as informações do publicador que o runtime usa para localizar o arquivo correto para atender a uma solicitação de associação.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-108">A strong-named assembly contains version, culture, and publisher information that the runtime uses to locate the correct file to fulfill a binding request.</span></span>  
  
- <span data-ttu-id="cb7b7-109">Use o armazenamento com reconhecimento de versão.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-109">Use version-aware storage.</span></span>  
  
     <span data-ttu-id="cb7b7-110">O runtime usa cache de assembly global para fornecer o armazenamento com reconhecimento de versão.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-110">The runtime uses the global assembly cache to provide version-aware storage.</span></span> <span data-ttu-id="cb7b7-111">O cache de assembly global é uma estrutura de diretórios com reconhecimento de versão instalada em todos os computadores que usam o .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-111">The global assembly cache is a version-aware directory structure installed on every computer that uses the .NET Framework.</span></span> <span data-ttu-id="cb7b7-112">Os assemblies instalados no cache de assembly global não são substituídos quando uma nova versão do assembly é instalada.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-112">Assemblies installed in the global assembly cache are not overwritten when a new version of that assembly is installed.</span></span>  
  
- <span data-ttu-id="cb7b7-113">Crie um aplicativo ou componente que é executado isoladamente.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-113">Create an application or component that runs in isolation.</span></span>  
  
     <span data-ttu-id="cb7b7-114">Um aplicativo ou componente que é executado isoladamente deve gerenciar recursos para evitar conflitos quando duas instâncias do aplicativo ou componente forem executadas simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-114">An application or component that runs in isolation must manage resources to avoid conflicts when two instances of the application or component are running simultaneously.</span></span> <span data-ttu-id="cb7b7-115">O aplicativo ou componente também deve usar uma estrutura de arquivos específica da versão.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-115">The application or component must also use a version-specific file structure.</span></span>  
  
## <a name="application-and-component-isolation"></a><span data-ttu-id="cb7b7-116">Isolamento de componente e de aplicativo</span><span class="sxs-lookup"><span data-stu-id="cb7b7-116">Application and Component Isolation</span></span>  
 <span data-ttu-id="cb7b7-117">Uma chave para criar com êxito um aplicativo ou componente para execução lado a lado é o isolamento.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-117">One key to successfully designing an application or component for side-by-side execution is isolation.</span></span> <span data-ttu-id="cb7b7-118">O aplicativo ou componente deve gerenciar todos os recursos, especialmente E/S de arquivos, de maneira isolada.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-118">The application or component must manage all resources, particularly file I/O, in an isolated manner.</span></span> <span data-ttu-id="cb7b7-119">Siga estas diretrizes para garantir que seu aplicativo ou componente seja executado isoladamente:</span><span class="sxs-lookup"><span data-stu-id="cb7b7-119">Follow these guidelines to make sure your application or component runs in isolation:</span></span>  
  
- <span data-ttu-id="cb7b7-120">Grave o Registro de uma maneira específica da versão.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-120">Write to the registry in a version-specific way.</span></span> <span data-ttu-id="cb7b7-121">Armazene valores em hives ou chaves que indicam a versão e não compartilham informações ou o estado entre as versões de um componente.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-121">Store values in hives or keys that indicate the version, and do not share information or state across versions of a component.</span></span> <span data-ttu-id="cb7b7-122">Isso impede que dois aplicativos ou componentes em execução ao mesmo tempo substituam as informações.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-122">This prevents two applications or components running at the same time from overwriting information.</span></span>  
  
- <span data-ttu-id="cb7b7-123">Torne os objetos kernel nomeados específicos da versão para que não ocorra uma condição de corrida.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-123">Make named kernel objects version-specific so that a race condition does not occur.</span></span> <span data-ttu-id="cb7b7-124">Por exemplo, uma condição de corrida ocorre quando dois semáforos de duas versões do mesmo aplicativo esperam um pelo outro.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-124">For example, a race condition occurs when two semaphores from two versions of the same application wait on each other.</span></span>  
  
- <span data-ttu-id="cb7b7-125">Deixe os nomes de arquivo e diretório com reconhecimento de versão.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-125">Make file and directory names version-aware.</span></span> <span data-ttu-id="cb7b7-126">Isso significa que as estruturas de arquivos devem contar com informações de versão.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-126">This means that file structures should rely on version information.</span></span>  
  
- <span data-ttu-id="cb7b7-127">Crie grupos e contas de usuário de uma maneira específica da versão.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-127">Create user accounts and groups in a version-specific manner.</span></span> <span data-ttu-id="cb7b7-128">Contas de usuário e grupos criados por um aplicativo devem ser identificados pela versão.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-128">User accounts and groups created by an application should be identified by version.</span></span> <span data-ttu-id="cb7b7-129">Não compartilhe as contas de usuário e grupos entre versões de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-129">Do not share user accounts and groups between versions of an application.</span></span>  
  
## <a name="installing-and-uninstalling-versions"></a><span data-ttu-id="cb7b7-130">Instalando e desinstalando versões</span><span class="sxs-lookup"><span data-stu-id="cb7b7-130">Installing and Uninstalling Versions</span></span>  
 <span data-ttu-id="cb7b7-131">Ao criar um aplicativo para a execução lado a lado, siga estas diretrizes sobre a instalação e desinstalação de versões:</span><span class="sxs-lookup"><span data-stu-id="cb7b7-131">When designing an application for side-by-side execution, follow these guidelines concerning installing and uninstalling versions:</span></span>  
  
- <span data-ttu-id="cb7b7-132">Não exclua informações do Registro que podem ser necessárias para outros aplicativos em execução em uma versão diferente do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-132">Do not delete information from the registry that may be needed by other applications running under a different version of the .NET Framework.</span></span>  
  
- <span data-ttu-id="cb7b7-133">Não substitua informações no Registro que podem ser necessárias para outros aplicativos em execução em uma versão diferente do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-133">Do not replace information in the registry that may be needed by other applications running under a different version of the .NET Framework.</span></span>  
  
- <span data-ttu-id="cb7b7-134">Não cancele o registro de componentes COM que podem ser necessários para outros aplicativos em execução em uma versão diferente do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-134">Do not unregister COM components that may be needed by other applications running under a different version of the .NET Framework.</span></span>  
  
- <span data-ttu-id="cb7b7-135">Não altere **InprocServer32** ou outras entradas do Registro para um servidor COM que já foi registrado.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-135">Do not change **InprocServer32** or other registry entries for a COM server that was already registered.</span></span>  
  
- <span data-ttu-id="cb7b7-136">Não exclua contas de usuário ou grupos que podem ser necessários para outros aplicativos em execução em uma versão diferente do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-136">Do not delete user accounts or groups that may be needed by other applications running under a different version of the .NET Framework.</span></span>  
  
- <span data-ttu-id="cb7b7-137">Não adicione nada ao Registro que contenha um caminho sem versão.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-137">Do not add anything to the registry that contains an unversioned path.</span></span>  
  
## <a name="file-version-number-and-assembly-version-number"></a><span data-ttu-id="cb7b7-138">Número de versão do arquivo e número de versão do Assembly</span><span class="sxs-lookup"><span data-stu-id="cb7b7-138">File Version Number and Assembly Version Number</span></span>  
 <span data-ttu-id="cb7b7-139">A versão do arquivo é um recurso de versão do Win32 que não é usado pelo runtime.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-139">File version is a Win32 version resource that is not used by the runtime.</span></span> <span data-ttu-id="cb7b7-140">Em geral, você atualiza a versão do arquivo até mesmo para uma atualização in-loco.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-140">In general, you update the file version even for an in-place update.</span></span> <span data-ttu-id="cb7b7-141">Dois arquivos idênticos podem ter informações de versão de arquivo diferentes e dois arquivos diferentes podem ter as mesmas informações de versão do arquivo.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-141">Two identical files can have different file version information, and two different files can have the same file version information.</span></span>  
  
 <span data-ttu-id="cb7b7-142">A versão do assembly é usada pelo runtime para a associação do assembly.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-142">The assembly version is used by the runtime for assembly binding.</span></span> <span data-ttu-id="cb7b7-143">Dois assemblies idênticos com números de versão diferentes são tratados como dois assemblies diferentes pelo runtime.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-143">Two identical assemblies with different version numbers are treated as two different assemblies by the runtime.</span></span>  
  
 <span data-ttu-id="cb7b7-144">A [ferramenta Cache de Assembly Global (Gacutil.exe)](../tools/gacutil-exe-gac-tool.md) permite que você substitua um assembly quando apenas o número de versão do arquivo é mais recente.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-144">The [Global Assembly Cache tool (Gacutil.exe)](../tools/gacutil-exe-gac-tool.md) allows you to replace an assembly when only the file version number is newer.</span></span> <span data-ttu-id="cb7b7-145">O instalador geralmente não instala em um assembly, a menos que o número de versão do assembly seja maior.</span><span class="sxs-lookup"><span data-stu-id="cb7b7-145">The installer generally does not install over an assembly unless the assembly version number is greater.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cb7b7-146">Consulte também</span><span class="sxs-lookup"><span data-stu-id="cb7b7-146">See also</span></span>

- [<span data-ttu-id="cb7b7-147">Execução lado a lado</span><span class="sxs-lookup"><span data-stu-id="cb7b7-147">Side-by-Side Execution</span></span>](side-by-side-execution.md)
- [<span data-ttu-id="cb7b7-148">Como habilitar e desabilitar o redirecionamento automático de associações</span><span class="sxs-lookup"><span data-stu-id="cb7b7-148">How to: Enable and Disable Automatic Binding Redirection</span></span>](../configure-apps/how-to-enable-and-disable-automatic-binding-redirection.md)
