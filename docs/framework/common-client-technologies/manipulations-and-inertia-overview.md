---
title: Visão geral de manipulações e inércia
ms.date: 03/30/2017
ms.assetid: dd31b89b-eab6-45a1-8d0b-11e0eb84b234
ms.openlocfilehash: 6396c174b341b5ae937fa931488ee1bd3a5fcbd5
ms.sourcegitcommit: c93fd5139f9efcf6db514e3474301738a6d1d649
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/27/2018
ms.locfileid: "50187813"
---
# <a name="manipulations-and-inertia-overview"></a><span data-ttu-id="7d2da-102">Visão geral de manipulações e inércia</span><span class="sxs-lookup"><span data-stu-id="7d2da-102">Manipulations and Inertia Overview</span></span>
<span data-ttu-id="7d2da-103">As *manipulações* permitem aos usuários mover, girar e redimensionar elementos de interface do usuário usando *manipuladores*.</span><span class="sxs-lookup"><span data-stu-id="7d2da-103">*Manipulations* enable users to move, rotate, and resize user interface (UI) elements by using *manipulators*.</span></span> <span data-ttu-id="7d2da-104">Um manipulador representa um mouse ou (em um cenário sensível ao toque) uma caneta ou um dedo.</span><span class="sxs-lookup"><span data-stu-id="7d2da-104">A manipulator represents a mouse or (in a touch-enabled scenario) a stylus or a finger.</span></span>  
  
 <span data-ttu-id="7d2da-105">A *inércia* emula o comportamento do mundo real para elementos de interface do usuário que estão em movimento simulando forças de atrito nos elementos.</span><span class="sxs-lookup"><span data-stu-id="7d2da-105">*Inertia* emulates real-world behavior for UI elements that are in motion by simulating friction forces on the elements.</span></span> <span data-ttu-id="7d2da-106">Isso permite que elementos reduzam gradualmente a movimentação (linear e angular) antes de uma parada.</span><span class="sxs-lookup"><span data-stu-id="7d2da-106">This enables elements to gradually slow their movement (both linear and angular) before coming to a stop.</span></span> <span data-ttu-id="7d2da-107">Este artigo fornece uma introdução às manipulações e à inércia para o .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7d2da-107">This article provides an introduction to manipulations and inertia for the .NET Framework.</span></span>  
  
## <a name="manipulations"></a><span data-ttu-id="7d2da-108">Manipulações</span><span class="sxs-lookup"><span data-stu-id="7d2da-108">Manipulations</span></span>  
 <span data-ttu-id="7d2da-109">Uma manipulação trata uma coleção de manipuladores como um objeto de composição.</span><span class="sxs-lookup"><span data-stu-id="7d2da-109">A manipulation treats a collection of manipulators as a composite object.</span></span> <span data-ttu-id="7d2da-110">Um aplicativo pode rastrear as alterações para o objeto de composição, em vez de componentes individuais.</span><span class="sxs-lookup"><span data-stu-id="7d2da-110">An application can track the changes to the composite object instead of the individual components.</span></span>  
  
 <span data-ttu-id="7d2da-111">Considere a imagem na ilustração a seguir.</span><span class="sxs-lookup"><span data-stu-id="7d2da-111">Consider the image in the following illustration.</span></span> <span data-ttu-id="7d2da-112">Um usuário pode usar dois manipuladores para mover, girar e ajustar escala da imagem.</span><span class="sxs-lookup"><span data-stu-id="7d2da-112">A user can use two manipulators to move, rotate, and scale the image.</span></span> <span data-ttu-id="7d2da-113">As alterações para cada manipulador são interpretadas junto com os outros manipuladores.</span><span class="sxs-lookup"><span data-stu-id="7d2da-113">The changes to each manipulator are interpreted together with the other manipulators.</span></span>  
  
 <span data-ttu-id="7d2da-114">Por exemplo, se você tiver dois manipuladores (1 e 2) na imagem e mover o manipulador 1 em uma direção +Y (para baixo), a alteração da imagem dependerá do que acontece com o manipulador 2.</span><span class="sxs-lookup"><span data-stu-id="7d2da-114">For example, if you have two manipulators (1 and 2) on the image, and you move manipulator 1 in a +Y direction (down), the change to the image depends on what happens to manipulator 2.</span></span> <span data-ttu-id="7d2da-115">Se o manipulador 2 também move na direção +Y (para baixo), a imagem simplesmente se moverá na direção +Y.</span><span class="sxs-lookup"><span data-stu-id="7d2da-115">If manipulator 2 also moves in the +Y direction (down), the image simply moves in the +Y direction.</span></span> <span data-ttu-id="7d2da-116">Mas se o manipulador 2 não mudar ou se mover em uma direção -Y (para cima), a imagem será reduzida ou girada.</span><span class="sxs-lookup"><span data-stu-id="7d2da-116">But if manipulator 2 does not change, or it moves in a -Y direction (up), the image is made smaller or rotated.</span></span>  
  
 <span data-ttu-id="7d2da-117">![Uma foto virtual que dois dedos estão manipulando. ](../../../docs/framework/common-client-technologies/media/manipulation-resize.png "Manipulation_Resize")</span><span class="sxs-lookup"><span data-stu-id="7d2da-117">![A virtual photo that two fingers are manipulating.](../../../docs/framework/common-client-technologies/media/manipulation-resize.png "Manipulation_Resize")</span></span>  
  
 <span data-ttu-id="7d2da-118">Uma imagem sendo manipulada por dois manipuladores</span><span class="sxs-lookup"><span data-stu-id="7d2da-118">An image being manipulated by two manipulators</span></span>  
  
 <span data-ttu-id="7d2da-119">O processamento de manipulação fornece uma estrutura que monitora um subconjunto dos manipuladores e os interpreta como estivessem agindo em conjunto, em vez de independentemente.</span><span class="sxs-lookup"><span data-stu-id="7d2da-119">Manipulation processing provides a framework that monitors a subset of manipulators and interprets them as if they are acting together, instead of independently.</span></span> <span data-ttu-id="7d2da-120">Você pode criar vários objetos de processador de manipulação ao mesmo tempo, um para cada elemento da interface do usuário a ser manipulado em um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="7d2da-120">You can create several manipulation processor objects simultaneously, one for each UI element to be manipulated in an application.</span></span> <span data-ttu-id="7d2da-121">Um processador de manipulação é informado de quais dispositivos de entrada observar e ele relata as manipulações por meio de [eventos .NET](../../../docs/standard/events/index.md).</span><span class="sxs-lookup"><span data-stu-id="7d2da-121">A manipulation processor is informed of which input devices to observe and it reports manipulations through [.NET events](../../../docs/standard/events/index.md).</span></span>  
  
 <span data-ttu-id="7d2da-122">Um processador de manipulação não tem informações sobre o elemento específico que está sendo manipulado.</span><span class="sxs-lookup"><span data-stu-id="7d2da-122">A manipulation processor does not have information about the particular element that is being manipulated.</span></span> <span data-ttu-id="7d2da-123">Um aplicativo separadamente aplica as alterações a um elemento específico do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="7d2da-123">An application separately applies the changes to an application-specific element.</span></span> <span data-ttu-id="7d2da-124">Por exemplo, um aplicativo aplica transformações a uma imagem ou a redesenha para exibi-la em seu novo local ou com um novo tamanho ou orientação.</span><span class="sxs-lookup"><span data-stu-id="7d2da-124">For example, an application applies transformations to an image or redraws it to display it at its new location or with a new size or orientation.</span></span>  
  
 <span data-ttu-id="7d2da-125">As manipulações são projetadas para [transformações afins](/windows/desktop/gdiplus/-gdiplus-transformations-use) bidimensionais (2D).</span><span class="sxs-lookup"><span data-stu-id="7d2da-125">Manipulations are designed for two-dimensional (2-D) [affine transformations](/windows/desktop/gdiplus/-gdiplus-transformations-use).</span></span> <span data-ttu-id="7d2da-126">Essas transformações incluem mover, girar e ajustar escala.</span><span class="sxs-lookup"><span data-stu-id="7d2da-126">These transformations include translate, rotate, and scale.</span></span>  
  
### <a name="parts-of-a-manipulation"></a><span data-ttu-id="7d2da-127">Partes de uma manipulação</span><span class="sxs-lookup"><span data-stu-id="7d2da-127">Parts of a Manipulation</span></span>  
 <span data-ttu-id="7d2da-128">Uma manipulação é uma coleção de objetos <xref:System.Windows.Input.Manipulations.Manipulator2D>.</span><span class="sxs-lookup"><span data-stu-id="7d2da-128">A manipulation is a collection of <xref:System.Windows.Input.Manipulations.Manipulator2D> objects.</span></span> <span data-ttu-id="7d2da-129">Essa manipulação agregada é representada por um ponto de origem e uma elipse.</span><span class="sxs-lookup"><span data-stu-id="7d2da-129">This aggregate manipulation is represented by an origin point and an ellipse.</span></span> <span data-ttu-id="7d2da-130">O ponto de origem é a posição média de todos os manipuladores que estão manipulando um elemento.</span><span class="sxs-lookup"><span data-stu-id="7d2da-130">The origin point is the average position of all manipulators that are manipulating an element.</span></span> <span data-ttu-id="7d2da-131">A elipse tem um raio que é a distância média da origem até cada um dos objetos <xref:System.Windows.Input.Manipulations.Manipulator2D>.</span><span class="sxs-lookup"><span data-stu-id="7d2da-131">The ellipse has a radius that is the average distance from the origin to each of the <xref:System.Windows.Input.Manipulations.Manipulator2D> objects.</span></span>  
  
 <span data-ttu-id="7d2da-132">![As partes de uma manipulação.](../../../docs/framework/common-client-technologies/media/manipulation-definition.png "Manipulation_Definition")</span><span class="sxs-lookup"><span data-stu-id="7d2da-132">![The parts of a manipulation.](../../../docs/framework/common-client-technologies/media/manipulation-definition.png "Manipulation_Definition")</span></span>  
  
 <span data-ttu-id="7d2da-133">Dois manipuladores (1 e 2), uma origem e uma elipse especificam uma manipulação</span><span class="sxs-lookup"><span data-stu-id="7d2da-133">Two manipulators (1 and 2), an origin, and an ellipse specify a manipulation</span></span>  
  
 <span data-ttu-id="7d2da-134">Conforme os manipuladores são adicionados, movidos ou removidos de um elemento de interface do usuário, um aplicativo atualiza o objeto <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D> chamando o método <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.ProcessManipulators%2A>.</span><span class="sxs-lookup"><span data-stu-id="7d2da-134">As manipulators are added, moved, or removed for a UI element, an application updates the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D> object by calling the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.ProcessManipulators%2A> method.</span></span> <span data-ttu-id="7d2da-135">Quando a manipulação começa pela primeira vez, o evento <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Started> é gerado.</span><span class="sxs-lookup"><span data-stu-id="7d2da-135">When the manipulation first begins, the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Started> event is raised.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="7d2da-136">O processamento de manipulação é mais eficiente quando usado em um ambiente de atualização baseado em quadro.</span><span class="sxs-lookup"><span data-stu-id="7d2da-136">Manipulation processing is more efficient when used in a frame-based update environment.</span></span> <span data-ttu-id="7d2da-137">Ao usar o processamento de manipulação em um aplicativo Microsoft XNA, essa não é uma preocupação, pois a estrutura do XNA fornece atualizações baseadas em quadro usando o método [Game.Update](https://docs.microsoft.com/previous-versions/windows/xna/bb199616%28v%3dxnagamestudio.41%29).</span><span class="sxs-lookup"><span data-stu-id="7d2da-137">When using manipulation processing in a Microsoft XNA application, this is not a concern because the XNA framework provides frame-based updates using the [Game.Update](https://docs.microsoft.com/previous-versions/windows/xna/bb199616%28v%3dxnagamestudio.41%29) method.</span></span> <span data-ttu-id="7d2da-138">Em outro ambiente (como WinForms), talvez seja necessário fornecer sua própria lógica baseada em quadro para coletar manipulações e enviá-los periodicamente para o método <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.ProcessManipulators%2A> como um lote.</span><span class="sxs-lookup"><span data-stu-id="7d2da-138">In another environment (such as WinForms), you might need to provide your own frame-based logic to collect manipulations and periodically send them to the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.ProcessManipulators%2A> method as a batch.</span></span>  
  
 <span data-ttu-id="7d2da-139">Conforme o número de manipuladores ou sua posição muda, o evento <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta> é gerado.</span><span class="sxs-lookup"><span data-stu-id="7d2da-139">As the number of manipulators or their position change, the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta> event is raised.</span></span> <span data-ttu-id="7d2da-140">As propriedades do objeto <xref:System.Windows.Input.Manipulations.Manipulation2DDeltaEventArgs> passado para o manipulador de eventos <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta> especificam alterações na origem, escala, rotação e translação que ocorreram desde o último evento.</span><span class="sxs-lookup"><span data-stu-id="7d2da-140">Properties of the <xref:System.Windows.Input.Manipulations.Manipulation2DDeltaEventArgs> object that is passed to the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta> event handler specify changes in origin, scale, rotation, and translation that have occurred since the last event.</span></span> <span data-ttu-id="7d2da-141">A origem da manipulação muda quando os manipuladores se movem e quando os manipuladores são adicionados ou removidos.</span><span class="sxs-lookup"><span data-stu-id="7d2da-141">The origin of the manipulation changes when manipulators move, and when manipulators are added or removed.</span></span> <span data-ttu-id="7d2da-142">Os valores de translação especificam quanta movimentação de X ou Y a manipulação inclui.</span><span class="sxs-lookup"><span data-stu-id="7d2da-142">Translation values specify how much X or Y movement the manipulation includes.</span></span>  
  
 <span data-ttu-id="7d2da-143">Usando os novos valores, um aplicativo redesenha o elemento da interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="7d2da-143">Using the new values, an application redraws the UI element.</span></span>  
  
 <span data-ttu-id="7d2da-144">![Uma manipulação após o contato se mover para a direita.](../../../docs/framework/common-client-technologies/media/manipulation-changed.png "Manipulation_Changed")</span><span class="sxs-lookup"><span data-stu-id="7d2da-144">![A manipulation after contact A moved to the right.](../../../docs/framework/common-client-technologies/media/manipulation-changed.png "Manipulation_Changed")</span></span>  
  
 <span data-ttu-id="7d2da-145">O manipulador 1 se move e faz com que a origem mude</span><span class="sxs-lookup"><span data-stu-id="7d2da-145">Manipulator 1 moves and causes the origin to change</span></span>  
  
 <span data-ttu-id="7d2da-146">Quando o último manipulador associado à manipulação é removido do objeto <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D>, o evento <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Completed> é gerado.</span><span class="sxs-lookup"><span data-stu-id="7d2da-146">When the last manipulator that is associated with the manipulation is removed from the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D> object, the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Completed> event is raised.</span></span>  
  
### <a name="the-manipulation-processing-model"></a><span data-ttu-id="7d2da-147">O Modelo de Processamento de Manipulação</span><span class="sxs-lookup"><span data-stu-id="7d2da-147">The Manipulation Processing Model</span></span>  
 <span data-ttu-id="7d2da-148">Um processador de manipulação usa um modelo de uso direto.</span><span class="sxs-lookup"><span data-stu-id="7d2da-148">A manipulation processor uses a direct-usage model.</span></span> <span data-ttu-id="7d2da-149">Com esse modelo simples, um aplicativo deve passar todos os detalhes de eventos de entrada para o processador de manipulação.</span><span class="sxs-lookup"><span data-stu-id="7d2da-149">With this simple model, an application must pass any input event details to the manipulation processor.</span></span> <span data-ttu-id="7d2da-150">Um evento de entrada pode ser gerado por qualquer entrada primitiva, como um dispositivo de mouse, uma caneta ou um dedo.</span><span class="sxs-lookup"><span data-stu-id="7d2da-150">An input event might be raised by any input primitive, such as a mouse device, a stylus, or a finger.</span></span> <span data-ttu-id="7d2da-151">Esse processo fornece um mecanismo de filtragem direto e um modelo de uso simples, para que o aplicativo possa criar eventos de entrada em lote quando necessário.</span><span class="sxs-lookup"><span data-stu-id="7d2da-151">This process provides a direct filtering mechanism and a simple usage model, so the application can batch input events when it is necessary.</span></span>  
  
 <span data-ttu-id="7d2da-152">Para um aplicativo incluir uma entrada primitiva no processo de manipulação, ele cria uma estrutura <xref:System.Windows.Input.Manipulations.Manipulator2D> dos detalhes da entrada primitiva e passa a estrutura para o processador de manipulação usando o método <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.ProcessManipulators%2A>.</span><span class="sxs-lookup"><span data-stu-id="7d2da-152">For an application to include an input primitive in the manipulation process, it creates a <xref:System.Windows.Input.Manipulations.Manipulator2D> structure from the details of the input primitive, and passes the structure to the manipulation processor using the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.ProcessManipulators%2A> method.</span></span> <span data-ttu-id="7d2da-153">O processador de manipulação, em seguida, gera eventos que o aplicativo deve tratar para atualizar o componente visual de maneira apropriada.</span><span class="sxs-lookup"><span data-stu-id="7d2da-153">The manipulation processor then raises events, which the application must handle to update the visual component in an appropriate way.</span></span>  
  
 <span data-ttu-id="7d2da-154">![O fluxo do modelo de uso direto das manipulações.](../../../docs/framework/common-client-technologies/media/manipulation-flow.png "Manipulation_Flow")</span><span class="sxs-lookup"><span data-stu-id="7d2da-154">![The flow of the manipulations direct&#45;usage model.](../../../docs/framework/common-client-technologies/media/manipulation-flow.png "Manipulation_Flow")</span></span>  
  
 <span data-ttu-id="7d2da-155">O modelo de processamento de manipulação</span><span class="sxs-lookup"><span data-stu-id="7d2da-155">The manipulation processing model</span></span>  
  
## <a name="inertia"></a><span data-ttu-id="7d2da-156">Inércia</span><span class="sxs-lookup"><span data-stu-id="7d2da-156">Inertia</span></span>  
 <span data-ttu-id="7d2da-157">O processador de inércia permite que aplicativos extrapolem o local, a orientação e outras propriedades de um elemento de interface do usuário simulando o comportamento do mundo real.</span><span class="sxs-lookup"><span data-stu-id="7d2da-157">The inertia processor enables applications to extrapolate location, orientation, and other properties of a UI element by simulating real-world behavior.</span></span>  
  
 <span data-ttu-id="7d2da-158">Por exemplo, quando um usuário movimenta um elemento, ele continua a se mover, desacelerar e, então, parar lentamente.</span><span class="sxs-lookup"><span data-stu-id="7d2da-158">For instance, when a user flicks an element, it can continue moving, decelerate, and then slowly stop.</span></span> <span data-ttu-id="7d2da-159">O processador de inércia implementa esse comportamento fazendo com que os valores de 2D afins (origem, escala, translação e rotação) mudem ao longo do tempo especificado em uma taxa de desaceleração especificada.</span><span class="sxs-lookup"><span data-stu-id="7d2da-159">The inertia processor implements this behavior by causing the affine 2-D values (origin, scale, translation, and rotation) to change over a specified time at a specified deceleration rate.</span></span>  
  
 <span data-ttu-id="7d2da-160">Como com o processamento de manipulação, um processador de inércia não tem informações sobre um determinado elemento de interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="7d2da-160">As with manipulation processing, an inertia processor does not have information about any particular UI element.</span></span> <span data-ttu-id="7d2da-161">Em resposta a eventos que são gerados em um objeto <xref:System.Windows.Input.Manipulations.InertiaProcessor2D>, um aplicativo separadamente aplica as alterações a um elemento específico do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="7d2da-161">In response to events that are raised on an <xref:System.Windows.Input.Manipulations.InertiaProcessor2D> object, an application separately applies the changes to an application-specific element.</span></span>  
  
 <span data-ttu-id="7d2da-162">O processamento de inércia e o processamento de manipulação geralmente são usados juntos.</span><span class="sxs-lookup"><span data-stu-id="7d2da-162">Inertia processing and manipulation processing are often used together.</span></span> <span data-ttu-id="7d2da-163">Suas interfaces são semelhantes e os eventos que eles geram são (em alguns casos) idênticos.</span><span class="sxs-lookup"><span data-stu-id="7d2da-163">Their interfaces are similar, and the events that they raise are (in some cases) identical.</span></span> <span data-ttu-id="7d2da-164">Em geral, o processamento de inércia começa quando a manipulação do elemento de interface do usuário é concluída.</span><span class="sxs-lookup"><span data-stu-id="7d2da-164">Generally, inertia processing begins when the manipulation of the UI element is completed.</span></span> <span data-ttu-id="7d2da-165">Isso é feito ouvindo o <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Completed> evento e iniciando o processamento de inércia o manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="7d2da-165">This is accomplished by listening to the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Completed> event and starting the inertia processing from that event handler.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7d2da-166">Consulte também</span><span class="sxs-lookup"><span data-stu-id="7d2da-166">See Also</span></span>  
 <xref:System.Windows.Input.Manipulations>
