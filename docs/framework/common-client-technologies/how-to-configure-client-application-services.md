---
title: "Como configurar serviços de aplicativo cliente"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- client application services, configuring
ms.assetid: 34a8688a-a32c-40d3-94be-c8e610c6a4e8
caps.latest.revision: 23
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.translationtype: HT
ms.sourcegitcommit: 306c608dc7f97594ef6f72ae0f5aaba596c936e1
ms.openlocfilehash: a1d15e380b6b7e8b226f26b261f4d4540eeef88d
ms.contentlocale: pt-br
ms.lasthandoff: 07/28/2017

---
# <a name="how-to-configure-client-application-services"></a><span data-ttu-id="d067f-102">Como configurar serviços de aplicativo cliente</span><span class="sxs-lookup"><span data-stu-id="d067f-102">How to: Configure Client Application Services</span></span>
<span data-ttu-id="d067f-103">Este tópico descreve como usar o [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)] **Designer de Projeto** para habilitar e configurar serviços de aplicativos cliente.</span><span class="sxs-lookup"><span data-stu-id="d067f-103">This topic describes how to use the [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)] **Project Designer** to enable and configure client application services.</span></span> <span data-ttu-id="d067f-104">Você pode usar serviços do aplicativo cliente para validar os usuários e recuperar funções de usuário e configurações de um serviço do aplicativo [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] existente.</span><span class="sxs-lookup"><span data-stu-id="d067f-104">You can use client application services to validate users and retrieve user roles and settings from an existing [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] application service.</span></span> <span data-ttu-id="d067f-105">Após a configuração, você pode acessar os serviços habilitados no código do aplicativo, conforme descrito em [Visão geral dos serviços de aplicativo cliente](../../../docs/framework/common-client-technologies/client-application-services-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d067f-105">After configuration, you can access the enabled services in your application code as described in [Client Application Services Overview](../../../docs/framework/common-client-technologies/client-application-services-overview.md).</span></span> <span data-ttu-id="d067f-106">Para obter mais informações sobre os serviços de aplicativos [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)], consulte [Visão geral sobre Serviços de Aplicativos ASP.NET](http://msdn.microsoft.com/library/1162e529-0d70-44b2-b3ab-83e60c695013).</span><span class="sxs-lookup"><span data-stu-id="d067f-106">For more information about the [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] application services, see [ASP.NET Application Services Overview](http://msdn.microsoft.com/library/1162e529-0d70-44b2-b3ab-83e60c695013).</span></span>  
  
 <span data-ttu-id="d067f-107">Você pode habilitar e configurar serviços de aplicativos cliente na página **Serviços** do **Designer de Projeto**.</span><span class="sxs-lookup"><span data-stu-id="d067f-107">You can enable and configure client application services on the **Services** page of the **Project Designer**.</span></span> <span data-ttu-id="d067f-108">A página **Serviços** atualiza os valores no arquivo App.config do projeto.</span><span class="sxs-lookup"><span data-stu-id="d067f-108">The **Services** page updates values in your project's App.config file.</span></span> <span data-ttu-id="d067f-109">Para acessar o **Designer de Projeto**, use o comando **Propriedades** no menu **Projeto**.</span><span class="sxs-lookup"><span data-stu-id="d067f-109">To access the **Project Designer**, use the **Properties** command on the **Project** menu.</span></span> <span data-ttu-id="d067f-110">Para obter mais informações sobre a página **Serviços**, consulte [Página Serviços, Designer de Projeto](https://msdn.microsoft.com/library/bb398109).</span><span class="sxs-lookup"><span data-stu-id="d067f-110">For more information about the **Services** page, see [Services Page, Project Designer](https://msdn.microsoft.com/library/bb398109).</span></span>  
  
 <span data-ttu-id="d067f-111">O procedimento a seguir descreve como executar a configuração básica para serviços do aplicativo cliente.</span><span class="sxs-lookup"><span data-stu-id="d067f-111">The following procedure describes how to perform basic configuration for client application services.</span></span> <span data-ttu-id="d067f-112">As opções de configuração avançada são descritas nas próximas seções.</span><span class="sxs-lookup"><span data-stu-id="d067f-112">Advanced configuration options are described in later sections.</span></span>  
  
### <a name="to-configure-client-application-services"></a><span data-ttu-id="d067f-113">Para configurar os serviços do aplicativo cliente</span><span class="sxs-lookup"><span data-stu-id="d067f-113">To configure client application services</span></span>  
  
1.  <span data-ttu-id="d067f-114">No **Gerenciador de Soluções**, selecione um nó do projeto e, no menu **Projeto**, clique em **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="d067f-114">In **Solution Explorer**, select a project node and then on the **Project** menu, click **Properties**.</span></span>  
  
     <span data-ttu-id="d067f-115">O **Designer de Projeto** é exibido.</span><span class="sxs-lookup"><span data-stu-id="d067f-115">The **Project Designer** appears.</span></span>  
  
2.  <span data-ttu-id="d067f-116">Clique na guia **Serviços**.</span><span class="sxs-lookup"><span data-stu-id="d067f-116">Click the **Services** tab.</span></span> <span data-ttu-id="d067f-117">A página **Serviços** é exibida, conforme mostrado na ilustração a seguir.</span><span class="sxs-lookup"><span data-stu-id="d067f-117">The **Services** page appears, as shown in the following illustration.</span></span>  
  
     <span data-ttu-id="d067f-118">![A guia Serviços no designer de projeto](../../../docs/framework/common-client-technologies/media/casdesigner.png "casdesigner")</span><span class="sxs-lookup"><span data-stu-id="d067f-118">![The Services tab in the project designer](../../../docs/framework/common-client-technologies/media/casdesigner.png "casdesigner")</span></span>  
  
3.  <span data-ttu-id="d067f-119">Na página **Serviços**, selecione **Habilitar serviços de aplicativos cliente**.</span><span class="sxs-lookup"><span data-stu-id="d067f-119">On the **Services** page, select **Enable client application services**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="d067f-120">Os serviços do aplicativo cliente exigem a versão completa do .NET Framework e não há suporte para o .NET Framework Client Profile.</span><span class="sxs-lookup"><span data-stu-id="d067f-120">Client application services require the full version of the .NET Framework, and are not supported in the .NET Framework Client Profile.</span></span> <span data-ttu-id="d067f-121">Se a caixa de seleção **Habilitar serviços do aplicativo cliente** estiver desabilitada, verifique se a **Estrutura de destino** está definida como .NET Framework 3.5 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="d067f-121">If the **Enable client application services** check box is disabled, verify that the **Target framework** is set to the .NET Framework 3.5 or later.</span></span> <span data-ttu-id="d067f-122">Para exibir a configuração da **Estrutura de destino** em C#, abra o Designer de Projeto e clique na página **Aplicativo**.</span><span class="sxs-lookup"><span data-stu-id="d067f-122">To view the **Target framework** setting in C#, open the Project Designer and then click the **Application** page.</span></span> <span data-ttu-id="d067f-123">Para exibir a configuração **Estrutura de destino** no Visual Basic, abra o Designer de Projeto, clique na página **Compilar** e, em seguida, clique em **Opções Avançadas de Compilação**.</span><span class="sxs-lookup"><span data-stu-id="d067f-123">To view the **Target framework** setting in Visual Basic, open the Project Designer, click the **Compile** page, and then click **Advanced Compile Options**.</span></span>  
  
4.  <span data-ttu-id="d067f-124">Selecione **Usar autenticação de Formulários** se você pretende fornecer seus próprios controles de logon ou a caixa de diálogo ou selecione **Usar autenticação do Windows** para usar a identidade fornecida pelo sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="d067f-124">Select **Use Forms authentication** if you plan to provide your own login controls or dialog box, or select **Use Windows authentication** to use the identity supplied by the operating system.</span></span> <span data-ttu-id="d067f-125">Para obter mais informações, consulte [Visão geral dos serviços de aplicativo cliente](../../../docs/framework/common-client-technologies/client-application-services-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d067f-125">For more information, see [Client Application Services Overview](../../../docs/framework/common-client-technologies/client-application-services-overview.md).</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="d067f-126">Se você selecionar **Usar autenticação do Windows**, os serviços de aplicativos cliente serão automaticamente configurados para usar um banco de dados do SQL Server Compact.</span><span class="sxs-lookup"><span data-stu-id="d067f-126">If you select **Use Windows authentication**, client application services will automatically be configured to use a SQL Server Compact database.</span></span> <span data-ttu-id="d067f-127">Isso é indicado na caixa de diálogo **Configurações Avançadas para Serviços**, conforme descrito na próxima seção.</span><span class="sxs-lookup"><span data-stu-id="d067f-127">This is indicated in the **Advanced Settings for Services** dialog box as described in the next section.</span></span> <span data-ttu-id="d067f-128">Se você selecionar **Usar autenticação de Formulários**, a configuração **Usar cadeia de conexão personalizada** não será limpa automaticamente.</span><span class="sxs-lookup"><span data-stu-id="d067f-128">If you then select **Use Forms authentication**, the **Use custom connection string** setting will not be cleared automatically.</span></span> <span data-ttu-id="d067f-129">Isso pode resultar em erros se o banco de dados [!INCLUDE[ssEW](../../../includes/ssew-md.md)] já tiver sido gerado para uso com autenticação do Windows.</span><span class="sxs-lookup"><span data-stu-id="d067f-129">This could result in errors if the [!INCLUDE[ssEW](../../../includes/ssew-md.md)] database has already been generated for use with Windows authentication.</span></span> <span data-ttu-id="d067f-130">Para corrigir esses erros, desmarque a configuração **Usar cadeia de conexão personalizada** na caixa de diálogo **Configurações Avançadas para Serviços**.</span><span class="sxs-lookup"><span data-stu-id="d067f-130">To fix these errors, clear the **Use custom connection string** setting in the **Advanced Settings for Services** dialog box.</span></span>  
  
5.  <span data-ttu-id="d067f-131">Se você selecionou **Usar autenticação de Formulários**, na caixa **Local do serviço de autenticação**, especifique a URL do host de serviço, sem incluir o nome do arquivo.</span><span class="sxs-lookup"><span data-stu-id="d067f-131">If you selected **Use Forms authentication**, in the **Authentication service location** box, specify the URL of the service host, not including the file name.</span></span> <span data-ttu-id="d067f-132">O designer acrescentará automaticamente o nome de arquivo padrão (Authentication_JSON_AppService.axd) ao gravar o valor no arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="d067f-132">The designer will automatically append the standard file name (Authentication_JSON_AppService.axd) when it writes the value to the configuration file.</span></span>  
  
6.  <span data-ttu-id="d067f-133">Opcionalmente, se você selecionou **Usar autenticação de Formulários**, poderá especificar um valor na caixa **Provedor de credenciais**.</span><span class="sxs-lookup"><span data-stu-id="d067f-133">Optionally, if you selected **Use Forms authentication**, you can specify a value in the **Credentials provider** box.</span></span> <span data-ttu-id="d067f-134">O provedor de credenciais deve implementar a interface <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider>.</span><span class="sxs-lookup"><span data-stu-id="d067f-134">The credentials provider must implement the <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider> interface.</span></span> <span data-ttu-id="d067f-135">Usando um provedor de credenciais, você pode separar sua interface de usuário de logon de outro código do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d067f-135">By using a credentials provider, you can separate your login user interface from your other application code.</span></span> <span data-ttu-id="d067f-136">Isso permite que você crie uma caixa de diálogo de logon único para uso em vários aplicativos.</span><span class="sxs-lookup"><span data-stu-id="d067f-136">This enables you to create a single login dialog box for use in multiple applications.</span></span> <span data-ttu-id="d067f-137">Para obter mais informações, consulte [Como implementar o logon do usuário com os serviços de aplicativo cliente](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md).</span><span class="sxs-lookup"><span data-stu-id="d067f-137">For more information, see [How to: Implement User Login with Client Application Services](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md).</span></span>  
  
     <span data-ttu-id="d067f-138">Se você especificar um provedor de credenciais, deverá especificá-lo como um nome de tipo qualificado do assembly.</span><span class="sxs-lookup"><span data-stu-id="d067f-138">If you specify a credentials provider, you must specify it as an assembly-qualified type name.</span></span> <span data-ttu-id="d067f-139">Para obter mais informações, consulte <xref:System.Type.AssemblyQualifiedName%2A?displayProperty=fullName> e [Assembly Names](../../../docs/framework/app-domains/assembly-names.md) (Nomes de assembly).</span><span class="sxs-lookup"><span data-stu-id="d067f-139">For more information, see <xref:System.Type.AssemblyQualifiedName%2A?displayProperty=fullName> and [Assembly Names](../../../docs/framework/app-domains/assembly-names.md).</span></span> <span data-ttu-id="d067f-140">Em sua forma mais simples, um nome de tipo qualificado do assembly é semelhante ao exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="d067f-140">In its simplest form, an assembly-qualified type name looks similar to the following example:</span></span>  
  
    ```  
    MyNamespace.MyLoginClass, MyAssembly  
    ```  
  
7.  <span data-ttu-id="d067f-141">Nas caixas de texto **Local do serviço de funções** e **Local do serviço de configurações da Web**, especifique o local de serviço para cada serviço, sem incluir o nome do arquivo.</span><span class="sxs-lookup"><span data-stu-id="d067f-141">In the **Roles service location** and **Web settings service location** text boxes, specify the service location for each service, not including the file name.</span></span> <span data-ttu-id="d067f-142">O designer acrescentará automaticamente o nome de arquivo padrão (Role_JSON_AppService.axd e Profile_JSON_AppService.axd) ao gravar o valor no arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="d067f-142">The designer will automatically append the standard file names (Role_JSON_AppService.axd and Profile_JSON_AppService.axd) when it writes the value to the configuration file.</span></span>  
  
8.  <span data-ttu-id="d067f-143">Opcionalmente, clique em **Avançado** para modificar as configurações avançadas, como o comportamento de cache local.</span><span class="sxs-lookup"><span data-stu-id="d067f-143">Optionally, click **Advanced** to modify advanced settings, such as the local caching behavior.</span></span> <span data-ttu-id="d067f-144">Para obter mais informações, consulte o procedimento a seguir.</span><span class="sxs-lookup"><span data-stu-id="d067f-144">For more information, see the next procedure.</span></span>  
  
## <a name="advanced-configuration"></a><span data-ttu-id="d067f-145">Configuração avançada</span><span class="sxs-lookup"><span data-stu-id="d067f-145">Advanced Configuration</span></span>  
 <span data-ttu-id="d067f-146">Os procedimentos a seguir descrevem como configurar os serviços do aplicativo cliente para cenários menos comuns.</span><span class="sxs-lookup"><span data-stu-id="d067f-146">The following procedures describe how to configure client application services for less common scenarios.</span></span> <span data-ttu-id="d067f-147">Por exemplo, você pode usar essas opções de configuração para aplicativos implantados em locais públicos, ou usar um banco de dados do SQL Server Compact criptografado como o cache de dados local.</span><span class="sxs-lookup"><span data-stu-id="d067f-147">For example, you can use these configuration options for applications deployed in public locations, or to use an encrypted SQL Server Compact database as the local data cache.</span></span>  
  
#### <a name="to-configure-advanced-settings-for-client-application-services"></a><span data-ttu-id="d067f-148">Para definir configurações avançadas para serviços do aplicativo cliente</span><span class="sxs-lookup"><span data-stu-id="d067f-148">To configure advanced settings for client application services</span></span>  
  
1.  <span data-ttu-id="d067f-149">Na página **Serviços** do **Designer de Projeto**, clique em **Avançado**.</span><span class="sxs-lookup"><span data-stu-id="d067f-149">On the **Services** page of the **Project Designer**, click **Advanced**.</span></span>  
  
     <span data-ttu-id="d067f-150">A caixa de diálogo **Configurações Avançadas para Serviços** é exibida, conforme mostrado na ilustração a seguir.</span><span class="sxs-lookup"><span data-stu-id="d067f-150">The **Advanced Settings for Services** dialog box appears, as shown in the following illustration.</span></span> <span data-ttu-id="d067f-151">Para obter mais informações sobre essa caixa de diálogo, consulte [Caixa de diálogo Configurações Avançadas para Serviços](/visualstudio/ide/reference/advanced-settings-for-services-dialog-box).</span><span class="sxs-lookup"><span data-stu-id="d067f-151">For more information about this dialog box, see [Advanced Settings for Services Dialog Box](/visualstudio/ide/reference/advanced-settings-for-services-dialog-box).</span></span>  
  
     <span data-ttu-id="d067f-152">![Caixa de diálogo Configurações Avançadas para Serviços](../../../docs/framework/common-client-technologies/media/casdialog.png "casdialog")</span><span class="sxs-lookup"><span data-stu-id="d067f-152">![Advanced Settings for Services dialog box](../../../docs/framework/common-client-technologies/media/casdialog.png "casdialog")</span></span>  
  
2.  <span data-ttu-id="d067f-153">Marque ou desmarque **Salvar hash de senha localmente para habilitar o logon offline**.</span><span class="sxs-lookup"><span data-stu-id="d067f-153">Select or clear **Save password hash locally to enable offline login**.</span></span> <span data-ttu-id="d067f-154">Quando você seleciona essa opção, um formato criptografado da senha do usuário será armazenado em cache localmente.</span><span class="sxs-lookup"><span data-stu-id="d067f-154">When you select this option, an encrypted form of the user's password will be cached locally.</span></span> <span data-ttu-id="d067f-155">Isso é útil se você implementar o modo offline para o seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d067f-155">This is useful if you implement offline mode for your application.</span></span> <span data-ttu-id="d067f-156">Com essa opção selecionada, você pode validar usuários mesmo quando a propriedade <xref:System.Web.ClientServices.ConnectivityStatus.IsOffline%2A> tiver sido definida como `true`.</span><span class="sxs-lookup"><span data-stu-id="d067f-156">With this option selected, you can validate users even when the <xref:System.Web.ClientServices.ConnectivityStatus.IsOffline%2A> property has been set to `true`.</span></span>  
  
3.  <span data-ttu-id="d067f-157">Marque ou desmarque **Requer que os usuários façam logon novamente sempre que o cookie de servidor expira**.</span><span class="sxs-lookup"><span data-stu-id="d067f-157">Select or clear **Require users to log on again whenever the server cookie expires**.</span></span> <span data-ttu-id="d067f-158">O cookie de autenticação é configurado no serviço remoto e indica quanto tempo o logon do usuário permanecerá ativo.</span><span class="sxs-lookup"><span data-stu-id="d067f-158">The authentication cookie is configured on the remote service, and indicates how long a user's login will remain active.</span></span> <span data-ttu-id="d067f-159">Para obter mais informações sobre como configurar o cookie, consulte o atributo `timeout` no [Elemento forms para autenticação (Esquema de Definições do ASP.NET)](http://msdn.microsoft.com/en-us/8163b8b5-ea6c-46c8-b5a9-c4c3de31c0b3).</span><span class="sxs-lookup"><span data-stu-id="d067f-159">For more information about how to configure the cookie, see the `timeout` attribute in [forms Element for authentication (ASP.NET Settings Schema)](http://msdn.microsoft.com/en-us/8163b8b5-ea6c-46c8-b5a9-c4c3de31c0b3).</span></span>  
  
     <span data-ttu-id="d067f-160">Se você selecionar essa opção, tentar acessar as funções remotas ou os serviços de configurações da Web, após o cookie de autenticação ter expirado, irá gerar uma <xref:System.Net.WebException>.</span><span class="sxs-lookup"><span data-stu-id="d067f-160">If you select this option, attempting to access the remote roles or Web settings services after the authentication cookie has expired will throw a <xref:System.Net.WebException>.</span></span> <span data-ttu-id="d067f-161">Você pode tratar essa exceção e exibir uma caixa de diálogo de logon para revalidar os usuários.</span><span class="sxs-lookup"><span data-stu-id="d067f-161">You can handle this exception and display a login dialog box to revalidate users.</span></span> <span data-ttu-id="d067f-162">Para obter um exemplo desse comportamento, consulte [Instruções passo a passo: usando serviços de aplicativo cliente](../../../docs/framework/common-client-technologies/walkthrough-using-client-application-services.md).</span><span class="sxs-lookup"><span data-stu-id="d067f-162">For an example of this behavior, see [Walkthrough: Using Client Application Services](../../../docs/framework/common-client-technologies/walkthrough-using-client-application-services.md).</span></span> <span data-ttu-id="d067f-163">Essa opção é útil para aplicativos implantados em locais públicos, para garantir que os usuários que deixam o aplicativo em execução após o uso não permanecerão autenticados indefinidamente.</span><span class="sxs-lookup"><span data-stu-id="d067f-163">This option is useful for applications deployed in public locations to make sure that users who leave the application running after use will not remain authenticated indefinitely.</span></span>  
  
     <span data-ttu-id="d067f-164">Se você desmarcar essa opção e tentar acessar os serviços remotos após o cookie de autenticação ter expirado, os usuários serão revalidados automaticamente.</span><span class="sxs-lookup"><span data-stu-id="d067f-164">If you clear this option and attempt to access the remote services after the authentication cookie has expired, users will be revalidated automatically.</span></span>  
  
4.  <span data-ttu-id="d067f-165">Especifique um valor para **Tempo limite de cache do serviço de função**.</span><span class="sxs-lookup"><span data-stu-id="d067f-165">Specify a value for **Role service cache timeout**.</span></span> <span data-ttu-id="d067f-166">Defina esse intervalo de tempo como um valor pequeno quando as funções forem atualizadas com frequência ou como um valor maior quando as funções forem raramente atualizadas.</span><span class="sxs-lookup"><span data-stu-id="d067f-166">Set this time interval to a small value when roles are updated frequently or to a larger value when roles are updated infrequently.</span></span> <span data-ttu-id="d067f-167">Se você implementar o modo offline, defina o intervalo de tempo como um valor grande para impedir que as informações sobre a função expirem enquanto o aplicativo estiver offline.</span><span class="sxs-lookup"><span data-stu-id="d067f-167">If you implement offline mode, set the time interval to a large value to prevent the role information from expiring while the application is offline.</span></span>  
  
     <span data-ttu-id="d067f-168">O provedor de função acessa os valores de função em cache ou o serviço de funções quando você chama o método <xref:System.Web.Security.RolePrincipal.IsInRole%2A>.</span><span class="sxs-lookup"><span data-stu-id="d067f-168">The role provider accesses the cached role values or the roles service when you call the <xref:System.Web.Security.RolePrincipal.IsInRole%2A> method.</span></span> <span data-ttu-id="d067f-169">Para redefinir de forma programática o cache e forçar esse método a acessar o serviço remoto, chame o método <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ResetCache%2A>.</span><span class="sxs-lookup"><span data-stu-id="d067f-169">To programmatically reset the cache and force this method to access the remote service, call the <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ResetCache%2A> method.</span></span>  
  
5.  <span data-ttu-id="d067f-170">Marque ou desmarque **Usar cadeia de conexão personalizada**.</span><span class="sxs-lookup"><span data-stu-id="d067f-170">Select or clear **Use custom connection string**.</span></span> <span data-ttu-id="d067f-171">Para obter mais informações, consulte o procedimento a seguir.</span><span class="sxs-lookup"><span data-stu-id="d067f-171">For more information, see the next procedure.</span></span>  
  
#### <a name="to-configure-client-application-services-to-use-a-database-for-the-local-cache"></a><span data-ttu-id="d067f-172">Para configurar os serviços do aplicativo cliente para usar um banco de dados para o cache local</span><span class="sxs-lookup"><span data-stu-id="d067f-172">To configure client application services to use a database for the local cache</span></span>  
  
1.  <span data-ttu-id="d067f-173">Na página **Serviços** do **Designer de Projeto**, clique em **Avançado**.</span><span class="sxs-lookup"><span data-stu-id="d067f-173">On the **Services** page of the **Project Designer**, click **Advanced**.</span></span>  
  
     <span data-ttu-id="d067f-174">A caixa de diálogo **Configurações Avançadas para Serviços** é exibida.</span><span class="sxs-lookup"><span data-stu-id="d067f-174">The **Advanced Settings for Services** dialog box appears.</span></span>  
  
2.  <span data-ttu-id="d067f-175">Selecione **Usar cadeia de conexão personalizada**.</span><span class="sxs-lookup"><span data-stu-id="d067f-175">Select **Use custom connection string**.</span></span>  
  
     <span data-ttu-id="d067f-176">O valor padrão de `Data Source = |SQL/CE|` é exibido na caixa de texto.</span><span class="sxs-lookup"><span data-stu-id="d067f-176">The default value of `Data Source = |SQL/CE|` appears in the text box.</span></span>  
  
3.  <span data-ttu-id="d067f-177">Para gerar e usar um banco de dados do SQL Server Compact, mantenha o valor de cadeia de conexão padrão.</span><span class="sxs-lookup"><span data-stu-id="d067f-177">To generate and use a SQL Server Compact database, keep the default connection string value.</span></span> [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)]<span data-ttu-id="d067f-178"> gerará um arquivo de banco de dados e o colocará no diretório indicado pela propriedade <xref:System.Windows.Forms.Application.UserAppDataPath%2A?displayProperty=fullName>.</span><span class="sxs-lookup"><span data-stu-id="d067f-178"> will generate a database file and put it in the directory indicated by the <xref:System.Windows.Forms.Application.UserAppDataPath%2A?displayProperty=fullName> property.</span></span>  
  
4.  <span data-ttu-id="d067f-179">Para gerar e usar um banco de dados [!INCLUDE[ssEW](../../../includes/ssew-md.md)] criptografado, adicione os valores `password` e `encrypt database` à sequência de conexão, conforme mostrado no exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="d067f-179">To generate and use an encrypted [!INCLUDE[ssEW](../../../includes/ssew-md.md)] database, add `password` and `encrypt database` values to the connection string as shown in the following example.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="d067f-180">Certifique-se de especificar uma senha forte.</span><span class="sxs-lookup"><span data-stu-id="d067f-180">Be sure to specify a strong password.</span></span> <span data-ttu-id="d067f-181">Você não pode alterar a senha depois que o banco de dados for gerado.</span><span class="sxs-lookup"><span data-stu-id="d067f-181">You cannot change the password after the database is generated.</span></span>  
  
    ```  
    Data Source = |SQL/CE|;password=<password>;encrypt database=true  
    ```  
  
5.  <span data-ttu-id="d067f-182">Para usar seu próprio banco de dados [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], especifique sua própria sequência de conexão.</span><span class="sxs-lookup"><span data-stu-id="d067f-182">To use your own [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database, specify your own connection string.</span></span> <span data-ttu-id="d067f-183">Para obter informações sobre formatos de sequências de conexão válidos, consulte a documentação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d067f-183">For information about valid connection string formats, see the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] documentation.</span></span> <span data-ttu-id="d067f-184">Esse banco de dados não é gerado automaticamente.</span><span class="sxs-lookup"><span data-stu-id="d067f-184">This database is not generated automatically.</span></span> <span data-ttu-id="d067f-185">A sequência de conexão deve se referir a um banco de dados existente que você pode criar usando as instruções SQL a seguir.</span><span class="sxs-lookup"><span data-stu-id="d067f-185">The connection string must refer to an existing database that you can create using the following SQL statements.</span></span>  
  
    ```  
    CREATE TABLE ApplicationProperties (PropertyName nvarchar(256),  
        PropertyValue nvarchar(256))  
    CREATE TABLE UserProperties (PropertyName nvarchar(256),  
        PropertyValue nvarchar(256))  
    CREATE TABLE Roles (UserName nvarchar(256),   
        RoleName nvarchar(256))  
    CREATE TABLE Settings (PropertyName nvarchar(256),   
        PropertyStoredAs nvarchar(1), PropertyValue nvarchar(2048))  
    ```  
  
## <a name="using-custom-providers"></a><span data-ttu-id="d067f-186">Usando provedores personalizados</span><span class="sxs-lookup"><span data-stu-id="d067f-186">Using Custom Providers</span></span>  
 <span data-ttu-id="d067f-187">Por padrão, o recurso de serviços do aplicativo cliente usa os provedores no namespace <xref:System.Web.ClientServices.Providers?displayProperty=fullName>.</span><span class="sxs-lookup"><span data-stu-id="d067f-187">By default, the client application services feature uses the providers in the <xref:System.Web.ClientServices.Providers?displayProperty=fullName> namespace.</span></span> <span data-ttu-id="d067f-188">Quando você configura seu aplicativo usando a página **Serviços** do **Designer de Projeto**, referências a esses provedores são adicionadas ao seu arquivo App.config.</span><span class="sxs-lookup"><span data-stu-id="d067f-188">When you configure your application by using the **Services** page of the **Project Designer**, references to these providers are added to your App.config file.</span></span> <span data-ttu-id="d067f-189">Esses provedores padrão acessam provedores correspondentes no servidor.</span><span class="sxs-lookup"><span data-stu-id="d067f-189">These default providers access corresponding providers on the server.</span></span> <span data-ttu-id="d067f-190">Os serviços da Web são geralmente configurados para acessar dados do usuário por meio de provedores como <xref:System.Web.Security.SqlMembershipProvider> e <xref:System.Web.Security.SqlRoleProvider>.</span><span class="sxs-lookup"><span data-stu-id="d067f-190">Web services are often configured to access user data through providers such as <xref:System.Web.Security.SqlMembershipProvider> and <xref:System.Web.Security.SqlRoleProvider>.</span></span>  
  
 <span data-ttu-id="d067f-191">Se desejar usar provedores de serviço personalizado, você normalmente alterará os provedores no lado do servidor para que eles afetem todos os aplicativos cliente que acessam o servidor.</span><span class="sxs-lookup"><span data-stu-id="d067f-191">If you want to use custom service providers, you will typically change the providers on the server side so that they affect all client applications that access the server.</span></span> <span data-ttu-id="d067f-192">No entanto, você tem a opção de usar provedores não padrão no lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="d067f-192">However, you do have the option of using non-default providers on the client side.</span></span> <span data-ttu-id="d067f-193">Você pode especificar provedores de autenticação ou de funções personalizados no arquivo App.config do seu projeto, conforme mostrado no procedimento a seguir.</span><span class="sxs-lookup"><span data-stu-id="d067f-193">You can specify custom authentication or roles providers in your project's App.config file, as shown in the following procedure.</span></span> <span data-ttu-id="d067f-194">Para obter informações sobre como criar provedores de função e de autenticação personalizada, consulte [Implementando um Provedor de Associação](http://msdn.microsoft.com/library/d8658b8e-c962-4f64-95e1-4acce35e4582) e [Implementar um provedor de função](http://msdn.microsoft.com/library/851671ce-bf9b-43f2-aba4-bc9d28b11c7d).</span><span class="sxs-lookup"><span data-stu-id="d067f-194">For information about how to create custom authentication and role providers, see [Implementing a Membership Provider](http://msdn.microsoft.com/library/d8658b8e-c962-4f64-95e1-4acce35e4582) and [Implementing a Role Provider](http://msdn.microsoft.com/library/851671ce-bf9b-43f2-aba4-bc9d28b11c7d).</span></span> <span data-ttu-id="d067f-195">Também é possível usar um provedor de configurações personalizado, modificando a classe `Settings` do seu projeto (acessada como `Properties.Settings.Default` em C# e `My.Settings` em [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]).</span><span class="sxs-lookup"><span data-stu-id="d067f-195">You can also use a custom settings provider by modifying your project's `Settings` class (accessed as `Properties.Settings.Default` in C# and `My.Settings` in [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]).</span></span> <span data-ttu-id="d067f-196">Para obter mais informações, consulte [Application Settings Architecture](../../../docs/framework/winforms/advanced/application-settings-architecture.md) (Arquitetura das configurações do aplicativo).</span><span class="sxs-lookup"><span data-stu-id="d067f-196">For more information, see [Application Settings Architecture](../../../docs/framework/winforms/advanced/application-settings-architecture.md).</span></span>  
  
#### <a name="to-configure-client-application-services-to-use-non-default-providers"></a><span data-ttu-id="d067f-197">Para configurar os serviços do aplicativo cliente para usar provedores não padrão</span><span class="sxs-lookup"><span data-stu-id="d067f-197">To configure client application services to use non-default providers</span></span>  
  
1.  <span data-ttu-id="d067f-198">Para usar um provedor de serviços de autenticação ou de funções não padrão, primeiro conclua todas as outras definições de configuração usando a página **Serviços**.</span><span class="sxs-lookup"><span data-stu-id="d067f-198">To use a non-default authentication or roles service provider, first complete all other configuration settings by using the **Services** page.</span></span>  
  
2.  <span data-ttu-id="d067f-199">Feche o **Designer de Projeto**.</span><span class="sxs-lookup"><span data-stu-id="d067f-199">Close the **Project Designer**.</span></span> <span data-ttu-id="d067f-200">Isso é necessário porque a página **Serviços** atualizará automaticamente o arquivo App.config mesmo se você não modificar as configurações.</span><span class="sxs-lookup"><span data-stu-id="d067f-200">This is necessary because the **Services** page will automatically update your App.config file even if you do not modify any settings.</span></span> <span data-ttu-id="d067f-201">Se você modificar manualmente o arquivo App.config, conforme descrito neste procedimento e, em seguida, retornar à página **Serviços**, suas modificações serão redefinidas.</span><span class="sxs-lookup"><span data-stu-id="d067f-201">If you manually modify your App.config file as described in this procedure and then return to the **Services** page, your modifications will be reset.</span></span>  
  
3.  <span data-ttu-id="d067f-202">No **Gerenciador de Soluções**, clique duas vezes em App.config.</span><span class="sxs-lookup"><span data-stu-id="d067f-202">In **Solution Explorer**, double-click App.config.</span></span>  
  
     <span data-ttu-id="d067f-203">O arquivo de configuração do aplicativo é aberto no editor de texto.</span><span class="sxs-lookup"><span data-stu-id="d067f-203">The application configuration file opens in the text editor.</span></span>  
  
4.  <span data-ttu-id="d067f-204">Encontre o elemento `<providers>` dentro do elemento `<membership>` ou `<roleManager>`.</span><span class="sxs-lookup"><span data-stu-id="d067f-204">Find the `<providers>` element within the `<membership>` or `<roleManager>` element.</span></span> <span data-ttu-id="d067f-205">Esses elementos são filhos do elemento `<system.web>`.</span><span class="sxs-lookup"><span data-stu-id="d067f-205">These elements are children of the `<system.web>` element.</span></span> <span data-ttu-id="d067f-206">O elemento `<membership>` é usado para especificar provedores de autenticação e o elemento `<roleManager>` é usado para especificar os provedores de função.</span><span class="sxs-lookup"><span data-stu-id="d067f-206">The `<membership>` element is used to specify authentication providers, and the `<roleManager>` element is used to specify role providers.</span></span>  
  
5.  <span data-ttu-id="d067f-207">Adicione um elemento `<add>` como um filho do elemento `<providers>`.</span><span class="sxs-lookup"><span data-stu-id="d067f-207">Add an `<add>` element as a child of the `<providers>` element.</span></span> <span data-ttu-id="d067f-208">Você deve especificar os atributos `name` e `type`, conforme mostrado no exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="d067f-208">You must specify `name` and `type` attributes as shown in the following example.</span></span> <span data-ttu-id="d067f-209">O valor do atributo `type` deve ser um nome de tipo qualificado do assembly.</span><span class="sxs-lookup"><span data-stu-id="d067f-209">The `type` attribute value must be an assembly-qualified type name.</span></span> <span data-ttu-id="d067f-210">Para obter mais informações, consulte <xref:System.Type.AssemblyQualifiedName%2A?displayProperty=fullName> e [Assembly Names](../../../docs/framework/app-domains/assembly-names.md) (Nomes de assembly).</span><span class="sxs-lookup"><span data-stu-id="d067f-210">For more information, see <xref:System.Type.AssemblyQualifiedName%2A?displayProperty=fullName> and [Assembly Names](../../../docs/framework/app-domains/assembly-names.md).</span></span>  
  
    ```xml  
    <add name="MyCustomRoleProvider" type="MyNamespace.MyRoleProvider, MyAssembly" />  
    ```  
  
6.  <span data-ttu-id="d067f-211">Modifique o atributo `defaultProvider` do elemento `<membership>` ou `<roleManager>` para especificar o valor do nome do elemento `<add>` adicionado na etapa anterior.</span><span class="sxs-lookup"><span data-stu-id="d067f-211">Modify the `defaultProvider` attribute of the `<membership>` or `<roleManager>` element to specify the name value from the `<add>` element that you added in the previous step.</span></span>  
  
    ```xml  
    <roleManager enabled="true" defaultProvider="MyCustomRoleProvider">  
    ```  
  
## <a name="see-also"></a><span data-ttu-id="d067f-212">Consulte também</span><span class="sxs-lookup"><span data-stu-id="d067f-212">See Also</span></span>  
 <span data-ttu-id="d067f-213">[Serviços de aplicativo cliente](../../../docs/framework/common-client-technologies/client-application-services.md) </span><span class="sxs-lookup"><span data-stu-id="d067f-213">[Client Application Services](../../../docs/framework/common-client-technologies/client-application-services.md) </span></span>  
 <span data-ttu-id="d067f-214">[Visão geral dos serviços de aplicativo cliente](../../../docs/framework/common-client-technologies/client-application-services-overview.md) </span><span class="sxs-lookup"><span data-stu-id="d067f-214">[Client Application Services Overview](../../../docs/framework/common-client-technologies/client-application-services-overview.md) </span></span>  
 <span data-ttu-id="d067f-215">[Página Serviços, Designer de Projeto](https://msdn.microsoft.com/library/bb398109) </span><span class="sxs-lookup"><span data-stu-id="d067f-215">[Services Page, Project Designer](https://msdn.microsoft.com/library/bb398109) </span></span>  
 <span data-ttu-id="d067f-216">[Configurações Avançadas para a Caixa de Diálogo Serviços](/visualstudio/ide/reference/advanced-settings-for-services-dialog-box) </span><span class="sxs-lookup"><span data-stu-id="d067f-216">[Advanced Settings for Services Dialog Box](/visualstudio/ide/reference/advanced-settings-for-services-dialog-box) </span></span>  
 <span data-ttu-id="d067f-217">[Como implementar o logon do usuário com os serviços de aplicativo cliente](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md) </span><span class="sxs-lookup"><span data-stu-id="d067f-217">[How to: Implement User Login with Client Application Services](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md) </span></span>  
 <span data-ttu-id="d067f-218">[Instruções passo a passo: usando serviços de aplicativo cliente](../../../docs/framework/common-client-technologies/walkthrough-using-client-application-services.md) </span><span class="sxs-lookup"><span data-stu-id="d067f-218">[Walkthrough: Using Client Application Services](../../../docs/framework/common-client-technologies/walkthrough-using-client-application-services.md) </span></span>  
 <span data-ttu-id="d067f-219">[Implementando um provedor de associação](http://msdn.microsoft.com/library/d8658b8e-c962-4f64-95e1-4acce35e4582) </span><span class="sxs-lookup"><span data-stu-id="d067f-219">[Implementing a Membership Provider](http://msdn.microsoft.com/library/d8658b8e-c962-4f64-95e1-4acce35e4582) </span></span>  
 <span data-ttu-id="d067f-220">[Implementando um provedor de função](http://msdn.microsoft.com/library/851671ce-bf9b-43f2-aba4-bc9d28b11c7d) </span><span class="sxs-lookup"><span data-stu-id="d067f-220">[Implementing a Role Provider](http://msdn.microsoft.com/library/851671ce-bf9b-43f2-aba4-bc9d28b11c7d) </span></span>  
 <span data-ttu-id="d067f-221">[Arquitetura das Configurações do Aplicativo](../../../docs/framework/winforms/advanced/application-settings-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="d067f-221">[Application Settings Architecture](../../../docs/framework/winforms/advanced/application-settings-architecture.md) </span></span>  
 [<span data-ttu-id="d067f-222">Criando e configurando o banco de dados dos serviços de aplicativos para o SQL Server</span><span class="sxs-lookup"><span data-stu-id="d067f-222">Creating and Configuring the Application Services Database for SQL Server</span></span>](http://msdn.microsoft.com/library/ab894e83-7e2f-4af8-a116-b1bff8f815b2)

