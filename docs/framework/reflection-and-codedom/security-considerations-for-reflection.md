---
title: Considerações sobre segurança relacionadas à reflexão
description: Saiba mais sobre as considerações de segurança para reflexão no .NET. Obter informações sobre tipos e membros é permitido, mas acessar membros tem restrições.
ms.date: 03/30/2017
helpviewer_keywords:
- permissions [.NET Framework], reflection
- MethodInfo parameters
- reflection, security
- partial trust,reflection
- nonpublic members
- reflection,partial trust
- link demands
ms.assetid: 42d9dc2a-8fcc-4ff3-b002-4ff260ef3dc5
ms.openlocfilehash: 9ef2ac4897b3f8c48a0b0f402ab06eb073a5c1fa
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/15/2020
ms.locfileid: "90556330"
---
# <a name="security-considerations-for-reflection"></a><span data-ttu-id="9f852-104">Considerações sobre segurança relacionadas à reflexão</span><span class="sxs-lookup"><span data-stu-id="9f852-104">Security Considerations for Reflection</span></span>

<span data-ttu-id="9f852-105">A reflexão fornece a capacidade de obter informações sobre tipos e membros e de acessar membros (ou seja, chamar métodos e construtores, obter e definir valores de propriedade, adicionar e remover manipuladores de eventos e assim por diante).</span><span class="sxs-lookup"><span data-stu-id="9f852-105">Reflection provides the ability to obtain information about types and members, and to access members (that is, to call methods and constructors, to get and set property values, to add and remove event handlers, and so on).</span></span> <span data-ttu-id="9f852-106">O uso da reflexão para obter informações sobre tipos e membros não é restrito.</span><span class="sxs-lookup"><span data-stu-id="9f852-106">The use of reflection to obtain information about types and members is not restricted.</span></span> <span data-ttu-id="9f852-107">Todo o código pode usar reflexões para realizar as seguintes tarefas:</span><span class="sxs-lookup"><span data-stu-id="9f852-107">All code can use reflection to perform the following tasks:</span></span>

- <span data-ttu-id="9f852-108">Enumere os tipos e membros, e examine seus metadados.</span><span class="sxs-lookup"><span data-stu-id="9f852-108">Enumerate types and members, and examine their metadata.</span></span>

- <span data-ttu-id="9f852-109">Enumerar e examine os módulos e assemblies.</span><span class="sxs-lookup"><span data-stu-id="9f852-109">Enumerate and examine assemblies and modules.</span></span>

<span data-ttu-id="9f852-110">Usar reflexão para acessar membros está, por outro lado, sujeitos a restrições.</span><span class="sxs-lookup"><span data-stu-id="9f852-110">Using reflection to access members, by contrast, is subject to restrictions.</span></span> <span data-ttu-id="9f852-111">A partir do .NET Framework 4, somente código confiável pode usar reflexão para acessar membros críticos para segurança.</span><span class="sxs-lookup"><span data-stu-id="9f852-111">Beginning with the .NET Framework 4, only trusted code can use reflection to access security-critical members.</span></span> <span data-ttu-id="9f852-112">Além disso, somente o confiável pode usar reflexão para acessar membros não públicos que não estariam diretamente acessíveis em código compilado.</span><span class="sxs-lookup"><span data-stu-id="9f852-112">Furthermore, only trusted code can use reflection to access nonpublic members that would not be directly accessible to compiled code.</span></span> <span data-ttu-id="9f852-113">Por fim, o código que usa reflexão para acessar um membro crítico para segurança deve ter as devidas permissões exigidas pelo membro crítico para segurança, assim como com código compilado.</span><span class="sxs-lookup"><span data-stu-id="9f852-113">Finally, code that uses reflection to access a safe-critical member must have whatever permissions the safe-critical member demands, just as with compiled code.</span></span>

<span data-ttu-id="9f852-114">O código pode usar reflexão para realizar os seguintes tipos de acesso, sujeito às permissões necessárias:</span><span class="sxs-lookup"><span data-stu-id="9f852-114">Subject to necessary permissions, code can use reflection to perform the following kinds of access:</span></span>

- <span data-ttu-id="9f852-115">Acesse os membros públicos que não são críticos para segurança.</span><span class="sxs-lookup"><span data-stu-id="9f852-115">Access public members that are not security-critical.</span></span>

- <span data-ttu-id="9f852-116">Acessar membros não públicos que estariam acessíveis ao código compilado, se tais membros não fossem críticos para segurança.</span><span class="sxs-lookup"><span data-stu-id="9f852-116">Access nonpublic members that would be accessible to compiled code, if those members are not security-critical.</span></span> <span data-ttu-id="9f852-117">Exemplos de tais membros não públicos:</span><span class="sxs-lookup"><span data-stu-id="9f852-117">Examples of such nonpublic members include:</span></span>

  - <span data-ttu-id="9f852-118">Membros protegidos de classes base do código de chamada.</span><span class="sxs-lookup"><span data-stu-id="9f852-118">Protected members of the calling code's base classes.</span></span> <span data-ttu-id="9f852-119">(Na reflexão, isso é chamado de acesso de nível familiar.)</span><span class="sxs-lookup"><span data-stu-id="9f852-119">(In reflection, this is referred to as family-level access.)</span></span>

  - <span data-ttu-id="9f852-120">Membros `internal` (membros `Friend` no Visual Basic) no assembly do código de chamada.</span><span class="sxs-lookup"><span data-stu-id="9f852-120">`internal` members (`Friend` members in Visual Basic) in the calling code's assembly.</span></span> <span data-ttu-id="9f852-121">(Na reflexão, isso é chamado de acesso no nível do assembly.)</span><span class="sxs-lookup"><span data-stu-id="9f852-121">(In reflection, this is referred to as assembly-level access.)</span></span>

  - <span data-ttu-id="9f852-122">Membros privados de outras instâncias da classe que contém o código de chamada.</span><span class="sxs-lookup"><span data-stu-id="9f852-122">Private members of other instances of the class that contains the calling code.</span></span>

<span data-ttu-id="9f852-123">Por exemplo, o código que é executado em um domínio do aplicativo em área restrita é limitado ao acesso descrito nesta lista, a menos que o domínio do aplicativo conceda permissões adicionais.</span><span class="sxs-lookup"><span data-stu-id="9f852-123">For example, code that is run in a sandboxed application domain is limited to the access described in this list, unless the application domain grants additional permissions.</span></span>

<span data-ttu-id="9f852-124">A partir do .NET Framework 2.0 Service Pack 1, tentar acessar membros que normalmente não podem ser acessados gera uma demanda para o conjunto de concessões do objeto de destino mais <xref:System.Security.Permissions.ReflectionPermission> com o sinalizador <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="9f852-124">Starting with the .NET Framework 2.0 Service Pack 1, attempting to access members that are normally inaccessible generates a demand for the grant set of the target object plus <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag.</span></span> <span data-ttu-id="9f852-125">Código que está sendo executado com confiança total (por exemplo, o código em um aplicativo que é iniciado da linha de comando) sempre pode atender a essas permissões.</span><span class="sxs-lookup"><span data-stu-id="9f852-125">Code that is running with full trust (for example, code in an application that is launched from the command line) can always satisfy these permissions.</span></span> <span data-ttu-id="9f852-126">(Isso é sujeito às limitações de acesso a membros de críticos para segurança, conforme descrito mais adiante neste artigo.)</span><span class="sxs-lookup"><span data-stu-id="9f852-126">(This is subject to limitations in accessing security-critical members, as described later in this article.)</span></span>

<span data-ttu-id="9f852-127">Como opção, um domínio do aplicativo em área restrita pode conceder <xref:System.Security.Permissions.ReflectionPermission> com o sinalizador <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType>, conforme descrito na seção [Acessando membros que são normalmente inacessíveis](#accessingNormallyInaccessible), mais adiante neste artigo.</span><span class="sxs-lookup"><span data-stu-id="9f852-127">Optionally, a sandboxed application domain can grant <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag, as described in the section [Accessing Members That Are Normally Inaccessible](#accessingNormallyInaccessible), later in this article.</span></span>

<a name="accessingSecurityCritical"></a>

## <a name="accessing-security-critical-members"></a><span data-ttu-id="9f852-128">Acessando membros críticos para segurança</span><span class="sxs-lookup"><span data-stu-id="9f852-128">Accessing Security-Critical Members</span></span>

<span data-ttu-id="9f852-129">Um membro é crítico para segurança se ele tiver o <xref:System.Security.SecurityCriticalAttribute>, se ele pertencer a um tipo que tem o <xref:System.Security.SecurityCriticalAttribute> ou se ele está em um assembly crítico para segurança.</span><span class="sxs-lookup"><span data-stu-id="9f852-129">A member is security-critical if it has the <xref:System.Security.SecurityCriticalAttribute>, if it belongs to a type that has the <xref:System.Security.SecurityCriticalAttribute>, or if it is in a security-critical assembly.</span></span> <span data-ttu-id="9f852-130">A partir do .NET Framework 4, as regras para acessar membros críticos para segurança são as seguintes:</span><span class="sxs-lookup"><span data-stu-id="9f852-130">Beginning with the .NET Framework 4, the rules for accessing security-critical members are as follows:</span></span>

- <span data-ttu-id="9f852-131">O código transparente não pode usar reflexão para acessar membros críticos para segurança, mesmo que o código seja totalmente confiável.</span><span class="sxs-lookup"><span data-stu-id="9f852-131">Transparent code cannot use reflection to access security-critical members, even if the code is fully trusted.</span></span> <span data-ttu-id="9f852-132">Um <xref:System.MethodAccessException>, <xref:System.FieldAccessException> ou <xref:System.TypeAccessException> é gerado.</span><span class="sxs-lookup"><span data-stu-id="9f852-132">A <xref:System.MethodAccessException>, <xref:System.FieldAccessException>, or <xref:System.TypeAccessException> is thrown.</span></span>

- <span data-ttu-id="9f852-133">Código em execução com confiança parcial é tratado como transparente.</span><span class="sxs-lookup"><span data-stu-id="9f852-133">Code that is running with partial trust is treated as transparent.</span></span>

<span data-ttu-id="9f852-134">Essas regras são as mesmas se um membro crítico para segurança for acessado diretamente pelo código compilado ou por meio de reflexão.</span><span class="sxs-lookup"><span data-stu-id="9f852-134">These rules are the same whether a security-critical member is accessed directly by compiled code, or accessed by using reflection.</span></span>

<span data-ttu-id="9f852-135">Código de aplicativo que é executado da linha de comando é executado com confiança total.</span><span class="sxs-lookup"><span data-stu-id="9f852-135">Application code that is run from the command line runs with full trust.</span></span> <span data-ttu-id="9f852-136">Desde que não esteja marcado como transparente, ele pode usar reflexão para acessar membros críticos para segurança.</span><span class="sxs-lookup"><span data-stu-id="9f852-136">As long as it is not marked as transparent, it can use reflection to access security-critical members.</span></span> <span data-ttu-id="9f852-137">Quando o mesmo código é executado com confiança parcial (por exemplo, em um domínio do aplicativo em área restrita), o nível de confiança do assembly determina se ele pode acessar o código crítico para segurança: se o assembly tiver um nome forte e estiver instalado no cache de assembly global, ele é um assembly confiável e pode chamar membros crítico de segurança.</span><span class="sxs-lookup"><span data-stu-id="9f852-137">When the same code is run with partial trust (for example, in a sandboxed application domain) the assembly's trust level determines whether it can access security-critical code: If the assembly has a strong name and is installed in the global assembly cache, it is a trusted assembly and can call security-critical members.</span></span> <span data-ttu-id="9f852-138">Se não for confiável, ele se tornará transparente mesmo se não for marcado como transparente e não poderá acessar membros críticos para segurança.</span><span class="sxs-lookup"><span data-stu-id="9f852-138">If it is not trusted, it becomes transparent even though it was not marked as transparent, and it cannot access security-critical members.</span></span>

<span data-ttu-id="9f852-139">Para obter mais informações sobre o modelo de segurança no .NET Framework 4, consulte [Alterações de Segurança](/previous-versions/dotnet/framework/security/security-changes).</span><span class="sxs-lookup"><span data-stu-id="9f852-139">For more information about the security model in the .NET Framework 4, see [Security Changes](/previous-versions/dotnet/framework/security/security-changes).</span></span>

## <a name="reflection-and-transparency"></a><span data-ttu-id="9f852-140">Reflexão e transparência</span><span class="sxs-lookup"><span data-stu-id="9f852-140">Reflection and Transparency</span></span>

<span data-ttu-id="9f852-141">Do .NET Framework 4 em diante, o Common Language Runtime determina o nível de transparência de um tipo ou membro de vários fatores, incluindo o nível de confiança do assembly e o nível de confiança do domínio do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9f852-141">Beginning with the .NET Framework 4, the common language runtime determines the transparency level of a type or member from several factors, including the trust level of the assembly and the trust level of the application domain.</span></span> <span data-ttu-id="9f852-142">A reflexão fornece as propriedades <xref:System.Type.IsSecurityCritical%2A>, <xref:System.Type.IsSecuritySafeCritical%2A> e <xref:System.Type.IsSecurityTransparent%2A> para que você possa descobrir o nível de transparência de um tipo.</span><span class="sxs-lookup"><span data-stu-id="9f852-142">Reflection provides the <xref:System.Type.IsSecurityCritical%2A>, <xref:System.Type.IsSecuritySafeCritical%2A>, and <xref:System.Type.IsSecurityTransparent%2A> properties to enable you to discover the transparency level of a type.</span></span> <span data-ttu-id="9f852-143">A tabela a seguir mostra as combinações válidas dessas propriedades.</span><span class="sxs-lookup"><span data-stu-id="9f852-143">The following table shows the valid combinations of these properties.</span></span>

|<span data-ttu-id="9f852-144">Nível de segurança</span><span class="sxs-lookup"><span data-stu-id="9f852-144">Security level</span></span>|<span data-ttu-id="9f852-145">IsSecurityCritical</span><span class="sxs-lookup"><span data-stu-id="9f852-145">IsSecurityCritical</span></span>|<span data-ttu-id="9f852-146">IsSecuritySafeCritical</span><span class="sxs-lookup"><span data-stu-id="9f852-146">IsSecuritySafeCritical</span></span>|<span data-ttu-id="9f852-147">IsSecurityTransparent</span><span class="sxs-lookup"><span data-stu-id="9f852-147">IsSecurityTransparent</span></span>|
|--------------------|------------------------|----------------------------|---------------------------|
|<span data-ttu-id="9f852-148">Crítico</span><span class="sxs-lookup"><span data-stu-id="9f852-148">Critical</span></span>|`true`|`false`|`false`|
|<span data-ttu-id="9f852-149">Crítico para segurança</span><span class="sxs-lookup"><span data-stu-id="9f852-149">Safe-critical</span></span>|`true`|`true`|`false`|
|<span data-ttu-id="9f852-150">Transparente</span><span class="sxs-lookup"><span data-stu-id="9f852-150">Transparent</span></span>|`false`|`false`|`true`|

<span data-ttu-id="9f852-151">Usar essas propriedade é muito mais simples que examinar as anotações de segurança de um assembly e seus tipos, verificando o nível de confiança atual e tentando duplicar as regras do runtime.</span><span class="sxs-lookup"><span data-stu-id="9f852-151">Using these properties is much simpler than examining the security annotations of an assembly and its types, checking the current trust level, and attempting to duplicate the runtime's rules.</span></span> <span data-ttu-id="9f852-152">Por exemplo, o mesmo tipo pode ser crítico para segurança quando é executado da linha de comando ou transparente de segurança quando é executado em um domínio do aplicativo em área restrita.</span><span class="sxs-lookup"><span data-stu-id="9f852-152">For example, the same type can be security-critical when it is run from the command line, or security-transparent when it is run in a sandboxed application domain.</span></span>

<span data-ttu-id="9f852-153">Há propriedades semelhantes nas classes <xref:System.Reflection.MethodBase>, <xref:System.Reflection.FieldInfo>, <xref:System.Reflection.Emit.TypeBuilder>, <xref:System.Reflection.Emit.MethodBuilder> e <xref:System.Reflection.Emit.DynamicMethod>.</span><span class="sxs-lookup"><span data-stu-id="9f852-153">There are similar properties on the <xref:System.Reflection.MethodBase>, <xref:System.Reflection.FieldInfo>, <xref:System.Reflection.Emit.TypeBuilder>, <xref:System.Reflection.Emit.MethodBuilder>, and <xref:System.Reflection.Emit.DynamicMethod> classes.</span></span> <span data-ttu-id="9f852-154">(Para outras reflexão e abstrações de emissão de reflexão, os atributos de segurança são aplicados aos métodos associados; por exemplo, no caso de propriedades que são aplicadas aos acessadores de propriedade).</span><span class="sxs-lookup"><span data-stu-id="9f852-154">(For other reflection and reflection emit abstractions, security attributes are applied to the associated methods; for example, in the case of properties they are applied to the property accessors.)</span></span>

<a name="accessingNormallyInaccessible"></a>

## <a name="accessing-members-that-are-normally-inaccessible"></a><span data-ttu-id="9f852-155">Acessando membros que são normalmente inacessíveis</span><span class="sxs-lookup"><span data-stu-id="9f852-155">Accessing Members That Are Normally Inaccessible</span></span>

<span data-ttu-id="9f852-156">Para usar a reflexão para invocar os membros que podem ser acessados de acordo com as regras de acessibilidade do Common Language Runtime, o código deve receber uma das duas permissões:</span><span class="sxs-lookup"><span data-stu-id="9f852-156">To use reflection to invoke members that are inaccessible according to the accessibility rules of the common language runtime, your code must be granted one of two permissions:</span></span>

- <span data-ttu-id="9f852-157">Para permitir que o código invoque qualquer membro não público: seu código deve receber a concessão de <xref:System.Security.Permissions.ReflectionPermission> com o sinalizador <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="9f852-157">To allow code to invoke any nonpublic member:Your code must be granted <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag.</span></span>

  > [!NOTE]
  > <span data-ttu-id="9f852-158">Por padrão, a política de segurança nega essa permissão para código originado da Internet.</span><span class="sxs-lookup"><span data-stu-id="9f852-158">By default, security policy denies this permission to code that originates from the Internet.</span></span> <span data-ttu-id="9f852-159">Essa permissão nunca deve ser concedida o código originado da Internet.</span><span class="sxs-lookup"><span data-stu-id="9f852-159">This permission should never be granted to code that originates from the Internet.</span></span>

- <span data-ttu-id="9f852-160">Para permitir que o código invoque qualquer membro não público, desde que o conjunto de concessões do assembly que contém o membro chamado seja o mesmo ou um subconjunto do conjunto de concessões do assembly que contém a invocação de código: seu código deve receber a concessão de <xref:System.Security.Permissions.ReflectionPermission> com o sinalizador <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="9f852-160">To allow code to invoke any nonpublic member, as long as the grant set of the assembly that contains the invoked member is the same as, or a subset of, the grant set of the assembly that contains the invoking code: Your code must be granted <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag.</span></span>

<span data-ttu-id="9f852-161">Por exemplo, suponha que você concedeu permissões da Internet a um domínio do aplicativo mais <xref:System.Security.Permissions.ReflectionPermission> com o sinalizador <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> e, em seguida, executou um aplicativo da Internet com dois assemblies, A e B.</span><span class="sxs-lookup"><span data-stu-id="9f852-161">For example, suppose you grant an application domain Internet permissions plus <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag, and then run an Internet application with two assemblies, A and B.</span></span>

- <span data-ttu-id="9f852-162">O assembly A pode usar reflexão para acessar membros particulares do assembly B, pois o conjunto de concessões do assembly B não inclui permissões que não foram concedidas a A.</span><span class="sxs-lookup"><span data-stu-id="9f852-162">Assembly A can use reflection to access private members of assembly B, because the grant set of assembly B does not include any permissions that A has not been granted.</span></span>

- <span data-ttu-id="9f852-163">O assembly A não pode usar a reflexão para acessar membros particulares de assemblies do .NET Framework como mscorlib.dll, pois mscorlib.dll é totalmente confiável e, portanto, tem permissões que não foram concedidas ao assembly A. Um <xref:System.MemberAccessException> é gerado quando a segurança de acesso do código percorre a pilha no tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="9f852-163">Assembly A cannot use reflection to access private members of .NET Framework assemblies such as mscorlib.dll, because mscorlib.dll is fully trusted and therefore has permissions that have not been granted to assembly A. A <xref:System.MemberAccessException> is thrown when code access security walks the stack at run time.</span></span>

## <a name="serialization"></a><span data-ttu-id="9f852-164">Serialização</span><span class="sxs-lookup"><span data-stu-id="9f852-164">Serialization</span></span>

<span data-ttu-id="9f852-165">Para serialização, <xref:System.Security.Permissions.SecurityPermission> com o sinalizador <xref:System.Security.Permissions.SecurityPermissionAttribute.SerializationFormatter%2A?displayProperty=nameWithType> fornece a capacidade de obter e definir os membros de tipos serializáveis, independentemente da acessibilidade.</span><span class="sxs-lookup"><span data-stu-id="9f852-165">For serialization, <xref:System.Security.Permissions.SecurityPermission> with the <xref:System.Security.Permissions.SecurityPermissionAttribute.SerializationFormatter%2A?displayProperty=nameWithType> flag provides the ability to get and set members of serializable types, regardless of accessibility.</span></span> <span data-ttu-id="9f852-166">Essa permissão permite que o código descubra e altere o estado particular de uma instância.</span><span class="sxs-lookup"><span data-stu-id="9f852-166">This permission enables code to discover and change the private state of an instance.</span></span> <span data-ttu-id="9f852-167">(Além de receber a concessão das permissões apropriadas, o tipo deve ser [marcado](../../standard/attributes/applying-attributes.md) como serializável nos metadados.)</span><span class="sxs-lookup"><span data-stu-id="9f852-167">(In addition to being granted the appropriate permissions, the type must be [marked](../../standard/attributes/applying-attributes.md) as serializable in metadata.)</span></span>

## <a name="parameters-of-type-methodinfo"></a><span data-ttu-id="9f852-168">Parâmetros do tipo MethodInfo</span><span class="sxs-lookup"><span data-stu-id="9f852-168">Parameters of Type MethodInfo</span></span>

<span data-ttu-id="9f852-169">Evite escrever membros públicos que utilizam parâmetros <xref:System.Reflection.MethodInfo>, especialmente para código confiável.</span><span class="sxs-lookup"><span data-stu-id="9f852-169">Avoid writing public members that take <xref:System.Reflection.MethodInfo> parameters, especially for trusted code.</span></span> <span data-ttu-id="9f852-170">Esses membros podem ser mais vulneráveis a códigos mal-intencionados.</span><span class="sxs-lookup"><span data-stu-id="9f852-170">Such members might be more vulnerable to malicious code.</span></span> <span data-ttu-id="9f852-171">Por exemplo, considere um membro público no código altamente confiável que utiliza um parâmetro <xref:System.Reflection.MethodInfo>.</span><span class="sxs-lookup"><span data-stu-id="9f852-171">For example, consider a public member in highly trusted code that takes a <xref:System.Reflection.MethodInfo> parameter.</span></span> <span data-ttu-id="9f852-172">Suponha que o membro público chama indiretamente o método <xref:System.Reflection.MethodBase.Invoke%2A> no parâmetro fornecido.</span><span class="sxs-lookup"><span data-stu-id="9f852-172">Assume that the public member indirectly calls the <xref:System.Reflection.MethodBase.Invoke%2A> method on the supplied parameter.</span></span> <span data-ttu-id="9f852-173">Se o membro público não executa as verificações de permissão necessária, a chamada para o método <xref:System.Reflection.MethodBase.Invoke%2A> sempre terá êxito, pois o sistema de segurança determina se o chamador é altamente confiável.</span><span class="sxs-lookup"><span data-stu-id="9f852-173">If the public member does not perform the necessary permission checks, the call to the <xref:System.Reflection.MethodBase.Invoke%2A> method will always succeed, because the security system determines that the caller is highly trusted.</span></span> <span data-ttu-id="9f852-174">Mesmo que o código mal-intencionado não tenha permissão para invocar o método indiretamente, ele ainda poderá fazer isso indiretamente chamando o membro público.</span><span class="sxs-lookup"><span data-stu-id="9f852-174">Even if malicious code does not have the permission to directly invoke the method, it can still do so indirectly by calling the public member.</span></span>

## <a name="version-information"></a><span data-ttu-id="9f852-175">Informações sobre versão</span><span class="sxs-lookup"><span data-stu-id="9f852-175">Version Information</span></span>

- <span data-ttu-id="9f852-176">A partir do .NET Framework 4, código transparente não pode usar reflexão para acessar membros críticos para segurança.</span><span class="sxs-lookup"><span data-stu-id="9f852-176">Beginning with the .NET Framework 4, transparent code cannot use reflection to access security-critical members.</span></span>

- <span data-ttu-id="9f852-177">O sinalizador <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> foi introduzido no .NET Framework 2.0 Service Pack 1.</span><span class="sxs-lookup"><span data-stu-id="9f852-177">The <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag is introduced in the .NET Framework 2.0 Service Pack 1.</span></span> <span data-ttu-id="9f852-178">Versões anteriores do .NET Framework exigem o sinalizador <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> para o código que usa a reflexão para acessar membros não públicos.</span><span class="sxs-lookup"><span data-stu-id="9f852-178">Earlier versions of the .NET Framework require the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag for code that uses reflection to access nonpublic members.</span></span> <span data-ttu-id="9f852-179">Esta é uma permissão que nunca deve ser concedida a código parcialmente confiável.</span><span class="sxs-lookup"><span data-stu-id="9f852-179">This is a permission that should never be granted to partially trusted code.</span></span>

- <span data-ttu-id="9f852-180">A partir do .NET Framework 2.0, usar reflexão para obter informações sobre tipos e membros não públicos não requer permissões.</span><span class="sxs-lookup"><span data-stu-id="9f852-180">Beginning with the .NET Framework 2.0, using reflection to obtain information about nonpublic types and members does not require any permissions.</span></span> <span data-ttu-id="9f852-181">Em versões anteriores, o <xref:System.Security.Permissions.ReflectionPermission> com o sinalizador <xref:System.Security.Permissions.ReflectionPermissionFlag.TypeInformation?displayProperty=nameWithType> é obrigatório.</span><span class="sxs-lookup"><span data-stu-id="9f852-181">In earlier versions, <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.TypeInformation?displayProperty=nameWithType> flag is required.</span></span>

## <a name="see-also"></a><span data-ttu-id="9f852-182">Confira também</span><span class="sxs-lookup"><span data-stu-id="9f852-182">See also</span></span>

- <xref:System.Security.Permissions.ReflectionPermissionFlag>
- <xref:System.Security.Permissions.ReflectionPermission>
- <xref:System.Security.Permissions.SecurityPermission>
- [<span data-ttu-id="9f852-183">Alterações de segurança</span><span class="sxs-lookup"><span data-stu-id="9f852-183">Security Changes</span></span>](/previous-versions/dotnet/framework/security/security-changes)
- [<span data-ttu-id="9f852-184">Segurança de acesso do código</span><span class="sxs-lookup"><span data-stu-id="9f852-184">Code Access Security</span></span>](../misc/code-access-security.md)
- [<span data-ttu-id="9f852-185">Problemas de segurança na emissão de reflexão</span><span class="sxs-lookup"><span data-stu-id="9f852-185">Security Issues in Reflection Emit</span></span>](security-issues-in-reflection-emit.md)
- [<span data-ttu-id="9f852-186">Exibindo informações de tipo</span><span class="sxs-lookup"><span data-stu-id="9f852-186">Viewing Type Information</span></span>](viewing-type-information.md)
- [<span data-ttu-id="9f852-187">Aplicando atributos</span><span class="sxs-lookup"><span data-stu-id="9f852-187">Applying Attributes</span></span>](../../standard/attributes/applying-attributes.md)
- [<span data-ttu-id="9f852-188">Acessando atributos personalizados</span><span class="sxs-lookup"><span data-stu-id="9f852-188">Accessing Custom Attributes</span></span>](accessing-custom-attributes.md)
