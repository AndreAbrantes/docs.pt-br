---
title: "Apresentando protocolos conectáveis"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- data requests, pluggable protocols
- WebRequest class, pluggable protocols
- response to Internet request, pluggable protocols
- URI
- Windows Sockets
- request/response model
- sending data, pluggable protocols
- pluggable protocols
- WebClient class, about WebClient class
- pluggable protocols, about pluggable protocols
- Internet, pluggable protocols
- path identifiers
- Uniform Resource Identifier
- application development [.NET Framework], pluggable protocols
- requesting data from Internet, pluggable protocols
- receiving data, pluggable protocols
- protocols, pluggable
- server identifiers
- scheme identifiers
ms.assetid: 4b48e22d-e4e5-48f0-be80-d549bda97415
caps.latest.revision: "12"
author: mcleblanc
ms.author: markl
manager: markl
ms.workload: dotnet
ms.openlocfilehash: 3cc7ad6b6270b74e2eb6aa4a2cc3a540175d540b
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/22/2017
---
# <a name="introducing-pluggable-protocols"></a><span data-ttu-id="5e44a-102">Apresentando protocolos conectáveis</span><span class="sxs-lookup"><span data-stu-id="5e44a-102">Introducing Pluggable Protocols</span></span>
<span data-ttu-id="5e44a-103">O Microsoft .NET Framework fornece uma implementação dos serviços de Internet em camadas, extensível e gerenciada que pode ser rápida e facilmente integrada aos aplicativos.</span><span class="sxs-lookup"><span data-stu-id="5e44a-103">The Microsoft .NET Framework provides a layered, extensible, and managed implementation of Internet services that can be integrated quickly and easily into your applications.</span></span> <span data-ttu-id="5e44a-104">Classes de acesso à Internet nos namespaces <xref:System.Net> e <xref:System.Net.Sockets> podem ser usadas para implementar tanto aplicativos baseados na Web quanto baseados na Internet.</span><span class="sxs-lookup"><span data-stu-id="5e44a-104">The Internet access classes in the <xref:System.Net> and <xref:System.Net.Sockets> namespaces can be used to implement both Web-based and Internet-based applications.</span></span>  
  
## <a name="internet-applications"></a><span data-ttu-id="5e44a-105">Aplicativos da Internet</span><span class="sxs-lookup"><span data-stu-id="5e44a-105">Internet Applications</span></span>  
 <span data-ttu-id="5e44a-106">Aplicativos da Internet podem ser classificados amplamente em dois tipos: aplicativos cliente que solicitam informações e aplicativos para servidores que respondem às solicitações de informações feitas por clientes.</span><span class="sxs-lookup"><span data-stu-id="5e44a-106">Internet applications can be classified broadly into two kinds: client applications that request information and server applications that respond to information requests from clients.</span></span> <span data-ttu-id="5e44a-107">O aplicativo cliente-servidor clássico de Internet é a World Wide Web, em que as pessoas usam navegadores para acessar documentos e outros dados armazenados em servidores Web em todo o mundo.</span><span class="sxs-lookup"><span data-stu-id="5e44a-107">The classic Internet client-server application is the World Wide Web, where people use browsers to access documents and other data stored on Web servers worldwide.</span></span>  
  
 <span data-ttu-id="5e44a-108">Os aplicativos não se limitam a apenas uma dessas funções; por exemplo, o servidor de aplicativos familiar de camada intermediária responde a solicitações de clientes solicitando dados em outro servidor, caso em que ele está atuando como um servidor e também como um cliente.</span><span class="sxs-lookup"><span data-stu-id="5e44a-108">Applications are not limited to just one of these roles; for instance, the familiar middle-tier application server responds to requests from clients by requesting data from another server, in which case it is acting as both a server and a client.</span></span>  
  
 <span data-ttu-id="5e44a-109">O aplicativo cliente faz uma solicitação identificando o recurso da Internet solicitado e o protocolo de comunicação a usar para a solicitação e resposta.</span><span class="sxs-lookup"><span data-stu-id="5e44a-109">The client application makes a request by identifying the requested Internet resource and the communication protocol to use for the request and response.</span></span> <span data-ttu-id="5e44a-110">Se necessário, o cliente também fornece quaisquer dados adicionais necessários para concluir a solicitação, assim como autenticação ou local de informações de proxy (nome de usuário, senha e assim por diante).</span><span class="sxs-lookup"><span data-stu-id="5e44a-110">If necessary, the client also provides any additional data required to complete the request, such as proxy location or authentication information (user name, password, and so on).</span></span> <span data-ttu-id="5e44a-111">Depois que a solicitação é formada, ela pode ser enviada ao servidor.</span><span class="sxs-lookup"><span data-stu-id="5e44a-111">Once the request is formed, the request can be sent to the server.</span></span>  
  
## <a name="identifying-resources"></a><span data-ttu-id="5e44a-112">Identificar os recursos</span><span class="sxs-lookup"><span data-stu-id="5e44a-112">Identifying Resources</span></span>  
 <span data-ttu-id="5e44a-113">O .NET Framework usa URI (Uniform Resource Identifier) para identificar o protocolo de comunicação e recursos de Internet solicitado.</span><span class="sxs-lookup"><span data-stu-id="5e44a-113">The .NET Framework uses a Uniform Resource Identifier (URI) to identify the requested Internet resource and communication protocol.</span></span> <span data-ttu-id="5e44a-114">O URI consiste em pelo menos três, possivelmente quatro fragmentos: o identificador do esquema, que identifica o protocolo de comunicação de solicitação e resposta; o identificador do servidor, que consiste em um nome de host do sistema de nome de domínio (DNS) ou um endereço TCP que identifica exclusivamente o servidor na Internet; o identificador do caminho, que localiza as informações solicitadas no servidor e, por fim, uma cadeia de caracteres de consulta opcional, que passa informações do cliente para o servidor.</span><span class="sxs-lookup"><span data-stu-id="5e44a-114">The URI consists of at least three, and possibly four, fragments: the scheme identifier, which identifies the communications protocol for the request and response; the server identifier, which consists of either a Domain Name System (DNS) host name or a TCP address that uniquely identifies the server on the Internet; the path identifier, which locates the requested information on the server; and an optional query string, which passes information from the client to the server.</span></span> <span data-ttu-id="5e44a-115">Por exemplo, o URI "http://www.contoso.com/whatsnew.aspx?date=today" consiste do identificador do esquema "http", do identificador de servidor "www.contoso.com", do caminho "/whatsnew.aspx" e da cadeia de consulta "?date=today".</span><span class="sxs-lookup"><span data-stu-id="5e44a-115">For example, the URI "http://www.contoso.com/whatsnew.aspx?date=today" consists of the scheme identifier "http", the server identifier "www.contoso.com", the path "/whatsnew.aspx", and the query string "?date=today".</span></span>  
  
 <span data-ttu-id="5e44a-116">Após o servidor ter recebido a solicitação e processado a resposta, ele retorna a resposta ao aplicativo cliente.</span><span class="sxs-lookup"><span data-stu-id="5e44a-116">After the server has received the request and processed the response, it returns the response to the client application.</span></span> <span data-ttu-id="5e44a-117">A resposta inclui informações complementares, como o tipo de conteúdo (texto não processado ou dados XML, por exemplo).</span><span class="sxs-lookup"><span data-stu-id="5e44a-117">The response includes supplemental information, such as the type of the content (raw text or XML data, for example).</span></span>  
  
## <a name="requests-and-responses-in-the-net-framework"></a><span data-ttu-id="5e44a-118">Solicitações e respostas no .NET Framework</span><span class="sxs-lookup"><span data-stu-id="5e44a-118">Requests and Responses in the .NET Framework</span></span>  
 <span data-ttu-id="5e44a-119">O .NET Framework usa classes específicas para fornecer as três partes de informações necessárias para acessar recursos da Internet através de um modelo de solicitação/resposta: a classe <xref:System.Uri>, que contém o URI do recurso de Internet que você está procurando; a classe <xref:System.Net.WebRequest>, que contém uma solicitação para o recurso e, por fim, a classe <xref:System.Net.WebResponse>, que fornece um contêiner para a resposta de entrada.</span><span class="sxs-lookup"><span data-stu-id="5e44a-119">The .NET Framework uses specific classes to provide the three pieces of information required to access Internet resources through a request/response model: the <xref:System.Uri> class, which contains the URI of the Internet resource you are seeking; the <xref:System.Net.WebRequest> class, which contains a request for the resource; and the <xref:System.Net.WebResponse> class, which provides a container for the incoming response.</span></span>  
  
 <span data-ttu-id="5e44a-120">Aplicativos cliente criam instâncias de `WebRequest`, passando o URI do recurso de rede para o método <xref:System.Net.WebRequest.Create%2A>.</span><span class="sxs-lookup"><span data-stu-id="5e44a-120">Client applications create `WebRequest` instances by passing the URI of the network resource to the <xref:System.Net.WebRequest.Create%2A> method.</span></span> <span data-ttu-id="5e44a-121">Esse método estático cria um `WebRequest` para um protocolo específico, tal como HTTP.</span><span class="sxs-lookup"><span data-stu-id="5e44a-121">This static method creates a `WebRequest` for a specific protocol, such as HTTP.</span></span> <span data-ttu-id="5e44a-122">O `WebRequest` que é retornado fornece acesso às propriedades que controlam ambos a solicitação para o servidor e o acesso ao fluxo de dados que é enviado quando a solicitação é feita.</span><span class="sxs-lookup"><span data-stu-id="5e44a-122">The `WebRequest` that is returned provides access to properties that control both the request to the server and access to the data stream that is sent when the request is made.</span></span> <span data-ttu-id="5e44a-123">O método <xref:System.Net.WebRequest.GetResponse%2A> no `WebRequest` envia a solicitação do aplicativo cliente para o servidor identificado no URI.</span><span class="sxs-lookup"><span data-stu-id="5e44a-123">The <xref:System.Net.WebRequest.GetResponse%2A> method on the `WebRequest` sends the request from the client application to the server identified in the URI.</span></span> <span data-ttu-id="5e44a-124">Em casos em que a resposta pode ser atrasada, a solicitação pode ser feita de forma assíncrona usando o método <xref:System.Net.WebRequest.BeginGetResponse%2A> no **WebRequest** e a resposta pode ser retornada em um momento posterior usando o método <xref:System.Net.WebRequest.EndGetResponse%2A>.</span><span class="sxs-lookup"><span data-stu-id="5e44a-124">In cases in which the response might be delayed, the request can be made asynchronously using the <xref:System.Net.WebRequest.BeginGetResponse%2A> method on the **WebRequest**, and the response can be returned at a later time using the <xref:System.Net.WebRequest.EndGetResponse%2A> method.</span></span>  
  
 <span data-ttu-id="5e44a-125">Os métodos **GetResponse** e **EndGetResponse** retornam um **WebResponse** que fornece acesso aos dados retornados pelo servidor.</span><span class="sxs-lookup"><span data-stu-id="5e44a-125">The **GetResponse** and **EndGetResponse** methods return a **WebResponse** that provides access to the data returned by the server.</span></span> <span data-ttu-id="5e44a-126">Já que esses dados são fornecidos ao aplicativo solicitante como um fluxo pelo método <xref:System.Net.WebResponse.GetResponseStream%2A>, eles podem ser usados em um aplicativo em qualquer lugar em que fluxos de dados são usados.</span><span class="sxs-lookup"><span data-stu-id="5e44a-126">Because this data is provided to the requesting application as a stream by the <xref:System.Net.WebResponse.GetResponseStream%2A> method, it can be used in an application anywhere data streams are used.</span></span>  
  
 <span data-ttu-id="5e44a-127">As classes **WebRequest** e **WebResponse** são a base dos protocolos conectáveis – uma implementação de serviços de rede que permite que você desenvolva aplicativos que usam recursos de Internet sem se preocupar com detalhes específicos do protocolo usado por cada recurso.</span><span class="sxs-lookup"><span data-stu-id="5e44a-127">The **WebRequest** and **WebResponse** classes are the basis of pluggable protocols — an implementation of network services that enables you to develop applications that use Internet resources without worrying about the specific details of the protocol that each resource uses.</span></span> <span data-ttu-id="5e44a-128">Classes descendentes de **WebRequest** são registradas com a classe **WebRequest** para gerenciar os detalhes de fazer as verdadeiras conexões aos recursos da Internet.</span><span class="sxs-lookup"><span data-stu-id="5e44a-128">Descendant classes of **WebRequest** are registered with the **WebRequest** class to manage the details of making the actual connections to Internet resources.</span></span>  
  
 <span data-ttu-id="5e44a-129">Por exemplo, a classe <xref:System.Net.HttpWebRequest> gerencia os detalhes de se conectar a um recurso da Internet usando HTTP.</span><span class="sxs-lookup"><span data-stu-id="5e44a-129">As an example, the <xref:System.Net.HttpWebRequest> class manages the details of connecting to an Internet resource using HTTP.</span></span> <span data-ttu-id="5e44a-130">Por padrão, quando o método **WebRequest.Create** encontra um URI que começa com "http:" ou "https:" (os identificadores de protocolo para HTTP e HTTP seguro), o **WebRequest** que é retornado pode ser usado como está ou ele pode passar por conversão de tipo para **HttpWebRequest** a fim de acessar propriedades específicas de protocolo.</span><span class="sxs-lookup"><span data-stu-id="5e44a-130">By default, when the **WebRequest.Create** method encounters a URI that begins with "http:" or "https:" (the protocol identifiers for HTTP and secure HTTP), the **WebRequest** that is returned can be used as is, or it can be typecast to **HttpWebRequest** to access protocol-specific properties.</span></span> <span data-ttu-id="5e44a-131">Na maioria dos casos, o **WebRequest** fornece todas as informações necessárias para fazer uma solicitação.</span><span class="sxs-lookup"><span data-stu-id="5e44a-131">In most cases, the **WebRequest** provides all the necessary information for making a request.</span></span>  
  
 <span data-ttu-id="5e44a-132">Qualquer protocolo que pode ser representado como uma transação de solicitação/resposta pode ser usado em uma **WebRequest**.</span><span class="sxs-lookup"><span data-stu-id="5e44a-132">Any protocol that can be represented as a request/response transaction can be used in a **WebRequest**.</span></span> <span data-ttu-id="5e44a-133">Você pode derivar classes específicas de protocolo de **WebRequest** e **WebResponse** e, em seguida, registrá-las para uso pelo aplicativo com o método <xref:System.Net.WebRequest.RegisterPrefix%2A?displayProperty=nameWithType> estático.</span><span class="sxs-lookup"><span data-stu-id="5e44a-133">You can derive protocol-specific classes from **WebRequest** and **WebResponse** and then register them for use by the application with the static <xref:System.Net.WebRequest.RegisterPrefix%2A?displayProperty=nameWithType> method.</span></span>  
  
 <span data-ttu-id="5e44a-134">Quando a autorização do cliente para solicitações de Internet é necessária, a propriedade <xref:System.Net.WebRequest.Credentials%2A> do **WebRequest** fornece as credenciais necessárias.</span><span class="sxs-lookup"><span data-stu-id="5e44a-134">When client authorization for Internet requests is required, the <xref:System.Net.WebRequest.Credentials%2A> property of the **WebRequest** supplies the necessary credentials.</span></span> <span data-ttu-id="5e44a-135">Essas credenciais podem ser um par nome/senha simples para HTTP básico ou autenticação digest ou um conjunto de nome/senha/domínio para autenticação NTLM ou Kerberos.</span><span class="sxs-lookup"><span data-stu-id="5e44a-135">These credentials can be a simple name/password pair for basic HTTP or digest authentication, or a name/password/domain set for NTLM or Kerberos authentication.</span></span> <span data-ttu-id="5e44a-136">Um conjunto de credenciais pode ser armazenado em uma instância de <xref:System.Net.NetworkCredential> ou vários conjuntos podem ser armazenados simultaneamente em uma instância de <xref:System.Net.CredentialCache>.</span><span class="sxs-lookup"><span data-stu-id="5e44a-136">One set of credentials can be stored in a <xref:System.Net.NetworkCredential> instance, or multiple sets can be stored simultaneously in a <xref:System.Net.CredentialCache> instance.</span></span> <span data-ttu-id="5e44a-137">O **CredentialCache** usa o URI da solicitação e o esquema de autenticação com suporte no servidor para determinar quais credenciais devem ser enviados ao servidor.</span><span class="sxs-lookup"><span data-stu-id="5e44a-137">The **CredentialCache** uses the URI of the request and the authentication scheme that the server supports to determine which credentials to send to the server.</span></span>  
  
## <a name="simple-requests-with-webclient"></a><span data-ttu-id="5e44a-138">Solicitações simples com WebClient</span><span class="sxs-lookup"><span data-stu-id="5e44a-138">Simple Requests with WebClient</span></span>  
 <span data-ttu-id="5e44a-139">Para aplicativos que precisam fazer solicitações simples para recursos da Internet, a classe <xref:System.Net.WebClient> fornece métodos comuns para carregar dados para ou baixar dados de um servidor de Internet.</span><span class="sxs-lookup"><span data-stu-id="5e44a-139">For applications that need to make simple requests for Internet resources, the <xref:System.Net.WebClient> class provides common methods for uploading data to or downloading data from an Internet server.</span></span> <span data-ttu-id="5e44a-140">O **WebClient** depende da classe **WebRequest** para fornecer acesso aos recursos da Internet; portanto, a classe **WebClient** pode usar qualquer protocolo conectável registrado.</span><span class="sxs-lookup"><span data-stu-id="5e44a-140">**WebClient** relies on the **WebRequest** class to provide access to Internet resources; therefore, the **WebClient** class can use any registered pluggable protocol.</span></span>  
  
 <span data-ttu-id="5e44a-141">Para aplicativos que não podem usar o modelo de solicitação/resposta ou para aplicativos que precisam escutar na rede e também enviar solicitações, o namespace **System.Net.Sockets** fornece as classes <xref:System.Net.Sockets.TcpClient>, <xref:System.Net.Sockets.TcpListener> e <xref:System.Net.Sockets.UdpClient>.</span><span class="sxs-lookup"><span data-stu-id="5e44a-141">For applications that cannot use the request/response model, or for applications that need to listen on the network as well as send requests, the **System.Net.Sockets** namespace provides the <xref:System.Net.Sockets.TcpClient>, <xref:System.Net.Sockets.TcpListener>, and <xref:System.Net.Sockets.UdpClient> classes.</span></span> <span data-ttu-id="5e44a-142">Essas classes tratam dos detalhes de fazer conexões usando protocolos de transporte diferentes e expõem a conexão de rede para o aplicativo como um fluxo.</span><span class="sxs-lookup"><span data-stu-id="5e44a-142">These classes handle the details of making connections using different transport protocols and expose the network connection to the application as a stream.</span></span>  
  
 <span data-ttu-id="5e44a-143">Os desenvolvedores familiarizados com a interface do Windows Sockets ou aqueles que precisam de controle fornecido por programação no nível de soquete descobrirão que as classes **Sockets** satisfazem suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="5e44a-143">Developers familiar with the Windows Sockets interface or those who need the control provided by programming at the socket level will find that the **System.Net.Sockets** classes meet their needs.</span></span> <span data-ttu-id="5e44a-144">As classes **Sockets** são um ponto de transição de código gerenciado para código nativo dentro das classes **System.Net**.</span><span class="sxs-lookup"><span data-stu-id="5e44a-144">The **System.Net.Sockets** classes are a transition point from managed to native code within the **System.Net** classes.</span></span> <span data-ttu-id="5e44a-145">Na maioria dos casos, classes **Sockets** realizam marshaling de dados em seus equivalentes do Windows de 32 bits, além de lidarem com quaisquer verificações de segurança necessárias.</span><span class="sxs-lookup"><span data-stu-id="5e44a-145">In most cases, **System.Net.Sockets** classes marshal data into their Windows 32-bit counterparts, as well as handling any necessary security checks.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5e44a-146">Consulte também</span><span class="sxs-lookup"><span data-stu-id="5e44a-146">See Also</span></span>  
 [<span data-ttu-id="5e44a-147">Programando protocolos conectáveis</span><span class="sxs-lookup"><span data-stu-id="5e44a-147">Programming Pluggable Protocols</span></span>](../../../docs/framework/network-programming/programming-pluggable-protocols.md)  
 [<span data-ttu-id="5e44a-148">Programação de rede no .NET Framework</span><span class="sxs-lookup"><span data-stu-id="5e44a-148">Network Programming in the .NET Framework</span></span>](../../../docs/framework/network-programming/index.md)  
 [<span data-ttu-id="5e44a-149">Amostras de programação de rede</span><span class="sxs-lookup"><span data-stu-id="5e44a-149">Network Programming Samples</span></span>](../../../docs/framework/network-programming/network-programming-samples.md)  
 [<span data-ttu-id="5e44a-150">Exemplos de rede do .NET na Galeria de Códigos do MSDN</span><span class="sxs-lookup"><span data-stu-id="5e44a-150">Networking Samples for .NET on MSDN Code Gallery</span></span>](http://code.msdn.microsoft.com/Wiki/View.aspx?ProjectName=nclsamples)
