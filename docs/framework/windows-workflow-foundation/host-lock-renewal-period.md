---
title: "Período de renovação de bloqueio de host"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f8ba94fc-27e0-4d8e-8f85-50a6d2a3cd43
caps.latest.revision: "5"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: fd93e2672851cc0111af6610ade70aebab14442d
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/18/2017
---
# <a name="host-lock-renewal-period"></a><span data-ttu-id="5afe3-102">Período de renovação de bloqueio de host</span><span class="sxs-lookup"><span data-stu-id="5afe3-102">Host Lock Renewal Period</span></span>
<span data-ttu-id="5afe3-103">O **período de renovação de bloqueio de Host** propriedade do repositório de instância de fluxo de trabalho de SQL permite que você especifique o período de tempo no qual o host renova o bloqueio em uma instância de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="5afe3-103">The **Host Lock Renewal Period** property of the SQL Workflow Instance Store lets you specify the time period within which the host renews its lock on a workflow instance.</span></span> <span data-ttu-id="5afe3-104">O bloqueio permaneça válido para o período de renovação de bloqueio host + 30 segundos.</span><span class="sxs-lookup"><span data-stu-id="5afe3-104">The lock remains valid for Host Lock Renewal Period + 30 seconds.</span></span> <span data-ttu-id="5afe3-105">Se o host não renova o bloqueio (ou seja estender o aluguer) dentro desse período de tempo, o bloqueio expirar e o provedor de persistência desbloqueia a instância.</span><span class="sxs-lookup"><span data-stu-id="5afe3-105">If the host fails to renew the lock (in other words, extend the lease) within this time period, the lock expires and the persistence provider unlocks the instance.</span></span> <span data-ttu-id="5afe3-106">O valor dessa propriedade é do tipo TimeSpan no formato "hh".</span><span class="sxs-lookup"><span data-stu-id="5afe3-106">The value for this property is of type TimeSpan of the form "hh:mm:ss".</span></span> <span data-ttu-id="5afe3-107">O mínimo permitido valor é "00: 00:01" (1 segundo).</span><span class="sxs-lookup"><span data-stu-id="5afe3-107">The minimum permitted value is "00:00:01" (1 second).</span></span> <span data-ttu-id="5afe3-108">O valor padrão dessa propriedade é "00: 00:30" (30 segundos).</span><span class="sxs-lookup"><span data-stu-id="5afe3-108">The default value of this property is "00:00:30" (30 seconds).</span></span>  
  
 <span data-ttu-id="5afe3-109">Esta propriedade é significativa em situações onde um host serviço de fluxo de trabalho falha antes que possa desbloquear uma instância do serviço de fluxo de trabalho que possua.</span><span class="sxs-lookup"><span data-stu-id="5afe3-109">This property is significant in scenarios where a workflow service host fails before it can unlock a workflow service instance that it owns.</span></span> <span data-ttu-id="5afe3-110">Nesse cenário, o bloqueio na instância do serviço de fluxo de trabalho na base de dados de persistência é removido pelo provedor de persistência após o bloqueio expira de modo que outra execução do host serviço de fluxo de trabalho no mesmo computador ou em outro computador em um farm de servidores pode adquirir o bloqueio e carregar a instância do serviço de fluxo de trabalho na memória para continuar a execução de seu estado persistente último.</span><span class="sxs-lookup"><span data-stu-id="5afe3-110">In this scenario, the lock on the workflow service instance in the persistence database is removed by the persistence provider after the lock expires so that another workflow service host running on the same computer or another computer in a server farm can acquire the lock and load the workflow service instance into memory to resume its execution from its last persisted state.</span></span>  
  
 <span data-ttu-id="5afe3-111">Definir um valor maior para essa propriedade causa as instâncias de serviço de fluxo de trabalho a ser bloqueadas na base de dados de persistência por um tempo mais longa e atrasa portanto a recuperação de instância de ponto o último de persistência.</span><span class="sxs-lookup"><span data-stu-id="5afe3-111">Setting a higher value for this property causes the workflow service instances to be locked in the persistence database for a longer time and therefore delays the recovery of the instance from the last persistence point.</span></span> <span data-ttu-id="5afe3-112">Definir um intervalo curto para essa propriedade faz com que a nova instância do host serviço de fluxo de trabalho pegarem a instância falha de serviço de fluxo de trabalho rapidamente, mas as causas um aumento na carga de trabalho para o host serviço de fluxo de trabalho e o base de dados SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5afe3-112">Setting a short interval for this property causes the new instance of the workflow service host to pick up the failed workflow service instance quickly, but causes an increase in workload for the workflow service host and the SQL Server database.</span></span>  
  
 <span data-ttu-id="5afe3-113">A instância Store de fluxo de trabalho do SQL executa uma tarefa periodicamente interna que acorde e detecte instâncias com os bloqueios expirados neles.</span><span class="sxs-lookup"><span data-stu-id="5afe3-113">The SQL Workflow Instance Store runs an internal task that periodically wakes up and detects instances with expired locks on them.</span></span> <span data-ttu-id="5afe3-114">Quando encontrar instâncias com bloqueios expirados, coloca as instâncias na tabela de RunnableInstances de modo que um host de fluxo de trabalho pode pegar e executar essas instâncias.</span><span class="sxs-lookup"><span data-stu-id="5afe3-114">When it finds instances with expired locks, it places the instances in the RunnableInstances table so that a workflow host can pick up and run these instances.</span></span>
