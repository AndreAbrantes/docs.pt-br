---
title: Específicos de recurso do Windows Workflow Foundation
ms.date: 03/30/2017
ms.assetid: e84d12da-a055-45f6-b4d1-878d127b46b6
ms.openlocfilehash: 11bde5edea44f09ef1a5658cdf0e20ec1349c84b
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/12/2020
ms.locfileid: "79182919"
---
# <a name="windows-workflow-foundation-feature-specifics"></a><span data-ttu-id="f7312-102">Específicos de recurso do Windows Workflow Foundation</span><span class="sxs-lookup"><span data-stu-id="f7312-102">Windows Workflow Foundation Feature Specifics</span></span>

<span data-ttu-id="f7312-103">.NET Framework 4 adiciona uma série de recursos ao Windows Workflow Foundation.</span><span class="sxs-lookup"><span data-stu-id="f7312-103">.NET Framework 4 adds a number of features to Windows Workflow Foundation.</span></span> <span data-ttu-id="f7312-104">Este documento descreve um número de recursos novos, e fornece detalhes sobre cenários em que podem ser úteis.</span><span class="sxs-lookup"><span data-stu-id="f7312-104">This document describes a number of the new features, and gives details about scenarios in which they may be useful.</span></span>

## <a name="messaging-activities"></a><span data-ttu-id="f7312-105">Atividades de mensagem</span><span class="sxs-lookup"><span data-stu-id="f7312-105">Messaging Activities</span></span>

<span data-ttu-id="f7312-106">As atividades<xref:System.ServiceModel.Activities.Receive>de <xref:System.ServiceModel.Activities.SendReply> <xref:System.ServiceModel.Activities.Send>mensagens ( , , ) <xref:System.ServiceModel.Activities.ReceiveReply>são usadas para enviar e receber mensagens WCF do seu fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7312-106">The messaging activities (<xref:System.ServiceModel.Activities.Receive>, <xref:System.ServiceModel.Activities.SendReply>, <xref:System.ServiceModel.Activities.Send>, <xref:System.ServiceModel.Activities.ReceiveReply>) are used to send and receive WCF messages from your workflow.</span></span> <span data-ttu-id="f7312-107"><xref:System.ServiceModel.Activities.Receive>e <xref:System.ServiceModel.Activities.SendReply> as atividades são usadas para formar uma operação de serviço da Windows Communication Foundation (WCF) que é exposta via WSDL, assim como os serviços web Padrão WCF.</span><span class="sxs-lookup"><span data-stu-id="f7312-107"><xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply> activities are used to form a Windows Communication Foundation (WCF) service operation that is exposed via WSDL just like standard WCF web services.</span></span> <span data-ttu-id="f7312-108"><xref:System.ServiceModel.Activities.Send>e <xref:System.ServiceModel.Activities.ReceiveReply> são usados para consumir um <xref:System.ServiceModel.ChannelFactory>serviço web semelhante a um WCF; uma experiência **de referência de serviço também** existe para a Workflow Foundation, que gera atividades pré-configuradas.</span><span class="sxs-lookup"><span data-stu-id="f7312-108"><xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.ReceiveReply> are used to consume a web service similar to a WCF <xref:System.ServiceModel.ChannelFactory>; an **Add Service Reference** experience also exists for Workflow Foundation that generates pre-configured activities.</span></span>

### <a name="getting-started-with-messaging-activities"></a><span data-ttu-id="f7312-109">Guia de introdução com atividades de mensagem</span><span class="sxs-lookup"><span data-stu-id="f7312-109">Getting Started with Messaging Activities</span></span>

- <span data-ttu-id="f7312-110">No Visual Studio 2012, crie um projeto wcf workflow service application.</span><span class="sxs-lookup"><span data-stu-id="f7312-110">In Visual Studio 2012, create a WCF Workflow Service Application project.</span></span> <span data-ttu-id="f7312-111">Um par de <xref:System.ServiceModel.Activities.Receive> e de <xref:System.ServiceModel.Activities.SendReply> será colocado na tela.</span><span class="sxs-lookup"><span data-stu-id="f7312-111">A <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply> pair will be placed on your canvas.</span></span>

- <span data-ttu-id="f7312-112">Clique com o botão direito do mouse no projeto e **selecione Adicionar referência de serviço**.</span><span class="sxs-lookup"><span data-stu-id="f7312-112">Right-click on the project and select **Add Service Reference**.</span></span> <span data-ttu-id="f7312-113">Aponte para um wsdl de serviço web existente e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="f7312-113">Point to an existing web service WSDL and click **OK**.</span></span> <span data-ttu-id="f7312-114">Construa seu projeto para mostrar <xref:System.ServiceModel.Activities.Send> as <xref:System.ServiceModel.Activities.ReceiveReply>atividades geradas (implementadas usando e ) em sua caixa de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="f7312-114">Build your project to show the generated activities (implemented using <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.ReceiveReply>) in your toolbox.</span></span>

- [<span data-ttu-id="f7312-115">Documentação dos serviços de fluxo de trabalho</span><span class="sxs-lookup"><span data-stu-id="f7312-115">Workflow services documentation</span></span>](../wcf/feature-details/workflow-services.md)

### <a name="messaging-activities-example-scenario"></a><span data-ttu-id="f7312-116">Cenário exemplo de atividades de mensagem</span><span class="sxs-lookup"><span data-stu-id="f7312-116">Messaging Activities Example Scenario</span></span>

<span data-ttu-id="f7312-117">Um `BestPriceFinder` serviço chama vários serviços aéreos para encontrar o melhor preço da passagem para uma determinada rota.</span><span class="sxs-lookup"><span data-stu-id="f7312-117">A `BestPriceFinder` service calls out to multiple airline services to find the best ticket price for a particular route.</span></span> <span data-ttu-id="f7312-118">A implementação deste cenário exigiria que você usasse as atividades de mensagem para receber a solicitação de preço, recuperar os preços dos serviços back-end e responder à solicitação de preço com o melhor preço.</span><span class="sxs-lookup"><span data-stu-id="f7312-118">Implementing this scenario would require you to use the message activities to receive the price request, retrieve the prices from the back-end services, and reply to the price request with the best price.</span></span> <span data-ttu-id="f7312-119">Também exigiria que você usasse outras atividades fora da caixa para criar a lógica de negócios para calcular o melhor preço.</span><span class="sxs-lookup"><span data-stu-id="f7312-119">It would also require you to use other out-of-box activities to create the business logic for calculating the best price.</span></span>

## <a name="workflowservicehost"></a><span data-ttu-id="f7312-120">WorkflowServiceHost</span><span class="sxs-lookup"><span data-stu-id="f7312-120">WorkflowServiceHost</span></span>

<span data-ttu-id="f7312-121">O <xref:System.ServiceModel.WorkflowServiceHost> é o host de fluxo de trabalho fora da caixa que suporta várias instâncias, configuração e mensagens WCF (embora os fluxos de trabalho não sejam necessários para usar mensagens para serem hospedados).</span><span class="sxs-lookup"><span data-stu-id="f7312-121">The <xref:System.ServiceModel.WorkflowServiceHost> is the out-of-box workflow host that supports multiple instances, configuration, and WCF messaging (although the workflows aren't required to use messaging in order to be hosted).</span></span> <span data-ttu-id="f7312-122">Ele também se integra com persistência, rastreamento e controle de instâncias através de um conjunto de comportamentos de serviço.</span><span class="sxs-lookup"><span data-stu-id="f7312-122">It also integrates with persistence, tracking, and instance control through a set of service behaviors.</span></span> <span data-ttu-id="f7312-123">Assim como o <xref:System.ServiceModel.ServiceHost>WCF, o <xref:System.ServiceModel.WorkflowServiceHost> pode ser auto-hospedado em um aplicativo de console/WinForms/WPF ou serviço Windows, ou hospedado na Web (como um arquivo .xamlx) no IIS ou WAS.</span><span class="sxs-lookup"><span data-stu-id="f7312-123">Just like WCF's <xref:System.ServiceModel.ServiceHost>, the <xref:System.ServiceModel.WorkflowServiceHost> can be self-hosted in a console/WinForms/WPF application or Windows service, or web-hosted (as a .xamlx file) in IIS or WAS.</span></span>

### <a name="getting-started-with-workflow-service-host"></a><span data-ttu-id="f7312-124">Guia de introdução com host de Serviço de Fluxo de Trabalho</span><span class="sxs-lookup"><span data-stu-id="f7312-124">Getting Started with Workflow Service Host</span></span>

- <span data-ttu-id="f7312-125">No Visual Studio 2010, crie um projeto wcf workflow service <xref:System.ServiceModel.WorkflowServiceHost> application: este projeto será configurado para usar em um ambiente de host web.</span><span class="sxs-lookup"><span data-stu-id="f7312-125">In Visual Studio 2010, create a WCF Workflow Service Application project: this project will be set up to use <xref:System.ServiceModel.WorkflowServiceHost> in a web-host environment.</span></span>

- <span data-ttu-id="f7312-126">Para hospedar um fluxo de trabalho de não mensagem, adicione <xref:System.ServiceModel.Activities.WorkflowHostingEndpoint> personalizado que criará a instância com base em uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="f7312-126">In order to host a non-messaging workflow, add a custom <xref:System.ServiceModel.Activities.WorkflowHostingEndpoint> that will create the instance based on a message.</span></span>

- <span data-ttu-id="f7312-127">As instâncias do fluxo de trabalho podem ser controladas <xref:System.ServiceModel.Activities.WorkflowControlEndpoint> (por <xref:System.ServiceModel.WorkflowServiceHost> exemplo, <xref:System.ServiceModel.Activities.WorkflowControlClient>suspensas ou terminadas) adicionando a ao e, em seguida, usando um .</span><span class="sxs-lookup"><span data-stu-id="f7312-127">Workflow instances can be controlled (e.g. suspended or terminated) by adding a <xref:System.ServiceModel.Activities.WorkflowControlEndpoint> to the <xref:System.ServiceModel.WorkflowServiceHost> and then using a <xref:System.ServiceModel.Activities.WorkflowControlClient>.</span></span>

- <span data-ttu-id="f7312-128">Para Exemplos <xref:System.ServiceModel.WorkflowServiceHost> pode ser encontrado nas seções a seguir:</span><span class="sxs-lookup"><span data-stu-id="f7312-128">Samples for the <xref:System.ServiceModel.WorkflowServiceHost> can be found in the following sections:</span></span>

  - [<span data-ttu-id="f7312-129">Execução</span><span class="sxs-lookup"><span data-stu-id="f7312-129">Execution</span></span>](./samples/execution.md)

  - <span data-ttu-id="f7312-130">Aplicação: [Gerenciamento de instâncias suspensas](./samples/suspended-instance-management.md)</span><span class="sxs-lookup"><span data-stu-id="f7312-130">Application: [Suspended Instance Management](./samples/suspended-instance-management.md)</span></span>

- [<span data-ttu-id="f7312-131">Exibição geral dos serviços do fluxo de trabalho de hospedagem</span><span class="sxs-lookup"><span data-stu-id="f7312-131">Hosting Workflow services overview</span></span>](../wcf/feature-details/hosting-workflow-services-overview.md)

### <a name="workflowservicehost-scenario"></a><span data-ttu-id="f7312-132">Cenário de WorkflowServiceHost</span><span class="sxs-lookup"><span data-stu-id="f7312-132">WorkflowServiceHost Scenario</span></span>

<span data-ttu-id="f7312-133">Um serviço BestPriceFinder chama vários serviços de companhias aéreas para encontrar o melhor preço da passagem para uma determinada rota.</span><span class="sxs-lookup"><span data-stu-id="f7312-133">A BestPriceFinder service calls out to multiple airline services to find the best ticket price for a particular route.</span></span> <span data-ttu-id="f7312-134">A implementação deste cenário exigiria que <xref:System.ServiceModel.WorkflowServiceHost>você hospedasse o fluxo de trabalho em .</span><span class="sxs-lookup"><span data-stu-id="f7312-134">Implementing this scenario would require you to host the workflow in <xref:System.ServiceModel.WorkflowServiceHost>.</span></span> <span data-ttu-id="f7312-135">Ele também usaria as atividades de mensagem para receber a solicitação de preço, recuperar os preços dos serviços back-end e responder à solicitação de preço com o melhor preço.</span><span class="sxs-lookup"><span data-stu-id="f7312-135">It would also use the message activities to receive the price request, retrieve the prices from the back-end services, and reply to the price request with the best price.</span></span>

## <a name="correlation"></a><span data-ttu-id="f7312-136">Correlation</span><span class="sxs-lookup"><span data-stu-id="f7312-136">Correlation</span></span>

<span data-ttu-id="f7312-137">Uma correlação é uma das duas coisas:</span><span class="sxs-lookup"><span data-stu-id="f7312-137">A correlation is one of two things:</span></span>

- <span data-ttu-id="f7312-138">Uma maneira de mensagens de agrupamento juntos; ou seja, a relação entre uma mensagem de solicitação e sua resposta.</span><span class="sxs-lookup"><span data-stu-id="f7312-138">A way of grouping messages together; that is, the relationship between a request message and its reply.</span></span>

- <span data-ttu-id="f7312-139">Uma maneira para mapear uma parte de dados a uma instância de serviço</span><span class="sxs-lookup"><span data-stu-id="f7312-139">A way of mapping a piece of data to a service instance</span></span>

### <a name="getting-started"></a><span data-ttu-id="f7312-140">Introdução</span><span class="sxs-lookup"><span data-stu-id="f7312-140">Getting Started</span></span>

- <span data-ttu-id="f7312-141">Para começar com correlação, crie um novo projeto no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f7312-141">To get started with correlation, create a new project in Visual Studio.</span></span> <span data-ttu-id="f7312-142">Crie uma variável do tipo <xref:System.ServiceModel.Activities.CorrelationHandle>.</span><span class="sxs-lookup"><span data-stu-id="f7312-142">Create a variable of type <xref:System.ServiceModel.Activities.CorrelationHandle>.</span></span>

- <span data-ttu-id="f7312-143">Um exemplo de correlação usado para agrupar mensagens seja adjacente uma correlação de solicitação de resposta que agrupe mensagens juntos.</span><span class="sxs-lookup"><span data-stu-id="f7312-143">An example of correlation used to group messages together is a Request-Reply correlation that groups messages together.</span></span>

  - <span data-ttu-id="f7312-144">Em <xref:System.ServiceModel.Activities.Receive> uma atividade, <xref:System.ServiceModel.Activities.Receive.CorrelationInitializers%2A> clique na <xref:System.ServiceModel.Activities.RequestReplyCorrelationInitializer> propriedade e adicione um usando o CorrelaçãoHandle criado no primeiro passo acima.</span><span class="sxs-lookup"><span data-stu-id="f7312-144">On a <xref:System.ServiceModel.Activities.Receive> activity, click on the <xref:System.ServiceModel.Activities.Receive.CorrelationInitializers%2A> property and add a <xref:System.ServiceModel.Activities.RequestReplyCorrelationInitializer> using the CorrelationHandle created in the first step above.</span></span>

  - <span data-ttu-id="f7312-145">Crie <xref:System.ServiceModel.Activities.SendReply> uma atividade clicando com <xref:System.ServiceModel.Activities.Receive> o botão direito do mouse no e clicando em "Criar Enviar Resposta".</span><span class="sxs-lookup"><span data-stu-id="f7312-145">Create a <xref:System.ServiceModel.Activities.SendReply> activity by right-clicking on the <xref:System.ServiceModel.Activities.Receive> and clicking "Create SendReply".</span></span> <span data-ttu-id="f7312-146">Cole-o no fluxo de trabalho após a atividade de <xref:System.ServiceModel.Activities.Receive> .</span><span class="sxs-lookup"><span data-stu-id="f7312-146">Paste it into your workflow after the <xref:System.ServiceModel.Activities.Receive> activity.</span></span>

- <span data-ttu-id="f7312-147">Um exemplo de mapear uma parte de dados a uma instância do serviço é correlação conteudo base que mapeia um conjunto de dados (por exemplo, um ID de ordem) para uma determinada instância de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7312-147">An example of mapping a piece of data to a service instance is content-based correlation which maps a piece of data (for example, an order ID) to a particular workflow instance.</span></span>

  - <span data-ttu-id="f7312-148">Em quaisquer atividades de mensagem, clique na propriedade de `CorrelationInitializers` e adicione <xref:System.ServiceModel.Activities.QueryCorrelationInitializer> usando a variável de <xref:System.ServiceModel.Activities.CorrelationHandle> criado anterior.</span><span class="sxs-lookup"><span data-stu-id="f7312-148">On any messaging activity, click on the `CorrelationInitializers` property and add a <xref:System.ServiceModel.Activities.QueryCorrelationInitializer> using the <xref:System.ServiceModel.Activities.CorrelationHandle> variable created above.</span></span> <span data-ttu-id="f7312-149">Clique duas vezes na propriedade desejada na mensagem (por exemplo, OrderID) no menu suspenso.</span><span class="sxs-lookup"><span data-stu-id="f7312-149">Double-click on the desired property on the message (e.g. OrderID) from the drop-down menu.</span></span> <span data-ttu-id="f7312-150">Defina a propriedade de `CorrelatesWith` à variável de <xref:System.ServiceModel.Activities.CorrelationHandle> usado anterior.</span><span class="sxs-lookup"><span data-stu-id="f7312-150">Set the `CorrelatesWith` property to the <xref:System.ServiceModel.Activities.CorrelationHandle> variable used above.</span></span>

- [<span data-ttu-id="f7312-151">Documentação conceitual de correlação</span><span class="sxs-lookup"><span data-stu-id="f7312-151">Correlation Conceptual Documentation</span></span>](../wcf/feature-details/correlation.md)

### <a name="correlation-scenario"></a><span data-ttu-id="f7312-152">Cenário de correlação</span><span class="sxs-lookup"><span data-stu-id="f7312-152">Correlation Scenario</span></span>

<span data-ttu-id="f7312-153">Um fluxo de trabalho de processamento de pedidos é usado para lidar com a criação de novas ordens e a atualização de ordens existentes que estão em processo.</span><span class="sxs-lookup"><span data-stu-id="f7312-153">An order-processing workflow is used to handle new order creation and updating existing orders that are in process.</span></span> <span data-ttu-id="f7312-154">A implementação desse cenário exigiria que <xref:System.ServiceModel.WorkflowServiceHost> você hospedasse o fluxo de trabalho e usasse as atividades de mensagens.</span><span class="sxs-lookup"><span data-stu-id="f7312-154">Implementing this scenario would require you to host the workflow in <xref:System.ServiceModel.WorkflowServiceHost> and use the messaging activities.</span></span> <span data-ttu-id="f7312-155">Também exigiria correlação com `orderId` base no para garantir que as atualizações sejam feitas no fluxo de trabalho correto.</span><span class="sxs-lookup"><span data-stu-id="f7312-155">It would also require correlation based on the `orderId` to ensure that updates are made to the correct workflow.</span></span>

## <a name="simplified-configuration"></a><span data-ttu-id="f7312-156">Configuração simplificada</span><span class="sxs-lookup"><span data-stu-id="f7312-156">Simplified Configuration</span></span>

<span data-ttu-id="f7312-157">O esquema de configuração do WCF é complexo e fornece aos usuários muitos recursos difíceis de encontrar.</span><span class="sxs-lookup"><span data-stu-id="f7312-157">The WCF configuration schema is complex and provides users with many hard to find features.</span></span> <span data-ttu-id="f7312-158">Em [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)], temos focado em ajudar os usuários wcf configurar seus serviços com os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="f7312-158">In [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)], we have focused on helping WCF users configure their services with the following features:</span></span>

- <span data-ttu-id="f7312-159">Eliminando a necessidade para a configuração explícita por serviço.</span><span class="sxs-lookup"><span data-stu-id="f7312-159">Removing the need for explicit per-service configuration.</span></span> <span data-ttu-id="f7312-160">Se você não configurar \<nenhum serviço> elementos para o seu serviço, e seu serviço não definir programáticamente qualquer ponto final, então um conjunto de pontos finais será automaticamente adicionado ao seu serviço, um por endereço base de serviço e por contrato implementado pelo seu serviço.</span><span class="sxs-lookup"><span data-stu-id="f7312-160">If you do not configure any \<service> elements for your service, and your service does not define programmatically any endpoint, then a set of endpoints will be automatically added to your service, one per service base address and per contract implemented by your service.</span></span>

- <span data-ttu-id="f7312-161">Permite que o usuário para definir valores padrão para associações e comportamentos de WCF, que serão aplicados aos serviços sem a configuração explícita.</span><span class="sxs-lookup"><span data-stu-id="f7312-161">Enables the user to define default values for WCF bindings and behaviors, which will be applied to services with no explicit configuration.</span></span>

- <span data-ttu-id="f7312-162">Os pontos de extremidade padrão definem pontos de extremidade pré-configurados reutilizáveis, que têm valores fixos para uma ou mais propriedades de ponto de extremidade (endereço, associação e contrato), e reservam-nos definir propriedades personalizadas.</span><span class="sxs-lookup"><span data-stu-id="f7312-162">Standard endpoints define reusable preconfigured endpoints, which have fixed values for one or more of the endpoint properties (address, binding and contract), and allow defining custom properties.</span></span>

- <span data-ttu-id="f7312-163">Finalmente, <xref:System.ServiceModel.Configuration.ConfigurationChannelFactory%601> o permite que você faça o gerenciamento central da configuração do cliente WCF, útil em cenários nos quais a configuração é selecionada ou alterada após o tempo de carregamento do domínio do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f7312-163">Finally, the <xref:System.ServiceModel.Configuration.ConfigurationChannelFactory%601> allows you to do central management of WCF client configuration, useful in scenarios in which configuration is selected or changed after the application domain load time.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f7312-164">Introdução</span><span class="sxs-lookup"><span data-stu-id="f7312-164">Getting Started</span></span>

- <span data-ttu-id="f7312-165">[O guia de um desenvolvedor a WCF 4,0](https://docs.microsoft.com/previous-versions/dotnet/articles/ee354381(v=msdn.10))</span><span class="sxs-lookup"><span data-stu-id="f7312-165">[A Developer's Guide to WCF 4.0](https://docs.microsoft.com/previous-versions/dotnet/articles/ee354381(v=msdn.10))</span></span>

- [<span data-ttu-id="f7312-166">Fábrica de canais de configuração</span><span class="sxs-lookup"><span data-stu-id="f7312-166">Configuration Channel Factory</span></span>](xref:System.ServiceModel.Configuration.ConfigurationChannelFactory%601)

- [<span data-ttu-id="f7312-167">Elemento padrão de ponto de extremidade</span><span class="sxs-lookup"><span data-stu-id="f7312-167">Standard Endpoint Element</span></span>](xref:System.ServiceModel.Configuration.StandardEndpointElement)

- [<span data-ttu-id="f7312-168">Melhorias na configuração do serviço no .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="f7312-168">Service configuration improvements in .NET Framework 4</span></span>](https://docs.microsoft.com/archive/blogs/endpoint/service-configuration-improvements-in-net-4)

- [<span data-ttu-id="f7312-169">Erro comum de usuário em .NET 4: Mistyping o nome da configuração de serviço de WF/WCF</span><span class="sxs-lookup"><span data-stu-id="f7312-169">Common User Mistake in .NET 4: Mistyping the WF/WCF Service Configuration Name</span></span>](https://docs.microsoft.com/archive/blogs/endpoint/common-user-mistake-in-net-4-mistyping-the-wfwcf-service-configuration-name)

### <a name="simplified-configuration-scenarios"></a><span data-ttu-id="f7312-170">Cenários simplificados de configuração</span><span class="sxs-lookup"><span data-stu-id="f7312-170">Simplified Configuration Scenarios</span></span>

- <span data-ttu-id="f7312-171">Um desenvolvedor ASMX experiente quer começar a usar o WCF.</span><span class="sxs-lookup"><span data-stu-id="f7312-171">An experienced ASMX developer wants to start using WCF.</span></span> <span data-ttu-id="f7312-172">No entanto, o WCF parece muito complicado!</span><span class="sxs-lookup"><span data-stu-id="f7312-172">However, WCF seems way too complicated!</span></span> <span data-ttu-id="f7312-173">Que é todas essas informações que eu preciso de gravar em um arquivo de configuração?</span><span class="sxs-lookup"><span data-stu-id="f7312-173">What is all that information that I need to write in a configuration file?</span></span> <span data-ttu-id="f7312-174">Em .NET 4, você ainda pode decidir não ter um arquivo de configuração de qualquer.</span><span class="sxs-lookup"><span data-stu-id="f7312-174">In .NET 4, you can even decide to not have a configuration file at all.</span></span>

- <span data-ttu-id="f7312-175">Um conjunto existente de serviços WCF é muito difícil de configurar e manter.</span><span class="sxs-lookup"><span data-stu-id="f7312-175">An existing set of WCF services are very difficult to configure and maintain.</span></span> <span data-ttu-id="f7312-176">O arquivo de configuração possui milhares de linhas de código XML que são bastante perigosas para tocar.</span><span class="sxs-lookup"><span data-stu-id="f7312-176">The configuration file has thousands of lines of XML code that are extremely dangerous to touch.</span></span> <span data-ttu-id="f7312-177">Ajuda é necessária para reduzir a quantidade de código para algo manejável.</span><span class="sxs-lookup"><span data-stu-id="f7312-177">Help is needed to reduce that amount of code to something more manageable.</span></span>

## <a name="data-contract-resolver"></a><span data-ttu-id="f7312-178">Resolução do contrato de dados</span><span class="sxs-lookup"><span data-stu-id="f7312-178">Data Contract Resolver</span></span>

<span data-ttu-id="f7312-179">No .NET 3.5, houve algumas limitações no design de tipos conhecidas:</span><span class="sxs-lookup"><span data-stu-id="f7312-179">In .NET 3.5, there were a few limitations in the design of known types:</span></span>

- <span data-ttu-id="f7312-180">Adicionar tipos conhecidos dinamicamente, durante a serialização desserialização, ou não foi possível.</span><span class="sxs-lookup"><span data-stu-id="f7312-180">Adding known types dynamically, during serialization or deserialization, was not possible.</span></span>

- <span data-ttu-id="f7312-181">Os serializadores não pode manipular informações desconhecida de xsi:type .</span><span class="sxs-lookup"><span data-stu-id="f7312-181">Serializers could not deal with unknown xsi:type information.</span></span>

- <span data-ttu-id="f7312-182">Não foi possível que usuários especificar que xsi:type de deseja ou não ter aparecer no fio, por exemplo, faça o tamanho de uma instância de serialização no fio menor.</span><span class="sxs-lookup"><span data-stu-id="f7312-182">It was not possible for users to specify what xsi:type they would like to have appear on the wire to, for instance, make the size of a serialization instance on the wire smaller.</span></span>

<span data-ttu-id="f7312-183">O [DataContractResolver](../wcf/samples/datacontractresolver.md) resolve esses problemas em .NET 4.5.</span><span class="sxs-lookup"><span data-stu-id="f7312-183">The [DataContractResolver](../wcf/samples/datacontractresolver.md) solves these issues in .NET 4.5.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f7312-184">Introdução</span><span class="sxs-lookup"><span data-stu-id="f7312-184">Getting Started</span></span>

- [<span data-ttu-id="f7312-185">Documentação da API de resolução do contrato de dados</span><span class="sxs-lookup"><span data-stu-id="f7312-185">Data Contract Resolver API documentation</span></span>](xref:System.Runtime.Serialization.DataContractResolver)

- [<span data-ttu-id="f7312-186">Introdução ao resolvedor do contrato de dados</span><span class="sxs-lookup"><span data-stu-id="f7312-186">Introducing the Data Contract Resolver</span></span>](https://docs.microsoft.com/archive/blogs/youssefm/configuring-known-types-dynamically-introducing-the-datacontractresolver)

- <span data-ttu-id="f7312-187">Exemplos:</span><span class="sxs-lookup"><span data-stu-id="f7312-187">Samples:</span></span>

  - [<span data-ttu-id="f7312-188">DataContractResolver</span><span class="sxs-lookup"><span data-stu-id="f7312-188">DataContractResolver</span></span>](../wcf/samples/datacontractresolver.md)

  - [<span data-ttu-id="f7312-189">KnownAssemblyAttribute</span><span class="sxs-lookup"><span data-stu-id="f7312-189">KnownAssemblyAttribute</span></span>](../wcf/samples/knownassemblyattribute.md)

### <a name="data-contract-resolver-scenarios"></a><span data-ttu-id="f7312-190">Cenários de resolução do contrato de dados</span><span class="sxs-lookup"><span data-stu-id="f7312-190">Data Contract Resolver Scenarios</span></span>

- <span data-ttu-id="f7312-191">Evitar ter que declarar <xref:System.Runtime.Serialization.KnownTypeAttribute> de dez objetos em um serviço.</span><span class="sxs-lookup"><span data-stu-id="f7312-191">Avoiding having to declare tens of <xref:System.Runtime.Serialization.KnownTypeAttribute> objects in a service.</span></span>

- <span data-ttu-id="f7312-192">Reduzindo o tamanho da operação XML.</span><span class="sxs-lookup"><span data-stu-id="f7312-192">Reducing the size of the XML blob.</span></span>

## <a name="flowchart"></a><span data-ttu-id="f7312-193">Fluxograma</span><span class="sxs-lookup"><span data-stu-id="f7312-193">Flowchart</span></span>

<span data-ttu-id="f7312-194">O fluxograma é um paradigma conhecido para representar visualmente problemas de domínio.</span><span class="sxs-lookup"><span data-stu-id="f7312-194">Flowchart is a well-known paradigm to visually represent domain problems.</span></span> <span data-ttu-id="f7312-195">É um novo estilo de fluxo de controle que estamos introduzindo em .NET 4.</span><span class="sxs-lookup"><span data-stu-id="f7312-195">It is a new control flow style we're introducing in .NET 4.</span></span> <span data-ttu-id="f7312-196">Uma característica principal do fluxograma é que apenas uma atividade é executada em um determinado momento.</span><span class="sxs-lookup"><span data-stu-id="f7312-196">A core characteristic of Flowchart is that only one activity is executed at any given time.</span></span> <span data-ttu-id="f7312-197">Os fluxogramas podem expressar loop e resultados alternativos, mas não podem expressar nativo a execução simultânea de vários nós.</span><span class="sxs-lookup"><span data-stu-id="f7312-197">Flowcharts can express loops and alternative outcomes, but cannot natively express concurrent execution of multiple nodes.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f7312-198">Introdução</span><span class="sxs-lookup"><span data-stu-id="f7312-198">Getting Started</span></span>

- <span data-ttu-id="f7312-199">No Visual Studio 2012, crie um aplicativo de console de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7312-199">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="f7312-200">Adicione um fluxograma no designer de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7312-200">Add a Flowchart in the workflow designer.</span></span>

- <span data-ttu-id="f7312-201">O recurso de fluxograma usa as seguintes classes:</span><span class="sxs-lookup"><span data-stu-id="f7312-201">The flowchart feature uses the following classes:</span></span>

  - <xref:System.Activities.Statements.Flowchart>

  - <xref:System.Activities.Statements.FlowNode>

  - <xref:System.Activities.Statements.FlowDecision>

  - <xref:System.Activities.Statements.FlowStep>

  - <xref:System.Activities.Statements.FlowSwitch%601>

- <span data-ttu-id="f7312-202">Exemplos:</span><span class="sxs-lookup"><span data-stu-id="f7312-202">Samples:</span></span>

  - [<span data-ttu-id="f7312-203">Tratamento de falha em uma atividade do fluxograma usando TryCatch</span><span class="sxs-lookup"><span data-stu-id="f7312-203">Fault Handling in a Flowchart Activity Using TryCatch</span></span>](./samples/fault-handling-in-a-flowchart-activity-using-trycatch.md)

  - [<span data-ttu-id="f7312-204">Processo de aluguer</span><span class="sxs-lookup"><span data-stu-id="f7312-204">Hiring Process</span></span>](./samples/hiring-process.md)

- <span data-ttu-id="f7312-205">Documentação do designer:</span><span class="sxs-lookup"><span data-stu-id="f7312-205">Designer Documentation:</span></span>

  - [<span data-ttu-id="f7312-206">Designers de atividade de fluxograma</span><span class="sxs-lookup"><span data-stu-id="f7312-206">Flowchart Activity Designers</span></span>](/visualstudio/workflow-designer/flowchart-activity-designers)

### <a name="flowchart-scenarios"></a><span data-ttu-id="f7312-207">Cenários do fluxograma</span><span class="sxs-lookup"><span data-stu-id="f7312-207">Flowchart Scenarios</span></span>

<span data-ttu-id="f7312-208">Uma atividade do fluxograma pode ser usada para implementar um jogo de estimativa.</span><span class="sxs-lookup"><span data-stu-id="f7312-208">A flowchart activity can be used to implement a guessing game.</span></span> <span data-ttu-id="f7312-209">O jogo de estimativa é muito simples: o computador seleciona um número aleatório e o jogador tem que descobrir esse número.</span><span class="sxs-lookup"><span data-stu-id="f7312-209">The guessing game is very simple: the computer selects a random number and the player has to guess that number.</span></span> <span data-ttu-id="f7312-210">Quando o jogador envia cada palpite, o computador mostra-lhes uma dica (ou seja, "tente um número menor").</span><span class="sxs-lookup"><span data-stu-id="f7312-210">When the player submits each guess, the computer shows them a hint (i.e. "try a lower number").</span></span> <span data-ttu-id="f7312-211">Se o jogador encontrar o número em menos de 7 tentativas, ele receberá uma felicitação especial do computador.</span><span class="sxs-lookup"><span data-stu-id="f7312-211">If the player finds the number in less than 7 attempts, they receive a special congratulation from the computer.</span></span> <span data-ttu-id="f7312-212">Esse kit pode ser implementado com uma combinação das seguintes atividades procedurais:</span><span class="sxs-lookup"><span data-stu-id="f7312-212">This game can be implemented with a combination of the following procedural activities:</span></span>

- <xref:System.Activities.Statements.Sequence>

- <xref:System.Activities.Statements.While>

- <xref:System.Activities.Statements.Switch%601>

- <xref:System.Activities.Statements.TryCatch>

- <xref:System.Activities.Statements.Assign%601>

- <xref:System.Activities.Statements.If>

## <a name="procedural-activities-sequence-if-foreach-switch-assign-dowhile-while"></a><span data-ttu-id="f7312-213">Atividades procedurais (sequência, se, ForEach, alterne, atribui, DoWhile, quando)</span><span class="sxs-lookup"><span data-stu-id="f7312-213">Procedural activities (Sequence, If, ForEach, Switch, Assign, DoWhile, While)</span></span>

<span data-ttu-id="f7312-214">As atividades procedurais fornecem um mecanismo para o fluxo de controle em um modelo usando os conceitos que são familiares para programadores.</span><span class="sxs-lookup"><span data-stu-id="f7312-214">Procedural activities provide a mechanism to model sequential control flow using concepts that are familiar to programmers.</span></span> <span data-ttu-id="f7312-215">Essas atividades permitem construções de linguagem de programação tradicionalmente estruturadas e, quando apropriado, fornecem paridade de linguagem com linguagens processuais comuns, como C# e Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="f7312-215">These activities enable traditionally structured programming language constructs and, when appropriate, provide language parity with common procedural languages such as C# and Visual Basic.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f7312-216">Introdução</span><span class="sxs-lookup"><span data-stu-id="f7312-216">Getting Started</span></span>

- <span data-ttu-id="f7312-217">No Visual Studio 2012, crie um aplicativo de console de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7312-217">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="f7312-218">Adicione atividades procedurais no designer de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7312-218">Add procedural activities in the workflow designer.</span></span>

- <span data-ttu-id="f7312-219">Exemplos:</span><span class="sxs-lookup"><span data-stu-id="f7312-219">Samples:</span></span>

  - [<span data-ttu-id="f7312-220">Processo de aluguer</span><span class="sxs-lookup"><span data-stu-id="f7312-220">Hiring Process</span></span>](./samples/hiring-process.md)

  - [<span data-ttu-id="f7312-221">Processo de compra corporativo</span><span class="sxs-lookup"><span data-stu-id="f7312-221">Corporate Purchase Process</span></span>](./samples/corporate-purchase-process.md)

- <span data-ttu-id="f7312-222">Documentação do designer:</span><span class="sxs-lookup"><span data-stu-id="f7312-222">Designer Documentation:</span></span>

  - [<span data-ttu-id="f7312-223">Designer de atividade Parallel</span><span class="sxs-lookup"><span data-stu-id="f7312-223">Parallel Activity Designer</span></span>](/visualstudio/workflow-designer/parallel-activity-designer)

  - [<span data-ttu-id="f7312-224">ParaleloForEach\<T> Designer de Atividades</span><span class="sxs-lookup"><span data-stu-id="f7312-224">ParallelForEach\<T> Activity Designer</span></span>](/visualstudio/workflow-designer/parallelforeach-t-activity-designer)

### <a name="procedural-activity-scenarios"></a><span data-ttu-id="f7312-225">Cenários procedurais de atividades</span><span class="sxs-lookup"><span data-stu-id="f7312-225">Procedural Activity Scenarios</span></span>

- <span data-ttu-id="f7312-226"><xref:System.Activities.Statements.Parallel>: Um sistema de gerenciamento de documentos intranet tem um fluxo de trabalho de aprovação de documentos.</span><span class="sxs-lookup"><span data-stu-id="f7312-226"><xref:System.Activities.Statements.Parallel>: An intranet document management system has a document approval workflow.</span></span> <span data-ttu-id="f7312-227">Documentos precisam ser aprovados por pessoas em vários departamentos antes que eles sejam publicado a intranet.</span><span class="sxs-lookup"><span data-stu-id="f7312-227">Documents need to be approved by people in several departments before they can be published to the intranet.</span></span> <span data-ttu-id="f7312-228">Não há uma ordem estabelecida para as aprovações; eles podem ocorrer a qualquer momento enquanto o documento estiver na fase de "aprovação pendente".</span><span class="sxs-lookup"><span data-stu-id="f7312-228">There isn't an established order for the approvals; they can occur at any time while the document is in the "approval pending" phase.</span></span> <span data-ttu-id="f7312-229">Quando um usuário envia um documento para revisão, ele deve ser aprovado por seu gerente direto, pelo administrador da intranet e pelo gerente de comunicações internas.</span><span class="sxs-lookup"><span data-stu-id="f7312-229">When a user submits a document for review, it must be approved by their direct manager, the intranet administrator, and the internal communications manager.</span></span>

- <span data-ttu-id="f7312-230"><xref:System.Activities.Statements.ParallelForEach%601>: Um aplicativo de WF gerencia compras corporativos dentro de uma grande empresa.</span><span class="sxs-lookup"><span data-stu-id="f7312-230"><xref:System.Activities.Statements.ParallelForEach%601>: A WF application manages corporate buys within a large company.</span></span> <span data-ttu-id="f7312-231">As regras corporativos determina que planejando antes que qualquer operação de compras, as avaliações de três fornecedores diferentes são necessárias.</span><span class="sxs-lookup"><span data-stu-id="f7312-231">The corporate rules dictate that before planning any purchase operation, the valuations of three different vendors is required.</span></span> <span data-ttu-id="f7312-232">Um funcionário do departamento de compras seleciona três fornecedores da lista de fornecedores da empresa.</span><span class="sxs-lookup"><span data-stu-id="f7312-232">An employee from the buying department selects three vendors from the company's vendor list.</span></span> <span data-ttu-id="f7312-233">Depois que esses fornecedores foram selecionados e notificados, a empresa esperará suas propostas econômicas.</span><span class="sxs-lookup"><span data-stu-id="f7312-233">After these vendors have been selected and notified, the company will wait for their economic proposals.</span></span> <span data-ttu-id="f7312-234">As propostas podem vie em qualquer ordem.</span><span class="sxs-lookup"><span data-stu-id="f7312-234">The proposals can come in any order.</span></span> <span data-ttu-id="f7312-235">Para implementar esse cenário em WF, usamos <xref:System.Activities.Statements.ParallelForEach%601> que iterará através da coleção de fornecedores e solicitará suas propostas econômicas.</span><span class="sxs-lookup"><span data-stu-id="f7312-235">To implement this scenario in WF, we use a <xref:System.Activities.Statements.ParallelForEach%601> that will iterate through our collection of vendors and ask for their economic proposals.</span></span> <span data-ttu-id="f7312-236">As oferece são coletadas completos, melhor é selecionado e exibido.</span><span class="sxs-lookup"><span data-stu-id="f7312-236">After all offers are gathered, the best one is selected and displayed.</span></span>

## <a name="invokemethod"></a><span data-ttu-id="f7312-237">InvokeMethod</span><span class="sxs-lookup"><span data-stu-id="f7312-237">InvokeMethod</span></span>

<span data-ttu-id="f7312-238">A atividade de <xref:System.Activities.Statements.InvokeMethod> reserva chamar métodos públicos em objetos ou no escopo.</span><span class="sxs-lookup"><span data-stu-id="f7312-238">The <xref:System.Activities.Statements.InvokeMethod> activity allows invoking public methods in objects or types in scope.</span></span> <span data-ttu-id="f7312-239">Suporta chamar métodos de instância e estática com ou sem parâmetros (que incluem matrizes de parâmetros), e métodos genéricos.</span><span class="sxs-lookup"><span data-stu-id="f7312-239">It supports invoking instance and static methods with or without parameters (including parameter arrays), and generic methods.</span></span> <span data-ttu-id="f7312-240">Também permite executar o método forma síncrona e de forma assíncrona.</span><span class="sxs-lookup"><span data-stu-id="f7312-240">It also allows executing method synchronously and asynchronously.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f7312-241">Introdução</span><span class="sxs-lookup"><span data-stu-id="f7312-241">Getting Started</span></span>

- <span data-ttu-id="f7312-242">No Visual Studio 2012, crie um aplicativo de console de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7312-242">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="f7312-243">Adicione uma atividade de <xref:System.Activities.Statements.InvokeMethod> no designer de fluxo de trabalho, e configurar métodos estáticos e de instância nele.</span><span class="sxs-lookup"><span data-stu-id="f7312-243">Add an <xref:System.Activities.Statements.InvokeMethod> activity in the workflow designer, and configure static and instance methods on it.</span></span>

- <span data-ttu-id="f7312-244">Documentação do designer: [InvokeMethod Activity Designer](/visualstudio/workflow-designer/invokemethod-activity-designer)</span><span class="sxs-lookup"><span data-stu-id="f7312-244">Designer Documentation: [InvokeMethod Activity Designer](/visualstudio/workflow-designer/invokemethod-activity-designer)</span></span>

### <a name="invokemethod-scenarios"></a><span data-ttu-id="f7312-245">Cenários de InvokeMethod</span><span class="sxs-lookup"><span data-stu-id="f7312-245">InvokeMethod Scenarios</span></span>

- <span data-ttu-id="f7312-246">Um método em um objeto no escopo precisa ser chamado.</span><span class="sxs-lookup"><span data-stu-id="f7312-246">A method in an object in scope needs to be invoked.</span></span> <span data-ttu-id="f7312-247">Por exemplo, um valor precisa ser adicionado a um dicionário.</span><span class="sxs-lookup"><span data-stu-id="f7312-247">For example, a value needs to be added to a dictionary.</span></span> <span data-ttu-id="f7312-248">Adicione o método de instância do dicionário é invocado, e a chave e o valor é fornecido.</span><span class="sxs-lookup"><span data-stu-id="f7312-248">The Add method of the instance of the dictionary is invoked, and the key and value are provided.</span></span>

- <span data-ttu-id="f7312-249">Um método precisa ser chamado em um objeto CLR herdado.</span><span class="sxs-lookup"><span data-stu-id="f7312-249">A method needs to be invoked on a legacy CLR object.</span></span> <span data-ttu-id="f7312-250">Em vez de criar uma atividade personalizado para envolver a chamada à classe herdado, se estiver no escopo durante a execução de fluxo de trabalho, <xref:System.Activities.Statements.InvokeMethod> pode ser usado.</span><span class="sxs-lookup"><span data-stu-id="f7312-250">Instead of creating a custom activity to wrap the call to that legacy class, if it is in scope during the workflow execution, <xref:System.Activities.Statements.InvokeMethod> can be used.</span></span>

## <a name="error-handling-activities"></a><span data-ttu-id="f7312-251">Atividades de tratamento de erro</span><span class="sxs-lookup"><span data-stu-id="f7312-251">Error handling activities</span></span>

<span data-ttu-id="f7312-252">A <xref:System.Activities.Statements.TryCatch> atividade fornece um mecanismo para capturar exceções que ocorrem durante a execução de um conjunto de atividades contidas (semelhante ao conjunto Try/Catch em C# e Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="f7312-252">The <xref:System.Activities.Statements.TryCatch> activity provides a mechanism for catching exceptions that occur during the execution of a set of contained activities (similar to the Try/Catch construct in C# and Visual Basic).</span></span> <span data-ttu-id="f7312-253"><xref:System.Activities.Statements.TryCatch> fornece tratamento de exceção a nível de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7312-253"><xref:System.Activities.Statements.TryCatch> provides exception handling at the workflow level.</span></span> <span data-ttu-id="f7312-254">Quando uma exceção não tratada é lançada, o fluxo de trabalho é abortado e o bloco Finally não será executado.</span><span class="sxs-lookup"><span data-stu-id="f7312-254">When an unhandled exception is thrown, the workflow is aborted and the Finally block won't be executed.</span></span> <span data-ttu-id="f7312-255">Esse comportamento é consistente com o C#.</span><span class="sxs-lookup"><span data-stu-id="f7312-255">This behavior is consistent with C#.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f7312-256">Introdução</span><span class="sxs-lookup"><span data-stu-id="f7312-256">Getting Started</span></span>

- <span data-ttu-id="f7312-257">No Visual Studio 2012, crie um aplicativo de console de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7312-257">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="f7312-258">Adicione uma atividade de <xref:System.Activities.Statements.TryCatch> no designer de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7312-258">Add a <xref:System.Activities.Statements.TryCatch> activity in the workflow designer.</span></span>

- <span data-ttu-id="f7312-259">Amostra: [Manipulação de falhas em uma atividade de fluxograma usando tryCatch](./samples/fault-handling-in-a-flowchart-activity-using-trycatch.md)</span><span class="sxs-lookup"><span data-stu-id="f7312-259">Sample: [Fault Handling in a Flowchart Activity Using TryCatch](./samples/fault-handling-in-a-flowchart-activity-using-trycatch.md)</span></span>

- <span data-ttu-id="f7312-260">Documentação do designer: [Designers de atividades de manipulação de erros](/visualstudio/workflow-designer/error-handling-activity-designers)</span><span class="sxs-lookup"><span data-stu-id="f7312-260">Designer Documentation: [Error Handling Activity Designers](/visualstudio/workflow-designer/error-handling-activity-designers)</span></span>

### <a name="error-handling-scenarios"></a><span data-ttu-id="f7312-261">Cenários de manipulação de erro</span><span class="sxs-lookup"><span data-stu-id="f7312-261">Error handling scenarios</span></span>

<span data-ttu-id="f7312-262">Um conjunto de atividades precisa ser executado, e a lógica específica precisa ser executada quando ocorre um erro.</span><span class="sxs-lookup"><span data-stu-id="f7312-262">A set of activities needs to be executed, and specific logic needs to be executed when an error occurs.</span></span> <span data-ttu-id="f7312-263">Se durante essa lógica de tratamento de erros que se encontra o erro é não recuperável, a exceção será rethrown, e a atividade pai (ou o host) manipulará o problema.</span><span class="sxs-lookup"><span data-stu-id="f7312-263">If during that error handling logic it is found that the error is not recoverable, the exception will be rethrown, and the parent activity (or the host) will deal with the problem.</span></span>

## <a name="pick-activity"></a><span data-ttu-id="f7312-264">Atividade de picareta</span><span class="sxs-lookup"><span data-stu-id="f7312-264">Pick activity</span></span>

<span data-ttu-id="f7312-265">A atividade de <xref:System.Activities.Statements.Pick> fornece o fluxo de controle baseado em que modela WF.</span><span class="sxs-lookup"><span data-stu-id="f7312-265">The <xref:System.Activities.Statements.Pick> Activity provides event-based control flow modeling in WF.</span></span> <span data-ttu-id="f7312-266"><xref:System.Activities.Statements.Pick> contém várias ramificações onde cada ramificação espera um determinado evento ocorra antes de executar.</span><span class="sxs-lookup"><span data-stu-id="f7312-266"><xref:System.Activities.Statements.Pick> contains many branches where each branch waits for a particular event to occur before running.</span></span> <span data-ttu-id="f7312-267">Nessa configuração, <xref:System.Activities.Statements.Pick> se comporta semelhante a <xref:System.Activities.Statements.Switch%601> que a atividade será executado somente de um conjunto de eventos que está escuta.</span><span class="sxs-lookup"><span data-stu-id="f7312-267">In this setup, a <xref:System.Activities.Statements.Pick> behaves similar to a <xref:System.Activities.Statements.Switch%601> to which the Activity will execute only one of the set of events it is listening.</span></span> <span data-ttu-id="f7312-268">Cada ramificação é causado evento e o evento que ocorre executa a ramificação correspondente primeiro.</span><span class="sxs-lookup"><span data-stu-id="f7312-268">Each branch is event driven and the event that occurs runs the corresponding branch first.</span></span> <span data-ttu-id="f7312-269">Quaisquer outras ramificações cancelarem e param de ouvir eventos.</span><span class="sxs-lookup"><span data-stu-id="f7312-269">All other branches cancel and stop listening for events.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f7312-270">Introdução</span><span class="sxs-lookup"><span data-stu-id="f7312-270">Getting Started</span></span>

- <span data-ttu-id="f7312-271">No Visual Studio 2012, crie um aplicativo de console de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7312-271">In Visual Studio 2012, create a workflow console application.</span></span> <span data-ttu-id="f7312-272">Adicione uma atividade de <xref:System.Activities.Statements.Pick> no designer de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7312-272">Add a <xref:System.Activities.Statements.Pick> activity in the workflow designer.</span></span>

- <span data-ttu-id="f7312-273">Amostra: [Usando a atividade de escolha](./samples/using-the-pick-activity.md)</span><span class="sxs-lookup"><span data-stu-id="f7312-273">Sample: [Using the Pick Activity](./samples/using-the-pick-activity.md)</span></span>

- <span data-ttu-id="f7312-274">Documentação do designer: [Pick Activity Designer](/visualstudio/workflow-designer/pick-activity-designer)</span><span class="sxs-lookup"><span data-stu-id="f7312-274">Designer documentation: [Pick Activity Designer](/visualstudio/workflow-designer/pick-activity-designer)</span></span>

### <a name="pick-scenario"></a><span data-ttu-id="f7312-275">Cenário de picareta</span><span class="sxs-lookup"><span data-stu-id="f7312-275">Pick Scenario</span></span>

<span data-ttu-id="f7312-276">Um usuário precisa ser solicitado para a entrada.</span><span class="sxs-lookup"><span data-stu-id="f7312-276">A user needs to be prompted for input.</span></span> <span data-ttu-id="f7312-277">Em circunstâncias normais, o desenvolvedor <xref:System.Console.ReadLine%2A> usaria uma chamada de método como solicitar a entrada de um usuário.</span><span class="sxs-lookup"><span data-stu-id="f7312-277">Under normal circumstances, the developer would use a method call like <xref:System.Console.ReadLine%2A> to prompt for a user's input.</span></span> <span data-ttu-id="f7312-278">O problema com essa configuração é que o programa espera até que o usuário digite algo.</span><span class="sxs-lookup"><span data-stu-id="f7312-278">The problem with this setup is that the program waits until the user enters something.</span></span> <span data-ttu-id="f7312-279">Nesse cenário, um tempo limite é necessário desbloquear uma atividade de bloqueio.</span><span class="sxs-lookup"><span data-stu-id="f7312-279">In this scenario, a time-out is needed to unblock a blocking activity.</span></span> <span data-ttu-id="f7312-280">Um cenário comum é um que requer uma tarefa ser concluído em uma determinada duração de tempo.</span><span class="sxs-lookup"><span data-stu-id="f7312-280">A common scenario is one that requires a task to be completed within a given time duration.</span></span> <span data-ttu-id="f7312-281">Tempo para fora uma atividade de bloqueio é um cenário onde a picareta adicionar muito valor.</span><span class="sxs-lookup"><span data-stu-id="f7312-281">Timing out a blocking activity is a scenario where Pick adds a lot of value.</span></span>

## <a name="wcf-routing-service"></a><span data-ttu-id="f7312-282">WCF que requer o serviço</span><span class="sxs-lookup"><span data-stu-id="f7312-282">WCF Routing Service</span></span>

<span data-ttu-id="f7312-283">O Serviço de Roteamento foi projetado para ser um roteador de software genérico que permite controlar como as mensagens WCF fluem entre seus clientes e serviços.</span><span class="sxs-lookup"><span data-stu-id="f7312-283">The Routing Service is designed to be a generic software Router that allows you to control how WCF messages flow in between your clients and services.</span></span> <span data-ttu-id="f7312-284">O Serviço de Roteamento permite que você desacoplei seus clientes de seus serviços, o que lhe dá muito mais liberdade em termos das configurações que você pode suportar e da flexibilidade que você tem ao considerar como hospedar seus serviços.</span><span class="sxs-lookup"><span data-stu-id="f7312-284">The Routing Service allows you to decouple your clients from your services, which gives you much more freedom in terms of the configurations that you can support and the flexibility you have when considering how to host your services.</span></span> <span data-ttu-id="f7312-285">No .NET 3.5, clientes e serviços foram fortemente acoplados; um cliente tinha que saber sobre todos os serviços que precisava conversar e onde eles estavam localizados.</span><span class="sxs-lookup"><span data-stu-id="f7312-285">In .NET 3.5, clients and services were tightly coupled; a client had to know about all of the services it needed to talk to and where they were located.</span></span> <span data-ttu-id="f7312-286">Além disso, o WCF no Quadro .NET 3.5 tinha as seguintes limitações:</span><span class="sxs-lookup"><span data-stu-id="f7312-286">In addition, WCF in .NET Framework 3.5 had the following limitations:</span></span>

- <span data-ttu-id="f7312-287">Manipulação de erro foi complexo, como essa lógica tinha que ser embutido no cliente.</span><span class="sxs-lookup"><span data-stu-id="f7312-287">Error handling was complex, as this logic had to be hard-coded into the client.</span></span>

- <span data-ttu-id="f7312-288">Os clientes e serviços tinham que sempre usar as mesmas associações.</span><span class="sxs-lookup"><span data-stu-id="f7312-288">Clients and services had to always use the same bindings.</span></span>

- <span data-ttu-id="f7312-289">Os serviços foram raramente bom acrescentado: é mais fácil ter a conversa de cliente a um serviço que implementa todos, em vez de precisando de escolher entre vários serviços.</span><span class="sxs-lookup"><span data-stu-id="f7312-289">Services were rarely well factored: it is easier to have the client talk to one service which implements everything, rather than needing to choose between multiple services.</span></span>

<span data-ttu-id="f7312-290">O serviço de roteamento em .NET 4 foi projetado para tornar esses problemas mais fáceis de resolver.</span><span class="sxs-lookup"><span data-stu-id="f7312-290">The routing service in .NET 4 is designed to make these problems easier to solve.</span></span> <span data-ttu-id="f7312-291">O novo serviço de roteamento possui os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="f7312-291">The new routing service has the following features:</span></span>

1. <span data-ttu-id="f7312-292">O conteúdo do roteamento (os objetos de<xref:System.ServiceModel.Dispatcher.MessageFilter> examinar uma mensagem para determinar onde deve ser enviada.)</span><span class="sxs-lookup"><span data-stu-id="f7312-292">Content based routing (<xref:System.ServiceModel.Dispatcher.MessageFilter> objects examine a message to determine where it should be sent.)</span></span>

2. <span data-ttu-id="f7312-293">Ponte de protocolo (transporte & mensagem)</span><span class="sxs-lookup"><span data-stu-id="f7312-293">Protocol bridging (transport & message)</span></span>

3. <span data-ttu-id="f7312-294">Tratamento de erros (o roteador captura exceções de comunicação e efetua o failover para pontos de extremidade alternativos)</span><span class="sxs-lookup"><span data-stu-id="f7312-294">Error handling (the router catches communication exceptions and fails over to backup endpoints)</span></span>

4. <span data-ttu-id="f7312-295">(Na memória) atualização dinâmica de <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601> e configuração de roteamento.</span><span class="sxs-lookup"><span data-stu-id="f7312-295">Dynamic (in memory) update of <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601> and Routing Configuration.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f7312-296">Introdução</span><span class="sxs-lookup"><span data-stu-id="f7312-296">Getting Started</span></span>

1. <span data-ttu-id="f7312-297">Documentação: [Roteamento](../wcf/feature-details/routing.md)</span><span class="sxs-lookup"><span data-stu-id="f7312-297">Documentation: [Routing](../wcf/feature-details/routing.md)</span></span>

2. <span data-ttu-id="f7312-298">Amostras: [Serviços de roteamento &#91;amostras WCF&#93;](../wcf/samples/routing-services.md)</span><span class="sxs-lookup"><span data-stu-id="f7312-298">Samples: [Routing Services &#91;WCF Samples&#93;](../wcf/samples/routing-services.md)</span></span>

3. <span data-ttu-id="f7312-299">Blog: [Regras de roteamento!](https://docs.microsoft.com/archive/blogs/RoutingRules/)</span><span class="sxs-lookup"><span data-stu-id="f7312-299">Blog: [Routing Rules!](https://docs.microsoft.com/archive/blogs/RoutingRules/)</span></span>

### <a name="routing-scenarios"></a><span data-ttu-id="f7312-300">Cenários de roteamento</span><span class="sxs-lookup"><span data-stu-id="f7312-300">Routing Scenarios</span></span>

<span data-ttu-id="f7312-301">O serviço de roteamento é útil nas seguintes situações:</span><span class="sxs-lookup"><span data-stu-id="f7312-301">The routing service is useful in the following scenarios:</span></span>

- <span data-ttu-id="f7312-302">Os clientes podem falar a vários serviços sem ter que evitá-los diretamente todos.</span><span class="sxs-lookup"><span data-stu-id="f7312-302">Clients can talk to multiple services without having to address them all directly.</span></span>

- <span data-ttu-id="f7312-303">Os clientes podem executar lógica adicional em uma solicitação de cliente determinar onde rotear-la</span><span class="sxs-lookup"><span data-stu-id="f7312-303">Clients can perform additional logic on a client request to determine where to route it</span></span>

- <span data-ttu-id="f7312-304">Decompor as operações que um cliente é executado em várias implementações de serviço sem refatoração o cliente.</span><span class="sxs-lookup"><span data-stu-id="f7312-304">Decompose the operations a client performs into multiple service implementations without refactoring the client.</span></span>

- <span data-ttu-id="f7312-305">Os clientes e serviços podem falar associações diferentes com as configurações de segurança diferentes.</span><span class="sxs-lookup"><span data-stu-id="f7312-305">Clients and services can speak different bindings with different security settings.</span></span>

- <span data-ttu-id="f7312-306">Os clientes podem ser ativados para ser mais robustos contra a falhar ou a indisponibilidade de serviços.</span><span class="sxs-lookup"><span data-stu-id="f7312-306">Clients can be enabled to be more robust against failure or the unavailability of services.</span></span>

## <a name="wcf-discovery"></a><span data-ttu-id="f7312-307">Descoberta de WCF</span><span class="sxs-lookup"><span data-stu-id="f7312-307">WCF Discovery</span></span>

<span data-ttu-id="f7312-308">WCF Discovery é uma tecnologia de estrutura que permite incorporar um mecanismo de descoberta à infra-estrutura de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="f7312-308">WCF Discovery is a framework technology that allows you to incorporate a discovery mechanism to your application infrastructure.</span></span> <span data-ttu-id="f7312-309">Você pode usar esse para fazer o serviço para descobrir, e configurar seus clientes para procurar pelos serviços.</span><span class="sxs-lookup"><span data-stu-id="f7312-309">You can use this to make your service discoverable, and configure your clients to search for services.</span></span> <span data-ttu-id="f7312-310">Os clientes não precisam ser codificados difícil com ponto final, fazendo seu aplicativo mais robusta e tolerante falha.</span><span class="sxs-lookup"><span data-stu-id="f7312-310">Clients no longer need to be hard coded with endpoint, making your application more robust and fault tolerant.</span></span> <span data-ttu-id="f7312-311">A descoberta é a plataforma perfeita para compilar recursos de uma configuração em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f7312-311">Discovery is the perfect platform to build auto-configuration capabilities into your application.</span></span>

<span data-ttu-id="f7312-312">O produto é construído sobre o padrão de WS- descoberta.</span><span class="sxs-lookup"><span data-stu-id="f7312-312">The product is built on top of the WS-Discovery standard.</span></span> <span data-ttu-id="f7312-313">Foi projetado para ser interoperável, extensível e genérico.</span><span class="sxs-lookup"><span data-stu-id="f7312-313">It's designed to be interoperable, extensible, and generic.</span></span> <span data-ttu-id="f7312-314">O modo de apoios ao produto dois de operação:</span><span class="sxs-lookup"><span data-stu-id="f7312-314">The product supports two modes of operation:</span></span>

1. <span data-ttu-id="f7312-315">Gerenciado: onde há uma entidade na rede conhecedoa sobre serviços existentes, os clientes consultar-la diretamente para informações.</span><span class="sxs-lookup"><span data-stu-id="f7312-315">Managed: where there is an entity on the network knowledgeable about existing services, clients query it directly for information.</span></span> <span data-ttu-id="f7312-316">Isso é análogo a Ative Directory.</span><span class="sxs-lookup"><span data-stu-id="f7312-316">This is analogous to Active Directory.</span></span>

2. <span data-ttu-id="f7312-317">Ad hoc: onde mensagens multicast de clientes usam localizar serviços.</span><span class="sxs-lookup"><span data-stu-id="f7312-317">Ad-hoc: where clients use multicast messages to locate services.</span></span>

<span data-ttu-id="f7312-318">Além disso, as mensagens de descoberta são protocolo de rede desconhecido; você pode usá-los em superior qualquer protocolo que oferecer suporte aos requisitos de modo.</span><span class="sxs-lookup"><span data-stu-id="f7312-318">Furthermore, discovery messages are network protocol agnostic; you can use them on top any protocol that supports the mode requirements.</span></span> <span data-ttu-id="f7312-319">Por exemplo, a descoberta de mensagens multicast pode ser enviada pelo canal UDP ou qualquer outra rede que suporte mensagens multicast.</span><span class="sxs-lookup"><span data-stu-id="f7312-319">For example, discovery multicast messages can be sent over the UDP channel or any other network that supports multicast messaging.</span></span> <span data-ttu-id="f7312-320">Esses pontos de design, combinados com a flexibilidade de recursos, permitem que você adapte a descoberta especificamente à sua solução.</span><span class="sxs-lookup"><span data-stu-id="f7312-320">These design points, combined with feature flexibility, allow you to adapt the discovery specifically to your solution.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f7312-321">Introdução</span><span class="sxs-lookup"><span data-stu-id="f7312-321">Getting Started</span></span>

- <span data-ttu-id="f7312-322">Documentação: [WCF Discovery](../wcf/feature-details/wcf-discovery.md)</span><span class="sxs-lookup"><span data-stu-id="f7312-322">Documentation: [WCF Discovery](../wcf/feature-details/wcf-discovery.md)</span></span>

- <span data-ttu-id="f7312-323">Amostras: [Descoberta (Amostras)](../wcf/samples/discovery-samples.md)</span><span class="sxs-lookup"><span data-stu-id="f7312-323">Samples: [Discovery (Samples)](../wcf/samples/discovery-samples.md)</span></span>

### <a name="discovery-scenarios"></a><span data-ttu-id="f7312-324">Cenários de descoberta</span><span class="sxs-lookup"><span data-stu-id="f7312-324">Discovery Scenarios</span></span>

<span data-ttu-id="f7312-325">Um desenvolvedor não deseja para pontos de extremidade difícil de código, desde que é conhecido quando serviço my estão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="f7312-325">A developer doesn't want to hard code endpoints, since it is unknown when my service will be available.</span></span> <span data-ttu-id="f7312-326">Em vez disso, o desenvolvedor deseja escolha um serviço em runtime.</span><span class="sxs-lookup"><span data-stu-id="f7312-326">Instead, the developer wants to choose a service at runtime.</span></span> <span data-ttu-id="f7312-327">Mais desacoplar, vigor, e uma configuração são necessários entre os componentes no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f7312-327">More decoupling, robustness, and auto-configuration is needed between the components in the application.</span></span>

## <a name="tracking"></a><span data-ttu-id="f7312-328">Acompanhamento</span><span class="sxs-lookup"><span data-stu-id="f7312-328">Tracking</span></span>

<span data-ttu-id="f7312-329">O rastreamento do fluxo de trabalho fornece informações sobre a execução de uma instância de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7312-329">Workflow tracking provides insight into the execution of a workflow instance.</span></span> <span data-ttu-id="f7312-330">Os eventos de rastreamento são emitidos a partir de um fluxo de trabalho no nível de instância do fluxo de trabalho e quando as atividades dentro do fluxo de trabalho são executadas.</span><span class="sxs-lookup"><span data-stu-id="f7312-330">The tracking events are emitted from a workflow at the workflow instance level and when activities within the workflow execute.</span></span> <span data-ttu-id="f7312-331">Um participante de acompanhamento de fluxo de trabalho precisa ser adicionado ao host de fluxo de trabalho para assinar a acompanhar registros.</span><span class="sxs-lookup"><span data-stu-id="f7312-331">A workflow tracking participant needs to be added to the workflow host to subscribe to tracking records.</span></span> <span data-ttu-id="f7312-332">Os registros de rastreamento são filtrados utilizando um perfil de rastreamento.</span><span class="sxs-lookup"><span data-stu-id="f7312-332">The tracking records are filtered using a tracking profile.</span></span> <span data-ttu-id="f7312-333">O .NET Framework fornece um participante de rastreamento ETW (Event Tracing for Windows) e um perfil básico é instalado no arquivo machine.config.</span><span class="sxs-lookup"><span data-stu-id="f7312-333">The .NET Framework provides an ETW (Event Tracing for Windows) tracking participant, and a basic profile is installed in the machine.config file.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f7312-334">Introdução</span><span class="sxs-lookup"><span data-stu-id="f7312-334">Getting Started</span></span>

1. <span data-ttu-id="f7312-335">No Visual Studio 2010, crie um projeto wcf workflow service application.</span><span class="sxs-lookup"><span data-stu-id="f7312-335">In Visual Studio 2010, create a WCF Workflow Service Application project.</span></span> <span data-ttu-id="f7312-336">Um par de <xref:System.ServiceModel.Activities.Receive> e de <xref:System.ServiceModel.Activities.SendReply> será colocado na tela para o início.</span><span class="sxs-lookup"><span data-stu-id="f7312-336">A <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply> pair will be placed on your canvas to start.</span></span>

2. <span data-ttu-id="f7312-337">Abra o web.config e adicionar um comportamento de rastreamento de ETW sem o perfil.</span><span class="sxs-lookup"><span data-stu-id="f7312-337">Open the web.config and add an ETW tracking behavior with no profile.</span></span>

    1. <span data-ttu-id="f7312-338">O perfil padrão é usado.</span><span class="sxs-lookup"><span data-stu-id="f7312-338">The default profile is used.</span></span>

    2. <span data-ttu-id="f7312-339">Abrir o visualizador de eventos e habilitar o canal analítico no seguinte nó: **Visualizador de eventos,** **Registros de aplicativos e serviços,** **Microsoft,** **Windows,** **Application Server-Applications**.</span><span class="sxs-lookup"><span data-stu-id="f7312-339">Open event viewer and enable the analytic channel in the following node: **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**.</span></span> <span data-ttu-id="f7312-340">Clique com o botão direito do mouse **Em Análise** e **selecione Ativar log**.</span><span class="sxs-lookup"><span data-stu-id="f7312-340">Right-click **Analytic** and select **Enable Log**.</span></span>

    3. <span data-ttu-id="f7312-341">Execute o serviço de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7312-341">Run the workflow service.</span></span>

    4. <span data-ttu-id="f7312-342">Observe os eventos de rastreamento de fluxo de trabalho no visualizador de eventos.</span><span class="sxs-lookup"><span data-stu-id="f7312-342">Observe the workflow tracking events in event viewer.</span></span>

3. <span data-ttu-id="f7312-343">Amostras: [Rastreamento](./samples/tracking.md)</span><span class="sxs-lookup"><span data-stu-id="f7312-343">Samples: [Tracking](./samples/tracking.md)</span></span>

4. <span data-ttu-id="f7312-344">Documentação conceitual: [Rastreamento e Rastreamento de Fluxo de Trabalho](workflow-tracking-and-tracing.md)</span><span class="sxs-lookup"><span data-stu-id="f7312-344">Conceptual documentation: [Workflow Tracking and Tracing](workflow-tracking-and-tracing.md)</span></span>

## <a name="sql-workflow-instance-store"></a><span data-ttu-id="f7312-345">Store instância de fluxo de trabalho do SQL</span><span class="sxs-lookup"><span data-stu-id="f7312-345">SQL Workflow Instance Store</span></span>

<span data-ttu-id="f7312-346"><xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> é uma implementação com base no servidor SQL de um armazenamento de instância.</span><span class="sxs-lookup"><span data-stu-id="f7312-346">The <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> is a SQL Server-based implementation of an instance store.</span></span> <span data-ttu-id="f7312-347">Um armazenamento de instância armazena o estado de uma instância em execução junto com todos os dados necessários carregar e continuar essa instância.</span><span class="sxs-lookup"><span data-stu-id="f7312-347">An instance store stores the state of a running instance together with all data necessary to load and resume that instance.</span></span> <span data-ttu-id="f7312-348">O host serviço instrui o armazenamento de instância para salvar o estado da instância se o fluxo de trabalho persistir, e instrui o armazenamento de instância para carregar o estado da instância quando uma mensagem chega para essa instância ou uma atividade do atraso expira.</span><span class="sxs-lookup"><span data-stu-id="f7312-348">The service host instructs the instance store to save the instance state if the workflow persists, and it instructs the instance store to load the instance state when a message arrives for that instance or a delay activity expires.</span></span>

### <a name="getting-started"></a><span data-ttu-id="f7312-349">Introdução</span><span class="sxs-lookup"><span data-stu-id="f7312-349">Getting Started</span></span>

1. <span data-ttu-id="f7312-350">No Visual Studio 2012, crie um Fluxo <xref:System.Activities.Statements.Persist> de Trabalho que contenha uma atividade implícita ou explícita.</span><span class="sxs-lookup"><span data-stu-id="f7312-350">In Visual Studio 2012, create a Workflow that contains an implicit or explicit <xref:System.Activities.Statements.Persist> activity.</span></span> <span data-ttu-id="f7312-351">Adicionar o comportamento de <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> ao seu host serviço de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f7312-351">Add the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> behavior to your workflow service host.</span></span> <span data-ttu-id="f7312-352">Isso pode ser feito no código ou no arquivo de configuração do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f7312-352">This can be done in code or in the application configuration file.</span></span>

2. <span data-ttu-id="f7312-353">Amostras: [Persistência](/previous-versions/dotnet/netframework-4.0/dd699769(v%3dvs.100))</span><span class="sxs-lookup"><span data-stu-id="f7312-353">Samples: [Persistence](/previous-versions/dotnet/netframework-4.0/dd699769(v%3dvs.100))</span></span>

3. <span data-ttu-id="f7312-354">Documentação conceitual: [SQL Workflow Instance Store](sql-workflow-instance-store.md).</span><span class="sxs-lookup"><span data-stu-id="f7312-354">Conceptual documentation: [SQL Workflow Instance Store](sql-workflow-instance-store.md).</span></span>
