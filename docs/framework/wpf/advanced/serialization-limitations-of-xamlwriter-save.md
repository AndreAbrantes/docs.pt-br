---
title: Limitações de serialização de XamlWriter.Save
ms.date: 03/30/2017
helpviewer_keywords:
- XamlWriter.Save [WPF], serialization limitations of
- limitations of XamlWriter.Save
- serialization limitations of XamlWriter.Save
ms.assetid: f86acc91-2b67-4039-8555-505734491d36
ms.openlocfilehash: bf752a5bd05d8a0601f3c1dcd53ab856315c0b84
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64611756"
---
# <a name="serialization-limitations-of-xamlwritersave"></a><span data-ttu-id="df3d0-102">Limitações de serialização de XamlWriter.Save</span><span class="sxs-lookup"><span data-stu-id="df3d0-102">Serialization Limitations of XamlWriter.Save</span></span>
<span data-ttu-id="df3d0-103">O [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)] <xref:System.Windows.Markup.XamlWriter.Save%2A> pode ser usado para serializar o conteúdo de um [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] aplicativo como um [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] arquivo.</span><span class="sxs-lookup"><span data-stu-id="df3d0-103">The [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)] <xref:System.Windows.Markup.XamlWriter.Save%2A> can be used to serialize the contents of a [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] application as a [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] file.</span></span> <span data-ttu-id="df3d0-104">No entanto, existem algumas limitações importantes em exatamente o que é serializado.</span><span class="sxs-lookup"><span data-stu-id="df3d0-104">However, there are some notable limitations in exactly what is serialized.</span></span> <span data-ttu-id="df3d0-105">Essas limitações e algumas considerações gerais são documentadas neste tópico.</span><span class="sxs-lookup"><span data-stu-id="df3d0-105">These limitations and some general considerations are documented in this topic.</span></span>  

<a name="Run_Time__Not_Design_Time_Representation"></a>   
## <a name="run-time-not-design-time-representation"></a><span data-ttu-id="df3d0-106">Representação de tempo de execução, não em tempo de design</span><span class="sxs-lookup"><span data-stu-id="df3d0-106">Run-Time, Not Design-Time Representation</span></span>  
 <span data-ttu-id="df3d0-107">A filosofia básica do que é serializado por uma chamada para <xref:System.Windows.Markup.XamlWriter.Save%2A> é que o resultado será uma representação do objeto serializado, em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="df3d0-107">The basic philosophy of what is serialized by a call to <xref:System.Windows.Markup.XamlWriter.Save%2A> is that the result will be a representation of the object being serialized, at run-time.</span></span> <span data-ttu-id="df3d0-108">Muitas propriedades de tempo de design do original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] arquivo já pode ser otimizado ou perdido no momento que o [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] é carregado como objetos na memória e não são preservadas quando você chama <xref:System.Windows.Markup.XamlWriter.Save%2A> para serializar.</span><span class="sxs-lookup"><span data-stu-id="df3d0-108">Many design-time properties of the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file may already be optimized or lost by the time that the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is loaded as in-memory objects, and are not preserved when you call <xref:System.Windows.Markup.XamlWriter.Save%2A> to serialize.</span></span> <span data-ttu-id="df3d0-109">O resultado serializado é uma representação efetiva da árvore lógica construída do aplicativo, mas não necessariamente do [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] original que a produziu.</span><span class="sxs-lookup"><span data-stu-id="df3d0-109">The serialized result is an effective representation of the constructed logical tree of the application, but not necessarily of the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] that produced it.</span></span> <span data-ttu-id="df3d0-110">Esses problemas tornam extremamente difícil de usar o <xref:System.Windows.Markup.XamlWriter.Save%2A> serialização como parte de uma ampla [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] superfície de design.</span><span class="sxs-lookup"><span data-stu-id="df3d0-110">These issues make it extremely difficult to use the <xref:System.Windows.Markup.XamlWriter.Save%2A> serialization as part of an extensive [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] design surface.</span></span>  
  
<a name="Serialization_is_Self_Contained"></a>   
## <a name="serialization-is-self-contained"></a><span data-ttu-id="df3d0-111">A serialização é independente</span><span class="sxs-lookup"><span data-stu-id="df3d0-111">Serialization is Self-Contained</span></span>  
 <span data-ttu-id="df3d0-112">A saída serializada <xref:System.Windows.Markup.XamlWriter.Save%2A> é autônomo; tudo o que é serializado está contido dentro de uma [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] única página, com um único elemento raiz e nenhuma referência externa que [!INCLUDE[TLA2#tla_uri#plural](../../../../includes/tla2sharptla-urisharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="df3d0-112">The serialized output of <xref:System.Windows.Markup.XamlWriter.Save%2A> is self-contained; everything that is serialized is contained inside a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] single page, with a single root element, and no external references other than [!INCLUDE[TLA2#tla_uri#plural](../../../../includes/tla2sharptla-urisharpplural-md.md)].</span></span> <span data-ttu-id="df3d0-113">Por exemplo, se sua página tiver referenciado recursos de recursos do aplicativo, eles aparecerão como se fossem um componente da página que está sendo serializada.</span><span class="sxs-lookup"><span data-stu-id="df3d0-113">For instance, if your page referenced resources from application resources, these will appear as if they were a component of the page being serialized.</span></span>  
  
<a name="Extension_References_are_Dereferenced"></a>   
## <a name="extension-references-are-dereferenced"></a><span data-ttu-id="df3d0-114">Referências de extensão são desreferenciadas</span><span class="sxs-lookup"><span data-stu-id="df3d0-114">Extension References are Dereferenced</span></span>  
 <span data-ttu-id="df3d0-115">Referências comuns a objetos feitas por vários formatos de extensão de marcação, como `StaticResource` ou `Binding`, serão desreferenciadas pelo processo de serialização.</span><span class="sxs-lookup"><span data-stu-id="df3d0-115">Common references to objects made by various markup extension formats, such as `StaticResource` or `Binding`, will be dereferenced by the serialization process.</span></span> <span data-ttu-id="df3d0-116">Eles já foram desreferenciados no momento em que os objetos na memória foram criados pelo tempo de execução do aplicativo, e o <xref:System.Windows.Markup.XamlWriter.Save%2A> lógica não revisita original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] para restaurar essas referências para a saída serializada.</span><span class="sxs-lookup"><span data-stu-id="df3d0-116">These were already dereferenced at the time that in-memory objects were created by the application runtime, and the <xref:System.Windows.Markup.XamlWriter.Save%2A> logic does not revisit the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] to restore such references to the serialized output.</span></span> <span data-ttu-id="df3d0-117">Isso potencialmente congela qualquer valor obtido de associação de dados ou recurso como sendo o valor usado pela última vez pela representação de tempo de execução, com capacidade apenas limitada ou indireta para distinguir esse valor de qualquer outro valor definido localmente.</span><span class="sxs-lookup"><span data-stu-id="df3d0-117">This potentially freezes any databound or resource obtained value to be the value last used by the run-time representation, with only limited or indirect ability to distinguish such a value from any other value set locally.</span></span> <span data-ttu-id="df3d0-118">As imagens também são serializadas como referências de objeto para imagens como elas existem no projeto e não como referências de fonte originais, perdendo qualquer nome de arquivo ou [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] originalmente referenciado.</span><span class="sxs-lookup"><span data-stu-id="df3d0-118">Images are also serialized as object references to images as they exist in the project, rather than as original source references, losing whatever filename or [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] was originally referenced.</span></span> <span data-ttu-id="df3d0-119">Até mesmo recursos declarados na mesma página são vistos serializados no ponto em que foram referenciados, em vez de serem preservados como uma chave de uma coleção de recursos.</span><span class="sxs-lookup"><span data-stu-id="df3d0-119">Even resources declared within the same page are seen serialized into the point where they were referenced, rather than being preserved as a key of a resource collection.</span></span>  
  
<a name="Event_Handling_is_Not_Preserved"></a>   
## <a name="event-handling-is-not-preserved"></a><span data-ttu-id="df3d0-120">A manipulação de eventos não é preservada</span><span class="sxs-lookup"><span data-stu-id="df3d0-120">Event Handling is Not Preserved</span></span>  
 <span data-ttu-id="df3d0-121">Quando os manipuladores de eventos que são adicionados por meio de [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] são serializados, eles não são preservados.</span><span class="sxs-lookup"><span data-stu-id="df3d0-121">When event handlers that are added through [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] are serialized, they are not preserved.</span></span> <span data-ttu-id="df3d0-122">O [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] sem code-behind (e também sem o mecanismo x:Code relacionado) não tem como serializar a lógica de procedimento de tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="df3d0-122">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] without code-behind (and also without the related x:Code mechanism) has no way of serializing runtime procedural logic.</span></span> <span data-ttu-id="df3d0-123">Uma vez que a serialização é independente e limitada à árvore lógica, não há recurso para armazenar os manipuladores de eventos.</span><span class="sxs-lookup"><span data-stu-id="df3d0-123">Because serialization is self-contained and limited to the logical tree, there is no facility for storing the event handlers.</span></span> <span data-ttu-id="df3d0-124">Como resultado, os atributos de manipulador de eventos, tanto o atributo em si quanto o valor de cadeia de caracteres que nomeia o manipulador, são removidos da saída [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="df3d0-124">As a result, event handler attributes, both the attribute itself and the string value that names the handler, are removed from the output [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>  
  
<a name="Realistic_Scenarios_for_Use_of_XAMLWriter_Save"></a>   
## <a name="realistic-scenarios-for-use-of-xamlwritersave"></a><span data-ttu-id="df3d0-125">Cenários realistas para uso de XAMLWriter.Save</span><span class="sxs-lookup"><span data-stu-id="df3d0-125">Realistic Scenarios for Use of XAMLWriter.Save</span></span>  
 <span data-ttu-id="df3d0-126">Embora as limitações listadas aqui sejam bastante significativas, ainda há vários cenários apropriados para usar <xref:System.Windows.Markup.XamlWriter.Save%2A> para serialização.</span><span class="sxs-lookup"><span data-stu-id="df3d0-126">While the limitations listed here are fairly substantial, there are still several appropriate scenarios for using <xref:System.Windows.Markup.XamlWriter.Save%2A> for serialization.</span></span>  
  
- <span data-ttu-id="df3d0-127">Saída vetorial ou gráfica: A saída da área de dados renderizados pode ser usada para reproduzir os mesmos vetores ou gráficos quando recarregada.</span><span class="sxs-lookup"><span data-stu-id="df3d0-127">Vector or graphical output: The output of the rendered area can be used to reproduce the same vector or graphics when reloaded.</span></span>  
  
- <span data-ttu-id="df3d0-128">Documentos de fluxo e de texto avançados: Texto e todos os confinamento de formatação e o elemento do elemento dentro dele é preservado na saída.</span><span class="sxs-lookup"><span data-stu-id="df3d0-128">Rich text and flow documents: Text and all element formatting and element containment within it is preserved in the output.</span></span> <span data-ttu-id="df3d0-129">Isso pode ser útil para mecanismos que se aproximam de uma funcionalidade de área de transferência.</span><span class="sxs-lookup"><span data-stu-id="df3d0-129">This can be useful for mechanisms that approximate a clipboard functionality.</span></span>  
  
- <span data-ttu-id="df3d0-130">Preservando dados de objeto comercial: Se você tiver dados armazenados em elementos personalizados, como [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] dados, desde que seus objetos comerciais sigam básico [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] regras, como fornecer construtores personalizados e conversão para valores de propriedade por referência, esses objetos comerciais podem ser perpetuados por serialização.</span><span class="sxs-lookup"><span data-stu-id="df3d0-130">Preserving business object data: If you have stored data in custom elements, such as [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] data, so long as your business objects follow basic [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] rules such as providing custom constructors and conversion for by-reference property values, these business objects can be perpetuated through serialization.</span></span>
