---
title: Visão geral de arrastar e soltar
description: Saiba mais sobre o suporte a arrastar e soltar em Windows Presentation Foundation aplicativos, que permite aos usuários arrastar objetos para uma região na interface do usuário.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- drag-and-drop [WPF], implementing
- drag sources [WPF], drag-and-drop
- data transfer [WPF], drag-and-drop
- drag-and-drop [WPF], about
- drag-and-drop [WPF], events
- drop targets [WPF], drag-and-drop
ms.assetid: 1a5b27b0-0ac5-4cdf-86c0-86ac0271fa64
ms.openlocfilehash: 63384e79d8a198e4cc9507ca3266c484c0506e2c
ms.sourcegitcommit: 87cfeb69226fef01acb17c56c86f978f4f4a13db
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/24/2020
ms.locfileid: "87168071"
---
# <a name="drag-and-drop-overview"></a><span data-ttu-id="ae1a8-103">Visão geral de arrastar e soltar</span><span class="sxs-lookup"><span data-stu-id="ae1a8-103">Drag and Drop Overview</span></span>
<span data-ttu-id="ae1a8-104">Este tópico fornece uma visão geral do suporte ao recurso do tipo "arrastar e soltar" em aplicativos do [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ae1a8-104">This topic provides an overview of drag-and-drop support in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] applications.</span></span> <span data-ttu-id="ae1a8-105">Normalmente, o recurso do tipo "arrastar e soltar" se refere a um método de transferência de dados que envolve o uso de um mouse (ou algum outro dispositivo apontador) para selecionar um ou mais objetos, arrastá-los sobre um destino de soltar desejado na [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] e soltá-los.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-105">Drag-and-drop commonly refers to a method of data transfer that involves using a mouse (or some other pointing device) to select one or more objects, dragging these objects over some desired drop target in the [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], and dropping them.</span></span>  

<a name="Drag_and_Drop_Support"></a>
## <a name="drag-and-drop-support-in-wpf"></a><span data-ttu-id="ae1a8-106">Suporte ao recurso do tipo "arrastar e soltar" no WPF</span><span class="sxs-lookup"><span data-stu-id="ae1a8-106">Drag-and-Drop Support in WPF</span></span>  
 <span data-ttu-id="ae1a8-107">Normalmente, as operações do tipo "arrastar e soltar" envolvem duas partes: uma origem do arrasto da qual o objeto arrastado se origina e um destino de soltar que recebe o objeto solto.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-107">Drag-and-drop operations typically involve two parties: a drag source from which the dragged object originates and a drop target which receives the dropped object.</span></span>  <span data-ttu-id="ae1a8-108">A origem do arrasto e o destino de soltar podem ser elementos de interface do usuário no mesmo ou em outro aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-108">The drag source and drop target may be UI elements in the same application or a different application.</span></span>  
  
 <span data-ttu-id="ae1a8-109">O tipo e o número de objetos que podem ser manipulados com o recurso do tipo "arrastar e soltar" é completamente arbitrário.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-109">The type and number of objects that can be manipulated with drag-and-drop is completely arbitrary.</span></span> <span data-ttu-id="ae1a8-110">Por exemplo, arquivos, pastas e seleções de conteúdo são alguns dos objetos mais comuns manipulados por meio de operações do tipo "arrastar e soltar".</span><span class="sxs-lookup"><span data-stu-id="ae1a8-110">For example, files, folders, and selections of content are some of the more common objects manipulated through drag-and-drop operations.</span></span>  
  
 <span data-ttu-id="ae1a8-111">As ações específicas realizadas durante uma operação do tipo "arrastar e soltar" são específicas ao aplicativo e, frequentemente, determinadas pelo contexto.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-111">The particular actions performed during a drag-and-drop operation are application specific, and often determined by context.</span></span>  <span data-ttu-id="ae1a8-112">Por exemplo, arrastar uma seleção de arquivos de uma pasta para outra no mesmo dispositivo de armazenamento move os arquivos por padrão, ao passo que arrastar arquivos de um compartilhamento UNC (Convenção de nomenclatura universal) para uma pasta local copia os arquivos por padrão.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-112">For example, dragging a selection of files from one folder to another on the same storage device moves the files by default, whereas dragging files from a Universal Naming Convention (UNC) share to a local folder copies the files by default.</span></span>  
  
 <span data-ttu-id="ae1a8-113">As funcionalidades do tipo "arrastar e soltar" fornecidas pelo [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] foram projetadas para serem altamente flexíveis e personalizáveis, a fim de dar suporte a uma ampla variedade de cenários de operações do tipo "arrastar e soltar".</span><span class="sxs-lookup"><span data-stu-id="ae1a8-113">The drag-and-drop facilities provided by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] are designed to be highly flexible and customizable to support a wide variety of drag-and-drop scenarios.</span></span>  <span data-ttu-id="ae1a8-114">As operações do tipo "arrastar e soltar" dão suporte à manipulação de objetos em um único aplicativo ou entre diferentes aplicativos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-114">Drag-and-drop supports manipulating objects within a single application, or between different applications.</span></span> <span data-ttu-id="ae1a8-115">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]Também há suporte completo para arrastar e soltar entre aplicativos e outros aplicativos do Windows.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-115">Dragging-and-dropping between [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications and other Windows applications is also fully supported.</span></span>  
  
 <span data-ttu-id="ae1a8-116">No [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] , qualquer <xref:System.Windows.UIElement> um <xref:System.Windows.ContentElement> ou pode participar do tipo "arrastar e soltar".</span><span class="sxs-lookup"><span data-stu-id="ae1a8-116">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], any <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> can participate in drag-and-drop.</span></span> <span data-ttu-id="ae1a8-117">Os eventos e os métodos necessários para operações de arrastar e soltar são definidos na <xref:System.Windows.DragDrop> classe.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-117">The events and methods required for drag-and-drop operations are defined in the <xref:System.Windows.DragDrop> class.</span></span> <span data-ttu-id="ae1a8-118">As <xref:System.Windows.UIElement> <xref:System.Windows.ContentElement> classes e contêm aliases para os <xref:System.Windows.DragDrop> eventos anexados para que os eventos apareçam na lista Membros da classe quando um <xref:System.Windows.UIElement> ou <xref:System.Windows.ContentElement> é herdado como um elemento base.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-118">The <xref:System.Windows.UIElement> and <xref:System.Windows.ContentElement> classes contain aliases for the <xref:System.Windows.DragDrop> attached events so that the events appear in the class members list when a <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> is inherited as a base element.</span></span> <span data-ttu-id="ae1a8-119">Os manipuladores de eventos anexados a esses eventos são anexados ao <xref:System.Windows.DragDrop> evento anexado subjacente e recebem a mesma instância de dados de evento.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-119">Event handlers that are attached to these events are attached to the underlying <xref:System.Windows.DragDrop> attached event and receive the same event data instance.</span></span> <span data-ttu-id="ae1a8-120">Para saber mais, confira o evento <xref:System.Windows.UIElement.Drop?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-120">For more information, see the <xref:System.Windows.UIElement.Drop?displayProperty=nameWithType> event.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="ae1a8-121">Operações do tipo "arrastar e soltar" OLE não funcionarão se você estiver na zona da Internet.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-121">OLE drag-and-drop does not work while in the Internet zone.</span></span>  
  
<a name="Data_Transfer"></a>
## <a name="data-transfer"></a><span data-ttu-id="ae1a8-122">Transferência de dados</span><span class="sxs-lookup"><span data-stu-id="ae1a8-122">Data Transfer</span></span>  
 <span data-ttu-id="ae1a8-123">Arrastar e soltar faz parte da área de transferência de dados mais geral.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-123">Drag-and-drop is part of the more general area of data transfer.</span></span> <span data-ttu-id="ae1a8-124">A transferência de dados inclui operações do tipo "arrastar e soltar" e copiar e colar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-124">Data transfer includes drag-and-drop and copy-and-paste operations.</span></span> <span data-ttu-id="ae1a8-125">Uma operação do tipo "arrastar e soltar" é análoga a uma operação de copiar e colar ou de recortar e colar, que é usada para transferir dados de um objeto ou aplicativo para outro usando a área de transferência do sistema.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-125">A drag-and-drop operation is analogous to a copy-and-paste or cut-and-paste operation that is used to transfer data from one object or application to another by using the system clipboard.</span></span> <span data-ttu-id="ae1a8-126">Os dois tipos de operações exigem:</span><span class="sxs-lookup"><span data-stu-id="ae1a8-126">Both types of operations require:</span></span>  
  
- <span data-ttu-id="ae1a8-127">Um objeto de origem que fornece os dados.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-127">A source object that provides the data.</span></span>  
  
- <span data-ttu-id="ae1a8-128">Uma maneira de armazenar temporariamente os dados transferidos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-128">A way to temporarily store the transferred data.</span></span>  
  
- <span data-ttu-id="ae1a8-129">Um objeto de destino que recebe os dados.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-129">A target object that receives the data.</span></span>  
  
 <span data-ttu-id="ae1a8-130">Em uma operação copiar e colar, a área de transferência do sistema é usada para armazenar temporariamente os dados transferidos; em uma operação de arrastar e soltar, um <xref:System.Windows.DataObject> é usado para armazenar os dados.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-130">In a copy-and-paste operation, the system clipboard is used to temporarily store the transferred data; in a drag-and-drop operation, a <xref:System.Windows.DataObject> is used to store the data.</span></span> <span data-ttu-id="ae1a8-131">Conceitualmente, um objeto de dados consiste em um ou mais pares de um <xref:System.Object> que contém os dados reais e um identificador de formato de dados correspondente.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-131">Conceptually, a data object consists of one or more pairs of an <xref:System.Object> that contains the actual data, and a corresponding data format identifier.</span></span>  
  
 <span data-ttu-id="ae1a8-132">A fonte de arrastar inicia uma operação de arrastar e soltar chamando o <xref:System.Windows.DragDrop.DoDragDrop%2A?displayProperty=nameWithType> método estático e passando os dados transferidos para ele.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-132">The drag source initiates a drag-and-drop operation by calling the static <xref:System.Windows.DragDrop.DoDragDrop%2A?displayProperty=nameWithType> method and passing the transferred data to it.</span></span> <span data-ttu-id="ae1a8-133">O <xref:System.Windows.DragDrop.DoDragDrop%2A> método encapsulará os dados automaticamente em um, <xref:System.Windows.DataObject> se necessário.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-133">The <xref:System.Windows.DragDrop.DoDragDrop%2A> method will automatically wrap the data in a <xref:System.Windows.DataObject> if necessary.</span></span> <span data-ttu-id="ae1a8-134">Para obter mais controle sobre o formato de dados, você pode encapsular os dados em um <xref:System.Windows.DataObject> antes de passá-los para o <xref:System.Windows.DragDrop.DoDragDrop%2A> método.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-134">For greater control over the data format, you can wrap the data in a <xref:System.Windows.DataObject> before passing it to the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="ae1a8-135">O destino de soltura é responsável por extrair os dados do <xref:System.Windows.DataObject> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-135">The drop target is responsible for extracting the data from the <xref:System.Windows.DataObject>.</span></span> <span data-ttu-id="ae1a8-136">Para obter mais informações sobre como trabalhar com objetos de dados, consulte [Dados e objetos de dados](data-and-data-objects.md).</span><span class="sxs-lookup"><span data-stu-id="ae1a8-136">For more information about working with data objects, see [Data and Data Objects](data-and-data-objects.md).</span></span>  
  
 <span data-ttu-id="ae1a8-137">A origem e o destino de uma operação do tipo "arrastar e soltar" são elementos de interface do usuário; no entanto, os dados que realmente são transferidos, normalmente, não têm uma representação visual.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-137">The source and target of a drag-and-drop operation are UI elements; however, the data that is actually being transferred typically does not have a visual representation.</span></span> <span data-ttu-id="ae1a8-138">É possível escrever um código para fornecer uma representação visual dos dados que são arrastados, assim como ocorre ao arrastar arquivos no Windows Explorer.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-138">You can write code to provide a visual representation of the data that is dragged, such as occurs when dragging files in Windows Explorer.</span></span> <span data-ttu-id="ae1a8-139">Por padrão, comentários são fornecidos ao usuário com a alteração do cursor para representar o efeito que a operação do tipo "arrastar e soltar" terá sobre os dados, por exemplo, se os dados serão movidos ou copiados.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-139">By default, feedback is provided to the user by changing the cursor to represent the effect that the drag-and-drop operation will have on the data, such as whether the data will be moved or copied.</span></span>  
  
### <a name="drag-and-drop-effects"></a><span data-ttu-id="ae1a8-140">Efeitos das operações do tipo "arrastar e soltar"</span><span class="sxs-lookup"><span data-stu-id="ae1a8-140">Drag-and-Drop Effects</span></span>  
 <span data-ttu-id="ae1a8-141">Operações do tipo "arrastar e soltar" podem ter efeitos diferentes nos dados transferidos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-141">Drag-and-drop operations can have different effects on the transferred data.</span></span> <span data-ttu-id="ae1a8-142">Por exemplo, é possível copiar os dados ou movê-los.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-142">For example, you can copy the data or you can move the data.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="ae1a8-143">define uma <xref:System.Windows.DragDropEffects> enumeração que você pode usar para especificar o efeito de uma operação de arrastar e soltar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-143">defines a <xref:System.Windows.DragDropEffects> enumeration that you can use to specify the effect of a drag-and-drop operation.</span></span> <span data-ttu-id="ae1a8-144">Na fonte de arrastar, você pode especificar os efeitos que a origem permitirá no <xref:System.Windows.DragDrop.DoDragDrop%2A> método.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-144">In the drag source, you can specify the effects that the source will allow in the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="ae1a8-145">No destino de soltar, você pode especificar o efeito que o destino pretende na <xref:System.Windows.DragEventArgs.Effects%2A> propriedade da <xref:System.Windows.DragEventArgs> classe.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-145">In the drop target, you can specify the effect that the target intends in the <xref:System.Windows.DragEventArgs.Effects%2A> property of the <xref:System.Windows.DragEventArgs> class.</span></span> <span data-ttu-id="ae1a8-146">Quando o destino de soltura especifica seu efeito pretendido no <xref:System.Windows.DragDrop.DragOver> evento, essas informações são passadas de volta para a fonte de arrastar no <xref:System.Windows.DragDrop.GiveFeedback> evento.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-146">When the drop target specifies its intended effect in the <xref:System.Windows.DragDrop.DragOver> event, that information is passed back to the drag source in the <xref:System.Windows.DragDrop.GiveFeedback> event.</span></span> <span data-ttu-id="ae1a8-147">A origem do arrasto usa essas informações para informar ao usuário o efeito que o destino de soltar pretende ter sobre os dados.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-147">The drag source uses this information to inform the user what effect the drop target intends to have on the data.</span></span> <span data-ttu-id="ae1a8-148">Quando os dados são descartados, o destino de soltura especifica seu efeito real no <xref:System.Windows.DragDrop.Drop> evento.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-148">When the data is dropped, the drop target specifies its actual effect in the <xref:System.Windows.DragDrop.Drop> event.</span></span> <span data-ttu-id="ae1a8-149">Essas informações são passadas de volta para a fonte de arrastar como o valor de retorno do <xref:System.Windows.DragDrop.DoDragDrop%2A> método.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-149">That information is passed back to the drag source as the return value of the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="ae1a8-150">Se o destino de soltar retornar um efeito que não está na lista `allowedEffects` da origem do arrasto, a operação do tipo "arrastar e soltar" será cancelada sem nenhuma transferência de dados.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-150">If the drop target returns an effect that is not in the drag sources list of `allowedEffects`, the drag-and-drop operation is cancelled without any data transfer occurring.</span></span>  
  
 <span data-ttu-id="ae1a8-151">É importante lembrar que [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] , em, os <xref:System.Windows.DragDropEffects> valores são usados apenas para fornecer comunicação entre a origem de arrastar e o destino de soltar em relação aos efeitos da operação de arrastar e soltar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-151">It is important to remember that in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the <xref:System.Windows.DragDropEffects> values are only used to provide communication between the drag source and the drop target regarding the effects of the drag-and-drop operation.</span></span> <span data-ttu-id="ae1a8-152">O efeito real da operação do tipo "arrastar e soltar" depende da escrita do código apropriado no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-152">The actual effect of the drag-and-drop operation depends on you to write the appropriate code in your application.</span></span>  
  
 <span data-ttu-id="ae1a8-153">Por exemplo, o destino de soltar pode especificar que o efeito de soltar dados nele é mover os dados.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-153">For example, the drop target might specify that the effect of dropping data on it is to move the data.</span></span> <span data-ttu-id="ae1a8-154">No entanto, para mover os dados, ele deve ser adicionado ao elemento de destino e removido do elemento de origem.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-154">However, to move the data, it must be both added to the target element and removed from the source element.</span></span> <span data-ttu-id="ae1a8-155">O elemento de origem pode indicar que ele permite a movimentação dos dados, mas se você não fornecer o código para remover os dados do elemento de origem, o resultado final será que os dados serão copiados e não movidos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-155">The source element might indicate that it allows moving the data, but if you do not provide the code to remove the data from the source element, the end result will be that the data is copied, and not moved.</span></span>  
  
<a name="Drag_and_Drop_Events"></a>
## <a name="drag-and-drop-events"></a><span data-ttu-id="ae1a8-156">Eventos das operações do tipo "arrastar e soltar"</span><span class="sxs-lookup"><span data-stu-id="ae1a8-156">Drag-and-Drop Events</span></span>  
 <span data-ttu-id="ae1a8-157">As operações do tipo "arrastar e soltar" dão suporte a um modelo controlado por evento.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-157">Drag-and-drop operations support an event driven model.</span></span>  <span data-ttu-id="ae1a8-158">A origem do arrasto e o destino de soltar usam um conjunto padrão de eventos para manipular operações do tipo "arrastar e soltar".</span><span class="sxs-lookup"><span data-stu-id="ae1a8-158">Both the drag source and the drop target use a standard set of events to handle drag-and-drop operations.</span></span>  <span data-ttu-id="ae1a8-159">As tabelas a seguir resumem os eventos padrão das operações do tipo "arrastar e soltar".</span><span class="sxs-lookup"><span data-stu-id="ae1a8-159">The following tables summarize the standard drag-and-drop events.</span></span> <span data-ttu-id="ae1a8-160">Esses são eventos anexados na <xref:System.Windows.DragDrop> classe.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-160">These are attached events on the <xref:System.Windows.DragDrop> class.</span></span> <span data-ttu-id="ae1a8-161">Para obter mais informações sobre eventos anexados, consulte [Visão geral dos eventos anexados](attached-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ae1a8-161">For more information about attached events, see [Attached Events Overview](attached-events-overview.md).</span></span>  
  
### <a name="drag-source-events"></a><span data-ttu-id="ae1a8-162">Eventos de origem do arrasto</span><span class="sxs-lookup"><span data-stu-id="ae1a8-162">Drag Source Events</span></span>  
  
|<span data-ttu-id="ae1a8-163">Evento</span><span class="sxs-lookup"><span data-stu-id="ae1a8-163">Event</span></span>|<span data-ttu-id="ae1a8-164">Resumo</span><span class="sxs-lookup"><span data-stu-id="ae1a8-164">Summary</span></span>|  
|-----------|-------------|  
|<xref:System.Windows.DragDrop.GiveFeedback>|<span data-ttu-id="ae1a8-165">Esse evento ocorre continuamente durante uma operação do tipo "arrastar e soltar" e permite que a origem de soltar forneça informações de comentários ao usuário.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-165">This event occurs continuously during a drag-and-drop operation, and enables the drop source to give feedback information to the user.</span></span> <span data-ttu-id="ae1a8-166">Geralmente, esses comentários são fornecidos com a alteração da aparência do ponteiro do mouse para indicar os efeitos permitidos pelo destino de soltar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-166">This feedback is commonly given by changing the appearance of the mouse pointer to indicate the effects allowed by the drop target.</span></span>  <span data-ttu-id="ae1a8-167">Esse é um evento de propagação.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-167">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.QueryContinueDrag>|<span data-ttu-id="ae1a8-168">Esse evento ocorre quando há uma alteração nos estados do teclado ou do botão do mouse durante uma do tipo "arrastar e soltar" e permite que a origem de soltar cancele a operação do tipo "arrastar e soltar", dependendo dos estados da tecla e do botão.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-168">This event occurs when there is a change in the keyboard or mouse button states during a drag-and-drop operation, and enables the drop source to cancel the drag-and-drop operation depending on the key/button states.</span></span> <span data-ttu-id="ae1a8-169">Esse é um evento de propagação.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-169">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewGiveFeedback>|<span data-ttu-id="ae1a8-170">Versão de túnel do <xref:System.Windows.DragDrop.GiveFeedback> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-170">Tunneling version of <xref:System.Windows.DragDrop.GiveFeedback>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewQueryContinueDrag>|<span data-ttu-id="ae1a8-171">Versão de túnel do <xref:System.Windows.DragDrop.QueryContinueDrag> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-171">Tunneling version of <xref:System.Windows.DragDrop.QueryContinueDrag>.</span></span>|  
  
### <a name="drop-target-events"></a><span data-ttu-id="ae1a8-172">Eventos de destino de soltar</span><span class="sxs-lookup"><span data-stu-id="ae1a8-172">Drop Target Events</span></span>  
  
|<span data-ttu-id="ae1a8-173">Evento</span><span class="sxs-lookup"><span data-stu-id="ae1a8-173">Event</span></span>|<span data-ttu-id="ae1a8-174">Resumo</span><span class="sxs-lookup"><span data-stu-id="ae1a8-174">Summary</span></span>|  
|-----------|-------------|  
|<xref:System.Windows.DragDrop.DragEnter>|<span data-ttu-id="ae1a8-175">Esse evento ocorre quando um objeto é arrastado para os limites do destino de soltar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-175">This event occurs when an object is dragged into the drop target's boundary.</span></span> <span data-ttu-id="ae1a8-176">Esse é um evento de propagação.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-176">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.DragLeave>|<span data-ttu-id="ae1a8-177">Esse evento ocorre quando um objeto é arrastado para fora dos limites do destino de soltar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-177">This event occurs when an object is dragged out of the drop target's boundary.</span></span>  <span data-ttu-id="ae1a8-178">Esse é um evento de propagação.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-178">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.DragOver>|<span data-ttu-id="ae1a8-179">Esse evento ocorre continuamente enquanto um objeto é arrastado (movido) dentro do limite do destino de soltar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-179">This event occurs continuously while an object is dragged (moved) within the drop target's boundary.</span></span> <span data-ttu-id="ae1a8-180">Esse é um evento de propagação.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-180">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.Drop>|<span data-ttu-id="ae1a8-181">Esse evento ocorre quando um objeto é solto no destino de soltar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-181">This event occurs when an object is dropped on the drop target.</span></span>  <span data-ttu-id="ae1a8-182">Esse é um evento de propagação.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-182">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDragEnter>|<span data-ttu-id="ae1a8-183">Versão de túnel do <xref:System.Windows.DragDrop.DragEnter> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-183">Tunneling version of <xref:System.Windows.DragDrop.DragEnter>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDragLeave>|<span data-ttu-id="ae1a8-184">Versão de túnel do <xref:System.Windows.DragDrop.DragLeave> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-184">Tunneling version of <xref:System.Windows.DragDrop.DragLeave>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDragOver>|<span data-ttu-id="ae1a8-185">Versão de túnel do <xref:System.Windows.DragDrop.DragOver> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-185">Tunneling version of <xref:System.Windows.DragDrop.DragOver>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDrop>|<span data-ttu-id="ae1a8-186">Versão de túnel do <xref:System.Windows.DragDrop.Drop> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-186">Tunneling version of <xref:System.Windows.DragDrop.Drop>.</span></span>|  
  
 <span data-ttu-id="ae1a8-187">Para manipular eventos das operações do tipo "arrastar e soltar" em instâncias de um objeto, adicione manipuladores para os eventos listados nas tabelas anteriores.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-187">To handle drag-and-drop events for instances of an object, add handlers for the events listed in the preceding tables.</span></span> <span data-ttu-id="ae1a8-188">Para manipular eventos das operações do tipo "arrastar e soltar" no nível de classe, substitua os métodos virtuais On\*Event e On\*PreviewEvent correspondentes.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-188">To handle drag-and-drop events at the class level, override the corresponding virtual On\*Event and On\*PreviewEvent methods.</span></span> <span data-ttu-id="ae1a8-189">Para obter mais informações, consulte [Manipulação de classes de eventos roteados por classes base de controle](marking-routed-events-as-handled-and-class-handling.md#Class_Handling_of_Routed_Events).</span><span class="sxs-lookup"><span data-stu-id="ae1a8-189">For more information, see [Class Handling of Routed Events by Control Base Classes](marking-routed-events-as-handled-and-class-handling.md#Class_Handling_of_Routed_Events).</span></span>  
  
<a name="Implementing_Drag_And_Drop"></a>
## <a name="implementing-drag-and-drop"></a><span data-ttu-id="ae1a8-190">Implementando operações do tipo "arrastar e soltar"</span><span class="sxs-lookup"><span data-stu-id="ae1a8-190">Implementing Drag-and-Drop</span></span>  
 <span data-ttu-id="ae1a8-191">Um elemento de interface do usuário pode ser uma origem do arrasto, um destino de soltar ou ambos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-191">A UI element can be a drag source, a drop target, or both.</span></span> <span data-ttu-id="ae1a8-192">Para implementar uma operação básica do tipo "arrastar e soltar", um código é escrito para iniciar a operação do tipo "arrastar e soltar" e processar os dados soltos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-192">To implement basic drag-and-drop, you write code to initiate the drag-and-drop operation and to process the dropped data.</span></span> <span data-ttu-id="ae1a8-193">É possível melhorar essa experiência de "arrastar e soltar" manipulando eventos opcionais das operações do tipo "arrastar e soltar".</span><span class="sxs-lookup"><span data-stu-id="ae1a8-193">You can enhance the drag-and-drop experience by handling optional drag-and-drop events.</span></span>  
  
 <span data-ttu-id="ae1a8-194">Para implementar uma operação básica do tipo "arrastar e soltar", você realizará as seguintes tarefas:</span><span class="sxs-lookup"><span data-stu-id="ae1a8-194">To implement basic drag-and-drop, you will complete the following tasks:</span></span>  
  
- <span data-ttu-id="ae1a8-195">Identificar o elemento que será uma origem do arrasto.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-195">Identify the element that will be a drag source.</span></span> <span data-ttu-id="ae1a8-196">Uma fonte de arrastar pode ser uma <xref:System.Windows.UIElement> ou uma <xref:System.Windows.ContentElement> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-196">A drag source can be a <xref:System.Windows.UIElement> or a <xref:System.Windows.ContentElement>.</span></span>  
  
- <span data-ttu-id="ae1a8-197">Criar um manipulador de eventos na origem do arrasto que iniciará a operação do tipo "arrastar e soltar".</span><span class="sxs-lookup"><span data-stu-id="ae1a8-197">Create an event handler on the drag source that will initiate the drag-and-drop operation.</span></span> <span data-ttu-id="ae1a8-198">O evento é normalmente o <xref:System.Windows.UIElement.MouseMove> evento.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-198">The event is typically the <xref:System.Windows.UIElement.MouseMove> event.</span></span>  
  
- <span data-ttu-id="ae1a8-199">No manipulador de eventos de arrastar fonte, chame o <xref:System.Windows.DragDrop.DoDragDrop%2A> método para iniciar a operação de arrastar e soltar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-199">In the drag source event handler, call the <xref:System.Windows.DragDrop.DoDragDrop%2A> method to initiate the drag-and-drop operation.</span></span> <span data-ttu-id="ae1a8-200">Na <xref:System.Windows.DragDrop.DoDragDrop%2A> chamada, especifique a fonte de arrastar, os dados a serem transferidos e os efeitos permitidos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-200">In the <xref:System.Windows.DragDrop.DoDragDrop%2A> call, specify the drag source, the data to be transferred, and the allowed effects.</span></span>  
  
- <span data-ttu-id="ae1a8-201">Identificar o elemento que será um destino de soltar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-201">Identify the element that will be a drop target.</span></span> <span data-ttu-id="ae1a8-202">Um destino de soltura pode ser <xref:System.Windows.UIElement> ou um <xref:System.Windows.ContentElement> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-202">A drop target can be <xref:System.Windows.UIElement> or a <xref:System.Windows.ContentElement>.</span></span>  
  
- <span data-ttu-id="ae1a8-203">No destino de soltura, defina a <xref:System.Windows.UIElement.AllowDrop%2A> propriedade como `true` .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-203">On the drop target, set the <xref:System.Windows.UIElement.AllowDrop%2A> property to `true`.</span></span>  
  
- <span data-ttu-id="ae1a8-204">No destino de soltar, crie um <xref:System.Windows.DragDrop.Drop> manipulador de eventos para processar os dados eliminados.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-204">In the drop target, create a <xref:System.Windows.DragDrop.Drop> event handler to process the dropped data.</span></span>  
  
- <span data-ttu-id="ae1a8-205">No <xref:System.Windows.DragDrop.Drop> manipulador de eventos, extraia os dados do <xref:System.Windows.DragEventArgs> usando os <xref:System.Windows.DataObject.GetDataPresent%2A> métodos e <xref:System.Windows.DataObject.GetData%2A> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-205">In the <xref:System.Windows.DragDrop.Drop> event handler, extract the data from the <xref:System.Windows.DragEventArgs> by using the <xref:System.Windows.DataObject.GetDataPresent%2A> and <xref:System.Windows.DataObject.GetData%2A> methods.</span></span>  
  
- <span data-ttu-id="ae1a8-206">No <xref:System.Windows.DragDrop.Drop> manipulador de eventos, use os dados para executar a operação de arrastar e soltar desejada.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-206">In the <xref:System.Windows.DragDrop.Drop> event handler, use the data to perform the desired drag-and-drop operation.</span></span>  
  
 <span data-ttu-id="ae1a8-207">Você pode aprimorar a implementação do tipo "arrastar e soltar" criando um personalizado <xref:System.Windows.DataObject> e manipulando eventos de destino arrastar fonte e soltar opcionais, conforme mostrado nas seguintes tarefas:</span><span class="sxs-lookup"><span data-stu-id="ae1a8-207">You can enhance your drag-and-drop implementation by creating a custom <xref:System.Windows.DataObject> and by handling optional drag source and drop target events, as shown in the following tasks:</span></span>  
  
- <span data-ttu-id="ae1a8-208">Para transferir dados personalizados ou vários itens de dados, crie um <xref:System.Windows.DataObject> para passar para o <xref:System.Windows.DragDrop.DoDragDrop%2A> método.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-208">To transfer custom data or multiple data items, create a <xref:System.Windows.DataObject> to pass to the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span>  
  
- <span data-ttu-id="ae1a8-209">Para executar ações adicionais durante um arrastar, manipule os <xref:System.Windows.DragDrop.DragEnter> <xref:System.Windows.DragDrop.DragOver> eventos, e <xref:System.Windows.DragDrop.DragLeave> no destino de soltar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-209">To perform additional actions during a drag, handle the <xref:System.Windows.DragDrop.DragEnter>, <xref:System.Windows.DragDrop.DragOver>, and <xref:System.Windows.DragDrop.DragLeave> events on the drop target.</span></span>  
  
- <span data-ttu-id="ae1a8-210">Para alterar a aparência do ponteiro do mouse, manipule o <xref:System.Windows.DragDrop.GiveFeedback> evento na origem do arrasto.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-210">To change the appearance of the mouse pointer, handle the <xref:System.Windows.DragDrop.GiveFeedback> event on the drag source.</span></span>  
  
- <span data-ttu-id="ae1a8-211">Para alterar como a operação de arrastar e soltar é cancelada, manipule o <xref:System.Windows.DragDrop.QueryContinueDrag> evento na fonte de arrastar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-211">To change how the drag-and-drop operation is canceled, handle the <xref:System.Windows.DragDrop.QueryContinueDrag> event on the drag source.</span></span>  
  
<a name="Drag_And_Drop_Example"></a>
## <a name="drag-and-drop-example"></a><span data-ttu-id="ae1a8-212">Exemplo de operação do tipo "arrastar e soltar"</span><span class="sxs-lookup"><span data-stu-id="ae1a8-212">Drag-and-Drop Example</span></span>  
 <span data-ttu-id="ae1a8-213">Esta seção descreve como implementar o recurso de arrastar e soltar para um <xref:System.Windows.Shapes.Ellipse> elemento.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-213">This section describes how to implement drag-and-drop for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="ae1a8-214">O <xref:System.Windows.Shapes.Ellipse> é uma origem de arrastar e um destino de soltar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-214">The <xref:System.Windows.Shapes.Ellipse> is both a drag source and a drop target.</span></span> <span data-ttu-id="ae1a8-215">Os dados transferidos são a representação da cadeia de caracteres da <xref:System.Windows.Shapes.Shape.Fill%2A> propriedade da elipse.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-215">The transferred data is the string representation of the ellipse’s <xref:System.Windows.Shapes.Shape.Fill%2A> property.</span></span> <span data-ttu-id="ae1a8-216">O XAML a seguir mostra o <xref:System.Windows.Shapes.Ellipse> elemento e os eventos relacionados ao recurso de arrastar e soltar que ele manipula.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-216">The following XAML shows the <xref:System.Windows.Shapes.Ellipse> element and the drag-and-drop related events that it handles.</span></span> <span data-ttu-id="ae1a8-217">Para obter etapas completas de como implementar uma operação do tipo "arrastar e soltar", consulte [Passo a passo: Habilitando operações de arrastar e soltar em um controle de usuário](walkthrough-enabling-drag-and-drop-on-a-user-control.md).</span><span class="sxs-lookup"><span data-stu-id="ae1a8-217">For complete steps on how to implement drag-and-drop, see [Walkthrough: Enabling Drag and Drop on a User Control](walkthrough-enabling-drag-and-drop-on-a-user-control.md).</span></span>  
  
 [!code-xaml[DragDropSnippets#EllipseXaml](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml#ellipsexaml)]  
  
### <a name="enabling-an-element-to-be-a-drag-source"></a><span data-ttu-id="ae1a8-218">Habilitando um elemento a ser uma origem do arrasto</span><span class="sxs-lookup"><span data-stu-id="ae1a8-218">Enabling an Element to be a Drag Source</span></span>  
 <span data-ttu-id="ae1a8-219">Um objeto que é uma origem do arrasto é responsável por:</span><span class="sxs-lookup"><span data-stu-id="ae1a8-219">An object that is a drag source is responsible for:</span></span>  
  
- <span data-ttu-id="ae1a8-220">Identificar quando ocorre uma operação de arrastar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-220">Identifying when a drag occurs.</span></span>  
  
- <span data-ttu-id="ae1a8-221">Iniciar a operação do tipo "arrastar e soltar".</span><span class="sxs-lookup"><span data-stu-id="ae1a8-221">Initiating the drag-and-drop operation.</span></span>  
  
- <span data-ttu-id="ae1a8-222">Identificar os dados a serem transferidos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-222">Identifying the data to be transferred.</span></span>  
  
- <span data-ttu-id="ae1a8-223">Especificar os efeitos que a operação do tipo "arrastar e soltar" tem permissão para ter sobre os dados transferidos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-223">Specifying the effects that the drag-and-drop operation is allowed to have on the transferred data.</span></span>  
  
 <span data-ttu-id="ae1a8-224">A origem do arrasto também pode fornecer comentários ao usuário sobre as ações permitidas (mover, copiar, nenhuma) e pode cancelar a operação do tipo "arrastar e soltar" de acordo com a entrada adicional do usuário, como pressionar a tecla ESC durante a operação de arrastar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-224">The drag source may also give feedback to the user regarding the allowed actions (move, copy, none), and can cancel the drag-and-drop operation based on additional user input, such as pressing the ESC key during the drag.</span></span>  
  
 <span data-ttu-id="ae1a8-225">É responsabilidade do seu aplicativo determinar quando ocorre um arrasto e, em seguida, iniciar a operação de arrastar e soltar chamando o <xref:System.Windows.DragDrop.DoDragDrop%2A> método.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-225">It is the responsibility of your application to determine when a drag occurs, and then initiate the drag-and-drop operation by calling the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="ae1a8-226">Normalmente, é quando um <xref:System.Windows.UIElement.MouseMove> evento ocorre sobre o elemento a ser arrastado enquanto um botão do mouse é pressionado.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-226">Typically, this is when a <xref:System.Windows.UIElement.MouseMove> event occurs over the element to be dragged while a mouse button is pressed.</span></span> <span data-ttu-id="ae1a8-227">O exemplo a seguir mostra como iniciar uma operação de arrastar e soltar do <xref:System.Windows.UIElement.MouseMove> manipulador de eventos de um <xref:System.Windows.Shapes.Ellipse> elemento para torná-lo uma fonte de arrastar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-227">The following example shows how to initiate a drag-and-drop operation from the <xref:System.Windows.UIElement.MouseMove> event handler of an <xref:System.Windows.Shapes.Ellipse> element to make it a drag source.</span></span> <span data-ttu-id="ae1a8-228">Os dados transferidos são a representação da cadeia de caracteres da <xref:System.Windows.Shapes.Shape.Fill%2A> propriedade da elipse.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-228">The transferred data is the string representation of the ellipse’s <xref:System.Windows.Shapes.Shape.Fill%2A> property.</span></span>  
  
 [!code-csharp[DragDropSnippets#DoDragDrop](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dodragdrop)]
 [!code-vb[DragDropSnippets#DoDragDrop](~/samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dodragdrop)]  
  
 <span data-ttu-id="ae1a8-229">Dentro do <xref:System.Windows.UIElement.MouseMove> manipulador de eventos, chame o <xref:System.Windows.DragDrop.DoDragDrop%2A> método para iniciar a operação de arrastar e soltar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-229">Inside of the <xref:System.Windows.UIElement.MouseMove> event handler, call the <xref:System.Windows.DragDrop.DoDragDrop%2A> method to initiate the drag-and-drop operation.</span></span> <span data-ttu-id="ae1a8-230">O <xref:System.Windows.DragDrop.DoDragDrop%2A> método usa três parâmetros:</span><span class="sxs-lookup"><span data-stu-id="ae1a8-230">The <xref:System.Windows.DragDrop.DoDragDrop%2A> method takes three parameters:</span></span>  
  
- <span data-ttu-id="ae1a8-231">`dragSource`– Uma referência ao objeto de dependência que é a origem dos dados transferidos; Normalmente, essa é a origem do <xref:System.Windows.UIElement.MouseMove> evento.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-231">`dragSource` – A reference to the dependency object that is the source of the transferred data; this is typically the source of the <xref:System.Windows.UIElement.MouseMove> event.</span></span>  
  
- <span data-ttu-id="ae1a8-232">`data`-Um objeto que contém os dados transferidos, encapsulados em um <xref:System.Windows.DataObject> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-232">`data` - An object that contains the transferred data, wrapped in a <xref:System.Windows.DataObject>.</span></span>  
  
- <span data-ttu-id="ae1a8-233">`allowedEffects`-Um dos <xref:System.Windows.DragDropEffects> valores de enumeração que especifica os efeitos permitidos da operação de arrastar e soltar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-233">`allowedEffects` - One of the <xref:System.Windows.DragDropEffects> enumeration values that specifies the permitted effects of the drag-and-drop operation.</span></span>  
  
 <span data-ttu-id="ae1a8-234">Qualquer objeto serializável pode ser passado no parâmetro `data`.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-234">Any serializable object can be passed in the `data` parameter.</span></span> <span data-ttu-id="ae1a8-235">Se os dados ainda não estiverem encapsulados em um <xref:System.Windows.DataObject> , eles serão automaticamente encapsulados em um novo <xref:System.Windows.DataObject> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-235">If the data is not already wrapped in a <xref:System.Windows.DataObject>, it will automatically be wrapped in a new <xref:System.Windows.DataObject>.</span></span> <span data-ttu-id="ae1a8-236">Para passar vários itens de dados, você deve criar o <xref:System.Windows.DataObject> mesmo e passá-lo para o <xref:System.Windows.DragDrop.DoDragDrop%2A> método.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-236">To pass multiple data items, you must create the <xref:System.Windows.DataObject> yourself, and pass it to the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="ae1a8-237">Para obter mais informações, consulte [Dados e objetos de dados](data-and-data-objects.md).</span><span class="sxs-lookup"><span data-stu-id="ae1a8-237">For more information, see [Data and Data Objects](data-and-data-objects.md).</span></span>  
  
 <span data-ttu-id="ae1a8-238">O parâmetro `allowedEffects` é usado para especificar o que a origem do arrasto permitirá que o destino de soltar faça com os dados transferidos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-238">The `allowedEffects` parameter is used to specify what the drag source will allow the drop target to do with the transferred data.</span></span> <span data-ttu-id="ae1a8-239">Os valores comuns para uma fonte de arrastar são <xref:System.Windows.DragDropEffects.Copy> , <xref:System.Windows.DragDropEffects.Move> e <xref:System.Windows.DragDropEffects.All> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-239">The common values for a drag source are <xref:System.Windows.DragDropEffects.Copy>, <xref:System.Windows.DragDropEffects.Move>, and <xref:System.Windows.DragDropEffects.All>.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="ae1a8-240">O destino de soltar também pode especificar quais efeitos ele pretender ter em resposta aos dados soltos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-240">The drop target is also able to specify what effects it intends in response to the dropped data.</span></span> <span data-ttu-id="ae1a8-241">Por exemplo, se o destino de soltura não reconhecer o tipo de dados a ser removido, ele poderá recusar os dados definindo seus efeitos permitidos para <xref:System.Windows.DragDropEffects.None> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-241">For example, if the drop target does not recognize the data type to be dropped, it can refuse the data by setting its allowed effects to <xref:System.Windows.DragDropEffects.None>.</span></span> <span data-ttu-id="ae1a8-242">Normalmente, ele faz isso em seu <xref:System.Windows.DragDrop.DragOver> manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-242">It typically does this in its <xref:System.Windows.DragDrop.DragOver> event handler.</span></span>  
  
 <span data-ttu-id="ae1a8-243">Uma fonte de arrastar pode, opcionalmente, manipular os <xref:System.Windows.DragDrop.GiveFeedback> <xref:System.Windows.DragDrop.QueryContinueDrag> eventos e.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-243">A drag source can optionally handle the <xref:System.Windows.DragDrop.GiveFeedback> and <xref:System.Windows.DragDrop.QueryContinueDrag> events.</span></span> <span data-ttu-id="ae1a8-244">Esses eventos têm manipuladores padrão que são usados, a menos que você marque os eventos como manipulados.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-244">These events have default handlers that are used unless you mark the events as handled.</span></span> <span data-ttu-id="ae1a8-245">Normalmente, você ignorará esses eventos, a menos que tenha uma necessidade específica de alterar seu comportamento padrão.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-245">You will typically ignore these events unless you have a specific need to change their default behavior.</span></span>  
  
 <span data-ttu-id="ae1a8-246">O <xref:System.Windows.DragDrop.GiveFeedback> evento é gerado continuamente enquanto a origem do arrasto está sendo arrastada.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-246">The <xref:System.Windows.DragDrop.GiveFeedback> event is raised continuously while the drag source is being dragged.</span></span> <span data-ttu-id="ae1a8-247">O manipulador padrão para esse evento verifica se a origem do arrasto está sobre um destino de soltar válido.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-247">The default handler for this event checks whether the drag source is over a valid drop target.</span></span> <span data-ttu-id="ae1a8-248">Se estiver, ela verificará os efeitos permitidos do destino de soltar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-248">If it is, it checks the allowed effects of the drop target.</span></span> <span data-ttu-id="ae1a8-249">Em seguida, ela fornece comentários ao usuário final sobre os efeitos de soltar permitidos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-249">It then gives feedback to the end user regarding the allowed drop effects.</span></span> <span data-ttu-id="ae1a8-250">Geralmente, isso é feito com a alteração do cursor do mouse para um cursor do tipo não soltar, copiar ou mover.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-250">This is typically done by changing the mouse cursor to a no-drop, copy, or move cursor.</span></span> <span data-ttu-id="ae1a8-251">Você só deverá manipular esse evento se precisar usar cursores personalizados para fornecer comentários ao usuário.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-251">You should only handle this event if you need to use custom cursors to provide feedback to the user.</span></span> <span data-ttu-id="ae1a8-252">Se você manipular esse evento, lembre-se de marcá-lo como manipulado para que o manipulador padrão não substitua o manipulador.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-252">If you handle this event, be sure to mark it as handled so that the default handler does not override your handler.</span></span>  
  
 <span data-ttu-id="ae1a8-253">O <xref:System.Windows.DragDrop.QueryContinueDrag> evento é gerado continuamente enquanto a origem do arrasto está sendo arrastada.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-253">The <xref:System.Windows.DragDrop.QueryContinueDrag> event is raised continuously while the drag source is being dragged.</span></span> <span data-ttu-id="ae1a8-254">Você pode manipular esse evento para determinar qual ação encerra a operação do tipo "arrastar e soltar", de acordo com o estado das teclas ESC, SHIFT, CTRL e ALT, bem como o estado dos botões do mouse.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-254">You can handle this event to determine what action ends the drag-and-drop operation based on the state of the ESC, SHIFT, CTRL, and ALT keys, as well as the state of the mouse buttons.</span></span> <span data-ttu-id="ae1a8-255">O manipulador padrão desse evento cancela a operação do tipo "arrastar e soltar" se a tecla ESC é pressionada e solta os dados se o botão do mouse é liberado.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-255">The default handler for this event cancels the drag-and-drop operation if the ESC key is pressed, and drops the data if the mouse button is released.</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="ae1a8-256">Esses eventos são acionados continuamente durante a operação do tipo "arrastar e soltar".</span><span class="sxs-lookup"><span data-stu-id="ae1a8-256">These events are raised continuously during the drag-and-drop operation.</span></span> <span data-ttu-id="ae1a8-257">Portanto, você deve evitar tarefas com uso intensivo de recursos nos manipuladores de eventos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-257">Therefore, you should avoid resource-intensive tasks in the event handlers.</span></span>  <span data-ttu-id="ae1a8-258">Por exemplo, use um cursor em cache em vez de criar um novo cursor a cada vez que o <xref:System.Windows.DragDrop.GiveFeedback> evento for gerado.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-258">For example, use a cached cursor instead of creating a new cursor each time the <xref:System.Windows.DragDrop.GiveFeedback> event is raised.</span></span>  
  
### <a name="enabling-an-element-to-be-a-drop-target"></a><span data-ttu-id="ae1a8-259">Habilitando um elemento a ser um destino de soltar</span><span class="sxs-lookup"><span data-stu-id="ae1a8-259">Enabling an Element to be a Drop Target</span></span>  
 <span data-ttu-id="ae1a8-260">Um objeto que é um destino de soltar é responsável por:</span><span class="sxs-lookup"><span data-stu-id="ae1a8-260">An object that is a drop target is responsible for:</span></span>  
  
- <span data-ttu-id="ae1a8-261">Especificar se ele é um destino de soltar válido.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-261">Specifying that it is a valid drop target.</span></span>  
  
- <span data-ttu-id="ae1a8-262">Responder à origem do arrasto quando ele é arrastado para o destino.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-262">Responding to the drag source when it drags over the target.</span></span>  
  
- <span data-ttu-id="ae1a8-263">Verificar se os dados transferidos estão em um formato que pode ser recebido.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-263">Checking that the transferred data is in a format that it can receive.</span></span>  
  
- <span data-ttu-id="ae1a8-264">Processar os dados soltos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-264">Processing the dropped data.</span></span>  
  
 <span data-ttu-id="ae1a8-265">Para especificar que um elemento é um destino de soltar, defina sua <xref:System.Windows.UIElement.AllowDrop%2A> propriedade como `true` .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-265">To specify that an element is a drop target, you set its <xref:System.Windows.UIElement.AllowDrop%2A> property to `true`.</span></span> <span data-ttu-id="ae1a8-266">Em seguida, os eventos de destino de soltar serão acionados no elemento, para que você possa manipulá-los.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-266">The drop target events will then be raised on the element so that you can handle them.</span></span> <span data-ttu-id="ae1a8-267">Durante uma operação do tipo "arrastar e soltar", ocorre a seguinte sequência de eventos no destino de soltar:</span><span class="sxs-lookup"><span data-stu-id="ae1a8-267">During a drag-and-drop operation, the following sequence of events occurs on the drop target:</span></span>  
  
1. <xref:System.Windows.DragDrop.DragEnter>  
  
2. <xref:System.Windows.DragDrop.DragOver>  
  
3. <span data-ttu-id="ae1a8-268"><xref:System.Windows.DragDrop.DragLeave> ou <xref:System.Windows.DragDrop.Drop></span><span class="sxs-lookup"><span data-stu-id="ae1a8-268"><xref:System.Windows.DragDrop.DragLeave> or <xref:System.Windows.DragDrop.Drop></span></span>  
  
 <span data-ttu-id="ae1a8-269">O <xref:System.Windows.DragDrop.DragEnter> evento ocorre quando os dados são arrastados para o limite de soltar destino.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-269">The <xref:System.Windows.DragDrop.DragEnter> event occurs when the data is dragged into the drop target's boundary.</span></span> <span data-ttu-id="ae1a8-270">Normalmente, esse evento é manipulado para fornecer uma visualização dos efeitos da operação do tipo "arrastar e soltar", se apropriado para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-270">You typically handle this event to provide a preview of the effects of the drag-and-drop operation, if appropriate for your application.</span></span> <span data-ttu-id="ae1a8-271">Não defina a <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> propriedade no <xref:System.Windows.DragDrop.DragEnter> evento, pois ela será substituída no <xref:System.Windows.DragDrop.DragOver> evento.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-271">Do not set the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property in the <xref:System.Windows.DragDrop.DragEnter> event, as it will be overwritten in the <xref:System.Windows.DragDrop.DragOver> event.</span></span>  
  
 <span data-ttu-id="ae1a8-272">O exemplo a seguir mostra o <xref:System.Windows.DragDrop.DragEnter> manipulador de eventos para um <xref:System.Windows.Shapes.Ellipse> elemento.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-272">The following example shows the <xref:System.Windows.DragDrop.DragEnter> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="ae1a8-273">Esse código visualiza os efeitos da operação de arrastar e soltar salvando o <xref:System.Windows.Shapes.Shape.Fill%2A> pincel atual.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-273">This code previews the effects of the drag-and-drop operation by saving the current <xref:System.Windows.Shapes.Shape.Fill%2A> brush.</span></span> <span data-ttu-id="ae1a8-274">Em seguida, ele usa o <xref:System.Windows.DataObject.GetDataPresent%2A> método para verificar se o <xref:System.Windows.DataObject> que está sendo arrastado sobre a elipse contém dados de cadeia de caracteres que podem ser convertidos em um <xref:System.Windows.Media.Brush> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-274">It then uses the <xref:System.Windows.DataObject.GetDataPresent%2A> method to check whether the <xref:System.Windows.DataObject> being dragged over the ellipse contains string data that can be converted to a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="ae1a8-275">Nesse caso, os dados são extraídos usando o <xref:System.Windows.DataObject.GetData%2A> método.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-275">If so, the data is extracted using the <xref:System.Windows.DataObject.GetData%2A> method.</span></span> <span data-ttu-id="ae1a8-276">Em seguida, ele é convertido em um <xref:System.Windows.Media.Brush> e aplicado à elipse.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-276">It is then converted to a <xref:System.Windows.Media.Brush> and applied to the ellipse.</span></span> <span data-ttu-id="ae1a8-277">A alteração é revertida no manipulador de <xref:System.Windows.DragDrop.DragLeave> eventos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-277">The change is reverted in the <xref:System.Windows.DragDrop.DragLeave> event handler.</span></span> <span data-ttu-id="ae1a8-278">Se os dados não puderem ser convertidos em um <xref:System.Windows.Media.Brush> , nenhuma ação será executada.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-278">If the data cannot be converted to a <xref:System.Windows.Media.Brush>, no action is performed.</span></span>  
  
 [!code-csharp[DragDropSnippets#DragEnter](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dragenter)]
 [!code-vb[DragDropSnippets#DragEnter](~/samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dragenter)]  
  
 <span data-ttu-id="ae1a8-279">O <xref:System.Windows.DragDrop.DragOver> evento ocorre continuamente enquanto os dados são arrastados sobre o destino de soltura.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-279">The <xref:System.Windows.DragDrop.DragOver> event occurs continuously while the data is dragged over the drop target.</span></span> <span data-ttu-id="ae1a8-280">Esse evento é emparelhado com o <xref:System.Windows.DragDrop.GiveFeedback> evento na fonte de arrastar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-280">This event is paired with the <xref:System.Windows.DragDrop.GiveFeedback> event on the drag source.</span></span> <span data-ttu-id="ae1a8-281">No <xref:System.Windows.DragDrop.DragOver> manipulador de eventos, você normalmente usa os <xref:System.Windows.DataObject.GetDataPresent%2A> <xref:System.Windows.DataObject.GetData%2A> métodos e para verificar se os dados transferidos estão em um formato que o destino de soltar pode processar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-281">In the <xref:System.Windows.DragDrop.DragOver> event handler, you typically use the <xref:System.Windows.DataObject.GetDataPresent%2A> and <xref:System.Windows.DataObject.GetData%2A> methods to check whether the transferred data is in a format that the drop target can process.</span></span> <span data-ttu-id="ae1a8-282">Também é possível verificar se teclas modificadoras são pressionadas, o que geralmente indica se o usuário pretende executar uma ação de mover ou copiar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-282">You can also check whether any modifier keys are pressed, which will typically indicate whether the user intends a move or copy action.</span></span> <span data-ttu-id="ae1a8-283">Depois que essas verificações forem executadas, você definirá a <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> propriedade para notificar a origem de arrastar qual efeito será descartando os dados.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-283">After these checks are performed, you set the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property to notify the drag source what effect dropping the data will have.</span></span> <span data-ttu-id="ae1a8-284">A origem de arrastar recebe essas informações nos <xref:System.Windows.DragDrop.GiveFeedback> args de evento e pode definir um cursor apropriado para fornecer comentários ao usuário.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-284">The drag source receives this information in the <xref:System.Windows.DragDrop.GiveFeedback> event args, and can set an appropriate cursor to give feedback to the user.</span></span>  
  
 <span data-ttu-id="ae1a8-285">O exemplo a seguir mostra o <xref:System.Windows.DragDrop.DragOver> manipulador de eventos para um <xref:System.Windows.Shapes.Ellipse> elemento.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-285">The following example shows the <xref:System.Windows.DragDrop.DragOver> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="ae1a8-286">Esse código verifica se o <xref:System.Windows.DataObject> que está sendo arrastado sobre a elipse contém dados de cadeia de caracteres que podem ser convertidos em um <xref:System.Windows.Media.Brush> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-286">This code checks to see if the <xref:System.Windows.DataObject> being dragged over the ellipse contains string data that can be converted to a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="ae1a8-287">Nesse caso, ele define a <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> propriedade como <xref:System.Windows.DragDropEffects.Copy> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-287">If so, it sets the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property to <xref:System.Windows.DragDropEffects.Copy>.</span></span> <span data-ttu-id="ae1a8-288">Isso indica à origem do arrasto que os dados podem ser copiados para a elipse.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-288">This indicates to the drag source that the data can be copied to the ellipse.</span></span> <span data-ttu-id="ae1a8-289">Se os dados não puderem ser convertidos em um <xref:System.Windows.Media.Brush> , a <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> propriedade será definida como <xref:System.Windows.DragDropEffects.None> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-289">If the data cannot be converted to a <xref:System.Windows.Media.Brush>, the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property is set to <xref:System.Windows.DragDropEffects.None>.</span></span> <span data-ttu-id="ae1a8-290">Isso indica à origem do arrasto que a elipse não é um destino de soltar válido para os dados.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-290">This indicates to the drag source that the ellipse is not a valid drop target for the data.</span></span>  
  
 [!code-csharp[DragDropSnippets#DragOver](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dragover)]
 [!code-vb[DragDropSnippets#DragOver](~/samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dragover)]  
  
 <span data-ttu-id="ae1a8-291">O <xref:System.Windows.DragDrop.DragLeave> evento ocorre quando os dados são arrastados para fora do limite do destino sem serem descartados.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-291">The <xref:System.Windows.DragDrop.DragLeave> event occurs when the data is dragged out of the target's boundary without being dropped.</span></span> <span data-ttu-id="ae1a8-292">Você manipula esse evento para desfazer tudo o que fez no <xref:System.Windows.DragDrop.DragEnter> manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-292">You handle this event to undo anything that you did in the <xref:System.Windows.DragDrop.DragEnter> event handler.</span></span>  
  
 <span data-ttu-id="ae1a8-293">O exemplo a seguir mostra o <xref:System.Windows.DragDrop.DragLeave> manipulador de eventos para um <xref:System.Windows.Shapes.Ellipse> elemento.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-293">The following example shows the <xref:System.Windows.DragDrop.DragLeave> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="ae1a8-294">Esse código desfaz a visualização realizada no manipulador de <xref:System.Windows.DragDrop.DragEnter> eventos aplicando o salvo <xref:System.Windows.Media.Brush> à elipse.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-294">This code undoes the preview performed in the <xref:System.Windows.DragDrop.DragEnter> event handler by applying the saved <xref:System.Windows.Media.Brush> to the ellipse.</span></span>  
  
 [!code-csharp[DragDropSnippets#DragLeave](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dragleave)]
 [!code-vb[DragDropSnippets#DragLeave](~/samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dragleave)]  
  
 <span data-ttu-id="ae1a8-295">O <xref:System.Windows.DragDrop.Drop> evento ocorre quando os dados são descartados no destino de soltura; por padrão, isso ocorre quando o botão do mouse é liberado.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-295">The <xref:System.Windows.DragDrop.Drop> event occurs when the data is dropped over the drop target; by default, this happens when the mouse button is released.</span></span> <span data-ttu-id="ae1a8-296">No <xref:System.Windows.DragDrop.Drop> manipulador de eventos, você usa o <xref:System.Windows.DataObject.GetData%2A> método para extrair os dados transferidos do <xref:System.Windows.DataObject> e executar qualquer processamento de dados que seu aplicativo requer.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-296">In the <xref:System.Windows.DragDrop.Drop> event handler, you use the <xref:System.Windows.DataObject.GetData%2A> method to extract the transferred data from the <xref:System.Windows.DataObject> and perform any data processing that your application requires.</span></span> <span data-ttu-id="ae1a8-297">O <xref:System.Windows.DragDrop.Drop> evento termina a operação de arrastar e soltar.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-297">The <xref:System.Windows.DragDrop.Drop> event ends the drag-and-drop operation.</span></span>  
  
 <span data-ttu-id="ae1a8-298">O exemplo a seguir mostra o <xref:System.Windows.DragDrop.Drop> manipulador de eventos para um <xref:System.Windows.Shapes.Ellipse> elemento.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-298">The following example shows the <xref:System.Windows.DragDrop.Drop> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="ae1a8-299">Esse código aplica os efeitos da operação de arrastar e soltar e é semelhante ao código no <xref:System.Windows.DragDrop.DragEnter> manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-299">This code applies the effects of the drag-and-drop operation, and is similar to the code in the <xref:System.Windows.DragDrop.DragEnter> event handler.</span></span> <span data-ttu-id="ae1a8-300">Ele verifica se o <xref:System.Windows.DataObject> que está sendo arrastado sobre a elipse contém dados de cadeia de caracteres que podem ser convertidos em um <xref:System.Windows.Media.Brush> .</span><span class="sxs-lookup"><span data-stu-id="ae1a8-300">It checks to see if the <xref:System.Windows.DataObject> being dragged over the ellipse contains string data that can be converted to a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="ae1a8-301">Nesse caso, o <xref:System.Windows.Media.Brush> é aplicado à elipse.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-301">If so, the <xref:System.Windows.Media.Brush> is applied to the ellipse.</span></span> <span data-ttu-id="ae1a8-302">Se os dados não puderem ser convertidos em um <xref:System.Windows.Media.Brush> , nenhuma ação será executada.</span><span class="sxs-lookup"><span data-stu-id="ae1a8-302">If the data cannot be converted to a <xref:System.Windows.Media.Brush>, no action is performed.</span></span>  
  
 [!code-csharp[DragDropSnippets#Drop](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#drop)]
 [!code-vb[DragDropSnippets#Drop](~/samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#drop)]  
  
## <a name="see-also"></a><span data-ttu-id="ae1a8-303">Confira também</span><span class="sxs-lookup"><span data-stu-id="ae1a8-303">See also</span></span>

- <xref:System.Windows.Clipboard>
- [<span data-ttu-id="ae1a8-304">Passo a passo: habilitar arrastar e soltar em um controle de usuário</span><span class="sxs-lookup"><span data-stu-id="ae1a8-304">Walkthrough: Enabling Drag and Drop on a User Control</span></span>](walkthrough-enabling-drag-and-drop-on-a-user-control.md)
- [<span data-ttu-id="ae1a8-305">Tópicos explicativos</span><span class="sxs-lookup"><span data-stu-id="ae1a8-305">How-to Topics</span></span>](drag-and-drop-how-to-topics.md)
- [<span data-ttu-id="ae1a8-306">Arrastar e soltar</span><span class="sxs-lookup"><span data-stu-id="ae1a8-306">Drag and Drop</span></span>](drag-and-drop.md)
