---
title: Formatação de texto avançada
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- formatting [WPF]
- text [WPF]
- typography [WPF], text formatting
ms.assetid: f0a7986e-f5b2-485c-a27d-f8e922022212
ms.openlocfilehash: d509de02cd1b3f645ee439c0b0eb33fd1ddbdb07
ms.sourcegitcommit: 7bc6887ab658550baa78f1520ea735838249345e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/03/2020
ms.locfileid: "75636101"
---
# <a name="advanced-text-formatting"></a><span data-ttu-id="fd33c-102">Formatação de texto avançada</span><span class="sxs-lookup"><span data-stu-id="fd33c-102">Advanced Text Formatting</span></span>
<span data-ttu-id="fd33c-103">O Windows Presentation Foundation (WPF) fornece um conjunto robusto de APIs para incluir texto em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="fd33c-103">Windows Presentation Foundation (WPF) provides a robust set of APIs for including text in your application.</span></span> <span data-ttu-id="fd33c-104">As APIs de layout e [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], como <xref:System.Windows.Controls.TextBlock>, fornecem os elementos mais comuns e de uso geral para a apresentação de texto.</span><span class="sxs-lookup"><span data-stu-id="fd33c-104">Layout and [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] APIs, such as <xref:System.Windows.Controls.TextBlock>, provide the most common and general-use elements for text presentation.</span></span> <span data-ttu-id="fd33c-105">As APIs de desenho, como <xref:System.Windows.Media.GlyphRunDrawing> e <xref:System.Windows.Media.FormattedText>, fornecem um meio para incluir texto formatado em desenhos.</span><span class="sxs-lookup"><span data-stu-id="fd33c-105">Drawing APIs, such as <xref:System.Windows.Media.GlyphRunDrawing> and <xref:System.Windows.Media.FormattedText>, provide a means for including formatted text in drawings.</span></span> <span data-ttu-id="fd33c-106">No nível mais avançado, o WPF fornece um mecanismo de formatação de texto extensível para controlar cada aspecto da apresentação de texto, como gerenciamento de armazenamento de texto, gerenciamento de formatação de execução de texto e gerenciamento de objetos incorporados.</span><span class="sxs-lookup"><span data-stu-id="fd33c-106">At the most advanced level, WPF provides an extensible text formatting engine to control every aspect of text presentation, such as text store management, text run formatting management, and embedded object management.</span></span>  
  
 <span data-ttu-id="fd33c-107">Este tópico fornece uma introdução à formatação de texto do WPF.</span><span class="sxs-lookup"><span data-stu-id="fd33c-107">This topic provides an introduction to WPF text formatting.</span></span> <span data-ttu-id="fd33c-108">Ele se concentra na implementação do cliente e no uso do mecanismo de formatação de texto do WPF.</span><span class="sxs-lookup"><span data-stu-id="fd33c-108">It focuses on client implementation and use of the WPF text formatting engine.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="fd33c-109">Todos os exemplos de código dentro deste documento podem ser encontrados no [exemplo de formatação de texto avançado](https://go.microsoft.com/fwlink/?LinkID=159965).</span><span class="sxs-lookup"><span data-stu-id="fd33c-109">All code examples within this document can be found in the [Advanced Text Formatting Sample](https://go.microsoft.com/fwlink/?LinkID=159965).</span></span>  

<a name="prereq"></a>   
## <a name="prerequisites"></a><span data-ttu-id="fd33c-110">{1&gt;{2&gt;Pré-requisitos&lt;2}&lt;1}</span><span class="sxs-lookup"><span data-stu-id="fd33c-110">Prerequisites</span></span>  
 <span data-ttu-id="fd33c-111">Este tópico pressupõe que você esteja familiarizado com as APIs de nível superior usadas para a apresentação de texto.</span><span class="sxs-lookup"><span data-stu-id="fd33c-111">This topic assumes that you are familiar with the higher level APIs used for text presentation.</span></span> <span data-ttu-id="fd33c-112">A maioria dos cenários de usuário não exigirá as APIs avançadas de formatação de texto discutidas neste tópico.</span><span class="sxs-lookup"><span data-stu-id="fd33c-112">Most user scenarios will not require the advanced text formatting APIs discussed in this topic.</span></span> <span data-ttu-id="fd33c-113">Para obter uma introdução às diferentes APIs de texto, consulte [documentos no WPF](documents-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="fd33c-113">For an introduction to the different text APIs, see [Documents in WPF](documents-in-wpf.md).</span></span>  
  
<a name="section1"></a>   
## <a name="advanced-text-formatting"></a><span data-ttu-id="fd33c-114">Formatação de texto avançada</span><span class="sxs-lookup"><span data-stu-id="fd33c-114">Advanced Text Formatting</span></span>  
 <span data-ttu-id="fd33c-115">O layout de texto e os controles de [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] no WPF fornecem propriedades de formatação que permitem que você inclua facilmente o texto formatado em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="fd33c-115">The text layout and [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] controls in WPF provide formatting properties that allow you to easily include formatted text in your application.</span></span> <span data-ttu-id="fd33c-116">Esses controles expõem várias propriedades para lidar com a apresentação do texto, que inclui sua face de tipos, tamanho e cor.</span><span class="sxs-lookup"><span data-stu-id="fd33c-116">These controls expose a number of properties to handle the presentation of text, which includes its typeface, size, and color.</span></span> <span data-ttu-id="fd33c-117">Em circunstâncias normais, esses controles podem lidar com a maior parte da apresentação do texto em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="fd33c-117">Under ordinary circumstances, these controls can handle the majority of text presentation in your application.</span></span> <span data-ttu-id="fd33c-118">No entanto, alguns cenários avançados exigem o controle do armazenamento de texto, bem como a apresentação de texto.</span><span class="sxs-lookup"><span data-stu-id="fd33c-118">However, some advanced scenarios require the control of text storage as well as text presentation.</span></span> <span data-ttu-id="fd33c-119">O WPF fornece um mecanismo de formatação de texto extensível para essa finalidade.</span><span class="sxs-lookup"><span data-stu-id="fd33c-119">WPF provides an extensible text formatting engine for this purpose.</span></span>  
  
 <span data-ttu-id="fd33c-120">Os recursos avançados de formatação de texto encontrados no WPF consistem em um mecanismo de formatação de texto, um armazenamento de texto, execuções de texto e propriedades de formatação.</span><span class="sxs-lookup"><span data-stu-id="fd33c-120">The advanced text formatting features found in WPF consist of a text formatting engine, a text store, text runs, and formatting properties.</span></span> <span data-ttu-id="fd33c-121">O mecanismo de formatação de texto, <xref:System.Windows.Media.TextFormatting.TextFormatter>, cria linhas de texto a serem usadas para apresentação.</span><span class="sxs-lookup"><span data-stu-id="fd33c-121">The text formatting engine, <xref:System.Windows.Media.TextFormatting.TextFormatter>, creates lines of text to be used for presentation.</span></span> <span data-ttu-id="fd33c-122">Isso é obtido iniciando o processo de formatação de linha e chamando o <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>do formatador de texto.</span><span class="sxs-lookup"><span data-stu-id="fd33c-122">This is achieved by initiating the line formatting process and calling the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>.</span></span> <span data-ttu-id="fd33c-123">O formatador de texto recupera as execuções de texto do seu armazenamento de texto chamando o método de <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> do repositório.</span><span class="sxs-lookup"><span data-stu-id="fd33c-123">The text formatter retrieves text runs from your text store by calling the store's <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="fd33c-124">Os objetos <xref:System.Windows.Media.TextFormatting.TextRun> são então formados em objetos <xref:System.Windows.Media.TextFormatting.TextLine> pelo formatador de texto e fornecidos ao seu aplicativo para inspeção ou exibição.</span><span class="sxs-lookup"><span data-stu-id="fd33c-124">The <xref:System.Windows.Media.TextFormatting.TextRun> objects are then formed into <xref:System.Windows.Media.TextFormatting.TextLine> objects by the text formatter and given to your application for inspection or display.</span></span>  
  
<a name="section2"></a>   
## <a name="using-the-text-formatter"></a><span data-ttu-id="fd33c-125">Usando o formatador de texto</span><span class="sxs-lookup"><span data-stu-id="fd33c-125">Using the Text Formatter</span></span>  
 <span data-ttu-id="fd33c-126"><xref:System.Windows.Media.TextFormatting.TextFormatter> é o mecanismo de formatação de texto do WPF e fornece serviços para formatação e quebra de linhas de texto.</span><span class="sxs-lookup"><span data-stu-id="fd33c-126"><xref:System.Windows.Media.TextFormatting.TextFormatter> is the WPF text formatting engine and provides services for formatting and breaking text lines.</span></span> <span data-ttu-id="fd33c-127">O formatador de texto pode lidar com formatos de caracteres de texto diferentes e estilos de parágrafo e inclui suporte para o layout de texto internacional.</span><span class="sxs-lookup"><span data-stu-id="fd33c-127">The text formatter can handle different text character formats and paragraph styles, and includes support for international text layout.</span></span>  
  
 <span data-ttu-id="fd33c-128">Ao contrário de uma API de texto tradicional, a <xref:System.Windows.Media.TextFormatting.TextFormatter> interage com um cliente de layout de texto por meio de um conjunto de métodos de retorno de chamada.</span><span class="sxs-lookup"><span data-stu-id="fd33c-128">Unlike a traditional text API, the <xref:System.Windows.Media.TextFormatting.TextFormatter> interacts with a text layout client through a set of callback methods.</span></span> <span data-ttu-id="fd33c-129">Ele requer que o cliente forneça esses métodos em uma implementação da classe <xref:System.Windows.Media.TextFormatting.TextSource>.</span><span class="sxs-lookup"><span data-stu-id="fd33c-129">It requires the client to provide these methods in an implementation of the <xref:System.Windows.Media.TextFormatting.TextSource> class.</span></span> <span data-ttu-id="fd33c-130">O diagrama a seguir ilustra a interação de layout de texto entre o aplicativo cliente e <xref:System.Windows.Media.TextFormatting.TextFormatter>.</span><span class="sxs-lookup"><span data-stu-id="fd33c-130">The following diagram illustrates the text layout interaction between the client application and <xref:System.Windows.Media.TextFormatting.TextFormatter>.</span></span>  
  
 ![Diagrama de cliente de layout de texto e TextFormatter](./media/advanced-text-formatting/text-layout-textformatter-interaction.png)  
  
 <span data-ttu-id="fd33c-132">O formatador de texto é usado para recuperar linhas de texto formatadas do armazenamento de texto, que é uma implementação de <xref:System.Windows.Media.TextFormatting.TextSource>.</span><span class="sxs-lookup"><span data-stu-id="fd33c-132">The text formatter is used to retrieve formatted text lines from the text store, which is an implementation of <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="fd33c-133">Isso é feito primeiro criando uma instância do formatador de texto usando o método <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A>.</span><span class="sxs-lookup"><span data-stu-id="fd33c-133">This is done by first creating an instance of the text formatter by using the <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> method.</span></span> <span data-ttu-id="fd33c-134">Esse método cria uma instância de formatador de texto e define a altura de linha máxima e os valores de largura.</span><span class="sxs-lookup"><span data-stu-id="fd33c-134">This method creates an instance of the text formatter and sets the maximum line height and width values.</span></span> <span data-ttu-id="fd33c-135">Assim que uma instância do formatador de texto é criada, o processo de criação de linha é iniciado chamando o método <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>.</span><span class="sxs-lookup"><span data-stu-id="fd33c-135">As soon as an instance of the text formatter is created, the line creation process is started by calling the <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span> <span data-ttu-id="fd33c-136"><xref:System.Windows.Media.TextFormatting.TextFormatter> chama de volta para a fonte de texto para recuperar os parâmetros de texto e formatação das execuções de texto que formam uma linha.</span><span class="sxs-lookup"><span data-stu-id="fd33c-136"><xref:System.Windows.Media.TextFormatting.TextFormatter> calls back to the text source to retrieve the text and formatting parameters for the runs of text that form a line.</span></span>  
  
 <span data-ttu-id="fd33c-137">No exemplo a seguir, o processo de formatação de um repositório de texto é mostrado.</span><span class="sxs-lookup"><span data-stu-id="fd33c-137">In the following example, the process of formatting a text store is shown.</span></span> <span data-ttu-id="fd33c-138">O objeto <xref:System.Windows.Media.TextFormatting.TextFormatter> é usado para recuperar linhas de texto do repositório de texto e formatar a linha de texto para desenhar na <xref:System.Windows.Media.DrawingContext>.</span><span class="sxs-lookup"><span data-stu-id="fd33c-138">The <xref:System.Windows.Media.TextFormatting.TextFormatter> object is used to retrieve text lines from the text store and then format the text line for drawing into the <xref:System.Windows.Media.DrawingContext>.</span></span>  
  
 [!code-csharp[TextFormatterExample#100](~/samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/Window1.xaml.cs#100)]
 [!code-vb[TextFormatterExample#100](~/samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/Window1.xaml.vb#100)]  
  
<a name="section3"></a>   
## <a name="implementing-the-client-text-store"></a><span data-ttu-id="fd33c-139">Implementando o repositório de texto do cliente</span><span class="sxs-lookup"><span data-stu-id="fd33c-139">Implementing the Client Text Store</span></span>  
 <span data-ttu-id="fd33c-140">Ao estender o mecanismo de formatação de texto, é necessário implementar e gerenciar todos os aspectos do repositório de texto.</span><span class="sxs-lookup"><span data-stu-id="fd33c-140">When you extend the text formatting engine, you are required to implement and manage all aspects of the text store.</span></span> <span data-ttu-id="fd33c-141">Isso não é uma tarefa trivial.</span><span class="sxs-lookup"><span data-stu-id="fd33c-141">This is not a trivial task.</span></span> <span data-ttu-id="fd33c-142">O repositório de texto é responsável por acompanhar propriedades de execução de texto, propriedades de parágrafo, objetos incorporados e outros conteúdos semelhantes.</span><span class="sxs-lookup"><span data-stu-id="fd33c-142">The text store is responsible for tracking text run properties, paragraph properties, embedded objects, and other similar content.</span></span> <span data-ttu-id="fd33c-143">Ele também fornece o formatador de texto com objetos <xref:System.Windows.Media.TextFormatting.TextRun> individuais que o formatador de texto usa para criar <xref:System.Windows.Media.TextFormatting.TextLine> objetos.</span><span class="sxs-lookup"><span data-stu-id="fd33c-143">It also provides the text formatter with individual <xref:System.Windows.Media.TextFormatting.TextRun> objects which the text formatter uses to create <xref:System.Windows.Media.TextFormatting.TextLine> objects.</span></span>  
  
 <span data-ttu-id="fd33c-144">Para lidar com a virtualização do armazenamento de texto, o armazenamento de texto deve ser derivado de <xref:System.Windows.Media.TextFormatting.TextSource>.</span><span class="sxs-lookup"><span data-stu-id="fd33c-144">To handle the virtualization of the text store, the text store must be derived from <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="fd33c-145"><xref:System.Windows.Media.TextFormatting.TextSource> define o método que o formatador de texto usa para recuperar as execuções de texto do armazenamento de texto.</span><span class="sxs-lookup"><span data-stu-id="fd33c-145"><xref:System.Windows.Media.TextFormatting.TextSource> defines the method the text formatter uses to retrieve text runs from the text store.</span></span> <span data-ttu-id="fd33c-146"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> é o método usado pelo formatador de texto para recuperar as execuções de texto usadas na formatação de linha.</span><span class="sxs-lookup"><span data-stu-id="fd33c-146"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is the method used by the text formatter to retrieve text runs used in line formatting.</span></span> <span data-ttu-id="fd33c-147">A chamada para <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> é feita repetidamente pelo formatador de texto até que ocorra uma das seguintes condições:</span><span class="sxs-lookup"><span data-stu-id="fd33c-147">The call to <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is repeatedly made by the text formatter until one of the following conditions occurs:</span></span>  
  
- <span data-ttu-id="fd33c-148">Um <xref:System.Windows.Media.TextFormatting.TextEndOfLine> ou uma subclasse é retornada.</span><span class="sxs-lookup"><span data-stu-id="fd33c-148">A <xref:System.Windows.Media.TextFormatting.TextEndOfLine> or a subclass is returned.</span></span>  
  
- <span data-ttu-id="fd33c-149">A largura acumulada de execuções de texto excede a largura de linha máxima especificada na chamada para criar o formatador de texto ou a chamada para o método de <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> do formatador de texto.</span><span class="sxs-lookup"><span data-stu-id="fd33c-149">The accumulated width of text runs exceeds the maximum line width specified in either the call to create the text formatter or the call to the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span>  
  
- <span data-ttu-id="fd33c-150">Uma seqüência de nova linha Unicode, como "CF", "LF" ou "CRLF", é retornada.</span><span class="sxs-lookup"><span data-stu-id="fd33c-150">A Unicode newline sequence, such as "CF", "LF", or "CRLF", is returned.</span></span>  
  
<a name="section4"></a>   
## <a name="providing-text-runs"></a><span data-ttu-id="fd33c-151">Fornecendo execuções de texto</span><span class="sxs-lookup"><span data-stu-id="fd33c-151">Providing Text Runs</span></span>  
 <span data-ttu-id="fd33c-152">O núcleo do processo de formatação de texto é a interação entre o formatador de texto e o repositório de texto.</span><span class="sxs-lookup"><span data-stu-id="fd33c-152">The core of the text formatting process is the interaction between the text formatter and the text store.</span></span> <span data-ttu-id="fd33c-153">Sua implementação de <xref:System.Windows.Media.TextFormatting.TextSource> fornece o formatador de texto com os objetos <xref:System.Windows.Media.TextFormatting.TextRun> e as propriedades com as quais formatar as execuções de texto.</span><span class="sxs-lookup"><span data-stu-id="fd33c-153">Your implementation of <xref:System.Windows.Media.TextFormatting.TextSource> provides the text formatter with the <xref:System.Windows.Media.TextFormatting.TextRun> objects and the properties with which to format the text runs.</span></span> <span data-ttu-id="fd33c-154">Essa interação é tratada pelo método <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A>, que é chamado pelo formatador de texto.</span><span class="sxs-lookup"><span data-stu-id="fd33c-154">This interaction is handled by the <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method, which is called by the text formatter.</span></span>  
  
 <span data-ttu-id="fd33c-155">A tabela a seguir mostra alguns dos objetos <xref:System.Windows.Media.TextFormatting.TextRun> predefinidos.</span><span class="sxs-lookup"><span data-stu-id="fd33c-155">The following table shows some of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects.</span></span>  
  
|<span data-ttu-id="fd33c-156">Tipo de TextRun</span><span class="sxs-lookup"><span data-stu-id="fd33c-156">TextRun Type</span></span>|<span data-ttu-id="fd33c-157">Medição de</span><span class="sxs-lookup"><span data-stu-id="fd33c-157">Usage</span></span>|  
|------------------|-----------|  
|<xref:System.Windows.Media.TextFormatting.TextCharacters>|<span data-ttu-id="fd33c-158">A execução de texto especializado para passar uma representação de glifos de caractere de volta para o formatador de texto.</span><span class="sxs-lookup"><span data-stu-id="fd33c-158">The specialized text run used to pass a representation of character glyphs back to the text formatter.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEmbeddedObject>|<span data-ttu-id="fd33c-159">A execução de texto especializado usada para fornecer conteúdo no qual a medição, o teste de hit e o desenho são feitos no todo, como um botão ou imagem dentro do texto.</span><span class="sxs-lookup"><span data-stu-id="fd33c-159">The specialized text run used to provide content in which measuring, hit testing, and drawing is done in whole, such as a button or image within the text.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfLine>|<span data-ttu-id="fd33c-160">A execução de texto especializado usada para marcar o final de uma linha.</span><span class="sxs-lookup"><span data-stu-id="fd33c-160">The specialized text run used to mark the end of a line.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>|<span data-ttu-id="fd33c-161">A execução de texto especializado usada para marcar o final de um parágrafo.</span><span class="sxs-lookup"><span data-stu-id="fd33c-161">The specialized text run used to mark the end of a paragraph.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfSegment>|<span data-ttu-id="fd33c-162">A execução de texto especializada usada para marcar o final de um segmento, como para finalizar o escopo afetado por uma execução de <xref:System.Windows.Media.TextFormatting.TextModifier> anterior.</span><span class="sxs-lookup"><span data-stu-id="fd33c-162">The specialized text run used to mark the end of a segment, such as to end the scope affected by a previous <xref:System.Windows.Media.TextFormatting.TextModifier> run.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextHidden>|<span data-ttu-id="fd33c-163">A execução de texto especializado usada para marcar um intervalo de caracteres ocultos.</span><span class="sxs-lookup"><span data-stu-id="fd33c-163">The specialized text run used to mark a range of hidden characters.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextModifier>|<span data-ttu-id="fd33c-164">A execução de texto especializado usada para modificar as propriedades das execuções de texto nesse escopo.</span><span class="sxs-lookup"><span data-stu-id="fd33c-164">The specialized text run used to modify properties of text runs in its scope.</span></span> <span data-ttu-id="fd33c-165">O escopo se estende à próxima execução de texto de <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> correspondente ou à próxima <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>.</span><span class="sxs-lookup"><span data-stu-id="fd33c-165">The scope extends to the next matching <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> text run, or the next <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>.</span></span>|  
  
 <span data-ttu-id="fd33c-166">Qualquer um dos objetos de <xref:System.Windows.Media.TextFormatting.TextRun> predefinidos pode ser subclasse.</span><span class="sxs-lookup"><span data-stu-id="fd33c-166">Any of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects can be subclassed.</span></span> <span data-ttu-id="fd33c-167">Isso permite que a fonte de texto forneça ao formatador de texto as execuções de texto que incluem dados personalizados.</span><span class="sxs-lookup"><span data-stu-id="fd33c-167">This allows your text source to provide the text formatter with text runs that include custom data.</span></span>  
  
 <span data-ttu-id="fd33c-168">O exemplo a seguir demonstra um método <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A>.</span><span class="sxs-lookup"><span data-stu-id="fd33c-168">The following example demonstrates a <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="fd33c-169">Esse repositório de texto retorna <xref:System.Windows.Media.TextFormatting.TextRun> objetos ao formatador de texto para processamento.</span><span class="sxs-lookup"><span data-stu-id="fd33c-169">This text store returns <xref:System.Windows.Media.TextFormatting.TextRun> objects to the text formatter for processing.</span></span>  
  
 [!code-csharp[TextFormatterExample#101](~/samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/CustomTextSource.cs#101)]
 [!code-vb[TextFormatterExample#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/CustomTextSource.vb#101)]  
  
> [!NOTE]
> <span data-ttu-id="fd33c-170">Neste exemplo, o repositório de texto fornece as mesmas propriedades de texto para todo o texto.</span><span class="sxs-lookup"><span data-stu-id="fd33c-170">In this example, the text store provides the same text properties to all of the text.</span></span> <span data-ttu-id="fd33c-171">Os armazenamentos avançados de texto precisariam implementar seus próprios gerenciamentos de período para permitir caracteres individuais com propriedades diferentes.</span><span class="sxs-lookup"><span data-stu-id="fd33c-171">Advanced text stores would need to implement their own span management to allow individual characters to have different properties.</span></span>  
  
<a name="section5"></a>   
## <a name="specifying-formatting-properties"></a><span data-ttu-id="fd33c-172">Especificando propriedades de formatação</span><span class="sxs-lookup"><span data-stu-id="fd33c-172">Specifying Formatting Properties</span></span>  
 <span data-ttu-id="fd33c-173"><xref:System.Windows.Media.TextFormatting.TextRun> objetos são formatados usando as propriedades fornecidas pelo armazenamento de texto.</span><span class="sxs-lookup"><span data-stu-id="fd33c-173"><xref:System.Windows.Media.TextFormatting.TextRun> objects are formatted by using properties provided by the text store.</span></span> <span data-ttu-id="fd33c-174">Essas propriedades são fornecidas em dois tipos, <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> e <xref:System.Windows.Media.TextFormatting.TextRunProperties>.</span><span class="sxs-lookup"><span data-stu-id="fd33c-174">These properties come in two types, <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties>.</span></span> <span data-ttu-id="fd33c-175"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties> manipular propriedades inclusivas de parágrafo, como <xref:System.Windows.TextAlignment> e <xref:System.Windows.FlowDirection>.</span><span class="sxs-lookup"><span data-stu-id="fd33c-175"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties> handle paragraph inclusive properties such as <xref:System.Windows.TextAlignment> and <xref:System.Windows.FlowDirection>.</span></span> <span data-ttu-id="fd33c-176"><xref:System.Windows.Media.TextFormatting.TextRunProperties> são propriedades que podem ser diferentes para cada execução de texto dentro de um parágrafo, como o pincel de primeiro plano, o <xref:System.Windows.Media.Typeface>e o tamanho da fonte.</span><span class="sxs-lookup"><span data-stu-id="fd33c-176"><xref:System.Windows.Media.TextFormatting.TextRunProperties> are properties that can be different for each text run within a paragraph, such as foreground brush, <xref:System.Windows.Media.Typeface>, and font size.</span></span> <span data-ttu-id="fd33c-177">Para implementar um parágrafo personalizado e tipos de propriedade de execução de texto personalizado, seu aplicativo deve criar classes que derivam de <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> e <xref:System.Windows.Media.TextFormatting.TextRunProperties>, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="fd33c-177">To implement custom paragraph and custom text run property types, your application must create classes that derive from <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties> respectively.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fd33c-178">Veja também</span><span class="sxs-lookup"><span data-stu-id="fd33c-178">See also</span></span>

- [<span data-ttu-id="fd33c-179">Tipografia no WPF</span><span class="sxs-lookup"><span data-stu-id="fd33c-179">Typography in WPF</span></span>](typography-in-wpf.md)
- [<span data-ttu-id="fd33c-180">Documentos no WPF</span><span class="sxs-lookup"><span data-stu-id="fd33c-180">Documents in WPF</span></span>](documents-in-wpf.md)
