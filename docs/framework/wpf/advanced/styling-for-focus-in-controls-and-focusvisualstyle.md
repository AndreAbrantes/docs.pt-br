---
title: Estilos para foco em controles e FocusVisualStyle
ms.date: 03/30/2017
helpviewer_keywords:
- keyboard focus [WPF]
- focus [WPF], visual styling
- styles [WPF], focus visual style
ms.assetid: 786ac576-011b-4d72-913b-558deccb9b35
ms.openlocfilehash: 745c2174c54ed072f91a6d5eb3b43d5385e96b90
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/23/2019
ms.locfileid: "62053360"
---
# <a name="styling-for-focus-in-controls-and-focusvisualstyle"></a><span data-ttu-id="817c2-102">Estilos para foco em controles e FocusVisualStyle</span><span class="sxs-lookup"><span data-stu-id="817c2-102">Styling for Focus in Controls, and FocusVisualStyle</span></span>
[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="817c2-103">fornece dois mecanismos paralelos para alterar a aparência visual de um controle quando ele recebe o foco do teclado.</span><span class="sxs-lookup"><span data-stu-id="817c2-103">provides two parallel mechanisms for changing the visual appearance of a control when it receives keyboard focus.</span></span> <span data-ttu-id="817c2-104">O primeiro mecanismo é usar setters de propriedade para propriedades como <xref:System.Windows.UIElement.IsKeyboardFocused%2A> dentro do estilo ou modelo que é aplicado ao controle.</span><span class="sxs-lookup"><span data-stu-id="817c2-104">The first mechanism is to use property setters for properties such as <xref:System.Windows.UIElement.IsKeyboardFocused%2A> within the style or template that is applied to the control.</span></span> <span data-ttu-id="817c2-105">O segundo mecanismo é fornecer um estilo separado como o valor do <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> propriedade; o "estilo visual de foco" cria uma árvore visual separada para um adorno que é desenhado na parte superior do controle, em vez de alterar a árvore visual do controle ou outra interface de usuário elemento ao substituí-la.</span><span class="sxs-lookup"><span data-stu-id="817c2-105">The second mechanism is to provide a separate style as the value of the <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> property; the "focus visual style" creates a separate visual tree for an adorner that draws on top of the control, rather than changing the visual tree of the control or other UI element by replacing it.</span></span> <span data-ttu-id="817c2-106">Este tópico aborda os cenários em que cada um desses mecanismos é apropriado.</span><span class="sxs-lookup"><span data-stu-id="817c2-106">This topic discusses the scenarios where each of these mechanisms is appropriate.</span></span>  

<a name="Purpose"></a>   
## <a name="the-purpose-of-focus-visual-style"></a><span data-ttu-id="817c2-107">O objetivo do estilo visual de foco</span><span class="sxs-lookup"><span data-stu-id="817c2-107">The Purpose of Focus Visual Style</span></span>  
 <span data-ttu-id="817c2-108">O recurso de estilo visual de foco fornece um "modelo de objeto" comum para introduzir comentários visuais do usuário com base em navegação de teclado para qualquer elemento de interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="817c2-108">The focus visual style feature provides a common "object model" for introducing visual user feedback based on keyboard navigation to any UI element.</span></span> <span data-ttu-id="817c2-109">Isso é possível sem a aplicação de um novo modelo para o controle ou conhecendo a composição do modelo específico.</span><span class="sxs-lookup"><span data-stu-id="817c2-109">This is possible without applying a new template to the control, or knowing the specific template composition.</span></span>  
  
 <span data-ttu-id="817c2-110">No entanto, como o recurso de estilo visual de foco funciona sem conhecer os modelos de controle, os comentários visuais que pode ser exibido para um controle usando um estilo visual de foco é necessariamente limitado.</span><span class="sxs-lookup"><span data-stu-id="817c2-110">However, precisely because the focus visual style feature works without knowing the control templates, the visual feedback that can be displayed for a control using a focus visual style is necessarily limited.</span></span> <span data-ttu-id="817c2-111">O que o recurso realmente faz é sobrepor uma árvore visual diferente (um adorno) na parte superior da árvore visual conforme criado por uma renderização de controle pelo modelo.</span><span class="sxs-lookup"><span data-stu-id="817c2-111">What the feature actually does is to overlay a different visual tree (an adorner) on top of the visual tree as created by a control's rendering through its template.</span></span> <span data-ttu-id="817c2-112">Você define esta árvore visual separado usando um estilo que preenche o <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> propriedade.</span><span class="sxs-lookup"><span data-stu-id="817c2-112">You define this separate visual tree using a style that fills the <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> property.</span></span>  
  
<a name="Default"></a>   
## <a name="default-focus-visual-style-behavior"></a><span data-ttu-id="817c2-113">Comportamento de estilo visual de foco padrão</span><span class="sxs-lookup"><span data-stu-id="817c2-113">Default Focus Visual Style Behavior</span></span>  
 <span data-ttu-id="817c2-114">Os estilos visuais de foco funcionam apenas quando a ação do foco foi iniciada pelo teclado.</span><span class="sxs-lookup"><span data-stu-id="817c2-114">Focus visual styles act only when the focus action was initiated by the keyboard.</span></span> <span data-ttu-id="817c2-115">Qualquer ação do mouse ou alteração de foco por programação desabilita o modo de estilos visuais de foco.</span><span class="sxs-lookup"><span data-stu-id="817c2-115">Any mouse action or programmatic focus change disables the mode for focus visual styles.</span></span> <span data-ttu-id="817c2-116">Para obter mais informações sobre as distinções entre os modos de foco, consulte [Visão geral do foco](focus-overview.md).</span><span class="sxs-lookup"><span data-stu-id="817c2-116">For more information about the distinctions between focus modes, see [Focus Overview](focus-overview.md).</span></span>  
  
 <span data-ttu-id="817c2-117">Os temas dos controles incluem um comportamento de estilo visual de foco padrão que se torna o estilo visual de foco para todos os controles no tema.</span><span class="sxs-lookup"><span data-stu-id="817c2-117">The themes for controls include a default focus visual style behavior that becomes the focus visual style for all controls in the theme.</span></span> <span data-ttu-id="817c2-118">Esse estilo de tema é identificado pelo valor da chave estática <xref:System.Windows.SystemParameters.FocusVisualStyleKey%2A>.</span><span class="sxs-lookup"><span data-stu-id="817c2-118">This theme style is identified by the value of the static key <xref:System.Windows.SystemParameters.FocusVisualStyleKey%2A>.</span></span> <span data-ttu-id="817c2-119">Ao declarar seu próprio estilo visual de foco no nível do aplicativo, você pode substituir esse comportamento de estilo padrão dos temas.</span><span class="sxs-lookup"><span data-stu-id="817c2-119">When you declare your own focus visual style at the application level, you replace this default style behavior from the themes.</span></span> <span data-ttu-id="817c2-120">Como alternativa, se você definir o tema inteiro, deverá usar essa mesma chave para definir o estilo para o comportamento padrão para o tema inteiro.</span><span class="sxs-lookup"><span data-stu-id="817c2-120">Alternatively, if you define the entire theme, then you should use this same key to define the style for the default behavior for your entire theme.</span></span>  
  
 <span data-ttu-id="817c2-121">Nos temas, o estilo visual de foco padrão é geralmente muito simples.</span><span class="sxs-lookup"><span data-stu-id="817c2-121">In the themes, the default focus visual style is generally very simple.</span></span> <span data-ttu-id="817c2-122">A seguir está uma aproximação grosseira:</span><span class="sxs-lookup"><span data-stu-id="817c2-122">The following is a rough approximation:</span></span>  
  
```xaml  
<Style x:Key="{x:Static SystemParameters.FocusVisualStyleKey}">  
  <Setter Property="Control.Template">  
    <Setter.Value>  
      <ControlTemplate>  
        <Rectangle StrokeThickness="1"  
          Stroke="Black"  
          StrokeDashArray="1 2"  
          SnapsToDevicePixels="true"/>  
      </ControlTemplate>  
    </Setter.Value>  
  </Setter>  
</Style>  
```  
  
<a name="When"></a>   
## <a name="when-to-use-focus-visual-styles"></a><span data-ttu-id="817c2-123">Quando usar estilos visuais de foco</span><span class="sxs-lookup"><span data-stu-id="817c2-123">When to Use Focus Visual Styles</span></span>  
 <span data-ttu-id="817c2-124">Conceitualmente, a aparência dos estilos visuais de foco aplicados aos controles deve ser coerente de controle para controle.</span><span class="sxs-lookup"><span data-stu-id="817c2-124">Conceptually, the appearance of focus visual styles applied to controls should be coherent from control to control.</span></span> <span data-ttu-id="817c2-125">Uma maneira de garantir coerência é alterar o estilo visual de foto somente se você estiver compondo um tema inteiro, em que cada controle que está definido no tema obtém o mesmo estilo visual de foco ou alguma variação de um estilo que está relacionado visualmente de controle para controle.</span><span class="sxs-lookup"><span data-stu-id="817c2-125">One way to ensure coherence is to change the focus visual style only if you are composing an entire theme, where each control that is defined in the theme gets either the very same focus visual style, or some variation of a style that is visually related from control to control.</span></span> <span data-ttu-id="817c2-126">Como alternativa, você pode usar o mesmo estilo (ou estilos semelhantes) para estilizar cada elemento com foco no teclado em uma página ou em uma interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="817c2-126">Alternatively, you might use the same style (or similar styles) to style every keyboard-focusable element on a page or in a UI.</span></span>  
  
 <span data-ttu-id="817c2-127">Definindo <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> nos estilos de controle individuais que não fazem parte de um tema é não o uso pretendido do foco estilos visuais.</span><span class="sxs-lookup"><span data-stu-id="817c2-127">Setting <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> on individual control styles that are not part of a theme is not the intended usage of focus visual styles.</span></span> <span data-ttu-id="817c2-128">Isso ocorre porque um comportamento visual inconsistente entre controles pode levar a uma experiência confusa do usuário em relação ao foco do teclado.</span><span class="sxs-lookup"><span data-stu-id="817c2-128">This is because an inconsistent visual behavior between controls can lead to a confusing user experience regarding keyboard focus.</span></span> <span data-ttu-id="817c2-129">Se você estiver pretendendo comportamentos de controle específicos para o foco do teclado que são deliberadamente não coerentes em um tema, uma abordagem muito melhor é usar gatilhos em estilos para propriedades de estado de entrada individual, como <xref:System.Windows.UIElement.IsFocused%2A> ou <xref:System.Windows.UIElement.IsKeyboardFocused%2A>.</span><span class="sxs-lookup"><span data-stu-id="817c2-129">If you are intending control-specific behaviors for keyboard focus that are deliberately not coherent across a theme, a much better approach is to use triggers in styles for individual input state properties, such as <xref:System.Windows.UIElement.IsFocused%2A> or <xref:System.Windows.UIElement.IsKeyboardFocused%2A>.</span></span>  
  
 <span data-ttu-id="817c2-130">Estilos visuais de foco agem exclusivamente para foco do teclado.</span><span class="sxs-lookup"><span data-stu-id="817c2-130">Focus visual styles act exclusively for keyboard focus.</span></span> <span data-ttu-id="817c2-131">Dessa forma, estilos visuais de foco são um tipo de recurso de acessibilidade.</span><span class="sxs-lookup"><span data-stu-id="817c2-131">As such, focus visual styles are a type of accessibility feature.</span></span> <span data-ttu-id="817c2-132">Se quiser alterações de interface do usuário para qualquer tipo de foco, seja por meio de mouse, teclado ou programaticamente, então você não deverá usar estilos visuais de foco e, em vez disso, deverá usar setters e disparadores nos estilos ou modelos que estão funcionando do valor das propriedades de foco gerais, como <xref:System.Windows.UIElement.IsFocused%2A> ou <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>.</span><span class="sxs-lookup"><span data-stu-id="817c2-132">If you want UI changes for any type of focus, whether via mouse, keyboard, or programmatically, then you should not use focus visual styles, and should instead use setters and triggers in styles or templates that are working from the value of general focus properties such as <xref:System.Windows.UIElement.IsFocused%2A> or <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>.</span></span>  
  
<a name="How"></a>   
## <a name="how-to-create-a-focus-visual-style"></a><span data-ttu-id="817c2-133">Como criar um estilo visual de foco</span><span class="sxs-lookup"><span data-stu-id="817c2-133">How to Create a Focus Visual Style</span></span>  
 <span data-ttu-id="817c2-134">O estilo que você criar para um estilo visual de foco sempre deve ter o <xref:System.Windows.Style.TargetType%2A> de <xref:System.Windows.Controls.Control>.</span><span class="sxs-lookup"><span data-stu-id="817c2-134">The style you create for a focus visual style should always have the <xref:System.Windows.Style.TargetType%2A> of <xref:System.Windows.Controls.Control>.</span></span> <span data-ttu-id="817c2-135">O estilo deve consistir principalmente de uma <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="817c2-135">The style should consist mainly of a <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="817c2-136">Você não especificar o tipo de destino para ser do tipo onde o estilo visual de foco é atribuído ao <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>.</span><span class="sxs-lookup"><span data-stu-id="817c2-136">You do not specify the target type to be the type where the focus visual style is assigned to the <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>.</span></span>  
  
 <span data-ttu-id="817c2-137">Como o tipo de destino é sempre <xref:System.Windows.Controls.Control>, você deverá estilizar usando as propriedades que são comuns a todos os controles (usando propriedades do objeto a <xref:System.Windows.Controls.Control> classe e suas classes base).</span><span class="sxs-lookup"><span data-stu-id="817c2-137">Because the target type is always <xref:System.Windows.Controls.Control>, you must style by using properties that are common to all controls (using properties of the <xref:System.Windows.Controls.Control> class and its base classes).</span></span> <span data-ttu-id="817c2-138">Você deve criar um modelo que funcionará corretamente como uma sobreposição para um elemento de interface do usuário e que não ocultará áreas funcionais do controle.</span><span class="sxs-lookup"><span data-stu-id="817c2-138">You should create a template that will properly function as an overlay to a UI element and that will not obscure functional areas of the control.</span></span> <span data-ttu-id="817c2-139">Em geral, isso significa que os comentários visuais devem aparecer fora das margens do controle ou como efeitos temporários ou discretos que não bloquearão o teste de clique no controle no qual o estilo visual de foco é aplicado.</span><span class="sxs-lookup"><span data-stu-id="817c2-139">Generally, this means that the visual feedback should appear outside the control margins, or as temporary or unobtrusive effects that will not block the hit testing on the control where the focus visual style is applied.</span></span> <span data-ttu-id="817c2-140">As propriedades que você pode usar na associação de modelo que são úteis para determinar dimensionamento e posicionamento do seu modelo de sobreposição incluem <xref:System.Windows.FrameworkElement.ActualHeight%2A>, <xref:System.Windows.FrameworkElement.ActualWidth%2A>, <xref:System.Windows.FrameworkElement.Margin%2A>, e <xref:System.Windows.Controls.Control.Padding%2A>.</span><span class="sxs-lookup"><span data-stu-id="817c2-140">Properties that you can use in template binding that are useful for determining sizing and positioning of your overlay template include <xref:System.Windows.FrameworkElement.ActualHeight%2A>, <xref:System.Windows.FrameworkElement.ActualWidth%2A>, <xref:System.Windows.FrameworkElement.Margin%2A>, and <xref:System.Windows.Controls.Control.Padding%2A>.</span></span>  
  
<a name="Alternatives"></a>   
## <a name="alternatives-to-using-a-focus-visual-style"></a><span data-ttu-id="817c2-141">Alternativas ao uso de um estilo visual de foco</span><span class="sxs-lookup"><span data-stu-id="817c2-141">Alternatives to Using a Focus Visual Style</span></span>  
 <span data-ttu-id="817c2-142">Para situações em que usar um estilo visual de foco não é apropriado, porque você está estilizando apenas controles únicos ou porque deseja maior controle em relação ao modelo de controle, há muitas outras propriedades acessíveis e técnicas que podem criar comportamento visual em resposta às alterações no foco.</span><span class="sxs-lookup"><span data-stu-id="817c2-142">For situations where using a focus visual style is not appropriate, either because you are only styling single controls or because you want greater control over the control template, there are many other accessible properties and techniques that can create visual behavior in response to changes in focus.</span></span>  
  
 <span data-ttu-id="817c2-143">Os gatilhos, os setters e os setters de evento são discutidos em detalhes em [Estilo e modelagem](../controls/styling-and-templating.md).</span><span class="sxs-lookup"><span data-stu-id="817c2-143">Triggers, setters, and event setters are all discussed in detail in [Styling and Templating](../controls/styling-and-templating.md).</span></span> <span data-ttu-id="817c2-144">A manipulação de eventos roteados é discutida em [Visão geral de eventos roteados](routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="817c2-144">Routed event handling is discussed in [Routed Events Overview](routed-events-overview.md).</span></span>  
  
### <a name="iskeyboardfocused"></a><span data-ttu-id="817c2-145">IsKeyboardFocused</span><span class="sxs-lookup"><span data-stu-id="817c2-145">IsKeyboardFocused</span></span>  
 <span data-ttu-id="817c2-146">Se você estiver interessado especificamente em foco do teclado, o <xref:System.Windows.UIElement.IsKeyboardFocused%2A> propriedade de dependência pode ser usada para uma propriedade <xref:System.Windows.Trigger>.</span><span class="sxs-lookup"><span data-stu-id="817c2-146">If you are specifically interested in keyboard focus, the <xref:System.Windows.UIElement.IsKeyboardFocused%2A> dependency property can be used for a property <xref:System.Windows.Trigger>.</span></span> <span data-ttu-id="817c2-147">Um gatilho de propriedade em um estilo ou modelo é uma técnica mais apropriada para definir um comportamento de foco do teclado que é especificamente para um único controle e que pode não corresponder visualmente ao comportamento de foco do teclado para outros controles.</span><span class="sxs-lookup"><span data-stu-id="817c2-147">A property trigger in either a style or template is a more appropriate technique for defining a keyboard focus behavior that is very specifically for a single control, and which might not visually match the keyboard focus behavior for other controls.</span></span>  
  
 <span data-ttu-id="817c2-148">Outra propriedade de dependência semelhante é <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>, que pode ser apropriada a ser usada se você deseja chamar visualmente o foco do teclado está em algum lugar dentro de composição ou dentro da área funcional do controle.</span><span class="sxs-lookup"><span data-stu-id="817c2-148">Another similar dependency property is <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>, which might be appropriate to use if you want to visually call out that keyboard focus is somewhere within compositing or within the functional area of the control.</span></span> <span data-ttu-id="817c2-149">Por exemplo, você pode colocar um <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A> gatilho, de modo que um painel que agrupa vários controles apareça de maneira diferente, mesmo que o foco do teclado possa com mais precisão estar em um elemento individual dentro desse painel.</span><span class="sxs-lookup"><span data-stu-id="817c2-149">For example, you might place an <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A> trigger such that a panel that groups several controls appears differently, even though keyboard focus might more precisely be on an individual element within that panel.</span></span>  
  
 <span data-ttu-id="817c2-150">Você também pode usar os eventos <xref:System.Windows.UIElement.GotKeyboardFocus> e <xref:System.Windows.UIElement.LostKeyboardFocus> (bem como seus equivalentes de visualização).</span><span class="sxs-lookup"><span data-stu-id="817c2-150">You can also use the events <xref:System.Windows.UIElement.GotKeyboardFocus> and <xref:System.Windows.UIElement.LostKeyboardFocus> (as well as their Preview equivalents).</span></span> <span data-ttu-id="817c2-151">Você pode usar esses eventos como base para um <xref:System.Windows.EventSetter>, ou você pode escrever manipuladores para os eventos no code-behind.</span><span class="sxs-lookup"><span data-stu-id="817c2-151">You can use these events as the basis for an <xref:System.Windows.EventSetter>, or you can write handlers for the events in code-behind.</span></span>  
  
### <a name="other-focus-properties"></a><span data-ttu-id="817c2-152">Outras propriedades de foco</span><span class="sxs-lookup"><span data-stu-id="817c2-152">Other Focus Properties</span></span>  
 <span data-ttu-id="817c2-153">Se desejar que todas as possíveis causas de alteração de foco para produzir um comportamento visual, você deve basear um setter ou gatilho a <xref:System.Windows.UIElement.IsFocused%2A> propriedade de dependência, ou como alternativa na <xref:System.Windows.UIElement.GotFocus> ou <xref:System.Windows.UIElement.LostFocus> eventos utilizados para um <xref:System.Windows.EventSetter>.</span><span class="sxs-lookup"><span data-stu-id="817c2-153">If you want all possible causes of changing focus to produce a visual behavior, you should base a setter or trigger on the <xref:System.Windows.UIElement.IsFocused%2A> dependency property, or alternatively on the <xref:System.Windows.UIElement.GotFocus> or <xref:System.Windows.UIElement.LostFocus> events used for an <xref:System.Windows.EventSetter>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="817c2-154">Consulte também</span><span class="sxs-lookup"><span data-stu-id="817c2-154">See also</span></span>

- <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>
- [<span data-ttu-id="817c2-155">Estilo e modelagem</span><span class="sxs-lookup"><span data-stu-id="817c2-155">Styling and Templating</span></span>](../controls/styling-and-templating.md)
- [<span data-ttu-id="817c2-156">Visão geral do foco</span><span class="sxs-lookup"><span data-stu-id="817c2-156">Focus Overview</span></span>](focus-overview.md)
- [<span data-ttu-id="817c2-157">Visão geral da entrada</span><span class="sxs-lookup"><span data-stu-id="817c2-157">Input Overview</span></span>](input-overview.md)
