---
title: 'Passo a passo: criar o primeiro aplicativo sensível ao toque'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- creating a touch-sensitive application [WPF]
- touchscreen applications [WPF], creating
- touch-sensitive applications [WPF], creating
- creating a touchscreen application [WPF]
ms.assetid: d69e602e-9a25-4e24-950b-e89eaa2a906b
ms.openlocfilehash: 53ae737394d76d9f293f6e03fbf04cbb46d2adbb
ms.sourcegitcommit: 558d78d2a68acd4c95ef23231c8b4e4c7bac3902
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59326977"
---
# <a name="walkthrough-creating-your-first-touch-application"></a><span data-ttu-id="a6a05-102">Passo a passo: criar o primeiro aplicativo sensível ao toque</span><span class="sxs-lookup"><span data-stu-id="a6a05-102">Walkthrough: Creating Your First Touch Application</span></span>
[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="a6a05-103">permite que os aplicativos respondam ao toque.</span><span class="sxs-lookup"><span data-stu-id="a6a05-103">enables applications to respond to touch.</span></span> <span data-ttu-id="a6a05-104">Por exemplo, você pode interagir com um aplicativo usando um ou mais dedos em um dispositivo sensível ao toque, como uma tela sensível ao toque. Este passo a passo cria um aplicativo que possibilita ao usuário mover, redimensionar ou girar um único objeto usando toque.</span><span class="sxs-lookup"><span data-stu-id="a6a05-104">For example, you can interact with an application by using one or more fingers on a touch-sensitive device, such as a touchscreen This walkthrough creates an application that enables the user to move, resize, or rotate a single object by using touch.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="a6a05-105">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="a6a05-105">Prerequisites</span></span>  
 <span data-ttu-id="a6a05-106">Você precisa dos seguintes componentes para concluir esta instrução passo a passo:</span><span class="sxs-lookup"><span data-stu-id="a6a05-106">You need the following components to complete this walkthrough:</span></span>  
  
-   <span data-ttu-id="a6a05-107">Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a6a05-107">Visual Studio.</span></span>  
  
-   <span data-ttu-id="a6a05-108">Um dispositivo que aceita entrada de toque, como uma tela sensível ao toque, que dá suporte a Windows Touch.</span><span class="sxs-lookup"><span data-stu-id="a6a05-108">A device that accepts touch input, such as a touchscreen, that supports Windows Touch.</span></span>  
  
 <span data-ttu-id="a6a05-109">Além disso, você deve ter um entendimento básico de como criar um aplicativo em [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], especialmente como assinar um evento e manipulá-lo.</span><span class="sxs-lookup"><span data-stu-id="a6a05-109">Additionally, you should have a basic understanding of how to create an application in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], especially how to subscribe to and handle an event.</span></span> <span data-ttu-id="a6a05-110">Para obter mais informações, confira [Passo a passo: Meu primeiro aplicativo da área de trabalho do WPF](../getting-started/walkthrough-my-first-wpf-desktop-application.md).</span><span class="sxs-lookup"><span data-stu-id="a6a05-110">For more information, see [Walkthrough: My first WPF desktop application](../getting-started/walkthrough-my-first-wpf-desktop-application.md).</span></span>  
  
## <a name="creating-the-application"></a><span data-ttu-id="a6a05-111">Criando o aplicativo</span><span class="sxs-lookup"><span data-stu-id="a6a05-111">Creating the Application</span></span>  
  
#### <a name="to-create-the-application"></a><span data-ttu-id="a6a05-112">Para criar o aplicativo</span><span class="sxs-lookup"><span data-stu-id="a6a05-112">To create the application</span></span>  
  
1. <span data-ttu-id="a6a05-113">Crie um novo projeto de aplicativo do WPF no Visual Basic ou no Visual C#, chamado `BasicManipulation`.</span><span class="sxs-lookup"><span data-stu-id="a6a05-113">Create a new WPF Application project in Visual Basic or Visual C# named `BasicManipulation`.</span></span> <span data-ttu-id="a6a05-114">Para obter mais informações, confira [Passo a passo: Meu primeiro aplicativo da área de trabalho do WPF](../getting-started/walkthrough-my-first-wpf-desktop-application.md).</span><span class="sxs-lookup"><span data-stu-id="a6a05-114">For more information, see [Walkthrough: My first WPF desktop application](../getting-started/walkthrough-my-first-wpf-desktop-application.md).</span></span>  
  
2. <span data-ttu-id="a6a05-115">Substitua o conteúdo de MainWindow.xaml pelo XAML a seguir.</span><span class="sxs-lookup"><span data-stu-id="a6a05-115">Replace the contents of MainWindow.xaml with the following XAML.</span></span>  
  
     <span data-ttu-id="a6a05-116">Essa marcação cria um aplicativo simples que contém um vermelho <xref:System.Windows.Shapes.Rectangle> em um <xref:System.Windows.Controls.Canvas>.</span><span class="sxs-lookup"><span data-stu-id="a6a05-116">This markup creates a simple application that contains a red <xref:System.Windows.Shapes.Rectangle> on a <xref:System.Windows.Controls.Canvas>.</span></span> <span data-ttu-id="a6a05-117">O <xref:System.Windows.UIElement.IsManipulationEnabled%2A> propriedade do <xref:System.Windows.Shapes.Rectangle> for definido como true para que ele receba eventos de manipulação.</span><span class="sxs-lookup"><span data-stu-id="a6a05-117">The <xref:System.Windows.UIElement.IsManipulationEnabled%2A> property of the <xref:System.Windows.Shapes.Rectangle> is set to true so that it will receive manipulation events.</span></span> <span data-ttu-id="a6a05-118">O aplicativo assina os <xref:System.Windows.UIElement.ManipulationStarting>, <xref:System.Windows.UIElement.ManipulationDelta>, e <xref:System.Windows.UIElement.ManipulationInertiaStarting> eventos.</span><span class="sxs-lookup"><span data-stu-id="a6a05-118">The application subscribes to the <xref:System.Windows.UIElement.ManipulationStarting>, <xref:System.Windows.UIElement.ManipulationDelta>, and <xref:System.Windows.UIElement.ManipulationInertiaStarting> events.</span></span> <span data-ttu-id="a6a05-119">Esses eventos contêm a lógica para mover o <xref:System.Windows.Shapes.Rectangle> quando o usuário o manipula.</span><span class="sxs-lookup"><span data-stu-id="a6a05-119">These events contain the logic to move the <xref:System.Windows.Shapes.Rectangle> when the user manipulates it.</span></span>  
  
     [!code-xaml[BasicManipulation#UI](~/samples/snippets/csharp/VS_Snippets_Wpf/basicmanipulation/csharp/mainwindow.xaml#ui)]  
  
3. <span data-ttu-id="a6a05-120">Se você estiver usando o Visual Basic, na primeira linha de MainWindow.xaml, substitua `x:Class="BasicManipulation.MainWindow"` por `x:Class="MainWindow"`.</span><span class="sxs-lookup"><span data-stu-id="a6a05-120">If you are using Visual Basic, in the first line of MainWindow.xaml, replace `x:Class="BasicManipulation.MainWindow"` with `x:Class="MainWindow"`.</span></span>  
  
4. <span data-ttu-id="a6a05-121">No `MainWindow` da classe, adicione o seguinte <xref:System.Windows.UIElement.ManipulationStarting> manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="a6a05-121">In the `MainWindow` class, add the following <xref:System.Windows.UIElement.ManipulationStarting> event handler.</span></span>  
  
     <span data-ttu-id="a6a05-122">O <xref:System.Windows.UIElement.ManipulationStarting> evento ocorre quando [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] detecta que toque entrada começa a manipular um objeto.</span><span class="sxs-lookup"><span data-stu-id="a6a05-122">The <xref:System.Windows.UIElement.ManipulationStarting> event occurs when [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] detects that touch input begins to manipulate an object.</span></span> <span data-ttu-id="a6a05-123">O código especifica que a posição da manipulação de deve ser relativo a <xref:System.Windows.Window> definindo o <xref:System.Windows.Input.ManipulationStartingEventArgs.ManipulationContainer%2A> propriedade.</span><span class="sxs-lookup"><span data-stu-id="a6a05-123">The code specifies that the position of the manipulation should be relative to the <xref:System.Windows.Window> by setting the <xref:System.Windows.Input.ManipulationStartingEventArgs.ManipulationContainer%2A> property.</span></span>  
  
     [!code-csharp[BasicManipulation#ManipulationStarting](~/samples/snippets/csharp/VS_Snippets_Wpf/basicmanipulation/csharp/mainwindow.xaml.cs#manipulationstarting)]
     [!code-vb[BasicManipulation#ManipulationStarting](~/samples/snippets/visualbasic/VS_Snippets_Wpf/basicmanipulation/visualbasic/mainwindow.xaml.vb#manipulationstarting)]

5. <span data-ttu-id="a6a05-124">No `MainWindow` da classe, adicione o seguinte <xref:System.Windows.Input.ManipulationDelta> manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="a6a05-124">In the `MainWindow` class, add the following <xref:System.Windows.Input.ManipulationDelta> event handler.</span></span>

     <span data-ttu-id="a6a05-125">O <xref:System.Windows.Input.ManipulationDelta> evento ocorre quando o toque muda de posição de entrada e pode ocorrer várias vezes durante uma manipulação.</span><span class="sxs-lookup"><span data-stu-id="a6a05-125">The <xref:System.Windows.Input.ManipulationDelta> event occurs when the touch input changes position and can occur multiple times during a manipulation.</span></span> <span data-ttu-id="a6a05-126">O evento também pode ocorrer depois que um dedo for retirado da tela.</span><span class="sxs-lookup"><span data-stu-id="a6a05-126">The event can also occur after a finger is raised.</span></span> <span data-ttu-id="a6a05-127">Por exemplo, se o usuário arrasta um dedo pela tela, o <xref:System.Windows.Input.ManipulationDelta> evento ocorre várias vezes conforme o dedo é movido.</span><span class="sxs-lookup"><span data-stu-id="a6a05-127">For example, if the user drags a finger across a screen, the <xref:System.Windows.Input.ManipulationDelta> event occurs multiple times as the finger moves.</span></span> <span data-ttu-id="a6a05-128">Quando o usuário retira um dedo na tela, o <xref:System.Windows.Input.ManipulationDelta> evento continua ocorrendo para simular inércia.</span><span class="sxs-lookup"><span data-stu-id="a6a05-128">When the user raises a finger from the screen, the <xref:System.Windows.Input.ManipulationDelta> event keeps occurring to simulate inertia.</span></span>

     <span data-ttu-id="a6a05-129">O código se aplica a <xref:System.Windows.Input.ManipulationDeltaEventArgs.DeltaManipulation%2A> para o <xref:System.Windows.UIElement.RenderTransform%2A> da <xref:System.Windows.Shapes.Rectangle> para movê-lo conforme o usuário move o toque de entrada.</span><span class="sxs-lookup"><span data-stu-id="a6a05-129">The code applies the <xref:System.Windows.Input.ManipulationDeltaEventArgs.DeltaManipulation%2A> to the <xref:System.Windows.UIElement.RenderTransform%2A> of the <xref:System.Windows.Shapes.Rectangle> to move it as the user moves the touch input.</span></span> <span data-ttu-id="a6a05-130">Ele também verifica se o <xref:System.Windows.Shapes.Rectangle> está fora dos limites do <xref:System.Windows.Window> quando o evento ocorre durante a inércia.</span><span class="sxs-lookup"><span data-stu-id="a6a05-130">It also checks whether the <xref:System.Windows.Shapes.Rectangle> is outside the bounds of the <xref:System.Windows.Window> when the event occurs during inertia.</span></span> <span data-ttu-id="a6a05-131">Se assim, o aplicativo chama o <xref:System.Windows.Input.ManipulationDeltaEventArgs.Complete%2A?displayProperty=nameWithType> método para encerrar a manipulação.</span><span class="sxs-lookup"><span data-stu-id="a6a05-131">If so, the application calls the <xref:System.Windows.Input.ManipulationDeltaEventArgs.Complete%2A?displayProperty=nameWithType> method to end the manipulation.</span></span>

     [!code-csharp[BasicManipulation#ManipulationDelta](~/samples/snippets/csharp/VS_Snippets_Wpf/basicmanipulation/csharp/mainwindow.xaml.cs#manipulationdelta)]
     [!code-vb[BasicManipulation#ManipulationDelta](~/samples/snippets/visualbasic/VS_Snippets_Wpf/basicmanipulation/visualbasic/mainwindow.xaml.vb#manipulationdelta)]

6. <span data-ttu-id="a6a05-132">No `MainWindow` da classe, adicione o seguinte <xref:System.Windows.UIElement.ManipulationInertiaStarting> manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="a6a05-132">In the `MainWindow` class, add the following <xref:System.Windows.UIElement.ManipulationInertiaStarting> event handler.</span></span>

     <span data-ttu-id="a6a05-133">O <xref:System.Windows.UIElement.ManipulationInertiaStarting> evento ocorre quando o usuário retira todos os dedos da tela.</span><span class="sxs-lookup"><span data-stu-id="a6a05-133">The <xref:System.Windows.UIElement.ManipulationInertiaStarting> event occurs when the user raises all fingers from the screen.</span></span> <span data-ttu-id="a6a05-134">O código define a velocidade inicial e a desaceleração para a movimentação, a expansão e a rotação do retângulo.</span><span class="sxs-lookup"><span data-stu-id="a6a05-134">The code sets the initial velocity and deceleration for the movement, expansion, and rotation of the rectangle.</span></span>

     [!code-csharp[BasicManipulation#ManipulationInertiaStarting](~/samples/snippets/csharp/VS_Snippets_Wpf/basicmanipulation/csharp/mainwindow.xaml.cs#manipulationinertiastarting)]
     [!code-vb[BasicManipulation#ManipulationInertiaStarting](~/samples/snippets/visualbasic/VS_Snippets_Wpf/basicmanipulation/visualbasic/mainwindow.xaml.vb#manipulationinertiastarting)]

7. <span data-ttu-id="a6a05-135">Compile e execute o projeto.</span><span class="sxs-lookup"><span data-stu-id="a6a05-135">Build and run the project.</span></span>

     <span data-ttu-id="a6a05-136">Você deve ver um quadrado vermelho aparecer na janela.</span><span class="sxs-lookup"><span data-stu-id="a6a05-136">You should see a red square appear in the window.</span></span>

## <a name="testing-the-application"></a><span data-ttu-id="a6a05-137">Testando o aplicativo</span><span class="sxs-lookup"><span data-stu-id="a6a05-137">Testing the Application</span></span>
 <span data-ttu-id="a6a05-138">Para testar o aplicativo, tente as seguintes manipulações.</span><span class="sxs-lookup"><span data-stu-id="a6a05-138">To test the application, try the following manipulations.</span></span> <span data-ttu-id="a6a05-139">Observe que você pode fazer mais de uma das seguintes opções ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="a6a05-139">Note that you can do more than one of the following at the same time.</span></span>

-   <span data-ttu-id="a6a05-140">Para mover o <xref:System.Windows.Shapes.Rectangle>, coloque um dedo no <xref:System.Windows.Shapes.Rectangle> e mova o dedo na tela.</span><span class="sxs-lookup"><span data-stu-id="a6a05-140">To move the <xref:System.Windows.Shapes.Rectangle>, put a finger on the <xref:System.Windows.Shapes.Rectangle> and move the finger across the screen.</span></span>

-   <span data-ttu-id="a6a05-141">Para redimensionar o <xref:System.Windows.Shapes.Rectangle>, coloque dois dedos no <xref:System.Windows.Shapes.Rectangle> e mova os dedos aproxime ou afaste uns aos outros.</span><span class="sxs-lookup"><span data-stu-id="a6a05-141">To resize the <xref:System.Windows.Shapes.Rectangle>, put two fingers on the <xref:System.Windows.Shapes.Rectangle> and move the fingers closer together or farther apart from each other.</span></span>

-   <span data-ttu-id="a6a05-142">Para girar o <xref:System.Windows.Shapes.Rectangle>, coloque dois dedos no <xref:System.Windows.Shapes.Rectangle> e gire os dedos em torno do outro.</span><span class="sxs-lookup"><span data-stu-id="a6a05-142">To rotate the <xref:System.Windows.Shapes.Rectangle>, put two fingers on the <xref:System.Windows.Shapes.Rectangle> and rotate the fingers around each other.</span></span>

 <span data-ttu-id="a6a05-143">Para causar inércia, retire seus dedos da tela enquanto realiza as manipulações anteriores.</span><span class="sxs-lookup"><span data-stu-id="a6a05-143">To cause inertia, quickly raise your fingers from the screen as you perform the previous manipulations.</span></span> <span data-ttu-id="a6a05-144">O <xref:System.Windows.Shapes.Rectangle> continuará a mover, redimensionar ou girar por alguns segundos antes de parar.</span><span class="sxs-lookup"><span data-stu-id="a6a05-144">The <xref:System.Windows.Shapes.Rectangle> will continue to move, resize, or rotate for a few seconds before it stops.</span></span>

## <a name="see-also"></a><span data-ttu-id="a6a05-145">Consulte também</span><span class="sxs-lookup"><span data-stu-id="a6a05-145">See also</span></span>

- <xref:System.Windows.UIElement.ManipulationStarting?displayProperty=nameWithType>
- <xref:System.Windows.UIElement.ManipulationDelta?displayProperty=nameWithType>
- <xref:System.Windows.UIElement.ManipulationInertiaStarting?displayProperty=nameWithType>