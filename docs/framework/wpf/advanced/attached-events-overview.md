---
title: Visão geral de eventos anexados
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- handling attached events [WPF]
- defining attached events as routed events [WPF]
- attached events [WPF], scenarios for
- attached events vs. routed events [WPF]
- backing attached events with routed events [WPF]
- attached events [WPF], definition
ms.assetid: 2c40eae3-80e4-4a45-ae09-df6c9ab4d91e
ms.openlocfilehash: c6a8b3b7355d315b83f859e7016018b56ade5484
ms.sourcegitcommit: fb78d8abbdb87144a3872cf154930157090dd933
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/26/2018
ms.locfileid: "47196337"
---
# <a name="attached-events-overview"></a><span data-ttu-id="09fec-102">Visão geral de eventos anexados</span><span class="sxs-lookup"><span data-stu-id="09fec-102">Attached Events Overview</span></span>
[!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] <span data-ttu-id="09fec-103">define um componente de linguagem e o tipo de evento chamado de *evento anexado*.</span><span class="sxs-lookup"><span data-stu-id="09fec-103"> defines a language component and type of event called an \*attached event\*.</span></span> <span data-ttu-id="09fec-104">O conceito de um evento anexado permite que você adicione um manipulador para um evento específico a um elemento arbitrário em vez de um elemento que realmente define ou herda o evento.</span><span class="sxs-lookup"><span data-stu-id="09fec-104">The concept of an attached event enables you to add a handler for a particular event to an arbitrary element rather than to an element that actually defines or inherits the event.</span></span> <span data-ttu-id="09fec-105">Nesse caso, nem o objeto potencialmente aumentando o evento, nem a instância de tratamento define ou caso contrário, é "proprietário" do evento.</span><span class="sxs-lookup"><span data-stu-id="09fec-105">In this case, neither the object potentially raising the event nor the destination handling instance defines or otherwise "owns" the event.</span></span>  
  
 
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="09fec-106">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="09fec-106">Prerequisites</span></span>  
 <span data-ttu-id="09fec-107">Este tópico pressupõe que você leu a [visão geral de eventos roteados](../../../../docs/framework/wpf/advanced/routed-events-overview.md) e [visão geral de XAML (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="09fec-107">This topic assumes that you have read [Routed Events Overview](../../../../docs/framework/wpf/advanced/routed-events-overview.md) and [XAML Overview (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md).</span></span>  
  
<a name="Syntax"></a>   
## <a name="attached-event-syntax"></a><span data-ttu-id="09fec-108">Sintaxe de evento anexado</span><span class="sxs-lookup"><span data-stu-id="09fec-108">Attached Event Syntax</span></span>  
 <span data-ttu-id="09fec-109">Eventos anexados tem uma [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] sintaxe e um padrão de codificação que deve ser usado pelo código de apoio para oferecer suporte a utilização de eventos anexados.</span><span class="sxs-lookup"><span data-stu-id="09fec-109">Attached events have a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] syntax and a coding pattern that must be used by the backing code in order to support the attached event usage.</span></span>  
  
 <span data-ttu-id="09fec-110">Em [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] sintaxe, o evento anexado é especificado não apenas por seu nome de evento, mas por seu tipo proprietário mais o nome do evento, separados por um ponto (.).</span><span class="sxs-lookup"><span data-stu-id="09fec-110">In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] syntax, the attached event is specified not just by its event name, but by its owning type plus the event name, separated by a dot (.).</span></span> <span data-ttu-id="09fec-111">Porque o nome do evento é qualificado com o nome do seu tipo proprietário, a sintaxe de evento anexado permite que qualquer evento anexado a ser anexado a qualquer elemento que pode ser instanciado.</span><span class="sxs-lookup"><span data-stu-id="09fec-111">Because the event name is qualified with the name of its owning type, the attached event syntax allows any attached event to be attached to any element that can be instantiated.</span></span>  
  
 <span data-ttu-id="09fec-112">Por exemplo, o seguinte é a sintaxe [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] para anexar um manipulador para um `NeedsCleaning` evento anexado personalizado:</span><span class="sxs-lookup"><span data-stu-id="09fec-112">For example, the following is the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] syntax for attaching a handler for a custom `NeedsCleaning` attached event:</span></span>  
  
 [!code-xaml[WPFAquariumSln#AE](../../../../samples/snippets/csharp/VS_Snippets_Wpf/WPFAquariumSln/CSharp/WPFAquarium/Window1.xaml#ae)]  
  
 <span data-ttu-id="09fec-113">Observe o `aqua:` prefixo; o prefixo é necessário nesse caso porque o evento anexado é um evento personalizado proveniente de um xmlns personalizado e mapeado.</span><span class="sxs-lookup"><span data-stu-id="09fec-113">Note the `aqua:` prefix; the prefix is necessary in this case because the attached event is a custom event that comes from a custom mapped xmlns.</span></span>  
  
<a name="WPFImplements"></a>   
## <a name="how-wpf-implements-attached-events"></a><span data-ttu-id="09fec-114">Como o WPF implementa eventos anexados</span><span class="sxs-lookup"><span data-stu-id="09fec-114">How WPF Implements Attached Events</span></span>  
 <span data-ttu-id="09fec-115">Na [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], anexado eventos são apoiados por um <xref:System.Windows.RoutedEvent> campo e são roteados através da árvore depois que eles são gerados.</span><span class="sxs-lookup"><span data-stu-id="09fec-115">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], attached events are backed by a <xref:System.Windows.RoutedEvent> field and are routed through the tree after they are raised.</span></span> <span data-ttu-id="09fec-116">Normalmente, a origem do evento anexado (o objeto que gera o evento) é uma fonte de sistema ou serviço e o objeto que executa o código que gera o evento não é, portanto, uma parte direta da árvore de elementos.</span><span class="sxs-lookup"><span data-stu-id="09fec-116">Typically, the source of the attached event (the object that raises the event) is a system or service source, and the object that runs the code that raises the event is therefore not a direct part of the element tree.</span></span>  
  
<a name="Scenarios"></a>   
## <a name="scenarios-for-attached-events"></a><span data-ttu-id="09fec-117">Cenários para eventos anexados</span><span class="sxs-lookup"><span data-stu-id="09fec-117">Scenarios for Attached Events</span></span>  
 <span data-ttu-id="09fec-118">Na [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], anexado eventos estão presentes em certas áreas de recursos onde há uma abstração de nível de serviço, como para os eventos habilitados pela estático <xref:System.Windows.Input.Mouse> classe ou o <xref:System.Windows.Controls.Validation> classe.</span><span class="sxs-lookup"><span data-stu-id="09fec-118">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], attached events are present in certain feature areas where there is service-level abstraction, such as for the events enabled by the static <xref:System.Windows.Input.Mouse> class or the <xref:System.Windows.Controls.Validation> class.</span></span> <span data-ttu-id="09fec-119">Classes que interagem com ou usam o serviço podem usar o evento na sintaxe de evento anexado ou eles podem escolher aumentar o evento anexado como um evento roteado que faz parte de como a classe integra os recursos do serviço.</span><span class="sxs-lookup"><span data-stu-id="09fec-119">Classes that interact with or use the service can either use the event in the attached event syntax, or they can choose to surface the attached event as a routed event that is part of how the class integrates the capabilities of the service.</span></span>  
  
 <span data-ttu-id="09fec-120">Embora [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] defina um número de eventos anexados, os cenários nos quais você usará ou identificará o evento anexado diretamente são muito limitados.</span><span class="sxs-lookup"><span data-stu-id="09fec-120">Although [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] defines a number of attached events, the scenarios where you will either use or handle the attached event directly are very limited.</span></span> <span data-ttu-id="09fec-121">Geralmente, o evento anexado tem uma finalidade arquitetural, mas é então encaminhado para um evento roteado e não anexado (feito com um [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] "wrapper" de eventos).</span><span class="sxs-lookup"><span data-stu-id="09fec-121">Generally, the attached event serves an architecture purpose, but is then forwarded to a non-attached (backed with a [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] event "wrapper") routed event.</span></span>  
  
 <span data-ttu-id="09fec-122">Por exemplo, subjacente evento anexado <xref:System.Windows.Input.Mouse.MouseDown?displayProperty=nameWithType> podem mais facilmente ser tratado em qualquer dado <xref:System.Windows.UIElement> usando <xref:System.Windows.UIElement.MouseDown> em que <xref:System.Windows.UIElement> em vez de lidar com a sintaxe de evento anexado ou em [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] ou código.</span><span class="sxs-lookup"><span data-stu-id="09fec-122">For instance, the underlying attached event <xref:System.Windows.Input.Mouse.MouseDown?displayProperty=nameWithType> can more easily be handled on any given <xref:System.Windows.UIElement> by using <xref:System.Windows.UIElement.MouseDown> on that <xref:System.Windows.UIElement> rather than dealing with attached event syntax either in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] or code.</span></span> <span data-ttu-id="09fec-123">O evento anexado serve um propósito na arquitetura porque permite expansão futura de dispositivos de entrada.</span><span class="sxs-lookup"><span data-stu-id="09fec-123">The attached event serves a purpose in the architecture because it allows for future expansion of input devices.</span></span> <span data-ttu-id="09fec-124">O dispositivo hipotético só precisaria elevar <xref:System.Windows.Input.Mouse.MouseDown?displayProperty=nameWithType> para simular a entrada do mouse e não precisaria derivar de <xref:System.Windows.Input.Mouse> para fazer isso.</span><span class="sxs-lookup"><span data-stu-id="09fec-124">The hypothetical device would only need to raise <xref:System.Windows.Input.Mouse.MouseDown?displayProperty=nameWithType> in order to simulate mouse input, and would not need to derive from <xref:System.Windows.Input.Mouse> to do so.</span></span> <span data-ttu-id="09fec-125">No entanto, esse cenário envolve tratamento por código dos eventos e [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] o tratamento de eventos anexados não é relevante para esse cenário.</span><span class="sxs-lookup"><span data-stu-id="09fec-125">However, this scenario involves code handling of the events, and [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] handling of the attached event is not relevant to this scenario.</span></span>  
  
<a name="Handling"></a>   
## <a name="handling-an-attached-event-in-wpf"></a><span data-ttu-id="09fec-126">Tratando um evento anexado no WPF</span><span class="sxs-lookup"><span data-stu-id="09fec-126">Handling an Attached Event in WPF</span></span>  
 <span data-ttu-id="09fec-127">O processo para identificar um evento anexado e o código do manipulador que você vai escrever, é basicamente o mesmo para um evento roteado.</span><span class="sxs-lookup"><span data-stu-id="09fec-127">The process for handling an attached event, and the handler code that you will write, is basically the same as for a routed event.</span></span>  
  
 <span data-ttu-id="09fec-128">Em geral, um [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] evento anexado não é muito diferente de um [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] evento roteado.</span><span class="sxs-lookup"><span data-stu-id="09fec-128">In general, a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] attached event is not very different from a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] routed event.</span></span> <span data-ttu-id="09fec-129">As diferenças são como o evento foi originado e como ele é exposto por uma classe como um membro (que também afeta a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] sintaxe do manipulador).</span><span class="sxs-lookup"><span data-stu-id="09fec-129">The differences are how the event is sourced and how it is exposed by a class as a member (which also affects the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] handler syntax).</span></span>  
  
 <span data-ttu-id="09fec-130">No entanto, como observado anteriormente, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] eventos anexados existente não são particularmente para tratamento no [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09fec-130">However, as noted earlier, the existing [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] attached events are not particularly intended for handling in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="09fec-131">Com mais frequência, o objetivo do evento é habilitar um elemento de composição para relatar um estado para um elemento pai na composição, no qual, o evento é gerado normalmente em código e também depende do tratamento da classe na classe pai relevante.</span><span class="sxs-lookup"><span data-stu-id="09fec-131">More often, the purpose of the event is to enable a composited element to report a state to a parent element in compositing, in which case the event is usually raised in code and also relies on class handling in the relevant parent class.</span></span> <span data-ttu-id="09fec-132">Por exemplo, itens dentro de um <xref:System.Windows.Controls.Primitives.Selector> gerem o anexo <xref:System.Windows.Controls.Primitives.Selector.Selected> evento, que é, em seguida, a classe é tratada pelo <xref:System.Windows.Controls.Primitives.Selector> classe e, em seguida, potencialmente convertidos pela <xref:System.Windows.Controls.Primitives.Selector> classe em um evento roteado diferente, <xref:System.Windows.Controls.Primitives.Selector.SelectionChanged> .</span><span class="sxs-lookup"><span data-stu-id="09fec-132">For instance, items within a <xref:System.Windows.Controls.Primitives.Selector> are expected to raise the attached <xref:System.Windows.Controls.Primitives.Selector.Selected> event, which is then class handled by the <xref:System.Windows.Controls.Primitives.Selector> class and then potentially converted by the <xref:System.Windows.Controls.Primitives.Selector> class into a different routed event, <xref:System.Windows.Controls.Primitives.Selector.SelectionChanged>.</span></span> <span data-ttu-id="09fec-133">Para obter mais informações sobre eventos roteados e identificação por classe, consulte [Marcando eventos roteados como manipulados e tratamento de classes](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md).</span><span class="sxs-lookup"><span data-stu-id="09fec-133">For more information on routed events and class handling, see [Marking Routed Events as Handled, and Class Handling](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md).</span></span>  
  
<a name="Custom"></a>   
## <a name="defining-your-own-attached-events-as-routed-events"></a><span data-ttu-id="09fec-134">Definir seus próprios eventos anexados como eventos roteados</span><span class="sxs-lookup"><span data-stu-id="09fec-134">Defining Your Own Attached Events as Routed Events</span></span>  
 <span data-ttu-id="09fec-135">Se você estiver derivando de classes base comuns [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], você poderá implementar seus próprios eventos anexados, incluindo determinados métodos padrão em sua classe e usando o utilitário de métodos que já estão presentes nas classes base.</span><span class="sxs-lookup"><span data-stu-id="09fec-135">If you are deriving from common [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] base classes, you can implement your own attached events by including certain pattern methods in your class and by using utility methods that are already present on the base classes.</span></span>  
  
 <span data-ttu-id="09fec-136">O padrão é o seguinte:</span><span class="sxs-lookup"><span data-stu-id="09fec-136">The pattern is as follows:</span></span>  
  
-   <span data-ttu-id="09fec-137">Um método **Add*EventName*manipulador** com dois parâmetros.</span><span class="sxs-lookup"><span data-stu-id="09fec-137">A method **Add*EventName*Handler** with two parameters.</span></span> <span data-ttu-id="09fec-138">O primeiro parâmetro deve identificar o evento e o evento identificado deve corresponder a nomes com o ***EventName*** no nome do método.</span><span class="sxs-lookup"><span data-stu-id="09fec-138">The first parameter must identify the event, and the identified event must match names with the ***EventName*** in the method name.</span></span> <span data-ttu-id="09fec-139">O segundo parâmetro é o manipulador a ser adicionado.</span><span class="sxs-lookup"><span data-stu-id="09fec-139">The second parameter is the handler to add.</span></span> <span data-ttu-id="09fec-140">O método deve ser `public` e `static`, sem nenhum valor de retorno.</span><span class="sxs-lookup"><span data-stu-id="09fec-140">The method must be `public` and `static`, with no return value.</span></span>  
  
-   <span data-ttu-id="09fec-141">Um método **remova*EventName*manipulador** com dois parâmetros.</span><span class="sxs-lookup"><span data-stu-id="09fec-141">A method **Remove*EventName*Handler** with two parameters.</span></span> <span data-ttu-id="09fec-142">O primeiro parâmetro deve identificar o evento e o evento identificado deve corresponder a nomes com o ***EventName*** no nome do método.</span><span class="sxs-lookup"><span data-stu-id="09fec-142">The first parameter must identify the event, and the identified event must match names with the ***EventName*** in the method name.</span></span> <span data-ttu-id="09fec-143">O segundo parâmetro é o manipulador a ser removido.</span><span class="sxs-lookup"><span data-stu-id="09fec-143">The second parameter is the handler to remove.</span></span> <span data-ttu-id="09fec-144">O método deve ser `public` e `static`, sem nenhum valor de retorno.</span><span class="sxs-lookup"><span data-stu-id="09fec-144">The method must be `public` and `static`, with no return value.</span></span>  
  
 <span data-ttu-id="09fec-145">O **Add*EventName*manipulador** facilita o método de acessador a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processamento quando anexou o manipulador de eventos são os atributos declarados em um elemento.</span><span class="sxs-lookup"><span data-stu-id="09fec-145">The **Add*EventName*Handler** accessor method facilitates the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processing when attached event handler attributes are declared on an element.</span></span> <span data-ttu-id="09fec-146">O **Add*EventName*manipulador** e **remover*EventName*manipulador** métodos também permitem acesso de código ao repositório do manipulador de eventos para o evento anexado.</span><span class="sxs-lookup"><span data-stu-id="09fec-146">The **Add*EventName*Handler** and **Remove*EventName*Handler** methods also enable code access to the event handler store for the attached event.</span></span>  
  
 <span data-ttu-id="09fec-147">Este padrão geral não é ainda preciso o suficiente para implementação prática em uma estrutura, pois qualquer [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] implementação de leitor pode ter diferentes esquemas para identificar eventos subjacentes na linguagem e na arquitetura.</span><span class="sxs-lookup"><span data-stu-id="09fec-147">This general pattern is not yet precise enough for practical implementation in a framework, because any given [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] reader implementation might have different schemes for identifying underlying events in the supporting language and architecture.</span></span> <span data-ttu-id="09fec-148">Esse é um dos motivos que [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] eventos implementa anexados como eventos roteados; o identificador a ser usado para um evento (<xref:System.Windows.RoutedEvent>) já está definido pelo [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sistema de eventos.</span><span class="sxs-lookup"><span data-stu-id="09fec-148">This is one of the reasons that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implements attached events as routed events; the identifier to use for an event (<xref:System.Windows.RoutedEvent>) is already defined by the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event system.</span></span> <span data-ttu-id="09fec-149">Além disso, o roteamento de um evento é uma extensão natural da implementação no [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] conceito de nível de linguagem de um evento anexado.</span><span class="sxs-lookup"><span data-stu-id="09fec-149">Also, routing an event is a natural implementation extension on the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] language-level concept of an attached event.</span></span>  
  
 <span data-ttu-id="09fec-150">O **Add*EventName*manipulador** implementação para um [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] evento anexado consiste em chamar o <xref:System.Windows.UIElement.AddHandler%2A> com o evento roteado e o manipulador como argumentos.</span><span class="sxs-lookup"><span data-stu-id="09fec-150">The **Add*EventName*Handler** implementation for a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] attached event consists of calling the <xref:System.Windows.UIElement.AddHandler%2A> with the routed event and handler as arguments.</span></span>  
  
 <span data-ttu-id="09fec-151">Essa estratégia de implementação e o sistema de eventos roteados em geral restringem o tratamento para eventos anexados como <xref:System.Windows.UIElement> classes derivadas ou <xref:System.Windows.ContentElement> classes derivadas, pois apenas essas classes tem <xref:System.Windows.UIElement.AddHandler%2A> implementações.</span><span class="sxs-lookup"><span data-stu-id="09fec-151">This implementation strategy and the routed event system in general restrict handling for attached events to either <xref:System.Windows.UIElement> derived classes or <xref:System.Windows.ContentElement> derived classes, because only those classes have <xref:System.Windows.UIElement.AddHandler%2A> implementations.</span></span>  
  
 <span data-ttu-id="09fec-152">Por exemplo, o código a seguir define o `NeedsCleaning` evento na classe proprietária anexada `Aquarium`, usando a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] estratégia de evento anexado de declarar o evento anexado como um evento roteado.</span><span class="sxs-lookup"><span data-stu-id="09fec-152">For example, the following code defines the `NeedsCleaning` attached event on the owner class `Aquarium`, using the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] attached event strategy of declaring the attached event as a routed event.</span></span>  
  
 [!code-csharp[WPFAquariumSln#AECode](../../../../samples/snippets/csharp/VS_Snippets_Wpf/WPFAquariumSln/CSharp/WPFAquariumObjects/Class1.cs#aecode)]
 [!code-vb[WPFAquariumSln#AECode](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/WPFAquariumSln/visualbasic/wpfaquariumobjects/class1.vb#aecode)]  
  
 <span data-ttu-id="09fec-153">Observe que o método usado para estabelecer o campo de identificador de evento anexado, <xref:System.Windows.EventManager.RegisterRoutedEvent%2A>, é realmente o mesmo método que é usado para registrar um evento roteado e não anexado.</span><span class="sxs-lookup"><span data-stu-id="09fec-153">Note that the method used to establish the attached event identifier field, <xref:System.Windows.EventManager.RegisterRoutedEvent%2A>, is actually the same method that is used to register a non-attached routed event.</span></span> <span data-ttu-id="09fec-154">Eventos anexados e eventos roteados são registrados para um repositório centralizado interno.</span><span class="sxs-lookup"><span data-stu-id="09fec-154">Attached events and routed events all are registered to a centralized internal store.</span></span> <span data-ttu-id="09fec-155">Essa implementação de repositório de eventos permite a consideração conceitual de "eventos como uma interface" que é abordada na [visão geral de eventos roteados](../../../../docs/framework/wpf/advanced/routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="09fec-155">This event store implementation enables the "events as an interface" conceptual consideration that is discussed in [Routed Events Overview](../../../../docs/framework/wpf/advanced/routed-events-overview.md).</span></span>  
  
<a name="Raising"></a>   
## <a name="raising-a-wpf-attached-event"></a><span data-ttu-id="09fec-156">Gerar um evento anexado WPF</span><span class="sxs-lookup"><span data-stu-id="09fec-156">Raising a WPF Attached Event</span></span>  
 <span data-ttu-id="09fec-157">Geralmente não é necessário gerar eventos anexados [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] existentes no seu código.</span><span class="sxs-lookup"><span data-stu-id="09fec-157">You do not typically need to raise existing [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] defined attached events from your code.</span></span> <span data-ttu-id="09fec-158">Esses eventos seguem o modelo conceitual geral "serviço" e classes de serviço como <xref:System.Windows.Input.InputManager> são responsáveis por lançar os eventos.</span><span class="sxs-lookup"><span data-stu-id="09fec-158">These events follow the general "service" conceptual model, and service classes such as <xref:System.Windows.Input.InputManager> are responsible for raising the events.</span></span>  
  
 <span data-ttu-id="09fec-159">No entanto, se você estiver definindo um evento anexado personalizado com base nas [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] modelo de basear os eventos anexados na <xref:System.Windows.RoutedEvent>, você pode usar <xref:System.Windows.UIElement.RaiseEvent%2A> para gerar um evento de qualquer <xref:System.Windows.UIElement> ou <xref:System.Windows.ContentElement>.</span><span class="sxs-lookup"><span data-stu-id="09fec-159">However, if you are defining a custom attached event based on the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] model of basing attached events on <xref:System.Windows.RoutedEvent>, you can use <xref:System.Windows.UIElement.RaiseEvent%2A> to raise an attached event from any <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement>.</span></span> <span data-ttu-id="09fec-160">Gerar um evento roteado (anexado ou não) requer que você declare um determinado elemento na árvore de elementos como a origem do evento; Essa fonte é relatada como o <xref:System.Windows.UIElement.RaiseEvent%2A> chamador.</span><span class="sxs-lookup"><span data-stu-id="09fec-160">Raising a routed event (attached or not) requires that you declare a particular element in the element tree as the event source; that source is reported as the <xref:System.Windows.UIElement.RaiseEvent%2A> caller.</span></span> <span data-ttu-id="09fec-161">Determinar qual elemento é relatado como a fonte na árvore é responsabilidade do serviço</span><span class="sxs-lookup"><span data-stu-id="09fec-161">Determining which element is reported as the source in the tree is your service's responsibility</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="09fec-162">Consulte também</span><span class="sxs-lookup"><span data-stu-id="09fec-162">See Also</span></span>  
 [<span data-ttu-id="09fec-163">Visão geral de eventos roteados</span><span class="sxs-lookup"><span data-stu-id="09fec-163">Routed Events Overview</span></span>](../../../../docs/framework/wpf/advanced/routed-events-overview.md)  
 [<span data-ttu-id="09fec-164">Sintaxe XAML em detalhes</span><span class="sxs-lookup"><span data-stu-id="09fec-164">XAML Syntax In Detail</span></span>](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md)  
 [<span data-ttu-id="09fec-165">XAML e classes personalizadas para WPF</span><span class="sxs-lookup"><span data-stu-id="09fec-165">XAML and Custom Classes for WPF</span></span>](../../../../docs/framework/wpf/advanced/xaml-and-custom-classes-for-wpf.md)
