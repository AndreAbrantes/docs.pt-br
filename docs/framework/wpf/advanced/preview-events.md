---
title: Eventos de visualização
ms.date: 03/30/2017
helpviewer_keywords:
- Preview events [WPF]
- suppressing events [WPF]
- events [WPF], Preview
- events [WPF], suppressing
ms.assetid: b5032308-aa9c-4d02-af11-630ecec8df7e
ms.openlocfilehash: 2d6c1ab32cb43730af2f935f4bd4405059994c12
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/04/2018
ms.locfileid: "33546130"
---
# <a name="preview-events"></a><span data-ttu-id="d6ece-102">Eventos de visualização</span><span class="sxs-lookup"><span data-stu-id="d6ece-102">Preview Events</span></span>
<span data-ttu-id="d6ece-103">Eventos de Visualização, também conhecidos como eventos de túnel, são eventos roteados em que a direção da rota vai da raiz do aplicativo em direção ao elemento que gerou o evento e é relatado como origem nos dados do evento.</span><span class="sxs-lookup"><span data-stu-id="d6ece-103">Preview events, also known as tunneling events, are routed events where the direction of the route travels from the application root towards the element that raised the event and is reported as the source in event data.</span></span> <span data-ttu-id="d6ece-104">Nem todos os cenários de eventos têm suporte ou precisam de eventos de visualização. Este tópico descreve as situações em que os eventos de visualização existem, como aplicativos ou componentes devem lidar com eles e casos em que criar eventos de visualização em componentes ou classes personalizados pode ser apropriado.</span><span class="sxs-lookup"><span data-stu-id="d6ece-104">Not all event scenarios support or require preview events; this topic describes the situations where preview events exist, how applications or components should handle them, and cases where creating preview events in custom components or classes might be appropriate.</span></span>  
  
## <a name="preview-events-and-input"></a><span data-ttu-id="d6ece-105">Eventos de visualização e entrada</span><span class="sxs-lookup"><span data-stu-id="d6ece-105">Preview Events and Input</span></span>  
 <span data-ttu-id="d6ece-106">Quando você lida com eventos de Visualização em geral, tenha cuidado marcação de eventos manipulados nos dados.</span><span class="sxs-lookup"><span data-stu-id="d6ece-106">When you handle Preview events in general, be cautious about marking the events handled in the event data.</span></span> <span data-ttu-id="d6ece-107">Manipular um evento de Visualização em qualquer elemento que não o elemento que o gerou (o elemento relatado como origem nos dados do evento) tem o efeito de não fornecer a um elemento a oportunidade de manipular o evento que o originou.</span><span class="sxs-lookup"><span data-stu-id="d6ece-107">Handling a Preview event on any element other than the element that raised it (the element that is reported as the source in the event data) has the effect of not providing an element the opportunity to handle the event that it originated.</span></span> <span data-ttu-id="d6ece-108">Às vezes, esse será o resultado desejado, particularmente se os elementos em questão existirem em relacionamentos dentro da composição de um controle.</span><span class="sxs-lookup"><span data-stu-id="d6ece-108">Sometimes this is the desired result, particularly if the elements in question exist in relationships within the compositing of a control.</span></span>  
  
 <span data-ttu-id="d6ece-109">Especificamente para eventos de entrada, eventos de Visualização também compartilham instâncias de dados de evento com o evento de propagação equivalente.</span><span class="sxs-lookup"><span data-stu-id="d6ece-109">For input events specifically, Preview events also share event data instances with the equivalent bubbling event.</span></span> <span data-ttu-id="d6ece-110">Se você usar um manipulador de classe de evento de Visualização para marcar o evento de entrada manipulado, o manipulador de classe de evento de entrada de propagação não será invocado.</span><span class="sxs-lookup"><span data-stu-id="d6ece-110">If you use a Preview event class handler to mark the input event handled, the bubbling input event class handler will not be invoked.</span></span> <span data-ttu-id="d6ece-111">Ou, se você usar um manipulador de instância de evento de Visualização para marcar o evento manipulado, os manipuladores para o evento de propagação normalmente não serão invocados.</span><span class="sxs-lookup"><span data-stu-id="d6ece-111">Or, if you use a Preview event instance handler to mark the event handled, handlers for the bubbling event will not typically be invoked.</span></span> <span data-ttu-id="d6ece-112">Manipuladores de classe ou manipuladores de instância podem ser registrados ou anexados com uma opção a ser invocada mesmo que o evento esteja marcado como manipulado, mas essa técnica não costuma ser usada.</span><span class="sxs-lookup"><span data-stu-id="d6ece-112">Class handlers or instance handlers can be registered or attached with an option to be invoked even if the event is marked handled, but that technique is not commonly used.</span></span>  
  
 <span data-ttu-id="d6ece-113">Para obter mais informações sobre manipulação de classes e como ela se relaciona a eventos de Visualização, consulte [Marcando eventos roteados como manipulados e manipulação de classe](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md).</span><span class="sxs-lookup"><span data-stu-id="d6ece-113">For more information about class handling and how it relates to Preview events see [Marking Routed Events as Handled, and Class Handling](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md).</span></span>  
  
### <a name="working-around-event-suppression-by-controls"></a><span data-ttu-id="d6ece-114">Resolvendo a supressão de eventos por controles</span><span class="sxs-lookup"><span data-stu-id="d6ece-114">Working Around Event Suppression by Controls</span></span>  
 <span data-ttu-id="d6ece-115">Um cenário em que os eventos de Visualização são comumente usados é a manipulação de controles compostos de eventos de entrada.</span><span class="sxs-lookup"><span data-stu-id="d6ece-115">One scenario where Preview events are commonly used is for composited control handling of input events.</span></span> <span data-ttu-id="d6ece-116">Às vezes, o autor do controle suprime a criação de um determinado evento em seu controle, talvez para substituir um evento definido por componente que carrega mais informações ou implica um comportamento mais específico.</span><span class="sxs-lookup"><span data-stu-id="d6ece-116">Sometimes, the author of the control suppresses a certain event from originating from their control, perhaps in order to substitute a component-defined event that carries more information or implies a more specific behavior.</span></span> <span data-ttu-id="d6ece-117">Por exemplo, um [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <xref:System.Windows.Controls.Button> suprime <xref:System.Windows.UIElement.MouseLeftButtonDown> e <xref:System.Windows.UIElement.MouseLeftButtonDown> eventos levantados pelo <xref:System.Windows.Controls.Button> ou seus elementos compostos em favor da captura de mouse e gerando um <xref:System.Windows.Controls.Primitives.ButtonBase.Click> evento sempre é gerado pelo <xref:System.Windows.Controls.Button> em si.</span><span class="sxs-lookup"><span data-stu-id="d6ece-117">For instance, a [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <xref:System.Windows.Controls.Button> suppresses <xref:System.Windows.UIElement.MouseLeftButtonDown> and <xref:System.Windows.UIElement.MouseLeftButtonDown> bubbling events raised by the <xref:System.Windows.Controls.Button> or its composite elements in favor of capturing the mouse and raising a <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event that is always raised by the <xref:System.Windows.Controls.Button> itself.</span></span> <span data-ttu-id="d6ece-118">O evento e seus dados continuam pela rota, mas como o <xref:System.Windows.Controls.Button> marca os dados do evento como <xref:System.Windows.RoutedEventArgs.Handled%2A>, somente os manipuladores para o evento que foram especificamente indicados que devam agir no `handledEventsToo` caso são invocados.</span><span class="sxs-lookup"><span data-stu-id="d6ece-118">The event and its data still continue along the route, but because the <xref:System.Windows.Controls.Button> marks the event data as <xref:System.Windows.RoutedEventArgs.Handled%2A>, only handlers for the event that specifically indicated they should act in the `handledEventsToo` case  are invoked.</span></span>  <span data-ttu-id="d6ece-119">Se outros elementos na direção da raiz do seu aplicativo ainda quiserem ter uma oportunidade de lidar com um evento suprimido por controle, uma alternativa será anexar manipuladores ao código com `handledEventsToo` especificado como `true`.</span><span class="sxs-lookup"><span data-stu-id="d6ece-119">If other elements towards the root of your application still wanted an opportunity to handle a control-suppressed event, one alternative is to attach handlers in code with `handledEventsToo` specified as `true`.</span></span> <span data-ttu-id="d6ece-120">Porém, geralmente, uma técnica simples é alterar a direção de roteamento que você processa para que seja equivalente à de uma Visualização de um evento de entrada.</span><span class="sxs-lookup"><span data-stu-id="d6ece-120">But often a simpler technique is to change the routing direction you handle to be the Preview equivalent of an input event.</span></span> <span data-ttu-id="d6ece-121">Por exemplo, se um controle suprime <xref:System.Windows.UIElement.MouseLeftButtonDown>, tentar anexar um manipulador para <xref:System.Windows.UIElement.PreviewMouseLeftButtonDown> em vez disso.</span><span class="sxs-lookup"><span data-stu-id="d6ece-121">For instance, if a control suppresses <xref:System.Windows.UIElement.MouseLeftButtonDown>, try attaching a handler for <xref:System.Windows.UIElement.PreviewMouseLeftButtonDown> instead.</span></span> <span data-ttu-id="d6ece-122">Essa técnica só funciona para eventos de entrada do elemento base como <xref:System.Windows.UIElement.MouseLeftButtonDown>.</span><span class="sxs-lookup"><span data-stu-id="d6ece-122">This technique only works for base element input events such as <xref:System.Windows.UIElement.MouseLeftButtonDown>.</span></span> <span data-ttu-id="d6ece-123">Esses eventos de entrada usam pares de túnel/bolha, geram ambos os eventos e compartilham os dados do evento.</span><span class="sxs-lookup"><span data-stu-id="d6ece-123">These input events use tunnel/bubble pairs, raise both events, and share the event data.</span></span>  
  
 <span data-ttu-id="d6ece-124">Cada uma dessas técnicas tem efeitos colaterais ou limitações.</span><span class="sxs-lookup"><span data-stu-id="d6ece-124">Each of these techniques has either side effects or limitations.</span></span> <span data-ttu-id="d6ece-125">O efeito colateral de manipular o evento de Visualização é que manipular o evento nesse ponto pode desabilitar manipuladores que esperam manipular o evento de propagação e, portanto, a limitação é que geralmente não é uma boa ideia marcar o evento como manipulado enquanto ele ainda está na parte de Visualização da rota.</span><span class="sxs-lookup"><span data-stu-id="d6ece-125">The side effect of handling the Preview event is that handling the event at that point might disable handlers that expect to handle the bubbling event, and therefore the limitation is that it is usually not a good idea to mark the event handled while it is still on the Preview part of the route.</span></span> <span data-ttu-id="d6ece-126">A limitação da técnica `handledEventsToo` é que você não pode especificar um manipulador `handledEventsToo` em [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] como um atributo, é preciso registrar o manipulador de eventos no código depois de obter uma referência de objeto para o elemento ao qual o manipulador será anexado.</span><span class="sxs-lookup"><span data-stu-id="d6ece-126">The limitation of the `handledEventsToo` technique is that you cannot specify a `handledEventsToo` handler in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] as an attribute, you must register the event handler in code after obtaining an object reference to the element where the handler is to be attached.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d6ece-127">Consulte também</span><span class="sxs-lookup"><span data-stu-id="d6ece-127">See Also</span></span>  
 [<span data-ttu-id="d6ece-128">Marcando eventos roteados como manipulados e tratamento de classes</span><span class="sxs-lookup"><span data-stu-id="d6ece-128">Marking Routed Events as Handled, and Class Handling</span></span>](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md)  
 [<span data-ttu-id="d6ece-129">Visão geral de eventos roteados</span><span class="sxs-lookup"><span data-stu-id="d6ece-129">Routed Events Overview</span></span>](../../../../docs/framework/wpf/advanced/routed-events-overview.md)
