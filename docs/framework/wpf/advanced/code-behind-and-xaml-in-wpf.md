---
title: Code-behind e XAML no WPF
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [WPF], code-behind
- code-behind files [WPF], XAML
ms.assetid: 9df6d3c9-aed3-471c-af36-6859b19d999f
ms.openlocfilehash: 6980e6cf90b584e96255293affc019ebca9ad561
ms.sourcegitcommit: 0c48191d6d641ce88d7510e319cf38c0e35697d0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/05/2019
ms.locfileid: "57369312"
---
# <a name="code-behind-and-xaml-in-wpf"></a><span data-ttu-id="03643-102">Code-behind e XAML no WPF</span><span class="sxs-lookup"><span data-stu-id="03643-102">Code-Behind and XAML in WPF</span></span>
<a name="introduction"></a> <span data-ttu-id="03643-103">Code-behind é um termo usado para descrever o código unido a objetos definidos com marcação quando uma página [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] é compilada com marcação.</span><span class="sxs-lookup"><span data-stu-id="03643-103">Code-behind is a term used to describe the code that is joined with markup-defined objects, when a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] page is markup-compiled.</span></span> <span data-ttu-id="03643-104">Este tópico descreve os requisitos para code-behind, bem como um mecanismo de código embutido alternativo para o código em [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="03643-104">This topic describes requirements for code-behind as well as an alternative inline code mechanism for code in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>  
  
 <span data-ttu-id="03643-105">Esse tópico contém as seguintes seções:</span><span class="sxs-lookup"><span data-stu-id="03643-105">This topic contains the following sections:</span></span>  
  
-   [<span data-ttu-id="03643-106">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="03643-106">Prerequisites</span></span>](#Prerequisites)  
  
-   [<span data-ttu-id="03643-107">Code-Behind e a linguagem XAML</span><span class="sxs-lookup"><span data-stu-id="03643-107">Code-Behind and the XAML Language</span></span>](#codebehind_and_the_xaml_language)  
  
-   [<span data-ttu-id="03643-108">Code-behind, manipulador de eventos e requisitos de classe parcial no WPF</span><span class="sxs-lookup"><span data-stu-id="03643-108">Code-behind, Event Handler, and Partial Class Requirements in WPF</span></span>](#Code_behind__Event_Handler__and_Partial_Class)  
  
-   [<span data-ttu-id="03643-109">x:Code</span><span class="sxs-lookup"><span data-stu-id="03643-109">x:Code</span></span>](#x_Code)  
  
-   [<span data-ttu-id="03643-110">Limitações de código embutido</span><span class="sxs-lookup"><span data-stu-id="03643-110">Inline Code Limitations</span></span>](#Inline_Code_Limitations)  
  
<a name="Prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="03643-111">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="03643-111">Prerequisites</span></span>  
 <span data-ttu-id="03643-112">Este tópico pressupõe que você tenha lido a [Visão geral da linguagem XAML (WPF)](xaml-overview-wpf.md) e tenha algum conhecimento básico sobre o [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] e a programação orientada a objeto.</span><span class="sxs-lookup"><span data-stu-id="03643-112">This topic assumes that you have read the [XAML Overview (WPF)](xaml-overview-wpf.md) and have some basic knowledge of the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] and object-oriented programming.</span></span>  
  
<a name="codebehind_and_the_xaml_language"></a>   
## <a name="code-behind-and-the-xaml-language"></a><span data-ttu-id="03643-113">Code-Behind e a linguagem XAML</span><span class="sxs-lookup"><span data-stu-id="03643-113">Code-Behind and the XAML Language</span></span>  
 <span data-ttu-id="03643-114">A linguagem XAML inclui recursos de nível de linguagem que tornam possível associar arquivos de código com arquivos de marcação, do lado do arquivo de marcação.</span><span class="sxs-lookup"><span data-stu-id="03643-114">The XAML language includes language-level features that make it possible to associate code files with markup files, from the markup file side.</span></span> <span data-ttu-id="03643-115">Especificamente, a linguagem XAML define os recursos de linguagem [Diretiva x:Class](../../xaml-services/x-class-directive.md), [Diretiva x:Subclass](../../xaml-services/x-subclass-directive.md) e [Diretiva x:ClassModifier](../../xaml-services/x-classmodifier-directive.md).</span><span class="sxs-lookup"><span data-stu-id="03643-115">Specifically, the XAML language defines the language features [x:Class Directive](../../xaml-services/x-class-directive.md), [x:Subclass Directive](../../xaml-services/x-subclass-directive.md), and [x:ClassModifier Directive](../../xaml-services/x-classmodifier-directive.md).</span></span> <span data-ttu-id="03643-116">O modo exato como o código deve ser produzido e como a marcação e o código devem ser integrados não faz parte do que a linguagem XAML especifica.</span><span class="sxs-lookup"><span data-stu-id="03643-116">Exactly how the code should be produced, and how to integrate markup and code, is not part of what the XAML language specifies.</span></span> <span data-ttu-id="03643-117">É deixado para as estruturas, como o WPF, determinarem como integrar o código, como usar a linguagem XAML nos modelos de aplicativo e programação e as ações de build ou outros tipos de suporte que são exigidos.</span><span class="sxs-lookup"><span data-stu-id="03643-117">It is left up to frameworks such as WPF to determine how to integrate the code, how to use XAML in the application and programming models, and the build actions or other support that all this requires.</span></span>  
  
<a name="Code_behind__Event_Handler__and_Partial_Class"></a>   
## <a name="code-behind-event-handler-and-partial-class-requirements-in-wpf"></a><span data-ttu-id="03643-118">Code-behind, manipulador de eventos e requisitos de classe parcial no WPF</span><span class="sxs-lookup"><span data-stu-id="03643-118">Code-behind, Event Handler, and Partial Class Requirements in WPF</span></span>  
  
-   <span data-ttu-id="03643-119">A classe parcial deve derivar do tipo que sustenta o elemento raiz.</span><span class="sxs-lookup"><span data-stu-id="03643-119">The partial class must derive from the type that backs the root element.</span></span>  
  
-   <span data-ttu-id="03643-120">Observe que, sob o comportamento padrão das ações de build de compilação de marcação, você pode deixar a derivação em branco na definição de classe parcial no lado da lógica.</span><span class="sxs-lookup"><span data-stu-id="03643-120">Note that under the default behavior of the markup compile build actions, you can leave the derivation blank in the partial class definition on the code-behind side.</span></span> <span data-ttu-id="03643-121">O resultado compilado assumirá o tipo de suporte da raiz da página para ser a base para a classe parcial, mesmo se não for especificado.</span><span class="sxs-lookup"><span data-stu-id="03643-121">The compiled result will assume the page root's backing type to be the basis for the partial class, even if it not specified.</span></span> <span data-ttu-id="03643-122">No entanto, contar com esse comportamento não é uma prática recomendada.</span><span class="sxs-lookup"><span data-stu-id="03643-122">However, relying on this behavior is not a best practice.</span></span>  
  
-   <span data-ttu-id="03643-123">Os manipuladores de eventos que você escreve no code-behind devem ser métodos de instância e não podem ser métodos estáticos.</span><span class="sxs-lookup"><span data-stu-id="03643-123">The event handlers you write in the code-behind must be instance methods and cannot be static methods.</span></span> <span data-ttu-id="03643-124">Esses métodos devem ser definidos pela classe parcial dentro do namespace CLR identificado por `x:Class`.</span><span class="sxs-lookup"><span data-stu-id="03643-124">These methods must be defined by the partial class within the CLR namespace identified by `x:Class`.</span></span> <span data-ttu-id="03643-125">Você não pode qualificar o nome de um manipulador de eventos para instruir um processador [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] para procurar por um manipulador de eventos para fiação de evento em um escopo de classe diferente.</span><span class="sxs-lookup"><span data-stu-id="03643-125">You cannot qualify the name of an event handler to instruct a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor to look for an event handler for event wiring in a different class scope.</span></span>  
  
-   <span data-ttu-id="03643-126">O manipulador deve corresponder ao delegado para o evento apropriado no sistema de tipo de suporte.</span><span class="sxs-lookup"><span data-stu-id="03643-126">The handler must match the delegate for the appropriate event in the backing type system.</span></span>  
  
-   <span data-ttu-id="03643-127">Para o idioma do Microsoft Visual Basic, especificamente, você pode usar específicos do idioma `Handles` palavra-chave para associar manipuladores com instâncias e eventos na declaração do manipulador, em vez de anexar manipuladores com atributos em [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="03643-127">For the Microsoft Visual Basic language specifically, you can use the language-specific `Handles` keyword to associate handlers with instances and events in the handler declaration, instead of attaching handlers with attributes in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="03643-128">No entanto, essa técnica tem algumas limitações, uma vez que a palavra-chave `Handles` não pode dar suporte a todos os recursos específicos do sistema de eventos [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], como determinados cenários de evento roteado ou eventos anexados.</span><span class="sxs-lookup"><span data-stu-id="03643-128">However, this technique does have some limitations because the `Handles` keyword cannot support all of the specific features of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event system, such as certain routed event scenarios or attached events.</span></span> <span data-ttu-id="03643-129">Para obter detalhes, consulte [Visual Basic e manipulação de eventos WPF](visual-basic-and-wpf-event-handling.md).</span><span class="sxs-lookup"><span data-stu-id="03643-129">For details, see [Visual Basic and WPF Event Handling](visual-basic-and-wpf-event-handling.md).</span></span>  
  
<a name="x_Code"></a>   
## <a name="xcode"></a><span data-ttu-id="03643-130">x:Code</span><span class="sxs-lookup"><span data-stu-id="03643-130">x:Code</span></span>  
 <span data-ttu-id="03643-131">[X:Code](../../xaml-services/x-code-intrinsic-xaml-type.md) é um elemento de diretiva definido em [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="03643-131">[x:Code](../../xaml-services/x-code-intrinsic-xaml-type.md) is a directive element defined in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="03643-132">Um elemento de diretiva `x:Code` pode conter um código de programação embutido.</span><span class="sxs-lookup"><span data-stu-id="03643-132">An `x:Code` directive element can contain inline programming code.</span></span> <span data-ttu-id="03643-133">O código que é definido como embutido pode interagir com o [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] na mesma página.</span><span class="sxs-lookup"><span data-stu-id="03643-133">The code that is defined inline can interact with the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] on the same page.</span></span> <span data-ttu-id="03643-134">O exemplo a seguir ilustra o código c# embutido.</span><span class="sxs-lookup"><span data-stu-id="03643-134">The following example illustrates inline C# code.</span></span> <span data-ttu-id="03643-135">Observe que o código está dentro do elemento `x:Code` e que ele deve ser cercado por `<CDATA[`... `]]>` para liberar o conteúdo de [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)], de modo que um processador [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] (interpretando o esquema [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] ou o [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]) não tentará interpretar o conteúdo literalmente como [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="03643-135">Notice that the code is inside the `x:Code` element and that the code must be surrounded by `<CDATA[`...`]]>` to escape the contents for [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)], so that a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor (interpreting either the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] schema or the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] schema) will not try to interpret the contents literally as [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)].</span></span>  
  
 [!code-xaml[XAMLOvwSupport#ButtonWithInlineCode](~/samples/snippets/csharp/VS_Snippets_Wpf/XAMLOvwSupport/CSharp/page4.xaml#buttonwithinlinecode)]  
  
<a name="Inline_Code_Limitations"></a>   
## <a name="inline-code-limitations"></a><span data-ttu-id="03643-136">Limitações de código embutido</span><span class="sxs-lookup"><span data-stu-id="03643-136">Inline Code Limitations</span></span>  
 <span data-ttu-id="03643-137">Considere evitar ou limitar o uso de código embutido.</span><span class="sxs-lookup"><span data-stu-id="03643-137">You should consider avoiding or limiting the use of inline code.</span></span> <span data-ttu-id="03643-138">Em termos de arquitetura e filosofia de código, manter uma separação entre a marcação e o code-behind mantém as funções de designer e de desenvolvedor muito mais distintas.</span><span class="sxs-lookup"><span data-stu-id="03643-138">In terms of architecture and coding philosophy, maintaining a separation between markup and code-behind keeps the designer and developer roles much more distinct.</span></span> <span data-ttu-id="03643-139">Em um nível mais técnico, o código que você escreve para o código embutido pode ser complicado de escrever, porque você está sempre escrevendo na classe parcial [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] gerada e só pode usar os mapeamentos de namespace de XML padrão.</span><span class="sxs-lookup"><span data-stu-id="03643-139">On a more technical level, the code that you write for inline code can be awkward to write, because you are always writing into the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] generated partial class, and can only use the default XML namespace mappings.</span></span> <span data-ttu-id="03643-140">Uma vez que não é possível adicionar instruções `using`, você deverá qualificar totalmente muitas das chamadas [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] realizadas.</span><span class="sxs-lookup"><span data-stu-id="03643-140">Because you cannot add `using` statements, you must fully qualify many of the [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] calls that you make.</span></span> <span data-ttu-id="03643-141">Os mapeamentos padrão de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] incluem a maioria dos namespaces [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] que estão presentes nos assemblies [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], mas não todos; você terá que qualificar completamente as chamadas para tipos e membros contidos dentro de outros namespaces CLR.</span><span class="sxs-lookup"><span data-stu-id="03643-141">The default [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] mappings include most but not all [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] namespaces that are present in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] assemblies; you will have to fully qualify calls to types and members contained within the other CLR namespaces.</span></span> <span data-ttu-id="03643-142">Você também não poderá definir nada além da classe parcial no código embutido e todas as entidades de código de usuário que você referencia devem existir como um membro ou uma variável na classe parcial gerada.</span><span class="sxs-lookup"><span data-stu-id="03643-142">You also cannot define anything beyond the partial class in the inline code, and all user code entities you reference must exist as a member or variable within the generated partial class.</span></span> <span data-ttu-id="03643-143">Outros recursos específicos da linguagem de programação, como as macros ou `#ifdef` contra as variáveis globais ou de build, também não estão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="03643-143">Other language specific programming features, such as macros or `#ifdef` against global variables or build variables, are also not available.</span></span> <span data-ttu-id="03643-144">Para obter mais informações, consulte [x:Code Intrinsic XAML Type](../../xaml-services/x-code-intrinsic-xaml-type.md) (Tipo intrínseco x:Code (XAML)).</span><span class="sxs-lookup"><span data-stu-id="03643-144">For more information, see [x:Code Intrinsic XAML Type](../../xaml-services/x-code-intrinsic-xaml-type.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="03643-145">Consulte também</span><span class="sxs-lookup"><span data-stu-id="03643-145">See also</span></span>
- [<span data-ttu-id="03643-146">Visão geral de XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="03643-146">XAML Overview (WPF)</span></span>](xaml-overview-wpf.md)
- [<span data-ttu-id="03643-147">Tipo intrínseco x:Code (XAML)</span><span class="sxs-lookup"><span data-stu-id="03643-147">x:Code Intrinsic XAML Type</span></span>](../../xaml-services/x-code-intrinsic-xaml-type.md)
- [<span data-ttu-id="03643-148">Compilar um aplicativo WPF</span><span class="sxs-lookup"><span data-stu-id="03643-148">Building a WPF Application</span></span>](../app-development/building-a-wpf-application-wpf.md)
- [<span data-ttu-id="03643-149">Sintaxe XAML em detalhes</span><span class="sxs-lookup"><span data-stu-id="03643-149">XAML Syntax In Detail</span></span>](xaml-syntax-in-detail.md)
