---
title: Visão geral da navegação estruturada
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- structured navigation [WPF]
ms.assetid: 025d30ef-fec5-436d-ad7a-5d5483331c26
ms.openlocfilehash: 09c3c57f3ac1009416a5c67b37c035fe30cd5b5e
ms.sourcegitcommit: 14ad34f7c4564ee0f009acb8bfc0ea7af3bc9541
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/01/2019
ms.locfileid: "73425333"
---
# <a name="structured-navigation-overview"></a><span data-ttu-id="1be75-102">Visão geral da navegação estruturada</span><span class="sxs-lookup"><span data-stu-id="1be75-102">Structured Navigation Overview</span></span>

<span data-ttu-id="1be75-103">O conteúdo que pode ser hospedado por um aplicativo de navegador XAML (XBAP), um <xref:System.Windows.Controls.Frame>ou um <xref:System.Windows.Navigation.NavigationWindow> é composto de páginas que podem ser identificadas por URIs (identificadores de recursos uniformes) de pacote e navegadas por hiperlinks.</span><span class="sxs-lookup"><span data-stu-id="1be75-103">Content that can be hosted by an XAML browser application (XBAP), a <xref:System.Windows.Controls.Frame>, or a <xref:System.Windows.Navigation.NavigationWindow> is composed of pages that can be identified by pack uniform resource identifiers (URIs) and navigated to by hyperlinks.</span></span> <span data-ttu-id="1be75-104">A estrutura de páginas e as maneiras pelas quais elas podem ser navegadas, como definidas pelos hiperlinks, é conhecida como uma topologia de navegação.</span><span class="sxs-lookup"><span data-stu-id="1be75-104">The structure of pages and the ways in which they can be navigated, as defined by hyperlinks, is known as a navigation topology.</span></span> <span data-ttu-id="1be75-105">Uma topologia como esta serve a uma variedade de tipos de aplicativos, especialmente aqueles que navegam através de documentos.</span><span class="sxs-lookup"><span data-stu-id="1be75-105">Such a topology suits a variety of application types, particularly those that navigate through documents.</span></span> <span data-ttu-id="1be75-106">Para tais aplicativos, o usuário pode navegar de uma página à outra sem que as páginas precisem saber qualquer coisa sobre a outra.</span><span class="sxs-lookup"><span data-stu-id="1be75-106">For such applications, the user can navigate from one page to another page without either page needing to know anything about the other.</span></span>

<span data-ttu-id="1be75-107">No entanto, outros tipos de aplicativos têm páginas que precisam saber quando houve navegação entre elas.</span><span class="sxs-lookup"><span data-stu-id="1be75-107">However, other types of applications have pages that do need to know when they have been navigated between.</span></span> <span data-ttu-id="1be75-108">Por exemplo, considere um aplicativo de recursos humanos que tem uma página para listar todos os funcionários de uma organização, a página "Lista de funcionários".</span><span class="sxs-lookup"><span data-stu-id="1be75-108">For example, consider a human resources application that has one page to list all the employees in an organization—the "List Employees" page.</span></span> <span data-ttu-id="1be75-109">Esta página também pode permitir que os usuários adicionem um novo funcionário, clicando em um hiperlink.</span><span class="sxs-lookup"><span data-stu-id="1be75-109">This page could also allow users to add a new employee by clicking a hyperlink.</span></span> <span data-ttu-id="1be75-110">Ao clicar, a página navega para uma página "Adicionar um funcionário" para obter detalhes do novo empregado e retorná-los para a página "Lista de funcionários" para criar o novo funcionário e atualizar a lista.</span><span class="sxs-lookup"><span data-stu-id="1be75-110">When clicked, the page navigates to an "Add an Employee" page to gather the new employee's details and return them to the "List Employees" page to create the new employee and update the list.</span></span> <span data-ttu-id="1be75-111">Este estilo de navegação é semelhante a chamar um método para fazer algum processamento e retornar um valor, que é conhecido como programação estruturada.</span><span class="sxs-lookup"><span data-stu-id="1be75-111">This style of navigation is similar to calling a method to perform some processing and return a value, which is known as structured programming.</span></span> <span data-ttu-id="1be75-112">Assim, este estilo de navegação é conhecido como *navegação estruturada*.</span><span class="sxs-lookup"><span data-stu-id="1be75-112">As such, this style of navigation is known as *structured navigation*.</span></span>

<span data-ttu-id="1be75-113">A classe <xref:System.Windows.Controls.Page> não implementa o suporte para navegação estruturada.</span><span class="sxs-lookup"><span data-stu-id="1be75-113">The <xref:System.Windows.Controls.Page> class doesn't implement support for structured navigation.</span></span> <span data-ttu-id="1be75-114">Em vez disso, a classe <xref:System.Windows.Navigation.PageFunction%601> deriva de <xref:System.Windows.Controls.Page> e a estende com as construções básicas necessárias para a navegação estruturada.</span><span class="sxs-lookup"><span data-stu-id="1be75-114">Instead, the <xref:System.Windows.Navigation.PageFunction%601> class derives from <xref:System.Windows.Controls.Page> and extends it with the basic constructs required for structured navigation.</span></span> <span data-ttu-id="1be75-115">Este tópico mostra como estabelecer a navegação estruturada usando <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="1be75-115">This topic shows how to establish structured navigation using <xref:System.Windows.Navigation.PageFunction%601>.</span></span>

<a name="Structured_Navigation"></a>

## <a name="structured-navigation"></a><span data-ttu-id="1be75-116">Navegação estruturada</span><span class="sxs-lookup"><span data-stu-id="1be75-116">Structured Navigation</span></span>

<span data-ttu-id="1be75-117">Quando uma página chama outra página em uma navegação estruturada, alguns ou todos os seguintes comportamentos são necessários:</span><span class="sxs-lookup"><span data-stu-id="1be75-117">When one page calls another page in a structured navigation, some or all of the following behaviors are required:</span></span>

- <span data-ttu-id="1be75-118">A página chamadora navega até a página chamada, opcionalmente passando parâmetros exigidos pela página chamada.</span><span class="sxs-lookup"><span data-stu-id="1be75-118">The calling page navigates to the called page, optionally passing parameters required by the called page.</span></span>

- <span data-ttu-id="1be75-119">Quando um usuário tiver terminado de usar a página chamadora, a página chamada retorna especificamente para a página chamadora, de forma opcional:</span><span class="sxs-lookup"><span data-stu-id="1be75-119">The called page, when a user has completed using the calling page, returns specifically to the calling page, optionally:</span></span>

  - <span data-ttu-id="1be75-120">Informações de estado de retorno que descrevem como a página chamadora foi concluída (por exemplo, se o usuário pressionou um botão OK ou um botão Cancelar).</span><span class="sxs-lookup"><span data-stu-id="1be75-120">Returning state information that describes how the calling page was completed (for example, whether a user pressed an OK button or a Cancel button).</span></span>

  - <span data-ttu-id="1be75-121">Retornando os dados que foram coletados do usuário (por exemplo, detalhes do novo funcionário).</span><span class="sxs-lookup"><span data-stu-id="1be75-121">Returning that data that was collected from the user (for example, new employee details).</span></span>

- <span data-ttu-id="1be75-122">Quando a página chamadora retorna para a página chamada, a página chamada é removida do histórico de navegação para isolar instâncias de páginas chamadas.</span><span class="sxs-lookup"><span data-stu-id="1be75-122">When the calling page returns to the called page, the called page is removed from navigation history to isolate one instance of a called page from another.</span></span>

<span data-ttu-id="1be75-123">Esses comportamentos são ilustrados pela figura a seguir:</span><span class="sxs-lookup"><span data-stu-id="1be75-123">These behaviors are illustrated by the following figure:</span></span>

![Captura de tela mostra o fluxo entre a página de chamada e a página chamada.](./media/structured-navigation-overview/flow-between-calling-page-called-page.png)

<span data-ttu-id="1be75-125">Você pode implementar esses comportamentos usando um <xref:System.Windows.Navigation.PageFunction%601> como a página chamada.</span><span class="sxs-lookup"><span data-stu-id="1be75-125">You can implement these behaviors by using a <xref:System.Windows.Navigation.PageFunction%601> as the called page.</span></span>

<a name="Structured_Navigation_with_PageFunction"></a>

## <a name="structured-navigation-with-pagefunction"></a><span data-ttu-id="1be75-126">Navegação estruturada com PageFunction</span><span class="sxs-lookup"><span data-stu-id="1be75-126">Structured Navigation with PageFunction</span></span>

<span data-ttu-id="1be75-127">Este tópico mostra como implementar a mecânica básica de navegação estruturada que envolve um único <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="1be75-127">This topic shows how to implement the basic mechanics of structured navigation involving a single <xref:System.Windows.Navigation.PageFunction%601>.</span></span> <span data-ttu-id="1be75-128">Neste exemplo, um <xref:System.Windows.Controls.Page> chama um <xref:System.Windows.Navigation.PageFunction%601> para obter um valor de <xref:System.String> do usuário e retorná-lo.</span><span class="sxs-lookup"><span data-stu-id="1be75-128">In this sample, a <xref:System.Windows.Controls.Page> calls a <xref:System.Windows.Navigation.PageFunction%601> to get a <xref:System.String> value from the user and return it.</span></span>

### <a name="creating-a-calling-page"></a><span data-ttu-id="1be75-129">Criando uma página chamadora</span><span class="sxs-lookup"><span data-stu-id="1be75-129">Creating a Calling Page</span></span>

<span data-ttu-id="1be75-130">A página que chama uma <xref:System.Windows.Navigation.PageFunction%601> pode ser uma <xref:System.Windows.Controls.Page> ou uma <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="1be75-130">The page that calls a <xref:System.Windows.Navigation.PageFunction%601> can be either a <xref:System.Windows.Controls.Page> or a <xref:System.Windows.Navigation.PageFunction%601>.</span></span> <span data-ttu-id="1be75-131">Neste exemplo, é um <xref:System.Windows.Controls.Page>, conforme mostrado no código a seguir.</span><span class="sxs-lookup"><span data-stu-id="1be75-131">In this example, it is a <xref:System.Windows.Controls.Page>, as shown in the following code.</span></span>

[!code-xaml[StructuredNavigationSample#CallingPageDefaultMARKUP1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml#callingpagedefaultmarkup1)]
[!code-xaml[StructuredNavigationSample#CallingPageDefaultMARKUP2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml#callingpagedefaultmarkup2)]

[!code-csharp[StructuredNavigationSample#CallingPageDefaultCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#callingpagedefaultcodebehind1)]
[!code-vb[StructuredNavigationSample#CallingPageDefaultCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#callingpagedefaultcodebehind1)]
[!code-csharp[StructuredNavigationSample#CallingPageDefaultCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#callingpagedefaultcodebehind2)]
[!code-vb[StructuredNavigationSample#CallingPageDefaultCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#callingpagedefaultcodebehind2)]
[!code-csharp[StructuredNavigationSample#CallingPageDefaultCODEBEHIND3](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#callingpagedefaultcodebehind3)]
[!code-vb[StructuredNavigationSample#CallingPageDefaultCODEBEHIND3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#callingpagedefaultcodebehind3)]

### <a name="creating-a-page-function-to-call"></a><span data-ttu-id="1be75-132">Criando uma função de página para chamar</span><span class="sxs-lookup"><span data-stu-id="1be75-132">Creating a Page Function to Call</span></span>

<span data-ttu-id="1be75-133">Como a página de chamada pode usar a página chamada para coletar e retornar dados do usuário, <xref:System.Windows.Navigation.PageFunction%601> é implementada como uma classe genérica cujo argumento de tipo especifica o tipo do valor que a página chamada retornará.</span><span class="sxs-lookup"><span data-stu-id="1be75-133">Because the calling page can use the called page to collect and return data from the user, <xref:System.Windows.Navigation.PageFunction%601> is implemented as a generic class whose type argument specifies the type of the value that the called page will return.</span></span> <span data-ttu-id="1be75-134">O código a seguir mostra a implementação inicial da página chamada, usando um <xref:System.Windows.Navigation.PageFunction%601>, que retorna um <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="1be75-134">The following code shows the initial implementation of the called page, using a <xref:System.Windows.Navigation.PageFunction%601>, which returns a <xref:System.String>.</span></span>

[!code-xaml[StructuredNavigationSample#CalledPageFunctionMARKUP](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml#calledpagefunctionmarkup)]

[!code-csharp[StructuredNavigationSample#CalledPageFunctionCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#calledpagefunctioncodebehind1)]
[!code-vb[StructuredNavigationSample#CalledPageFunctionCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#calledpagefunctioncodebehind1)]
[!code-csharp[StructuredNavigationSample#CalledPageFunctionCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#calledpagefunctioncodebehind2)]
[!code-vb[StructuredNavigationSample#CalledPageFunctionCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#calledpagefunctioncodebehind2)]

<span data-ttu-id="1be75-135">A declaração de um <xref:System.Windows.Navigation.PageFunction%601> é semelhante à declaração de um <xref:System.Windows.Controls.Page> com a adição dos argumentos de tipo.</span><span class="sxs-lookup"><span data-stu-id="1be75-135">The declaration of a <xref:System.Windows.Navigation.PageFunction%601> is similar to the declaration of a <xref:System.Windows.Controls.Page> with the addition of the type arguments.</span></span> <span data-ttu-id="1be75-136">Como você pode ver no código de exemplo, os argumentos de tipo são especificados tanto na marcação [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], usando o atributo `x:TypeArguments` quanto no code-behind, usando a sintaxe padrão de argumento de tipo genérico.</span><span class="sxs-lookup"><span data-stu-id="1be75-136">As you can see from the code example, the type arguments are specified in both [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] markup, using the `x:TypeArguments` attribute, and code-behind, using standard generic type argument syntax.</span></span>

<span data-ttu-id="1be75-137">Você não precisa usar apenas classes .NET Framework como argumentos de tipo.</span><span class="sxs-lookup"><span data-stu-id="1be75-137">You don't have to use only .NET Framework classes as type arguments.</span></span> <span data-ttu-id="1be75-138">Um <xref:System.Windows.Navigation.PageFunction%601> pode ser chamado para coletar dados específicos de domínio que são abstratos como um tipo personalizado.</span><span class="sxs-lookup"><span data-stu-id="1be75-138">A <xref:System.Windows.Navigation.PageFunction%601> could be called to gather domain-specific data that is abstracted as a custom type.</span></span> <span data-ttu-id="1be75-139">O código a seguir mostra como usar um tipo personalizado como um argumento de tipo para um <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="1be75-139">The following code shows how to use a custom type as a type argument for a <xref:System.Windows.Navigation.PageFunction%601>.</span></span>

[!code-csharp[CustomTypePageFunctionSnippets#CustomTypeCODE1](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomType.cs#customtypecode1)]
[!code-vb[CustomTypePageFunctionSnippets#CustomTypeCODE1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomType.vb#customtypecode1)]
[!code-csharp[CustomTypePageFunctionSnippets#CustomTypeCODE2](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomType.cs#customtypecode2)]
[!code-vb[CustomTypePageFunctionSnippets#CustomTypeCODE2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomType.vb#customtypecode2)]

[!code-xaml[CustomTypePageFunctionSnippets#CustomTypePageFunctionMARKUP1](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml#customtypepagefunctionmarkup1)]
[!code-xaml[CustomTypePageFunctionSnippets#CustomTypePageFunctionMARKUP2](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml#customtypepagefunctionmarkup2)]

[!code-csharp[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml.cs#customtypepagefunctioncodebehind1)]
[!code-vb[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomTypePageFunction.xaml.vb#customtypepagefunctioncodebehind1)]
[!code-csharp[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml.cs#customtypepagefunctioncodebehind2)]
[!code-vb[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomTypePageFunction.xaml.vb#customtypepagefunctioncodebehind2)]

<span data-ttu-id="1be75-140">Os argumentos de tipo para o <xref:System.Windows.Navigation.PageFunction%601> fornecem a base para a comunicação entre uma página de chamada e a página chamada, que são discutidas nas seções a seguir.</span><span class="sxs-lookup"><span data-stu-id="1be75-140">The type arguments for the <xref:System.Windows.Navigation.PageFunction%601> provide the foundation for the communication between a calling page and the called page, which are discussed in the following sections.</span></span>

<span data-ttu-id="1be75-141">Como você verá, o tipo identificado com a declaração de um <xref:System.Windows.Navigation.PageFunction%601> desempenha um papel importante no retorno de dados de um <xref:System.Windows.Navigation.PageFunction%601> para a página de chamada.</span><span class="sxs-lookup"><span data-stu-id="1be75-141">As you'll see, the type that is identified with the declaration of a <xref:System.Windows.Navigation.PageFunction%601> plays an important role in returning data from a <xref:System.Windows.Navigation.PageFunction%601> to the calling page.</span></span>

### <a name="calling-a-pagefunction-and-passing-parameters"></a><span data-ttu-id="1be75-142">Chamando uma PageFunction e passando parâmetros</span><span class="sxs-lookup"><span data-stu-id="1be75-142">Calling a PageFunction and Passing Parameters</span></span>

<span data-ttu-id="1be75-143">Para chamar uma página, a página de chamada deve instanciar a página chamada e navegar para ela usando o método <xref:System.Windows.Navigation.NavigationService.Navigate%2A>.</span><span class="sxs-lookup"><span data-stu-id="1be75-143">To call a page, the calling page must instantiate the called page and navigate to it using the <xref:System.Windows.Navigation.NavigationService.Navigate%2A> method.</span></span> <span data-ttu-id="1be75-144">Isso permite que a página chamadora passe dados iniciais para a página chamada, como valores padrão para os dados que estão sendo coletados pela página chamada.</span><span class="sxs-lookup"><span data-stu-id="1be75-144">This allows the calling page to pass initial data to the called page, such as default values for the data being gathered by the called page.</span></span>

<span data-ttu-id="1be75-145">O código a seguir mostra a página chamada com um construtor sem parâmetros para aceitar parâmetros da página de chamada.</span><span class="sxs-lookup"><span data-stu-id="1be75-145">The following code shows the called page with a non-parameterless constructor to accept parameters from the calling page.</span></span>

[!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind1)]
[!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind1)]
[!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind2)]
[!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind2)]
[!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND3](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind3)]
[!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind3)]
[!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND4](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind4)]
[!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND4](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind4)]

<span data-ttu-id="1be75-146">O código a seguir mostra a página de chamada que manipula o evento <xref:System.Windows.Documents.Hyperlink.Click> do <xref:System.Windows.Documents.Hyperlink> para instanciar a página chamada e passá-la para um valor de cadeia de caracteres inicial.</span><span class="sxs-lookup"><span data-stu-id="1be75-146">The following code shows the calling page handling the <xref:System.Windows.Documents.Hyperlink.Click> event of the <xref:System.Windows.Documents.Hyperlink> to instantiate the called page and pass it an initial string value.</span></span>

[!code-xaml[StructuredNavigationSample#PassingDataMARKUP2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml#passingdatamarkup2)]
[!code-csharp[StructuredNavigationSample#PassingDataCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#passingdatacodebehind1)]
[!code-vb[StructuredNavigationSample#PassingDataCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#passingdatacodebehind1)]
[!code-csharp[StructuredNavigationSample#PassingDataCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#passingdatacodebehind2)]
[!code-vb[StructuredNavigationSample#PassingDataCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#passingdatacodebehind2)]
[!code-csharp[StructuredNavigationSample#PassingDataCODEBEHIND3](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#passingdatacodebehind3)]
[!code-vb[StructuredNavigationSample#PassingDataCODEBEHIND3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#passingdatacodebehind3)]

<span data-ttu-id="1be75-147">Não é necessário passar parâmetros para a página chamada.</span><span class="sxs-lookup"><span data-stu-id="1be75-147">You are not required to pass parameters to the called page.</span></span> <span data-ttu-id="1be75-148">Em vez disso, você pode fazer o seguinte:</span><span class="sxs-lookup"><span data-stu-id="1be75-148">Instead, you could do the following:</span></span>

- <span data-ttu-id="1be75-149">Da página chamadora:</span><span class="sxs-lookup"><span data-stu-id="1be75-149">From the calling page:</span></span>

  1. <span data-ttu-id="1be75-150">Instanciar o <xref:System.Windows.Navigation.PageFunction%601> chamado usando o construtor sem parâmetros.</span><span class="sxs-lookup"><span data-stu-id="1be75-150">Instantiate the called <xref:System.Windows.Navigation.PageFunction%601> using the parameterless constructor.</span></span>

  2. <span data-ttu-id="1be75-151">Armazene os parâmetros em <xref:System.Windows.Application.Properties%2A>.</span><span class="sxs-lookup"><span data-stu-id="1be75-151">Store the parameters in <xref:System.Windows.Application.Properties%2A>.</span></span>

  3. <span data-ttu-id="1be75-152">Navegue até o <xref:System.Windows.Navigation.PageFunction%601>chamado.</span><span class="sxs-lookup"><span data-stu-id="1be75-152">Navigate to the called <xref:System.Windows.Navigation.PageFunction%601>.</span></span>

- <span data-ttu-id="1be75-153">No <xref:System.Windows.Navigation.PageFunction%601>chamado:</span><span class="sxs-lookup"><span data-stu-id="1be75-153">From the called <xref:System.Windows.Navigation.PageFunction%601>:</span></span>

  - <span data-ttu-id="1be75-154">Recuperar e usar os parâmetros armazenados no <xref:System.Windows.Application.Properties%2A>.</span><span class="sxs-lookup"><span data-stu-id="1be75-154">Retrieve and use the parameters stored in <xref:System.Windows.Application.Properties%2A>.</span></span>

<span data-ttu-id="1be75-155">Mas, como você verá em breve, você ainda precisará usar código para instanciar e navegar até a página chamada para coletar os dados retornados pela página chamada.</span><span class="sxs-lookup"><span data-stu-id="1be75-155">But, as you'll see shortly, you'll still need use code to instantiate and navigate to the called page to collect the data returned by the called page.</span></span> <span data-ttu-id="1be75-156">Por esse motivo, a <xref:System.Windows.Navigation.PageFunction%601> precisa ser mantida ativa; caso contrário, na próxima vez que você navegar até a <xref:System.Windows.Navigation.PageFunction%601>, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] instanciará o <xref:System.Windows.Navigation.PageFunction%601> usando o construtor sem parâmetros.</span><span class="sxs-lookup"><span data-stu-id="1be75-156">For this reason, the <xref:System.Windows.Navigation.PageFunction%601> needs to be kept alive; otherwise, the next time you navigate to the <xref:System.Windows.Navigation.PageFunction%601>, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] instantiates the <xref:System.Windows.Navigation.PageFunction%601> using the parameterless constructor.</span></span>

<span data-ttu-id="1be75-157">No entanto, antes que a página chamada possa retornar, ela precisa retornar dados que podem ser recuperados pela página chamadora.</span><span class="sxs-lookup"><span data-stu-id="1be75-157">Before the called page can return, however, it needs to return data that can be retrieved by the calling page.</span></span>

### <a name="returning-task-result-and-task-data-from-a-task-to-a-calling-page"></a><span data-ttu-id="1be75-158">Retornando o resultado da tarefa e os dados de tarefa de uma tarefa para uma página chamadora</span><span class="sxs-lookup"><span data-stu-id="1be75-158">Returning Task Result and Task Data from a Task to a Calling Page</span></span>

<span data-ttu-id="1be75-159">Quando o usuário tiver terminado de usar a página chamada, ao pressionar os botões OK ou Cancelar neste exemplo, a página chamada precisa retornar.</span><span class="sxs-lookup"><span data-stu-id="1be75-159">Once the user has finished using the called page, signified in this example by pressing either the OK or Cancel buttons, the called page needs to return.</span></span> <span data-ttu-id="1be75-160">Como a página chamadora usou a página chamada para coletar dados do usuário, a página chamadora necessita de dois tipos de informações:</span><span class="sxs-lookup"><span data-stu-id="1be75-160">Since the calling page used the called page to collect data from the user, the calling page requires two types of information:</span></span>

1. <span data-ttu-id="1be75-161">Se o usuário cancelou a página chamada (pressionando o botão OK ou o botão Cancelar neste exemplo).</span><span class="sxs-lookup"><span data-stu-id="1be75-161">Whether the user canceled the called page (by pressing either the OK button or the Cancel button in this example).</span></span> <span data-ttu-id="1be75-162">Isso permite que a página chamadora determine se deve processar os dados que a página chamadora obteve do usuário.</span><span class="sxs-lookup"><span data-stu-id="1be75-162">This allows the calling page to determine whether to process the data that the calling page gathered from the user.</span></span>

2. <span data-ttu-id="1be75-163">Os dados que foram fornecidos pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="1be75-163">The data that was provided by the user.</span></span>

<span data-ttu-id="1be75-164">Para retornar informações, <xref:System.Windows.Navigation.PageFunction%601> implementa o método <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A>.</span><span class="sxs-lookup"><span data-stu-id="1be75-164">To return information, <xref:System.Windows.Navigation.PageFunction%601> implements the <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> method.</span></span> <span data-ttu-id="1be75-165">O código a seguir mostra como chamá-lo.</span><span class="sxs-lookup"><span data-stu-id="1be75-165">The following code shows how to call it.</span></span>

[!code-csharp[StructuredNavigationSample#ReturnCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#returncodebehind1)]
[!code-vb[StructuredNavigationSample#ReturnCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#returncodebehind1)]
[!code-csharp[StructuredNavigationSample#ReturnCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#returncodebehind2)]
[!code-vb[StructuredNavigationSample#ReturnCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#returncodebehind2)]

<span data-ttu-id="1be75-166">Neste exemplo, se um usuário pressiona o botão Cancelar, um valor de `null` é retornado para a página chamadora.</span><span class="sxs-lookup"><span data-stu-id="1be75-166">In this example, if a user presses the Cancel button, a value of `null` is returned to the calling page.</span></span> <span data-ttu-id="1be75-167">Se, em vez disso, o botão OK for pressionado, será retornado o valor de cadeia de caracteres fornecido pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="1be75-167">If the OK button is pressed instead, the string value provided by the user is returned.</span></span> <span data-ttu-id="1be75-168"><xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> é um método `protected virtual` que você chama para retornar os dados para a página de chamada.</span><span class="sxs-lookup"><span data-stu-id="1be75-168"><xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is a `protected virtual` method that you call to return your data to the calling page.</span></span> <span data-ttu-id="1be75-169">Seus dados precisam ser empacotados em uma instância do tipo de <xref:System.Windows.Navigation.ReturnEventArgs%601> genérico, cujo argumento de tipo especifica o tipo de valor que <xref:System.Windows.Navigation.ReturnEventArgs%601.Result%2A> retorna.</span><span class="sxs-lookup"><span data-stu-id="1be75-169">Your data needs to be packaged in an instance of the generic <xref:System.Windows.Navigation.ReturnEventArgs%601> type, whose type argument specifies the type of value that <xref:System.Windows.Navigation.ReturnEventArgs%601.Result%2A> returns.</span></span> <span data-ttu-id="1be75-170">Dessa forma, quando você declara um <xref:System.Windows.Navigation.PageFunction%601> com um argumento de tipo específico, está informando que um <xref:System.Windows.Navigation.PageFunction%601> retornará uma instância do tipo que é especificado pelo argumento de tipo.</span><span class="sxs-lookup"><span data-stu-id="1be75-170">In this way, when you declare a <xref:System.Windows.Navigation.PageFunction%601> with a particular type argument, you are stating that a <xref:System.Windows.Navigation.PageFunction%601> will return an instance of the type that is specified by the type argument.</span></span> <span data-ttu-id="1be75-171">Neste exemplo, o argumento de tipo e, consequentemente, o valor de retorno é do tipo <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="1be75-171">In this example, the type argument and, consequently, the return value is of type <xref:System.String>.</span></span>

<span data-ttu-id="1be75-172">Quando <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> é chamado, a página de chamada precisa de algum modo de receber o valor de retorno da <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="1be75-172">When <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called, the calling page needs some way of receiving the return value of the <xref:System.Windows.Navigation.PageFunction%601>.</span></span> <span data-ttu-id="1be75-173">Por esse motivo, <xref:System.Windows.Navigation.PageFunction%601> implementa o evento <xref:System.Windows.Navigation.PageFunction%601.Return> para chamar páginas a serem manipuladas.</span><span class="sxs-lookup"><span data-stu-id="1be75-173">For this reason, <xref:System.Windows.Navigation.PageFunction%601> implements the <xref:System.Windows.Navigation.PageFunction%601.Return> event for calling pages to handle.</span></span> <span data-ttu-id="1be75-174">Quando <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> é chamado, <xref:System.Windows.Navigation.PageFunction%601.Return> é gerado, portanto, a página de chamada pode se registrar com <xref:System.Windows.Navigation.PageFunction%601.Return> para receber a notificação.</span><span class="sxs-lookup"><span data-stu-id="1be75-174">When <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called, <xref:System.Windows.Navigation.PageFunction%601.Return> is raised, so the calling page can register with <xref:System.Windows.Navigation.PageFunction%601.Return> to receive the notification.</span></span>

[!code-csharp[StructuredNavigationSample#ProcessResultCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#processresultcodebehind1)]
[!code-vb[StructuredNavigationSample#ProcessResultCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#processresultcodebehind1)]
[!code-csharp[StructuredNavigationSample#ProcessResultCODEBEHIND2](~/samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#processresultcodebehind2)]
[!code-vb[StructuredNavigationSample#ProcessResultCODEBEHIND2](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#processresultcodebehind2)]

### <a name="removing-task-pages-when-a-task-completes"></a><span data-ttu-id="1be75-175">Removendo páginas de tarefa quando uma tarefa é concluída</span><span class="sxs-lookup"><span data-stu-id="1be75-175">Removing Task Pages When a Task Completes</span></span>

<span data-ttu-id="1be75-176">Quando uma página chamada retorna, e o usuário não cancelou a página chamada, a página chamadora processará os dados fornecidos pelo usuário e também os retornados pela página chamada.</span><span class="sxs-lookup"><span data-stu-id="1be75-176">When a called page returns, and the user didn't cancel the called page, the calling page will process the data that was provided by the user and also returned from the called page.</span></span> <span data-ttu-id="1be75-177">A aquisição de dados dessa forma costuma ser uma atividade isolada. Quando a página chamada retorna, a página chamadora precisa criar e navegar até uma nova página chamadora para capturar mais dados.</span><span class="sxs-lookup"><span data-stu-id="1be75-177">Data acquisition in this way is usually an isolated activity; when the called page returns, the calling page needs to create and navigate to a new calling page to capture more data.</span></span>

<span data-ttu-id="1be75-178">No entanto, a menos que uma página chamada seja removida do diário, um usuário poderá navegar de volta para uma instância anterior da página chamadora.</span><span class="sxs-lookup"><span data-stu-id="1be75-178">However, unless a called page is removed from the journal, a user will be able to navigate back to a previous instance of the calling page.</span></span> <span data-ttu-id="1be75-179">Se um <xref:System.Windows.Navigation.PageFunction%601> é retido no diário é determinado pela propriedade <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A>.</span><span class="sxs-lookup"><span data-stu-id="1be75-179">Whether a <xref:System.Windows.Navigation.PageFunction%601> is retained in the journal is determined by the <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> property.</span></span> <span data-ttu-id="1be75-180">Por padrão, uma função Page é removida automaticamente quando <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> é chamado porque <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> está definido como `true`.</span><span class="sxs-lookup"><span data-stu-id="1be75-180">By default, a page function is automatically removed when <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called because <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> is set to `true`.</span></span> <span data-ttu-id="1be75-181">Para manter uma função de página no histórico de navegação depois que <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> for chamado, defina <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> como `false`.</span><span class="sxs-lookup"><span data-stu-id="1be75-181">To keep a page function in navigation history after <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called, set <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> to `false`.</span></span>

<a name="Other_Types_of_Structured_Navigation"></a>

## <a name="other-types-of-structured-navigation"></a><span data-ttu-id="1be75-182">Outros tipos de navegação estruturada</span><span class="sxs-lookup"><span data-stu-id="1be75-182">Other Types of Structured Navigation</span></span>

<span data-ttu-id="1be75-183">Este tópico ilustra o uso mais básico de um <xref:System.Windows.Navigation.PageFunction%601> para dar suporte à navegação estruturada de chamada/retorno.</span><span class="sxs-lookup"><span data-stu-id="1be75-183">This topic illustrates the most basic use of a <xref:System.Windows.Navigation.PageFunction%601> to support call/return structured navigation.</span></span> <span data-ttu-id="1be75-184">Essa base fornece a capacidade para criar tipos mais complexos de navegação estruturada.</span><span class="sxs-lookup"><span data-stu-id="1be75-184">This foundation provides you with the ability to create more complex types of structured navigation.</span></span>

<span data-ttu-id="1be75-185">Por exemplo, algumas vezes várias páginas são exigidas pela página chamadora, para obter dados suficientes de um usuário ou para realizar uma tarefa.</span><span class="sxs-lookup"><span data-stu-id="1be75-185">For example, sometimes multiple pages are required by a calling page to gather enough data from a user or to perform a task.</span></span> <span data-ttu-id="1be75-186">O uso de várias páginas é conhecido como um "assistente".</span><span class="sxs-lookup"><span data-stu-id="1be75-186">The use of multiple pages is referred to as a "wizard".</span></span>

<span data-ttu-id="1be75-187">Em outros casos, os aplicativos podem ter topologias complexas de navegação que dependem da navegação estruturada para operar com eficiência.</span><span class="sxs-lookup"><span data-stu-id="1be75-187">In other cases, applications may have complex navigation topologies that depend on structured navigation to operate effectively.</span></span> <span data-ttu-id="1be75-188">Para obter mais informações, consulte [Visão geral de topologias de navegação](navigation-topologies-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1be75-188">For more information, see [Navigation Topologies Overview](navigation-topologies-overview.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="1be75-189">Consulte também</span><span class="sxs-lookup"><span data-stu-id="1be75-189">See also</span></span>

- <xref:System.Windows.Navigation.PageFunction%601>
- <xref:System.Windows.Navigation.NavigationService>
- [<span data-ttu-id="1be75-190">Visão geral de topologias de navegação</span><span class="sxs-lookup"><span data-stu-id="1be75-190">Navigation Topologies Overview</span></span>](navigation-topologies-overview.md)
