---
title: Compilando um aplicativo WPF (WPF)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WPF application [WPF], building
ms.assetid: a58696fd-bdad-4b55-9759-136dfdf8b91c
ms.openlocfilehash: 706999cb403ecf32f5dfe8443e00dd84efdebd23
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/08/2019
ms.locfileid: "59184477"
---
# <a name="building-a-wpf-application-wpf"></a><span data-ttu-id="f30cb-102">Compilando um aplicativo WPF (WPF)</span><span class="sxs-lookup"><span data-stu-id="f30cb-102">Building a WPF Application (WPF)</span></span>
<span data-ttu-id="f30cb-103">Aplicativos do Windows Presentation Foundation (WPF) podem ser criados como [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] executáveis (.exe), bibliotecas (. dll) ou uma combinação de ambos os tipos de assemblies.</span><span class="sxs-lookup"><span data-stu-id="f30cb-103">Windows Presentation Foundation (WPF) applications can be built as [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] executables (.exe), libraries (.dll), or a combination of both types of assemblies.</span></span> <span data-ttu-id="f30cb-104">Este tópico apresenta como compilar aplicativos [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] e descreve as principais etapas no processo de build.</span><span class="sxs-lookup"><span data-stu-id="f30cb-104">This topic introduces how to build [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications and describes the key steps in the build process.</span></span>  

<a name="Building_a_WPF_Application_using_Command_Line"></a>   
## <a name="building-a-wpf-application"></a><span data-ttu-id="f30cb-105">Compilando um aplicativo WPF</span><span class="sxs-lookup"><span data-stu-id="f30cb-105">Building a WPF Application</span></span>  
 <span data-ttu-id="f30cb-106">Um aplicativo WPF pode ser compilado das seguintes maneiras:</span><span class="sxs-lookup"><span data-stu-id="f30cb-106">A WPF application can be compiled in the following ways:</span></span>  
  
-   <span data-ttu-id="f30cb-107">Linha de comando.</span><span class="sxs-lookup"><span data-stu-id="f30cb-107">Command-line.</span></span> <span data-ttu-id="f30cb-108">O aplicativo deve conter somente código (sem XAML) e um arquivo de definição de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f30cb-108">The application must contain only code (no XAML) and an application definition file.</span></span> <span data-ttu-id="f30cb-109">Para obter mais informações, consulte [Build pela linha de comando com csc.exe](~/docs/csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md) ou [Build na linha de comando (Visual Basic)](~/docs/visual-basic/reference/command-line-compiler/building-from-the-command-line.md).</span><span class="sxs-lookup"><span data-stu-id="f30cb-109">For more information, see [Command-line Building With csc.exe](~/docs/csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md) or [Building from the Command Line (Visual Basic)](~/docs/visual-basic/reference/command-line-compiler/building-from-the-command-line.md).</span></span>  
  
-   <span data-ttu-id="f30cb-110">MSBuild (Microsoft Build Engine).</span><span class="sxs-lookup"><span data-stu-id="f30cb-110">Microsoft Build Engine (MSBuild).</span></span> <span data-ttu-id="f30cb-111">Além do código e de arquivos XAML, o aplicativo deve conter um arquivo de projeto do MSBuild.</span><span class="sxs-lookup"><span data-stu-id="f30cb-111">In addition to the code and XAML files, the application must contain an MSBuild project file.</span></span> <span data-ttu-id="f30cb-112">Para mais informações, consulte "MSBuild".</span><span class="sxs-lookup"><span data-stu-id="f30cb-112">For more information, see "MSBuild".</span></span>  
  
-   <span data-ttu-id="f30cb-113">Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f30cb-113">Visual Studio.</span></span> <span data-ttu-id="f30cb-114">O Visual Studio é um ambiente de desenvolvimento integrado que compila aplicativos WPF com o MSBuild e inclui um designer visual para a criação da interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="f30cb-114">Visual Studio is an integrated development environment that compiles WPF applications with MSBuild and includes a visual designer for creating UI.</span></span> <span data-ttu-id="f30cb-115">Para obter mais informações, consulte [escrever e gerenciar código usando o Visual Studio](/visualstudio/ide/index-writing-code) e [Design XAML no Visual Studio](/visualstudio/designers/designing-xaml-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="f30cb-115">For more information, see [Write and manage code using Visual Studio](/visualstudio/ide/index-writing-code) and [Design XAML in Visual Studio](/visualstudio/designers/designing-xaml-in-visual-studio).</span></span>  
  
<a name="The_Windows_Presentation_Foundation_Build_Pipeline"></a>   
## <a name="wpf-build-pipeline"></a><span data-ttu-id="f30cb-116">Pipeline de build do WPF</span><span class="sxs-lookup"><span data-stu-id="f30cb-116">WPF Build Pipeline</span></span>  
 <span data-ttu-id="f30cb-117">Quando um projeto do [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] é compilado, a combinação de destinos específicos a um idioma e específicos do [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] são invocados.</span><span class="sxs-lookup"><span data-stu-id="f30cb-117">When a [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] project is built, the combination of language-specific and [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]-specific targets are invoked.</span></span> <span data-ttu-id="f30cb-118">O processo de execução desses destinos denomina-se pipeline de build, e as principais etapas estão ilustradas na figura a seguir.</span><span class="sxs-lookup"><span data-stu-id="f30cb-118">The process of executing these targets is called the build pipeline, and the key steps are illustrated by the following figure.</span></span>  
  
 <span data-ttu-id="f30cb-119">![Processo de build do WPF](./media/wpfbuildsystem-figure1.png "WPFBuildSystem_Figure1")</span><span class="sxs-lookup"><span data-stu-id="f30cb-119">![WPF build process](./media/wpfbuildsystem-figure1.png "WPFBuildSystem_Figure1")</span></span>  
  
<a name="Pre_Build_Initializations"></a>   
### <a name="pre-build-initializations"></a><span data-ttu-id="f30cb-120">Inicializações pré-build</span><span class="sxs-lookup"><span data-stu-id="f30cb-120">Pre-Build Initializations</span></span>  
 <span data-ttu-id="f30cb-121">Antes de compilar, o [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] determina a localização das ferramentas e bibliotecas importantes, incluindo o seguinte:</span><span class="sxs-lookup"><span data-stu-id="f30cb-121">Before building, [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] determines the location of important tools and libraries, including the following:</span></span>  
  
-   <span data-ttu-id="f30cb-122">O .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f30cb-122">The .NET Framework.</span></span>  
  
-   <span data-ttu-id="f30cb-123">Os diretórios de [!INCLUDE[TLA2#tla_wcsdk](../../../../includes/tla2sharptla-wcsdk-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f30cb-123">The [!INCLUDE[TLA2#tla_wcsdk](../../../../includes/tla2sharptla-wcsdk-md.md)] directories.</span></span>  
  
-   <span data-ttu-id="f30cb-124">O local dos assemblies de referência do [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f30cb-124">The location of [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] reference assemblies.</span></span>  
  
-   <span data-ttu-id="f30cb-125">A propriedade para os caminhos de pesquisa de assembly.</span><span class="sxs-lookup"><span data-stu-id="f30cb-125">The property for the assembly search paths.</span></span>  
  
 <span data-ttu-id="f30cb-126">O primeiro local em que o [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] procura assemblies é o diretório do assembly de referência (%ProgramFiles%\Reference Assemblies\Microsoft\Framework\v3.0\\).</span><span class="sxs-lookup"><span data-stu-id="f30cb-126">The first location where [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] searches for assemblies is the reference assembly directory (%ProgramFiles%\Reference Assemblies\Microsoft\Framework\v3.0\\).</span></span> <span data-ttu-id="f30cb-127">Durante essa etapa, o processo de build também inicializa as várias propriedades e grupos de itens e realiza qualquer trabalho necessário de limpeza.</span><span class="sxs-lookup"><span data-stu-id="f30cb-127">During this step, the build process also initializes the various properties and item groups and performs any required cleanup work.</span></span>  
  
<a name="Resolving_references"></a>   
### <a name="resolving-references"></a><span data-ttu-id="f30cb-128">Resolvendo referências</span><span class="sxs-lookup"><span data-stu-id="f30cb-128">Resolving References</span></span>  
 <span data-ttu-id="f30cb-129">O processo de build localiza e associa os assemblies necessários para compilar o projeto de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f30cb-129">The build process locates and binds the assemblies required to build the application project.</span></span> <span data-ttu-id="f30cb-130">Essa lógica está contida na tarefa `ResolveAssemblyReference`.</span><span class="sxs-lookup"><span data-stu-id="f30cb-130">This logic is contained in the `ResolveAssemblyReference` task.</span></span> <span data-ttu-id="f30cb-131">Todos os assemblies declarados como `Reference` no arquivo de projeto são fornecidos para a tarefa, junto com as informações sobre os caminhos de pesquisa e metadados sobre os assemblies já instalados no sistema.</span><span class="sxs-lookup"><span data-stu-id="f30cb-131">All assemblies declared as `Reference` in the project file are provided to the task along with information on the search paths and metadata on assemblies already installed on the system.</span></span> <span data-ttu-id="f30cb-132">A tarefa procura assemblies e usa os metadados do assembly instalado para filtrar os principais assemblies do [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] que não precisam aparecer nos manifestos de saída.</span><span class="sxs-lookup"><span data-stu-id="f30cb-132">The task looks up assemblies and uses the installed assembly's metadata to filter out those core [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] assemblies that need not show up in the output manifests.</span></span> <span data-ttu-id="f30cb-133">Isso é feito para evitar informações redundantes nos manifestos do ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="f30cb-133">This is done to avoid redundant information in the ClickOnce manifests.</span></span> <span data-ttu-id="f30cb-134">Por exemplo, uma vez que PresentationFramework. dll pode ser considerado representativo de um aplicativo compilado no e para o [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] e, além disso já que todos os [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] assemblies existir no mesmo local em cada computador que tem o .NET Framework não é instalado, é necessário incluir todas as informações sobre todos os assemblies de referência do .NET Framework nos manifestos.</span><span class="sxs-lookup"><span data-stu-id="f30cb-134">For example, since PresentationFramework.dll can be considered representative of an application built on and for the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] and moreover since all [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] assemblies exist at the same location on every machine that has the .NET Framework installed, there is no need to include all information on all .NET Framework reference assemblies in the manifests.</span></span>  
  
<a name="Markup_Compilation___Pass_1"></a>   
### <a name="markup-compilationpass-1"></a><span data-ttu-id="f30cb-135">Compilação de marcação — passo 1</span><span class="sxs-lookup"><span data-stu-id="f30cb-135">Markup Compilation—Pass 1</span></span>  
 <span data-ttu-id="f30cb-136">Nesta etapa, os arquivos [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] são analisados e compilados de modo que o tempo de execução não gaste tempo analisando [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] e validando valores da propriedade.</span><span class="sxs-lookup"><span data-stu-id="f30cb-136">In this step, [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files are parsed and compiled so that the runtime does not spend time parsing [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] and validating property values.</span></span> <span data-ttu-id="f30cb-137">O arquivo [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] compilado é pré-indexado para que, em tempo de execução, seu carregamento seja muito mais rápido do que carregar um arquivo [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f30cb-137">The compiled [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file is pre-tokenized so that, at run time, loading it should be much faster than loading a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file.</span></span>  
  
 <span data-ttu-id="f30cb-138">Durante esta etapa, as seguintes atividades ocorrem para cada arquivo [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] que é um item de build `Page`:</span><span class="sxs-lookup"><span data-stu-id="f30cb-138">During this step, the following activities take place for every [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file that is a `Page` build item:</span></span>  
  
1.  <span data-ttu-id="f30cb-139">O arquivo [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] é analisado pelo compilador de marcação.</span><span class="sxs-lookup"><span data-stu-id="f30cb-139">The [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file is parsed by the markup compiler.</span></span>  
  
2.  <span data-ttu-id="f30cb-140">Uma representação compilada é criada para esse [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] e copiada para a pasta obj\Release.</span><span class="sxs-lookup"><span data-stu-id="f30cb-140">A compiled representation is created for that [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] and copied to the obj\Release folder.</span></span>  
  
3.  <span data-ttu-id="f30cb-141">Uma representação CodeDOM de uma nova classe parcial é criada e copiada para a pasta obj\Release.</span><span class="sxs-lookup"><span data-stu-id="f30cb-141">A CodeDOM representation of a new partial class is created and copied to the obj\Release folder.</span></span>  
  
 <span data-ttu-id="f30cb-142">Além disso, um arquivo de código específico a um idioma é gerado para cada arquivo [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f30cb-142">In addition, a language-specific code file is generated for every [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file.</span></span> <span data-ttu-id="f30cb-143">Por exemplo, para uma página Page1.xaml em um projeto do Visual Basic, é gerado um Page1.g.vb; para uma página Page1.xaml em um projeto c#, um Page1.g.cs é gerado.</span><span class="sxs-lookup"><span data-stu-id="f30cb-143">For example, for a Page1.xaml page in a Visual Basic project, a Page1.g.vb is generated; for a Page1.xaml page in a C# project, a Page1.g.cs is generated.</span></span> <span data-ttu-id="f30cb-144">O ".g" no nome de arquivo indica que o arquivo é um código gerado que tem uma declaração de classe parcial para o elemento de nível superior do arquivo de marcação (como `Page` ou `Window`).</span><span class="sxs-lookup"><span data-stu-id="f30cb-144">The ".g" in the file name indicates the file is generated code that has a partial class declaration for the top-level element of the markup file (such as `Page` or `Window`).</span></span> <span data-ttu-id="f30cb-145">A classe é declarada com o `partial` modificador em c# (`Extends` no Visual Basic) para indicar que há outra declaração para a classe em outro lugar, geralmente no code-behind do arquivo Page1.xaml.cs.</span><span class="sxs-lookup"><span data-stu-id="f30cb-145">The class is declared with the `partial` modifier in C# (`Extends` in Visual Basic) to indicate there is another declaration for the class elsewhere, usually in the code-behind file Page1.xaml.cs.</span></span>  
  
 <span data-ttu-id="f30cb-146">A classe parcial estende a classe base apropriada (como <xref:System.Windows.Controls.Page> para uma página) e implementa o <xref:System.Windows.Markup.IComponentConnector?displayProperty=nameWithType> interface.</span><span class="sxs-lookup"><span data-stu-id="f30cb-146">The partial class extends from the appropriate base class (such as <xref:System.Windows.Controls.Page> for a page) and implements the <xref:System.Windows.Markup.IComponentConnector?displayProperty=nameWithType> interface.</span></span> <span data-ttu-id="f30cb-147">O <xref:System.Windows.Markup.IComponentConnector> interface tem métodos para inicializar um componente e conectar nomes e eventos aos elementos em seu conteúdo.</span><span class="sxs-lookup"><span data-stu-id="f30cb-147">The <xref:System.Windows.Markup.IComponentConnector> interface has methods to initialize a component and connect names and events on elements in its content.</span></span> <span data-ttu-id="f30cb-148">Consequentemente, o arquivo de código gerado tem uma implementação de método semelhante à seguinte:</span><span class="sxs-lookup"><span data-stu-id="f30cb-148">Consequently, the generated code file has a method implementation like the following:</span></span>  
  
```csharp  
public void InitializeComponent() {  
    if (_contentLoaded) {  
        return;  
    }  
    _contentLoaded = true;  
    System.Uri resourceLocater =   
        new System.Uri(  
            "window1.xaml",   
            System.UriKind.RelativeOrAbsolute);  
    System.Windows.Application.LoadComponent(this, resourceLocater);  
}  
```  
  
```vb  
Public Sub InitializeComponent() _  
  
    If _contentLoaded Then  
        Return  
    End If  
  
    _contentLoaded = True  
    Dim resourceLocater As System.Uri = _  
        New System.Uri("mainwindow.xaml", System.UriKind.Relative)  
  
    System.Windows.Application.LoadComponent(Me, resourceLocater)  
  
End Sub  
```  
  
 <span data-ttu-id="f30cb-149">Por padrão, a compilação de marcação é executado no mesmo <xref:System.AppDomain> como o [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] mecanismo.</span><span class="sxs-lookup"><span data-stu-id="f30cb-149">By default, markup compilation runs in the same <xref:System.AppDomain> as the [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] engine.</span></span> <span data-ttu-id="f30cb-150">Isso proporciona ganhos significativos de desempenho.</span><span class="sxs-lookup"><span data-stu-id="f30cb-150">This provides significant performance gains.</span></span> <span data-ttu-id="f30cb-151">Esse comportamento pode ser alternado com a propriedade `AlwaysCompileMarkupFilesInSeparateDomain`.</span><span class="sxs-lookup"><span data-stu-id="f30cb-151">This behavior can be toggled with the `AlwaysCompileMarkupFilesInSeparateDomain` property.</span></span> <span data-ttu-id="f30cb-152">Isso tem a vantagem de descarregar todos os assemblies de referência através do descarregamento separada <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="f30cb-152">This has the advantage of unloading all reference assemblies by unloading the separate <xref:System.AppDomain>.</span></span>  
  
<a name="Pass_2_of_Markup_Compilation"></a>   
### <a name="markup-compilationpass-2"></a><span data-ttu-id="f30cb-153">Compilação de marcação — passo 2</span><span class="sxs-lookup"><span data-stu-id="f30cb-153">Markup Compilation—Pass 2</span></span>  
 <span data-ttu-id="f30cb-154">Nem todos as páginas [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] são compiladas durante o passo 1 da compilação de marcação.</span><span class="sxs-lookup"><span data-stu-id="f30cb-154">Not all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages are compiled at during pass 1 of markup compilation.</span></span> [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] <span data-ttu-id="f30cb-155">arquivos que têm referências de tipo (referências a tipos definidos no código em outro lugar no mesmo projeto) definidas localmente são isentos de compilação no momento.</span><span class="sxs-lookup"><span data-stu-id="f30cb-155">files that have locally defined type references (references to types defined in code elsewhere in the same project) are exempt from compilation at this time.</span></span> <span data-ttu-id="f30cb-156">Isso ocorre porque esses tipos definidos localmente existem somente na fonte e ainda não foram compilados.</span><span class="sxs-lookup"><span data-stu-id="f30cb-156">This is because those locally defined types exist only in source and have not yet been compiled.</span></span> <span data-ttu-id="f30cb-157">Para determinar isso, o analisador usa heurísticas que envolvem a procura de itens como `x:Name` no arquivo de marcação.</span><span class="sxs-lookup"><span data-stu-id="f30cb-157">In order to determine this, the parser uses heuristics that involve looking for items such as `x:Name` in the markup file.</span></span> <span data-ttu-id="f30cb-158">Quando uma instância dessas é encontrada, a compilação desse arquivo de marcação é adiada até que os arquivos de código tenham sido compilados, e depois disso, o segundo passo da compilação da marcação processa esses arquivos.</span><span class="sxs-lookup"><span data-stu-id="f30cb-158">When such an instance is found, that markup file’s compilation is postponed until the code files have been compiled, after which, the second markup compilation pass processes these files.</span></span>  
  
<a name="File_Classification"></a>   
### <a name="file-classification"></a><span data-ttu-id="f30cb-159">Classificação de arquivos</span><span class="sxs-lookup"><span data-stu-id="f30cb-159">File Classification</span></span>  
 <span data-ttu-id="f30cb-160">O processo de build coloca arquivos de saída em diferentes grupos de recursos com base em qual assembly de aplicativo eles serão colocados.</span><span class="sxs-lookup"><span data-stu-id="f30cb-160">The build process puts output files into different resource groups based on which application assembly they will be placed in.</span></span> <span data-ttu-id="f30cb-161">Em um aplicativo típico não localizado, todos os arquivos de dados marcados como `Resource` são colocados no assembly principal (executável ou biblioteca).</span><span class="sxs-lookup"><span data-stu-id="f30cb-161">In a typical nonlocalized application, all data files marked as `Resource` are placed in the main assembly (executable or library).</span></span> <span data-ttu-id="f30cb-162">Quando a `UICulture` é definida no projeto, todos os arquivos [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] compilados e os recursos especificamente marcados como específicos a um idioma, são colocados no assembly de recursos satélite.</span><span class="sxs-lookup"><span data-stu-id="f30cb-162">When `UICulture` is set in the project, all compiled [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files and those resources specifically marked as language-specific are placed in the satellite resource assembly.</span></span> <span data-ttu-id="f30cb-163">Além disso, todos os recursos com neutralidade de idioma são colocados no assembly principal.</span><span class="sxs-lookup"><span data-stu-id="f30cb-163">Furthermore, all language-neutral resources are placed in the main assembly.</span></span> <span data-ttu-id="f30cb-164">Essa determinação é feita nessa etapa do processo de build.</span><span class="sxs-lookup"><span data-stu-id="f30cb-164">In this step of the build process, that determination is made.</span></span>  
  
 <span data-ttu-id="f30cb-165">As ações de build `ApplicationDefinition`, `Page`, e `Resource` no arquivo de projeto podem ser aumentadas com os metadados `Localizable` (os valores aceitáveis são `true` e `false`), que determinam se o arquivo é específico a um idioma ou com neutralidade de idioma.</span><span class="sxs-lookup"><span data-stu-id="f30cb-165">The `ApplicationDefinition`, `Page`, and `Resource` build actions in the project file can be augmented with the `Localizable` metadata (acceptable values are `true` and `false`), which dictates whether the file is language-specific or language-neutral.</span></span>  
  
<a name="Core_Compilation"></a>   
### <a name="core-compilation"></a><span data-ttu-id="f30cb-166">Compilação principal</span><span class="sxs-lookup"><span data-stu-id="f30cb-166">Core Compilation</span></span>  
 <span data-ttu-id="f30cb-167">A etapa de compilação principal envolve a compilação de arquivos de código.</span><span class="sxs-lookup"><span data-stu-id="f30cb-167">The core compile step involves compilation of code files.</span></span> <span data-ttu-id="f30cb-168">Isso é orquestrado por lógica nos arquivos de destinos específicos a um idioma Microsoft.CSharp.targets e Microsoft.VisualBasic.targets.</span><span class="sxs-lookup"><span data-stu-id="f30cb-168">This is orchestrated by logic in the language-specific targets files Microsoft.CSharp.targets and Microsoft.VisualBasic.targets.</span></span> <span data-ttu-id="f30cb-169">Se as heurísticas determinarem que uma única passagem do compilador de marcação é suficiente, então o assembly principal será gerado.</span><span class="sxs-lookup"><span data-stu-id="f30cb-169">If heuristics have determined that a single pass of the markup compiler is sufficient, then the main assembly is generated.</span></span> <span data-ttu-id="f30cb-170">No entanto, se um ou mais arquivos [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] no projeto têm referências a tipos definidos localmente, um arquivo .dll temporário é gerado para que os assemblies do aplicativo final possam ser criados depois que a segunda passagem da compilação de marcação estiver concluída.</span><span class="sxs-lookup"><span data-stu-id="f30cb-170">However, if one or more [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files in the project have references to locally defined types, then a temporary .dll file is generated so the final application assemblies may be created after the second pass of markup compilation is complete.</span></span>  
  
<a name="Manifest_generation"></a>   
### <a name="manifest-generation"></a><span data-ttu-id="f30cb-171">Geração de manifesto</span><span class="sxs-lookup"><span data-stu-id="f30cb-171">Manifest Generation</span></span>  
 <span data-ttu-id="f30cb-172">Ao final do processo de build, quando todos os assemblies de aplicativo e arquivos de conteúdo estiverem prontos, os manifestos do [!INCLUDE[TLA2#tla_clickonce](../../../../includes/tla2sharptla-clickonce-md.md)] para o aplicativo são gerados.</span><span class="sxs-lookup"><span data-stu-id="f30cb-172">At the end of the build process, after all the application assemblies and content files are ready, the [!INCLUDE[TLA2#tla_clickonce](../../../../includes/tla2sharptla-clickonce-md.md)] manifests for the application are generated.</span></span>  
  
 <span data-ttu-id="f30cb-173">O arquivo de manifesto de implantação descreve o modelo de implantação: a versão atual, o comportamento de atualização e a identidade do editor junto com a assinatura digital.</span><span class="sxs-lookup"><span data-stu-id="f30cb-173">The deployment manifest file describes the deployment model: the current version, update behavior, and publisher identity along with digital signature.</span></span> <span data-ttu-id="f30cb-174">Esse manifesto deve ser criado pelos administradores que lidam com a implantação.</span><span class="sxs-lookup"><span data-stu-id="f30cb-174">This manifest is intended to be authored by administrators who handle deployment.</span></span> <span data-ttu-id="f30cb-175">A extensão de arquivo é .xbap (para o [!INCLUDE[TLA#tla_xbap#plural](../../../../includes/tlasharptla-xbapsharpplural-md.md)]) e .application para aplicativos instalados.</span><span class="sxs-lookup"><span data-stu-id="f30cb-175">The file extension is .xbap (for [!INCLUDE[TLA#tla_xbap#plural](../../../../includes/tlasharptla-xbapsharpplural-md.md)]) and .application for installed applications.</span></span> <span data-ttu-id="f30cb-176">A primeira é determinada pela propriedade do projeto `HostInBrowser` e, como resultado, o manifesto identifica o aplicativo como hospedado pelo navegador.</span><span class="sxs-lookup"><span data-stu-id="f30cb-176">The former is dictated by the `HostInBrowser` project property and as a result the manifest identifies the application as browser-hosted.</span></span>  
  
 <span data-ttu-id="f30cb-177">O manifesto do aplicativo (um arquivo de manifesto .exe) descreve os assemblies do aplicativo e as bibliotecas dependentes e permissões de lista exigidas pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f30cb-177">The application manifest (an .exe.manifest file) describes the application assemblies and dependent libraries and lists permissions required by the application.</span></span> <span data-ttu-id="f30cb-178">Esse arquivo deve ser criado pelo desenvolvedor do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f30cb-178">This file is intended to be authored by the application developer.</span></span> <span data-ttu-id="f30cb-179">Para a inicialização de um aplicativo do [!INCLUDE[TLA2#tla_clickonce](../../../../includes/tla2sharptla-clickonce-md.md)], um usuário abre o arquivo de manifesto de implantação do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f30cb-179">In order to launch a [!INCLUDE[TLA2#tla_clickonce](../../../../includes/tla2sharptla-clickonce-md.md)] application, a user opens the application's deployment manifest file.</span></span>  
  
 <span data-ttu-id="f30cb-180">Esses arquivos de manifesto são sempre criados para o [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f30cb-180">These manifest files are always created for [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span></span> <span data-ttu-id="f30cb-181">Para aplicativos instalados, eles não são criados, a menos que a propriedade `GenerateManifests` seja especificada no arquivo de projeto com o valor `true`.</span><span class="sxs-lookup"><span data-stu-id="f30cb-181">For installed applications, they are not created unless the `GenerateManifests` property is specified in the project file with value `true`.</span></span>  
  
 [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] <span data-ttu-id="f30cb-182">obter duas permissões adicionais além das permissões atribuídas a aplicativos típicos da zona da Internet: <xref:System.Security.Permissions.WebBrowserPermission> e <xref:System.Security.Permissions.MediaPermission>.</span><span class="sxs-lookup"><span data-stu-id="f30cb-182">get two additional permissions over and above those permissions assigned to typical Internet zone applications: <xref:System.Security.Permissions.WebBrowserPermission> and <xref:System.Security.Permissions.MediaPermission>.</span></span> <span data-ttu-id="f30cb-183">O sistema de build do [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] declara essas permissões no manifesto do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f30cb-183">The [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] build system declares those permissions in the application manifest.</span></span>  
  
<a name="Incremental_Build_Support"></a>   
## <a name="incremental-build-support"></a><span data-ttu-id="f30cb-184">Suporte ao build incremental</span><span class="sxs-lookup"><span data-stu-id="f30cb-184">Incremental Build Support</span></span>  
 <span data-ttu-id="f30cb-185">O sistema de build do [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] dá suporte para builds incrementais.</span><span class="sxs-lookup"><span data-stu-id="f30cb-185">The [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] build system provides support for incremental builds.</span></span> <span data-ttu-id="f30cb-186">Ele é bastante inteligente para detectar as alterações feitas na marcação ou no código, e ele compila somente os artefatos afetados pela alteração.</span><span class="sxs-lookup"><span data-stu-id="f30cb-186">It is fairly intelligent about detecting changes made to markup or code, and it compiles only those artifacts affected by the change.</span></span> <span data-ttu-id="f30cb-187">O mecanismo de build incremental usa os seguintes arquivos:</span><span class="sxs-lookup"><span data-stu-id="f30cb-187">The incremental build mechanism uses the following files:</span></span>  
  
-   <span data-ttu-id="f30cb-188">Um arquivo $(*AssemblyName*)_MarkupCompiler.Cache para manter o estado atual do compilador.</span><span class="sxs-lookup"><span data-stu-id="f30cb-188">An $(*AssemblyName*)_MarkupCompiler.Cache file to maintain current compiler state.</span></span>  
  
-   <span data-ttu-id="f30cb-189">Um arquivo $(*AssemblyName*)_MarkupCompiler.lref para armazenar em cache os arquivos [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] com referências a tipos definidos localmente.</span><span class="sxs-lookup"><span data-stu-id="f30cb-189">An $(*AssemblyName*)_MarkupCompiler.lref file to cache the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files with references to locally defined types.</span></span>  
  
 <span data-ttu-id="f30cb-190">Abaixo está um conjunto de regras que rege o build incremental:</span><span class="sxs-lookup"><span data-stu-id="f30cb-190">The following is a set of rules governing incremental build:</span></span>  
  
-   <span data-ttu-id="f30cb-191">O arquivo é a menor unidade na qual o sistema de build detecta alterações.</span><span class="sxs-lookup"><span data-stu-id="f30cb-191">The file is the smallest unit at which the build system detects change.</span></span> <span data-ttu-id="f30cb-192">Portanto, para um arquivo de código, o sistema de build não pode determinar se um tipo foi alterado ou se algum código foi adicionado.</span><span class="sxs-lookup"><span data-stu-id="f30cb-192">So, for a code file, the build system cannot tell if a type was changed or if code was added.</span></span> <span data-ttu-id="f30cb-193">O mesmo ocorre para arquivos de projeto.</span><span class="sxs-lookup"><span data-stu-id="f30cb-193">The same holds for project files.</span></span>  
  
-   <span data-ttu-id="f30cb-194">O mecanismo de build incremental deve estar ciente de que uma página [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] define uma classe ou usa outras classes.</span><span class="sxs-lookup"><span data-stu-id="f30cb-194">The incremental build mechanism must be cognizant that a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] page either defines a class or uses other classes.</span></span>  
  
-   <span data-ttu-id="f30cb-195">Se entradas `Reference` forem alteradas, recompilar todas as páginas.</span><span class="sxs-lookup"><span data-stu-id="f30cb-195">If `Reference` entries change, then recompile all pages.</span></span>  
  
-   <span data-ttu-id="f30cb-196">Se um arquivo de código for alterado, recompilar todas as páginas com referências de tipo definidas localmente.</span><span class="sxs-lookup"><span data-stu-id="f30cb-196">If a code file changes, recompile all pages with locally defined type references.</span></span>  
  
-   <span data-ttu-id="f30cb-197">Se um arquivo [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] for alterado:</span><span class="sxs-lookup"><span data-stu-id="f30cb-197">If a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file changes:</span></span>  
  
    -   <span data-ttu-id="f30cb-198">Se o [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] é declarado como `Page` no projeto: se o [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] não tem referências de tipo definidas localmente, recompilar aquele [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] mais todas as páginas [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] com referências locais. Se o [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] tem referências locais, recompilar todas as páginas [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] com referências locais.</span><span class="sxs-lookup"><span data-stu-id="f30cb-198">If [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is declared as `Page` in the project: if the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] does not have locally defined type references, recompile that [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] plus all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages with local references; if the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] has local references, recompile all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages with local references.</span></span>  
  
    -   <span data-ttu-id="f30cb-199">Se [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] é declarado como `ApplicationDefinition` no projeto: recompilar todas as [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] páginas (motivo: cada [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] tem referência a um <xref:System.Windows.Application> tipo que pode ter sido alterado).</span><span class="sxs-lookup"><span data-stu-id="f30cb-199">If [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is declared as `ApplicationDefinition` in the project: recompile all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages (reason: each [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] has reference to an <xref:System.Windows.Application> type that may have changed).</span></span>  
  
-   <span data-ttu-id="f30cb-200">Se o arquivo de projeto declara um arquivo de código como definição de aplicativo em vez de um arquivo [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="f30cb-200">If the project file declares a code file as application definition instead of a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file:</span></span>  
  
    -   <span data-ttu-id="f30cb-201">Verifique se o valor `ApplicationClassName` no arquivo de projeto foi alterado (existe um novo tipo de aplicativo?).</span><span class="sxs-lookup"><span data-stu-id="f30cb-201">Check if the `ApplicationClassName` value in the project file has changed (is there a new application type?).</span></span> <span data-ttu-id="f30cb-202">Em caso afirmativo, recompilar o aplicativo inteiro.</span><span class="sxs-lookup"><span data-stu-id="f30cb-202">If so, recompile the entire application.</span></span>  
  
    -   <span data-ttu-id="f30cb-203">Caso contrário, recompilar todas as páginas [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] com referências locais.</span><span class="sxs-lookup"><span data-stu-id="f30cb-203">Otherwise, recompile all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages with local references.</span></span>  
  
-   <span data-ttu-id="f30cb-204">Se um arquivo de projeto for alterado: aplique todas as regras anteriores e veja o que precisa ser recompilado.</span><span class="sxs-lookup"><span data-stu-id="f30cb-204">If a project file changes: apply all preceding rules and see what needs to be recompiled.</span></span> <span data-ttu-id="f30cb-205">As alterações nas seguintes propriedades disparam uma recompilação completa: `AssemblyName`, `IntermediateOutputPath`, `RootNamespace` e `HostInBrowser`.</span><span class="sxs-lookup"><span data-stu-id="f30cb-205">Changes to the following properties trigger a complete recompile: `AssemblyName`, `IntermediateOutputPath`, `RootNamespace`, and `HostInBrowser`.</span></span>  
  
 <span data-ttu-id="f30cb-206">Os seguintes cenários de recompilação são possíveis:</span><span class="sxs-lookup"><span data-stu-id="f30cb-206">The following recompile scenarios are possible:</span></span>  
  
-   <span data-ttu-id="f30cb-207">Todo o aplicativo é recompilado.</span><span class="sxs-lookup"><span data-stu-id="f30cb-207">The entire application is recompiled.</span></span>  
  
-   <span data-ttu-id="f30cb-208">Somente os arquivos [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] que têm referências de tipo definidas localmente são recompilados.</span><span class="sxs-lookup"><span data-stu-id="f30cb-208">Only those [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files that have locally defined type references are recompiled.</span></span>  
  
-   <span data-ttu-id="f30cb-209">Nada é recompilado (se nada no projeto tiver sido alterado).</span><span class="sxs-lookup"><span data-stu-id="f30cb-209">Nothing is recompiled (if nothing in the project has changed).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f30cb-210">Consulte também</span><span class="sxs-lookup"><span data-stu-id="f30cb-210">See also</span></span>

- [<span data-ttu-id="f30cb-211">Implantar um aplicativo WPF</span><span class="sxs-lookup"><span data-stu-id="f30cb-211">Deploying a WPF Application</span></span>](deploying-a-wpf-application-wpf.md)
- [<span data-ttu-id="f30cb-212">Referência do WPF MSBuild</span><span class="sxs-lookup"><span data-stu-id="f30cb-212">WPF MSBuild Reference</span></span>](/visualstudio/msbuild/wpf-msbuild-reference)
- [<span data-ttu-id="f30cb-213">URIs "pack://" no WPF</span><span class="sxs-lookup"><span data-stu-id="f30cb-213">Pack URIs in WPF</span></span>](pack-uris-in-wpf.md)
- [<span data-ttu-id="f30cb-214">Arquivos de recurso, conteúdo e dados do aplicativo WPF</span><span class="sxs-lookup"><span data-stu-id="f30cb-214">WPF Application Resource, Content, and Data Files</span></span>](wpf-application-resource-content-and-data-files.md)
