---
title: Visão geral da renderização de gráficos
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- graphics [WPF], rendering
- rendering graphics [WPF]
ms.assetid: 6dec9657-4d8c-4e46-8c54-40fb80008265
ms.openlocfilehash: c82b2c4599f14f55b51587407a7d96b3e2be9d5f
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/12/2020
ms.locfileid: "79186600"
---
# <a name="wpf-graphics-rendering-overview"></a><span data-ttu-id="8725d-102">Visão geral de renderização de gráficos do WPF</span><span class="sxs-lookup"><span data-stu-id="8725d-102">WPF Graphics Rendering Overview</span></span>
<span data-ttu-id="8725d-103">Este tópico fornece uma visão geral da camada visual do [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8725d-103">This topic provides an overview of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] visual layer.</span></span> <span data-ttu-id="8725d-104">Foca-se no papel <xref:System.Windows.Media.Visual> da classe para [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] dar suporte no modelo.</span><span class="sxs-lookup"><span data-stu-id="8725d-104">It focuses on the role of the <xref:System.Windows.Media.Visual> class for rendering support in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] model.</span></span>  

<a name="role_of_visual_object"></a>
## <a name="role-of-the-visual-object"></a><span data-ttu-id="8725d-105">Função do objeto visual</span><span class="sxs-lookup"><span data-stu-id="8725d-105">Role of the Visual Object</span></span>  
 <span data-ttu-id="8725d-106">A <xref:System.Windows.Media.Visual> classe é a abstração <xref:System.Windows.FrameworkElement> básica da qual cada objeto deriva.</span><span class="sxs-lookup"><span data-stu-id="8725d-106">The <xref:System.Windows.Media.Visual> class is the basic abstraction from which every <xref:System.Windows.FrameworkElement> object derives.</span></span> <span data-ttu-id="8725d-107">Ela também serve como o ponto de entrada para escrever novos controles em [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] e, de muitas formas, pode ser pensada como o HWND (identificador de janela) no modelo de aplicativo Win32.</span><span class="sxs-lookup"><span data-stu-id="8725d-107">It also serves as the entry point for writing new controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], and in many ways can be thought of as the window handle (HWND) in the Win32 application model.</span></span>  
  
 <span data-ttu-id="8725d-108">O <xref:System.Windows.Media.Visual> objeto é [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] um objeto central, cuja função principal é fornecer suporte de renderização.</span><span class="sxs-lookup"><span data-stu-id="8725d-108">The <xref:System.Windows.Media.Visual> object is a core [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] object, whose primary role is to provide rendering support.</span></span> <span data-ttu-id="8725d-109">Controles de interface do <xref:System.Windows.Controls.Button> <xref:System.Windows.Controls.TextBox>usuário, como <xref:System.Windows.Media.Visual> e , derivam da classe, e usá-lo para persistir seus dados de renderização.</span><span class="sxs-lookup"><span data-stu-id="8725d-109">User interface controls, such as <xref:System.Windows.Controls.Button> and <xref:System.Windows.Controls.TextBox>, derive from the <xref:System.Windows.Media.Visual> class, and use it for persisting their rendering data.</span></span> <span data-ttu-id="8725d-110">O <xref:System.Windows.Media.Visual> objeto fornece suporte para:</span><span class="sxs-lookup"><span data-stu-id="8725d-110">The <xref:System.Windows.Media.Visual> object provides support for:</span></span>  
  
- <span data-ttu-id="8725d-111">Exibição de saída: renderização do conteúdo de desenho persistentes e serializado de um visual.</span><span class="sxs-lookup"><span data-stu-id="8725d-111">Output display: Rendering the persisted, serialized drawing content of a visual.</span></span>  
  
- <span data-ttu-id="8725d-112">Transformações: Realizando transformações em um visual.</span><span class="sxs-lookup"><span data-stu-id="8725d-112">Transformations: Performing transformations on a visual.</span></span>  
  
- <span data-ttu-id="8725d-113">Recorte: dar suporte à área de recorte para um visual.</span><span class="sxs-lookup"><span data-stu-id="8725d-113">Clipping: Providing clipping region support for a visual.</span></span>  
  
- <span data-ttu-id="8725d-114">Teste de clique: determinar se uma coordenada ou geometria está contida dentro dos limites de um visual.</span><span class="sxs-lookup"><span data-stu-id="8725d-114">Hit testing: Determining whether a coordinate or geometry is contained within the bounds of a visual.</span></span>  
  
- <span data-ttu-id="8725d-115">Cálculos de caixa delimitadora: determinar o retângulo delimitador de um visual.</span><span class="sxs-lookup"><span data-stu-id="8725d-115">Bounding box calculations: Determining the bounding rectangle of a visual.</span></span>  
  
 <span data-ttu-id="8725d-116">No entanto, o <xref:System.Windows.Media.Visual> objeto não inclui suporte para recursos de não renderização, tais como:</span><span class="sxs-lookup"><span data-stu-id="8725d-116">However, the <xref:System.Windows.Media.Visual> object does not include support for non-rendering features, such as:</span></span>  
  
- <span data-ttu-id="8725d-117">Manipulação de eventos</span><span class="sxs-lookup"><span data-stu-id="8725d-117">Event handling</span></span>  
  
- <span data-ttu-id="8725d-118">Layout</span><span class="sxs-lookup"><span data-stu-id="8725d-118">Layout</span></span>  
  
- <span data-ttu-id="8725d-119">Estilos</span><span class="sxs-lookup"><span data-stu-id="8725d-119">Styles</span></span>  
  
- <span data-ttu-id="8725d-120">Associação de dados</span><span class="sxs-lookup"><span data-stu-id="8725d-120">Data binding</span></span>  
  
- <span data-ttu-id="8725d-121">Globalização</span><span class="sxs-lookup"><span data-stu-id="8725d-121">Globalization</span></span>  
  
 <span data-ttu-id="8725d-122"><xref:System.Windows.Media.Visual>é exposta como uma classe abstrata pública da qual as classes infantis devem ser derivadas.</span><span class="sxs-lookup"><span data-stu-id="8725d-122"><xref:System.Windows.Media.Visual> is exposed as a public abstract class from which child classes must be derived.</span></span> <span data-ttu-id="8725d-123">A ilustração a seguir mostra a hierarquia dos objetos visuais que são expostos no [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8725d-123">The following illustration shows the hierarchy of the visual objects that are exposed in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
 ![Diagrama de classes derivadas do objeto visual](./media/wpf-graphics-rendering-overview/classes-derived-visual-object.png)
  
### <a name="drawingvisual-class"></a><span data-ttu-id="8725d-125">Classe DrawingVisual</span><span class="sxs-lookup"><span data-stu-id="8725d-125">DrawingVisual Class</span></span>  
 <span data-ttu-id="8725d-126">A <xref:System.Windows.Media.DrawingVisual> é uma classe de desenho leve que é usada para renderizar formas, imagens ou texto.</span><span class="sxs-lookup"><span data-stu-id="8725d-126">The <xref:System.Windows.Media.DrawingVisual> is a lightweight drawing class that is used to render shapes, images, or text.</span></span> <span data-ttu-id="8725d-127">Essa classe é considerada leve porque não fornece layout ou manipulação de eventos, o que melhora o desempenho de runtime.</span><span class="sxs-lookup"><span data-stu-id="8725d-127">This class is considered lightweight because it does not provide layout or event handling, which improves its runtime performance.</span></span> <span data-ttu-id="8725d-128">Por esse motivo, desenhos são ideais para telas de fundo e clip-art.</span><span class="sxs-lookup"><span data-stu-id="8725d-128">For this reason, drawings are ideal for backgrounds and clip art.</span></span> <span data-ttu-id="8725d-129">O <xref:System.Windows.Media.DrawingVisual> pode ser usado para criar um objeto visual personalizado.</span><span class="sxs-lookup"><span data-stu-id="8725d-129">The <xref:System.Windows.Media.DrawingVisual> can be used to create a custom visual object.</span></span> <span data-ttu-id="8725d-130">Para obter mais informações, consulte [Usando objetos DrawingVisual](using-drawingvisual-objects.md).</span><span class="sxs-lookup"><span data-stu-id="8725d-130">For more information, see [Using DrawingVisual Objects](using-drawingvisual-objects.md).</span></span>  
  
### <a name="viewport3dvisual-class"></a><span data-ttu-id="8725d-131">Classe Viewport3DVisual</span><span class="sxs-lookup"><span data-stu-id="8725d-131">Viewport3DVisual Class</span></span>  
 <span data-ttu-id="8725d-132">O <xref:System.Windows.Media.Media3D.Viewport3DVisual> fornece uma ponte <xref:System.Windows.Media.Visual> <xref:System.Windows.Media.Media3D.Visual3D> entre 2D e objetos.</span><span class="sxs-lookup"><span data-stu-id="8725d-132">The <xref:System.Windows.Media.Media3D.Viewport3DVisual> provides a bridge between 2D <xref:System.Windows.Media.Visual> and <xref:System.Windows.Media.Media3D.Visual3D> objects.</span></span> <span data-ttu-id="8725d-133">A <xref:System.Windows.Media.Media3D.Visual3D> classe é a classe base para todos os elementos visuais 3D.</span><span class="sxs-lookup"><span data-stu-id="8725d-133">The <xref:System.Windows.Media.Media3D.Visual3D> class is the base class for all 3D visual elements.</span></span> <span data-ttu-id="8725d-134">As <xref:System.Windows.Media.Media3D.Viewport3DVisual> obrigações que <xref:System.Windows.Media.Media3D.Viewport3DVisual.Camera%2A> você <xref:System.Windows.Media.Media3D.Viewport3DVisual.Viewport%2A> define um valor e um valor.</span><span class="sxs-lookup"><span data-stu-id="8725d-134">The <xref:System.Windows.Media.Media3D.Viewport3DVisual> requires that you define a <xref:System.Windows.Media.Media3D.Viewport3DVisual.Camera%2A> value and a <xref:System.Windows.Media.Media3D.Viewport3DVisual.Viewport%2A> value.</span></span> <span data-ttu-id="8725d-135">A câmera permite que você exiba a cena.</span><span class="sxs-lookup"><span data-stu-id="8725d-135">The camera allows you to view the scene.</span></span> <span data-ttu-id="8725d-136">O visor estabelece o local para o qual a projeção é mapeada na superfície 2D.</span><span class="sxs-lookup"><span data-stu-id="8725d-136">The viewport establishes where the projection maps onto the 2D surface.</span></span> <span data-ttu-id="8725d-137">Para obter mais informações sobre 3D em [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], consulte [Visão geral de elementos gráficos 3D](3-d-graphics-overview.md).</span><span class="sxs-lookup"><span data-stu-id="8725d-137">For more information on 3D in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [3-D Graphics Overview](3-d-graphics-overview.md).</span></span>  
  
### <a name="containervisual-class"></a><span data-ttu-id="8725d-138">Classe ContainerVisual</span><span class="sxs-lookup"><span data-stu-id="8725d-138">ContainerVisual Class</span></span>  
 <span data-ttu-id="8725d-139">A <xref:System.Windows.Media.ContainerVisual> classe é usada como recipiente <xref:System.Windows.Media.Visual> para uma coleção de objetos.</span><span class="sxs-lookup"><span data-stu-id="8725d-139">The <xref:System.Windows.Media.ContainerVisual> class is used as a container for a collection of <xref:System.Windows.Media.Visual> objects.</span></span> <span data-ttu-id="8725d-140">A <xref:System.Windows.Media.DrawingVisual> classe deriva <xref:System.Windows.Media.ContainerVisual> da classe, permitindo que contenha uma coleção de objetos visuais.</span><span class="sxs-lookup"><span data-stu-id="8725d-140">The <xref:System.Windows.Media.DrawingVisual> class derives from the <xref:System.Windows.Media.ContainerVisual> class, allowing it to contain a collection of visual objects.</span></span>  
  
### <a name="drawing-content-in-visual-objects"></a><span data-ttu-id="8725d-141">Desenhar conteúdo em objetos visuais</span><span class="sxs-lookup"><span data-stu-id="8725d-141">Drawing Content in Visual Objects</span></span>  
 <span data-ttu-id="8725d-142">Um <xref:System.Windows.Media.Visual> objeto armazena seus dados de renderização como uma **lista de instrução de gráficos vetoriais**.</span><span class="sxs-lookup"><span data-stu-id="8725d-142">A <xref:System.Windows.Media.Visual> object stores its render data as a **vector graphics instruction list**.</span></span> <span data-ttu-id="8725d-143">Cada item na lista de instruções representa um conjunto de baixo nível de dados gráficos e recursos associados em um formato serializado.</span><span class="sxs-lookup"><span data-stu-id="8725d-143">Each item in the instruction list represents a low-level set of graphics data and associated resources in a serialized format.</span></span> <span data-ttu-id="8725d-144">Há quatro tipos diferentes de dados de renderização que podem conter conteúdo de desenho.</span><span class="sxs-lookup"><span data-stu-id="8725d-144">There are four different types of render data that can contain drawing content.</span></span>  
  
|<span data-ttu-id="8725d-145">Tipo de conteúdo de desenho</span><span class="sxs-lookup"><span data-stu-id="8725d-145">Drawing content type</span></span>|<span data-ttu-id="8725d-146">Descrição</span><span class="sxs-lookup"><span data-stu-id="8725d-146">Description</span></span>|  
|--------------------------|-----------------|  
|<span data-ttu-id="8725d-147">Gráficos vetoriais</span><span class="sxs-lookup"><span data-stu-id="8725d-147">Vector graphics</span></span>|<span data-ttu-id="8725d-148">Representa dados gráficos vetoriais <xref:System.Windows.Media.Pen> e quaisquer informações associadas. <xref:System.Windows.Media.Brush></span><span class="sxs-lookup"><span data-stu-id="8725d-148">Represents vector graphics data, and any associated <xref:System.Windows.Media.Brush> and <xref:System.Windows.Media.Pen> information.</span></span>|  
|<span data-ttu-id="8725d-149">Imagem</span><span class="sxs-lookup"><span data-stu-id="8725d-149">Image</span></span>|<span data-ttu-id="8725d-150">Representa uma imagem dentro de <xref:System.Windows.Rect>uma região definida por um .</span><span class="sxs-lookup"><span data-stu-id="8725d-150">Represents an image within a region defined by a <xref:System.Windows.Rect>.</span></span>|  
|<span data-ttu-id="8725d-151">Glifo</span><span class="sxs-lookup"><span data-stu-id="8725d-151">Glyph</span></span>|<span data-ttu-id="8725d-152">Representa um desenho que <xref:System.Windows.Media.GlyphRun>renderiza um , que é uma seqüência de glifos de um recurso de fonte especificado.</span><span class="sxs-lookup"><span data-stu-id="8725d-152">Represents a drawing that renders a <xref:System.Windows.Media.GlyphRun>, which is a sequence of glyphs from a specified font resource.</span></span> <span data-ttu-id="8725d-153">Este é o modo pelo qual o texto é representado.</span><span class="sxs-lookup"><span data-stu-id="8725d-153">This is how text is represented.</span></span>|  
|<span data-ttu-id="8725d-154">Vídeo</span><span class="sxs-lookup"><span data-stu-id="8725d-154">Video</span></span>|<span data-ttu-id="8725d-155">Representa um desenho que renderiza vídeo.</span><span class="sxs-lookup"><span data-stu-id="8725d-155">Represents a drawing that renders video.</span></span>|  
  
 <span data-ttu-id="8725d-156">O <xref:System.Windows.Media.DrawingContext> permite que <xref:System.Windows.Media.Visual> você preencha um com conteúdo visual.</span><span class="sxs-lookup"><span data-stu-id="8725d-156">The <xref:System.Windows.Media.DrawingContext> allows you to populate a <xref:System.Windows.Media.Visual> with visual content.</span></span> <span data-ttu-id="8725d-157">Quando você <xref:System.Windows.Media.DrawingContext> usa os comandos de desenho de um objeto, você está realmente armazenando um conjunto de dados de renderização que mais tarde serão usados pelo sistema gráfico; você não está desenhando para a tela em tempo real.</span><span class="sxs-lookup"><span data-stu-id="8725d-157">When you use a <xref:System.Windows.Media.DrawingContext> object's draw commands, you are actually storing a set of render data that will later be used by the graphics system; you are not drawing to the screen in real-time.</span></span>  
  
 <span data-ttu-id="8725d-158">Quando você [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] cria um controle, como a <xref:System.Windows.Controls.Button>, o controle gera implicitamente dados de renderização para desenhar-se.</span><span class="sxs-lookup"><span data-stu-id="8725d-158">When you create a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] control, such as a <xref:System.Windows.Controls.Button>, the control implicitly generates render data for drawing itself.</span></span> <span data-ttu-id="8725d-159">Por exemplo, <xref:System.Windows.Controls.ContentControl.Content%2A> definir a <xref:System.Windows.Controls.Button> propriedade das causas do controle para armazenar uma representação de renderização de um glifo.</span><span class="sxs-lookup"><span data-stu-id="8725d-159">For example, setting the <xref:System.Windows.Controls.ContentControl.Content%2A> property of the <xref:System.Windows.Controls.Button> causes the control to store a rendering representation of a glyph.</span></span>  
  
 <span data-ttu-id="8725d-160">A <xref:System.Windows.Media.Visual> descreve seu conteúdo como <xref:System.Windows.Media.Drawing> um ou <xref:System.Windows.Media.DrawingGroup>mais objetos contidos dentro de um .</span><span class="sxs-lookup"><span data-stu-id="8725d-160">A <xref:System.Windows.Media.Visual> describes its content as one or more <xref:System.Windows.Media.Drawing> objects contained within a <xref:System.Windows.Media.DrawingGroup>.</span></span> <span data-ttu-id="8725d-161">A <xref:System.Windows.Media.DrawingGroup> também descreve máscaras de opacidade, transformações, efeitos de bitmap e outras operações que são aplicadas ao seu conteúdo.</span><span class="sxs-lookup"><span data-stu-id="8725d-161">A <xref:System.Windows.Media.DrawingGroup> also describes opacity masks, transforms, bitmap effects, and other operations that are applied to its contents.</span></span> <span data-ttu-id="8725d-162"><xref:System.Windows.Media.DrawingGroup>as operações são aplicadas na seguinte <xref:System.Windows.Media.DrawingGroup.OpacityMask%2A>ordem <xref:System.Windows.Media.DrawingGroup.Opacity%2A> <xref:System.Windows.Media.DrawingGroup.BitmapEffect%2A>quando <xref:System.Windows.Media.DrawingGroup.ClipGeometry%2A> <xref:System.Windows.Media.DrawingGroup.GuidelineSet%2A>o conteúdo <xref:System.Windows.Media.DrawingGroup.Transform%2A>é renderizado: , , , , e depois .</span><span class="sxs-lookup"><span data-stu-id="8725d-162"><xref:System.Windows.Media.DrawingGroup> operations are applied in the following order when content is rendered: <xref:System.Windows.Media.DrawingGroup.OpacityMask%2A>, <xref:System.Windows.Media.DrawingGroup.Opacity%2A>, <xref:System.Windows.Media.DrawingGroup.BitmapEffect%2A>, <xref:System.Windows.Media.DrawingGroup.ClipGeometry%2A>, <xref:System.Windows.Media.DrawingGroup.GuidelineSet%2A>, and then <xref:System.Windows.Media.DrawingGroup.Transform%2A>.</span></span>  
  
 <span data-ttu-id="8725d-163">A ilustração a seguir <xref:System.Windows.Media.DrawingGroup> mostra a ordem em que as operações são aplicadas durante a seqüência de renderização.</span><span class="sxs-lookup"><span data-stu-id="8725d-163">The following illustration shows the order in which <xref:System.Windows.Media.DrawingGroup> operations are applied during the rendering sequence.</span></span>  
  
 <span data-ttu-id="8725d-164">![Ordem das operações do DrawingGroup](./media/graphcismm-drawinggroup-order.png "graphcismm_drawinggroup_order")</span><span class="sxs-lookup"><span data-stu-id="8725d-164">![DrawingGroup order of operations](./media/graphcismm-drawinggroup-order.png "graphcismm_drawinggroup_order")</span></span>  
<span data-ttu-id="8725d-165">Ordem das operações do DrawingGroup</span><span class="sxs-lookup"><span data-stu-id="8725d-165">Order of DrawingGroup operations</span></span>  
  
 <span data-ttu-id="8725d-166">Para obter mais informações, consulte a [Visão geral de objetos de desenho](drawing-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="8725d-166">For more information, see [Drawing Objects Overview](drawing-objects-overview.md).</span></span>  
  
#### <a name="drawing-content-at-the-visual-layer"></a><span data-ttu-id="8725d-167">Conteúdo de desenho na camada visual</span><span class="sxs-lookup"><span data-stu-id="8725d-167">Drawing Content at the Visual Layer</span></span>  
 <span data-ttu-id="8725d-168">Você nunca instancia diretamente um; <xref:System.Windows.Media.DrawingContext> você pode, no entanto, adquirir um contexto <xref:System.Windows.Media.DrawingGroup.Open%2A?displayProperty=nameWithType> <xref:System.Windows.Media.DrawingVisual.RenderOpen%2A?displayProperty=nameWithType>de desenho a partir de certos métodos, tais como e .</span><span class="sxs-lookup"><span data-stu-id="8725d-168">You never directly instantiate a <xref:System.Windows.Media.DrawingContext>; you can, however, acquire a drawing context from certain methods, such as <xref:System.Windows.Media.DrawingGroup.Open%2A?displayProperty=nameWithType> and <xref:System.Windows.Media.DrawingVisual.RenderOpen%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="8725d-169">O exemplo a <xref:System.Windows.Media.DrawingContext> seguir <xref:System.Windows.Media.DrawingVisual> recupera um de a e usa-o para desenhar um retângulo.</span><span class="sxs-lookup"><span data-stu-id="8725d-169">The following example retrieves a <xref:System.Windows.Media.DrawingContext> from a <xref:System.Windows.Media.DrawingVisual> and uses it to draw a rectangle.</span></span>  
  
 [!code-csharp[drawingvisualsample#101](~/samples/snippets/csharp/VS_Snippets_Wpf/DrawingVisualSample/CSharp/Window1.xaml.cs#101)]
 [!code-vb[drawingvisualsample#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DrawingVisualSample/visualbasic/window1.xaml.vb#101)]  
  
#### <a name="enumerating-drawing-content-at-the-visual-layer"></a><span data-ttu-id="8725d-170">Enumerar conteúdo de desenho na camada visual</span><span class="sxs-lookup"><span data-stu-id="8725d-170">Enumerating Drawing Content at the Visual Layer</span></span>  
 <span data-ttu-id="8725d-171">Além de seus outros <xref:System.Windows.Media.Drawing> usos, os objetos também fornecem <xref:System.Windows.Media.Visual>um modelo de objeto para enumerar o conteúdo de a .</span><span class="sxs-lookup"><span data-stu-id="8725d-171">In addition to their other uses, <xref:System.Windows.Media.Drawing> objects also provide an object model for enumerating the contents of a <xref:System.Windows.Media.Visual>.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="8725d-172">Quando você está enumerando o conteúdo do <xref:System.Windows.Media.Drawing> visual, você está recuperando objetos, e não a representação subjacente dos dados de renderização como uma lista de instrução de gráficos vetoriais.</span><span class="sxs-lookup"><span data-stu-id="8725d-172">When you are enumerating the contents of the visual, you are retrieving <xref:System.Windows.Media.Drawing> objects, and not the underlying representation of the render data as a vector graphics instruction list.</span></span>  
  
 <span data-ttu-id="8725d-173">O exemplo a <xref:System.Windows.Media.VisualTreeHelper.GetDrawing%2A> seguir usa <xref:System.Windows.Media.DrawingGroup> o <xref:System.Windows.Media.Visual> método para recuperar o valor de a eenumerar-lo.</span><span class="sxs-lookup"><span data-stu-id="8725d-173">The following example uses the <xref:System.Windows.Media.VisualTreeHelper.GetDrawing%2A> method to retrieve the <xref:System.Windows.Media.DrawingGroup> value of a <xref:System.Windows.Media.Visual> and enumerate it.</span></span>  
  
 [!code-csharp[DrawingMiscSnippets_snip#GraphicsMMRetrieveDrawings](~/samples/snippets/csharp/VS_Snippets_Wpf/DrawingMiscSnippets_snip/CSharp/EnumerateDrawingsExample.xaml.cs#graphicsmmretrievedrawings)]  
  
<a name="how_visual_objects_are_used_to_build_controls"></a>
## <a name="how-visual-objects-are-used-to-build-controls"></a><span data-ttu-id="8725d-174">Como objetos visuais são usados para compilar controles</span><span class="sxs-lookup"><span data-stu-id="8725d-174">How Visual Objects are Used to Build Controls</span></span>  
 <span data-ttu-id="8725d-175">Muitos dos objetos no [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] são compostos de outros objetos visuais, o que significa que eles podem conter diversas hierarquias de objetos descendentes.</span><span class="sxs-lookup"><span data-stu-id="8725d-175">Many of the objects in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] are composed of other visual objects, meaning they can contain varying hierarchies of descendant objects.</span></span> <span data-ttu-id="8725d-176">Muitos dos elementos da interface do usuário no [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], tais como controles, são compostos de múltiplos objetos visuais que representam diferentes tipos de elementos de renderização.</span><span class="sxs-lookup"><span data-stu-id="8725d-176">Many of the user interface elements in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], such as controls, are composed of multiple visual objects, representing different types of rendering elements.</span></span> <span data-ttu-id="8725d-177">Por exemplo, <xref:System.Windows.Controls.Button> o controle pode conter uma <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> <xref:System.Windows.Controls.ContentPresenter>série <xref:System.Windows.Controls.TextBlock>de outros objetos, incluindo , e .</span><span class="sxs-lookup"><span data-stu-id="8725d-177">For example, the <xref:System.Windows.Controls.Button> control can contain a number of other objects, including <xref:Microsoft.Windows.Themes.ClassicBorderDecorator>, <xref:System.Windows.Controls.ContentPresenter>, and <xref:System.Windows.Controls.TextBlock>.</span></span>  
  
 <span data-ttu-id="8725d-178">O código a <xref:System.Windows.Controls.Button> seguir mostra um controle definido na marcação.</span><span class="sxs-lookup"><span data-stu-id="8725d-178">The following code shows a <xref:System.Windows.Controls.Button> control defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet1](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet1)]  
  
 <span data-ttu-id="8725d-179">Se você enumerar os objetos visuais <xref:System.Windows.Controls.Button> que compõem o controle padrão, você encontraria a hierarquia de objetos visuais ilustrada abaixo:</span><span class="sxs-lookup"><span data-stu-id="8725d-179">If you were to enumerate the visual objects that comprise the default <xref:System.Windows.Controls.Button> control, you would find the hierarchy of visual objects illustrated below:</span></span>  
  
 ![Diagrama de hierarquia de árvore visual](./media/wpf-graphics-rendering-overview/visual-object-diagram.gif)
  
 <span data-ttu-id="8725d-181">O <xref:System.Windows.Controls.Button> controle <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> contém um elemento, que <xref:System.Windows.Controls.ContentPresenter> por sua vez, contém um elemento.</span><span class="sxs-lookup"><span data-stu-id="8725d-181">The <xref:System.Windows.Controls.Button> control contains a <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element, which in turn, contains a <xref:System.Windows.Controls.ContentPresenter> element.</span></span> <span data-ttu-id="8725d-182">O <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> elemento é responsável por desenhar uma <xref:System.Windows.Controls.Button>borda e um fundo para o .</span><span class="sxs-lookup"><span data-stu-id="8725d-182">The <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element is responsible for drawing a border and a background for the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="8725d-183">O <xref:System.Windows.Controls.ContentPresenter> elemento é responsável por exibir <xref:System.Windows.Controls.Button>o conteúdo do .</span><span class="sxs-lookup"><span data-stu-id="8725d-183">The <xref:System.Windows.Controls.ContentPresenter> element is responsible for displaying the contents of the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="8725d-184">Neste caso, uma vez que você <xref:System.Windows.Controls.ContentPresenter> está <xref:System.Windows.Controls.TextBlock> exibindo texto, o elemento contém um elemento.</span><span class="sxs-lookup"><span data-stu-id="8725d-184">In this case, since you are displaying text, the <xref:System.Windows.Controls.ContentPresenter> element contains a <xref:System.Windows.Controls.TextBlock> element.</span></span> <span data-ttu-id="8725d-185">O fato <xref:System.Windows.Controls.Button> de o <xref:System.Windows.Controls.ContentPresenter> controle usar um meio que o conteúdo <xref:System.Windows.Controls.Image> poderia ser representado por <xref:System.Windows.Media.EllipseGeometry>outros elementos, como uma ou uma geometria, como um .</span><span class="sxs-lookup"><span data-stu-id="8725d-185">The fact that the <xref:System.Windows.Controls.Button> control uses a <xref:System.Windows.Controls.ContentPresenter> means that the content could be represented by other elements, such as an <xref:System.Windows.Controls.Image> or a geometry, such as an <xref:System.Windows.Media.EllipseGeometry>.</span></span>  
  
### <a name="control-templates"></a><span data-ttu-id="8725d-186">Modelos de controle</span><span class="sxs-lookup"><span data-stu-id="8725d-186">Control Templates</span></span>  
 <span data-ttu-id="8725d-187">A chave para a expansão de um controle <xref:System.Windows.Controls.ControlTemplate>em uma hierarquia de controles é o .</span><span class="sxs-lookup"><span data-stu-id="8725d-187">The key to the expansion of a control into a hierarchy of controls is the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="8725d-188">Um modelo de controle especifica a hierarquia visual de um controle.</span><span class="sxs-lookup"><span data-stu-id="8725d-188">A control template specifies the default visual hierarchy for a control.</span></span> <span data-ttu-id="8725d-189">Quando você referencia um controle explicitamente, você referencia implicitamente sua hierarquia visual.</span><span class="sxs-lookup"><span data-stu-id="8725d-189">When you explicitly reference a control, you implicitly reference its visual hierarchy.</span></span> <span data-ttu-id="8725d-190">Você pode substituir os valores padrão de um modelo de controle para criar uma aparência visual personalizada para um controle.</span><span class="sxs-lookup"><span data-stu-id="8725d-190">You can override the default values for a control template to create a customized visual appearance for a control.</span></span> <span data-ttu-id="8725d-191">Por exemplo, você pode modificar o <xref:System.Windows.Controls.Button> valor de cor de fundo do controle para que ele use um valor de cor gradiente linear em vez de um valor de cor sólido.</span><span class="sxs-lookup"><span data-stu-id="8725d-191">For example, you could modify the background color value of the <xref:System.Windows.Controls.Button> control so that it uses a linear gradient color value instead of a solid color value.</span></span> <span data-ttu-id="8725d-192">Para obter mais informações, consulte [Estilos e modelos de botão](../controls/button-styles-and-templates.md).</span><span class="sxs-lookup"><span data-stu-id="8725d-192">For more information, see [Button Styles and Templates](../controls/button-styles-and-templates.md).</span></span>  
  
 <span data-ttu-id="8725d-193">Um elemento de interface <xref:System.Windows.Controls.Button> de usuário, como um controle, contém várias listas de instruções de gráficos vetoriais que descrevem toda a definição de renderização de um controle.</span><span class="sxs-lookup"><span data-stu-id="8725d-193">A user interface element, such as a <xref:System.Windows.Controls.Button> control, contains several vector graphics instruction lists that describe the entire rendering definition of a control.</span></span> <span data-ttu-id="8725d-194">O código a <xref:System.Windows.Controls.Button> seguir mostra um controle definido na marcação.</span><span class="sxs-lookup"><span data-stu-id="8725d-194">The following code shows a <xref:System.Windows.Controls.Button> control defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet2](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet2)]  
  
 <span data-ttu-id="8725d-195">Se você enumerar os objetos visuais e as <xref:System.Windows.Controls.Button> listas de instruções de gráficos vetoriais que compõem o controle, você encontraria a hierarquia de objetos ilustrada abaixo:</span><span class="sxs-lookup"><span data-stu-id="8725d-195">If you were to enumerate the visual objects and vector graphics instruction lists that comprise the <xref:System.Windows.Controls.Button> control, you would find the hierarchy of objects illustrated below:</span></span>  
  
 ![Diagrama de árvore visual e dados de renderização](./media/wpf-graphics-rendering-overview/visual-tree-rendering-data.png)  
  
 <span data-ttu-id="8725d-197">O <xref:System.Windows.Controls.Button> controle <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> contém um elemento, que <xref:System.Windows.Controls.ContentPresenter> por sua vez, contém um elemento.</span><span class="sxs-lookup"><span data-stu-id="8725d-197">The <xref:System.Windows.Controls.Button> control contains a <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element, which in turn, contains a <xref:System.Windows.Controls.ContentPresenter> element.</span></span> <span data-ttu-id="8725d-198">O <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> elemento é responsável por desenhar todos os elementos gráficos discretos que compõem a borda e o fundo de um botão.</span><span class="sxs-lookup"><span data-stu-id="8725d-198">The <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> element is responsible for drawing all the discrete graphic elements that make up the border and background of a button.</span></span> <span data-ttu-id="8725d-199">O <xref:System.Windows.Controls.ContentPresenter> elemento é responsável por exibir <xref:System.Windows.Controls.Button>o conteúdo do .</span><span class="sxs-lookup"><span data-stu-id="8725d-199">The <xref:System.Windows.Controls.ContentPresenter> element is responsible for displaying the contents of the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="8725d-200">Neste caso, uma vez que você <xref:System.Windows.Controls.ContentPresenter> está exibindo <xref:System.Windows.Controls.Image> uma imagem, o elemento contém um elemento.</span><span class="sxs-lookup"><span data-stu-id="8725d-200">In this case, since you are displaying an image, the <xref:System.Windows.Controls.ContentPresenter> element contains a <xref:System.Windows.Controls.Image> element.</span></span>  
  
 <span data-ttu-id="8725d-201">Há diversos pontos a observar sobre a hierarquia de objetos visuais e listas de instruções de gráficos vetoriais:</span><span class="sxs-lookup"><span data-stu-id="8725d-201">There are a number of points to note about the hierarchy of visual objects and vector graphics instruction lists:</span></span>  
  
- <span data-ttu-id="8725d-202">A ordem na hierarquia representa a ordem de renderização das informações de desenho.</span><span class="sxs-lookup"><span data-stu-id="8725d-202">The ordering in the hierarchy represents the rendering order of the drawing information.</span></span> <span data-ttu-id="8725d-203">Do elemento visual raiz, a ordem de renderização passa pelos elementos filho da esquerda para a direita, de cima para baixo.</span><span class="sxs-lookup"><span data-stu-id="8725d-203">From the root visual element, child elements are traversed, left to right, top to bottom.</span></span> <span data-ttu-id="8725d-204">Se um determinado elemento tem elementos visuais filho, a ordem de renderização passa por eles antes de passar pelos irmãos desse elemento.</span><span class="sxs-lookup"><span data-stu-id="8725d-204">If an element has visual child elements, they are traversed before the element’s siblings.</span></span>  
  
- <span data-ttu-id="8725d-205">Elementos de nó não folha na <xref:System.Windows.Controls.ContentPresenter>hierarquia, como , são usados para conter elementos de criança - eles não contêm listas de instruções.</span><span class="sxs-lookup"><span data-stu-id="8725d-205">Non-leaf node elements in the hierarchy, such as <xref:System.Windows.Controls.ContentPresenter>, are used to contain child elements—they do not contain instruction lists.</span></span>  
  
- <span data-ttu-id="8725d-206">Se um elemento visual contém uma lista de instruções de gráfico vetorial e filhos visuais, a lista de instruções no elemento visual pai é renderizada antes de desenhos em qualquer um dos objetos filho visuais.</span><span class="sxs-lookup"><span data-stu-id="8725d-206">If a visual element contains both a vector graphics instruction list and visual children, the instruction list in the parent visual element is rendered before drawings in any of the visual child objects.</span></span>  
  
- <span data-ttu-id="8725d-207">Os itens na lista de instruções de gráficos vetoriais são renderizados da esquerda para a direita.</span><span class="sxs-lookup"><span data-stu-id="8725d-207">The items in the vector graphics instruction list are rendered left to right.</span></span>  
  
<a name="visual_tree"></a>
## <a name="visual-tree"></a><span data-ttu-id="8725d-208">Árvore visual</span><span class="sxs-lookup"><span data-stu-id="8725d-208">Visual Tree</span></span>  
 <span data-ttu-id="8725d-209">A árvore visual contém todos os elementos visuais usados na interface do usuário de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8725d-209">The visual tree contains all visual elements used in an application's user interface.</span></span> <span data-ttu-id="8725d-210">Já que um elemento visual contém informações de desenho persistentes, você pode pensar na árvore visual como um grafo de cena, contendo todas as informações de renderização necessárias para compor a saída para o dispositivo de vídeo.</span><span class="sxs-lookup"><span data-stu-id="8725d-210">Since a visual element contains persisted drawing information, you can think of the visual tree as a scene graph, containing all the rendering information needed to compose the output to the display device.</span></span> <span data-ttu-id="8725d-211">Esta árvore é o acúmulo de todos os elementos visuais criados diretamente pelo aplicativo, seja no código ou em marcação.</span><span class="sxs-lookup"><span data-stu-id="8725d-211">This tree is the accumulation of all visual elements created directly by the application, whether in code or in markup.</span></span> <span data-ttu-id="8725d-212">A árvore visual também contém todos os elementos visuais criados pela expansão de modelo de elementos tais como controles e objetos de dados.</span><span class="sxs-lookup"><span data-stu-id="8725d-212">The visual tree also contains all visual elements created by the template expansion of elements such as controls and data objects.</span></span>  
  
 <span data-ttu-id="8725d-213">O código a <xref:System.Windows.Controls.StackPanel> seguir mostra um elemento definido na marcação.</span><span class="sxs-lookup"><span data-stu-id="8725d-213">The following code shows a <xref:System.Windows.Controls.StackPanel> element defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet3](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet3)]  
  
 <span data-ttu-id="8725d-214">Se você enumerar os objetos <xref:System.Windows.Controls.StackPanel> visuais que compõem o elemento no exemplo de marcação, você encontraria a hierarquia de objetos visuais ilustrada abaixo:</span><span class="sxs-lookup"><span data-stu-id="8725d-214">If you were to enumerate the visual objects that comprise the <xref:System.Windows.Controls.StackPanel> element in the markup example, you would find the hierarchy of visual objects illustrated below:</span></span>  
  
 ![Diagrama de hierarquia de árvore visual](./media/wpf-graphics-rendering-overview/visual-tree-hierarchy.gif)  
  
### <a name="rendering-order"></a><span data-ttu-id="8725d-216">Ordem de renderização</span><span class="sxs-lookup"><span data-stu-id="8725d-216">Rendering Order</span></span>  
 <span data-ttu-id="8725d-217">A árvore visual determina a ordem de renderização de objetos visuais e de desenho do [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8725d-217">The visual tree determines the rendering order of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] visual and drawing objects.</span></span> <span data-ttu-id="8725d-218">A ordem de passagem inicia com o visual raiz, que é o nó mais alto na árvore visual.</span><span class="sxs-lookup"><span data-stu-id="8725d-218">The order of traversal starts with the root visual, which is the top-most node in the visual tree.</span></span> <span data-ttu-id="8725d-219">Em seguida, passa-se pelos filhos do visual raiz, da esquerda para a direita.</span><span class="sxs-lookup"><span data-stu-id="8725d-219">The root visual’s children are then traversed, left to right.</span></span> <span data-ttu-id="8725d-220">Se um visual tiver filhos, a passagem por eles ocorrerá primeiro do que a passagem pelos irmãos do visual.</span><span class="sxs-lookup"><span data-stu-id="8725d-220">If a visual has children, its children are traversed before the visual’s siblings.</span></span> <span data-ttu-id="8725d-221">Isso significa que o conteúdo de um visual filho é renderizado na frente do conteúdo do próprio visual.</span><span class="sxs-lookup"><span data-stu-id="8725d-221">This means that the content of a child visual is rendered in front of the visual's own content.</span></span>  
  
 ![Diagrama da ordem de renderização da árvore visual](./media/wpf-graphics-rendering-overview/visual-tree-rendering-order.gif)
  
### <a name="root-visual"></a><span data-ttu-id="8725d-223">Visual raiz</span><span class="sxs-lookup"><span data-stu-id="8725d-223">Root Visual</span></span>  
 <span data-ttu-id="8725d-224">O **visual raiz** é o elemento mais alto em uma hierarquia de árvore visual.</span><span class="sxs-lookup"><span data-stu-id="8725d-224">The **root visual** is the top-most element in a visual tree hierarchy.</span></span> <span data-ttu-id="8725d-225">Na maioria das aplicações, a classe base <xref:System.Windows.Window> <xref:System.Windows.Navigation.NavigationWindow>do visual raiz é ou .</span><span class="sxs-lookup"><span data-stu-id="8725d-225">In most applications, the base class of the root visual is either <xref:System.Windows.Window> or <xref:System.Windows.Navigation.NavigationWindow>.</span></span> <span data-ttu-id="8725d-226">No entanto, se você estivesse hospedando objetos visuais em um aplicativo Win32, o visual raiz seria o visual mais alto que você estivesse hospedando na janela Win32.</span><span class="sxs-lookup"><span data-stu-id="8725d-226">However, if you were hosting visual objects in a Win32 application, the root visual would be the top-most visual you were hosting in the Win32 window.</span></span> <span data-ttu-id="8725d-227">Para obter mais informações, consulte [Tutorial: hospedando objetos visuais em um aplicativo Win32](tutorial-hosting-visual-objects-in-a-win32-application.md).</span><span class="sxs-lookup"><span data-stu-id="8725d-227">For more information, see [Tutorial: Hosting Visual Objects in a Win32 Application](tutorial-hosting-visual-objects-in-a-win32-application.md).</span></span>  
  
### <a name="relationship-to-the-logical-tree"></a><span data-ttu-id="8725d-228">Relacionamento com a árvore lógica</span><span class="sxs-lookup"><span data-stu-id="8725d-228">Relationship to the Logical Tree</span></span>  
 <span data-ttu-id="8725d-229">A árvore lógica no [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] representa os elementos de um aplicativo em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="8725d-229">The logical tree in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] represents the elements of an application at run time.</span></span> <span data-ttu-id="8725d-230">Embora você não manipule esta árvore diretamente, essa exibição do aplicativo é útil para entender a herança de propriedades e o roteamento de eventos.</span><span class="sxs-lookup"><span data-stu-id="8725d-230">Although you do not manipulate this tree directly, this view of the application is useful for understanding property inheritance and event routing.</span></span> <span data-ttu-id="8725d-231">Ao contrário da árvore visual, a árvore lógica pode <xref:System.Windows.Documents.ListItem>representar objetos de dados não visuais, tais como .</span><span class="sxs-lookup"><span data-stu-id="8725d-231">Unlike the visual tree, the logical tree can represent non-visual data objects, such as <xref:System.Windows.Documents.ListItem>.</span></span> <span data-ttu-id="8725d-232">Em muitos casos, a árvore lógica mapeia de modo muito próximo às definições de marcação de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8725d-232">In many cases, the logical tree maps very closely to an application's markup definitions.</span></span> <span data-ttu-id="8725d-233">O código a <xref:System.Windows.Controls.DockPanel> seguir mostra um elemento definido na marcação.</span><span class="sxs-lookup"><span data-stu-id="8725d-233">The following code shows a <xref:System.Windows.Controls.DockPanel> element defined in markup.</span></span>  
  
 [!code-xaml[VisualsOverview#VisualsOverviewSnippet5](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml#visualsoverviewsnippet5)]  
  
 <span data-ttu-id="8725d-234">Se você enumerar os objetos <xref:System.Windows.Controls.DockPanel> lógicos que compõem o elemento no exemplo de marcação, você encontraria a hierarquia de objetos lógicos ilustradas abaixo:</span><span class="sxs-lookup"><span data-stu-id="8725d-234">If you were to enumerate the logical objects that comprise the <xref:System.Windows.Controls.DockPanel> element in the markup example, you would find the hierarchy of logical objects illustrated below:</span></span>  
  
 <span data-ttu-id="8725d-235">![Diagrama de árvore](./media/tree1-wcp.gif "Tree1_wcp")</span><span class="sxs-lookup"><span data-stu-id="8725d-235">![Tree diagram](./media/tree1-wcp.gif "Tree1_wcp")</span></span>  
<span data-ttu-id="8725d-236">Diagrama de árvore lógica</span><span class="sxs-lookup"><span data-stu-id="8725d-236">Diagram of logical tree</span></span>  
  
 <span data-ttu-id="8725d-237">A árvore visual e a árvore lógica são sincronizadas com o conjunto atual de elementos do aplicativo, refletindo qualquer adição, exclusão ou modificação de elementos.</span><span class="sxs-lookup"><span data-stu-id="8725d-237">Both the visual tree and logical tree are synchronized with the current set of application elements, reflecting any addition, deletion, or modification of elements.</span></span> <span data-ttu-id="8725d-238">No entanto, as árvores apresentam diferentes exibições do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8725d-238">However, the trees present different views of the application.</span></span> <span data-ttu-id="8725d-239">Ao contrário da árvore visual, a árvore <xref:System.Windows.Controls.ContentPresenter> lógica não expande o elemento de um controle.</span><span class="sxs-lookup"><span data-stu-id="8725d-239">Unlike the visual tree, the logical tree does not expand a control's <xref:System.Windows.Controls.ContentPresenter> element.</span></span> <span data-ttu-id="8725d-240">Isso significa que não há uma correspondência um para um direta entre uma árvore lógica e uma árvore visual para o mesmo conjunto de objetos.</span><span class="sxs-lookup"><span data-stu-id="8725d-240">This means there is not a direct one-to-one correspondence between a logical tree and a visual tree for the same set of objects.</span></span> <span data-ttu-id="8725d-241">Na verdade, invocar o método do <xref:System.Windows.LogicalTreeHelper.GetChildren%2A> objeto **LogicalTreeHelper** e o <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A> método do objeto **VisualTreeHelper** usando o mesmo elemento que um parâmetro produz resultados diferentes.</span><span class="sxs-lookup"><span data-stu-id="8725d-241">In fact, invoking the **LogicalTreeHelper** object's <xref:System.Windows.LogicalTreeHelper.GetChildren%2A> method and the **VisualTreeHelper** object's <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A> method using the same element as a parameter yields differing results.</span></span>  
  
 <span data-ttu-id="8725d-242">Para obter mais informações sobre a árvore lógica, consulte [Árvores no WPF](../advanced/trees-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="8725d-242">For more information on the logical tree, see [Trees in WPF](../advanced/trees-in-wpf.md).</span></span>  
  
### <a name="viewing-the-visual-tree-with-xamlpad"></a><span data-ttu-id="8725d-243">Exibindo a árvore visual com XamlPad</span><span class="sxs-lookup"><span data-stu-id="8725d-243">Viewing the Visual Tree with XamlPad</span></span>  
 <span data-ttu-id="8725d-244">A [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ferramenta, XamlPad, oferece uma opção para visualizar e explorar a árvore visual que corresponde ao conteúdo XAML atualmente definido.</span><span class="sxs-lookup"><span data-stu-id="8725d-244">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] tool, XamlPad, provides an option for viewing and exploring the visual tree that corresponds to the currently defined XAML content.</span></span> <span data-ttu-id="8725d-245">Clique no botão **Mostrar Árvore Visual** na barra de menus para exibir a árvore visual.</span><span class="sxs-lookup"><span data-stu-id="8725d-245">Click the **Show Visual Tree** button on the menu bar to display the visual tree.</span></span> <span data-ttu-id="8725d-246">O seguinte ilustra a expansão do conteúdo XAML em nós de árvore visuais no painel **Visual Tree Explorer** do XamlPad:</span><span class="sxs-lookup"><span data-stu-id="8725d-246">The following illustrates the expansion of XAML content into visual tree nodes in the **Visual Tree Explorer** panel of XamlPad:</span></span>  
  
 ![Painel Gerenciador de Árvore Visual no XamlPad](./media/wpf-graphics-rendering-overview/visual-tree-explorer.png)  

 <span data-ttu-id="8725d-248">Observe como <xref:System.Windows.Controls.Label> <xref:System.Windows.Controls.TextBox>o <xref:System.Windows.Controls.Button> , e controla cada um exibir uma hierarquia de objeto visual separado no painel **Visual Tree Explorer** do XamlPad.</span><span class="sxs-lookup"><span data-stu-id="8725d-248">Notice how the <xref:System.Windows.Controls.Label>, <xref:System.Windows.Controls.TextBox>, and <xref:System.Windows.Controls.Button> controls each display a separate visual object hierarchy in the **Visual Tree Explorer** panel of XamlPad.</span></span> <span data-ttu-id="8725d-249">Isso porque [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] os controles <xref:System.Windows.Controls.ControlTemplate> têm uma árvore visual desse controle.</span><span class="sxs-lookup"><span data-stu-id="8725d-249">This is because [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls have a <xref:System.Windows.Controls.ControlTemplate> that contains the visual tree of that control.</span></span> <span data-ttu-id="8725d-250">Quando você referencia um controle explicitamente, você referencia implicitamente sua hierarquia visual.</span><span class="sxs-lookup"><span data-stu-id="8725d-250">When you explicitly reference a control, you implicitly reference its visual hierarchy.</span></span>  
  
### <a name="profiling-visual-performance"></a><span data-ttu-id="8725d-251">Criação de perfil de desempenho Visual</span><span class="sxs-lookup"><span data-stu-id="8725d-251">Profiling Visual Performance</span></span>  
 <span data-ttu-id="8725d-252">O [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] fornece um pacote de ferramentas de criação de perfil de desempenho que permitem analisar o comportamento de tempo de execução do aplicativo e determinar os tipos de otimização de desempenho que você pode aplicar.</span><span class="sxs-lookup"><span data-stu-id="8725d-252">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] provides a suite of performance profiling tools that allow you to analyze the run-time behavior of your application and determine the types of performance optimizations you can apply.</span></span> <span data-ttu-id="8725d-253">A ferramenta Visual Profiler fornece uma exibição gráfica sofisticada de dados de desempenho, por meio do mapeamento diretamente para a árvore visual do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8725d-253">The Visual Profiler tool provides a rich, graphical view of performance data by mapping directly to the application's visual tree.</span></span> <span data-ttu-id="8725d-254">Nessa tela, a seção **Uso de CPU** do Visual Profiler lhe dá um detalhamento preciso do uso de um objeto de serviços do [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], assim como renderização e layout.</span><span class="sxs-lookup"><span data-stu-id="8725d-254">In this screenshot, the **CPU Usage** section of the Visual Profiler gives you a precise breakdown of an object's use of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] services, such as rendering and layout.</span></span>  
  
 <span data-ttu-id="8725d-255">![Saída de exibição do Visual Profiler](./media/wpfperf-visualprofiler-04.png "WPFPerf_VisualProfiler_04")</span><span class="sxs-lookup"><span data-stu-id="8725d-255">![Visual Profiler display output](./media/wpfperf-visualprofiler-04.png "WPFPerf_VisualProfiler_04")</span></span>  
<span data-ttu-id="8725d-256">Saída de exibição do Visual Profiler</span><span class="sxs-lookup"><span data-stu-id="8725d-256">Visual Profiler display output</span></span>  
  
<a name="visual_rendering_behavior"></a>
## <a name="visual-rendering-behavior"></a><span data-ttu-id="8725d-257">Comportamento de renderização visual</span><span class="sxs-lookup"><span data-stu-id="8725d-257">Visual Rendering Behavior</span></span>  
 <span data-ttu-id="8725d-258">O [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] introduz diversos recursos que afetam o comportamento de renderização de objetos visuais: gráficos de modo retido, gráficos vetoriais e gráficos independentes de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="8725d-258">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] introduces several features that affect the rendering behavior of visual objects: retained mode graphics, vector graphics, and device independent graphics.</span></span>  
  
### <a name="retained-mode-graphics"></a><span data-ttu-id="8725d-259">Gráficos de modo retido</span><span class="sxs-lookup"><span data-stu-id="8725d-259">Retained Mode Graphics</span></span>  
 <span data-ttu-id="8725d-260">Uma das chaves para entender o papel do objeto Visual é entender a diferença entre sistemas gráficos de **modo imediato** e de **modo retido**.</span><span class="sxs-lookup"><span data-stu-id="8725d-260">One of the keys to understanding the role of the Visual object is to understand the difference between **immediate mode** and **retained mode** graphics systems.</span></span> <span data-ttu-id="8725d-261">Um aplicativo Win32 padrão baseado em GDI ou GDI+ utiliza um sistema gráfico de modo imediato.</span><span class="sxs-lookup"><span data-stu-id="8725d-261">A standard Win32 application based on GDI or GDI+ uses an immediate mode graphics system.</span></span> <span data-ttu-id="8725d-262">Isso significa que o aplicativo é responsável por repintar a parte da área de cliente que for invalidada, devido a uma ação como um redimensionamento de janela ou a alteração da aparência visual de um objeto.</span><span class="sxs-lookup"><span data-stu-id="8725d-262">This means that the application is responsible for repainting the portion of the client area that is invalidated, due to an action such as a window being resized, or an object changing its visual appearance.</span></span>  
  
 ![Diagrama de sequência de renderização Win32](./media/wpf-graphics-rendering-overview/win32-rendering-squence.png)  
  
 <span data-ttu-id="8725d-264">Por outro lado, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] usa um sistema de modo retido.</span><span class="sxs-lookup"><span data-stu-id="8725d-264">In contrast, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses a retained mode system.</span></span> <span data-ttu-id="8725d-265">Isso significa que os objetos de aplicativo que têm uma aparência visual definem um conjunto de dados de desenho serializados.</span><span class="sxs-lookup"><span data-stu-id="8725d-265">This means application objects that have a visual appearance define a set of serialized drawing data.</span></span> <span data-ttu-id="8725d-266">A partir do momento em que os dados de desenho são definidos, o sistema torna-se responsável por responder a todas as solicitações de repintura para renderizar os objetos de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8725d-266">Once the drawing data is defined, the system is responsible thereafter for responding to all repaint requests for rendering the application objects.</span></span> <span data-ttu-id="8725d-267">Mesmo em tempo de execução, você pode modificar ou criar objetos de aplicativo e, ainda assim, contar com o sistema para responder às solicitações e pintura.</span><span class="sxs-lookup"><span data-stu-id="8725d-267">Even at run time, you can modify or create application objects, and still rely on the system for responding to paint requests.</span></span> <span data-ttu-id="8725d-268">O poder existente em um sistema gráfico de modo retido é que informações de desenho sempre são persistentes em um estado serializado pelo aplicativo, mas a responsabilidade pela renderização é deixada para o sistema.</span><span class="sxs-lookup"><span data-stu-id="8725d-268">The power in a retained mode graphics system is that drawing information is always persisted in a serialized state by the application, but rendering responsibility left to the system.</span></span> <span data-ttu-id="8725d-269">O diagrama a seguir mostra como o aplicativo depende do [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] para responder a solicitações de pintura.</span><span class="sxs-lookup"><span data-stu-id="8725d-269">The following diagram shows how the application relies on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] for responding to paint requests.</span></span>  
  
 ![Diagrama de sequência de renderização do WPF](./media/wpf-graphics-rendering-overview/wpf-rendering-sequence.png)  

#### <a name="intelligent-redrawing"></a><span data-ttu-id="8725d-271">Redesenho inteligente</span><span class="sxs-lookup"><span data-stu-id="8725d-271">Intelligent Redrawing</span></span>  
 <span data-ttu-id="8725d-272">Um dos maiores benefícios de usar gráficos de modo retido é que o [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] pode otimizar de forma eficiente o que precisa ser redesenhado no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8725d-272">One of the biggest benefits in using retained mode graphics is that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] can efficiently optimize what needs to be redrawn in the application.</span></span> <span data-ttu-id="8725d-273">Mesmo que você tenha uma cena complexa com diversos níveis de opacidade, você geralmente não precisa escrever código com propósito especial para otimizar o redesenho.</span><span class="sxs-lookup"><span data-stu-id="8725d-273">Even if you have a complex scene with varying levels of opacity, you generally do not need to write special-purpose code to optimize redrawing.</span></span> <span data-ttu-id="8725d-274">Compare isso com programação em Win32, na qual você pode despender uma grande quantidade de esforço para otimizar seu aplicativo por meio da minimização da quantidade de redesenho na região de atualização.</span><span class="sxs-lookup"><span data-stu-id="8725d-274">Compare this with Win32 programming in which you can spend a great deal of effort in optimizing your application by minimizing the amount of redrawing in the update region.</span></span> <span data-ttu-id="8725d-275">Consulte [Redesenho na região de atualização](/windows/desktop/gdi/redrawing-in-the-update-region) para obter um exemplo do tipo de complexidade envolvida na otimização de redesenho em aplicativos Win32.</span><span class="sxs-lookup"><span data-stu-id="8725d-275">See [Redrawing in the Update Region](/windows/desktop/gdi/redrawing-in-the-update-region) for an example of the type of complexity involved in optimizing redrawing in Win32 applications.</span></span>  
  
### <a name="vector-graphics"></a><span data-ttu-id="8725d-276">Gráficos vetoriais</span><span class="sxs-lookup"><span data-stu-id="8725d-276">Vector Graphics</span></span>  
 <span data-ttu-id="8725d-277">O [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] usa **gráficos vetoriais** como seu formato de dados de renderização.</span><span class="sxs-lookup"><span data-stu-id="8725d-277">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses **vector graphics** as its rendering data format.</span></span> <span data-ttu-id="8725d-278">Gráficos vetoriais – que incluem SVG (Scalable Vector Graphics), metarquivos do Windows (.wmf) e fontes TrueType – armazenam dados de renderização e transmitem-nos como uma lista de instruções que descrevem como recriar uma imagem usando primitivos gráficos.</span><span class="sxs-lookup"><span data-stu-id="8725d-278">Vector graphics—which include Scalable Vector Graphics (SVG), Windows metafiles (.wmf), and TrueType fonts—store rendering data and transmit it as a list of instructions that describe how to recreate an image using graphics primitives.</span></span> <span data-ttu-id="8725d-279">Por exemplo, fontes TrueType são fontes geométricas que descrevem um conjunto de linhas, curvas e comandos, em vez de uma matriz de pixels.</span><span class="sxs-lookup"><span data-stu-id="8725d-279">For example, TrueType fonts are outline fonts that describe a set of lines, curves, and commands, rather than an array of pixels.</span></span> <span data-ttu-id="8725d-280">Um dos principais benefícios dos gráficos vetoriais é a capacidade de dimensionar para qualquer tamanho e resolução.</span><span class="sxs-lookup"><span data-stu-id="8725d-280">One of the key benefits of vector graphics is the ability to scale to any size and resolution.</span></span>  
  
 <span data-ttu-id="8725d-281">Diferente de gráficos vetoriais, gráficos de bitmap armazenam dados de renderização como uma representação pixel por pixel de uma imagem, pré-renderizada para uma determinada resolução.</span><span class="sxs-lookup"><span data-stu-id="8725d-281">Unlike vector graphics, bitmap graphics store rendering data as a pixel-by-pixel representation of an image, pre-rendered for a specific resolution.</span></span> <span data-ttu-id="8725d-282">Uma das principais diferenças entre formatos de gráficos de bitmap e vetoriais é a fidelidade à imagem original.</span><span class="sxs-lookup"><span data-stu-id="8725d-282">One of the key differences between bitmap and vector graphic formats is fidelity to the original source image.</span></span> <span data-ttu-id="8725d-283">Por exemplo, quando o tamanho de uma imagem de origem é modificado, sistemas de gráficos de bitmap alongam a imagem, ao passo que sistemas de gráficos vetoriais redimensionam a imagem, preservando sua fidelidade.</span><span class="sxs-lookup"><span data-stu-id="8725d-283">For example, when the size of a source image is modified, bitmap graphics systems stretch the image, whereas vector graphics systems scale the image, preserving the image fidelity.</span></span>  
  
 <span data-ttu-id="8725d-284">A ilustração a seguir mostra uma imagem original que foi redimensionada em 300%.</span><span class="sxs-lookup"><span data-stu-id="8725d-284">The following illustration shows a source image that has been resized by 300%.</span></span> <span data-ttu-id="8725d-285">Observe as distorções que aparecem quando a imagem original é alongada como uma imagem de bitmap em vez de uma imagem de gráficos vetoriais.</span><span class="sxs-lookup"><span data-stu-id="8725d-285">Notice the distortions that appear when the source image is stretched as a bitmap graphics image rather than scaled as a vector graphics image.</span></span>  
  
 ![Diferenças entre grafos rasterizados e vetoriais](./media/wpf-graphics-rendering-overview/raster-vector-differences.png)  
  
 <span data-ttu-id="8725d-287">A marcação a <xref:System.Windows.Shapes.Path> seguir mostra dois elementos definidos.</span><span class="sxs-lookup"><span data-stu-id="8725d-287">The following markup shows two <xref:System.Windows.Shapes.Path> elements defined.</span></span> <span data-ttu-id="8725d-288">O segundo elemento <xref:System.Windows.Media.ScaleTransform> usa um para redimensionar as instruções de desenho do primeiro elemento em 300%.</span><span class="sxs-lookup"><span data-stu-id="8725d-288">The second element uses a <xref:System.Windows.Media.ScaleTransform> to resize the drawing instructions of the first element by 300%.</span></span> <span data-ttu-id="8725d-289">Observe que as instruções de desenho nos <xref:System.Windows.Shapes.Path> elementos permanecem inalteradas.</span><span class="sxs-lookup"><span data-stu-id="8725d-289">Notice that the drawing instructions in the <xref:System.Windows.Shapes.Path> elements remain unchanged.</span></span>  
  
 [!code-xaml[VectorGraphicsSnippets#VectorGraphicsSnippet1](~/samples/snippets/csharp/VS_Snippets_Wpf/VectorGraphicsSnippets/CS/PageOne.xaml#vectorgraphicssnippet1)]  
  
### <a name="about-resolution-and-device-independent-graphics"></a><span data-ttu-id="8725d-290">Sobre elementos gráficos independentes de resolução e de dispositivo</span><span class="sxs-lookup"><span data-stu-id="8725d-290">About Resolution and Device-Independent Graphics</span></span>  
 <span data-ttu-id="8725d-291">Há dois fatores de sistema que determinam o tamanho do texto e de elementos gráficos na sua tela: resolução e DPI.</span><span class="sxs-lookup"><span data-stu-id="8725d-291">There are two system factors that determine the size of text and graphics on your screen: resolution and DPI.</span></span> <span data-ttu-id="8725d-292">A resolução descreve o número de pixels que aparecem na tela.</span><span class="sxs-lookup"><span data-stu-id="8725d-292">Resolution describes the number of pixels that appear on the screen.</span></span> <span data-ttu-id="8725d-293">Conforme a resolução aumenta, os pixels ficam menores, fazendo com que elementos gráficos e texto apareçam menores.</span><span class="sxs-lookup"><span data-stu-id="8725d-293">As the resolution gets higher, pixels get smaller, causing graphics and text to appear smaller.</span></span> <span data-ttu-id="8725d-294">Um elemento gráfico exibido em um monitor definido para 1024 x 768 aparecerá bem menor quando a resolução for alterada para 1600 x 1200.</span><span class="sxs-lookup"><span data-stu-id="8725d-294">A graphic displayed on a monitor set to 1024 x 768 will appear much smaller when the resolution is changed to 1600 x 1200.</span></span>  
  
 <span data-ttu-id="8725d-295">A configuração de sistema, DPI, descreve o tamanho de uma polegada de tela em pixels.</span><span class="sxs-lookup"><span data-stu-id="8725d-295">The other system setting, DPI, describes the size of a screen inch in pixels.</span></span> <span data-ttu-id="8725d-296">A maioria dos sistemas Windows tem um DPI de 96, o que significa que uma polegada de tela é de 96 pixels.</span><span class="sxs-lookup"><span data-stu-id="8725d-296">Most Windows systems have a DPI of 96, which means a screen inch is 96 pixels.</span></span> <span data-ttu-id="8725d-297">Aumentar a configuração de DPI torna a polegada de tela maior; diminuir o DPI torna a polegada de tela menor.</span><span class="sxs-lookup"><span data-stu-id="8725d-297">Increasing the DPI setting makes the screen inch larger; decreasing the DPI makes the screen inch smaller.</span></span> <span data-ttu-id="8725d-298">Isso significa que uma polegada de tela não é do mesmo tamanho que uma polegada real; na maioria dos sistemas, provavelmente não é.</span><span class="sxs-lookup"><span data-stu-id="8725d-298">This means that a screen inch isn't the same size as a real-world inch; on most systems, it's probably not.</span></span> <span data-ttu-id="8725d-299">Conforme você aumenta o DPI, texto e gráficos com reconhecimento de DPI se tornam maiores porque você aumentou o tamanho da polegada de tela.</span><span class="sxs-lookup"><span data-stu-id="8725d-299">As you increase the DPI, DPI-aware graphics and text become larger because you've increased the size of the screen inch.</span></span> <span data-ttu-id="8725d-300">Aumentar o DPI pode tornar o texto mais fácil de ler, especialmente em resoluções altas.</span><span class="sxs-lookup"><span data-stu-id="8725d-300">Increasing the DPI can make text easier to read, especially at high resolutions.</span></span>  
  
 <span data-ttu-id="8725d-301">Nem todos os aplicativos realizam reconhecimento de DPI: alguns utilizam pixels de hardware como a unidade principal de medida; alterar o DPI do sistema não tem nenhum efeito nesses aplicativos.</span><span class="sxs-lookup"><span data-stu-id="8725d-301">Not all applications are DPI-aware: some use hardware pixels as the primary unit of measurement; changing the system DPI has no effect on these applications.</span></span> <span data-ttu-id="8725d-302">Muitos outros aplicativos usam unidades com reconhecimento de DPI para descrever os tamanhos da fonte, mas utilizam pixels para descrever todo o resto.</span><span class="sxs-lookup"><span data-stu-id="8725d-302">Many other applications use DPI-aware units to describe font sizes, but use pixels to describe everything else.</span></span> <span data-ttu-id="8725d-303">Tornar o DPI muito grande ou muito pequeno pode causar problemas de layout para esses aplicativos; o motivo disso é que o texto do aplicativo é dimensionado de acordo com a configuração de DPI do sistema, enquanto a interface do usuário não.</span><span class="sxs-lookup"><span data-stu-id="8725d-303">Making the DPI too small or too large can cause layout problems for these applications, because the applications' text scales with the system's DPI setting, but the applications' UI does not.</span></span> <span data-ttu-id="8725d-304">Esse problema foi eliminado de aplicativos desenvolvidos usando o [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8725d-304">This problem has been eliminated for applications developed using [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
 <span data-ttu-id="8725d-305">O [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] dá suporte ao dimensionamento automático usando o pixel independente de dispositivo como sua principal unidade de medida, em vez de pixels de hardware; texto e elementos gráficos são redimensionados adequadamente sem nenhum trabalho extra do desenvolvedor do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8725d-305">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] supports automatic scaling by using the device independent pixel as its primary unit of measurement, instead of hardware pixels; graphics and text scale properly without any extra work from the application developer.</span></span> <span data-ttu-id="8725d-306">A ilustração a seguir mostra um exemplo de como texto e elementos gráficos do [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] aparecem em diferentes configurações de DPI.</span><span class="sxs-lookup"><span data-stu-id="8725d-306">The following illustration shows an example of how [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] text and graphics are appear at different DPI settings.</span></span>  
  
 <span data-ttu-id="8725d-307">![Elementos gráficos e texto em diferentes configurações de DPI](./media/graphicsmm-dpi-setting-examples.png "graphicsmm_dpi_setting_examples")</span><span class="sxs-lookup"><span data-stu-id="8725d-307">![Graphics and text at different DPI settings](./media/graphicsmm-dpi-setting-examples.png "graphicsmm_dpi_setting_examples")</span></span>  
<span data-ttu-id="8725d-308">Elementos gráficos e texto em diferentes configurações de DPI</span><span class="sxs-lookup"><span data-stu-id="8725d-308">Graphics and text at different DPI settings</span></span>  
  
<a name="visualtreehelper_class"></a>
## <a name="visualtreehelper-class"></a><span data-ttu-id="8725d-309">Classe VisualTreeHelper</span><span class="sxs-lookup"><span data-stu-id="8725d-309">VisualTreeHelper Class</span></span>  
 <span data-ttu-id="8725d-310">A <xref:System.Windows.Media.VisualTreeHelper> classe é uma classe auxiliares estática que fornece funcionalidade de baixo nível para programação no nível do objeto visual, o que é útil em cenários muito específicos, como o desenvolvimento de controles personalizados de alto desempenho.</span><span class="sxs-lookup"><span data-stu-id="8725d-310">The <xref:System.Windows.Media.VisualTreeHelper> class is a static helper class that provides low-level functionality for programming at the visual object level, which is useful in very specific scenarios, such as developing high-performance custom controls.</span></span> <span data-ttu-id="8725d-311">Na maioria dos casos, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] os objetos <xref:System.Windows.Controls.Canvas> <xref:System.Windows.Controls.TextBlock>de estrutura de nível superior, como e , oferecem maior flexibilidade e facilidade de uso.</span><span class="sxs-lookup"><span data-stu-id="8725d-311">In most case, the higher-level [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] framework objects, such as <xref:System.Windows.Controls.Canvas> and <xref:System.Windows.Controls.TextBlock>, offer greater flexibility and ease of use.</span></span>  
  
### <a name="hit-testing"></a><span data-ttu-id="8725d-312">Testes de clique</span><span class="sxs-lookup"><span data-stu-id="8725d-312">Hit Testing</span></span>  
 <span data-ttu-id="8725d-313">A <xref:System.Windows.Media.VisualTreeHelper> classe fornece métodos para testes de acerto em objetos visuais quando o suporte padrão de teste de hit não atende às suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="8725d-313">The <xref:System.Windows.Media.VisualTreeHelper> class provides methods for hit testing on visual objects when the default hit test support does not meet your needs.</span></span> <span data-ttu-id="8725d-314">Você pode <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> usar os <xref:System.Windows.Media.VisualTreeHelper> métodos da classe para determinar se uma geometria ou valor de coordenada de ponto está dentro do limite de um determinado objeto, como um controle ou elemento gráfico.</span><span class="sxs-lookup"><span data-stu-id="8725d-314">You can use the <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> methods in the <xref:System.Windows.Media.VisualTreeHelper> class to determine whether a geometry or point coordinate value is within the boundary of a given object, such as a control or graphic element.</span></span> <span data-ttu-id="8725d-315">Por exemplo, você pode usar o teste de clique para determinar se um clique do mouse dentro do retângulo delimitador de um objeto está dentro da geometria de um círculo. Você também pode optar por substituir a implementação padrão de teste de clique para executar seus próprios cálculos de teste de clique personalizados.</span><span class="sxs-lookup"><span data-stu-id="8725d-315">For example, you could use hit testing to determine whether a mouse click within the bounding rectangle of an object falls within the geometry of a circle You can also choose to override the default implementation of hit testing to perform your own custom hit test calculations.</span></span>  
  
 <span data-ttu-id="8725d-316">Para obter mais informações sobre teste de clique, consulte [Teste de clique na camada visual](hit-testing-in-the-visual-layer.md).</span><span class="sxs-lookup"><span data-stu-id="8725d-316">For more information on hit testing, see [Hit Testing in the Visual Layer](hit-testing-in-the-visual-layer.md).</span></span>  
  
### <a name="enumerating-the-visual-tree"></a><span data-ttu-id="8725d-317">Enumerar a árvore Visual</span><span class="sxs-lookup"><span data-stu-id="8725d-317">Enumerating the Visual Tree</span></span>  
 <span data-ttu-id="8725d-318">A <xref:System.Windows.Media.VisualTreeHelper> classe oferece funcionalidade para enumerar os membros de uma árvore visual.</span><span class="sxs-lookup"><span data-stu-id="8725d-318">The <xref:System.Windows.Media.VisualTreeHelper> class provides functionality for enumerating the members of a visual tree.</span></span> <span data-ttu-id="8725d-319">Para recuperar um pai, ligue para o <xref:System.Windows.Media.VisualTreeHelper.GetParent%2A> método.</span><span class="sxs-lookup"><span data-stu-id="8725d-319">To retrieve a parent, call the <xref:System.Windows.Media.VisualTreeHelper.GetParent%2A> method.</span></span> <span data-ttu-id="8725d-320">Para recuperar uma criança, ou descendente direto, <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A> de um objeto visual, chame o método.</span><span class="sxs-lookup"><span data-stu-id="8725d-320">To retrieve a child, or direct descendant, of a visual object, call the <xref:System.Windows.Media.VisualTreeHelper.GetChild%2A> method.</span></span> <span data-ttu-id="8725d-321">Este método retorna <xref:System.Windows.Media.Visual> um filho do pai no índice especificado.</span><span class="sxs-lookup"><span data-stu-id="8725d-321">This method returns a child <xref:System.Windows.Media.Visual> of the parent at the specified index.</span></span>  
  
 <span data-ttu-id="8725d-322">O exemplo a seguir mostra como enumerar todos os descendentes de um objeto visual, que é uma técnica que talvez você queira usar caso esteja interessado em serializar a informação de renderização de uma hierarquia de objetos visuais.</span><span class="sxs-lookup"><span data-stu-id="8725d-322">The following example shows how to enumerate all the descendants of a visual object, which is a technique you might want to use if you were interested in serializing all the rendering information of a visual object hierarchy.</span></span>  
  
 [!code-csharp[VisualsOverview#101](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml.cs#101)]
 [!code-vb[VisualsOverview#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/VisualsOverview/visualbasic/window1.xaml.vb#101)]  
  
 <span data-ttu-id="8725d-323">Na maioria dos casos, a árvore lógica é uma representação mais útil dos elementos em um aplicativo [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8725d-323">In most cases, the logical tree is a more useful representation of the elements in a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application.</span></span> <span data-ttu-id="8725d-324">Embora você não modifique a árvore lógica diretamente, essa exibição do aplicativo é útil para entender a herança de propriedades e o roteamento de eventos.</span><span class="sxs-lookup"><span data-stu-id="8725d-324">Although you do not modify the logical tree directly, this view of the application is useful for understanding property inheritance and event routing.</span></span> <span data-ttu-id="8725d-325">Ao contrário da árvore visual, a árvore lógica pode <xref:System.Windows.Documents.ListItem>representar objetos de dados não visuais, tais como .</span><span class="sxs-lookup"><span data-stu-id="8725d-325">Unlike the visual tree, the logical tree can represent non-visual data objects, such as <xref:System.Windows.Documents.ListItem>.</span></span> <span data-ttu-id="8725d-326">Para obter mais informações sobre a árvore lógica, consulte [Árvores no WPF](../advanced/trees-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="8725d-326">For more information on the logical tree, see [Trees in WPF](../advanced/trees-in-wpf.md).</span></span>  
  
 <span data-ttu-id="8725d-327">A <xref:System.Windows.Media.VisualTreeHelper> classe fornece métodos para devolver o retângulo delimitador de objetos visuais.</span><span class="sxs-lookup"><span data-stu-id="8725d-327">The <xref:System.Windows.Media.VisualTreeHelper> class provides methods for returning the bounding rectangle of visual objects.</span></span> <span data-ttu-id="8725d-328">Você pode retornar o retângulo delimitador <xref:System.Windows.Media.VisualTreeHelper.GetContentBounds%2A>de um objeto visual chamando .</span><span class="sxs-lookup"><span data-stu-id="8725d-328">You can return the bounding rectangle of a visual object by calling <xref:System.Windows.Media.VisualTreeHelper.GetContentBounds%2A>.</span></span> <span data-ttu-id="8725d-329">Você pode retornar o retângulo delimitador de todos os descendentes de <xref:System.Windows.Media.VisualTreeHelper.GetDescendantBounds%2A>um objeto visual, incluindo o objeto visual em si, chamando .</span><span class="sxs-lookup"><span data-stu-id="8725d-329">You can return the bounding rectangle of all the descendants of a visual object, including the visual object itself, by calling <xref:System.Windows.Media.VisualTreeHelper.GetDescendantBounds%2A>.</span></span> <span data-ttu-id="8725d-330">O código a seguir mostra como você calcularia o retângulo delimitador de um objeto visual e todos os seus descendentes.</span><span class="sxs-lookup"><span data-stu-id="8725d-330">The following code shows how you would calculate the bounding rectangle of a visual object and all its descendants.</span></span>  
  
 [!code-csharp[VisualsOverview#102](~/samples/snippets/csharp/VS_Snippets_Wpf/VisualsOverview/CSharp/Window1.xaml.cs#102)]
 [!code-vb[VisualsOverview#102](~/samples/snippets/visualbasic/VS_Snippets_Wpf/VisualsOverview/visualbasic/window1.xaml.vb#102)]  
  
## <a name="see-also"></a><span data-ttu-id="8725d-331">Confira também</span><span class="sxs-lookup"><span data-stu-id="8725d-331">See also</span></span>

- <xref:System.Windows.Media.Visual>
- <xref:System.Windows.Media.VisualTreeHelper>
- <xref:System.Windows.Media.DrawingVisual>
- [<span data-ttu-id="8725d-332">Elementos gráficos e geração de imagens 2D</span><span class="sxs-lookup"><span data-stu-id="8725d-332">2D Graphics and Imaging</span></span>](../advanced/optimizing-performance-2d-graphics-and-imaging.md)
- [<span data-ttu-id="8725d-333">Teste de clique na camada visual</span><span class="sxs-lookup"><span data-stu-id="8725d-333">Hit Testing in the Visual Layer</span></span>](hit-testing-in-the-visual-layer.md)
- [<span data-ttu-id="8725d-334">Usando objetos DrawingVisual</span><span class="sxs-lookup"><span data-stu-id="8725d-334">Using DrawingVisual Objects</span></span>](using-drawingvisual-objects.md)
- [<span data-ttu-id="8725d-335">Tutorial: hospedando objetos visuais em um aplicativo Win32</span><span class="sxs-lookup"><span data-stu-id="8725d-335">Tutorial: Hosting Visual Objects in a Win32 Application</span></span>](tutorial-hosting-visual-objects-in-a-win32-application.md)
- [<span data-ttu-id="8725d-336">Otimizando o desempenho do aplicativo WPF</span><span class="sxs-lookup"><span data-stu-id="8725d-336">Optimizing WPF Application Performance</span></span>](../advanced/optimizing-wpf-application-performance.md)
