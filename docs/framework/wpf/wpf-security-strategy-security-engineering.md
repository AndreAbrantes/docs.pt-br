---
title: Estratégia de segurança do WPF - engenharia de segurança
ms.date: 03/30/2017
helpviewer_keywords:
- security [WPF], testing techniques
- Security Development Lifecycle (SDL), security analysis [WPF]
- Security Development Lifecycle (SDL), threat modeling
- Security Development Lifecycle (SDL), testing techniques
- Security Development Lifecycle (SDL), source analysis tools
- Security Development Lifecycle (SDL), critical code management
- threat modeling [WPF]
ms.assetid: 0fc04394-4e47-49ca-b0cf-8cd1161d95b9
ms.openlocfilehash: 60def26d21ff065bda3209ac90161af0672a38af
ms.sourcegitcommit: c93fd5139f9efcf6db514e3474301738a6d1d649
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/27/2018
ms.locfileid: "50181690"
---
# <a name="wpf-security-strategy---security-engineering"></a><span data-ttu-id="e33cd-102">Estratégia de segurança do WPF - engenharia de segurança</span><span class="sxs-lookup"><span data-stu-id="e33cd-102">WPF Security Strategy - Security Engineering</span></span>
<span data-ttu-id="e33cd-103">A Computação Confiável é uma iniciativa da Microsoft para garantir a produção de código seguro.</span><span class="sxs-lookup"><span data-stu-id="e33cd-103">Trustworthy Computing is a Microsoft initiative for ensuring the production of secure code.</span></span> <span data-ttu-id="e33cd-104">Um elemento chave da iniciativa Computação Confiável é o [!INCLUDE[TLA#tla_sdl](../../../includes/tlasharptla-sdl-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e33cd-104">A key element of the Trustworthy Computing initiative is the [!INCLUDE[TLA#tla_sdl](../../../includes/tlasharptla-sdl-md.md)].</span></span> <span data-ttu-id="e33cd-105">O [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)] é uma prática de engenharia que é usada em conjunto com processos de engenharia padrão para facilitar o fornecimento de código seguro.</span><span class="sxs-lookup"><span data-stu-id="e33cd-105">The [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)] is an engineering practice that is used in conjunction with standard engineering processes to facilitate the delivery of secure code.</span></span> <span data-ttu-id="e33cd-106">O [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)] consiste em dez fases que combinam melhores práticas com formalização, mensurabilidade e estruturas adicionais, incluindo:</span><span class="sxs-lookup"><span data-stu-id="e33cd-106">The [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)] consists of ten phases that combine best practices with formalization, measurability, and additional structure, including:</span></span>  
  
-   <span data-ttu-id="e33cd-107">Análise de projeto de segurança</span><span class="sxs-lookup"><span data-stu-id="e33cd-107">Security design analysis</span></span>  
  
-   <span data-ttu-id="e33cd-108">Verificações de qualidade baseadas em ferramenta</span><span class="sxs-lookup"><span data-stu-id="e33cd-108">Tool-based quality checks</span></span>  
  
-   <span data-ttu-id="e33cd-109">Testes de penetração</span><span class="sxs-lookup"><span data-stu-id="e33cd-109">Penetration testing</span></span>  
  
-   <span data-ttu-id="e33cd-110">Análise final de segurança</span><span class="sxs-lookup"><span data-stu-id="e33cd-110">Final security review</span></span>  
  
-   <span data-ttu-id="e33cd-111">Gerenciamento de segurança do produto pós-lançamento</span><span class="sxs-lookup"><span data-stu-id="e33cd-111">Post release product security management</span></span>  
  
## <a name="wpf-specifics"></a><span data-ttu-id="e33cd-112">Aspectos específicos do WPF</span><span class="sxs-lookup"><span data-stu-id="e33cd-112">WPF Specifics</span></span>  
 <span data-ttu-id="e33cd-113">A equipe de engenharia do [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] aplica e estende o [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)], a combinação dos quais inclui os seguintes aspectos principais:</span><span class="sxs-lookup"><span data-stu-id="e33cd-113">The [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] engineering team both applies and extends the [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)], the combination of which includes the following key aspects:</span></span>  
  
 [<span data-ttu-id="e33cd-114">Modelagem de ameaças</span><span class="sxs-lookup"><span data-stu-id="e33cd-114">Threat Modeling</span></span>](#threat_modeling)  
  
 [<span data-ttu-id="e33cd-115">Ferramentas de edição e análise de segurança</span><span class="sxs-lookup"><span data-stu-id="e33cd-115">Security Analysis and Editing Tools</span></span>](#tools)  
  
 [<span data-ttu-id="e33cd-116">Técnicas de teste</span><span class="sxs-lookup"><span data-stu-id="e33cd-116">Testing Techniques</span></span>](#techniques)  
  
 [<span data-ttu-id="e33cd-117">Gerenciamento de código crítico</span><span class="sxs-lookup"><span data-stu-id="e33cd-117">Critical Code Management</span></span>](#critical_code)  
  
<a name="threat_modeling"></a>   
### <a name="threat-modeling"></a><span data-ttu-id="e33cd-118">Modelagem de ameaças</span><span class="sxs-lookup"><span data-stu-id="e33cd-118">Threat Modeling</span></span>  
 <span data-ttu-id="e33cd-119">A modelagem de ameaças é um componente principal do [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)] e é usada para criar o perfil de um sistema para determinar potenciais vulnerabilidades de segurança.</span><span class="sxs-lookup"><span data-stu-id="e33cd-119">Threat modeling is a core component of the [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)], and is used to profile a system to determine potential security vulnerabilities.</span></span> <span data-ttu-id="e33cd-120">Após as vulnerabilidades serem identificadas, a modelagem de ameaças também garante que as atenuações apropriadas estejam em vigor.</span><span class="sxs-lookup"><span data-stu-id="e33cd-120">Once the vulnerabilities are identified, threat modeling also ensures that appropriate mitigations are in place.</span></span>  
  
 <span data-ttu-id="e33cd-121">De modo geral, a modelagem de ameaças envolve as seguintes etapas principais, usando uma mercearia como exemplo:</span><span class="sxs-lookup"><span data-stu-id="e33cd-121">At a high level, threat modeling involves the following key steps by using a grocery store as an example:</span></span>  
  
1.  <span data-ttu-id="e33cd-122">**Identificando ativos**.</span><span class="sxs-lookup"><span data-stu-id="e33cd-122">**Identifying Assets**.</span></span> <span data-ttu-id="e33cd-123">Os ativos de uma mercearia podem incluir funcionários, um cofre, caixas e o inventário.</span><span class="sxs-lookup"><span data-stu-id="e33cd-123">A grocery store's assets might include employees, a safe, cash registers, and inventory.</span></span>  
  
2.  <span data-ttu-id="e33cd-124">**Enumerando pontos de entrada**.</span><span class="sxs-lookup"><span data-stu-id="e33cd-124">**Enumerating Entry Points**.</span></span> <span data-ttu-id="e33cd-125">Os pontos de entrada de uma mercearia podem incluir as portas da frente e de trás, janelas, a estação de carga e as unidades de ar-condicionado.</span><span class="sxs-lookup"><span data-stu-id="e33cd-125">A grocery store's entry points might include the front and back doors, windows, the loading dock, and air conditioning units.</span></span>  
  
3.  <span data-ttu-id="e33cd-126">**Investigando ataques contra ativos usando pontos de entrada**.</span><span class="sxs-lookup"><span data-stu-id="e33cd-126">**Investigating Attacks against Assets using Entry Points**.</span></span> <span data-ttu-id="e33cd-127">Um possível ataque poderia ter como alvo o ativo *cofre* de uma mercearia por meio do ponto de entrada *ar-condicionado*; a unidade de ar-condicionado poderia ser removida para permitir que o cofre seja passado por ela e retirado da mercearia.</span><span class="sxs-lookup"><span data-stu-id="e33cd-127">One possible attack could target a grocery store's *safe* asset through the *air conditioning* entry point; the air conditioning unit could be unscrewed to allow the safe to be pulled up through it and out of the store.</span></span>  
  
 <span data-ttu-id="e33cd-128">A modelagem de ameaças é aplicada no [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] e inclui o seguinte:</span><span class="sxs-lookup"><span data-stu-id="e33cd-128">Threat modeling is applied throughout [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] and includes the following:</span></span>  
  
-   <span data-ttu-id="e33cd-129">Como o analisador [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] lê arquivos, mapeia texto para classes de modelo de objeto correspondentes e cria o código real.</span><span class="sxs-lookup"><span data-stu-id="e33cd-129">How the [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] parser reads files, maps text to corresponding object model classes, and creates the actual code.</span></span>  
  
-   <span data-ttu-id="e33cd-130">Como um identificador de janela (hWnd) é criado, envia mensagens e é usado para renderizar o conteúdo de uma janela.</span><span class="sxs-lookup"><span data-stu-id="e33cd-130">How a window handle (hWnd) is created, sends messages, and is used for rendering the contents of a window.</span></span>  
  
-   <span data-ttu-id="e33cd-131">Como a vinculação de dados obtém recursos e interage com o sistema.</span><span class="sxs-lookup"><span data-stu-id="e33cd-131">How data binding obtains resources and interacts with the system.</span></span>  
  
 <span data-ttu-id="e33cd-132">Esses modelos de ameaças são importantes para identificar requisitos de design de segurança e reduções de ameaças durante o processo de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="e33cd-132">These threat models are important for identifying security design requirements and threat mitigations during the development process.</span></span>  
  
<a name="tools"></a>   
### <a name="source-analysis-and-editing-tools"></a><span data-ttu-id="e33cd-133">Ferramentas de edição e análise de código-fonte</span><span class="sxs-lookup"><span data-stu-id="e33cd-133">Source Analysis and Editing Tools</span></span>  
 <span data-ttu-id="e33cd-134">Além dos elementos manuais de revisão de código de segurança do [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)], a equipe do [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] usa várias ferramentas para análise do código-fonte e das edições associadas para diminuir as vulnerabilidades de segurança.</span><span class="sxs-lookup"><span data-stu-id="e33cd-134">In addition to the manual security code review elements of the [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)], the [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] team uses several tools for source analysis and associated edits to decrease security vulnerabilities.</span></span> <span data-ttu-id="e33cd-135">Uma ampla variedade de ferramentas de código são usadas e incluem o seguinte:</span><span class="sxs-lookup"><span data-stu-id="e33cd-135">A wide range of source tools are used, and include the following:</span></span>  
  
-   <span data-ttu-id="e33cd-136">**FXCop**: encontra problemas comuns de segurança no código gerenciado, que vão desde as regras de herança ao uso da segurança do acesso de código e a como interoperar com segurança com código não gerenciado.</span><span class="sxs-lookup"><span data-stu-id="e33cd-136">**FXCop**: Finds common security issues in managed code ranging from inheritance rules to code access security usage to how to safely interoperate with unmanaged code.</span></span> <span data-ttu-id="e33cd-137">Consulte [FXCop](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.0/bb429476%28v=vs.80%29).</span><span class="sxs-lookup"><span data-stu-id="e33cd-137">See [FXCop](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.0/bb429476%28v=vs.80%29).</span></span>  
  
-   <span data-ttu-id="e33cd-138">**Prefix/Prefast**: localiza vulnerabilidades de segurança e problemas comuns de segurança em código não gerenciado, como saturações de buffer, problemas com cadeias de formatação e verificação de erros.</span><span class="sxs-lookup"><span data-stu-id="e33cd-138">**Prefix/Prefast**: Finds security vulnerabilities and common security issues in unmanaged code such as buffer overruns, format string issues, and error checking.</span></span>  
  
-   <span data-ttu-id="e33cd-139">**APIs banidas**: pesquisa o código-fonte para identificar usos acidentais de funções que são conhecidas por causar problemas de segurança, como `strcpy`.</span><span class="sxs-lookup"><span data-stu-id="e33cd-139">**Banned APIs**: Searches source code to identify accidental usage of functions that are well-known for causing security issues, such as `strcpy`.</span></span> <span data-ttu-id="e33cd-140">Após serem identificadas, essas funções são substituídas por alternativas mais seguras.</span><span class="sxs-lookup"><span data-stu-id="e33cd-140">Once identified, these functions are replaced with alternatives that are more security.</span></span>  
  
<a name="techniques"></a>   
### <a name="testing-techniques"></a><span data-ttu-id="e33cd-141">Técnicas de teste</span><span class="sxs-lookup"><span data-stu-id="e33cd-141">Testing Techniques</span></span>  
 <span data-ttu-id="e33cd-142">O [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] usa uma variedade de técnicas teste de segurança que incluem:</span><span class="sxs-lookup"><span data-stu-id="e33cd-142">[!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] uses a variety of security testing techniques that include:</span></span>  
  
-   <span data-ttu-id="e33cd-143">**Testes caixa branca**: os testadores exibem o código-fonte e, em seguida, criam testes de falhas</span><span class="sxs-lookup"><span data-stu-id="e33cd-143">**Whitebox Testing**: Testers view source code, and then build exploit tests</span></span>  
  
-   <span data-ttu-id="e33cd-144">**Testes caixa preta**: os testadores tentam localizar falhas de segurança examinando as API e os recursos e, em seguida, tentam atacar o produto.</span><span class="sxs-lookup"><span data-stu-id="e33cd-144">**Blackbox Testing**: Testers try to find security exploits by examining the API and features, and then try to attack the product.</span></span>  
  
-   <span data-ttu-id="e33cd-145">**Regressão de problemas de segurança de outros produtos**: quando for relevante, problemas de segurança de produtos relacionados serão testados.</span><span class="sxs-lookup"><span data-stu-id="e33cd-145">**Regressing Security Issues from other Products**: Where relevant, security issues from related products are tested.</span></span> <span data-ttu-id="e33cd-146">Por exemplo, variantes apropriadas de cerca de sessenta problemas de segurança para [!INCLUDE[TLA2#tla_ie](../../../includes/tla2sharptla-ie-md.md)] foram identificadas e sua aplicabilidade foi testada para [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e33cd-146">For example, appropriate variants of approximately sixty security issues for [!INCLUDE[TLA2#tla_ie](../../../includes/tla2sharptla-ie-md.md)] have been identified and tried for their applicability to [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
-   <span data-ttu-id="e33cd-147">**Testes de penetração baseados em ferramentas por meio de fuzzing de arquivos**: fuzzing de arquivos é a exploração do intervalo de entradas de um leitor de arquivos por meio de uma variedade de entradas.</span><span class="sxs-lookup"><span data-stu-id="e33cd-147">**Tools-Based Penetration Testing through File Fuzzing**: File fuzzing is the exploitation of a file reader's input range through a variety of inputs.</span></span> <span data-ttu-id="e33cd-148">Um exemplo de uso dessa técnica no [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] é para verificar se há falhas no código de decodificação de imagens.</span><span class="sxs-lookup"><span data-stu-id="e33cd-148">One example in [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] where this technique is used is to check for failure in image decoding code.</span></span>  
  
<a name="critical_code"></a>   
### <a name="critical-code-management"></a><span data-ttu-id="e33cd-149">Gerenciamento de código crítico</span><span class="sxs-lookup"><span data-stu-id="e33cd-149">Critical Code Management</span></span>  
 <span data-ttu-id="e33cd-150">Para [!INCLUDE[TLA#tla_xbap#plural](../../../includes/tlasharptla-xbapsharpplural-md.md)], [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] baseia-se uma proteção de segurança, usando o suporte do .NET Framework para marcar e acompanhar o código de segurança crítica que elevam privilégios (consulte **metodologia crítica para segurança** em [WPF Estratégia de segurança – segurança da plataforma](../../../docs/framework/wpf/wpf-security-strategy-platform-security.md)).</span><span class="sxs-lookup"><span data-stu-id="e33cd-150">For [!INCLUDE[TLA#tla_xbap#plural](../../../includes/tlasharptla-xbapsharpplural-md.md)], [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] builds a security sandbox by using .NET Framework support for marking and tracking security-critical code that elevates privileges (see **Security-Critical Methodology** in [WPF Security Strategy - Platform Security](../../../docs/framework/wpf/wpf-security-strategy-platform-security.md)).</span></span> <span data-ttu-id="e33cd-151">Considerando os altos requisitos de qualidade da segurança em códigos críticos para a segurança, esse código recebe um nível adicional de auditoria de segurança e controle de gerenciamento de código-fonte.</span><span class="sxs-lookup"><span data-stu-id="e33cd-151">Given the high security quality requirements on security critical code, such code receives an additional level of source management control and security audit.</span></span> <span data-ttu-id="e33cd-152">Aproximadamente 5% a 10% do [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] consiste em código crítico para a segurança, que é revisado por uma equipe de revisão dedicada.</span><span class="sxs-lookup"><span data-stu-id="e33cd-152">Approximately 5% to 10% of [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] consists of security-critical code, which is reviewed by a dedicated reviewing team.</span></span> <span data-ttu-id="e33cd-153">O código-fonte e o processo de check-in são gerenciados acompanhando o código crítico para segurança e mapeando cada entidade crítica (isto é, um método que contém código crítico) quanto ao seu estado de aprovação.</span><span class="sxs-lookup"><span data-stu-id="e33cd-153">The source code and check-in process is managed by tracking security critical code and mapping each critical entity (i.e. a method that contains critical code) to its sign off state.</span></span> <span data-ttu-id="e33cd-154">O estado de aprovação inclui os nomes de um ou mais revisores.</span><span class="sxs-lookup"><span data-stu-id="e33cd-154">The sign off state includes the names of one or more reviewers.</span></span> <span data-ttu-id="e33cd-155">Cada build diária de [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] compara o código crítico com o dos builds anteriores para verificar se há alterações não aprovadas.</span><span class="sxs-lookup"><span data-stu-id="e33cd-155">Each daily build of [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] compares the critical code to that in previous builds to check for unapproved changes.</span></span> <span data-ttu-id="e33cd-156">Se um engenheiro modificar o código crítico sem a aprovação da equipe de revisão, isso será identificado e corrigido imediatamente.</span><span class="sxs-lookup"><span data-stu-id="e33cd-156">If an engineer modifies critical code without approval from the reviewing team, it is identified and fixed immediately.</span></span> <span data-ttu-id="e33cd-157">Esse processo permite a aplicação e a manutenção de um nível especialmente alto de investigação do código na área restrita [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e33cd-157">This process enables the application and maintenance of an especially high level of scrutiny over [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] sandbox code.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e33cd-158">Consulte também</span><span class="sxs-lookup"><span data-stu-id="e33cd-158">See Also</span></span>  
 [<span data-ttu-id="e33cd-159">Segurança</span><span class="sxs-lookup"><span data-stu-id="e33cd-159">Security</span></span>](../../../docs/framework/wpf/security-wpf.md)  
 [<span data-ttu-id="e33cd-160">Segurança parcialmente confiável do WPF</span><span class="sxs-lookup"><span data-stu-id="e33cd-160">WPF Partial Trust Security</span></span>](../../../docs/framework/wpf/wpf-partial-trust-security.md)  
 [<span data-ttu-id="e33cd-161">Estratégia de segurança do WPF – segurança da plataforma</span><span class="sxs-lookup"><span data-stu-id="e33cd-161">WPF Security Strategy - Platform Security</span></span>](../../../docs/framework/wpf/wpf-security-strategy-platform-security.md)  
 [<span data-ttu-id="e33cd-162">Computação confiável</span><span class="sxs-lookup"><span data-stu-id="e33cd-162">Trustworthy Computing</span></span>](https://www.microsoft.com/mscorp/twc/default.mspx)  
 [<span data-ttu-id="e33cd-163">Modelagem de ameaças de aplicativos</span><span class="sxs-lookup"><span data-stu-id="e33cd-163">Application Threat Modeling</span></span>](https://msdn.microsoft.com/security/securecode/threatmodeling/acetm/)  
 [<span data-ttu-id="e33cd-164">Diretrizes de segurança: .NET Framework 2.0</span><span class="sxs-lookup"><span data-stu-id="e33cd-164">Security Guidelines: .NET Framework 2.0</span></span>](https://msdn.microsoft.com/library/default.asp?url=/library/dnpag2/html/PAGGuidelines0003.asp)
