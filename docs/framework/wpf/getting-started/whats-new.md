---
title: Novidades do WPF versão 4.5
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Presentation Foundation [WPF], what's new
- WPF [WPF], what's new
ms.assetid: db086ae4-70bb-4862-95db-2eaca5216bc3
ms.openlocfilehash: 92f69d0f9ad962dff231308ed3f5d59a0d406792
ms.sourcegitcommit: 0c48191d6d641ce88d7510e319cf38c0e35697d0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/05/2019
ms.locfileid: "57368162"
---
# <a name="whats-new-in-wpf-version-45"></a><span data-ttu-id="b7fe2-102">Novidades do WPF versão 4.5</span><span class="sxs-lookup"><span data-stu-id="b7fe2-102">What's New in WPF Version 4.5</span></span>
<a name="introduction"></a> <span data-ttu-id="b7fe2-103">Este tópico contém informações sobre os recursos novos e aprimorados do [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] versão 4.5.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-103">This topic contains information about new and enhanced features in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] version 4.5.</span></span>  
  
 <span data-ttu-id="b7fe2-104">Esse tópico contém as seguintes seções:</span><span class="sxs-lookup"><span data-stu-id="b7fe2-104">This topic contains the following sections:</span></span>  
  
-   [<span data-ttu-id="b7fe2-105">Controle de faixa de opções</span><span class="sxs-lookup"><span data-stu-id="b7fe2-105">Ribbon control</span></span>](#ribbon_control)  
  
-   [<span data-ttu-id="b7fe2-106">Desempenho aprimorado ao exibir grandes conjuntos de dados agrupados</span><span class="sxs-lookup"><span data-stu-id="b7fe2-106">Improved performance when displaying large sets of grouped data</span></span>](#grouped_virtualization)  
  
-   [<span data-ttu-id="b7fe2-107">Novos recursos para o VirtualizingPanel</span><span class="sxs-lookup"><span data-stu-id="b7fe2-107">New features for the VirtualizingPanel</span></span>](#VirtualizingPanel)  
  
-   [<span data-ttu-id="b7fe2-108">Associando a propriedades estáticas</span><span class="sxs-lookup"><span data-stu-id="b7fe2-108">Binding to static properties</span></span>](#static_properties)  
  
-   [<span data-ttu-id="b7fe2-109">Acesso a coleções em Threads que não sejam de interface do usuário</span><span class="sxs-lookup"><span data-stu-id="b7fe2-109">Accessing collections on non-UI Threads</span></span>](#xthread_access)  
  
-   [<span data-ttu-id="b7fe2-110">Validação de dados de forma síncrona e assíncrona</span><span class="sxs-lookup"><span data-stu-id="b7fe2-110">Synchronously and Asynchronously validating data</span></span>](#INotifyDataErrorInfo)  
  
-   [<span data-ttu-id="b7fe2-111">Atualizar automaticamente a fonte de vinculação de dados</span><span class="sxs-lookup"><span data-stu-id="b7fe2-111">Automatically updating the source of a data binding</span></span>](#delay)  
  
-   [<span data-ttu-id="b7fe2-112">Associando a tipos que implementam ICustomTypeProvider</span><span class="sxs-lookup"><span data-stu-id="b7fe2-112">Binding to types that Implement ICustomTypeProvider</span></span>](#ICustomTypeProvider)  
  
-   [<span data-ttu-id="b7fe2-113">Recuperando informações de vinculação de dados de uma expressão de associação</span><span class="sxs-lookup"><span data-stu-id="b7fe2-113">Retrieving data binding information from a binding expression</span></span>](#binding_state)  
  
-   [<span data-ttu-id="b7fe2-114">Verificando um objeto DataContext válido</span><span class="sxs-lookup"><span data-stu-id="b7fe2-114">Checking for a valid DataContext object</span></span>](#DisconnectedSource)  
  
-   [<span data-ttu-id="b7fe2-115">Reposicionamento de dados à medida que os valores mudam (shaping dinâmico)</span><span class="sxs-lookup"><span data-stu-id="b7fe2-115">Repositioning data as the data's values change (Live shaping)</span></span>](#live_shaping)  
  
-   [<span data-ttu-id="b7fe2-116">Suporte aprimorado para estabelecer uma referência fraca em um evento</span><span class="sxs-lookup"><span data-stu-id="b7fe2-116">Improved Support for Establishing a Weak Reference to an Event</span></span>](#weak_event_pattern)  
  
-   [<span data-ttu-id="b7fe2-117">Novos métodos para a classe Dispatcher</span><span class="sxs-lookup"><span data-stu-id="b7fe2-117">New methods for the Dispatcher class</span></span>](#async)  
  
-   [<span data-ttu-id="b7fe2-118">Extensões de marcação para eventos</span><span class="sxs-lookup"><span data-stu-id="b7fe2-118">Markup Extensions for Events</span></span>](#events_markup_extenions)  
  
<a name="ribbon_control"></a>   
## <a name="ribbon-control"></a><span data-ttu-id="b7fe2-119">Controle de faixa de opções</span><span class="sxs-lookup"><span data-stu-id="b7fe2-119">Ribbon control</span></span>  
 <span data-ttu-id="b7fe2-120">WPF 4.5 é fornecido com um <xref:System.Windows.Controls.Ribbon.Ribbon> controle que hospeda uma barra de ferramentas de acesso rápido, o Menu de aplicativo e guias.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-120">WPF 4.5 ships with a <xref:System.Windows.Controls.Ribbon.Ribbon> control that hosts a Quick Access Toolbar, Application Menu, and tabs.</span></span>  <span data-ttu-id="b7fe2-121">Para obter mais informações, consulte a [visão geral da faixa de opções](/visualstudio/vsto/ribbon-overview).</span><span class="sxs-lookup"><span data-stu-id="b7fe2-121">For more information, see the [Ribbon Overview](/visualstudio/vsto/ribbon-overview).</span></span>  
  
<a name="grouped_virtualization"></a>   
## <a name="improved-performance-when-displaying-large-sets-of-grouped-data"></a><span data-ttu-id="b7fe2-122">Desempenho aprimorado ao exibir grandes conjuntos de dados agrupados</span><span class="sxs-lookup"><span data-stu-id="b7fe2-122">Improved performance when displaying large sets of grouped data</span></span>  
 <span data-ttu-id="b7fe2-123">Virtualização de interface do usuário ocorre quando um subconjunto de elementos da interface do usuário (IU) gerados de um grande número de itens de dados com base em quais itens estão visíveis na tela.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-123">UI virtualization occurs when  a subset of user interface (UI) elements are generated from a larger number of data items based on which items are visible on the screen.</span></span> <span data-ttu-id="b7fe2-124">O <xref:System.Windows.Controls.VirtualizingPanel> define o <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A> anexado a propriedade que habilita a virtualização de interface do usuário para dados agrupados.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-124">The <xref:System.Windows.Controls.VirtualizingPanel> defines the <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A> attached property that enables UI Virtualization for grouped data.</span></span>  <span data-ttu-id="b7fe2-125">Para obter mais informações sobre agrupamento de dados, consulte como: Classificar e agrupar dados usando uma exibição em XAML.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-125">For more information about grouping data, see How to: Sort and Group Data Using a View in XAML.</span></span>  <span data-ttu-id="b7fe2-126">Para obter mais informações sobre virtualização de dados agrupados, consulte o <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A> propriedade anexada.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-126">For more information about virtualizing grouped data, see the <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A> attached property.</span></span>  
  
<a name="VirtualizingPanel"></a>   
## <a name="new-features-for-the-virtualizingpanel"></a><span data-ttu-id="b7fe2-127">Novos recursos para o VirtualizingPanel</span><span class="sxs-lookup"><span data-stu-id="b7fe2-127">New features for the VirtualizingPanel</span></span>  
  
1.  <span data-ttu-id="b7fe2-128">Você pode especificar se um <xref:System.Windows.Controls.VirtualizingPanel>, como o <xref:System.Windows.Controls.VirtualizingStackPanel>, exibe itens parciais usando o <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> propriedade anexada.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-128">You can specify whether a <xref:System.Windows.Controls.VirtualizingPanel>, such as the <xref:System.Windows.Controls.VirtualizingStackPanel>, displays partial items by using the <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> attached property.</span></span> <span data-ttu-id="b7fe2-129">Se <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> é definido como <xref:System.Windows.Controls.ScrollUnit.Item>, o <xref:System.Windows.Controls.VirtualizingPanel> exibirá apenas os itens que estão completamente visíveis.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-129">If <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> is set to <xref:System.Windows.Controls.ScrollUnit.Item>, the <xref:System.Windows.Controls.VirtualizingPanel> will only display items that are completely visible.</span></span> <span data-ttu-id="b7fe2-130">Se <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> é definido como <xref:System.Windows.Controls.ScrollUnit.Pixel>, o <xref:System.Windows.Controls.VirtualizingPanel> pode exibir itens parcialmente visíveis.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-130">If <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> is set to <xref:System.Windows.Controls.ScrollUnit.Pixel>, the <xref:System.Windows.Controls.VirtualizingPanel> can display partially visible items.</span></span>  
  
2.  <span data-ttu-id="b7fe2-131">Você pode especificar o tamanho do cache antes e depois do visor quando o <xref:System.Windows.Controls.VirtualizingPanel> está virtualizando usando o <xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A> propriedade anexada.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-131">You can specify the  size of the cache before and after the viewport when the <xref:System.Windows.Controls.VirtualizingPanel> is virtualizing by using the <xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A> attached property.</span></span>  <span data-ttu-id="b7fe2-132">O cache é a quantidade de espaço acima ou abaixo do visor no qual itens não serão virtualizados.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-132">The cache is the amount of space above or below the viewport in which items are not virtualized.</span></span>  <span data-ttu-id="b7fe2-133">Usando um cache para evitar a geração de elementos de interface do usuário conforme eles estão colocados na exibição pode melhorar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-133">Using a cache to avoid generating UI elements as they’re scrolled into view can improve performance.</span></span> <span data-ttu-id="b7fe2-134">O cache é preenchido com uma prioridade mais baixa para que o aplicativo não estão mais respondendo durante a operação.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-134">The cache is populated at a lower priority so that the application does not become unresponsive during the operation.</span></span> <span data-ttu-id="b7fe2-135">O <xref:System.Windows.Controls.VirtualizingPanel.CacheLengthUnit%2A?displayProperty=nameWithType> propriedade determina a unidade de medida usada pelo <xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-135">The <xref:System.Windows.Controls.VirtualizingPanel.CacheLengthUnit%2A?displayProperty=nameWithType> property determines the unit of measurement that is used by <xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A?displayProperty=nameWithType>.</span></span>  
  
<a name="static_properties"></a>   
## <a name="binding-to-static-properties"></a><span data-ttu-id="b7fe2-136">Associando a propriedades estáticas</span><span class="sxs-lookup"><span data-stu-id="b7fe2-136">Binding to static properties</span></span>  
 <span data-ttu-id="b7fe2-137">Você pode usar propriedades estáticas como a origem de vinculação de dados.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-137">You can use static properties as the source of a data binding.</span></span> <span data-ttu-id="b7fe2-138">O mecanismo de vinculação de dados reconhece quando o valor da propriedade muda se um evento estático será gerado.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-138">The data binding engine recognizes when the property's value changes if a static event is raised.</span></span>  <span data-ttu-id="b7fe2-139">Por exemplo, se a classe `SomeClass` define uma propriedade estática chamada `MyProperty`, `SomeClass` pode definir um evento estático que é gerado quando o valor de `MyProperty` alterações.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-139">For example, if the class `SomeClass` defines a static property called `MyProperty`, `SomeClass` can define a static event that is raised when the value of `MyProperty` changes.</span></span>  <span data-ttu-id="b7fe2-140">O evento estático pode usar qualquer uma das seguintes assinaturas.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-140">The static event can use either of the following signatures.</span></span>  
  
-   `public static event EventHandler MyPropertyChanged;`  
  
-   `public static event EventHandler<PropertyChangedEventArgs> StaticPropertyChanged;`  
  
 <span data-ttu-id="b7fe2-141">Observe que, no primeiro caso, a classe expõe um evento estático chamado *PropertyName* `Changed` aprovado <xref:System.EventArgs> ao manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-141">Note that in the first case, the class exposes a static event named *PropertyName*`Changed` that passes <xref:System.EventArgs> to the event handler.</span></span>  <span data-ttu-id="b7fe2-142">No segundo caso, a classe expõe um evento estático chamado `StaticPropertyChanged` aprovado <xref:System.ComponentModel.PropertyChangedEventArgs> ao manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-142">In the second case, the class exposes a static event named `StaticPropertyChanged` that passes <xref:System.ComponentModel.PropertyChangedEventArgs> to the event handler.</span></span> <span data-ttu-id="b7fe2-143">Uma classe que implementa a propriedade estática pode optar por gerar notificações de alteração de propriedade usando um método.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-143">A class that implements the static property can choose to raise property-change notifications using either method.</span></span>  
  
<a name="xthread_access"></a>   
## <a name="accessing-collections-on-non-ui-threads"></a><span data-ttu-id="b7fe2-144">Acesso a coleções em Threads que não sejam de interface do usuário</span><span class="sxs-lookup"><span data-stu-id="b7fe2-144">Accessing collections on non-UI Threads</span></span>  
 <span data-ttu-id="b7fe2-145">WPF permite acessar e modificar as coleções em threads diferente daquele que criou a coleção de dados.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-145">WPF enables you to access and modify data collections on threads other than the one that created the collection.</span></span>  <span data-ttu-id="b7fe2-146">Isso permite que você use um thread em segundo plano para receber dados de uma fonte externa, como um banco de dados e exibir os dados no thread da interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-146">This enables you to use a background thread to receive data from an external source, such as a database, and display the data on the UI thread.</span></span>  <span data-ttu-id="b7fe2-147">Usando outro thread para modificar a coleção, a interface do usuário continua a responder à interação do usuário.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-147">By using another thread to modify the collection, your user interface remains responsive to user interaction.</span></span>  
  
<a name="INotifyDataErrorInfo"></a>   
## <a name="synchronously-and-asynchronously-validating-data"></a><span data-ttu-id="b7fe2-148">Validação de dados de forma síncrona e assíncrona</span><span class="sxs-lookup"><span data-stu-id="b7fe2-148">Synchronously and Asynchronously validating data</span></span>  
 <span data-ttu-id="b7fe2-149">O <xref:System.ComponentModel.INotifyDataErrorInfo> interface permite que as classes de entidade de dados implementar regras de validação personalizada e expor os resultados da validação de forma assíncrona.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-149">The <xref:System.ComponentModel.INotifyDataErrorInfo> interface enables data entity classes to implement custom validation rules and expose validation results asynchronously.</span></span> <span data-ttu-id="b7fe2-150">Essa interface também dá suporte a objetos de erro personalizados, vários erros por propriedade, erros de propriedades cruzadas e erros de nível de entidade.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-150">This interface also supports custom error objects, multiple errors per property, cross-property errors, and entity-level errors.</span></span>  <span data-ttu-id="b7fe2-151">Para obter mais informações, consulte <xref:System.ComponentModel.INotifyDataErrorInfo>.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-151">For more information, see <xref:System.ComponentModel.INotifyDataErrorInfo>.</span></span>  
  
<a name="delay"></a>   
## <a name="automatically-updating-the-source-of-a-data-binding"></a><span data-ttu-id="b7fe2-152">Atualizar automaticamente a fonte de vinculação de dados</span><span class="sxs-lookup"><span data-stu-id="b7fe2-152">Automatically updating the source of a data binding</span></span>  
 <span data-ttu-id="b7fe2-153">Se você usar uma associação de dados para atualizar uma fonte de dados, você pode usar o <xref:System.Windows.Data.BindingBase.Delay%2A> propriedade para especificar um período de tempo para passar após as alterações de propriedade de destino antes das atualizações de origem.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-153">If you use a data binding to update a data source, you can use the <xref:System.Windows.Data.BindingBase.Delay%2A> property to specify an amount of time to pass after the property changes on the target before the source updates.</span></span>  <span data-ttu-id="b7fe2-154">Por exemplo, suponha que você tenha um <xref:System.Windows.Controls.Slider> que tem sua <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> dados de propriedade associada a uma propriedade de um objeto de dados e o <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> estiver definida como <xref:System.Windows.Data.UpdateSourceTrigger.PropertyChanged>.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-154">For example, suppose that you have a <xref:System.Windows.Controls.Slider> that has its <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> property data two-way bound to a property of a data object and the <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> property is set to <xref:System.Windows.Data.UpdateSourceTrigger.PropertyChanged>.</span></span>  <span data-ttu-id="b7fe2-155">Neste exemplo, quando o usuário move o <xref:System.Windows.Controls.Slider>, as atualizações de origem para cada pixel que o <xref:System.Windows.Controls.Slider> move.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-155">In this example, when the user moves the <xref:System.Windows.Controls.Slider>, the source updates for each pixel that the <xref:System.Windows.Controls.Slider> moves.</span></span>  <span data-ttu-id="b7fe2-156">Normalmente, o objeto de origem precisa do valor do controle deslizante somente quando o controle deslizante <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> interrompe a alteração.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-156">The source object typically needs the value of the slider only when the slider's <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> stops changing.</span></span>  <span data-ttu-id="b7fe2-157">Para evitar a atualização da fonte com muita frequência, use <xref:System.Windows.Data.BindingBase.Delay%2A> para especificar que a origem não deve ser atualizada até que uma determinada quantidade de tempo tenha decorrido após o elevador parar de se mover.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-157">To prevent updating the source too often, use <xref:System.Windows.Data.BindingBase.Delay%2A> to specify that the source should not be updated until a certain amount of time elapses after the thumb stops moving.</span></span>  
  
<a name="ICustomTypeProvider"></a>   
## <a name="binding-to-types-that-implement-icustomtypeprovider"></a><span data-ttu-id="b7fe2-158">Associando a tipos que implementam ICustomTypeProvider</span><span class="sxs-lookup"><span data-stu-id="b7fe2-158">Binding to types that Implement ICustomTypeProvider</span></span>  
 <span data-ttu-id="b7fe2-159">WPF dá suporte à vinculação de dados para objetos que implementam <xref:System.Reflection.ICustomTypeProvider>, também conhecido como tipos personalizados.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-159">WPF supports data binding to objects that implement <xref:System.Reflection.ICustomTypeProvider>, also known as custom types.</span></span>  <span data-ttu-id="b7fe2-160">Você pode usar tipos personalizados nos seguintes casos.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-160">You can use custom types in the following cases.</span></span>  
  
1.  <span data-ttu-id="b7fe2-161">Como um <xref:System.Windows.PropertyPath> em uma associação de dados.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-161">As a <xref:System.Windows.PropertyPath> in a data binding.</span></span> <span data-ttu-id="b7fe2-162">Por exemplo, o <xref:System.Windows.Data.Binding.Path%2A> propriedade de um <xref:System.Windows.Data.Binding> pode fazer referência a uma propriedade de um tipo personalizado.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-162">For example, the <xref:System.Windows.Data.Binding.Path%2A> property of a <xref:System.Windows.Data.Binding> can reference a property of a custom type.</span></span>  
  
2.  <span data-ttu-id="b7fe2-163">Como o valor do <xref:System.Windows.DataTemplate.DataType%2A> propriedade.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-163">As the value of the <xref:System.Windows.DataTemplate.DataType%2A> property.</span></span>  
  
3.  <span data-ttu-id="b7fe2-164">Como um tipo que determina as colunas geradas automaticamente em um <xref:System.Windows.Controls.DataGrid>.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-164">As a type that determines the automatically generated columns in a <xref:System.Windows.Controls.DataGrid>.</span></span>  
  
<a name="binding_state"></a>   
## <a name="retrieving-data-binding-information-from-a-binding-expression"></a><span data-ttu-id="b7fe2-165">Recuperando informações de vinculação de dados de uma expressão de associação</span><span class="sxs-lookup"><span data-stu-id="b7fe2-165">Retrieving data binding information from a binding expression</span></span>  
 <span data-ttu-id="b7fe2-166">Em alguns casos, você poderá obter o <xref:System.Windows.Data.BindingExpression> de um <xref:System.Windows.Data.Binding> e precisar de informações sobre os objetos de origem e destino da associação.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-166">In certain cases, you might get the <xref:System.Windows.Data.BindingExpression> of a <xref:System.Windows.Data.Binding> and need information about the source and target objects of the binding.</span></span>  <span data-ttu-id="b7fe2-167">Novas APIs foram adicionadas para que você possa obter o código-fonte ou objeto de destino ou a propriedade associada.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-167">New APIs have been added to enable you to get the source or target object or the associated property.</span></span>  <span data-ttu-id="b7fe2-168">Quando você tiver um <xref:System.Windows.Data.BindingExpression>, use as seguintes APIs para obter informações sobre a origem e destino.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-168">When you have a <xref:System.Windows.Data.BindingExpression>, use the following APIs to get information about the target and source.</span></span>  
  
|<span data-ttu-id="b7fe2-169">Para encontrar esse valor da associação</span><span class="sxs-lookup"><span data-stu-id="b7fe2-169">To find this value of the binding</span></span>|<span data-ttu-id="b7fe2-170">Use essa API</span><span class="sxs-lookup"><span data-stu-id="b7fe2-170">Use this API</span></span>|  
|---------------------------------------|------------------|  
|<span data-ttu-id="b7fe2-171">O objeto de destino</span><span class="sxs-lookup"><span data-stu-id="b7fe2-171">The target object</span></span>|<xref:System.Windows.Data.BindingExpressionBase.Target%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="b7fe2-172">Propriedade de destino</span><span class="sxs-lookup"><span data-stu-id="b7fe2-172">The target property</span></span>|<xref:System.Windows.Data.BindingExpressionBase.TargetProperty%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="b7fe2-173">Objeto de origem</span><span class="sxs-lookup"><span data-stu-id="b7fe2-173">The source object</span></span>|<xref:System.Windows.Data.BindingExpression.ResolvedSource%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="b7fe2-174">Propriedade de origem</span><span class="sxs-lookup"><span data-stu-id="b7fe2-174">The source property</span></span>|<xref:System.Windows.Data.BindingExpression.ResolvedSourcePropertyName%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="b7fe2-175">Se o <xref:System.Windows.Data.BindingExpression> pertence a um <xref:System.Windows.Data.BindingGroup></span><span class="sxs-lookup"><span data-stu-id="b7fe2-175">Whether the <xref:System.Windows.Data.BindingExpression> belongs to a <xref:System.Windows.Data.BindingGroup></span></span>|<xref:System.Windows.Data.BindingExpressionBase.BindingGroup%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="b7fe2-176">O proprietário de um <xref:System.Windows.Data.BindingGroup></span><span class="sxs-lookup"><span data-stu-id="b7fe2-176">The owner of a <xref:System.Windows.Data.BindingGroup></span></span>|<xref:System.Windows.Data.BindingGroup.Owner%2A>|  
  
<a name="DisconnectedSource"></a>   
## <a name="checking-for-a-valid-datacontext-object"></a><span data-ttu-id="b7fe2-177">Verificando um objeto DataContext válido</span><span class="sxs-lookup"><span data-stu-id="b7fe2-177">Checking for a valid DataContext object</span></span>  
 <span data-ttu-id="b7fe2-178">Há casos em que o <xref:System.Windows.FrameworkElement.DataContext%2A> de um contêiner de itens em um <xref:System.Windows.Controls.ItemsControl> estiver desconectado.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-178">There are cases where the <xref:System.Windows.FrameworkElement.DataContext%2A> of an item container in an <xref:System.Windows.Controls.ItemsControl> becomes disconnected.</span></span>  <span data-ttu-id="b7fe2-179">Um contêiner de itens é o elemento de interface do usuário que exibe um item em um <xref:System.Windows.Controls.ItemsControl>.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-179">An item container is the UI element that displays an item in an <xref:System.Windows.Controls.ItemsControl>.</span></span>  <span data-ttu-id="b7fe2-180">Quando um <xref:System.Windows.Controls.ItemsControl> é de dados associado a uma coleção, um contêiner de itens é gerado para cada item.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-180">When an <xref:System.Windows.Controls.ItemsControl> is data bound to a collection, an item container is generated for each item.</span></span> <span data-ttu-id="b7fe2-181">Em alguns casos, os contêineres de itens são removidos da árvore visual.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-181">In some cases, item containers are removed from the visual tree.</span></span> <span data-ttu-id="b7fe2-182">Dois casos típicos em que um contêiner de item é removido são quando um item é removido da coleção subjacente e quando a virtualização está habilitada no <xref:System.Windows.Controls.ItemsControl>.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-182">Two typical cases where an item container is removed are when an item is removed from the underlying collection and when virtualization is enabled on the <xref:System.Windows.Controls.ItemsControl>.</span></span> <span data-ttu-id="b7fe2-183">Nesses casos, o <xref:System.Windows.FrameworkElement.DataContext%2A> propriedade do contêiner do item será definida para o objeto Sentinela que é retornado pelo <xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A?displayProperty=nameWithType> propriedade estática.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-183">In these cases, the <xref:System.Windows.FrameworkElement.DataContext%2A> property of the item container will be set to the sentinel object that is returned by the <xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A?displayProperty=nameWithType> static property.</span></span>  <span data-ttu-id="b7fe2-184">Você deve verificar se o <xref:System.Windows.FrameworkElement.DataContext%2A> é igual de <xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A> objeto antes de acessar o <xref:System.Windows.FrameworkElement.DataContext%2A> de um contêiner de item.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-184">You should check whether the <xref:System.Windows.FrameworkElement.DataContext%2A> is equal to the <xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A> object before accessing the <xref:System.Windows.FrameworkElement.DataContext%2A> of an item container.</span></span>  
  
<a name="live_shaping"></a>   
## <a name="repositioning-data-as-the-datas-values-change-live-shaping"></a><span data-ttu-id="b7fe2-185">Reposicionamento de dados à medida que os valores mudam (shaping dinâmico)</span><span class="sxs-lookup"><span data-stu-id="b7fe2-185">Repositioning data as the data's values change (Live shaping)</span></span>  
 <span data-ttu-id="b7fe2-186">Uma coleção de dados pode ser agrupada, classificada ou filtrada.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-186">A collection of data can be grouped, sorted, or filtered.</span></span> <span data-ttu-id="b7fe2-187">WPF 4.5 permite que os dados sejam reorganizados quando os dados são modificados.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-187">WPF 4.5 enables the data to be rearranged when the data is modified.</span></span> <span data-ttu-id="b7fe2-188">Por exemplo, suponha que um aplicativo usa um <xref:System.Windows.Controls.DataGrid> para listar o estoque em um mercado de ações e o estoque é classificada por valor de ação.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-188">For example, suppose that an application uses a <xref:System.Windows.Controls.DataGrid> to list stocks in a stock market and the stocks are sorted by stock value.</span></span> <span data-ttu-id="b7fe2-189">Se a classificação em tempo real está habilitada no stocks' <xref:System.Windows.Data.CollectionView>, a posição da ação no <xref:System.Windows.Controls.DataGrid> move quando o valor do estoque se torna maior ou menor que outro valor de ação.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-189">If live sorting is enabled on the stocks' <xref:System.Windows.Data.CollectionView>, a stock's position in the <xref:System.Windows.Controls.DataGrid> moves when the value of the stock becomes greater or less than another stock's value.</span></span>   <span data-ttu-id="b7fe2-190">Para obter mais informações, consulte o <xref:System.ComponentModel.ICollectionViewLiveShaping> interface.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-190">For more information, see the <xref:System.ComponentModel.ICollectionViewLiveShaping> interface.</span></span>  
  
<a name="weak_event_pattern"></a>   
## <a name="improved-support-for-establishing-a-weak-reference-to-an-event"></a><span data-ttu-id="b7fe2-191">Suporte aprimorado para estabelecer uma referência fraca em um evento</span><span class="sxs-lookup"><span data-stu-id="b7fe2-191">Improved Support for Establishing a Weak Reference to an Event</span></span>  
 <span data-ttu-id="b7fe2-192">Implementar o padrão de evento fraco agora é mais fácil porque os assinantes de eventos podem participar dele sem implementar uma interface adicional.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-192">Implementing the weak event pattern is now easier because subscribers to events can participate in it without implementing an extra interface.</span></span>  <span data-ttu-id="b7fe2-193">Genérica <xref:System.Windows.WeakEventManager> classe também permite que os assinantes participem no padrão de evento fraco se um dedicado <xref:System.Windows.WeakEventManager> não existe para um determinado evento.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-193">The generic <xref:System.Windows.WeakEventManager> class also enables subscribers to participate in the weak event pattern if a dedicated <xref:System.Windows.WeakEventManager> does not exist for a certain event.</span></span>  <span data-ttu-id="b7fe2-194">Para obter mais informações, consulte [Padrões de evento fraco](../advanced/weak-event-patterns.md).</span><span class="sxs-lookup"><span data-stu-id="b7fe2-194">For more information, see [Weak Event Patterns](../advanced/weak-event-patterns.md).</span></span>  
  
<a name="async"></a>   
## <a name="new-methods-for-the-dispatcher-class"></a><span data-ttu-id="b7fe2-195">Novos métodos para a classe Dispatcher</span><span class="sxs-lookup"><span data-stu-id="b7fe2-195">New methods for the Dispatcher class</span></span>  
 <span data-ttu-id="b7fe2-196">A classe Dispatcher define novos métodos para operações síncronas e assíncronas.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-196">The Dispatcher class defines new methods for synchronous and asynchronous operations.</span></span>  <span data-ttu-id="b7fe2-197">Síncronos <xref:System.Windows.Threading.Dispatcher.Invoke%2A> método define sobrecargas que usam uma <xref:System.Action> ou <xref:System.Func%601> parâmetro.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-197">The synchronous <xref:System.Windows.Threading.Dispatcher.Invoke%2A> method defines overloads that take an <xref:System.Action> or <xref:System.Func%601> parameter.</span></span> <span data-ttu-id="b7fe2-198">O novo método assíncrono <xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A>, também usa um <xref:System.Action> ou <xref:System.Func%601> como o parâmetro de retorno de chamada e retorna um <xref:System.Windows.Threading.DispatcherOperation> ou <xref:System.Windows.Threading.DispatcherOperation%601>.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-198">The new asynchronous method, <xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A>, also takes an <xref:System.Action> or <xref:System.Func%601> as the callback parameter and returns a <xref:System.Windows.Threading.DispatcherOperation> or <xref:System.Windows.Threading.DispatcherOperation%601>.</span></span>   <span data-ttu-id="b7fe2-199">O <xref:System.Windows.Threading.DispatcherOperation> e <xref:System.Windows.Threading.DispatcherOperation%601> classes definem um <xref:System.Threading.Tasks.Task> propriedade.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-199">The <xref:System.Windows.Threading.DispatcherOperation> and <xref:System.Windows.Threading.DispatcherOperation%601> classes define a <xref:System.Threading.Tasks.Task> property.</span></span>  <span data-ttu-id="b7fe2-200">Quando você chama <xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A>, você pode usar o `await` palavra-chave com qualquer um os <xref:System.Windows.Threading.DispatcherOperation> ou associado <xref:System.Threading.Tasks.Task>.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-200">When you call <xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A>, you can use the `await` keyword with either the <xref:System.Windows.Threading.DispatcherOperation> or the associated <xref:System.Threading.Tasks.Task>.</span></span> <span data-ttu-id="b7fe2-201">Se você precisar aguardar de forma síncrona a <xref:System.Threading.Tasks.Task> que é retornado por um <xref:System.Windows.Threading.DispatcherOperation> ou <xref:System.Windows.Threading.DispatcherOperation%601>, chame o <xref:System.Windows.Threading.TaskExtensions.DispatcherOperationWait%2A> método de extensão.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-201">If you need to wait synchronously for the <xref:System.Threading.Tasks.Task> that is returned by a <xref:System.Windows.Threading.DispatcherOperation> or <xref:System.Windows.Threading.DispatcherOperation%601>, call the <xref:System.Windows.Threading.TaskExtensions.DispatcherOperationWait%2A> extension method.</span></span> <span data-ttu-id="b7fe2-202">Chamar <xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType> resultará em um deadlock se a operação está na fila em um thread de chamada.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-202">Calling <xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType> will result in a deadlock if the operation is queued on a calling thread.</span></span> <span data-ttu-id="b7fe2-203">Para obter mais informações sobre como usar um <xref:System.Threading.Tasks.Task> para executar operações assíncronas, consulte [paralelismo de tarefas (Task Parallel Library)](../../../standard/parallel-programming/task-based-asynchronous-programming.md).</span><span class="sxs-lookup"><span data-stu-id="b7fe2-203">For more information about using a <xref:System.Threading.Tasks.Task> to perform asynchronous operations, see [Task Parallelism (Task Parallel Library)](../../../standard/parallel-programming/task-based-asynchronous-programming.md).</span></span>  
  
<a name="events_markup_extenions"></a>   
## <a name="markup-extensions-for-events"></a><span data-ttu-id="b7fe2-204">Extensões de marcação para eventos</span><span class="sxs-lookup"><span data-stu-id="b7fe2-204">Markup Extensions for Events</span></span>  
 <span data-ttu-id="b7fe2-205">WPF 4.5 dá suporte a extensões de marcação de eventos.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-205">WPF 4.5 supports markup extensions for events.</span></span>  <span data-ttu-id="b7fe2-206">Embora o WPF não define uma extensão de marcação a ser usado para eventos, terceiros são capazes de criar uma extensão de marcação que pode ser usada com eventos.</span><span class="sxs-lookup"><span data-stu-id="b7fe2-206">While WPF does not define a markup extension to be used for events, third parties are able to create a markup extension that can be used with events.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b7fe2-207">Consulte também</span><span class="sxs-lookup"><span data-stu-id="b7fe2-207">See also</span></span>
- [<span data-ttu-id="b7fe2-208">Novidades no .NET Framework</span><span class="sxs-lookup"><span data-stu-id="b7fe2-208">What's New in the .NET Framework</span></span>](../../whats-new/index.md)
