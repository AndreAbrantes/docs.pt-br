---
title: Associação de dados com o LINQ to XML
ms.date: 10/22/2019
ms.topic: conceptual
ms.openlocfilehash: 3c5567c81d2097a1524f5bbbf9010836ca8c0646
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/24/2020
ms.locfileid: "76733826"
---
# <a name="overview-of-wpf-data-binding-with-linq-to-xml"></a><span data-ttu-id="ec1de-102">Visão geral da Associação de dados do WPF com LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="ec1de-102">Overview of WPF data binding with LINQ to XML</span></span>

<span data-ttu-id="ec1de-103">Este artigo apresenta os recursos de ligação de dados dinâmicos no namespace <xref:System.Xml.Linq>.</span><span class="sxs-lookup"><span data-stu-id="ec1de-103">This article introduces the dynamic data binding features in the <xref:System.Xml.Linq> namespace.</span></span> <span data-ttu-id="ec1de-104">Esses recursos podem ser usados como uma fonte de dados para elementos de interface do usuário no WPF (Windows Presentation Foundation).</span><span class="sxs-lookup"><span data-stu-id="ec1de-104">These features can be used as a data source for user interface (UI) elements in Windows Presentation Foundation (WPF) apps.</span></span> <span data-ttu-id="ec1de-105">Este cenário baseia-se em *propriedades dinâmicas* especiais do <xref:System.Xml.Linq.XAttribute?displayProperty=fullName> e do <xref:System.Xml.Linq.XElement?displayProperty=fullName>.</span><span class="sxs-lookup"><span data-stu-id="ec1de-105">This scenario relies upon special *dynamic properties* of <xref:System.Xml.Linq.XAttribute?displayProperty=fullName> and <xref:System.Xml.Linq.XElement?displayProperty=fullName>.</span></span>

## <a name="xaml-and-linq-to-xml"></a><span data-ttu-id="ec1de-106">XAML e LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="ec1de-106">XAML and LINQ to XML</span></span>

<span data-ttu-id="ec1de-107">A linguagem XAML é um dialeto XML criado pela Microsoft para dar suporte a tecnologias do .NET.</span><span class="sxs-lookup"><span data-stu-id="ec1de-107">The Extensible Application Markup Language (XAML) is an XML dialect created by Microsoft to support .NET technologies.</span></span> <span data-ttu-id="ec1de-108">Ela é usada em WPF para representar elementos de interface do usuário e recursos relacionados, como associação de eventos e dados.</span><span class="sxs-lookup"><span data-stu-id="ec1de-108">It is used in WPF to represent user interface elements and related features, such as events and data binding.</span></span> <span data-ttu-id="ec1de-109">No Windows Workflow Foundation, o XAML é usado para representar a estrutura do programa, como o controle de programa (*fluxos de trabalho*).</span><span class="sxs-lookup"><span data-stu-id="ec1de-109">In Windows Workflow Foundation, XAML is used to represent program structure, such as program control (*workflows*).</span></span> <span data-ttu-id="ec1de-110">O XAML permite que os aspectos declarativos de uma tecnologia sejam separados do código procedural relacionado que define o comportamento mais individualizado de um programa.</span><span class="sxs-lookup"><span data-stu-id="ec1de-110">XAML enables the declarative aspects of a technology to be separated from the related procedural code that defines the more individualized behavior of a program.</span></span>

<span data-ttu-id="ec1de-111">Há duas maneiras de o XAML e o LINQ to XML poderem interagir:</span><span class="sxs-lookup"><span data-stu-id="ec1de-111">There are two broad ways that XAML and LINQ to XML can interact:</span></span>

- <span data-ttu-id="ec1de-112">Como os arquivos XAML são XMLs bem-formados, podem ser consultados e manipulados pelas tecnologias XML como LINQ to XML.</span><span class="sxs-lookup"><span data-stu-id="ec1de-112">Because XAML files are well-formed XML, they can be queried and manipulated through XML technologies such as LINQ to XML.</span></span>

- <span data-ttu-id="ec1de-113">Como as consultas LINQ to XML representam uma fonte de dados, elas podem ser usadas como uma fonte de dados para vinculação de dados para elementos de interface de usuário do WPF.</span><span class="sxs-lookup"><span data-stu-id="ec1de-113">Because LINQ to XML queries represent a source of data, these queries can be used as a data source for data binding for WPF UI elements.</span></span>

<span data-ttu-id="ec1de-114">Esta documentação descreve o segundo cenário.</span><span class="sxs-lookup"><span data-stu-id="ec1de-114">This documentation describes the second scenario.</span></span>

## <a name="data-binding-in-the-windows-presentation-foundation"></a><span data-ttu-id="ec1de-115">Associação de dados no Windows Presentation Foundation</span><span class="sxs-lookup"><span data-stu-id="ec1de-115">Data binding in the Windows Presentation Foundation</span></span>

<span data-ttu-id="ec1de-116">A vinculação de dados do WPF permite que um elemento de interface de usuário associe uma de suas propriedades a uma fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="ec1de-116">WPF data binding enables a UI element to associate one of its properties with a data source.</span></span> <span data-ttu-id="ec1de-117">Um exemplo simples disso é um <xref:System.Windows.Controls.Label> cujo texto apresenta o valor de uma propriedade pública em um objeto definido pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="ec1de-117">A simple example of this is a <xref:System.Windows.Controls.Label> whose text presents the value of a public property in a user-defined object.</span></span> <span data-ttu-id="ec1de-118">A vinculação de dados do WPF depende dos seguintes componentes:</span><span class="sxs-lookup"><span data-stu-id="ec1de-118">WPF data binding relies on the following components:</span></span>

|<span data-ttu-id="ec1de-119">Componente</span><span class="sxs-lookup"><span data-stu-id="ec1de-119">Component</span></span>|<span data-ttu-id="ec1de-120">Descrição</span><span class="sxs-lookup"><span data-stu-id="ec1de-120">Description</span></span>|
|---------------|-----------------|
|<span data-ttu-id="ec1de-121">Destino de associação</span><span class="sxs-lookup"><span data-stu-id="ec1de-121">Binding target</span></span>|<span data-ttu-id="ec1de-122">O elemento de interface do usuário a ser associado com a fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="ec1de-122">The UI element to be associated with the data source.</span></span> <span data-ttu-id="ec1de-123">Os elementos visuais no WPF são derivados da classe <xref:System.Windows.UIElement>.</span><span class="sxs-lookup"><span data-stu-id="ec1de-123">Visual elements in WPF are derived from the <xref:System.Windows.UIElement> class.</span></span>|
|<span data-ttu-id="ec1de-124">Propriedade de destino</span><span class="sxs-lookup"><span data-stu-id="ec1de-124">Target property</span></span>|<span data-ttu-id="ec1de-125">A *propriedade de dependência* do destino da associação que reflete o valor da fonte da vinculação de dados.</span><span class="sxs-lookup"><span data-stu-id="ec1de-125">The *dependency property* of the binding target that reflects the value of the data-binding source.</span></span> <span data-ttu-id="ec1de-126">As propriedades de dependência têm suporte direto pela classe <xref:System.Windows.DependencyObject>, da qual <xref:System.Windows.UIElement>.</span><span class="sxs-lookup"><span data-stu-id="ec1de-126">Dependency properties are directly supported by the <xref:System.Windows.DependencyObject> class, which <xref:System.Windows.UIElement> derives from.</span></span>|
|<span data-ttu-id="ec1de-127">Fonte de associação</span><span class="sxs-lookup"><span data-stu-id="ec1de-127">Binding source</span></span>|<span data-ttu-id="ec1de-128">O objeto de origem para um ou mais valores que são fornecidos para o elemento da interface de usuário para apresentação.</span><span class="sxs-lookup"><span data-stu-id="ec1de-128">The source object for one or more values that are supplied to the UI element for presentation.</span></span> <span data-ttu-id="ec1de-129">O WPF oferece suporte automático aos seguintes tipos como fontes de associação: objetos CLR, objetos de dados ADO.NET, dados XML (de consultas XPath ou LINQ to XML) ou outro <xref:System.Windows.DependencyObject>.</span><span class="sxs-lookup"><span data-stu-id="ec1de-129">WPF automatically supports the following types as binding sources: CLR objects, ADO.NET data objects, XML data (from XPath or LINQ to XML queries), or another <xref:System.Windows.DependencyObject>.</span></span>|
|<span data-ttu-id="ec1de-130">Caminho de origem</span><span class="sxs-lookup"><span data-stu-id="ec1de-130">Source path</span></span>|<span data-ttu-id="ec1de-131">A propriedade da fonte de associação que resolve para o valor ou conjunto de valores que devem ser associados.</span><span class="sxs-lookup"><span data-stu-id="ec1de-131">The property of the binding source that resolves to the value or set of values that is to be bound.</span></span>|

<span data-ttu-id="ec1de-132">Uma propriedade de dependência é um conceito específico do WPF que representa uma propriedade dinamicamente computada de um elemento de interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="ec1de-132">A dependency property is a concept specific to WPF that represent a dynamically computed property of a UI element.</span></span> <span data-ttu-id="ec1de-133">Por exemplo, as propriedades de dependência geralmente têm valores padrão ou valores que são fornecidos por um elemento pai.</span><span class="sxs-lookup"><span data-stu-id="ec1de-133">For example, dependency properties often have default values or values that are provided by a parent element.</span></span> <span data-ttu-id="ec1de-134">Essas propriedades especiais têm o suporte de instâncias da classe <xref:System.Windows.DependencyProperty> (e não de campos com propriedades padrão).</span><span class="sxs-lookup"><span data-stu-id="ec1de-134">These special properties are backed by instances of the <xref:System.Windows.DependencyProperty> class (and not fields as with standard properties).</span></span> <span data-ttu-id="ec1de-135">Para obter mais informações, consulte [Visão geral sobre propriedades de dependência](../advanced/dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ec1de-135">For more information, see [Dependency Properties Overview](../advanced/dependency-properties-overview.md).</span></span>

### <a name="dynamic-data-binding-in-wpf"></a><span data-ttu-id="ec1de-136">Vinculação de dados dinâmicas no WPF</span><span class="sxs-lookup"><span data-stu-id="ec1de-136">Dynamic data binding in WPF</span></span>

<span data-ttu-id="ec1de-137">Por padrão, a vinculação de dados ocorre somente quando o elemento de interface do usuário de destino é inicializado.</span><span class="sxs-lookup"><span data-stu-id="ec1de-137">By default, data binding occurs only when the target UI element is initialized.</span></span> <span data-ttu-id="ec1de-138">Isso é chamado de associação *única*.</span><span class="sxs-lookup"><span data-stu-id="ec1de-138">This is called *one-time* binding.</span></span> <span data-ttu-id="ec1de-139">Para a maioria das finalidades, isso é insuficiente; normalmente, uma solução de vinculação de dados exige que as alterações sejam propagadas dinamicamente em tempo de execução usando um destes procedimentos:</span><span class="sxs-lookup"><span data-stu-id="ec1de-139">For most purposes, this is insufficient; typically, a data-binding solution requires that the changes be dynamically propagated at run time using one of the following:</span></span>

- <span data-ttu-id="ec1de-140">A associação *unidirecional* faz as alterações em um lado serem propagadas automaticamente.</span><span class="sxs-lookup"><span data-stu-id="ec1de-140">*One-way* binding causes the changes to one side to be propagated automatically.</span></span> <span data-ttu-id="ec1de-141">Mais comumente, as alterações da origem são refletidas no destino, mas o inverso muitas vezes pode ser útil.</span><span class="sxs-lookup"><span data-stu-id="ec1de-141">Most commonly, changes to the source are reflected in the target, but the reverse can sometimes be useful.</span></span>

- <span data-ttu-id="ec1de-142">Na associação *bidirecional*, as alterações da origem são propagadas automaticamente para o destino, e as alterações para o destino são propagadas automaticamente para a origem.</span><span class="sxs-lookup"><span data-stu-id="ec1de-142">In *two-way* binding, changes to the source are automatically propagated to the target, and changes to the target are automatically propagated to the source.</span></span>

<span data-ttu-id="ec1de-143">Para que a associação unidirecional ou bidirecional ocorra, a origem deve implementar um mecanismo de notificação de mudança, por exemplo, implementando a interface de <xref:System.ComponentModel.INotifyPropertyChanged> ou usando um padrão *PropertyNameChanged* para cada propriedade com suporte.</span><span class="sxs-lookup"><span data-stu-id="ec1de-143">For one-way or two-way binding to occur, the source must implement a change notification mechanism, for example by implementing the <xref:System.ComponentModel.INotifyPropertyChanged> interface or by using a *PropertyNameChanged* pattern for each property supported.</span></span>

<span data-ttu-id="ec1de-144">Para obter mais informações sobre vinculação de dados no WPF, consulte [Vinculação de dados (WPF)](/dotnet/framework/wpf/data/data-binding-wpf).</span><span class="sxs-lookup"><span data-stu-id="ec1de-144">For more information about data binding in WPF, see [Data Binding (WPF)](/dotnet/framework/wpf/data/data-binding-wpf).</span></span>

## <a name="dynamic-properties-in-linq-to-xml-classes"></a><span data-ttu-id="ec1de-145">Propriedades dinâmicas em classes LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="ec1de-145">Dynamic properties in LINQ to XML classes</span></span>

<span data-ttu-id="ec1de-146">A maioria das classes LINQ to XML não se qualificam como fontes de dados dinâmicos do WPF adequadas.</span><span class="sxs-lookup"><span data-stu-id="ec1de-146">Most LINQ to XML classes do not qualify as proper WPF dynamic data sources.</span></span> <span data-ttu-id="ec1de-147">Algumas das informações mais úteis estão disponíveis somente através de métodos, e não propriedades, e as propriedades nessas classes não implementam notificações de alteração.</span><span class="sxs-lookup"><span data-stu-id="ec1de-147">Some of the most useful information is available only through methods, not properties, and properties in these classes do not implement change notifications.</span></span> <span data-ttu-id="ec1de-148">Para oferecer suporte à vinculação de dados do WPF, o LINQ to XML expõe um conjunto de *propriedades dinâmicas*.</span><span class="sxs-lookup"><span data-stu-id="ec1de-148">To support WPF data binding, LINQ to XML exposes a set of *dynamic properties*.</span></span>

<span data-ttu-id="ec1de-149">Essas propriedades dinâmicas são as propriedades especiais em tempo de execução que duplicam a funcionalidade dos métodos existentes e as propriedades nas classes <xref:System.Xml.Linq.XAttribute> e de <xref:System.Xml.Linq.XElement>.</span><span class="sxs-lookup"><span data-stu-id="ec1de-149">These dynamic properties are special run-time properties that duplicate the functionality of existing methods and properties in the <xref:System.Xml.Linq.XAttribute> and <xref:System.Xml.Linq.XElement> classes.</span></span> <span data-ttu-id="ec1de-150">Elas foram adicionados às classes exclusivamente para habilitá-las para atuar como fontes de dados dinâmicas para WPF.</span><span class="sxs-lookup"><span data-stu-id="ec1de-150">They were added to these classes solely to enable them to act as dynamic data sources for WPF.</span></span> <span data-ttu-id="ec1de-151">Para atender essa necessidade, todas essas propriedades dinâmicas implementam notificações de alterações.</span><span class="sxs-lookup"><span data-stu-id="ec1de-151">To meet this need, all these dynamic properties implement change notifications.</span></span> <span data-ttu-id="ec1de-152">Uma referência detalhada sobre essas propriedades dinâmicas é fornecida na próxima seção, [Propriedades dinâmicas LINQ to XML](linq-to-xml-dynamic-properties.md).</span><span class="sxs-lookup"><span data-stu-id="ec1de-152">A detailed reference for these dynamic properties is provided in the next section, [LINQ to XML Dynamic Properties](linq-to-xml-dynamic-properties.md).</span></span>

> [!NOTE]
> <span data-ttu-id="ec1de-153">Muitas das propriedades públicas padrão, localizadas em várias classes no namespace <xref:System.Xml.Linq>, podem ser usadas para a vinculação de dados única.</span><span class="sxs-lookup"><span data-stu-id="ec1de-153">Many of the standard public properties, found in the various classes in the <xref:System.Xml.Linq> namespace, can be used for one-time data binding.</span></span> <span data-ttu-id="ec1de-154">No entanto, lembre-se de que nem a origem ou o destino serão atualizados dinamicamente neste esquema.</span><span class="sxs-lookup"><span data-stu-id="ec1de-154">However, remember that neither the source nor the target will be dynamically updated under this scheme.</span></span>

### <a name="access-dynamic-properties"></a><span data-ttu-id="ec1de-155">Acessar propriedades dinâmicas</span><span class="sxs-lookup"><span data-stu-id="ec1de-155">Access dynamic properties</span></span>

<span data-ttu-id="ec1de-156">As propriedades dinâmicas nas classes <xref:System.Xml.Linq.XAttribute> e <xref:System.Xml.Linq.XElement> não podem ser acessadas como propriedades padrão.</span><span class="sxs-lookup"><span data-stu-id="ec1de-156">The dynamic properties in the <xref:System.Xml.Linq.XAttribute> and <xref:System.Xml.Linq.XElement> classes cannot be accessed like standard properties.</span></span> <span data-ttu-id="ec1de-157">Por exemplo, em linguagens compatíveis com CLR, como C#, elas não podem ser:</span><span class="sxs-lookup"><span data-stu-id="ec1de-157">For example, in CLR-compliant languages such as C#, they cannot be:</span></span>

- <span data-ttu-id="ec1de-158">Acessadas diretamente em tempo de compilação.</span><span class="sxs-lookup"><span data-stu-id="ec1de-158">Accessed directly at compile time.</span></span> <span data-ttu-id="ec1de-159">As propriedades dinâmicas são invisíveis para o compilador e o Visual Studio IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="ec1de-159">Dynamic properties are invisible to the compiler and to Visual Studio IntelliSense.</span></span>

- <span data-ttu-id="ec1de-160">Descobertas ou acessadas em tempo de execução usando reflexão .NET.</span><span class="sxs-lookup"><span data-stu-id="ec1de-160">Discovered or accessed at run time using .NET reflection.</span></span> <span data-ttu-id="ec1de-161">Mesmo em tempo de execução, elas não são propriedades no sentido básico de CLR.</span><span class="sxs-lookup"><span data-stu-id="ec1de-161">Even at run time, they are not properties in the basic CLR sense.</span></span>

<span data-ttu-id="ec1de-162">No C#, as propriedades dinâmicas podem ser acessadas somente em tempo de execução através de recursos fornecidos pelo namespace <xref:System.ComponentModel>.</span><span class="sxs-lookup"><span data-stu-id="ec1de-162">In C#, dynamic properties can only be accessed at run time through facilities provided by the <xref:System.ComponentModel> namespace.</span></span>

<span data-ttu-id="ec1de-163">Ao contrário, no entanto, em uma origem XML as propriedades dinâmicas podem ser acessadas através de uma notação simples da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="ec1de-163">In contrast, however, in an XML source dynamic properties can be accessed through a straightforward notation in the following form:</span></span>

```xml
<object>.<dynamic-property>
```

<span data-ttu-id="ec1de-164">As propriedades dinâmicas para essas duas classes resolvem para um valor que pode ser usado diretamente, ou para um indexador que deve ser fornecido com um índice para obter o valor resultante ou uma coleção de valores.</span><span class="sxs-lookup"><span data-stu-id="ec1de-164">The dynamic properties for these two classes either resolve to a value that can be used directly, or to an indexer that must be supplied with an index to obtain the resulting value or collection of values.</span></span> <span data-ttu-id="ec1de-165">A última sintaxe utiliza o formato:</span><span class="sxs-lookup"><span data-stu-id="ec1de-165">The latter syntax takes the form:</span></span>

```xml
<object>.<dynamic-property>[<index-value>]
```

<span data-ttu-id="ec1de-166">Para obter mais informações, consulte [Propriedades dinâmicas LINQ to XML](linq-to-xml-dynamic-properties.md).</span><span class="sxs-lookup"><span data-stu-id="ec1de-166">For more information, see [LINQ to XML Dynamic Properties](linq-to-xml-dynamic-properties.md).</span></span>

<span data-ttu-id="ec1de-167">Para implementar a associação dinâmica de WPF, as propriedades dinâmicas serão usadas com os recursos fornecidos pelo namespace <xref:System.Windows.Data>, especialmente a classe <xref:System.Windows.Data.Binding>.</span><span class="sxs-lookup"><span data-stu-id="ec1de-167">To implement WPF dynamic binding, dynamic properties will be used with facilities provided by the <xref:System.Windows.Data> namespace, most notably the <xref:System.Windows.Data.Binding> class.</span></span>

## <a name="see-also"></a><span data-ttu-id="ec1de-168">Veja também</span><span class="sxs-lookup"><span data-stu-id="ec1de-168">See also</span></span>

- [<span data-ttu-id="ec1de-169">Vinculação de dados de WPF com LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="ec1de-169">WPF Data Binding with LINQ to XML</span></span>](wpf-data-binding-with-linq-to-xml-overview.md)
- [<span data-ttu-id="ec1de-170">Propriedades dinâmicas LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="ec1de-170">LINQ to XML Dynamic Properties</span></span>](linq-to-xml-dynamic-properties.md)
- [<span data-ttu-id="ec1de-171">XAML no WPF</span><span class="sxs-lookup"><span data-stu-id="ec1de-171">XAML in WPF</span></span>](../advanced/xaml-in-wpf.md)
- [<span data-ttu-id="ec1de-172">Associação de dados (WPF)</span><span class="sxs-lookup"><span data-stu-id="ec1de-172">Data Binding (WPF)</span></span>](/dotnet/framework/wpf/data/data-binding-wpf)
- [<span data-ttu-id="ec1de-173">Usando a marcação de fluxo de trabalho</span><span class="sxs-lookup"><span data-stu-id="ec1de-173">Using Workflow Markup</span></span>](https://go.microsoft.com/fwlink/?LinkId=98685)
