---
title: Personalizando a aparência de um controle existente criando um ControlTemplate
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- control contract [WPF]
- controls [WPF], visual structure changes
- ControlTemplate [WPF], customizing for existing controls
- skinning controls [WPF]
- controls [WPF], appearance specified by state
- templates [WPF], custom for existing controls
ms.assetid: 678dd116-43a2-4b8c-82b5-6b826f126e31
ms.openlocfilehash: 435789e0d1bc601a9eb51488254407fefd334e05
ms.sourcegitcommit: 64f4baed249341e5bf64d1385bf48e3f2e1a0211
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/07/2018
ms.locfileid: "44077035"
---
# <a name="customizing-the-appearance-of-an-existing-control-by-creating-a-controltemplate"></a><span data-ttu-id="2d0cf-102">Personalizando a aparência de um controle existente criando um ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="2d0cf-102">Customizing the Appearance of an Existing Control by Creating a ControlTemplate</span></span>
<a name="introduction"></a> <span data-ttu-id="2d0cf-103">Um <xref:System.Windows.Controls.ControlTemplate> Especifica a estrutura visual e o comportamento visual de um controle.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-103">A <xref:System.Windows.Controls.ControlTemplate> specifies the visual structure and visual behavior of a control.</span></span> <span data-ttu-id="2d0cf-104">Você pode personalizar a aparência de um controle, fornecendo uma nova <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-104">You can customize the appearance of a control by giving it a new <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="2d0cf-105">Quando você cria um <xref:System.Windows.Controls.ControlTemplate>, substitua a aparência de um controle existente sem alterar sua funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-105">When you create a <xref:System.Windows.Controls.ControlTemplate>, you replace the appearance of an existing control without changing its functionality.</span></span> <span data-ttu-id="2d0cf-106">Por exemplo, você pode tornar os botões em seu aplicativo redondos em vez da forma quadrada padrão, mas o botão ainda gerará o <xref:System.Windows.Controls.Primitives.ButtonBase.Click> eventos.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-106">For example, you can make the buttons in your application round instead of the default square shape, but the button will still raise the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
 <span data-ttu-id="2d0cf-107">Este tópico explica as várias partes de um <xref:System.Windows.Controls.ControlTemplate>, demonstra como criar um simples <xref:System.Windows.Controls.ControlTemplate> para um <xref:System.Windows.Controls.Button>e explica como compreender o contrato de controle de um controle para que você possa personalizar sua aparência.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-107">This topic explains the various parts of a <xref:System.Windows.Controls.ControlTemplate>, demonstrates creating a simple <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button>, and explains how to understand the control contract of a control so that you can customize its appearance.</span></span> <span data-ttu-id="2d0cf-108">Como você criar uma <xref:System.Windows.Controls.ControlTemplate> em [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], você pode alterar a aparência de um controle sem escrever nenhum código.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-108">Because you create a <xref:System.Windows.Controls.ControlTemplate> in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you can change a control's appearance without writing any code.</span></span> <span data-ttu-id="2d0cf-109">Você também pode usar um designer, por exemplo, o Microsoft Expression Blend, para criar modelos de controle personalizado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-109">You can also use a designer, such as Microsoft Expression Blend, to create custom control templates.</span></span> <span data-ttu-id="2d0cf-110">Este tópico mostra exemplos de [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] que personalizam a aparência de um <xref:System.Windows.Controls.Button> e lista o exemplo completo no final do tópico.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-110">This topic shows examples in the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] that customize the appearance of a <xref:System.Windows.Controls.Button> and lists the complete example at the end of the topic.</span></span> <span data-ttu-id="2d0cf-111">Para obter mais informações sobre como usar o Expression Blend, consulte [Definir o estilo de um controle que dá suporte a modelos](https://go.microsoft.com/fwlink/?LinkId=161153).</span><span class="sxs-lookup"><span data-stu-id="2d0cf-111">For more information about using Expression Blend, see [Styling a control that supports templates](https://go.microsoft.com/fwlink/?LinkId=161153).</span></span>  
  
 <span data-ttu-id="2d0cf-112">As ilustrações mostram uma <xref:System.Windows.Controls.Button> que usa o <xref:System.Windows.Controls.ControlTemplate> que é criado neste tópico.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-112">The following illustrations show a <xref:System.Windows.Controls.Button> that uses the <xref:System.Windows.Controls.ControlTemplate> that is created in this topic.</span></span>  
  
 <span data-ttu-id="2d0cf-113">![Um botão com um modelo de controle personalizado. ](../../../../docs/framework/wpf/controls/media/ndp-buttonnormal.png "NDP_ButtonNormal")</span><span class="sxs-lookup"><span data-stu-id="2d0cf-113">![A button with a custom control template.](../../../../docs/framework/wpf/controls/media/ndp-buttonnormal.png "NDP_ButtonNormal")</span></span>  
<span data-ttu-id="2d0cf-114">Um botão que usa um modelo de controle personalizado</span><span class="sxs-lookup"><span data-stu-id="2d0cf-114">A button that uses a custom control template</span></span>  
  
 <span data-ttu-id="2d0cf-115">![Um botão com uma borda vermelha. ](../../../../docs/framework/wpf/controls/media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span><span class="sxs-lookup"><span data-stu-id="2d0cf-115">![A button with a red border.](../../../../docs/framework/wpf/controls/media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span></span>  
<span data-ttu-id="2d0cf-116">Um botão que usa um modelo de controle personalizado e tem o ponteiro do mouse sobre ele</span><span class="sxs-lookup"><span data-stu-id="2d0cf-116">A button that uses a custom control template and has the mouse pointer over it</span></span>  
  
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="2d0cf-117">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="2d0cf-117">Prerequisites</span></span>  
 <span data-ttu-id="2d0cf-118">Este tópico presume que você entenda como criar e usar controles e estilos, conforme discutido em [Controles](../../../../docs/framework/wpf/controls/index.md).</span><span class="sxs-lookup"><span data-stu-id="2d0cf-118">This topic assumes that you understand how to create and use controls and styles as discussed in [Controls](../../../../docs/framework/wpf/controls/index.md).</span></span> <span data-ttu-id="2d0cf-119">Os conceitos discutidos neste tópico se aplicam aos elementos que herdam de <xref:System.Windows.Controls.Control> classe, exceto para o <xref:System.Windows.Controls.UserControl>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-119">The concepts discussed in this topic apply to elements that inherit from the <xref:System.Windows.Controls.Control> class, except for the <xref:System.Windows.Controls.UserControl>.</span></span> <span data-ttu-id="2d0cf-120">Não é possível aplicar uma <xref:System.Windows.Controls.ControlTemplate> para um <xref:System.Windows.Controls.UserControl>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-120">You cannot apply a <xref:System.Windows.Controls.ControlTemplate> to a <xref:System.Windows.Controls.UserControl>.</span></span>  
  
<a name="when_you_should_create_a_controltemplate"></a>   
## <a name="when-you-should-create-a-controltemplate"></a><span data-ttu-id="2d0cf-121">Quando você criar um ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="2d0cf-121">When You Should Create a ControlTemplate</span></span>  
 <span data-ttu-id="2d0cf-122">Controles têm várias propriedades, tais como <xref:System.Windows.Controls.Border.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, e <xref:System.Windows.Controls.Control.FontFamily%2A>, que você pode definir para especificar diferentes aspectos da aparência do controle, mas as alterações que você pode fazer ao definir essas propriedades são limitadas.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-122">Controls have many properties, such as <xref:System.Windows.Controls.Border.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, and <xref:System.Windows.Controls.Control.FontFamily%2A>, that you can set to specify different aspects of the control's appearance, but the changes that you can make by setting these properties are limited.</span></span> <span data-ttu-id="2d0cf-123">Por exemplo, você pode definir as <xref:System.Windows.Controls.Control.Foreground%2A> propriedade para azul e <xref:System.Windows.Controls.Control.FontStyle%2A> para itálico em uma <xref:System.Windows.Controls.CheckBox>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-123">For example, you can set the <xref:System.Windows.Controls.Control.Foreground%2A> property to blue and <xref:System.Windows.Controls.Control.FontStyle%2A> to italic on a <xref:System.Windows.Controls.CheckBox>.</span></span>  
  
 <span data-ttu-id="2d0cf-124">Sem a capacidade de criar um novo <xref:System.Windows.Controls.ControlTemplate> para controles, todos os controles em cada [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-aplicativo com base teria a mesma aparência geral, o que limitaria a capacidade de criar um aplicativo com uma aparência personalizada.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-124">Without the ability to create a new <xref:System.Windows.Controls.ControlTemplate> for controls, all controls in every [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-based application would have the same general appearance, which would limit the ability to create an application with a custom look and feel.</span></span> <span data-ttu-id="2d0cf-125">Por padrão, cada <xref:System.Windows.Controls.CheckBox> tem características semelhantes.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-125">By default, every <xref:System.Windows.Controls.CheckBox> has similar characteristics.</span></span> <span data-ttu-id="2d0cf-126">Por exemplo, o conteúdo do <xref:System.Windows.Controls.CheckBox> sempre está à direita do indicador de seleção, e a marca de seleção é sempre usada para indicar que o <xref:System.Windows.Controls.CheckBox> está selecionado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-126">For example, the content of the <xref:System.Windows.Controls.CheckBox> is always to the right of the selection indicator, and the check mark is always used to indicate that the <xref:System.Windows.Controls.CheckBox> is selected.</span></span>  
  
 <span data-ttu-id="2d0cf-127">Você cria um <xref:System.Windows.Controls.ControlTemplate> quando você deseja personalizar a aparência do controle além do que as outras propriedades de configuração no controle fará.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-127">You create a <xref:System.Windows.Controls.ControlTemplate> when you want to customize the control's appearance beyond what setting the other properties on the control will do.</span></span> <span data-ttu-id="2d0cf-128">No exemplo do <xref:System.Windows.Controls.CheckBox>, suponha que você deseja que o conteúdo da caixa de seleção acima do indicador de seleção e você deseja que um X para indicar que o <xref:System.Windows.Controls.CheckBox> está selecionado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-128">In the example of the <xref:System.Windows.Controls.CheckBox>, suppose that you want the content of the check box to be above the selection indicator and you want an X to indicate that the <xref:System.Windows.Controls.CheckBox> is selected.</span></span> <span data-ttu-id="2d0cf-129">Especificar essas alterações na <xref:System.Windows.Controls.ControlTemplate> do <xref:System.Windows.Controls.CheckBox>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-129">You specify these changes in the <xref:System.Windows.Controls.ControlTemplate> of the <xref:System.Windows.Controls.CheckBox>.</span></span>  
  
 <span data-ttu-id="2d0cf-130">A ilustração a seguir mostra uma <xref:System.Windows.Controls.CheckBox> que usa um padrão <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-130">The following illustration shows a <xref:System.Windows.Controls.CheckBox> that uses a default <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 <span data-ttu-id="2d0cf-131">![Uma caixa de seleção com o modelo de controle padrão. ](../../../../docs/framework/wpf/controls/media/ndp-checkboxdefault.png "NDP_CheckBoxDefault")</span><span class="sxs-lookup"><span data-stu-id="2d0cf-131">![A checkbox with the default control template.](../../../../docs/framework/wpf/controls/media/ndp-checkboxdefault.png "NDP_CheckBoxDefault")</span></span>  
<span data-ttu-id="2d0cf-132">Uma caixa de seleção que usa o modelo de controle padrão</span><span class="sxs-lookup"><span data-stu-id="2d0cf-132">A CheckBox that uses the default control template</span></span>  
  
 <span data-ttu-id="2d0cf-133">A ilustração a seguir mostra uma <xref:System.Windows.Controls.CheckBox> que usa um personalizado <xref:System.Windows.Controls.ControlTemplate> para colocar o conteúdo da <xref:System.Windows.Controls.CheckBox> acima do indicador de seleção e exibe um X quando o <xref:System.Windows.Controls.CheckBox> está selecionado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-133">The following illustration shows a <xref:System.Windows.Controls.CheckBox> that uses a custom <xref:System.Windows.Controls.ControlTemplate> to place the content of the <xref:System.Windows.Controls.CheckBox> above the selection indicator and displays an X when the <xref:System.Windows.Controls.CheckBox> is selected.</span></span>  
  
 <span data-ttu-id="2d0cf-134">![Uma caixa de seleção com um modelo de controle personalizado. ](../../../../docs/framework/wpf/controls/media/ndp-checkboxcustom.png "NDP_CheckBoxCustom")</span><span class="sxs-lookup"><span data-stu-id="2d0cf-134">![A checkbox with a custom control template.](../../../../docs/framework/wpf/controls/media/ndp-checkboxcustom.png "NDP_CheckBoxCustom")</span></span>  
<span data-ttu-id="2d0cf-135">Uma caixa de seleção que usa um modelo de controle personalizado</span><span class="sxs-lookup"><span data-stu-id="2d0cf-135">A CheckBox that uses a custom control template</span></span>  
  
 <span data-ttu-id="2d0cf-136">O <xref:System.Windows.Controls.ControlTemplate> para o <xref:System.Windows.Controls.CheckBox> neste exemplo é relativamente complexa, portanto, este tópico usa um exemplo mais simples de criar um <xref:System.Windows.Controls.ControlTemplate> para um <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-136">The <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.CheckBox> in this sample is relatively complex, so this topic uses a simpler example of creating a <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button>.</span></span>  
  
<a name="changing_the_visual_structure_of_a_control"></a>   
## <a name="changing-the-visual-structure-of-a-control"></a><span data-ttu-id="2d0cf-137">Alterar a estrutura visual de um controle</span><span class="sxs-lookup"><span data-stu-id="2d0cf-137">Changing the Visual Structure of a Control</span></span>  
 <span data-ttu-id="2d0cf-138">Na [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], um controle é muitas vezes uma composição <xref:System.Windows.FrameworkElement> objetos.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-138">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], a control is often a composite <xref:System.Windows.FrameworkElement> objects.</span></span> <span data-ttu-id="2d0cf-139">Quando você cria um <xref:System.Windows.Controls.ControlTemplate>, você combina <xref:System.Windows.FrameworkElement> objetos para criar um único controle.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-139">When you create a <xref:System.Windows.Controls.ControlTemplate>, you combine <xref:System.Windows.FrameworkElement> objects to build a single control.</span></span> <span data-ttu-id="2d0cf-140">Um <xref:System.Windows.Controls.ControlTemplate> deve ter apenas um <xref:System.Windows.FrameworkElement> como seu elemento raiz.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-140">A <xref:System.Windows.Controls.ControlTemplate> must have only one <xref:System.Windows.FrameworkElement> as its root element.</span></span> <span data-ttu-id="2d0cf-141">O elemento raiz normalmente contém outros <xref:System.Windows.FrameworkElement> objetos.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-141">The root element usually contains other <xref:System.Windows.FrameworkElement> objects.</span></span> <span data-ttu-id="2d0cf-142">A combinação de objetos compõe a estrutura visual do controle.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-142">The combination of objects makes up the control's visual structure.</span></span>  
  
 <span data-ttu-id="2d0cf-143">O exemplo a seguir cria um personalizado <xref:System.Windows.Controls.ControlTemplate> para o <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-143">The following example creates a custom <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="2d0cf-144">O <xref:System.Windows.Controls.ControlTemplate> cria a estrutura visual do <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-144">The <xref:System.Windows.Controls.ControlTemplate> creates the visual structure of the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="2d0cf-145">Este exemplo não altera a aparência do botão quando você move o ponteiro do mouse sobre ele ou clica nele.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-145">This example does not change the button's appearance when you move the mouse pointer over it or click it.</span></span> <span data-ttu-id="2d0cf-146">A alteração da aparência do botão quando ele está em um estado diferente é discutida posteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-146">Changing the button's appearance when it is in a different state is discussed later in this topic.</span></span>  
  
 <span data-ttu-id="2d0cf-147">Neste exemplo, a estrutura visual consiste das seguintes partes:</span><span class="sxs-lookup"><span data-stu-id="2d0cf-147">In this example, the visual structure consists of the following parts:</span></span>  
  
-   <span data-ttu-id="2d0cf-148">Um <xref:System.Windows.Controls.Border> nomeado `RootElement` que serve como a raiz do modelo <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-148">A <xref:System.Windows.Controls.Border> named `RootElement` that serves as the template's root <xref:System.Windows.FrameworkElement>.</span></span>  
  
-   <span data-ttu-id="2d0cf-149">Um <xref:System.Windows.Controls.Grid> que é um filho de `RootElement`.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-149">A <xref:System.Windows.Controls.Grid> that is a child of `RootElement`.</span></span>  
  
-   <span data-ttu-id="2d0cf-150">Um <xref:System.Windows.Controls.ContentPresenter> que exibe o conteúdo do botão.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-150">A <xref:System.Windows.Controls.ContentPresenter> that displays the button's content.</span></span> <span data-ttu-id="2d0cf-151">O <xref:System.Windows.Controls.ContentPresenter> permite que qualquer tipo de objeto a ser exibido.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-151">The <xref:System.Windows.Controls.ContentPresenter> enables any type of object to be displayed.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#BasicTemplate](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#basictemplate)]  
  
### <a name="preserving-the-functionality-of-a-controls-properties-by-using-templatebinding"></a><span data-ttu-id="2d0cf-152">Preserva a funcionalidade das propriedades de um controle usando TemplateBinding</span><span class="sxs-lookup"><span data-stu-id="2d0cf-152">Preserving the Functionality of a Control's Properties by Using TemplateBinding</span></span>  
 <span data-ttu-id="2d0cf-153">Quando você cria um novo <xref:System.Windows.Controls.ControlTemplate>, você ainda poderá usar as propriedades públicas para alterar a aparência do controle.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-153">When you create a new <xref:System.Windows.Controls.ControlTemplate>, you still might want to use the public properties to change the control's appearance.</span></span> <span data-ttu-id="2d0cf-154">O [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md) extensão de marcação é associado a uma propriedade de um elemento que está no <xref:System.Windows.Controls.ControlTemplate> a uma propriedade pública que é definida pelo controle.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-154">The [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md) markup extension binds a property of an element that is in the <xref:System.Windows.Controls.ControlTemplate> to a public property that is defined by the control.</span></span> <span data-ttu-id="2d0cf-155">Quando você usa [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md), você habilita propriedades do controle para atuar como parâmetros para o modelo.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-155">When you use [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md), you enable properties on the control to act as parameters to the template.</span></span> <span data-ttu-id="2d0cf-156">Ou seja, quando uma propriedade em um controle é definida, esse valor é passado para o elemento que contém a [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="2d0cf-156">That is, when a property on a control is set, that value is passed on to the element that has the [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md) on it.</span></span>  
  
 <span data-ttu-id="2d0cf-157">O exemplo a seguir repete a parte do exemplo anterior que usa o [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md) extensão de marcação para associar as propriedades dos elementos que estão na <xref:System.Windows.Controls.ControlTemplate> a propriedades públicas que são definidas pelo botão.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-157">The following example repeats the part of the preceding example that uses the [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md) markup extension to bind properties of elements that are in the <xref:System.Windows.Controls.ControlTemplate> to public properties that are defined by the button.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#TemplateBinding](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#templatebinding)]  
  
 <span data-ttu-id="2d0cf-158">Neste exemplo, o <xref:System.Windows.Controls.Grid> tem sua <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> modelo de propriedade associado ao <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-158">In this example, the <xref:System.Windows.Controls.Grid> has its <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> property template bound to <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="2d0cf-159">Porque <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> é o modelo associado, você pode criar vários botões que usam o mesmo <xref:System.Windows.Controls.ControlTemplate> e defina o <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> como valores diferentes em cada botão.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-159">Because <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> is template bound, you can create multiple buttons that use the same <xref:System.Windows.Controls.ControlTemplate> and set the <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> to different values on each button.</span></span> <span data-ttu-id="2d0cf-160">Se <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> era o modelo não associado a uma propriedade de um elemento em de <xref:System.Windows.Controls.ControlTemplate>, definindo o <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> de um botão não tem nenhum impacto sobre a aparência do botão.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-160">If <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> was not template bound to a property of an element in the <xref:System.Windows.Controls.ControlTemplate>, setting the <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> of a button would have no impact on the button's appearance.</span></span>  
  
 <span data-ttu-id="2d0cf-161">Observe que os nomes das duas propriedades não precisam ser idênticos.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-161">Note that the names of the two properties do not need to be identical.</span></span> <span data-ttu-id="2d0cf-162">No exemplo anterior, o <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> propriedade do <xref:System.Windows.Controls.Button> é o modelo associado à <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType> propriedade do <xref:System.Windows.Controls.ContentPresenter>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-162">In the preceding example, the <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> property of the <xref:System.Windows.Controls.Button> is template bound to the <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType> property of the <xref:System.Windows.Controls.ContentPresenter>.</span></span> <span data-ttu-id="2d0cf-163">Isso permite que o conteúdo do botão seja posicionado horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-163">This enables the content of the button to be positioned horizontally.</span></span> <span data-ttu-id="2d0cf-164"><xref:System.Windows.Controls.ContentPresenter> não tem uma propriedade chamada `HorizontalContentAlignment`, mas <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> pode ser associado a <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-164"><xref:System.Windows.Controls.ContentPresenter> does not have a property named `HorizontalContentAlignment`, but <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> can be bound to <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="2d0cf-165">Quando você associar o modelo de uma propriedade, certifique-se de que as propriedades de origem e destino sejam do mesmo tipo.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-165">When you template bind a property, be sure that the target and source properties are the same type.</span></span>  
  
 <span data-ttu-id="2d0cf-166">O <xref:System.Windows.Controls.Control> classe define várias propriedades que devem ser usadas pelo modelo de controle para ter um efeito no controle quando eles são definidos.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-166">The <xref:System.Windows.Controls.Control> class defines several properties that must be used by the control template to have an effect on the control when they are set.</span></span> <span data-ttu-id="2d0cf-167">Como o <xref:System.Windows.Controls.ControlTemplate> usa a propriedade depende da propriedade.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-167">How the <xref:System.Windows.Controls.ControlTemplate> uses the property depends on the property.</span></span> <span data-ttu-id="2d0cf-168">O <xref:System.Windows.Controls.ControlTemplate> deve usar a propriedade em uma das seguintes maneiras:</span><span class="sxs-lookup"><span data-stu-id="2d0cf-168">The <xref:System.Windows.Controls.ControlTemplate> must use the property in one of the following ways:</span></span>  
  
-   <span data-ttu-id="2d0cf-169">Um elemento no <xref:System.Windows.Controls.ControlTemplate> modelo associado à propriedade.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-169">An element in the <xref:System.Windows.Controls.ControlTemplate> template binds to the property.</span></span>  
  
-   <span data-ttu-id="2d0cf-170">Um elemento de <xref:System.Windows.Controls.ControlTemplate> herda a propriedade de um pai <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-170">An element in the <xref:System.Windows.Controls.ControlTemplate> inherits the property from a parent <xref:System.Windows.FrameworkElement>.</span></span>  
  
 <span data-ttu-id="2d0cf-171">A tabela a seguir lista as propriedades visuais herdadas por um controle a partir de <xref:System.Windows.Controls.Control> classe.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-171">The following table lists the visual properties inherited by a control from the <xref:System.Windows.Controls.Control> class.</span></span> <span data-ttu-id="2d0cf-172">Ele também indica se o modelo de controle padrão de um controle usa o valor da propriedade herdada ou se ele deve teu seu modelo associado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-172">It also indicates whether the default control template of a control uses the inherited property value or if it must be template bound.</span></span>  
  
|<span data-ttu-id="2d0cf-173">Propriedade</span><span class="sxs-lookup"><span data-stu-id="2d0cf-173">Property</span></span>|<span data-ttu-id="2d0cf-174">Método de uso</span><span class="sxs-lookup"><span data-stu-id="2d0cf-174">Usage method</span></span>|  
|--------------|------------------|  
|<xref:System.Windows.Controls.Control.Background%2A>|<span data-ttu-id="2d0cf-175">Associação de modelo</span><span class="sxs-lookup"><span data-stu-id="2d0cf-175">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.BorderThickness%2A>|<span data-ttu-id="2d0cf-176">Associação de modelo</span><span class="sxs-lookup"><span data-stu-id="2d0cf-176">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.BorderBrush%2A>|<span data-ttu-id="2d0cf-177">Associação de modelo</span><span class="sxs-lookup"><span data-stu-id="2d0cf-177">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontFamily%2A>|<span data-ttu-id="2d0cf-178">Herança de propriedade ou associação de modelo</span><span class="sxs-lookup"><span data-stu-id="2d0cf-178">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontSize%2A>|<span data-ttu-id="2d0cf-179">Herança de propriedade ou associação de modelo</span><span class="sxs-lookup"><span data-stu-id="2d0cf-179">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontStretch%2A>|<span data-ttu-id="2d0cf-180">Herança de propriedade ou associação de modelo</span><span class="sxs-lookup"><span data-stu-id="2d0cf-180">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontWeight%2A>|<span data-ttu-id="2d0cf-181">Herança de propriedade ou associação de modelo</span><span class="sxs-lookup"><span data-stu-id="2d0cf-181">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.Foreground%2A>|<span data-ttu-id="2d0cf-182">Herança de propriedade ou associação de modelo</span><span class="sxs-lookup"><span data-stu-id="2d0cf-182">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A>|<span data-ttu-id="2d0cf-183">Associação de modelo</span><span class="sxs-lookup"><span data-stu-id="2d0cf-183">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.Padding%2A>|<span data-ttu-id="2d0cf-184">Associação de modelo</span><span class="sxs-lookup"><span data-stu-id="2d0cf-184">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.VerticalContentAlignment%2A>|<span data-ttu-id="2d0cf-185">Associação de modelo</span><span class="sxs-lookup"><span data-stu-id="2d0cf-185">Template binding</span></span>|  
  
 <span data-ttu-id="2d0cf-186">A tabela lista apenas as propriedades visuais herdadas do <xref:System.Windows.Controls.Control> classe.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-186">The table lists only the visual properties inherited from the <xref:System.Windows.Controls.Control> class.</span></span> <span data-ttu-id="2d0cf-187">Além das propriedades listadas na tabela, um controle também pode herdar de <xref:System.Windows.FrameworkElement.DataContext%2A>, <xref:System.Windows.FrameworkElement.Language%2A>, e <xref:System.Windows.Controls.TextBlock.TextDecorations%2A> propriedades de elemento framework pai.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-187">Apart from the properties listed in the table, a control may also inherit the <xref:System.Windows.FrameworkElement.DataContext%2A>, <xref:System.Windows.FrameworkElement.Language%2A>, and <xref:System.Windows.Controls.TextBlock.TextDecorations%2A> properties from the parent framework element.</span></span>  
  
 <span data-ttu-id="2d0cf-188">Além disso, se o <xref:System.Windows.Controls.ContentPresenter> está no <xref:System.Windows.Controls.ControlTemplate> de uma <xref:System.Windows.Controls.ContentControl>, o <xref:System.Windows.Controls.ContentPresenter> se associará automaticamente para o <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> e <xref:System.Windows.Controls.ContentControl.Content%2A> propriedades.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-188">Also, if the <xref:System.Windows.Controls.ContentPresenter> is in the <xref:System.Windows.Controls.ControlTemplate> of a <xref:System.Windows.Controls.ContentControl>, the <xref:System.Windows.Controls.ContentPresenter> will automatically bind to the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> and <xref:System.Windows.Controls.ContentControl.Content%2A> properties.</span></span> <span data-ttu-id="2d0cf-189">Da mesma forma, uma <xref:System.Windows.Controls.ItemsPresenter> que está no <xref:System.Windows.Controls.ControlTemplate> de uma <xref:System.Windows.Controls.ItemsControl> se associará automaticamente para o <xref:System.Windows.Controls.ItemsControl.Items%2A> e <xref:System.Windows.Controls.ItemsPresenter> propriedades.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-189">Likewise, an <xref:System.Windows.Controls.ItemsPresenter> that is in the <xref:System.Windows.Controls.ControlTemplate> of an <xref:System.Windows.Controls.ItemsControl> will automatically bind to the <xref:System.Windows.Controls.ItemsControl.Items%2A> and <xref:System.Windows.Controls.ItemsPresenter> properties.</span></span>  
  
 <span data-ttu-id="2d0cf-190">O exemplo a seguir cria dois botões que usam o <xref:System.Windows.Controls.ControlTemplate> definido no exemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-190">The following example creates two buttons that use the <xref:System.Windows.Controls.ControlTemplate> defined in the preceding example.</span></span> <span data-ttu-id="2d0cf-191">O exemplo define o <xref:System.Windows.Controls.Control.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, e <xref:System.Windows.Controls.Control.FontSize%2A> propriedades em cada botão.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-191">The example sets the <xref:System.Windows.Controls.Control.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, and <xref:System.Windows.Controls.Control.FontSize%2A> properties on each button.</span></span> <span data-ttu-id="2d0cf-192">Definindo o <xref:System.Windows.Controls.Control.Background%2A> propriedade tem um efeito porque ele é o modelo associado a <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-192">Setting the <xref:System.Windows.Controls.Control.Background%2A> property has an effect because it is template bound in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="2d0cf-193">Mesmo que o <xref:System.Windows.Controls.Control.Foreground%2A> e <xref:System.Windows.Controls.Control.FontSize%2A> propriedades não são de modelo associado, defini-las tem um efeito porque seus valores são herdados.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-193">Even though the <xref:System.Windows.Controls.Control.Foreground%2A> and <xref:System.Windows.Controls.Control.FontSize%2A> properties are not template bound, setting them has an effect because their values are inherited.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#ButtonDeclaration](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#buttondeclaration)]  
  
 <span data-ttu-id="2d0cf-194">O exemplo anterior produz um resultado semelhante ao mostrado na ilustração a seguir.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-194">The preceding example produces output that is similar to the following illustration.</span></span>  
  
 <span data-ttu-id="2d0cf-195">![Dois botões, um azul e um roxo. ](../../../../docs/framework/wpf/controls/media/ndp-buttontwo.png "NDP_ButtonTwo")</span><span class="sxs-lookup"><span data-stu-id="2d0cf-195">![Two buttons, one blue and one purple.](../../../../docs/framework/wpf/controls/media/ndp-buttontwo.png "NDP_ButtonTwo")</span></span>  
<span data-ttu-id="2d0cf-196">Dois botões com cores da tela de fundo diferentes</span><span class="sxs-lookup"><span data-stu-id="2d0cf-196">Two buttons with different background colors</span></span>  
  
<a name="changing_the_appearance_of_a_control_depending_on_its_state"></a>   
## <a name="changing-the-appearance-of-a-control-depending-on-its-state"></a><span data-ttu-id="2d0cf-197">Alterar a aparência de um controle dependendo do seu estado</span><span class="sxs-lookup"><span data-stu-id="2d0cf-197">Changing the Appearance of a Control Depending on Its State</span></span>  
 <span data-ttu-id="2d0cf-198">A diferença entre um botão com sua aparência padrão e o botão no exemplo anterior é que o botão padrão sofre uma alteração sutil quando ele está em estados diferentes.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-198">The difference between a button with its default appearance and the button in the preceding example is that the default button subtly changes when it is in different states.</span></span> <span data-ttu-id="2d0cf-199">Por exemplo, a aparência do botão padrão muda quando o botão é pressionado, ou quando o ponteiro do mouse está sobre o botão.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-199">For example, the default button's appearance changes when the button is pressed, or when the mouse pointer is over the button.</span></span> <span data-ttu-id="2d0cf-200">Embora o <xref:System.Windows.Controls.ControlTemplate> não altera a funcionalidade de um controle, ele altera o comportamento visual do controle.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-200">Although the <xref:System.Windows.Controls.ControlTemplate> does not change the functionality of a control, it does change the control's visual behavior.</span></span> <span data-ttu-id="2d0cf-201">Um comportamento visual descreve a aparência do controle quando ele está em um determinado estado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-201">A visual behavior describes the control appearance when it is in a certain state.</span></span> <span data-ttu-id="2d0cf-202">Para entender a diferença entre a funcionalidade e o comportamento visual de um controle, considere o exemplo de botão.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-202">To understand the difference between the functionality and visual behavior of a control, consider the button example.</span></span> <span data-ttu-id="2d0cf-203">A funcionalidade do botão é acionar o <xref:System.Windows.Controls.Primitives.ButtonBase.Click> evento quando ele for clicado, mas o comportamento visual do botão é alterar sua aparência quando ele é apontado ou pressionado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-203">The button's functionality is to raise the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event when it is clicked, but the button's visual behavior is to change its appearance when it is pointed to or pressed.</span></span>  
  
 <span data-ttu-id="2d0cf-204">Você usa <xref:System.Windows.VisualState> objetos para especificar a aparência de um controle quando ele está em um determinado estado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-204">You use <xref:System.Windows.VisualState> objects to specify the appearance of a control when it is in a certain state.</span></span> <span data-ttu-id="2d0cf-205">Um <xref:System.Windows.VisualState> contém uma <xref:System.Windows.Media.Animation.Storyboard> que altera a aparência dos elementos que estão no <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-205">A <xref:System.Windows.VisualState> contains a <xref:System.Windows.Media.Animation.Storyboard> that changes the appearance of the elements that are in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="2d0cf-206">Você não precisa escrever nenhum código para que isso ocorra porque a lógica do controle muda de estado usando o <xref:System.Windows.VisualStateManager>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-206">You do not have to write any code to make this occur because the control's logic changes state by using the <xref:System.Windows.VisualStateManager>.</span></span> <span data-ttu-id="2d0cf-207">Quando o controle entra no estado especificado pelo <xref:System.Windows.VisualState.Name%2A?displayProperty=nameWithType> propriedade, o <xref:System.Windows.Media.Animation.Storyboard> começa.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-207">When the control enters the state that is specified by the <xref:System.Windows.VisualState.Name%2A?displayProperty=nameWithType> property, the <xref:System.Windows.Media.Animation.Storyboard> begins.</span></span> <span data-ttu-id="2d0cf-208">Quando o controle sai do estado, o <xref:System.Windows.Media.Animation.Storyboard> para.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-208">When the control exits the state, the <xref:System.Windows.Media.Animation.Storyboard> stops.</span></span>  
  
 <span data-ttu-id="2d0cf-209">A exemplo a seguir mostra a <xref:System.Windows.VisualState> que altera a aparência de um <xref:System.Windows.Controls.Button> quando o ponteiro do mouse está sobre ele.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-209">The following example shows the <xref:System.Windows.VisualState> that changes the appearance of a <xref:System.Windows.Controls.Button> when the mouse pointer is over it.</span></span> <span data-ttu-id="2d0cf-210">O <xref:System.Windows.Media.Animation.Storyboard> altera a cor da borda do botão alterando a cor do `BorderBrush`.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-210">The <xref:System.Windows.Media.Animation.Storyboard> changes the button's border color by changing the color of the `BorderBrush`.</span></span> <span data-ttu-id="2d0cf-211">Se você consultar a <xref:System.Windows.Controls.ControlTemplate> exemplo no início deste tópico, você deve se lembrar que `BorderBrush` é o nome da <xref:System.Windows.Media.SolidColorBrush> que é atribuído ao <xref:System.Windows.Controls.Border.Background%2A> do <xref:System.Windows.Controls.Border>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-211">If you refer to the <xref:System.Windows.Controls.ControlTemplate> example at the beginning of this topic, you will recall that `BorderBrush` is the name of the <xref:System.Windows.Media.SolidColorBrush> that is assigned to the <xref:System.Windows.Controls.Border.Background%2A> of the <xref:System.Windows.Controls.Border>.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#4](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#4)]  
  
 <span data-ttu-id="2d0cf-212">O controle é responsável por definir os estados como parte de seu contrato de controle, que é abordado em detalhes em [Personalizar outros controles pela compreensão do contrato de controle](#customizing_other_controls_by_understanding_the_control_contract), mais adiante neste tópico.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-212">The control is responsible for defining the states as part of its control contract, which is discussed in detail in [Customizing Other Controls by Understanding the Control Contract](#customizing_other_controls_by_understanding_the_control_contract) later in this topic.</span></span> <span data-ttu-id="2d0cf-213">A tabela a seguir lista os estados que são especificados para o <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-213">The following table lists the states that are specified for the <xref:System.Windows.Controls.Button>.</span></span>  
  
|<span data-ttu-id="2d0cf-214">Nome do VisualState</span><span class="sxs-lookup"><span data-stu-id="2d0cf-214">VisualState Name</span></span>|<span data-ttu-id="2d0cf-215">Nome do VisualStateGroup</span><span class="sxs-lookup"><span data-stu-id="2d0cf-215">VisualStateGroup Name</span></span>|<span data-ttu-id="2d0cf-216">Descrição</span><span class="sxs-lookup"><span data-stu-id="2d0cf-216">Description</span></span>|  
|----------------------|---------------------------|-----------------|  
|<span data-ttu-id="2d0cf-217">Normal</span><span class="sxs-lookup"><span data-stu-id="2d0cf-217">Normal</span></span>|<span data-ttu-id="2d0cf-218">CommonStates</span><span class="sxs-lookup"><span data-stu-id="2d0cf-218">CommonStates</span></span>|<span data-ttu-id="2d0cf-219">O estado padrão.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-219">The default state.</span></span>|  
|<span data-ttu-id="2d0cf-220">MouseOver</span><span class="sxs-lookup"><span data-stu-id="2d0cf-220">MouseOver</span></span>|<span data-ttu-id="2d0cf-221">CommonStates</span><span class="sxs-lookup"><span data-stu-id="2d0cf-221">CommonStates</span></span>|<span data-ttu-id="2d0cf-222">O ponteiro do mouse é posicionado sobre o controle.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-222">The mouse pointer is positioned over the control.</span></span>|  
|<span data-ttu-id="2d0cf-223">Pressionado</span><span class="sxs-lookup"><span data-stu-id="2d0cf-223">Pressed</span></span>|<span data-ttu-id="2d0cf-224">CommonStates</span><span class="sxs-lookup"><span data-stu-id="2d0cf-224">CommonStates</span></span>|<span data-ttu-id="2d0cf-225">O controle é pressionado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-225">The control is pressed.</span></span>|  
|<span data-ttu-id="2d0cf-226">Disabled</span><span class="sxs-lookup"><span data-stu-id="2d0cf-226">Disabled</span></span>|<span data-ttu-id="2d0cf-227">CommonStates</span><span class="sxs-lookup"><span data-stu-id="2d0cf-227">CommonStates</span></span>|<span data-ttu-id="2d0cf-228">O controle está desabilitado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-228">The control is disabled.</span></span>|  
|<span data-ttu-id="2d0cf-229">Focalizado</span><span class="sxs-lookup"><span data-stu-id="2d0cf-229">Focused</span></span>|<span data-ttu-id="2d0cf-230">FocusStates</span><span class="sxs-lookup"><span data-stu-id="2d0cf-230">FocusStates</span></span>|<span data-ttu-id="2d0cf-231">O controle tem foco.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-231">The control has focus.</span></span>|  
|<span data-ttu-id="2d0cf-232">Sem foco</span><span class="sxs-lookup"><span data-stu-id="2d0cf-232">Unfocused</span></span>|<span data-ttu-id="2d0cf-233">FocusStates</span><span class="sxs-lookup"><span data-stu-id="2d0cf-233">FocusStates</span></span>|<span data-ttu-id="2d0cf-234">O controle não tem foco.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-234">The control does not have focus.</span></span>|  
  
 <span data-ttu-id="2d0cf-235">O <xref:System.Windows.Controls.Button> define dois grupos de estado: o `CommonStates` grupo contém o `Normal`, `MouseOver`, `Pressed`, e `Disabled` estados.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-235">The <xref:System.Windows.Controls.Button> defines two state groups: the `CommonStates` group contains the `Normal`, `MouseOver`, `Pressed`, and `Disabled` states.</span></span> <span data-ttu-id="2d0cf-236">O grupo `FocusStates` contém os estados `Focused` e `Unfocused`.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-236">The `FocusStates` group contains the `Focused` and `Unfocused` states.</span></span> <span data-ttu-id="2d0cf-237">Os estados no mesmo grupo de estados são mutuamente excludentes.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-237">States in the same state group are mutually exclusive.</span></span> <span data-ttu-id="2d0cf-238">O controle está sempre em exatamente um estado por grupo.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-238">The control is always in exactly one state per group.</span></span> <span data-ttu-id="2d0cf-239">Por exemplo, uma <xref:System.Windows.Controls.Button> pode ter o foco mesmo quando o ponteiro do mouse não está sobre ele, portanto, uma <xref:System.Windows.Controls.Button> na `Focused` estado pode estar no `MouseOver`, `Pressed`, ou `Normal` estado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-239">For example, a <xref:System.Windows.Controls.Button> can have focus even when the mouse pointer is not over it, so a <xref:System.Windows.Controls.Button> in the `Focused` state can be in the `MouseOver`, `Pressed`, or `Normal` state.</span></span>  
  
 <span data-ttu-id="2d0cf-240">Você adiciona <xref:System.Windows.VisualState> objetos à <xref:System.Windows.VisualStateGroup> objetos.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-240">You add <xref:System.Windows.VisualState> objects to <xref:System.Windows.VisualStateGroup> objects.</span></span> <span data-ttu-id="2d0cf-241">Você adiciona <xref:System.Windows.VisualStateGroup> objetos para o <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> propriedade anexada.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-241">You add <xref:System.Windows.VisualStateGroup> objects to the <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> attached property.</span></span> <span data-ttu-id="2d0cf-242">O exemplo a seguir define o <xref:System.Windows.VisualState> objetos para o `Normal`, `MouseOver`, e `Pressed` estados, que estão todos no `CommonStates` grupo.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-242">The following example defines the <xref:System.Windows.VisualState> objects for the `Normal`, `MouseOver`, and `Pressed` states, which are all in the `CommonStates` group.</span></span> <span data-ttu-id="2d0cf-243">O <xref:System.Windows.VisualState.Name%2A> de cada <xref:System.Windows.VisualState> corresponde ao nome na tabela anterior.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-243">The <xref:System.Windows.VisualState.Name%2A> of each <xref:System.Windows.VisualState> matches the name in the preceding table.</span></span> <span data-ttu-id="2d0cf-244">O estado `Disabled` e os estados no grupo `FocusStates` são omitidos para manter a brevidade do exemplo, mas eles estão incluídos no exemplo inteiro no final deste tópico.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-244">The `Disabled` state and the states in the `FocusStates` group are omitted to keep the example short, but they are included in the entire example at the end of this topic.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="2d0cf-245">Certifique-se de definir a <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> anexados a propriedade na raiz <xref:System.Windows.FrameworkElement> da <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-245">Be sure to set the <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> attached property on the root <xref:System.Windows.FrameworkElement> of the <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#VisualStates](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#visualstates)]  
  
 <span data-ttu-id="2d0cf-246">O exemplo anterior produz um resultado semelhante ao mostrado nas ilustrações a seguir.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-246">The preceding example produces output that is similar to the following illustrations.</span></span>  
  
 <span data-ttu-id="2d0cf-247">![Um botão com um modelo de controle personalizado. ](../../../../docs/framework/wpf/controls/media/ndp-buttonnormal.png "NDP_ButtonNormal")</span><span class="sxs-lookup"><span data-stu-id="2d0cf-247">![A button with a custom control template.](../../../../docs/framework/wpf/controls/media/ndp-buttonnormal.png "NDP_ButtonNormal")</span></span>  
<span data-ttu-id="2d0cf-248">Um botão que usa um modelo de controle personalizado no estado normal</span><span class="sxs-lookup"><span data-stu-id="2d0cf-248">A button that uses a custom control template in the normal state</span></span>  
  
 <span data-ttu-id="2d0cf-249">![Um botão com uma borda vermelha. ](../../../../docs/framework/wpf/controls/media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span><span class="sxs-lookup"><span data-stu-id="2d0cf-249">![A button with a red border.](../../../../docs/framework/wpf/controls/media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span></span>  
<span data-ttu-id="2d0cf-250">Um botão que usa um modelo de controle personalizado no estado de passar o mouse</span><span class="sxs-lookup"><span data-stu-id="2d0cf-250">A button that uses a custom control template in the mouse over state</span></span>  
  
 <span data-ttu-id="2d0cf-251">![A borda é transparente em um botão pressionado. ](../../../../docs/framework/wpf/controls/media/ndp-buttonpressed.png "NDP_ButtonPressed")</span><span class="sxs-lookup"><span data-stu-id="2d0cf-251">![The border is transparent on a pressed button.](../../../../docs/framework/wpf/controls/media/ndp-buttonpressed.png "NDP_ButtonPressed")</span></span>  
<span data-ttu-id="2d0cf-252">Um botão que usa um modelo de controle personalizado no estado pressionado</span><span class="sxs-lookup"><span data-stu-id="2d0cf-252">A button that uses a custom control template in the pressed state</span></span>  
  
 <span data-ttu-id="2d0cf-253">Para localizar os estados visuais para controles incluídos no [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], consulte [Estilos e modelos de controle](../../../../docs/framework/wpf/controls/control-styles-and-templates.md).</span><span class="sxs-lookup"><span data-stu-id="2d0cf-253">To find the visual states for controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Control Styles and Templates](../../../../docs/framework/wpf/controls/control-styles-and-templates.md).</span></span>  
  
<a name="specifying_the_behavior_of_a_control_when_it_transitions_between_states"></a>   
## <a name="specifying-the-behavior-of-a-control-when-it-transitions-between-states"></a><span data-ttu-id="2d0cf-254">Especificar o comportamento de um controle quando ele faz a transição entre estados</span><span class="sxs-lookup"><span data-stu-id="2d0cf-254">Specifying the Behavior of a Control When It Transitions Between States</span></span>  
 <span data-ttu-id="2d0cf-255">No exemplo anterior, a aparência do botão também será alterada quando o usuário clicar nele; no entanto, se o usuário não pressionar o botão por um segundo completo, ele não verá o efeito.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-255">In the preceding example, the appearance of the button also changes when the user clicks it, but unless the button is pressed for a full second, the user does not see the effect.</span></span> <span data-ttu-id="2d0cf-256">Por padrão, a animação dura um segundo.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-256">By default, the animation takes one second to occur.</span></span> <span data-ttu-id="2d0cf-257">Como os usuários têm probabilidade cliquem e liberem um botão em muito menos tempo, os comentários visuais não serão eficazes se você deixar o <xref:System.Windows.Controls.ControlTemplate> em seu estado padrão.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-257">Because users are likely to click and release a button in much less time, the visual feedback will not be effective if you leave the <xref:System.Windows.Controls.ControlTemplate> in its default state.</span></span>  
  
 <span data-ttu-id="2d0cf-258">Você pode especificar a quantidade de tempo que leva para ocorrer para uma transição suave de um controle de um estado para outro, adicionando uma animação <xref:System.Windows.VisualTransition> objetos para o <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-258">You can specify the amount of time that it takes an animation to occur to smoothly transition a control from one state to another by adding <xref:System.Windows.VisualTransition> objects to the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="2d0cf-259">Quando você cria um <xref:System.Windows.VisualTransition>, especifique um ou mais das seguintes opções:</span><span class="sxs-lookup"><span data-stu-id="2d0cf-259">When you create a <xref:System.Windows.VisualTransition>, you specify one or more of the following:</span></span>  
  
-   <span data-ttu-id="2d0cf-260">O tempo que leva para que uma transição entre estados ocorra.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-260">The time it takes for a transition between states to occur.</span></span>  
  
-   <span data-ttu-id="2d0cf-261">Alterações adicionais na aparência do controle que ocorrem durante a transição.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-261">Additional changes in the control's appearance that occur at the time of the transition.</span></span>  
  
-   <span data-ttu-id="2d0cf-262">Quais estados as <xref:System.Windows.VisualTransition> é aplicado a.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-262">Which states the <xref:System.Windows.VisualTransition> is applied to.</span></span>  
  
### <a name="specifying-the-duration-of-a-transition"></a><span data-ttu-id="2d0cf-263">Especificar a duração de uma transição</span><span class="sxs-lookup"><span data-stu-id="2d0cf-263">Specifying the Duration of a Transition</span></span>  
 <span data-ttu-id="2d0cf-264">Você pode especificar quanto tempo uma transição dura definindo a <xref:System.Windows.VisualTransition.GeneratedDuration%2A> propriedade.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-264">You can specify how long a transition takes by setting the <xref:System.Windows.VisualTransition.GeneratedDuration%2A> property.</span></span> <span data-ttu-id="2d0cf-265">O exemplo anterior tem um <xref:System.Windows.VisualState> que especifica que a borda do botão se torna transparente quando o botão é pressionado, mas a animação leva muito tempo para ser perceptível caso o botão é pressionado e liberado de rapidamente.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-265">The preceding example has a <xref:System.Windows.VisualState> that specifies that the button's border becomes transparent when the button is pressed, but the animation takes too long to be noticeable if the button is quickly pressed and released.</span></span> <span data-ttu-id="2d0cf-266">Você pode usar um <xref:System.Windows.VisualTransition> para especificar a quantidade de tempo ele leva o controle para fazer a transição para o estado pressionado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-266">You can use a <xref:System.Windows.VisualTransition> to specify the amount of time it takes the control to transition into the pressed state.</span></span> <span data-ttu-id="2d0cf-267">O exemplo a seguir especifica que o controle utiliza um centésimo de segundo para ir para o estado pressionado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-267">The following example specifies that the control takes one hundredth of a second to go into the pressed state.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#PressedTransition](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#pressedtransition)]  
  
### <a name="specifying-changes-to-the-controls-appearance-during-a-transition"></a><span data-ttu-id="2d0cf-268">Especificar alterações à aparência do controle durante uma transição</span><span class="sxs-lookup"><span data-stu-id="2d0cf-268">Specifying Changes to the Control's Appearance During a Transition</span></span>  
 <span data-ttu-id="2d0cf-269">O <xref:System.Windows.VisualTransition> contém um <xref:System.Windows.Media.Animation.Storyboard> que começa quando o controle faz a transição entre estados.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-269">The <xref:System.Windows.VisualTransition> contains a <xref:System.Windows.Media.Animation.Storyboard> that begins when the control transitions between states.</span></span> <span data-ttu-id="2d0cf-270">Por exemplo, você pode especificar que uma determinada animação ocorre quando o controle faz a transição do estado `MouseOver` para o estado `Normal`.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-270">For example, you can specify that a certain animation occurs when the control transitions from the `MouseOver` state to the `Normal` State.</span></span> <span data-ttu-id="2d0cf-271">O exemplo a seguir cria um <xref:System.Windows.VisualTransition> que especifica que quando o usuário move o ponteiro do mouse para longe do botão, a borda do botão muda para azul, em seguida, amarelo e, então, preto em 1,5 segundos.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-271">The following example creates a <xref:System.Windows.VisualTransition> that specifies that when the user moves the mouse pointer away from the button, the button's border changes to blue, then to yellow, then to black in 1.5 seconds.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#8](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#8)]  
  
### <a name="specifying-when-a-visualtransition-is-applied"></a><span data-ttu-id="2d0cf-272">Especificar quando uma VisualTransition é aplicada</span><span class="sxs-lookup"><span data-stu-id="2d0cf-272">Specifying When a VisualTransition Is Applied</span></span>  
 <span data-ttu-id="2d0cf-273">Um <xref:System.Windows.VisualTransition> pode ser restrito a ser aplicado somente em determinados estados, ou ele pode ser aplicado sempre que o controle fizer a transição entre estados.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-273">A <xref:System.Windows.VisualTransition> can be restricted to apply to only certain states, or it can be applied any time the control transitions between states.</span></span> <span data-ttu-id="2d0cf-274">No exemplo anterior, o <xref:System.Windows.VisualTransition> é aplicada quando o controle passa do `MouseOver` estado para o `Normal` estado; no exemplo antes disso, o <xref:System.Windows.VisualTransition> é aplicado quando o controle passa para o `Pressed` estado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-274">In the preceding example, the <xref:System.Windows.VisualTransition> is applied when the control goes from the `MouseOver` state to the `Normal` state; in the example before that, the <xref:System.Windows.VisualTransition> is applied when the control goes into the `Pressed` state.</span></span> <span data-ttu-id="2d0cf-275">Você restringe quando uma <xref:System.Windows.VisualTransition> é aplicada definindo o <xref:System.Windows.VisualTransition.To%2A> e <xref:System.Windows.VisualTransition.From%2A> propriedades.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-275">You restrict when a <xref:System.Windows.VisualTransition> is applied by setting the <xref:System.Windows.VisualTransition.To%2A> and <xref:System.Windows.VisualTransition.From%2A> properties.</span></span> <span data-ttu-id="2d0cf-276">A tabela a seguir descreve os níveis de restrição do mais restritivo para o menos restritivo.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-276">The following table describes the levels of restriction from most restrictive to least restrictive.</span></span>  
  
|<span data-ttu-id="2d0cf-277">Tipo de restrição</span><span class="sxs-lookup"><span data-stu-id="2d0cf-277">Type of restriction</span></span>|<span data-ttu-id="2d0cf-278">Valor de partir</span><span class="sxs-lookup"><span data-stu-id="2d0cf-278">Value of From</span></span>|<span data-ttu-id="2d0cf-279">Valor de</span><span class="sxs-lookup"><span data-stu-id="2d0cf-279">Value of To</span></span>|  
|-------------------------|-------------------|-----------------|  
|<span data-ttu-id="2d0cf-280">De um estado especificado para outro estado especificado</span><span class="sxs-lookup"><span data-stu-id="2d0cf-280">From a specified state to another specified state</span></span>|<span data-ttu-id="2d0cf-281">O nome de um <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="2d0cf-281">The name of a <xref:System.Windows.VisualState></span></span>|<span data-ttu-id="2d0cf-282">O nome de um <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="2d0cf-282">The name of a <xref:System.Windows.VisualState></span></span>|  
|<span data-ttu-id="2d0cf-283">De qualquer estado para um estado especificado</span><span class="sxs-lookup"><span data-stu-id="2d0cf-283">From any state to a specified state</span></span>|<span data-ttu-id="2d0cf-284">Não definido</span><span class="sxs-lookup"><span data-stu-id="2d0cf-284">Not set</span></span>|<span data-ttu-id="2d0cf-285">O nome de um <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="2d0cf-285">The name of a <xref:System.Windows.VisualState></span></span>|  
|<span data-ttu-id="2d0cf-286">De um estado especificado para qualquer estado</span><span class="sxs-lookup"><span data-stu-id="2d0cf-286">From a specified state to any state</span></span>|<span data-ttu-id="2d0cf-287">O nome de um <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="2d0cf-287">The name of a <xref:System.Windows.VisualState></span></span>|<span data-ttu-id="2d0cf-288">Não definido</span><span class="sxs-lookup"><span data-stu-id="2d0cf-288">Not set</span></span>|  
|<span data-ttu-id="2d0cf-289">De qualquer estado para qualquer outro estado</span><span class="sxs-lookup"><span data-stu-id="2d0cf-289">From any state to any other state</span></span>|<span data-ttu-id="2d0cf-290">Não definido</span><span class="sxs-lookup"><span data-stu-id="2d0cf-290">Not set</span></span>|<span data-ttu-id="2d0cf-291">Não definido</span><span class="sxs-lookup"><span data-stu-id="2d0cf-291">Not set</span></span>|  
  
 <span data-ttu-id="2d0cf-292">Você pode ter vários <xref:System.Windows.VisualTransition> objetos em um <xref:System.Windows.VisualStateGroup> que se referem ao mesmo estado, mas eles serão usados na ordem em que especifica a tabela anterior.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-292">You can have multiple <xref:System.Windows.VisualTransition> objects in a <xref:System.Windows.VisualStateGroup> that refer to the same state, but they will be used in the order that the previous table specifies.</span></span> <span data-ttu-id="2d0cf-293">O exemplo a seguir, há dois <xref:System.Windows.VisualTransition> objetos.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-293">In the following example, there are two <xref:System.Windows.VisualTransition> objects.</span></span> <span data-ttu-id="2d0cf-294">Quando o controle faz a transição do `Pressed` estado para o `MouseOver` estado, o <xref:System.Windows.VisualTransition> que tem ambos <xref:System.Windows.VisualTransition.From%2A> e <xref:System.Windows.VisualTransition.To%2A> conjunto é usado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-294">When the control transitions from the `Pressed` state to the `MouseOver` state, the <xref:System.Windows.VisualTransition> that has both <xref:System.Windows.VisualTransition.From%2A> and <xref:System.Windows.VisualTransition.To%2A> set is used.</span></span> <span data-ttu-id="2d0cf-295">Quando o controle faz a transição de um estado diferente de `Pressed` para o estado `MouseOver`, o outro estado é usado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-295">When the control transitions from a state that is not `Pressed` to the `MouseOver` state, the other state is used.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#7](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#7)]  
  
 <span data-ttu-id="2d0cf-296">O <xref:System.Windows.VisualStateGroup> tem uma <xref:System.Windows.VisualStateGroup.Transitions%2A> propriedade que contém o <xref:System.Windows.VisualTransition> objetos que se aplicam ao <xref:System.Windows.VisualState> objetos no <xref:System.Windows.VisualStateGroup>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-296">The <xref:System.Windows.VisualStateGroup> has a <xref:System.Windows.VisualStateGroup.Transitions%2A> property that contains the <xref:System.Windows.VisualTransition> objects that apply to the <xref:System.Windows.VisualState> objects in the <xref:System.Windows.VisualStateGroup>.</span></span> <span data-ttu-id="2d0cf-297">Como o <xref:System.Windows.Controls.ControlTemplate> autor, você é livre para incluir quaisquer <xref:System.Windows.VisualTransition> desejado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-297">As the <xref:System.Windows.Controls.ControlTemplate> author, you are free to include any <xref:System.Windows.VisualTransition> you want.</span></span> <span data-ttu-id="2d0cf-298">No entanto, se o <xref:System.Windows.VisualTransition.To%2A> e <xref:System.Windows.VisualTransition.From%2A> são definidas como nomes de estado que não estão na <xref:System.Windows.VisualStateGroup>, o <xref:System.Windows.VisualTransition> será ignorado.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-298">However, if the <xref:System.Windows.VisualTransition.To%2A> and <xref:System.Windows.VisualTransition.From%2A> properties are set to state names that are not in the <xref:System.Windows.VisualStateGroup>, the <xref:System.Windows.VisualTransition> is ignored.</span></span>  
  
 <span data-ttu-id="2d0cf-299">A exemplo a seguir mostra a <xref:System.Windows.VisualStateGroup> para o `CommonStates`.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-299">The following example shows the <xref:System.Windows.VisualStateGroup> for the `CommonStates`.</span></span> <span data-ttu-id="2d0cf-300">O exemplo define um <xref:System.Windows.VisualTransition> para cada uma das seguintes do botão faz a transição.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-300">The example defines a <xref:System.Windows.VisualTransition> for each of the button's following transitions.</span></span>  
  
-   <span data-ttu-id="2d0cf-301">Para o estado `Pressed`.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-301">To the `Pressed` state.</span></span>  
  
-   <span data-ttu-id="2d0cf-302">Para o estado `MouseOver`.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-302">To the `MouseOver` state.</span></span>  
  
-   <span data-ttu-id="2d0cf-303">Do estado `Pressed` para o estado `MouseOver`.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-303">From the `Pressed` state to the `MouseOver` state.</span></span>  
  
-   <span data-ttu-id="2d0cf-304">Do estado `MouseOver` para o estado `Normal`.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-304">From the `MouseOver` state to the `Normal` state.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#VisualTransitions](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#visualtransitions)]  
  
<a name="customizing_other_controls_by_understanding_the_control_contract"></a>   
## <a name="customizing-other-controls-by-understanding-the-control-contract"></a><span data-ttu-id="2d0cf-305">Personalizar de outros controles pela compreensão do contrato de controle</span><span class="sxs-lookup"><span data-stu-id="2d0cf-305">Customizing Other Controls by Understanding the Control Contract</span></span>  
 <span data-ttu-id="2d0cf-306">Um controle que usa um <xref:System.Windows.Controls.ControlTemplate> para especificar sua estrutura visual (usando <xref:System.Windows.FrameworkElement> objetos) e o comportamento visual (usando <xref:System.Windows.VisualState> objetos) usa o modelo de controle de partes.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-306">A control that uses a <xref:System.Windows.Controls.ControlTemplate> to specify its visual structure (by using <xref:System.Windows.FrameworkElement> objects) and visual behavior (by using <xref:System.Windows.VisualState> objects) uses the parts control model.</span></span> <span data-ttu-id="2d0cf-307">Muitos dos controles que estão incluídos no [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 4 usam esse modelo.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-307">Many of the controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 4 use this model.</span></span> <span data-ttu-id="2d0cf-308">As partes que um <xref:System.Windows.Controls.ControlTemplate> autor precisa estar atento é comunicada por meio do contrato de controle.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-308">The parts that a <xref:System.Windows.Controls.ControlTemplate> author needs to be aware of are communicated through the control contract.</span></span> <span data-ttu-id="2d0cf-309">Quando você compreende as partes de um contrato de controle, você pode personalizar a aparência de qualquer controle que usa o modelo de controle de partes.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-309">When you understand the parts of a control contract, you can customize the appearance of any control that uses the parts control model.</span></span>  
  
 <span data-ttu-id="2d0cf-310">Um contrato de controle contém três elementos:</span><span class="sxs-lookup"><span data-stu-id="2d0cf-310">A control contract has three elements:</span></span>  
  
-   <span data-ttu-id="2d0cf-311">Os elementos visuais usados pela lógica do controle.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-311">The visual elements that the control's logic uses.</span></span>  
  
-   <span data-ttu-id="2d0cf-312">Os estados do controle e o grupo ao qual cada estado pertence.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-312">The states of the control and the group each state belongs to.</span></span>  
  
-   <span data-ttu-id="2d0cf-313">As propriedades públicas que afetam o controle visualmente.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-313">The public properties that visually affect the control.</span></span>  
  
### <a name="visual-elements-in-the-control-contract"></a><span data-ttu-id="2d0cf-314">Elementos visuais no contrato de controle</span><span class="sxs-lookup"><span data-stu-id="2d0cf-314">Visual Elements in the Control Contract</span></span>  
 <span data-ttu-id="2d0cf-315">Às vezes, a lógica do controle interage com um <xref:System.Windows.FrameworkElement> que é o <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-315">Sometimes a control's logic interacts with a <xref:System.Windows.FrameworkElement> that is in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="2d0cf-316">Por exemplo, o controle pode manipular um evento de um de seus elementos.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-316">For example, the control might handle an event of one of its elements.</span></span> <span data-ttu-id="2d0cf-317">Quando um controle espera encontrar um determinado <xref:System.Windows.FrameworkElement> no <xref:System.Windows.Controls.ControlTemplate>, ele deve transmitir essas informações para o <xref:System.Windows.Controls.ControlTemplate> autor.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-317">When a control expects to find a particular <xref:System.Windows.FrameworkElement> in the <xref:System.Windows.Controls.ControlTemplate>, it must convey that information to the <xref:System.Windows.Controls.ControlTemplate> author.</span></span> <span data-ttu-id="2d0cf-318">O controle usa o <xref:System.Windows.TemplatePartAttribute> para transmitir o tipo de elemento que é esperado e qual deve ser o nome do elemento.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-318">The control uses the <xref:System.Windows.TemplatePartAttribute> to convey the type of element that is expected, and what the name of the element should be.</span></span> <span data-ttu-id="2d0cf-319">O <xref:System.Windows.Controls.Button> não tem <xref:System.Windows.FrameworkElement> partes em seu contrato de controle, mas outros controles, como o <xref:System.Windows.Controls.ComboBox>, fazer.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-319">The <xref:System.Windows.Controls.Button> does not have <xref:System.Windows.FrameworkElement> parts in its control contract, but other controls, such as the <xref:System.Windows.Controls.ComboBox>, do.</span></span>  
  
 <span data-ttu-id="2d0cf-320">A exemplo a seguir mostra a <xref:System.Windows.TemplatePartAttribute> objetos que são especificados no <xref:System.Windows.Controls.ComboBox> classe.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-320">The following example shows the <xref:System.Windows.TemplatePartAttribute> objects that are specified on the <xref:System.Windows.Controls.ComboBox> class.</span></span> <span data-ttu-id="2d0cf-321">A lógica de <xref:System.Windows.Controls.ComboBox> espera encontrar uma <xref:System.Windows.Controls.TextBox> denominado `PART_EditableTextBox` e uma <xref:System.Windows.Controls.Primitives.Popup> denominada `PART_Popup` no seu <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-321">The logic of <xref:System.Windows.Controls.ComboBox> expects to find a <xref:System.Windows.Controls.TextBox> named `PART_EditableTextBox` and a <xref:System.Windows.Controls.Primitives.Popup> named `PART_Popup` in its <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 [!code-csharp[VSMButtonTemplate#ComboBoxContract](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/controlcontracts.cs#comboboxcontract)]
 [!code-vb[VSMButtonTemplate#ComboBoxContract](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/vsmbuttontemplate/visualbasic/window1.xaml.vb#comboboxcontract)]  
  
 <span data-ttu-id="2d0cf-322">O exemplo a seguir mostra um simplificada <xref:System.Windows.Controls.ControlTemplate> para o <xref:System.Windows.Controls.ComboBox> que inclui os elementos que são especificados pelo <xref:System.Windows.TemplatePartAttribute> objetos no <xref:System.Windows.Controls.ComboBox> classe.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-322">The following example shows a simplified <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.ComboBox> that includes the elements that are specified by the <xref:System.Windows.TemplatePartAttribute> objects on the <xref:System.Windows.Controls.ComboBox> class.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#ComboBoxTemplate](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/window1.xaml#comboboxtemplate)]  
  
### <a name="states-in-the-control-contract"></a><span data-ttu-id="2d0cf-323">Estados no contrato de controle</span><span class="sxs-lookup"><span data-stu-id="2d0cf-323">States in the Control Contract</span></span>  
 <span data-ttu-id="2d0cf-324">Os estados de um controle também são uma parte do contrato de controle.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-324">The states of a control are also a part of the control contract.</span></span> <span data-ttu-id="2d0cf-325">O exemplo de como criar uma <xref:System.Windows.Controls.ControlTemplate> para um <xref:System.Windows.Controls.Button> mostra como especificar a aparência de um <xref:System.Windows.Controls.Button> dependendo de seus estados.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-325">The example of creating a <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button> shows how to specify the appearance of a <xref:System.Windows.Controls.Button> depending on its states.</span></span> <span data-ttu-id="2d0cf-326">Você cria um <xref:System.Windows.VisualState> para cada estado especificado e coloca todos os <xref:System.Windows.VisualState> objetos que compartilham um <xref:System.Windows.TemplateVisualStateAttribute.GroupName%2A> em um <xref:System.Windows.VisualStateGroup>, conforme descrito na [alterando a aparência de um controle dependendo do seu estado](#changing_the_appearance_of_a_control_depending_on_its_state) anteriores desta tópico.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-326">You create a <xref:System.Windows.VisualState> for each specified state and put all <xref:System.Windows.VisualState> objects that share a <xref:System.Windows.TemplateVisualStateAttribute.GroupName%2A> in a <xref:System.Windows.VisualStateGroup>, as described in [Changing the Appearance of a Control Depending on Its State](#changing_the_appearance_of_a_control_depending_on_its_state) earlier in this topic.</span></span> <span data-ttu-id="2d0cf-327">Controles de terceiros devem especificar estados usando o <xref:System.Windows.TemplateVisualStateAttribute>, que permite que ferramentas de designer, como o Expression Blend, exponham os estados do controle para a criação de modelos de controle.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-327">Third-party controls should specify states by using the <xref:System.Windows.TemplateVisualStateAttribute>, which enables designer tools, such as Expression Blend, to expose the control's states for authoring control templates.</span></span>  
  
 <span data-ttu-id="2d0cf-328">Para localizar o contrato de controle para controles incluídos no [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], consulte [Estilos e modelos de controle](../../../../docs/framework/wpf/controls/control-styles-and-templates.md).</span><span class="sxs-lookup"><span data-stu-id="2d0cf-328">To find the control contract for controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Control Styles and Templates](../../../../docs/framework/wpf/controls/control-styles-and-templates.md).</span></span>  
  
### <a name="properties-in-the-control-contract"></a><span data-ttu-id="2d0cf-329">Propriedades no contrato de controle</span><span class="sxs-lookup"><span data-stu-id="2d0cf-329">Properties in the Control Contract</span></span>  
 <span data-ttu-id="2d0cf-330">As propriedades públicas que afetam visualmente o controle também estão incluídas no contrato de controle.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-330">The public properties that visually affect the control are also included in the control contract.</span></span> <span data-ttu-id="2d0cf-331">Você pode definir essas propriedades para alterar a aparência do controle sem criar um novo <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-331">You can set these properties to change the appearance of the control without creating a new <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="2d0cf-332">Você também pode usar o [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md) extensão de marcação para associar as propriedades dos elementos que estão na <xref:System.Windows.Controls.ControlTemplate> a propriedades públicas que são definidas pelo <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-332">You can also use the [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md) markup extension to bind properties of elements that are in the <xref:System.Windows.Controls.ControlTemplate> to public properties that are defined by the <xref:System.Windows.Controls.Button>.</span></span>  
  
 <span data-ttu-id="2d0cf-333">O exemplo a seguir mostra o contrato de controle do botão.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-333">The following example shows the control contract for the button.</span></span>  
  
 [!code-csharp[VSMButtonTemplate#ButtonContract](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/controlcontracts.cs#buttoncontract)]
 [!code-vb[VSMButtonTemplate#ButtonContract](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/vsmbuttontemplate/visualbasic/window1.xaml.vb#buttoncontract)]  
  
 <span data-ttu-id="2d0cf-334">Ao criar uma <xref:System.Windows.Controls.ControlTemplate>, geralmente é mais fácil começar com um <xref:System.Windows.Controls.ControlTemplate> e fazer alterações nele.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-334">When creating a <xref:System.Windows.Controls.ControlTemplate>, it is often easiest to begin with an existing <xref:System.Windows.Controls.ControlTemplate> and make changes to it.</span></span> <span data-ttu-id="2d0cf-335">Você pode fazer uma das opções a seguir para alterar um existente <xref:System.Windows.Controls.ControlTemplate>:</span><span class="sxs-lookup"><span data-stu-id="2d0cf-335">You can do one of the following to change an existing <xref:System.Windows.Controls.ControlTemplate>:</span></span>  
  
-   <span data-ttu-id="2d0cf-336">Usar um designer como o Expression Blend, que fornece uma interface do usuário gráfica para criar modelos de controle.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-336">Use a designer, such as Expression Blend, which provides a graphical user interface for creating control templates.</span></span> <span data-ttu-id="2d0cf-337">Para obter mais informações, consulte [Definir o estilo de um controle que dá suporte a modelos](https://go.microsoft.com/fwlink/?LinkId=161153).</span><span class="sxs-lookup"><span data-stu-id="2d0cf-337">For more information, see [Styling a control that supports templates](https://go.microsoft.com/fwlink/?LinkId=161153).</span></span>  
  
-   <span data-ttu-id="2d0cf-338">Obter o padrão <xref:System.Windows.Controls.ControlTemplate> e editá-lo.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-338">Get the default <xref:System.Windows.Controls.ControlTemplate> and edit it.</span></span> <span data-ttu-id="2d0cf-339">Para localizar os modelos de controle padrão que estão inclusos no [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], consulte [Temas padrão do WPF](https://go.microsoft.com/fwlink/?LinkID=158252).</span><span class="sxs-lookup"><span data-stu-id="2d0cf-339">To find the default control templates that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Default WPF Themes](https://go.microsoft.com/fwlink/?LinkID=158252).</span></span>  
  
<a name="complete_example"></a>   
## <a name="complete-example"></a><span data-ttu-id="2d0cf-340">Exemplo completo</span><span class="sxs-lookup"><span data-stu-id="2d0cf-340">Complete Example</span></span>  
 <span data-ttu-id="2d0cf-341">O exemplo a seguir mostra todo <xref:System.Windows.Controls.Button> <xref:System.Windows.Controls.ControlTemplate> que é discutido neste tópico.</span><span class="sxs-lookup"><span data-stu-id="2d0cf-341">The following example shows the complete <xref:System.Windows.Controls.Button><xref:System.Windows.Controls.ControlTemplate> that is discussed in this topic.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#3](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#3)]  
  
## <a name="see-also"></a><span data-ttu-id="2d0cf-342">Consulte também</span><span class="sxs-lookup"><span data-stu-id="2d0cf-342">See Also</span></span>  
 [<span data-ttu-id="2d0cf-343">Estilo e modelagem</span><span class="sxs-lookup"><span data-stu-id="2d0cf-343">Styling and Templating</span></span>](../../../../docs/framework/wpf/controls/styling-and-templating.md)
