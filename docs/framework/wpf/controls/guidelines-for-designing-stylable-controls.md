---
title: Diretrizes para criar controles com estilo
ms.date: 03/30/2017
helpviewer_keywords:
- style design for controls [WPF]
- controls [WPF], style design
ms.assetid: c52dde45-a311-4531-af4c-853371c4d5f4
ms.openlocfilehash: 0fbb515afbeac05168ced6f0a99f50eb29a5c848
ms.sourcegitcommit: 944ddc52b7f2632f30c668815f92b378efd38eea
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/03/2019
ms.locfileid: "73459653"
---
# <a name="guidelines-for-designing-stylable-controls"></a><span data-ttu-id="f48d3-102">Diretrizes para criar controles com estilo</span><span class="sxs-lookup"><span data-stu-id="f48d3-102">Guidelines for Designing Stylable Controls</span></span>

<span data-ttu-id="f48d3-103">Este documento resume um conjunto de práticas recomendadas a serem consideradas ao criar um controle que você deseja que seja fácil de criar estilos e modelos.</span><span class="sxs-lookup"><span data-stu-id="f48d3-103">This document summarizes a set of best practices to consider when designing a control which you intend to be easily stylable and templatable.</span></span> <span data-ttu-id="f48d3-104">Nós chegamos a este conjunto de práticas recomendadas por meio de muitas tentativas e erros ao trabalhar nos estilos de controle de tema do conjunto de controles internos do [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f48d3-104">We came to this set of best practices through a lot of trial and error while working on the theme control styles for the built-in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] control set.</span></span> <span data-ttu-id="f48d3-105">Aprendemos que uma definição de estilo bem-sucedida é tanto uma função de um modelo de objeto com um bom design quanto é do próprio estilo.</span><span class="sxs-lookup"><span data-stu-id="f48d3-105">We learned that successful styling is as much a function of a well-designed object model as it is of the style itself.</span></span> <span data-ttu-id="f48d3-106">O público-alvo deste documento é o autor do controle, não os autores de estilo.</span><span class="sxs-lookup"><span data-stu-id="f48d3-106">The intended audience for this document is the control author, not the style author.</span></span>

<a name="Terminology"></a>

## <a name="terminology"></a><span data-ttu-id="f48d3-107">Terminologia</span><span class="sxs-lookup"><span data-stu-id="f48d3-107">Terminology</span></span>

<span data-ttu-id="f48d3-108">"Definição de estilo e de modelo" refere-se ao conjunto de tecnologias que permitem que um autor de controle adie os aspectos visuais do controle para o estilo e o modelo do controle.</span><span class="sxs-lookup"><span data-stu-id="f48d3-108">"Styling and templating" refer to the suite of technologies that enable a control author to defer the visual aspects of the control to the style and template of the control.</span></span> <span data-ttu-id="f48d3-109">Este conjunto de tecnologias inclui:</span><span class="sxs-lookup"><span data-stu-id="f48d3-109">This suite of technologies includes:</span></span>

- <span data-ttu-id="f48d3-110">Estilos (incluindo setters de propriedade, gatilhos e storyboards).</span><span class="sxs-lookup"><span data-stu-id="f48d3-110">Styles (including property setters, triggers, and storyboards).</span></span>

- <span data-ttu-id="f48d3-111">Recursos.</span><span class="sxs-lookup"><span data-stu-id="f48d3-111">Resources.</span></span>

- <span data-ttu-id="f48d3-112">Modelos de controle.</span><span class="sxs-lookup"><span data-stu-id="f48d3-112">Control templates.</span></span>

- <span data-ttu-id="f48d3-113">Modelos de dados.</span><span class="sxs-lookup"><span data-stu-id="f48d3-113">Data templates.</span></span>

<span data-ttu-id="f48d3-114">Para obter uma introdução à definição de estilo e de modelo, consulte [Styling and Templating](../../../desktop-wpf/fundamentals/styles-templates-overview.md) (Definição de estilo e de modelo).</span><span class="sxs-lookup"><span data-stu-id="f48d3-114">For an introduction to styling and templating, see [Styling and Templating](../../../desktop-wpf/fundamentals/styles-templates-overview.md).</span></span>

<a name="Before_You_Start__Understanding_Your_Control"></a>

## <a name="before-you-start-understanding-your-control"></a><span data-ttu-id="f48d3-115">Antes de iniciar: entendendo seu controle</span><span class="sxs-lookup"><span data-stu-id="f48d3-115">Before You Start: Understanding Your Control</span></span>

<span data-ttu-id="f48d3-116">Antes de começarmos com essas diretrizes, é importante compreender e definir o uso comum do seu controle.</span><span class="sxs-lookup"><span data-stu-id="f48d3-116">Before you jump into these guidelines, it is important to understand and have defined the common usage of your control.</span></span> <span data-ttu-id="f48d3-117">A definição de estilo expõe um conjunto geralmente irregular de possibilidades.</span><span class="sxs-lookup"><span data-stu-id="f48d3-117">Styling exposes an often unruly set of possibilities.</span></span> <span data-ttu-id="f48d3-118">Controles que são escritos para serem usados amplamente (em vários aplicativos, por vários desenvolvedores) enfrentam o desafio de que os estilos possam ser usados para fazer alterações de grande alcance na aparência visual do controle.</span><span class="sxs-lookup"><span data-stu-id="f48d3-118">Controls that are written to be used broadly (in many applications, by many developers) face the challenge that styling can be used to make far-reaching changes to the visual appearance of the control.</span></span> <span data-ttu-id="f48d3-119">Na verdade, o controle com estilo aplicado nem sempre se parece com a intenção do autor do controle.</span><span class="sxs-lookup"><span data-stu-id="f48d3-119">In fact, the styled control may not even resemble the control author's intentions.</span></span> <span data-ttu-id="f48d3-120">Como a flexibilidade oferecida pela definição de estilo é essencialmente ilimitada, você pode usar o conceito de uso comum para ajudá-lo a definir o escopo de suas decisões.</span><span class="sxs-lookup"><span data-stu-id="f48d3-120">Since the flexibility offered by styling is essentially boundless, you can use the idea of common usage to help you scope your decisions.</span></span>

<span data-ttu-id="f48d3-121">Para entender o uso comum do controle, é bom pensar sobre a proposta de valor do controle.</span><span class="sxs-lookup"><span data-stu-id="f48d3-121">To understand your control's common usage, it's good to think about the value proposition of the control.</span></span> <span data-ttu-id="f48d3-122">O que seu controle tem de especial que nenhum outro controle pode oferecer?</span><span class="sxs-lookup"><span data-stu-id="f48d3-122">What does your control bring to the table that no other control can offer?</span></span> <span data-ttu-id="f48d3-123">O uso comum não implica nenhuma aparência visual específica, mas sim a filosofia do controle e um conjunto razoável de expectativas sobre seu uso.</span><span class="sxs-lookup"><span data-stu-id="f48d3-123">Common usage does not imply any specific visual appearance, but rather the philosophy of the control and a reasonable set of expectations about its usage.</span></span> <span data-ttu-id="f48d3-124">Essa compreensão permite que você faça algumas suposições sobre o modelo de composição e os comportamentos definidos pelo estilo do controle no caso comum.</span><span class="sxs-lookup"><span data-stu-id="f48d3-124">This understanding allows you to make some assumptions about the composition model and the style-defined behaviors of the control in the common case.</span></span> <span data-ttu-id="f48d3-125">No caso de <xref:System.Windows.Controls.ComboBox>, por exemplo, entender o uso comum não dará nenhuma idéia sobre se um determinado <xref:System.Windows.Controls.ComboBox> tem cantos arredondados, mas fornecerá informações sobre o fato de que a <xref:System.Windows.Controls.ComboBox> provavelmente precisa de uma janela pop-up e de alguma forma de alternando se ele está aberto.</span><span class="sxs-lookup"><span data-stu-id="f48d3-125">In the case of <xref:System.Windows.Controls.ComboBox>, for example, understanding the common usage won't give you any insight about whether a particular <xref:System.Windows.Controls.ComboBox> has rounded corners, but it will give you insight into the fact that the <xref:System.Windows.Controls.ComboBox> probably needs a pop-up window and some way of toggling whether it is open.</span></span>

<a name="General_Guidelines"></a>

## <a name="general-guidelines"></a><span data-ttu-id="f48d3-126">Diretrizes gerais</span><span class="sxs-lookup"><span data-stu-id="f48d3-126">General Guidelines</span></span>

- <span data-ttu-id="f48d3-127">**Não imponha rigorosamente os contratos de modelos.**</span><span class="sxs-lookup"><span data-stu-id="f48d3-127">**Do not strictly enforce template contracts.**</span></span> <span data-ttu-id="f48d3-128">O contrato de modelo de um controle pode consistir em elementos, comandos, associações, gatilhos ou mesmo configurações de propriedade que são necessários ou esperados para que um controle funcione corretamente.</span><span class="sxs-lookup"><span data-stu-id="f48d3-128">The template contract of a control might consist of elements, commands, bindings, triggers, or even property settings that are required or expected for a control to function properly.</span></span>

  - <span data-ttu-id="f48d3-129">Minimize os contratos o máximo possível.</span><span class="sxs-lookup"><span data-stu-id="f48d3-129">Minimize contracts as much as possible.</span></span>

  - <span data-ttu-id="f48d3-130">Crie em torno da expectativa de que durante o tempo de design (ou seja, ao usar uma ferramenta de design) é comum que um modelo de controle esteja em um estado incompleto.</span><span class="sxs-lookup"><span data-stu-id="f48d3-130">Design around the expectation that during design time (that is, when using a design tool) it is common for a control template to be in an incomplete state.</span></span> <span data-ttu-id="f48d3-131">O [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] não oferece uma infraestrutura de estado de "composição", portanto, os controles precisam ser criados com a expectativa de que esse estado possa ser válido.</span><span class="sxs-lookup"><span data-stu-id="f48d3-131">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] does not offer a "composing" state infrastructure, so controls have to be built with the expectation that such a state might be valid.</span></span>

  - <span data-ttu-id="f48d3-132">Não lance exceções quando algum aspecto de um contrato de modelo não é seguido.</span><span class="sxs-lookup"><span data-stu-id="f48d3-132">Do not throw exceptions when any aspect of a template contract is not followed.</span></span> <span data-ttu-id="f48d3-133">Da mesma forma, os painéis não deverão lançar exceções se tiverem muitos ou poucos filhos.</span><span class="sxs-lookup"><span data-stu-id="f48d3-133">Along these lines, panels should not throw exceptions if they have too many or too few children.</span></span>

- <span data-ttu-id="f48d3-134">**Fatore funcionalidades periféricas em elementos auxiliares de modelo.**</span><span class="sxs-lookup"><span data-stu-id="f48d3-134">**Factor peripheral functionality into template helper elements.**</span></span> <span data-ttu-id="f48d3-135">Cada controle deve ser focado em sua funcionalidade principal e em sua real proposta de valor e deve ser definido pelo uso comum do controle.</span><span class="sxs-lookup"><span data-stu-id="f48d3-135">Each control should be focused on its core functionality and true value proposition and defined by the control's common usage.</span></span> <span data-ttu-id="f48d3-136">Para essa finalidade, use elementos de composição e auxiliares dentro do modelo para habilitar comportamentos e visualizações periféricos, ou seja, os comportamentos e as visualizações que não contribuem para a funcionalidade principal do controle.</span><span class="sxs-lookup"><span data-stu-id="f48d3-136">To that end, use composition and helper elements within the template to enable peripheral behaviors and visualizations, that is, those behaviors and visualizations that do not contribute to the core functionality of the control.</span></span> <span data-ttu-id="f48d3-137">Os elementos auxiliares enquadram-se em três categorias:</span><span class="sxs-lookup"><span data-stu-id="f48d3-137">Helper elements fall into three categories:</span></span>

  - <span data-ttu-id="f48d3-138">Os tipos auxiliares **autônomos** são controles públicos e reutilizáveis ou primitivos que são usados "anonimamente" em um modelo, o que significa que nem o elemento auxiliar nem o controle com estilo está ciente um do outro.</span><span class="sxs-lookup"><span data-stu-id="f48d3-138">**Standalone** helper types are public and reusable controls or primitives that are used "anonymously" in a template, meaning that neither the helper element nor the styled control is aware of the other.</span></span> <span data-ttu-id="f48d3-139">Tecnicamente, qualquer elemento pode ser um tipo anônimo, mas nesse contexto o termo descreve os tipos que encapsulam funcionalidades especializadas para habilitar cenários de destino.</span><span class="sxs-lookup"><span data-stu-id="f48d3-139">Technically, any element can be an anonymous type, but in this context the term describes those types that encapsulate specialized functionality to enable targeted scenarios.</span></span>

  - <span data-ttu-id="f48d3-140">Os elementos auxiliares **baseados em tipo** são novos tipos que encapsulam funcionalidades especializadas.</span><span class="sxs-lookup"><span data-stu-id="f48d3-140">**Type-based** helper elements are new types that encapsulate specialized functionality.</span></span> <span data-ttu-id="f48d3-141">Esses elementos são normalmente criados com um intervalo mais estreito de funcionalidade do que os controles comuns ou primitivos.</span><span class="sxs-lookup"><span data-stu-id="f48d3-141">These elements are typically designed with a narrower range of functionality than common controls or primitives.</span></span> <span data-ttu-id="f48d3-142">Diferentemente dos elementos auxiliares autônomos, os elementos auxiliares baseados em tipo conseguem reconhecer o contexto no qual são usados e geralmente devem compartilhar dados com o controle a cujo modelo pertencem.</span><span class="sxs-lookup"><span data-stu-id="f48d3-142">Unlike standalone helper elements, type-based helper elements are aware of the context in which they are used and typically must share data with the control to whose template they belong.</span></span>

  - <span data-ttu-id="f48d3-143">Elementos auxiliares **nomeados** são controles comuns ou primitivos que um controle espera encontrar em seu modelo, por nome.</span><span class="sxs-lookup"><span data-stu-id="f48d3-143">**Named** helper elements are common controls or primitives that a control expects to find within its template by name.</span></span> <span data-ttu-id="f48d3-144">Esses elementos recebem um nome conhecido dentro do modelo, tornando possível que um controle encontre o elemento e interaja com ele de forma programática.</span><span class="sxs-lookup"><span data-stu-id="f48d3-144">These elements are given a well-known name within the template, making it possible for a control to find the element and interact with it programmatically.</span></span> <span data-ttu-id="f48d3-145">Pode haver apenas um elemento com um determinado nome em qualquer modelo.</span><span class="sxs-lookup"><span data-stu-id="f48d3-145">There can only be one element with a given name in any template.</span></span>

  <span data-ttu-id="f48d3-146">A tabela a seguir mostra elementos auxiliares empregados por estilos de controle atualmente (essa lista não está completa):</span><span class="sxs-lookup"><span data-stu-id="f48d3-146">The following table shows helper elements employed by control styles today (this list is not exhaustive):</span></span>

  |<span data-ttu-id="f48d3-147">Elemento</span><span class="sxs-lookup"><span data-stu-id="f48d3-147">Element</span></span>|<span data-ttu-id="f48d3-148">Digite</span><span class="sxs-lookup"><span data-stu-id="f48d3-148">Type</span></span>|<span data-ttu-id="f48d3-149">Usado por</span><span class="sxs-lookup"><span data-stu-id="f48d3-149">Used by</span></span>|
  |-------------|----------|-------------|
  |<xref:System.Windows.Controls.ContentPresenter>|<span data-ttu-id="f48d3-150">Baseado em tipo</span><span class="sxs-lookup"><span data-stu-id="f48d3-150">Type-based</span></span>|<span data-ttu-id="f48d3-151"><xref:System.Windows.Controls.Button>, <xref:System.Windows.Controls.CheckBox>, <xref:System.Windows.Controls.RadioButton>, <xref:System.Windows.Controls.Frame>e assim por diante (todos os tipos de <xref:System.Windows.Controls.ContentControl>)</span><span class="sxs-lookup"><span data-stu-id="f48d3-151"><xref:System.Windows.Controls.Button>, <xref:System.Windows.Controls.CheckBox>, <xref:System.Windows.Controls.RadioButton>, <xref:System.Windows.Controls.Frame>, and so on (all <xref:System.Windows.Controls.ContentControl> types)</span></span>|
  |<xref:System.Windows.Controls.ItemsPresenter>|<span data-ttu-id="f48d3-152">Baseado em tipo</span><span class="sxs-lookup"><span data-stu-id="f48d3-152">Type-based</span></span>|<span data-ttu-id="f48d3-153"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>e assim por diante (todos os tipos de <xref:System.Windows.Controls.ItemsControl>)</span><span class="sxs-lookup"><span data-stu-id="f48d3-153"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>, and so on (all <xref:System.Windows.Controls.ItemsControl> types)</span></span>|
  |<xref:System.Windows.Controls.Primitives.ToolBarOverflowPanel>|<span data-ttu-id="f48d3-154">Nomeado</span><span class="sxs-lookup"><span data-stu-id="f48d3-154">Named</span></span>|<xref:System.Windows.Controls.ToolBar>|
  |<xref:System.Windows.Controls.Primitives.Popup>|<span data-ttu-id="f48d3-155">Autônomo</span><span class="sxs-lookup"><span data-stu-id="f48d3-155">Standalone</span></span>|<span data-ttu-id="f48d3-156"><xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.ToolBar>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.ToolTip>e assim por diante</span><span class="sxs-lookup"><span data-stu-id="f48d3-156"><xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.ToolBar>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.ToolTip>, and so on</span></span>|
  |<xref:System.Windows.Controls.Primitives.RepeatButton>|<span data-ttu-id="f48d3-157">Nomeado</span><span class="sxs-lookup"><span data-stu-id="f48d3-157">Named</span></span>|<span data-ttu-id="f48d3-158"><xref:System.Windows.Controls.Slider>, <xref:System.Windows.Controls.Primitives.ScrollBar>e assim por diante</span><span class="sxs-lookup"><span data-stu-id="f48d3-158"><xref:System.Windows.Controls.Slider>, <xref:System.Windows.Controls.Primitives.ScrollBar>, and so on</span></span>|
  |<xref:System.Windows.Controls.Primitives.ScrollBar>|<span data-ttu-id="f48d3-159">Nomeado</span><span class="sxs-lookup"><span data-stu-id="f48d3-159">Named</span></span>|<xref:System.Windows.Controls.ScrollViewer>|
  |<xref:System.Windows.Controls.ScrollViewer>|<span data-ttu-id="f48d3-160">Autônomo</span><span class="sxs-lookup"><span data-stu-id="f48d3-160">Standalone</span></span>|<span data-ttu-id="f48d3-161"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.Frame>e assim por diante</span><span class="sxs-lookup"><span data-stu-id="f48d3-161"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.Frame>, and so on</span></span>|
  |<xref:System.Windows.Controls.Primitives.TabPanel>|<span data-ttu-id="f48d3-162">Autônomo</span><span class="sxs-lookup"><span data-stu-id="f48d3-162">Standalone</span></span>|<xref:System.Windows.Controls.TabControl>|
  |<xref:System.Windows.Controls.TextBox>|<span data-ttu-id="f48d3-163">Nomeado</span><span class="sxs-lookup"><span data-stu-id="f48d3-163">Named</span></span>|<xref:System.Windows.Controls.ComboBox>|
  |<xref:System.Windows.Controls.Primitives.TickBar>|<span data-ttu-id="f48d3-164">Baseado em tipo</span><span class="sxs-lookup"><span data-stu-id="f48d3-164">Type-based</span></span>|<xref:System.Windows.Controls.Slider>|

- <span data-ttu-id="f48d3-165">**Minimize as associações ou configurações de propriedade especificadas pelo usuário necessárias nos elementos auxiliares**.</span><span class="sxs-lookup"><span data-stu-id="f48d3-165">**Minimize required user-specified bindings or property settings on helper elements**.</span></span> <span data-ttu-id="f48d3-166">É comum que um elemento auxiliar exija determinadas associações ou configurações de propriedade para funcionar corretamente no modelo do controle.</span><span class="sxs-lookup"><span data-stu-id="f48d3-166">It is common for a helper element to require certain bindings or property settings in order to function properly within the control template.</span></span> <span data-ttu-id="f48d3-167">O elemento auxiliar e o controle de modelo devem, tanto quanto possível, estabelecer essas configurações.</span><span class="sxs-lookup"><span data-stu-id="f48d3-167">The helper element and templated control should, as much as possible, establish these settings.</span></span> <span data-ttu-id="f48d3-168">Ao definir propriedades ou estabelecer associações, tome cuidado para não substituir os valores definidos pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="f48d3-168">When setting properties or establishing bindings, care should be taken to not override values set by the user.</span></span> <span data-ttu-id="f48d3-169">As práticas recomendadas específicas são as seguintes:</span><span class="sxs-lookup"><span data-stu-id="f48d3-169">Specific best practices are as follows:</span></span>

  - <span data-ttu-id="f48d3-170">Os elementos auxiliares nomeados devem ser identificados pelo pai e o pai deve estabelecer qualquer configuração necessária no elemento auxiliar.</span><span class="sxs-lookup"><span data-stu-id="f48d3-170">Named helper elements should be identified by the parent and the parent should establish any required settings on the helper element.</span></span>

  - <span data-ttu-id="f48d3-171">Os elementos auxiliares baseados em tipo devem estabelecer as configurações necessárias diretamente neles mesmos.</span><span class="sxs-lookup"><span data-stu-id="f48d3-171">Type-based helper elements should establish any required settings directly on themselves.</span></span> <span data-ttu-id="f48d3-172">Isso pode exigir que o elemento auxiliar consulte o contexto de informações no qual está sendo usado, incluindo seu `TemplatedParent` (o tipo de controle do modelo no qual ele está sendo usado).</span><span class="sxs-lookup"><span data-stu-id="f48d3-172">Doing this may require the helper element to query for information context in which it is being used, including its `TemplatedParent` (the control type of the template in which it is being used).</span></span> <span data-ttu-id="f48d3-173">Por exemplo, <xref:System.Windows.Controls.ContentPresenter> associa automaticamente a propriedade `Content` de seu `TemplatedParent` à sua propriedade <xref:System.Windows.Controls.ContentPresenter.Content%2A> quando usada em um tipo derivado de <xref:System.Windows.Controls.ContentControl>.</span><span class="sxs-lookup"><span data-stu-id="f48d3-173">For example, <xref:System.Windows.Controls.ContentPresenter> automatically binds the `Content` property of its `TemplatedParent` to its <xref:System.Windows.Controls.ContentPresenter.Content%2A> property when used in a <xref:System.Windows.Controls.ContentControl> derived type.</span></span>

  - <span data-ttu-id="f48d3-174">Os elementos auxiliares autônomos não podem ser otimizados dessa maneira porque, por definição, nem o elemento auxiliar nem o pai sabem da existência um do outro.</span><span class="sxs-lookup"><span data-stu-id="f48d3-174">Standalone helper elements cannot be optimized in this way because, by definition, neither the helper element nor the parent knows about the other.</span></span>

- <span data-ttu-id="f48d3-175">**Use a propriedade Name para sinalizar elementos em um modelo**.</span><span class="sxs-lookup"><span data-stu-id="f48d3-175">**Use the Name property to flag elements within a template**.</span></span> <span data-ttu-id="f48d3-176">Um controle que precisa localizar um elemento no seu estilo para acessá-lo de forma programática deve fazer isso usando a propriedade `Name` e o paradigma `FindName`.</span><span class="sxs-lookup"><span data-stu-id="f48d3-176">A control that needs to find an element in its style in order to access it programmatically should do so using the `Name` property and the `FindName` paradigm.</span></span> <span data-ttu-id="f48d3-177">Um controle não deve lançar uma exceção quando um elemento não for encontrado, mas desabilitar silenciosamente e cuidadosamente a funcionalidade que exigia esse elemento.</span><span class="sxs-lookup"><span data-stu-id="f48d3-177">A control should not throw an exception when an element is not found, but silently and gracefully disable the functionality which required that element.</span></span>

- <span data-ttu-id="f48d3-178">**Use as práticas recomendadas para expressar o estado e o comportamento do controle em um estilo.**</span><span class="sxs-lookup"><span data-stu-id="f48d3-178">**Use best practices for expressing control state and behavior in a style.**</span></span> <span data-ttu-id="f48d3-179">O seguinte é uma lista ordenada de práticas recomendadas para expressar alterações de estado e o comportamento do controle em um estilo.</span><span class="sxs-lookup"><span data-stu-id="f48d3-179">The following is an ordered list of best practices for expressing control state changes and behavior in a style.</span></span> <span data-ttu-id="f48d3-180">Você deve usar o primeiro item na lista que permite seu cenário.</span><span class="sxs-lookup"><span data-stu-id="f48d3-180">You should use the first item on the list that enables your scenario.</span></span>

  1. <span data-ttu-id="f48d3-181">Associação de propriedade.</span><span class="sxs-lookup"><span data-stu-id="f48d3-181">Property binding.</span></span> <span data-ttu-id="f48d3-182">Exemplo: associação entre <xref:System.Windows.Controls.ComboBox.IsDropDownOpen%2A?displayProperty=nameWithType> e <xref:System.Windows.Controls.Primitives.ToggleButton.IsChecked%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="f48d3-182">Example: binding between <xref:System.Windows.Controls.ComboBox.IsDropDownOpen%2A?displayProperty=nameWithType> and <xref:System.Windows.Controls.Primitives.ToggleButton.IsChecked%2A?displayProperty=nameWithType>.</span></span>

  2. <span data-ttu-id="f48d3-183">Alterações de propriedade ou animações de propriedade disparadas.</span><span class="sxs-lookup"><span data-stu-id="f48d3-183">Triggered property changes or property animations.</span></span> <span data-ttu-id="f48d3-184">Exemplo: o estado de foco de um <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="f48d3-184">Example: the hover state of a <xref:System.Windows.Controls.Button>.</span></span>

  3. <span data-ttu-id="f48d3-185">Comando.</span><span class="sxs-lookup"><span data-stu-id="f48d3-185">Command.</span></span> <span data-ttu-id="f48d3-186">Exemplo: <xref:System.Windows.Controls.Primitives.ScrollBar.LineUpCommand> / <xref:System.Windows.Controls.Primitives.ScrollBar.LineDownCommand> no <xref:System.Windows.Controls.Primitives.ScrollBar>.</span><span class="sxs-lookup"><span data-stu-id="f48d3-186">Example: <xref:System.Windows.Controls.Primitives.ScrollBar.LineUpCommand> / <xref:System.Windows.Controls.Primitives.ScrollBar.LineDownCommand> in <xref:System.Windows.Controls.Primitives.ScrollBar>.</span></span>

  4. <span data-ttu-id="f48d3-187">Elementos auxiliares autônomos.</span><span class="sxs-lookup"><span data-stu-id="f48d3-187">Standalone helper elements.</span></span> <span data-ttu-id="f48d3-188">Exemplo: <xref:System.Windows.Controls.Primitives.TabPanel> em <xref:System.Windows.Controls.TabControl>.</span><span class="sxs-lookup"><span data-stu-id="f48d3-188">Example: <xref:System.Windows.Controls.Primitives.TabPanel> in <xref:System.Windows.Controls.TabControl>.</span></span>

  5. <span data-ttu-id="f48d3-189">Tipos auxiliares baseados em tipo.</span><span class="sxs-lookup"><span data-stu-id="f48d3-189">Type-based helper types.</span></span> <span data-ttu-id="f48d3-190">Exemplo: <xref:System.Windows.Controls.ContentPresenter> em <xref:System.Windows.Controls.Button>, <xref:System.Windows.Controls.Primitives.TickBar> em <xref:System.Windows.Controls.Slider>.</span><span class="sxs-lookup"><span data-stu-id="f48d3-190">Example: <xref:System.Windows.Controls.ContentPresenter> in <xref:System.Windows.Controls.Button>, <xref:System.Windows.Controls.Primitives.TickBar> in <xref:System.Windows.Controls.Slider>.</span></span>

  6. <span data-ttu-id="f48d3-191">Elementos auxiliares nomeados.</span><span class="sxs-lookup"><span data-stu-id="f48d3-191">Named helper elements.</span></span> <span data-ttu-id="f48d3-192">Exemplo: <xref:System.Windows.Controls.TextBox> em <xref:System.Windows.Controls.ComboBox>.</span><span class="sxs-lookup"><span data-stu-id="f48d3-192">Example: <xref:System.Windows.Controls.TextBox> in <xref:System.Windows.Controls.ComboBox>.</span></span>

  7. <span data-ttu-id="f48d3-193">Eventos de bolhas de tipos auxiliares nomeados.</span><span class="sxs-lookup"><span data-stu-id="f48d3-193">Bubbled events from named helper types.</span></span> <span data-ttu-id="f48d3-194">Se você escutar eventos de bolhas de um elemento de estilo, exija que o elemento que gera o evento seja identificado exclusivamente.</span><span class="sxs-lookup"><span data-stu-id="f48d3-194">If you listen for bubbled events from a style element, you should require that the element generating the event can be uniquely identified.</span></span> <span data-ttu-id="f48d3-195">Exemplo: <xref:System.Windows.Controls.Primitives.Thumb> em <xref:System.Windows.Controls.ToolBar>.</span><span class="sxs-lookup"><span data-stu-id="f48d3-195">Example: <xref:System.Windows.Controls.Primitives.Thumb> in <xref:System.Windows.Controls.ToolBar>.</span></span>

  8. <span data-ttu-id="f48d3-196">Comportamento de `OnRender` personalizado.</span><span class="sxs-lookup"><span data-stu-id="f48d3-196">Custom `OnRender` behavior.</span></span> <span data-ttu-id="f48d3-197">Exemplo: <xref:Microsoft.Windows.Themes.ButtonChrome> em <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="f48d3-197">Example: <xref:Microsoft.Windows.Themes.ButtonChrome> in <xref:System.Windows.Controls.Button>.</span></span>

- <span data-ttu-id="f48d3-198">**Use gatilhos de estilo (em vez de gatilhos de modelo) com moderação**.</span><span class="sxs-lookup"><span data-stu-id="f48d3-198">**Use style triggers (as opposed to template triggers) sparingly**.</span></span> <span data-ttu-id="f48d3-199">Os gatilhos que afetam propriedades em elementos de modelo devem ser declarados no modelo.</span><span class="sxs-lookup"><span data-stu-id="f48d3-199">Triggers that affect properties on elements in the template must be declared in the template.</span></span> <span data-ttu-id="f48d3-200">Os gatilhos que afetam propriedades no controle (sem `TargetName`) podem ser declarados no estilo, a menos que você saiba que a alteração do modelo também deverá destruir o gatilho.</span><span class="sxs-lookup"><span data-stu-id="f48d3-200">Triggers that affect properties on the control (no `TargetName`) may be declared in the style unless you know that changing the template should also destroy the trigger.</span></span>

- <span data-ttu-id="f48d3-201">**Seja consistente com os padrões de estilo existentes.**</span><span class="sxs-lookup"><span data-stu-id="f48d3-201">**Be consistent with existing styling patterns.**</span></span> <span data-ttu-id="f48d3-202">Muitas vezes existem várias maneiras de resolver um problema.</span><span class="sxs-lookup"><span data-stu-id="f48d3-202">Many times there are multiple ways to solve a problem.</span></span> <span data-ttu-id="f48d3-203">Esteja atento a isso e, quando possível, consistente com os padrões existentes de definição de estilo de controle.</span><span class="sxs-lookup"><span data-stu-id="f48d3-203">Be aware of and, when possible, consistent with existing control styling patterns.</span></span> <span data-ttu-id="f48d3-204">Isso é especialmente importante para controles que derivam do mesmo tipo base (por exemplo, <xref:System.Windows.Controls.ContentControl>, <xref:System.Windows.Controls.ItemsControl>, <xref:System.Windows.Controls.Primitives.RangeBase>e assim por diante).</span><span class="sxs-lookup"><span data-stu-id="f48d3-204">This is especially important for controls that derive from the same base type (for example, <xref:System.Windows.Controls.ContentControl>, <xref:System.Windows.Controls.ItemsControl>, <xref:System.Windows.Controls.Primitives.RangeBase>, and so on).</span></span>

- <span data-ttu-id="f48d3-205">**Exponha propriedades para habilitar cenários comuns de personalização sem redefinição de modelo**.</span><span class="sxs-lookup"><span data-stu-id="f48d3-205">**Expose properties to enable common customization scenarios without retemplating**.</span></span> <span data-ttu-id="f48d3-206">O [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] não dá suporte para partes plugáveis/personalizáveis, portanto, um usuário do controle tem apenas dois métodos de personalização: definir propriedades diretamente ou definir propriedades usando estilos.</span><span class="sxs-lookup"><span data-stu-id="f48d3-206">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] does not support pluggable/customizable parts, so a control user is left with only two methods of customization: setting properties directly or setting properties using styles.</span></span> <span data-ttu-id="f48d3-207">Com isso em mente, é apropriado definir um número limitado de propriedades direcionadas a cenários de personalização muito comuns e de alta prioridade que normalmente exigiriam a redefinição de modelo.</span><span class="sxs-lookup"><span data-stu-id="f48d3-207">With that in mind, it is appropriate to surface a limited number of properties targeted at very common, high-priority customization scenarios which would otherwise require the retemplating.</span></span> <span data-ttu-id="f48d3-208">Aqui estão as práticas recomendadas para quando e como habilitar cenários de personalização:</span><span class="sxs-lookup"><span data-stu-id="f48d3-208">Here are best practices for when and how to enable customization scenarios:</span></span>

  - <span data-ttu-id="f48d3-209">As personalizações muito comuns devem ser expostas como propriedades no controle e consumidas pelo modelo.</span><span class="sxs-lookup"><span data-stu-id="f48d3-209">Very common customizations should be exposed as properties on the control and consumed by the template.</span></span>

  - <span data-ttu-id="f48d3-210">As personalizações menos comuns (embora não raras) devem ser expostas como propriedades anexadas e consumidas pelo modelo.</span><span class="sxs-lookup"><span data-stu-id="f48d3-210">Less common (though not rare) customizations should be exposed as attached properties and consumed by the template.</span></span>

  - <span data-ttu-id="f48d3-211">É aceitável que as personalizações conhecidas, mas raras exijam redefinição de modelo.</span><span class="sxs-lookup"><span data-stu-id="f48d3-211">It is acceptable for known but rare customizations to require retemplating.</span></span>

<a name="Theme_Considerations"></a>

## <a name="theme-considerations"></a><span data-ttu-id="f48d3-212">Considerações de tema</span><span class="sxs-lookup"><span data-stu-id="f48d3-212">Theme Considerations</span></span>

- <span data-ttu-id="f48d3-213">**Os estilos de tema devem tentar ter uma semântica de propriedade consistente em todos os temas, mas não oferecer garantia**.</span><span class="sxs-lookup"><span data-stu-id="f48d3-213">**Theme styles should attempt to have consistent property semantics across all themes, but make no guarantee**.</span></span> <span data-ttu-id="f48d3-214">Como parte de sua documentação, o controle deve ter um documento que descreva a semântica de propriedade do controle, ou seja, o "significado" de uma propriedade para um controle.</span><span class="sxs-lookup"><span data-stu-id="f48d3-214">As part of its documentation, your control should have a document describing the control's property semantics, that is, the "meaning" of a property for a control.</span></span> <span data-ttu-id="f48d3-215">Por exemplo, o controle <xref:System.Windows.Controls.ComboBox> deve definir o significado da propriedade <xref:System.Windows.Controls.Control.Background%2A> dentro de <xref:System.Windows.Controls.ComboBox>.</span><span class="sxs-lookup"><span data-stu-id="f48d3-215">For example, the <xref:System.Windows.Controls.ComboBox> control should define the meaning of the <xref:System.Windows.Controls.Control.Background%2A> property within <xref:System.Windows.Controls.ComboBox>.</span></span> <span data-ttu-id="f48d3-216">Os estilos padrão do controle devem tentar seguir a semântica definida nesse documento para todos os temas.</span><span class="sxs-lookup"><span data-stu-id="f48d3-216">The default styles for your control should attempt to follow the semantics defined in that document across all themes.</span></span> <span data-ttu-id="f48d3-217">Por outro lado, os usuários do controle devem estar cientes de que a semântica de propriedade pode mudar de tema para tema.</span><span class="sxs-lookup"><span data-stu-id="f48d3-217">Control users, on the other hand, should be aware that property semantics can change from theme to theme.</span></span> <span data-ttu-id="f48d3-218">Em alguns casos, uma determinada propriedade talvez não possa ser expressada sob as restrições visuais exigidas por um tema específico.</span><span class="sxs-lookup"><span data-stu-id="f48d3-218">In certain cases, a given property may not be expressible under the visual constraints required by a particular theme.</span></span> <span data-ttu-id="f48d3-219">(O tema clássico, por exemplo, não tem uma borda única para que `Thickness` possa ser aplicado a vários controles.)</span><span class="sxs-lookup"><span data-stu-id="f48d3-219">(The Classic theme, for example, does not have a single border to which `Thickness` can be applied for many controls.)</span></span>

- <span data-ttu-id="f48d3-220">**Os estilos de tema não precisam ter a semântica de gatilho consistente entre todos os temas**.</span><span class="sxs-lookup"><span data-stu-id="f48d3-220">**Theme styles do not need to have consistent trigger semantics across all themes**.</span></span> <span data-ttu-id="f48d3-221">O comportamento exposto por um estilo de controle por meio de gatilhos ou animações pode variar de tema para tema.</span><span class="sxs-lookup"><span data-stu-id="f48d3-221">The behavior exposed by a control style through triggers or animations may vary from theme to theme.</span></span> <span data-ttu-id="f48d3-222">Os usuários do controle devem estar cientes de que um controle não vai necessariamente empregar o mesmo mecanismo para atingir um determinado comportamento em todos os temas.</span><span class="sxs-lookup"><span data-stu-id="f48d3-222">Control users should be aware that a control will not necessarily employ the same mechanism to achieve a particular behavior across all themes.</span></span> <span data-ttu-id="f48d3-223">Um tema, por exemplo, pode usar uma animação para expressar o comportamento de focalização enquanto outro tema usa um gatilho.</span><span class="sxs-lookup"><span data-stu-id="f48d3-223">One theme, for example, may use an animation to express hover behavior where another theme uses a trigger.</span></span> <span data-ttu-id="f48d3-224">Isso pode resultar em inconsistências na preservação do comportamento em controles personalizados.</span><span class="sxs-lookup"><span data-stu-id="f48d3-224">This can result in inconsistencies in behavior preservation on customized controls.</span></span> <span data-ttu-id="f48d3-225">(Alterar a propriedade de tela de fundo, por exemplo, poderá não afetar o estado de focalização do controle se esse estado for expresso usando um gatilho.</span><span class="sxs-lookup"><span data-stu-id="f48d3-225">(Changing the background property, for example, might not affect the hover state of the control if that state is expressed using a trigger.</span></span> <span data-ttu-id="f48d3-226">No entanto, se o estado de focalização for implementado usando uma animação, alterar a tela de fundo poderá interromper irremediavelmente a animação e, portanto, a transição de estado.)</span><span class="sxs-lookup"><span data-stu-id="f48d3-226">However, if the hover state is implemented using an animation, changing to background could irreparably break the animation and therefore the state transition.)</span></span>

- <span data-ttu-id="f48d3-227">**Os estilos de tema não precisam ter a semântica de "layout" consistente entre todos os temas**.</span><span class="sxs-lookup"><span data-stu-id="f48d3-227">**Theme styles do not need to have consistent "layout" semantics across all themes**.</span></span> <span data-ttu-id="f48d3-228">Por exemplo, o estilo padrão não precisa garantir que um controle ocupará a mesma quantidade de tamanho em todos os temas ou garantir que um controle terá as mesmas margens de conteúdo/preenchimento em todos os temas.</span><span class="sxs-lookup"><span data-stu-id="f48d3-228">For example, the default style does not need to guarantee that a control will occupy the same amount of size in all themes or guarantee that a control will have the same content margins / padding across all themes.</span></span>

## <a name="see-also"></a><span data-ttu-id="f48d3-229">Consulte também</span><span class="sxs-lookup"><span data-stu-id="f48d3-229">See also</span></span>

- [<span data-ttu-id="f48d3-230">Estilo e modelagem</span><span class="sxs-lookup"><span data-stu-id="f48d3-230">Styling and Templating</span></span>](../../../desktop-wpf/fundamentals/styles-templates-overview.md)
- [<span data-ttu-id="f48d3-231">Visão geral da criação de controle</span><span class="sxs-lookup"><span data-stu-id="f48d3-231">Control Authoring Overview</span></span>](control-authoring-overview.md)
