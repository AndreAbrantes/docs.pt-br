---
title: Como criar um cliente do Windows Communication Foundation
ms.date: 09/14/2018
helpviewer_keywords:
- clients [WCF], running
- WCF clients [WCF], running
ms.assetid: a67884cc-1c4b-416b-8c96-5c954099f19f
ms.openlocfilehash: 1eadb5008575a1a53d685db14d68e42d0dce1360
ms.sourcegitcommit: 213292dfbb0c37d83f62709959ff55c50af5560d
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/25/2018
ms.locfileid: "47070670"
---
# <a name="how-to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="e7e2f-102">Como criar um cliente do Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="e7e2f-102">How to: Create a Windows Communication Foundation Client</span></span>

<span data-ttu-id="e7e2f-103">Esta é a quarta das seis tarefas necessárias para criar um aplicativo do Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="e7e2f-103">This is the fourth of six tasks required to create a Windows Communication Foundation (WCF) application.</span></span> <span data-ttu-id="e7e2f-104">Para obter uma visão geral de todas as seis tarefas, confira o tópico [Tutorial de introdução](../../../docs/framework/wcf/getting-started-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="e7e2f-104">For an overview of all six of the tasks, see the [Getting Started Tutorial](../../../docs/framework/wcf/getting-started-tutorial.md) topic.</span></span>

<span data-ttu-id="e7e2f-105">Este tópico descreve como recuperar metadados de um serviço WCF e usá-lo para criar um proxy do WCF que pode acessar o serviço.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-105">This topic describes how to retrieve metadata from a WCF service and use it to create a WCF proxy that can access the service.</span></span> <span data-ttu-id="e7e2f-106">Essa tarefa é concluída usando o **adicionar referência de serviço** funcionalidade fornecida pelo Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-106">This task is completed by using the **Add Service Reference** functionality provided by Visual Studio.</span></span> <span data-ttu-id="e7e2f-107">Essa ferramenta obtém os metadados do ponto de extremidade de MEX do serviço e gera um arquivo de código-fonte gerenciado para um proxy de cliente na linguagem escolhida (por padrão, C#).</span><span class="sxs-lookup"><span data-stu-id="e7e2f-107">This tool obtains the metadata from the service’s MEX endpoint and generates a managed source code file for a client proxy in the language you have chosen (C# by default).</span></span> <span data-ttu-id="e7e2f-108">Além de criar o proxy de cliente, a ferramenta também cria ou atualiza o arquivo de configuração do cliente, o que permite que o aplicativo cliente se conecte ao serviço em um de seus pontos de extremidade.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-108">In addition to creating the client proxy, the tool also creates or updates the client configuration file which enables the client application to connect to the service at one of its endpoints.</span></span>

> [!NOTE]
> <span data-ttu-id="e7e2f-109">Você também pode usar o [ferramenta de utilitário de metadados ServiceModel (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) ferramenta para gerar a classe de proxy e a configuração em vez de usar **Add Service Reference** no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-109">You can also use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool to generate the proxy class and configuration instead of using **Add Service Reference** in Visual Studio.</span></span>

> [!NOTE]
> <span data-ttu-id="e7e2f-110">Ao chamar um serviço WCF de um projeto de biblioteca de classes no Visual Studio, você pode usar o **adicionar referência de serviço** recurso para gerar automaticamente um proxy e um arquivo de configuração associado.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-110">When calling a WCF service from a class library project in Visual Studio, you can use the **Add Service Reference** feature to automatically generate a proxy and associated configuration file.</span></span> <span data-ttu-id="e7e2f-111">O arquivo de configuração não será usado pelo projeto de biblioteca de classes.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-111">The configuration file will not be used by the class library project.</span></span> <span data-ttu-id="e7e2f-112">Você precisará adicionar as configurações no arquivo de configuração gerado para o arquivo App. config para o executável que chama a biblioteca de classes.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-112">You need to add the settings in the generated configuration file to the app.config file for the executable that calls the class library.</span></span>

<span data-ttu-id="e7e2f-113">O aplicativo cliente usa a classe proxy gerada para se comunicar com o serviço.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-113">The client application uses the generated proxy class to communicate with the service.</span></span> <span data-ttu-id="e7e2f-114">Esse procedimento é descrito na [como: usar um cliente](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span><span class="sxs-lookup"><span data-stu-id="e7e2f-114">This procedure is described in [How to: Use a Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span></span>

## <a name="to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="e7e2f-115">Para criar um cliente do Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="e7e2f-115">To create a Windows Communication Foundation client</span></span>

1. <span data-ttu-id="e7e2f-116">Crie um novo projeto de aplicativo de console no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-116">Create a new console application project in Visual Studio.</span></span> <span data-ttu-id="e7e2f-117">Clique com botão direito na solução no guia de Introdução **Gerenciador de soluções** e selecione **Add** > **novo projeto**.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-117">Right-click on the Getting Started solution in **Solution Explorer** and select **Add** > **New Project**.</span></span> <span data-ttu-id="e7e2f-118">No **adicionar novo projeto** caixa de diálogo, no lado esquerdo, selecione o **área de trabalho do Windows** categoria sob **Visual c#** ou **Visual Basic**.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-118">In the **Add New Project** dialog, on the left-hand side, select the **Windows Desktop** category under **Visual C#** or **Visual Basic**.</span></span> <span data-ttu-id="e7e2f-119">Selecione o **aplicativo de Console (.NET Framework)** modelo e, em seguida, nomeie o projeto **GettingStartedClient**.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-119">Select the **Console App (.NET Framework)** template, and then name the project **GettingStartedClient**.</span></span>

2. <span data-ttu-id="e7e2f-120">Adicione uma referência a System. ServiceModel ao projeto GettingStartedClient.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-120">Add a reference to System.ServiceModel to the GettingStartedClient project.</span></span> <span data-ttu-id="e7e2f-121">Clique com botão direito no **referências** pasta sob o projeto GettingStartedClient no **Gerenciador de soluções**e, em seguida, selecione **Add Reference**.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-121">Right-click on the **References** folder under the GettingStartedClient project in **Solution Explorer**, and then select **Add Reference**.</span></span> <span data-ttu-id="e7e2f-122">No **adicionar referência** caixa de diálogo, selecione **Framework** no lado esquerdo da caixa de diálogo, sob **Assemblies**.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-122">In the **Add Reference** dialog, select **Framework** on the left-hand side of the dialog under **Assemblies**.</span></span> <span data-ttu-id="e7e2f-123">Localize e selecione **System. ServiceModel**e, em seguida, escolha **Okey**.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-123">Find and select **System.ServiceModel**, and then choose **OK**.</span></span> <span data-ttu-id="e7e2f-124">Salve a solução selecionando **arquivo** > **Salvar tudo**.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-124">Save the solution by selecting **File** > **Save All**.</span></span>

3. <span data-ttu-id="e7e2f-125">Adicione uma referência de serviço para o serviço da Calculadora.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-125">Add a service reference to the Calculator Service.</span></span>

   1. <span data-ttu-id="e7e2f-126">Primeiro, inicie o aplicativo de console GettingStartedHost.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-126">First, start up the GettingStartedHost console application.</span></span>

   2. <span data-ttu-id="e7e2f-127">Quando o host estiver em execução, clique com botão direito do **referências** pasta sob o projeto GettingStartedClient no **Gerenciador de soluções** e selecione **Add**  >   **Referência de serviço**.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-127">Once the host is running, right-click the **References** folder under the GettingStartedClient project in **Solution Explorer** and select **Add** > **Service Reference**.</span></span>

   3. <span data-ttu-id="e7e2f-128">Insira a seguinte URL na caixa de endereço de **adicionar referência de serviço** caixa de diálogo: [http://localhost:8000/GettingStartedClient/Service](http://localhost:8000/GettingStartedClient/Service)</span><span class="sxs-lookup"><span data-stu-id="e7e2f-128">Enter the following URL in the address box of the **Add Service Reference** dialog: [http://localhost:8000/GettingStartedClient/Service](http://localhost:8000/GettingStartedClient/Service)</span></span>

   4. <span data-ttu-id="e7e2f-129">Escolher **acesse**.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-129">Choose **Go**.</span></span>

   <span data-ttu-id="e7e2f-130">O CalculatorService é exibido na **Services** caixa de listagem.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-130">The CalculatorService is displayed in the **Services** list box.</span></span> <span data-ttu-id="e7e2f-131">Clique duas vezes em CalculatorService para expandi-la e mostrará os contratos de serviço implementados pelo serviço.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-131">Double-click CalculatorService to expand it and show the service contracts implemented by the service.</span></span> <span data-ttu-id="e7e2f-132">Deixe o namespace padrão como-está e escolha **Okey**.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-132">Leave the default namespace as-is and choose **OK**.</span></span>

    <span data-ttu-id="e7e2f-133">Quando você adiciona uma referência a um serviço usando o Visual Studio, um novo item aparece no **Gerenciador de soluções** sob o **referências de serviço** pasta sob o projeto GettingStartedClient.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-133">When you add a reference to a service using Visual Studio, a new item appears in **Solution Explorer** under the **Service References** folder under the GettingStartedClient project.</span></span> <span data-ttu-id="e7e2f-134">Se você usar o [ferramenta de utilitário de metadados ServiceModel (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) ferramenta, um arquivo de código-fonte e o arquivo App. config são gerados.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-134">If you use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool, a source code file and app.config file are generated.</span></span>

    <span data-ttu-id="e7e2f-135">Você também pode usar a ferramenta de linha de comando [ferramenta de utilitário de metadados ServiceModel (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) com as opções apropriadas para criar o código do cliente.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-135">You can also use the command-line tool [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) with the appropriate switches to create the client code.</span></span> <span data-ttu-id="e7e2f-136">O exemplo a seguir produz um arquivo de código e um arquivo de configuração para o serviço.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-136">The following example generates a code file and a configuration file for the service.</span></span> <span data-ttu-id="e7e2f-137">O primeiro exemplo mostra como gerar o proxy no VB, e o segundo mostra como gerar o proxy em c#:</span><span class="sxs-lookup"><span data-stu-id="e7e2f-137">The first example shows how to generate the proxy in VB, and the second shows how to generate the proxy in C#:</span></span>

    ```shell
    svcutil.exe /language:vb /out:generatedProxy.vb /config:app.config http://localhost:8000/GettingStartedClient/service
    ```

    ```shell
    svcutil.exe /language:cs /out:generatedProxy.cs /config:app.config http://localhost:8000/GettingStartedClient/service
    ```

## <a name="next-steps"></a><span data-ttu-id="e7e2f-138">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="e7e2f-138">Next steps</span></span>

<span data-ttu-id="e7e2f-139">Você criou o proxy de aplicativo cliente usará para chamar o serviço da Calculadora.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-139">You've created the proxy that the client application will use to call the calculator service.</span></span> <span data-ttu-id="e7e2f-140">Vá para o próximo tópico na série.</span><span class="sxs-lookup"><span data-stu-id="e7e2f-140">Proceed to the next topic in the series.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="e7e2f-141">Como configurar um cliente</span><span class="sxs-lookup"><span data-stu-id="e7e2f-141">How to: Configure a Client</span></span>](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)

## <a name="see-also"></a><span data-ttu-id="e7e2f-142">Consulte também</span><span class="sxs-lookup"><span data-stu-id="e7e2f-142">See also</span></span>

- [<span data-ttu-id="e7e2f-143">Ferramenta de utilitário de metadados ServiceModel (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="e7e2f-143">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)
- [<span data-ttu-id="e7e2f-144">Introdução</span><span class="sxs-lookup"><span data-stu-id="e7e2f-144">Getting Started</span></span>](../../../docs/framework/wcf/samples/getting-started-sample.md)
- [<span data-ttu-id="e7e2f-145">Auto-hospedagem</span><span class="sxs-lookup"><span data-stu-id="e7e2f-145">Self-Host</span></span>](../../../docs/framework/wcf/samples/self-host.md)
- [<span data-ttu-id="e7e2f-146">Como publicar metadados para um serviço usando um arquivo de configuração</span><span class="sxs-lookup"><span data-stu-id="e7e2f-146">How to: Publish Metadata for a Service Using a Configuration File</span></span>](../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-a-configuration-file.md)
- [<span data-ttu-id="e7e2f-147">Como usar o Svcutil.exe para baixar documentos de metadados</span><span class="sxs-lookup"><span data-stu-id="e7e2f-147">How to: Use Svcutil.exe to Download Metadata Documents</span></span>](../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-download-metadata-documents.md)
