---
title: Visão geral de rastreamento analítico
ms.date: 03/30/2017
helpviewer_keywords:
- analytic tracing [WCF], overview
ms.assetid: ae55e9cc-0809-442f-921f-d644290ebf15
ms.openlocfilehash: 1d68e3132224a7b60720fe7c293b9eee14e3fbd5
ms.sourcegitcommit: 15109844229ade1c6449f48f3834db1b26907824
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/07/2018
---
# <a name="analytic-tracing-overview"></a><span data-ttu-id="a918e-102">Visão geral de rastreamento analítico</span><span class="sxs-lookup"><span data-stu-id="a918e-102">Analytic Tracing Overview</span></span>
<span data-ttu-id="a918e-103">Rastreamento analítico em [!INCLUDE[netfx_current_long](../../../../../includes/netfx-current-long-md.md)] é um alto desempenho e o recurso de rastreamento de verbosidade baixa conjunto sobre o evento de rastreamento para Windows (ETW).</span><span class="sxs-lookup"><span data-stu-id="a918e-103">Analytic tracing in [!INCLUDE[netfx_current_long](../../../../../includes/netfx-current-long-md.md)] is a high performance and low verbosity tracing feature set on top of Event Tracing for Windows (ETW).</span></span> <span data-ttu-id="a918e-104">ETW é executado no nível do kernel para reduzir significativamente a sobrecarga de operações de rastreamento.</span><span class="sxs-lookup"><span data-stu-id="a918e-104">ETW runs at the kernel-level to greatly reduce the overhead of tracing operations.</span></span> <span data-ttu-id="a918e-105">Ele com eficiência armazena em buffer os eventos de modo de usuário e do kernel e permite habilitar dinâmico de log sem a necessidade de serviço será reiniciado.</span><span class="sxs-lookup"><span data-stu-id="a918e-105">It efficiently buffers user- and kernel-mode events, and allows dynamic enabling of logging without requiring service restarts.</span></span> <span data-ttu-id="a918e-106">Os dados de rastreamento estão disponíveis no caso de logs depois que ele foi emitido e recebidas.</span><span class="sxs-lookup"><span data-stu-id="a918e-106">The tracing data is available in the event logs after it has been emitted and received.</span></span>  
  
 <span data-ttu-id="a918e-107">Para obter mais informações sobre o ETW, consulte [melhorar a depuração e ajuste de desempenho com o ETW](http://go.microsoft.com/fwlink/?LinkId=164781).</span><span class="sxs-lookup"><span data-stu-id="a918e-107">For more information about ETW, see [Improve Debugging and Performance Tuning with ETW](http://go.microsoft.com/fwlink/?LinkId=164781).</span></span>  
  
 <span data-ttu-id="a918e-108">Além de usar os logs de eventos do sistema Windows, segurança e aplicativo para analisar o aplicativo, [!INCLUDE[wv](../../../../../includes/wv-md.md)] e [!INCLUDE[lserver](../../../../../includes/lserver-md.md)] introduzida logs adicionais sob o nó de nível superior de Logs de aplicativos e serviços.</span><span class="sxs-lookup"><span data-stu-id="a918e-108">In addition to using the Windows System, Security, and Application event logs to analyze application, [!INCLUDE[wv](../../../../../includes/wv-md.md)] and [!INCLUDE[lserver](../../../../../includes/lserver-md.md)] introduced additional logs under the Applications and Services Logs top-level node.</span></span> <span data-ttu-id="a918e-109">É a finalidade desses novos logs armazenar eventos para um determinado aplicativo ou componente específico em vez de eventos globais que têm um impacto de todo o sistema (como o tipo de evento que pode gravar no log de eventos de segurança).</span><span class="sxs-lookup"><span data-stu-id="a918e-109">The purpose of these new logs is to store events for a particular application or specific component instead of global events that have a system-wide impact (such as the type of events that the Security event log might record).</span></span> [!INCLUDE[netfx_current_short](../../../../../includes/netfx-current-short-md.md)]<span data-ttu-id="a918e-110"> unifica e correlaciona o log de eventos de rastreamento do WCF, Logs de mensagens do WCF, e [!INCLUDE[wf1](../../../../../includes/wf1-md.md)] registros de rastreamento para os Logs de aplicativos e serviços.</span><span class="sxs-lookup"><span data-stu-id="a918e-110"> unifies and correlates the logging of WCF Trace Events, WCF Message Logs, and [!INCLUDE[wf1](../../../../../includes/wf1-md.md)] Tracking records to the Applications and Services Logs.</span></span>  
  
## <a name="concepts-and-capabilities"></a><span data-ttu-id="a918e-111">Conceitos e recursos</span><span class="sxs-lookup"><span data-stu-id="a918e-111">Concepts and Capabilities</span></span>  
 <span data-ttu-id="a918e-112">Os conceitos e recursos a seguir se aplicam ao rastreamento analítico do WCF.</span><span class="sxs-lookup"><span data-stu-id="a918e-112">The following concepts and capabilities apply to WCF Analytic Tracing.</span></span>  
  
### <a name="enabling-wcf-diagnostics-settings"></a><span data-ttu-id="a918e-113">Habilitar configurações de diagnóstico do WCF</span><span class="sxs-lookup"><span data-stu-id="a918e-113">Enabling WCF Diagnostics Settings</span></span>  
 <span data-ttu-id="a918e-114">Diagnóstico do WCF é habilitado no \<System. ServiceModel >\<diagnóstico > seção de configuração.</span><span class="sxs-lookup"><span data-stu-id="a918e-114">WCF diagnostics are enabled within the \<system.serviceModel>\<diagnostics> configuration section.</span></span>  
  
```xml  
<system.serviceModel>  
  <diagnostics>  
```  
  
 <span data-ttu-id="a918e-115">Configurações de diagnóstico do WCF para um aplicativo virtual hospedado da Web IIS estão habilitadas no seu ' arquivo Web. config.</span><span class="sxs-lookup"><span data-stu-id="a918e-115">WCF diagnostic settings for a Web-hosted IIS virtual application are enabled in its’ Web.config file.</span></span> <span data-ttu-id="a918e-116">Outra opção é criar um Web. config em um subdiretório no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a918e-116">Another option is to create a Web.config in a sub-directory within the application.</span></span>  <span data-ttu-id="a918e-117">Essa opção aplica as configurações para todos os serviços em um subdiretório.</span><span class="sxs-lookup"><span data-stu-id="a918e-117">This choice applies the settings to all of the services within a sub-directory.</span></span>  <span data-ttu-id="a918e-118">Para garantir que as configurações de diagnóstico são inicializadas consistente para todos os serviços do aplicativo, as configurações devem ser em Web. config no diretório de aplicativo e não em um de seus subdiretórios individuais no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a918e-118">To ensure that the diagnostics settings are initialized consistently for all services within the application, the settings should be within the Web.config in the application directory and not in one of the individual sub-directories within the application.</span></span>  
  
### <a name="channels"></a><span data-ttu-id="a918e-119">Canais</span><span class="sxs-lookup"><span data-stu-id="a918e-119">Channels</span></span>  
 <span data-ttu-id="a918e-120">ETW permite que os componentes de software para eventos de rastreamento direta a um público específico através do uso de canais.</span><span class="sxs-lookup"><span data-stu-id="a918e-120">ETW allows software components to direct tracing events to a particular audience by use of channels.</span></span> <span data-ttu-id="a918e-121">Por exemplo, você pode enviar eventos para os administradores do sistema para um canal e eventos que cuidado de desenvolvedores do aplicativo sobre outro canal.</span><span class="sxs-lookup"><span data-stu-id="a918e-121">For example, you can send events for system administrators to one channel, and events that application developers care about to another channel.</span></span> <span data-ttu-id="a918e-122">Os canais são nomeados e registrados com o Windows para que os consumidores podem exibir eventos do canal usando o Visualizador de eventos.</span><span class="sxs-lookup"><span data-stu-id="a918e-122">Channels are named and registered with Windows so that consumers can view a channel’s events using the Event Viewer.</span></span>  
  
 <span data-ttu-id="a918e-123">O recurso de rastreamento analítico do WCF em [!INCLUDE[netfx_current_short](../../../../../includes/netfx-current-short-md.md)] grava o canal Microsoft-Windows-aplicativo--aplicativos de servidor.</span><span class="sxs-lookup"><span data-stu-id="a918e-123">The analytic tracing feature for WCF in [!INCLUDE[netfx_current_short](../../../../../includes/netfx-current-short-md.md)] writes to the Microsoft-Windows-Application-Server-Applications channel.</span></span> <span data-ttu-id="a918e-124">Esse canal é especificamente projetado para usuários que desejam monitorar a integridade dos serviços WCF em produção.</span><span class="sxs-lookup"><span data-stu-id="a918e-124">This channel is specifically designed for users who want to monitor the health of WCF services in production.</span></span> <span data-ttu-id="a918e-125">Define um pequeno conjunto de eventos que podem ser usados em muitas monitoramento de integridade e cenários de solução de problemas.</span><span class="sxs-lookup"><span data-stu-id="a918e-125">It defines a small, set of events that can be used in many health monitoring and troubleshooting scenarios.</span></span>  
  
 <span data-ttu-id="a918e-126">Para habilitar o manifesto de rastreamento de eventos do Windows para que as mensagens são decodificar corretamente no log de eventos, use a ferramenta ServiceModelReg na linha de comando da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="a918e-126">To enable the Event Tracing for Windows manifest so that messages are decoded properly in the event log, use the ServiceModelReg tool on the command line as follows:</span></span>  
  
 `ServiceModelReg.exe -i -c:etw`  
  
### <a name="dynamic-configuration"></a><span data-ttu-id="a918e-127">Configuração dinâmica</span><span class="sxs-lookup"><span data-stu-id="a918e-127">Dynamic Configuration</span></span>  
 <span data-ttu-id="a918e-128">A infraestrutura ETW permite que o rastreamento para ser habilitado e configurado dinamicamente usando ferramentas padrão do Windows.</span><span class="sxs-lookup"><span data-stu-id="a918e-128">The ETW infrastructure allows tracing to be enabled and configured dynamically using standard Windows tools.</span></span> <span data-ttu-id="a918e-129">Para obter mais informações, consulte [dinamicamente habilitando analíticos rastreamento](../../../../../docs/framework/wcf/diagnostics/etw/dynamically-enabling-analytic-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="a918e-129">For more information, see [Dynamically Enabling Analytic Tracing](../../../../../docs/framework/wcf/diagnostics/etw/dynamically-enabling-analytic-tracing.md).</span></span>  
  
### <a name="message-flow-tracing"></a><span data-ttu-id="a918e-130">Rastreamento de fluxo de mensagem</span><span class="sxs-lookup"><span data-stu-id="a918e-130">Message Flow Tracing</span></span>  
 <span data-ttu-id="a918e-131">Para obter mais informações sobre como habilitar o rastreamento de fluxo de mensagem, consulte [Configurando o rastreamento de fluxo de mensagem](../../../../../docs/framework/wcf/diagnostics/etw/configuring-message-flow-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="a918e-131">For more information about how to enable message flow tracing, see [Configuring Message Flow Tracing](../../../../../docs/framework/wcf/diagnostics/etw/configuring-message-flow-tracing.md).</span></span>  
  
### <a name="keywords"></a><span data-ttu-id="a918e-132">Palavras-chave</span><span class="sxs-lookup"><span data-stu-id="a918e-132">Keywords</span></span>  
 <span data-ttu-id="a918e-133">Palavras-chave são usadas para filtrar as mensagens de rastreamento e definir qual componente do [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)] emitido o evento.</span><span class="sxs-lookup"><span data-stu-id="a918e-133">Keywords are used to filter trace messages and define which component of the [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)] emitted the event.</span></span> <span data-ttu-id="a918e-134">Para obter mais informações, consulte [dinamicamente habilitando analíticos rastreamento](../../../../../docs/framework/wcf/diagnostics/etw/dynamically-enabling-analytic-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="a918e-134">For more information, see [Dynamically Enabling Analytic Tracing](../../../../../docs/framework/wcf/diagnostics/etw/dynamically-enabling-analytic-tracing.md).</span></span>
