---
title: Configurando o rastreamento
description: Saiba como habilitar o rastreamento, configurar origens de rastreamento, definir rastreamento e propagação de atividade e definir ouvintes de rastreamento para acessar rastreamentos no WCF.
ms.date: 03/30/2017
helpviewer_keywords:
- tracing [WCF]
ms.assetid: 82922010-e8b3-40eb-98c4-10fc05c6d65d
ms.openlocfilehash: 7b0cc58975ee145e5234adf51e24109898853e1c
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/15/2020
ms.locfileid: "90558895"
---
# <a name="configuring-tracing"></a><span data-ttu-id="3babf-103">Configurando o rastreamento</span><span class="sxs-lookup"><span data-stu-id="3babf-103">Configuring Tracing</span></span>
<span data-ttu-id="3babf-104">Este tópico descreve como você pode habilitar o rastreamento, configurar fontes de rastreamento para emitir rastreamentos e definir níveis de rastreamento, definir rastreamento de atividade e propagação para dar suporte à correlação de rastreamento de ponta a ponta e definir ouvintes de rastreamento para acessar rastreamentos.</span><span class="sxs-lookup"><span data-stu-id="3babf-104">This topic describes how you can enable tracing, configure trace sources to emit traces and set trace levels, set activity tracing and propagation to support end-to-end trace correlation, and set trace listeners to access traces.</span></span>  
  
 <span data-ttu-id="3babf-105">Para as recomendações de configurações de rastreamento no ambiente de produção ou de depuração, consulte [as configurações recomendadas para rastreamento e log de mensagens](recommended-settings-for-tracing-and-message-logging.md).</span><span class="sxs-lookup"><span data-stu-id="3babf-105">For tracing settings recommendations in production or debugging environment, refer to [Recommended Settings for Tracing and Message Logging](recommended-settings-for-tracing-and-message-logging.md).</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="3babf-106">No Windows 8, você deve executar o aplicativo com privilégios elevados (executar como administrador) para que seu aplicativo gere logs de rastreamento.</span><span class="sxs-lookup"><span data-stu-id="3babf-106">On Windows 8 you must run your application elevated (Run as Administrator) in order for your application to generate trace logs.</span></span>  
  
## <a name="enabling-tracing"></a><span data-ttu-id="3babf-107">Habilitar o rastreamento</span><span class="sxs-lookup"><span data-stu-id="3babf-107">Enabling Tracing</span></span>  
 <span data-ttu-id="3babf-108">Windows Communication Foundation (WCF) gera os seguintes dados para rastreamento de diagnóstico:</span><span class="sxs-lookup"><span data-stu-id="3babf-108">Windows Communication Foundation (WCF) outputs the following data for diagnostic tracing:</span></span>  
  
- <span data-ttu-id="3babf-109">Rastreamentos de etapas de processo em todos os componentes dos aplicativos, como chamadas de operação, exceções de código, avisos e outros eventos de processamento significativos.</span><span class="sxs-lookup"><span data-stu-id="3babf-109">Traces for process milestones across all components of the applications, such as operation calls, code exceptions, warnings, and other significant processing events.</span></span>  
  
- <span data-ttu-id="3babf-110">Eventos de erro do Windows quando o recurso de rastreamento não funciona.</span><span class="sxs-lookup"><span data-stu-id="3babf-110">Windows error events when the tracing feature malfunctions.</span></span> <span data-ttu-id="3babf-111">Consulte [log de eventos](../event-logging/index.md).</span><span class="sxs-lookup"><span data-stu-id="3babf-111">See [Event Logging](../event-logging/index.md).</span></span>  
  
 <span data-ttu-id="3babf-112">O rastreamento do WCF é criado sobre o <xref:System.Diagnostics> .</span><span class="sxs-lookup"><span data-stu-id="3babf-112">WCF tracing is built on top of <xref:System.Diagnostics>.</span></span> <span data-ttu-id="3babf-113">Para usar o rastreamento, você deve definir fontes de rastreamento no arquivo de configuração ou no código.</span><span class="sxs-lookup"><span data-stu-id="3babf-113">To use tracing, you should define trace sources in the configuration file or in code.</span></span> <span data-ttu-id="3babf-114">O WCF define uma origem de rastreamento para cada assembly do WCF.</span><span class="sxs-lookup"><span data-stu-id="3babf-114">WCF defines a trace source for each WCF assembly.</span></span> <span data-ttu-id="3babf-115">A `System.ServiceModel` origem do rastreamento é a fonte de rastreamento mais geral do WCF e as etapas de processamento de registros na pilha de comunicação do WCF, da entrada/saída do transporte até a inserção/saída do código do usuário.</span><span class="sxs-lookup"><span data-stu-id="3babf-115">The `System.ServiceModel` trace source is the most general WCF trace source, and records processing milestones across the WCF communication stack, from entering/leaving transport to entering/leaving user code.</span></span> <span data-ttu-id="3babf-116">A `System.ServiceModel.MessageLogging` origem do rastreamento registra todas as mensagens que fluem pelo sistema.</span><span class="sxs-lookup"><span data-stu-id="3babf-116">The `System.ServiceModel.MessageLogging` trace source records all messages that flow through the system.</span></span>  
  
 <span data-ttu-id="3babf-117">O rastreamento não está habilitado por padrão.</span><span class="sxs-lookup"><span data-stu-id="3babf-117">Tracing is not enabled by default.</span></span> <span data-ttu-id="3babf-118">Para ativar o rastreamento, você deve criar um ouvinte de rastreamento e definir um nível de rastreamento diferente de "desativado" para a origem de rastreamento selecionada na configuração; caso contrário, o WCF não gerará nenhum rastreamento.</span><span class="sxs-lookup"><span data-stu-id="3babf-118">To activate tracing, you must create a trace listener and set a trace level other than "Off" for the selected trace source in configuration; otherwise, WCF does not generate any traces.</span></span> <span data-ttu-id="3babf-119">Se você não especificar um ouvinte, o rastreamento será desabilitado automaticamente.</span><span class="sxs-lookup"><span data-stu-id="3babf-119">If you do not specify a listener, tracing is automatically disabled.</span></span> <span data-ttu-id="3babf-120">Se um ouvinte for definido, mas nenhum nível for especificado, o nível será definido como "desativado" por padrão, o que significa que nenhum rastreamento é emitido.</span><span class="sxs-lookup"><span data-stu-id="3babf-120">If a listener is defined, but no level is specified, the level is set to "Off" by default, which means that no trace is emitted.</span></span>  
  
 <span data-ttu-id="3babf-121">Se você usar pontos de extensibilidade do WCF, como chamadores de operação personalizados, deverá emitir seus próprios rastreamentos.</span><span class="sxs-lookup"><span data-stu-id="3babf-121">If you use WCF extensibility points such as custom operation invokers, you should emit your own traces.</span></span> <span data-ttu-id="3babf-122">Isso ocorre porque, se você implementar um ponto de extensibilidade, o WCF não poderá mais emitir os rastreamentos padrão no caminho padrão.</span><span class="sxs-lookup"><span data-stu-id="3babf-122">This is because if you implement an extensibility point, WCF can no longer emit the standard traces in the default path.</span></span> <span data-ttu-id="3babf-123">Se você não implementar o suporte de rastreamento manual emitindo rastreamentos, talvez você não veja os rastreamentos esperados.</span><span class="sxs-lookup"><span data-stu-id="3babf-123">If you do not implement manual tracing support by emitting traces, you may not see the traces you expect.</span></span>  
  
 <span data-ttu-id="3babf-124">Você pode configurar o rastreamento editando o arquivo de configuração do aplicativo — seja Web.config para aplicativos hospedados na Web ou Appname.exe.config para aplicativos hospedados internamente.</span><span class="sxs-lookup"><span data-stu-id="3babf-124">You can configure tracing by editing the application's configuration file—either Web.config for Web-hosted applications, or Appname.exe.config for self-hosted applications.</span></span> <span data-ttu-id="3babf-125">Veja a seguir um exemplo de tal edição.</span><span class="sxs-lookup"><span data-stu-id="3babf-125">The following is an example of such edit.</span></span> <span data-ttu-id="3babf-126">Para obter mais informações sobre essas configurações, consulte a seção "Configurando ouvintes de rastreamento para consumir rastreamentos".</span><span class="sxs-lookup"><span data-stu-id="3babf-126">For more information on these settings, see the "Configuring Trace Listeners to Consume Traces" section.</span></span>  
  
```xml  
<configuration>  
   <system.diagnostics>  
      <sources>  
         <source name="System.ServiceModel"
                    switchValue="Information, ActivityTracing"  
                    propagateActivity="true">  
            <listeners>  
               <add name="traceListener"
                   type="System.Diagnostics.XmlWriterTraceListener"
                   initializeData= "c:\log\Traces.svclog" />  
            </listeners>  
         </source>  
      </sources>  
   </system.diagnostics>  
</configuration>  
```  
  
> [!NOTE]
> <span data-ttu-id="3babf-127">Para editar o arquivo de configuração de um projeto de serviço WCF no Visual Studio, clique com o botão direito do mouse no arquivo de configuração do aplicativo — seja Web.config para aplicativos hospedados na Web ou Appname.exe.config para aplicativo auto-hospedado no **Gerenciador de soluções**.</span><span class="sxs-lookup"><span data-stu-id="3babf-127">To edit the configuration file of a WCF service project in Visual Studio, right click the application's configuration file—either Web.config for Web-hosted applications, or Appname.exe.config for self-hosted application in **Solution Explorer**.</span></span> <span data-ttu-id="3babf-128">Em seguida, escolha o item de menu de contexto **Editar configuração do WCF** .</span><span class="sxs-lookup"><span data-stu-id="3babf-128">Then choose the **Edit WCF Configuration** context menu item.</span></span> <span data-ttu-id="3babf-129">Isso inicia a [ferramenta do editor de configuração (SvcConfigEditor.exe)](../../configuration-editor-tool-svcconfigeditor-exe.md), que permite que você modifique as definições de configuração dos serviços WCF usando uma interface gráfica do usuário.</span><span class="sxs-lookup"><span data-stu-id="3babf-129">This launches the [Configuration Editor Tool (SvcConfigEditor.exe)](../../configuration-editor-tool-svcconfigeditor-exe.md), which enables you to modify configuration settings for WCF services using a graphical user interface.</span></span>  
  
## <a name="configuring-trace-sources-to-emit-traces"></a><span data-ttu-id="3babf-130">Configurando fontes de rastreamento para emitir rastreamentos</span><span class="sxs-lookup"><span data-stu-id="3babf-130">Configuring Trace Sources to Emit Traces</span></span>  
 <span data-ttu-id="3babf-131">O WCF define uma origem de rastreamento para cada assembly.</span><span class="sxs-lookup"><span data-stu-id="3babf-131">WCF defines a trace source for each assembly.</span></span> <span data-ttu-id="3babf-132">Os rastreamentos gerados em um assembly são acessados pelos ouvintes definidos para essa fonte.</span><span class="sxs-lookup"><span data-stu-id="3babf-132">Traces generated within an assembly are accessed by the listeners defined for that source.</span></span> <span data-ttu-id="3babf-133">As seguintes origens de rastreamento são definidas:</span><span class="sxs-lookup"><span data-stu-id="3babf-133">The following trace sources are defined:</span></span>  
  
- <span data-ttu-id="3babf-134">System. ServiceModel: registra todos os estágios do processamento do WCF, sempre que a configuração é lida, uma mensagem é processada em transporte, processamento de segurança, uma mensagem é expedida no código do usuário e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="3babf-134">System.ServiceModel: Logs all stages of WCF processing, whenever configuration is read, a message is processed in transport, security processing, a message is dispatched in user code, and so on.</span></span>  
  
- <span data-ttu-id="3babf-135">System. ServiceModel. MessageLogging: registra todas as mensagens que fluem pelo sistema.</span><span class="sxs-lookup"><span data-stu-id="3babf-135">System.ServiceModel.MessageLogging: Logs all messages that flow through the system.</span></span>  
  
- <span data-ttu-id="3babf-136">System. IdentityModel.</span><span class="sxs-lookup"><span data-stu-id="3babf-136">System.IdentityModel.</span></span>  
  
- <span data-ttu-id="3babf-137">System. ServiceModel. Activation.</span><span class="sxs-lookup"><span data-stu-id="3babf-137">System.ServiceModel.Activation.</span></span>  
  
- <span data-ttu-id="3babf-138">System. IO. log: registro em log para a interface de .NET Framework para o Sistema de Arquivos de Log Comum (CLFS).</span><span class="sxs-lookup"><span data-stu-id="3babf-138">System.IO.Log: Logging for the .NET Framework interface to the Common Log File System (CLFS).</span></span>  
  
- <span data-ttu-id="3babf-139">System. Runtime. Serialization: registra quando objetos são lidos ou gravados.</span><span class="sxs-lookup"><span data-stu-id="3babf-139">System.Runtime.Serialization: Logs when objects are read or written.</span></span>  
  
- <span data-ttu-id="3babf-140">CardSpace.</span><span class="sxs-lookup"><span data-stu-id="3babf-140">CardSpace.</span></span>  
  
 <span data-ttu-id="3babf-141">Você pode configurar cada origem de rastreamento para usar o mesmo ouvinte (compartilhado), conforme indicado no exemplo de configuração a seguir.</span><span class="sxs-lookup"><span data-stu-id="3babf-141">You can configure each trace source to use the same (shared) listener, as indicated in the following configuration example.</span></span>  
  
```xml  
<configuration>  
    <system.diagnostics>  
        <sources>  
            <source name="System.ServiceModel"
                    switchValue="Information, ActivityTracing"  
                    propagateActivity="true">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="CardSpace">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.IO.Log">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.Runtime.Serialization">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.IdentityModel">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
        </sources>  
  
        <sharedListeners>  
            <add name="xml"  
                 type="System.Diagnostics.XmlWriterTraceListener"  
                 initializeData="c:\log\Traces.svclog" />  
        </sharedListeners>  
    </system.diagnostics>  
</configuration>  
```  
  
 <span data-ttu-id="3babf-142">Além disso, você pode adicionar fontes de rastreamento definidas pelo usuário, conforme demonstrado pelo exemplo a seguir, para emitir rastreamentos de código de usuário.</span><span class="sxs-lookup"><span data-stu-id="3babf-142">In addition, you can add user-defined trace sources, as demonstrated by the following example, to emit user code traces.</span></span>  
  
```xml  
<system.diagnostics>  
   <sources>  
       <source name="UserTraceSource" switchValue="Warning, ActivityTracing" >  
          <listeners>  
              <add name="xml"  
                 type="System.Diagnostics.XmlWriterTraceListener"  
                 initializeData="C:\logs\UserTraces.svclog" />  
          </listeners>  
       </source>  
   </sources>  
   <trace autoflush="true" />
</system.diagnostics>  
```  
  
 <span data-ttu-id="3babf-143">Para obter mais informações sobre como criar fontes de rastreamento definidas pelo usuário, consulte [estendendo o rastreamento](../../samples/extending-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="3babf-143">For more information about creating user-defined trace sources, see [Extending Tracing](../../samples/extending-tracing.md).</span></span>  
  
## <a name="configuring-trace-listeners-to-consume-traces"></a><span data-ttu-id="3babf-144">Configurando ouvintes de rastreamento para consumir rastreamentos</span><span class="sxs-lookup"><span data-stu-id="3babf-144">Configuring Trace Listeners to Consume Traces</span></span>  
 <span data-ttu-id="3babf-145">Em tempo de execução, os feeds do WCF rastreiam dados para os ouvintes, que processam os dados.</span><span class="sxs-lookup"><span data-stu-id="3babf-145">At runtime, WCF feeds trace data to the listeners, which process the data.</span></span> <span data-ttu-id="3babf-146">O WCF fornece vários ouvintes predefinidos para <xref:System.Diagnostics> , que diferem no formato usado para saída.</span><span class="sxs-lookup"><span data-stu-id="3babf-146">WCF provides several predefined listeners for <xref:System.Diagnostics>, which differ in the format they use for output.</span></span> <span data-ttu-id="3babf-147">Você também pode adicionar tipos de ouvinte personalizados.</span><span class="sxs-lookup"><span data-stu-id="3babf-147">You can also add custom listener types.</span></span>  
  
 <span data-ttu-id="3babf-148">Você pode usar `add` para especificar o nome e o tipo do ouvinte de rastreamento que deseja usar.</span><span class="sxs-lookup"><span data-stu-id="3babf-148">You can use `add` to specify the name and type of the trace listener you want to use.</span></span> <span data-ttu-id="3babf-149">Em nossa configuração de exemplo, nomeamos o ouvinte `traceListener` e adicionamos o ouvinte de rastreamento de .NET Framework padrão ( `System.Diagnostics.XmlWriterTraceListener` ) como o tipo que desejamos usar.</span><span class="sxs-lookup"><span data-stu-id="3babf-149">In our example configuration, we named the Listener `traceListener` and added the standard .NET Framework trace listener (`System.Diagnostics.XmlWriterTraceListener`) as the type we want to use.</span></span> <span data-ttu-id="3babf-150">Você pode adicionar qualquer número de ouvintes de rastreamento para cada fonte.</span><span class="sxs-lookup"><span data-stu-id="3babf-150">You can add any number of trace listeners for each source.</span></span> <span data-ttu-id="3babf-151">Se o ouvinte de rastreamento emitir o rastreamento para um arquivo, você deverá especificar o local e o nome do arquivo de saída no arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="3babf-151">If the trace listener emits the trace to a file, you must specify the output file location and name in the configuration file.</span></span> <span data-ttu-id="3babf-152">Isso é feito definindo `initializeData` o nome do arquivo para esse ouvinte.</span><span class="sxs-lookup"><span data-stu-id="3babf-152">This is done by setting `initializeData` to the name of the file for that listener.</span></span> <span data-ttu-id="3babf-153">Se você não especificar um nome de arquivo, um nome de arquivo aleatório será gerado com base no tipo de ouvinte usado.</span><span class="sxs-lookup"><span data-stu-id="3babf-153">If you do not specify a file name, a random file name is generated based on the listener type used.</span></span> <span data-ttu-id="3babf-154">Se <xref:System.Diagnostics.XmlWriterTraceListener> for usado, um nome de arquivo sem extensão será gerado.</span><span class="sxs-lookup"><span data-stu-id="3babf-154">If <xref:System.Diagnostics.XmlWriterTraceListener> is used, a file name with no extension is generated.</span></span> <span data-ttu-id="3babf-155">Se você implementar um ouvinte personalizado, também poderá usar esse atributo para receber dados de inicialização diferentes de um nome de arquivo.</span><span class="sxs-lookup"><span data-stu-id="3babf-155">If you implement a custom listener, you can also use this attribute to receive initialization data other than a filename.</span></span> <span data-ttu-id="3babf-156">Por exemplo, você pode especificar um identificador de banco de dados para esse atributo.</span><span class="sxs-lookup"><span data-stu-id="3babf-156">For example, you can specify a database identifier for this attribute.</span></span>  
  
 <span data-ttu-id="3babf-157">Você pode configurar um ouvinte de rastreamento personalizado para enviar rastreamentos na conexão, por exemplo, para um banco de dados remoto.</span><span class="sxs-lookup"><span data-stu-id="3babf-157">You can configure a custom trace listener to send traces on the wire, for example, to a remote database.</span></span> <span data-ttu-id="3babf-158">Como um implantador de aplicativos, você deve impor o controle de acesso apropriado nos logs de rastreamento no computador remoto.</span><span class="sxs-lookup"><span data-stu-id="3babf-158">As an application deployer, you should enforce proper access control on the trace logs in the remote machine.</span></span>  
  
 <span data-ttu-id="3babf-159">Você também pode configurar um ouvinte de rastreamento programaticamente.</span><span class="sxs-lookup"><span data-stu-id="3babf-159">You can also configure a trace listener programmatically.</span></span> <span data-ttu-id="3babf-160">Para obter mais informações, consulte [como: criar e inicializar ouvintes de rastreamento](../../../debug-trace-profile/how-to-create-and-initialize-trace-listeners.md) e [criar um TraceListener personalizado](/archive/msdn-magazine/2006/april/clr-inside-out-extending-system-diagnostics).</span><span class="sxs-lookup"><span data-stu-id="3babf-160">For more information, see [How to: Create and Initialize Trace Listeners](../../../debug-trace-profile/how-to-create-and-initialize-trace-listeners.md) and [Creating a Custom TraceListener](/archive/msdn-magazine/2006/april/clr-inside-out-extending-system-diagnostics).</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="3babf-161">Como `System.Diagnostics.XmlWriterTraceListener` o não é thread-safe, a origem do rastreamento pode bloquear recursos exclusivamente durante a saída de rastreamentos.</span><span class="sxs-lookup"><span data-stu-id="3babf-161">Because `System.Diagnostics.XmlWriterTraceListener` is not thread-safe, the trace source may lock resources exclusively when outputting traces.</span></span> <span data-ttu-id="3babf-162">Quando muitos threads geram rastreamentos para uma origem de rastreamento configurada para usar esse ouvinte, pode ocorrer contenção de recursos, o que resulta em um problema de desempenho significativo.</span><span class="sxs-lookup"><span data-stu-id="3babf-162">When many threads output traces to a trace source configured to use this listener, resource contention may occur, which results in a significant performance issue.</span></span> <span data-ttu-id="3babf-163">Para resolver esse problema, você deve implementar um ouvinte personalizado que seja thread-safe.</span><span class="sxs-lookup"><span data-stu-id="3babf-163">To resolve this problem, you should implement a custom listener that is thread-safe.</span></span>  
  
## <a name="trace-level"></a><span data-ttu-id="3babf-164">Nível de rastreamento:</span><span class="sxs-lookup"><span data-stu-id="3babf-164">Trace Level</span></span>  
 <span data-ttu-id="3babf-165">O nível de rastreamento é controlado pela `switchValue` configuração da origem do rastreamento.</span><span class="sxs-lookup"><span data-stu-id="3babf-165">The tracing level is controlled by the `switchValue` setting of the trace source.</span></span> <span data-ttu-id="3babf-166">Os níveis de rastreamento disponíveis são descritos na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="3babf-166">The available tracing levels are described in the following table.</span></span>  
  
|<span data-ttu-id="3babf-167">Nível de rastreamento:</span><span class="sxs-lookup"><span data-stu-id="3babf-167">Trace Level</span></span>|<span data-ttu-id="3babf-168">Natureza dos eventos rastreados</span><span class="sxs-lookup"><span data-stu-id="3babf-168">Nature of the Tracked Events</span></span>|<span data-ttu-id="3babf-169">Conteúdo dos eventos rastreados</span><span class="sxs-lookup"><span data-stu-id="3babf-169">Content of the Tracked Events</span></span>|<span data-ttu-id="3babf-170">Eventos rastreados</span><span class="sxs-lookup"><span data-stu-id="3babf-170">Tracked Events</span></span>|<span data-ttu-id="3babf-171">Destino do usuário</span><span class="sxs-lookup"><span data-stu-id="3babf-171">User Target</span></span>|  
|-----------------|----------------------------------|-----------------------------------|--------------------|-----------------|  
|<span data-ttu-id="3babf-172">Desativado</span><span class="sxs-lookup"><span data-stu-id="3babf-172">Off</span></span>|<span data-ttu-id="3babf-173">N/D</span><span class="sxs-lookup"><span data-stu-id="3babf-173">N/A</span></span>|<span data-ttu-id="3babf-174">N/D</span><span class="sxs-lookup"><span data-stu-id="3babf-174">N/A</span></span>|<span data-ttu-id="3babf-175">Nenhum rastreamento é emitido.</span><span class="sxs-lookup"><span data-stu-id="3babf-175">No traces are emitted.</span></span>|<span data-ttu-id="3babf-176">N/D</span><span class="sxs-lookup"><span data-stu-id="3babf-176">N/A</span></span>|  
|<span data-ttu-id="3babf-177">Crítico</span><span class="sxs-lookup"><span data-stu-id="3babf-177">Critical</span></span>|<span data-ttu-id="3babf-178">Eventos "negativos": eventos que indicam um processamento inesperado ou uma condição de erro.</span><span class="sxs-lookup"><span data-stu-id="3babf-178">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>||<span data-ttu-id="3babf-179">As exceções sem tratamento, incluindo as seguintes, são registradas em log:</span><span class="sxs-lookup"><span data-stu-id="3babf-179">Unhandled exceptions including the following are logged:</span></span><br /><br /> <span data-ttu-id="3babf-180">-OutOfMemoryexception</span><span class="sxs-lookup"><span data-stu-id="3babf-180">-   OutOfMemoryException</span></span><br /><span data-ttu-id="3babf-181">-ThreadAbortException (o CLR invoca qualquer ThreadAbortExceptionHandler)</span><span class="sxs-lookup"><span data-stu-id="3babf-181">-   ThreadAbortException (the CLR invokes any ThreadAbortExceptionHandler)</span></span><br /><span data-ttu-id="3babf-182">-StackOverflowException (não pode ser capturado)</span><span class="sxs-lookup"><span data-stu-id="3babf-182">-   StackOverflowException (cannot be caught)</span></span><br /><span data-ttu-id="3babf-183">- ConfigurationErrorsException</span><span class="sxs-lookup"><span data-stu-id="3babf-183">-   ConfigurationErrorsException</span></span><br /><span data-ttu-id="3babf-184">-SEHException</span><span class="sxs-lookup"><span data-stu-id="3babf-184">-   SEHException</span></span><br /><span data-ttu-id="3babf-185">-Erros de início do aplicativo</span><span class="sxs-lookup"><span data-stu-id="3babf-185">-   Application start errors</span></span><br /><span data-ttu-id="3babf-186">-Eventos FailFast</span><span class="sxs-lookup"><span data-stu-id="3babf-186">-   Failfast events</span></span><br /><span data-ttu-id="3babf-187">-Travamentos do sistema</span><span class="sxs-lookup"><span data-stu-id="3babf-187">-   System hangs</span></span><br /><span data-ttu-id="3babf-188">-Mensagens suspeitas: rastreamentos de mensagem que causam falha no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3babf-188">-   Poison messages: message traces that cause the application to fail.</span></span>|<span data-ttu-id="3babf-189">Administradores</span><span class="sxs-lookup"><span data-stu-id="3babf-189">Administrators</span></span><br /><br /> <span data-ttu-id="3babf-190">Desenvolvedores de aplicativos</span><span class="sxs-lookup"><span data-stu-id="3babf-190">Application developers</span></span>|  
|<span data-ttu-id="3babf-191">Erro</span><span class="sxs-lookup"><span data-stu-id="3babf-191">Error</span></span>|<span data-ttu-id="3babf-192">Eventos "negativos": eventos que indicam um processamento inesperado ou uma condição de erro.</span><span class="sxs-lookup"><span data-stu-id="3babf-192">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>|<span data-ttu-id="3babf-193">Ocorreu um processamento inesperado.</span><span class="sxs-lookup"><span data-stu-id="3babf-193">Unexpected processing has happened.</span></span> <span data-ttu-id="3babf-194">O aplicativo não pôde executar uma tarefa conforme o esperado.</span><span class="sxs-lookup"><span data-stu-id="3babf-194">The application was not able to perform a task as expected.</span></span> <span data-ttu-id="3babf-195">No entanto, o aplicativo ainda está em execução.</span><span class="sxs-lookup"><span data-stu-id="3babf-195">However, the application is still up and running.</span></span>|<span data-ttu-id="3babf-196">Todas as exceções são registradas.</span><span class="sxs-lookup"><span data-stu-id="3babf-196">All exceptions are logged.</span></span>|<span data-ttu-id="3babf-197">Administradores</span><span class="sxs-lookup"><span data-stu-id="3babf-197">Administrators</span></span><br /><br /> <span data-ttu-id="3babf-198">Desenvolvedores de aplicativos</span><span class="sxs-lookup"><span data-stu-id="3babf-198">Application developers</span></span>|  
|<span data-ttu-id="3babf-199">Aviso</span><span class="sxs-lookup"><span data-stu-id="3babf-199">Warning</span></span>|<span data-ttu-id="3babf-200">Eventos "negativos": eventos que indicam um processamento inesperado ou uma condição de erro.</span><span class="sxs-lookup"><span data-stu-id="3babf-200">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>|<span data-ttu-id="3babf-201">Um possível problema ocorreu ou pode ocorrer, mas o aplicativo ainda funciona corretamente.</span><span class="sxs-lookup"><span data-stu-id="3babf-201">A possible problem has occurred or may occur, but the application still functions correctly.</span></span> <span data-ttu-id="3babf-202">No entanto, ele pode não continuar a funcionar corretamente.</span><span class="sxs-lookup"><span data-stu-id="3babf-202">However, it may not continue to work properly.</span></span>|<span data-ttu-id="3babf-203">-O aplicativo está recebendo mais solicitações do que as configurações de limitação permitem.</span><span class="sxs-lookup"><span data-stu-id="3babf-203">-   The application is receiving more requests than its throttling settings allow.</span></span><br /><span data-ttu-id="3babf-204">-A fila de recebimento está perto da capacidade máxima configurada.</span><span class="sxs-lookup"><span data-stu-id="3babf-204">-   The receiving queue is near its maximum configured capacity.</span></span><br /><span data-ttu-id="3babf-205">-Tempo limite excedido.</span><span class="sxs-lookup"><span data-stu-id="3babf-205">-   Timeout has exceeded.</span></span><br /><span data-ttu-id="3babf-206">-As credenciais são rejeitadas.</span><span class="sxs-lookup"><span data-stu-id="3babf-206">-   Credentials are rejected.</span></span>|<span data-ttu-id="3babf-207">Administradores</span><span class="sxs-lookup"><span data-stu-id="3babf-207">Administrators</span></span><br /><br /> <span data-ttu-id="3babf-208">Desenvolvedores de aplicativos</span><span class="sxs-lookup"><span data-stu-id="3babf-208">Application developers</span></span>|  
|<span data-ttu-id="3babf-209">Informações</span><span class="sxs-lookup"><span data-stu-id="3babf-209">Information</span></span>|<span data-ttu-id="3babf-210">Eventos "positivos": eventos que marcam Marcos com êxito</span><span class="sxs-lookup"><span data-stu-id="3babf-210">"Positive" events: events that mark successful milestones</span></span>|<span data-ttu-id="3babf-211">Marcos importantes e bem-sucedidos da execução do aplicativo, independentemente de o aplicativo estar funcionando corretamente ou não.</span><span class="sxs-lookup"><span data-stu-id="3babf-211">Important and successful milestones of application execution, regardless of whether the application is working properly or not.</span></span>|<span data-ttu-id="3babf-212">Em geral, as mensagens úteis para monitorar e diagnosticar o status do sistema, medir o desempenho ou a criação de perfil são geradas.</span><span class="sxs-lookup"><span data-stu-id="3babf-212">In general, messages helpful for monitoring and diagnosing system status, measuring performance or profiling are generated.</span></span> <span data-ttu-id="3babf-213">Você pode usar essas informações para o planejamento de capacidade e o gerenciamento de desempenho:</span><span class="sxs-lookup"><span data-stu-id="3babf-213">You can use such information for capacity planning and performance management:</span></span><br /><br /> <span data-ttu-id="3babf-214">-Os canais são criados.</span><span class="sxs-lookup"><span data-stu-id="3babf-214">-   Channels are created.</span></span><br /><span data-ttu-id="3babf-215">-Os ouvintes de ponto de extremidade são criados.</span><span class="sxs-lookup"><span data-stu-id="3babf-215">-   Endpoint listeners are created.</span></span><br /><span data-ttu-id="3babf-216">-A mensagem entra/sai do transporte.</span><span class="sxs-lookup"><span data-stu-id="3babf-216">-   Message enters/leaves transport.</span></span><br /><span data-ttu-id="3babf-217">-O token de segurança é recuperado.</span><span class="sxs-lookup"><span data-stu-id="3babf-217">-   Security token is retrieved.</span></span><br /><span data-ttu-id="3babf-218">-A definição de configuração é leitura.</span><span class="sxs-lookup"><span data-stu-id="3babf-218">-   Configuration setting is read.</span></span>|<span data-ttu-id="3babf-219">Administradores</span><span class="sxs-lookup"><span data-stu-id="3babf-219">Administrators</span></span><br /><br /> <span data-ttu-id="3babf-220">Desenvolvedores de aplicativos</span><span class="sxs-lookup"><span data-stu-id="3babf-220">Application developers</span></span><br /><br /> <span data-ttu-id="3babf-221">Desenvolvedores de produtos.</span><span class="sxs-lookup"><span data-stu-id="3babf-221">Product developers.</span></span>|  
|<span data-ttu-id="3babf-222">Detalhado</span><span class="sxs-lookup"><span data-stu-id="3babf-222">Verbose</span></span>|<span data-ttu-id="3babf-223">Eventos "positivos": eventos que marcam Marcos bem-sucedidos.</span><span class="sxs-lookup"><span data-stu-id="3babf-223">"Positive" events: events that mark successful milestones.</span></span>|<span data-ttu-id="3babf-224">Eventos de nível baixo para código de usuário e serviço são emitidos.</span><span class="sxs-lookup"><span data-stu-id="3babf-224">Low-level events for both user code and servicing are emitted.</span></span>|<span data-ttu-id="3babf-225">Em geral, você pode usar esse nível para depuração ou otimização de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3babf-225">In general, you can use this level for debugging or application optimization.</span></span><br /><br /> <span data-ttu-id="3babf-226">-Compreendido o cabeçalho da mensagem.</span><span class="sxs-lookup"><span data-stu-id="3babf-226">-   Understood message header.</span></span>|<span data-ttu-id="3babf-227">Administradores</span><span class="sxs-lookup"><span data-stu-id="3babf-227">Administrators</span></span><br /><br /> <span data-ttu-id="3babf-228">Desenvolvedores de aplicativos</span><span class="sxs-lookup"><span data-stu-id="3babf-228">Application developers</span></span><br /><br /> <span data-ttu-id="3babf-229">Desenvolvedores de produtos.</span><span class="sxs-lookup"><span data-stu-id="3babf-229">Product developers.</span></span>|  
|<span data-ttu-id="3babf-230">ActivityTracing</span><span class="sxs-lookup"><span data-stu-id="3babf-230">ActivityTracing</span></span>||<span data-ttu-id="3babf-231">Eventos de fluxo entre atividades de processamento e componentes.</span><span class="sxs-lookup"><span data-stu-id="3babf-231">Flow events between processing activities and components.</span></span>|<span data-ttu-id="3babf-232">Esse nível permite que os administradores e desenvolvedores correlacionem aplicativos no mesmo domínio de aplicativo:</span><span class="sxs-lookup"><span data-stu-id="3babf-232">This level allows administrators and developers to correlate applications in the same application domain:</span></span><br /><br /> <span data-ttu-id="3babf-233">-Rastreia os limites de atividade, como iniciar/parar.</span><span class="sxs-lookup"><span data-stu-id="3babf-233">-   Traces for activity boundaries, such as start/stop.</span></span><br /><span data-ttu-id="3babf-234">-Rastreia para transferências.</span><span class="sxs-lookup"><span data-stu-id="3babf-234">-   Traces for transfers.</span></span>|<span data-ttu-id="3babf-235">Todos</span><span class="sxs-lookup"><span data-stu-id="3babf-235">All</span></span>|  
|<span data-ttu-id="3babf-236">Todos</span><span class="sxs-lookup"><span data-stu-id="3babf-236">All</span></span>||<span data-ttu-id="3babf-237">O aplicativo pode funcionar corretamente.</span><span class="sxs-lookup"><span data-stu-id="3babf-237">Application may function properly.</span></span> <span data-ttu-id="3babf-238">Todos os eventos são emitidos.</span><span class="sxs-lookup"><span data-stu-id="3babf-238">All events are emitted.</span></span>|<span data-ttu-id="3babf-239">Todos os eventos anteriores.</span><span class="sxs-lookup"><span data-stu-id="3babf-239">All previous events.</span></span>|<span data-ttu-id="3babf-240">Tudo</span><span class="sxs-lookup"><span data-stu-id="3babf-240">All</span></span>|  
  
 <span data-ttu-id="3babf-241">Os níveis de detalhado para crítico são empilhados em cima um do outro, ou seja, cada nível de rastreamento inclui todos os níveis acima dele, exceto o nível desativado.</span><span class="sxs-lookup"><span data-stu-id="3babf-241">The levels from Verbose to Critical are stacked on top of each other, that is, each trace level includes all levels above it except the Off level.</span></span> <span data-ttu-id="3babf-242">Por exemplo, um ouvinte ouvindo no nível de aviso recebe rastreamentos críticos, de erro e de aviso.</span><span class="sxs-lookup"><span data-stu-id="3babf-242">For example, a listener listening at the Warning level receives Critical, Error, and Warning traces.</span></span> <span data-ttu-id="3babf-243">O nível All inclui eventos de detalhado para eventos de rastreamento de atividade e críticos.</span><span class="sxs-lookup"><span data-stu-id="3babf-243">The All level includes events from Verbose to Critical and Activity tracing events.</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="3babf-244">Os níveis de informações, detalhados e ActivityTracing geram muitos rastreamentos, o que pode afetar negativamente a taxa de transferência de mensagens se você tiver usado todos os recursos disponíveis no computador.</span><span class="sxs-lookup"><span data-stu-id="3babf-244">The Information, Verbose, and ActivityTracing levels generate a lot of traces, which may negatively impact message throughput if you have used up all available resources on the machine.</span></span>  
  
## <a name="configuring-activity-tracing-and-propagation-for-correlation"></a><span data-ttu-id="3babf-245">Configurando o rastreamento de atividade e a propagação para correlação</span><span class="sxs-lookup"><span data-stu-id="3babf-245">Configuring Activity Tracing and Propagation for Correlation</span></span>  
 <span data-ttu-id="3babf-246">O `activityTracing` valor especificado para o `switchValue` atributo é usado para habilitar o rastreamento de atividade, que emite rastreamentos para limites de atividade e transferências em pontos de extremidade.</span><span class="sxs-lookup"><span data-stu-id="3babf-246">The `activityTracing` value specified for the `switchValue` attribute is used to enable activity tracing, which emits traces for activity boundaries and transfers within endpoints.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="3babf-247">Ao usar determinados recursos de extensibilidade no WCF, você pode obter um <xref:System.NullReferenceException> quando o rastreamento de atividade está habilitado.</span><span class="sxs-lookup"><span data-stu-id="3babf-247">When you use certain extensibility features in WCF, you might get a <xref:System.NullReferenceException> when activity tracing is enabled.</span></span> <span data-ttu-id="3babf-248">Para corrigir esse problema, verifique o arquivo de configuração do aplicativo e verifique se o `switchValue` atributo da origem do rastreamento não está definido como `activityTracing` .</span><span class="sxs-lookup"><span data-stu-id="3babf-248">To fix this problem, check your application's configuration file and ensure that the `switchValue` attribute for your trace source is not set to `activityTracing`.</span></span>  
  
 <span data-ttu-id="3babf-249">O `propagateActivity` atributo indica se a atividade deve ser propagada para outros pontos de extremidade que participam da troca de mensagens.</span><span class="sxs-lookup"><span data-stu-id="3babf-249">The `propagateActivity` attribute indicates whether the activity should be propagated to other endpoints that participate in the message exchange.</span></span> <span data-ttu-id="3babf-250">Ao definir esse valor como `true` , você pode fazer os arquivos de rastreamento gerados por quaisquer dois pontos de extremidade e observar como um conjunto de rastreamentos em um ponto de extremidade fluiu para um conjunto de rastreamentos em outro ponto.</span><span class="sxs-lookup"><span data-stu-id="3babf-250">By setting this value to `true`, you can take trace files generated by any two endpoints and observe how a set of traces on one endpoint flowed to a set of traces on another endpoint.</span></span>  
  
 <span data-ttu-id="3babf-251">Para obter mais informações sobre rastreamento de atividade e propagação, consulte [propagação](propagation.md).</span><span class="sxs-lookup"><span data-stu-id="3babf-251">For more information about activity tracing and propagation, see [Propagation](propagation.md).</span></span>  
  
 <span data-ttu-id="3babf-252">Ambos `propagateActivity` os `ActivityTracing` valores Boolianos e booleanos se aplicam ao rastreador System. ServiceModel.</span><span class="sxs-lookup"><span data-stu-id="3babf-252">Both `propagateActivity` and `ActivityTracing` Boolean values apply to the System.ServiceModel TraceSource.</span></span> <span data-ttu-id="3babf-253">O `ActivityTracing` valor também se aplica a qualquer origem de rastreamento, incluindo WCF ou aqueles definidos pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="3babf-253">The `ActivityTracing` value also applies to any trace source, including WCF or user-defined ones.</span></span>  
  
 <span data-ttu-id="3babf-254">Você não pode usar o `propagateActivity` atributo com fontes de rastreamento definidas pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="3babf-254">You cannot use the `propagateActivity` attribute with user-defined trace sources.</span></span> <span data-ttu-id="3babf-255">Para a propagação da ID da atividade de código do usuário, certifique-se de não definir ServiceModel `ActivityTracing` , enquanto ainda tem o `propagateActivity` atributo ServiceModel definido como `true` .</span><span class="sxs-lookup"><span data-stu-id="3babf-255">For user code activity ID propagation, make sure you do not set ServiceModel `ActivityTracing`, while still having ServiceModel `propagateActivity` attribute set to `true`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3babf-256">Confira também</span><span class="sxs-lookup"><span data-stu-id="3babf-256">See also</span></span>

- [<span data-ttu-id="3babf-257">Rastreamento</span><span class="sxs-lookup"><span data-stu-id="3babf-257">Tracing</span></span>](index.md)
- [<span data-ttu-id="3babf-258">Administração e diagnóstico</span><span class="sxs-lookup"><span data-stu-id="3babf-258">Administration and Diagnostics</span></span>](../index.md)
- [<span data-ttu-id="3babf-259">Como: criar e inicializar ouvintes de rastreamento</span><span class="sxs-lookup"><span data-stu-id="3babf-259">How to: Create and Initialize Trace Listeners</span></span>](../../../debug-trace-profile/how-to-create-and-initialize-trace-listeners.md)
- [<span data-ttu-id="3babf-260">Criando um TraceListener personalizado</span><span class="sxs-lookup"><span data-stu-id="3babf-260">Creating a Custom TraceListener</span></span>](/archive/msdn-magazine/2006/april/clr-inside-out-extending-system-diagnostics)
