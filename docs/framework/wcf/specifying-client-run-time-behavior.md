---
title: Especificando a execução do cliente- Comportamento do tempo
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- behaviors [WCF], system-provided client
ms.assetid: d16d3405-be70-4edb-8f62-b5f614ddeca5
ms.openlocfilehash: 2f6879f5e46e62db29e482444d55680d39dd8ccc
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/23/2019
ms.locfileid: "54587171"
---
# <a name="specifying-client-run-time-behavior"></a><span data-ttu-id="05367-102">Especificando a execução do cliente- Comportamento do tempo</span><span class="sxs-lookup"><span data-stu-id="05367-102">Specifying Client Run-Time Behavior</span></span>
<span data-ttu-id="05367-103">Os clientes do Windows Communication Foundation (WCF), assim como serviços do Windows Communication Foundation (WCF), podem ser configurados para modificar o comportamento de tempo de execução de acordo com o aplicativo cliente.</span><span class="sxs-lookup"><span data-stu-id="05367-103">Windows Communication Foundation (WCF) clients, like Windows Communication Foundation (WCF) services, can be configured to modify the run-time behavior to suit the client application.</span></span> <span data-ttu-id="05367-104">Três atributos estão disponíveis para especificar o comportamento de tempo de execução do cliente.</span><span class="sxs-lookup"><span data-stu-id="05367-104">Three attributes are available for specifying client run-time behavior.</span></span> <span data-ttu-id="05367-105">Objetos de retorno de chamada duplex cliente podem usar o <xref:System.ServiceModel.CallbackBehaviorAttribute> e <xref:System.ServiceModel.Description.CallbackDebugBehavior> atributos para modificar seu comportamento de tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="05367-105">Duplex client callback objects can use the <xref:System.ServiceModel.CallbackBehaviorAttribute> and <xref:System.ServiceModel.Description.CallbackDebugBehavior> attributes to modify their run-time behavior.</span></span> <span data-ttu-id="05367-106">O atributo, <xref:System.ServiceModel.Description.ClientViaBehavior>, pode ser usado para separar o destino lógico de destino de rede imediato.</span><span class="sxs-lookup"><span data-stu-id="05367-106">The other attribute, <xref:System.ServiceModel.Description.ClientViaBehavior>, can be used to separate the logical destination from the immediate network destination.</span></span> <span data-ttu-id="05367-107">Além disso, tipos de retorno de chamada duplex cliente podem usar alguns dos comportamentos no lado do serviço.</span><span class="sxs-lookup"><span data-stu-id="05367-107">In addition, duplex client callback types can use some of the service-side behaviors.</span></span> <span data-ttu-id="05367-108">Para obter mais informações, consulte [especificando comportamento de tempo de execução do serviço](../../../docs/framework/wcf/specifying-service-run-time-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="05367-108">For more information, see [Specifying Service Run-Time Behavior](../../../docs/framework/wcf/specifying-service-run-time-behavior.md).</span></span>  
  
## <a name="using-the-callbackbehaviorattribute"></a><span data-ttu-id="05367-109">Usando o CallbackBehaviorAttribute</span><span class="sxs-lookup"><span data-stu-id="05367-109">Using the CallbackBehaviorAttribute</span></span>  
 <span data-ttu-id="05367-110">Você pode configurar ou estender o comportamento de execução de uma implementação de contrato de retorno de chamada em um aplicativo cliente usando o <xref:System.ServiceModel.CallbackBehaviorAttribute> classe.</span><span class="sxs-lookup"><span data-stu-id="05367-110">You can configure or extend the execution behavior of a callback contract implementation in a client application by using the <xref:System.ServiceModel.CallbackBehaviorAttribute> class.</span></span> <span data-ttu-id="05367-111">Esse atributo executa uma função semelhante para a classe de retorno de chamada como o <xref:System.ServiceModel.ServiceBehaviorAttribute> classe, com exceção de configurações de comportamento e a transação de instanciação.</span><span class="sxs-lookup"><span data-stu-id="05367-111">This attribute performs a similar function for the callback class as the <xref:System.ServiceModel.ServiceBehaviorAttribute> class, with the exception of instancing behavior and transaction settings.</span></span>  
  
 <span data-ttu-id="05367-112">O <xref:System.ServiceModel.CallbackBehaviorAttribute> classe deve ser aplicado à classe que implementa o contrato de retorno de chamada.</span><span class="sxs-lookup"><span data-stu-id="05367-112">The <xref:System.ServiceModel.CallbackBehaviorAttribute> class must be applied to the class that implements the callback contract.</span></span> <span data-ttu-id="05367-113">Se aplicado a uma implementação de contrato nonduplex, um <xref:System.InvalidOperationException> exceção é gerada em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="05367-113">If applied to a nonduplex contract implementation, an <xref:System.InvalidOperationException> exception is thrown at run time.</span></span> <span data-ttu-id="05367-114">O seguinte exemplo de código mostra uma <xref:System.ServiceModel.CallbackBehaviorAttribute> classe em um objeto de retorno de chamada que usa o <xref:System.Threading.SynchronizationContext> objeto para determinar o thread para realizar marshaling para, o <xref:System.ServiceModel.CallbackBehaviorAttribute.ValidateMustUnderstand%2A> propriedade para impor a validação de mensagem e o <xref:System.ServiceModel.CallbackBehaviorAttribute.IncludeExceptionDetailInFaults%2A> propriedade para retornar exceções como <xref:System.ServiceModel.FaultException> objetos para o serviço para fins de depuração.</span><span class="sxs-lookup"><span data-stu-id="05367-114">The following code example shows a <xref:System.ServiceModel.CallbackBehaviorAttribute> class on a callback object that uses the <xref:System.Threading.SynchronizationContext> object to determine the thread to marshal to, the <xref:System.ServiceModel.CallbackBehaviorAttribute.ValidateMustUnderstand%2A> property to enforce message validation, and the <xref:System.ServiceModel.CallbackBehaviorAttribute.IncludeExceptionDetailInFaults%2A> property to return exceptions as <xref:System.ServiceModel.FaultException> objects to the service for debugging purposes.</span></span>  
  
 [!code-csharp[CallbackBehaviorAttribute#3](../../../samples/snippets/csharp/VS_Snippets_CFX/callbackbehaviorattribute/cs/client.cs#3)]
 [!code-vb[CallbackBehaviorAttribute#3](../../../samples/snippets/visualbasic/VS_Snippets_CFX/callbackbehaviorattribute/vb/client.vb#3)]  
  
## <a name="using-callbackdebugbehavior-to-enable-the-flow-of-managed-exception-information"></a><span data-ttu-id="05367-115">Usando CallbackDebugBehavior para habilitar o fluxo de informações de exceção gerenciada</span><span class="sxs-lookup"><span data-stu-id="05367-115">Using CallbackDebugBehavior to Enable the Flow of Managed Exception Information</span></span>  
 <span data-ttu-id="05367-116">Você pode habilitar o fluxo de informações de exceção gerenciada em um objeto de retorno de chamada do cliente para o serviço para fins de depuração, definindo a <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> propriedade para `true` de arquivos por meio de programação ou de uma configuração de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="05367-116">You can enable the flow of managed exception information in a client callback object back to the service for debugging purposes by setting the <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> property to `true` either programmatically or from an application configuration file.</span></span>  
  
 <span data-ttu-id="05367-117">Retornando informações de exceção gerenciada serviços podem ser um risco à segurança porque os detalhes da exceção expõem informações sobre o cliente interno implementação que não autorizado a serviços pode usar.</span><span class="sxs-lookup"><span data-stu-id="05367-117">Returning managed exception information to services can be a security risk because exception details expose information about the internal client implementation that  unauthorized services could use.</span></span> <span data-ttu-id="05367-118">Além disso, embora o <xref:System.ServiceModel.Description.CallbackDebugBehavior> propriedades também podem ser definidas programaticamente, ele pode ser fácil esquecer de desabilitar <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> durante a implantação.</span><span class="sxs-lookup"><span data-stu-id="05367-118">In addition, although the <xref:System.ServiceModel.Description.CallbackDebugBehavior> properties can also be set programmatically, it can be easy to forget to disable <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> when deploying.</span></span>  
  
 <span data-ttu-id="05367-119">Devido a problemas de segurança envolvida, é altamente recomendável que:</span><span class="sxs-lookup"><span data-stu-id="05367-119">Because of the security issues involved, it is strongly recommended that:</span></span>  
  
-   <span data-ttu-id="05367-120">Usar um arquivo de configuração de aplicativo para definir o valor da <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> propriedade para `true`.</span><span class="sxs-lookup"><span data-stu-id="05367-120">You use an application configuration file to set the value of the <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> property to `true`.</span></span>  
  
-   <span data-ttu-id="05367-121">Você fazer somente em cenários de depuração de controlado.</span><span class="sxs-lookup"><span data-stu-id="05367-121">You do so only in controlled debugging scenarios.</span></span>  
  
 <span data-ttu-id="05367-122">O exemplo de código a seguir mostra o arquivo de configuração que instrui o WCF para retornar informações de exceção gerenciada de um cliente objeto de retorno de chamada em mensagens SOAP de um cliente.</span><span class="sxs-lookup"><span data-stu-id="05367-122">The following code example shows a client configuration file that instructs WCF to return managed exception information from a client callback object in SOAP messages.</span></span>  
  
 [!code-xml[SCA.CallbackContract#4](../../../samples/snippets/csharp/VS_Snippets_CFX/sca.callbackcontract/cs/client.exe.config#4)]  
 
## <a name="using-the-clientviabehavior-behavior"></a><span data-ttu-id="05367-123">Usando o comportamento de ClientViaBehavior</span><span class="sxs-lookup"><span data-stu-id="05367-123">Using the ClientViaBehavior Behavior</span></span>  
 <span data-ttu-id="05367-124">Você pode usar o <xref:System.ServiceModel.Description.ClientViaBehavior> comportamento para especificar o Uniform Resource Identifier para o qual o canal de transporte deve ser criado.</span><span class="sxs-lookup"><span data-stu-id="05367-124">You can use the <xref:System.ServiceModel.Description.ClientViaBehavior> behavior to specify the Uniform Resource Identifier for which the transport channel should be created.</span></span> <span data-ttu-id="05367-125">Use esse comportamento quando o destino de rede imediato não é o processador pretendido da mensagem.</span><span class="sxs-lookup"><span data-stu-id="05367-125">Use this behavior when the immediate network destination is not the intended processor of the message.</span></span> <span data-ttu-id="05367-126">Isso permite que vários saltos conversas quando o aplicativo de chamada não sabe, necessariamente, o destino final ou quando o destino `Via` cabeçalho não é um endereço.</span><span class="sxs-lookup"><span data-stu-id="05367-126">This enables multiple-hop conversations when the calling application does not necessarily know the ultimate destination or when the destination `Via` header is not an address.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="05367-127">Consulte também</span><span class="sxs-lookup"><span data-stu-id="05367-127">See also</span></span>
- [<span data-ttu-id="05367-128">Especificando o comportamento em tempo de execução do serviço</span><span class="sxs-lookup"><span data-stu-id="05367-128">Specifying Service Run-Time Behavior</span></span>](../../../docs/framework/wcf/specifying-service-run-time-behavior.md)
