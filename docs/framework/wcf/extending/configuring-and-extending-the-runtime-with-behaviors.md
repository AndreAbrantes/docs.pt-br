---
title: "Configurando e estendendo o tempo de execução com comportamentos"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: attaching extensions using behaviors [WCF]
ms.assetid: 149b99b6-6eb6-4f45-be22-c967279677d9
caps.latest.revision: "20"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 7eb8e0853adbc24deb43fc1006804d7707d9a4b8
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/02/2017
---
# <a name="configuring-and-extending-the-runtime-with-behaviors"></a><span data-ttu-id="ac4cd-102">Configurando e estendendo o tempo de execução com comportamentos</span><span class="sxs-lookup"><span data-stu-id="ac4cd-102">Configuring and Extending the Runtime with Behaviors</span></span>
<span data-ttu-id="ac4cd-103">Comportamentos permitem que você modificar o comportamento padrão e adicionar extensões personalizadas que Inspecione e validarem a configuração do serviço ou modificam o comportamento de tempo de execução no [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] aplicativos cliente e de serviço.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-103">Behaviors enable you to modify default behavior and add custom extensions that inspect and validate service configuration or modify runtime behavior in [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] client and service applications.</span></span> <span data-ttu-id="ac4cd-104">Este tópico descreve as interfaces de comportamento, como implementá-los e como adicioná-los para a descrição de serviço (em um aplicativo de serviço) ou o ponto de extremidade (em um aplicativo de cliente) por meio de programação ou em um arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-104">This topic describes the behavior interfaces, how to implement them, and how to add them to the service description (in a service application) or endpoint (in a client application) programmatically or in a configuration file.</span></span> <span data-ttu-id="ac4cd-105">Para obter mais informações sobre como usar comportamentos fornecido pelo sistema, consulte [especificando comportamento de tempo de execução do serviço](../../../../docs/framework/wcf/specifying-service-run-time-behavior.md) e [especificando comportamento de tempo de execução do cliente](../../../../docs/framework/wcf/specifying-client-run-time-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="ac4cd-105">For more information about using system-provided behaviors, see [Specifying Service Run-Time Behavior](../../../../docs/framework/wcf/specifying-service-run-time-behavior.md) and [Specifying Client Run-Time Behavior](../../../../docs/framework/wcf/specifying-client-run-time-behavior.md).</span></span>  
  
## <a name="behaviors"></a><span data-ttu-id="ac4cd-106">Comportamentos</span><span class="sxs-lookup"><span data-stu-id="ac4cd-106">Behaviors</span></span>  
 <span data-ttu-id="ac4cd-107">Tipos de comportamento são adicionados para o serviço ou objetos de descrição do ponto de extremidade de serviço (no serviço ou cliente, respectivamente) antes que esses objetos são usados pelo [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] para criar um tempo de execução que executa um [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] serviço ou um [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] cliente.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-107">Behavior types are added to the service or service endpoint description objects (on the service or client, respectively) before those objects are used by [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] to create a runtime that executes a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service or a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client.</span></span> <span data-ttu-id="ac4cd-108">Quando esses comportamentos são chamados durante o processo de construção de tempo de execução, em seguida, eles são capazes de acessar os métodos e propriedades de tempo de execução que modificar o tempo de execução criado com o contrato, associações e endereços.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-108">When these behaviors are called during the runtime construction process they are then able to access runtime properties and methods that modify the runtime constructed by the contract, bindings, and addresses.</span></span>  
  
### <a name="behavior-methods"></a><span data-ttu-id="ac4cd-109">Métodos de comportamento</span><span class="sxs-lookup"><span data-stu-id="ac4cd-109">Behavior Methods</span></span>  
 <span data-ttu-id="ac4cd-110">Todos os comportamentos têm um `AddBindingParameters` método, uma `ApplyDispatchBehavior` método, uma `Validate` método e um `ApplyClientBehavior` método com uma exceção: como <xref:System.ServiceModel.Description.IServiceBehavior> não é possível executar em um cliente, ele não implementa `ApplyClientBehavior`.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-110">All behaviors have an `AddBindingParameters` method, an `ApplyDispatchBehavior` method, a `Validate` method, and an `ApplyClientBehavior` method with one exception: Because <xref:System.ServiceModel.Description.IServiceBehavior> cannot execute in a client, it does not implement `ApplyClientBehavior`.</span></span>  
  
-   <span data-ttu-id="ac4cd-111">Use o `AddBindingParameters` método para modificar ou adicionar objetos personalizados a uma coleção de associações personalizadas podem acessar para uso quando o tempo de execução é construído.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-111">Use the `AddBindingParameters` method to modify or add custom objects to a collection that custom bindings can access for their use when the runtime is constructed.</span></span> <span data-ttu-id="ac4cd-112">Por exemplo, isso como requisitos de proteção são especificados que afetam a maneira como o canal é criado, mas não são conhecidos pelo desenvolvedor do canal.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-112">For example, this how protection requirements are specified that affect the way the channel is built, but are not known by the channel developer.</span></span>  
  
-   <span data-ttu-id="ac4cd-113">Use o `Validate` método para examinar a árvore de descrição e o objeto correspondente do tempo de execução para garantir que ela está em conformidade com um conjunto de critérios.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-113">Use the `Validate` method to examine the description tree and corresponding runtime object to ensure it conforms to some set of criteria.</span></span>  
  
-   <span data-ttu-id="ac4cd-114">Use o `ApplyDispatchBehavior` e `ApplyClientBehavior` métodos para examinar a descrição de árvore e modificar o tempo de execução para um determinado escopo sobre o serviço ou cliente.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-114">Use the `ApplyDispatchBehavior` and `ApplyClientBehavior` methods to examine the description tree and modify the runtime for a particular scope on either the service or the client.</span></span> <span data-ttu-id="ac4cd-115">Você também pode inserir objetos de extensão também.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-115">You can also insert extension objects as well.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="ac4cd-116">Embora uma árvore de descrição é fornecida em desses métodos, é para exame somente.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-116">Although a description tree is provided in these methods, it is for examination only.</span></span> <span data-ttu-id="ac4cd-117">Se uma árvore de descrição for modificada, o comportamento será indefinido.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-117">If a description tree is modified, the behavior is undefined.</span></span>  
  
 <span data-ttu-id="ac4cd-118">As propriedades que você pode modificar e as interfaces de personalização, que você pode implementar são acessadas por meio de classes de tempo de execução do cliente e de serviço.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-118">The properties you can modify and the customization interfaces you can implement are accessed through the service and client runtime classes.</span></span> <span data-ttu-id="ac4cd-119">Os tipos de serviço estão a <xref:System.ServiceModel.Dispatcher.DispatchRuntime> e <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-119">The service types are the <xref:System.ServiceModel.Dispatcher.DispatchRuntime> and  <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes.</span></span> <span data-ttu-id="ac4cd-120">Os tipos de cliente são a <xref:System.ServiceModel.Dispatcher.ClientRuntime> e <xref:System.ServiceModel.Dispatcher.ClientOperation> classes.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-120">The client types are the <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.ClientOperation> classes.</span></span> <span data-ttu-id="ac4cd-121">O <xref:System.ServiceModel.Dispatcher.ClientRuntime> e <xref:System.ServiceModel.Dispatcher.DispatchRuntime> classes são os pontos de entrada de extensibilidade para acessar as propriedades de tempo de execução do cliente e de serviço e coleções de extensão, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-121">The <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.DispatchRuntime> classes are the extensibility entry points to access client-wide and service-wide runtime properties and extension collections, respectively.</span></span> <span data-ttu-id="ac4cd-122">Da mesma forma, o <xref:System.ServiceModel.Dispatcher.ClientOperation> e <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes exponham a operação de cliente e propriedades de tempo de execução da operação de serviço e coleções de extensão, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-122">Similarly, the <xref:System.ServiceModel.Dispatcher.ClientOperation> and  <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes expose client operation and service operation runtime properties and extension collections, respectively.</span></span> <span data-ttu-id="ac4cd-123">Você pode, no entanto, o acesso o mais ampla com escopo definido em tempo de execução de objeto do objeto e vice-versa de tempo de execução do operação se precisar ser.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-123">You can, however, access the wider scoped runtime object from the operation runtime object and vice versa if need be.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ac4cd-124">Para obter uma discussão das propriedades de tempo de execução e tipos de extensão que você pode usar para modificar o comportamento de execução de um cliente, consulte [estendendo clientes](../../../../docs/framework/wcf/extending/extending-clients.md).</span><span class="sxs-lookup"><span data-stu-id="ac4cd-124">For a discussion of runtime properties and extension types that you can use to modify the execution behavior of a client, see [Extending Clients](../../../../docs/framework/wcf/extending/extending-clients.md).</span></span> <span data-ttu-id="ac4cd-125">Para obter uma discussão das propriedades de tempo de execução e tipos de extensão que você pode usar para modificar o comportamento de execução de um dispatcher de serviço, consulte [estendendo Dispatchers](../../../../docs/framework/wcf/extending/extending-dispatchers.md).</span><span class="sxs-lookup"><span data-stu-id="ac4cd-125">For a discussion of runtime properties and extension types that you can use to modify the execution behavior of a service dispatcher, see [Extending Dispatchers](../../../../docs/framework/wcf/extending/extending-dispatchers.md).</span></span>  
  
 <span data-ttu-id="ac4cd-126">A maioria dos [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] os usuários não interagem diretamente com o tempo de execução; em vez disso, eles usam construções como pontos de extremidade, contratos, associações, endereços e atributos de comportamento em classes ou comportamentos em arquivos de configuração de modelo de programação central.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-126">Most [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] users do not interact with the runtime directly; instead they use core programming model constructs like endpoints, contracts, bindings, addresses, and behavior attributes on classes or behaviors in configuration files.</span></span> <span data-ttu-id="ac4cd-127">Essas construções compõem o *árvore descrição*, que é a especificação completa para construir um tempo de execução para dar suporte a um serviço ou cliente descrito pela árvore de descrição.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-127">These constructs make up the *description tree*, which is the complete specification for constructing a runtime to support a service or client described by the description tree.</span></span>  
  
 <span data-ttu-id="ac4cd-128">Há quatro tipos de comportamentos em [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="ac4cd-128">There are four kinds of behaviors in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]:</span></span>  
  
-   <span data-ttu-id="ac4cd-129">Comportamentos de serviço (<xref:System.ServiceModel.Description.IServiceBehavior> tipos) habilitar a personalização do tempo de execução de serviço inteiro, inclusive <xref:System.ServiceModel.ServiceHostBase>.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-129">Service behaviors (<xref:System.ServiceModel.Description.IServiceBehavior> types) enable the customization of the entire service runtime including <xref:System.ServiceModel.ServiceHostBase>.</span></span>  
  
-   <span data-ttu-id="ac4cd-130">Comportamentos de ponto de extremidade (<xref:System.ServiceModel.Description.IEndpointBehavior> tipos) habilitar a personalização de pontos de extremidade de serviço e seus respectivos <xref:System.ServiceModel.Dispatcher.EndpointDispatcher> objetos.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-130">Endpoint behaviors (<xref:System.ServiceModel.Description.IEndpointBehavior> types) enable the customization of service endpoints and their associated <xref:System.ServiceModel.Dispatcher.EndpointDispatcher> objects.</span></span>  
  
-   <span data-ttu-id="ac4cd-131">Comportamentos de contrato (<xref:System.ServiceModel.Description.IContractBehavior> tipos) habilitar a personalização de ambos os <xref:System.ServiceModel.Dispatcher.ClientRuntime> e <xref:System.ServiceModel.Dispatcher.DispatchRuntime> classes em aplicativos cliente e de serviço, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-131">Contract behaviors (<xref:System.ServiceModel.Description.IContractBehavior> types) enable the customization of both the <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.DispatchRuntime> classes in client and service applications, respectively.</span></span>  
  
-   <span data-ttu-id="ac4cd-132">Comportamentos de operação (<xref:System.ServiceModel.Description.IOperationBehavior> tipos) permitem a personalização do <xref:System.ServiceModel.Dispatcher.ClientOperation> e <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes, novamente, no cliente e no serviço.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-132">Operation behaviors (<xref:System.ServiceModel.Description.IOperationBehavior> types) enable the customization of the <xref:System.ServiceModel.Dispatcher.ClientOperation> and <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes, again, on the client and service.</span></span>  
  
 <span data-ttu-id="ac4cd-133">Você pode adicionar esses comportamentos para os vários objetos de descrição com a implementação de atributos personalizados, usando arquivos de configuração do aplicativo, ou diretamente ao adicioná-los à coleção de comportamentos no objeto de descrição apropriada.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-133">You can add these behaviors to the various description objects by implementing custom attributes, using application configuration files, or directly by adding them to the behaviors collection on the appropriate description object.</span></span> <span data-ttu-id="ac4cd-134">Deve, no entanto, ser adicionado a uma descrição de serviço ou o objeto de descrição do ponto de extremidade de serviço antes de chamar <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> no <xref:System.ServiceModel.ServiceHost> ou <xref:System.ServiceModel.ChannelFactory%601>.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-134">The must, however, be added to a service description or service endpoint description object prior to calling <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> on the <xref:System.ServiceModel.ServiceHost> or a <xref:System.ServiceModel.ChannelFactory%601>.</span></span>  
  
### <a name="behavior-scopes"></a><span data-ttu-id="ac4cd-135">Escopos de comportamento</span><span class="sxs-lookup"><span data-stu-id="ac4cd-135">Behavior Scopes</span></span>  
 <span data-ttu-id="ac4cd-136">Há quatro tipos de comportamento, cada uma correspondendo a um determinado escopo de acesso de tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-136">There are four behavior types, each of which corresponds to a particular scope of runtime access.</span></span>  
  
#### <a name="service-behaviors"></a><span data-ttu-id="ac4cd-137">Comportamentos de serviço</span><span class="sxs-lookup"><span data-stu-id="ac4cd-137">Service Behaviors</span></span>  
 <span data-ttu-id="ac4cd-138">Comportamentos de serviço, que implementam <xref:System.ServiceModel.Description.IServiceBehavior>, são o principal mecanismo pelo qual você modificar o tempo de execução de todo o serviço.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-138">Service behaviors, which implement <xref:System.ServiceModel.Description.IServiceBehavior>, are the primary mechanism by which you modify the entire service runtime.</span></span> <span data-ttu-id="ac4cd-139">Há três mecanismos para adicionar comportamentos de serviço para um serviço.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-139">There are three mechanisms for adding service behaviors to a service.</span></span>  
  
1.  <span data-ttu-id="ac4cd-140">Usando um atributo na classe de serviço.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-140">Using an attribute on the service class.</span></span>  <span data-ttu-id="ac4cd-141">Quando um <xref:System.ServiceModel.ServiceHost> é construída, o <xref:System.ServiceModel.ServiceHost> implementação usa reflexão para descobrir o conjunto de atributos do tipo de serviço.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-141">When a <xref:System.ServiceModel.ServiceHost> is constructed, the <xref:System.ServiceModel.ServiceHost> implementation uses reflection to discover the set of attributes on the type of the service.</span></span> <span data-ttu-id="ac4cd-142">Se qualquer um desses atributos são implementações de <xref:System.ServiceModel.Description.IServiceBehavior>, eles são adicionados à coleção de comportamentos em <xref:System.ServiceModel.Description.ServiceDescription>.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-142">If any of those attributes are implementations of <xref:System.ServiceModel.Description.IServiceBehavior>, they are added to the behaviors collection on <xref:System.ServiceModel.Description.ServiceDescription>.</span></span> <span data-ttu-id="ac4cd-143">Isso permite que esses comportamentos participar na construção do serviço de tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-143">This allows those behaviors to participate in the construction of the service run time.</span></span>  
  
2.  <span data-ttu-id="ac4cd-144">Adicionando programaticamente o comportamento para a coleção de comportamentos em <xref:System.ServiceModel.Description.ServiceDescription>.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-144">Programmatically adding the behavior to the behaviors collection on <xref:System.ServiceModel.Description.ServiceDescription>.</span></span> <span data-ttu-id="ac4cd-145">Isso pode ser feito com as seguintes linhas de código:</span><span class="sxs-lookup"><span data-stu-id="ac4cd-145">This can be accomplished with the following lines of code:</span></span>  
  
    ```  
    ServiceHost host = new ServiceHost(/* Parameters */);  
    host.Description.Behaviors.Add(/* Service Behavior */);  
    ```  
  
3.  <span data-ttu-id="ac4cd-146">Implementação de uma <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> que estende a configuração.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-146">Implementing a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> that extends configuration.</span></span> <span data-ttu-id="ac4cd-147">Isso permite o uso do comportamento do serviço de arquivos de configuração do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-147">This enables the use of the service behavior from application configuration files.</span></span>  
  
 <span data-ttu-id="ac4cd-148">Exemplos dos comportamentos de serviço no [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] incluem o <xref:System.ServiceModel.ServiceBehaviorAttribute> atributo, o <xref:System.ServiceModel.Description.ServiceThrottlingBehavior>e o <xref:System.ServiceModel.Description.ServiceMetadataBehavior> comportamento.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-148">Examples of service behaviors in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] include the <xref:System.ServiceModel.ServiceBehaviorAttribute> attribute, the <xref:System.ServiceModel.Description.ServiceThrottlingBehavior>, and the <xref:System.ServiceModel.Description.ServiceMetadataBehavior> behavior.</span></span>  
  
#### <a name="contract-behaviors"></a><span data-ttu-id="ac4cd-149">Comportamentos de contrato</span><span class="sxs-lookup"><span data-stu-id="ac4cd-149">Contract Behaviors</span></span>  
 <span data-ttu-id="ac4cd-150">Contrato de comportamentos, que implementam o <xref:System.ServiceModel.Description.IContractBehavior> interface, são usados para estender o cliente e o serviço de tempo de execução em um contrato.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-150">Contract behaviors, which implement the <xref:System.ServiceModel.Description.IContractBehavior> interface, are used to extend both the client and service runtime across a contract.</span></span>  
  
 <span data-ttu-id="ac4cd-151">Existem dois mecanismos para adicionar comportamentos de contrato a um contrato.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-151">There are two mechanisms for adding contract behaviors to a contract.</span></span>  <span data-ttu-id="ac4cd-152">O primeiro mecanismo é criar um atributo personalizado a ser usado na interface de contrato.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-152">The first mechanism is to create a custom attribute to be used on the contract interface.</span></span> <span data-ttu-id="ac4cd-153">Quando uma interface de contrato é passada como um <xref:System.ServiceModel.ServiceHost> ou um <xref:System.ServiceModel.ChannelFactory%601>, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] examina os atributos na interface.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-153">When a contract interface is passed to either a <xref:System.ServiceModel.ServiceHost> or a <xref:System.ServiceModel.ChannelFactory%601>, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] examines the attributes on the interface.</span></span> <span data-ttu-id="ac4cd-154">Se todos os atributos são implementações de <xref:System.ServiceModel.Description.IContractBehavior>, aqueles são adicionados à coleção de comportamentos do <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> criado para essa interface.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-154">If any attributes are implementations of <xref:System.ServiceModel.Description.IContractBehavior>, those are added to the behaviors collection on the <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> created for that interface.</span></span>  
  
 <span data-ttu-id="ac4cd-155">Você também pode implementar o <xref:System.ServiceModel.Description.IContractBehaviorAttribute?displayProperty=nameWithType> no atributo de comportamento de contrato personalizados.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-155">You can also implement the <xref:System.ServiceModel.Description.IContractBehaviorAttribute?displayProperty=nameWithType> on the custom contract behavior attribute.</span></span> <span data-ttu-id="ac4cd-156">Nesse caso, o comportamento é como a seguir quando aplicado a:</span><span class="sxs-lookup"><span data-stu-id="ac4cd-156">In this case, the behavior is as follows when applied to:</span></span>  
  
 <span data-ttu-id="ac4cd-157">Interface de contrato •A.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-157">•A contract interface.</span></span> <span data-ttu-id="ac4cd-158">Nesse caso, o comportamento é aplicado a todos os contratos desse tipo em qualquer ponto de extremidade e [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] ignora o valor da <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> propriedade.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-158">In this case, the behavior is applied to all contracts of that type in any endpoint and [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] ignores the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> property.</span></span>  
  
 <span data-ttu-id="ac4cd-159">Classe de serviço •A.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-159">•A service class.</span></span> <span data-ttu-id="ac4cd-160">Nesse caso, o comportamento é aplicado somente aos pontos de extremidade de contrato que é o valor da <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A> propriedade.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-160">In this case, the behavior is applied only to endpoints the contract of which is the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A> property.</span></span>  
  
 <span data-ttu-id="ac4cd-161">Classe de retorno de chamada •A.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-161">•A callback class.</span></span> <span data-ttu-id="ac4cd-162">Nesse caso, o comportamento é aplicado ao ponto de extremidade do cliente duplex e [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] ignora o valor da <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A> propriedade.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-162">In this case, the behavior is applied to the duplex client's endpoint and [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] ignores the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A> property.</span></span>  
  
 <span data-ttu-id="ac4cd-163">O segundo mecanismo é adicionar o comportamento para a coleção de comportamentos em um <xref:System.ServiceModel.Description.ContractDescription>.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-163">The second mechanism is to add the behavior to the behaviors collection on a <xref:System.ServiceModel.Description.ContractDescription>.</span></span>  
  
 <span data-ttu-id="ac4cd-164">Exemplos dos comportamentos de contrato no [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] incluem o <xref:System.ServiceModel.DeliveryRequirementsAttribute?displayProperty=nameWithType> atributo.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-164">Examples of contract behaviors in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] include the <xref:System.ServiceModel.DeliveryRequirementsAttribute?displayProperty=nameWithType> attribute.</span></span> <span data-ttu-id="ac4cd-165">Para obter mais informações e um exemplo, consulte o tópico de referência.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-165">For more information and an example, see the reference topic.</span></span>  
  
#### <a name="endpoint-behaviors"></a><span data-ttu-id="ac4cd-166">Comportamentos de ponto de extremidade</span><span class="sxs-lookup"><span data-stu-id="ac4cd-166">Endpoint Behaviors</span></span>  
 <span data-ttu-id="ac4cd-167">Comportamentos de ponto de extremidade, que implementam <xref:System.ServiceModel.Description.IEndpointBehavior>, são o principal mecanismo pelo qual você modificar o serviço inteiro ou tempo de execução para um ponto de extremidade específico do cliente.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-167">Endpoint behaviors, which implement <xref:System.ServiceModel.Description.IEndpointBehavior>, are the primary mechanism by which you modify the entire service or client run time for a specific endpoint.</span></span>  
  
 <span data-ttu-id="ac4cd-168">Existem dois mecanismos para adicionar os comportamentos de ponto de extremidade para um serviço.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-168">There are two mechanisms for adding endpoint behaviors to a service.</span></span>  
  
1.  <span data-ttu-id="ac4cd-169">Adicionar o comportamento para o <xref:System.ServiceModel.Description.ServiceEndpoint.Behaviors%2A> propriedade.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-169">Add the behavior to the <xref:System.ServiceModel.Description.ServiceEndpoint.Behaviors%2A> property.</span></span>  
  
2.  <span data-ttu-id="ac4cd-170">Implementar um personalizado <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> que estende a configuração.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-170">Implement a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> that extends configuration.</span></span>  
  
 <span data-ttu-id="ac4cd-171">Para obter mais informações e um exemplo, consulte o tópico de referência.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-171">For more information and an example, see the reference topic.</span></span>  
  
#### <a name="operation-behaviors"></a><span data-ttu-id="ac4cd-172">Comportamentos de operação</span><span class="sxs-lookup"><span data-stu-id="ac4cd-172">Operation Behaviors</span></span>  
 <span data-ttu-id="ac4cd-173">Comportamentos de operação, que implementam o <xref:System.ServiceModel.Description.IOperationBehavior> interface, são usados para estender o cliente e o serviço de tempo de execução para cada operação.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-173">Operation behaviors, which implement the <xref:System.ServiceModel.Description.IOperationBehavior> interface, are used to extend both the client and service runtime for each operation.</span></span>  
  
 <span data-ttu-id="ac4cd-174">Existem dois mecanismos para adicionar os comportamentos de operação para uma operação.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-174">There are two mechanisms for adding operation behaviors to an operation.</span></span> <span data-ttu-id="ac4cd-175">O primeiro mecanismo é criar um atributo personalizado a ser usado no método que modela a operação.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-175">The first mechanism is to create a custom attribute to be used on the method that models the operation.</span></span> <span data-ttu-id="ac4cd-176">Quando uma operação é adicionada a qualquer um <xref:System.ServiceModel.ServiceHost> ou um <xref:System.ServiceModel.ChannelFactory>, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] adiciona quaisquer <xref:System.ServiceModel.Description.IOperationBehavior> atributos para a coleção de comportamentos a <xref:System.ServiceModel.Description.OperationDescription> criado para essa operação.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-176">When an operation is added to either a <xref:System.ServiceModel.ServiceHost> or a <xref:System.ServiceModel.ChannelFactory>, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] adds any  <xref:System.ServiceModel.Description.IOperationBehavior> attributes to the behaviors collection on the <xref:System.ServiceModel.Description.OperationDescription> created for that operation.</span></span>  
  
 <span data-ttu-id="ac4cd-177">O segundo mecanismo é adicionando diretamente o comportamento para a coleção de comportamentos em um construído <xref:System.ServiceModel.Description.OperationDescription>.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-177">The second mechanism is by directly adding the behavior to the behaviors collection on a constructed <xref:System.ServiceModel.Description.OperationDescription>.</span></span>  
  
 <span data-ttu-id="ac4cd-178">Exemplos de comportamentos de operação em [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] incluem o <xref:System.ServiceModel.OperationBehaviorAttribute> e <xref:System.ServiceModel.TransactionFlowAttribute>.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-178">Examples of operation behaviors in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] include the <xref:System.ServiceModel.OperationBehaviorAttribute> and the <xref:System.ServiceModel.TransactionFlowAttribute>.</span></span>  
  
 <span data-ttu-id="ac4cd-179">Para obter mais informações e um exemplo, consulte o tópico de referência.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-179">For more information and an example, see the reference topic.</span></span>  
  
### <a name="using-configuration-to-create-behaviors"></a><span data-ttu-id="ac4cd-180">Usando a configuração para criar comportamentos</span><span class="sxs-lookup"><span data-stu-id="ac4cd-180">Using Configuration to Create Behaviors</span></span>  
 <span data-ttu-id="ac4cd-181">Serviço do ponto de extremidade e pode comportamentos de contrato por deve ser especificado no código ou usando atributos; somente os comportamentos de serviço e o ponto de extremidade podem ser configurados usando o aplicativo ou os arquivos de configuração da Web.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-181">Service and endpoint, and contract behaviors can by designed to be specified in code or using attributes; only service and endpoint behaviors can be configured using application or Web configuration files.</span></span> <span data-ttu-id="ac4cd-182">Expor comportamentos usando atributos permite que os desenvolvedores especifiquem um comportamento em tempo de compilação que não pode ser adicionado, removido ou modificado em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-182">Exposing behaviors using attributes allows developers to specify a behavior at compilation-time that cannot be added, removed, or modified at runtime.</span></span> <span data-ttu-id="ac4cd-183">Isso geralmente é adequado para comportamentos que são sempre obrigatórias para a operação correta de um serviço (por exemplo, os parâmetros relacionados de transação para o <xref:System.ServiceModel.ServiceBehaviorAttribute?displayProperty=nameWithType> atributo).</span><span class="sxs-lookup"><span data-stu-id="ac4cd-183">This is often suitable for behaviors that are always required for the correct operation of a service (for example, the transaction-related parameters to the <xref:System.ServiceModel.ServiceBehaviorAttribute?displayProperty=nameWithType> attribute).</span></span> <span data-ttu-id="ac4cd-184">Expondo comportamentos usando a configuração permite que os desenvolvedores deixar a especificação e a configuração desses comportamentos para aqueles que implantar o serviço.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-184">Exposing behaviors using configuration allows developers to leave the specification and configuration of those behaviors to those who deploy the service.</span></span> <span data-ttu-id="ac4cd-185">Isso é adequado para comportamentos que são componentes opcionais ou outras configurações específicas de implantação, como se os metadados são expostos para o serviço ou a configuração de autorização específica para um serviço.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-185">This is suitable for behaviors that are optional components or other deployment-specific configuration, such as whether metadata is exposed for the service or the particular authorization configuration for a service.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ac4cd-186">Você também pode usar os comportamentos que oferecem suporte à configuração de políticas de aplicativo da empresa por inseri-los no arquivo de configuração Machine. config e bloquear esses itens.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-186">You can also use behaviors that support configuration to enforce company application policies by inserting them into the machine.config configuration file and locking those items down.</span></span> <span data-ttu-id="ac4cd-187">Para obter uma descrição e um exemplo, consulte [como: bloqueio para pontos de extremidade na empresa](../../../../docs/framework/wcf/extending/how-to-lock-down-endpoints-in-the-enterprise.md).</span><span class="sxs-lookup"><span data-stu-id="ac4cd-187">For a description and an example, see [How to: Lock Down Endpoints in the Enterprise](../../../../docs/framework/wcf/extending/how-to-lock-down-endpoints-in-the-enterprise.md).</span></span>  
  
 <span data-ttu-id="ac4cd-188">Para expor um comportamento usando a configuração, um desenvolvedor deve criar uma classe derivada de <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> e, em seguida, registre essa extensão com a configuração.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-188">To expose a behavior using configuration, a developer must create a derived class of <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> and then register that extension with configuration.</span></span>  
  
 <span data-ttu-id="ac4cd-189">O seguinte exemplo de código mostra como um <xref:System.ServiceModel.Description.IEndpointBehavior> implementa <xref:System.ServiceModel.Configuration.BehaviorExtensionElement>:</span><span class="sxs-lookup"><span data-stu-id="ac4cd-189">The following code example shows how an  <xref:System.ServiceModel.Description.IEndpointBehavior> implements <xref:System.ServiceModel.Configuration.BehaviorExtensionElement>:</span></span>  
  
```  
// BehaviorExtensionElement members  
    public override Type BehaviorType  
    {  
      get { return typeof(EndpointBehaviorMessageInspector); }  
    }  
  
    protected override object CreateBehavior()  
    {  
      return new EndpointBehaviorMessageInspector();  
    }  
```  
  
 <span data-ttu-id="ac4cd-190">Para que o sistema de configuração carregar um personalizado <xref:System.ServiceModel.Configuration.BehaviorExtensionElement>, ele deve ser registrado como uma extensão.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-190">In order for the configuration system to load a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement>, it must be registered as an extension.</span></span> <span data-ttu-id="ac4cd-191">O exemplo de código a seguir mostra o arquivo de configuração para o comportamento de ponto de extremidade anterior:</span><span class="sxs-lookup"><span data-stu-id="ac4cd-191">The following code example shows the configuration file for the preceding endpoint behavior:</span></span>  
  
```xml  
<configuration>  
  <system.serviceModel>  
    <services>  
      <service   
        name="Microsoft.WCF.Documentation.SampleService"  
        behaviorConfiguration="metadataSupport"  
      >  
        <host>  
          <baseAddresses>  
            <add baseAddress="http://localhost:8080/ServiceMetadata" />  
          </baseAddresses>  
        </host>  
        <endpoint  
          address="/SampleService"  
          binding="wsHttpBinding"  
          behaviorConfiguration="withMessageInspector"   
          contract="Microsoft.WCF.Documentation.ISampleService"  
        />  
        <endpoint  
           address="mex"  
           binding="mexHttpBinding"  
           contract="IMetadataExchange"  
        />  
      </service>  
    </services>  
    <behaviors>  
      <serviceBehaviors>  
      <behavior name="metadataSupport">  
        <serviceMetadata httpGetEnabled="true" httpGetUrl=""/>  
      </behavior>  
      </serviceBehaviors>  
      <endpointBehaviors>  
        <behavior name="withMessageInspector">  
          <endpointMessageInspector />  
        </behavior>  
      </endpointBehaviors>  
    </behaviors>  
    <extensions>  
      <behaviorExtensions>  
        <add   
          name="endpointMessageInspector"  
          type="Microsoft.WCF.Documentation.EndpointBehaviorMessageInspector, HostApplication, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null"  
        />  
      </behaviorExtensions>  
    </extensions>  
  </system.serviceModel>  
</configuration>  
```  
  
 <span data-ttu-id="ac4cd-192">Onde `Microsoft.WCF.Documentation.EndpointBehaviorMessageInspector` é o tipo de extensão de comportamento e `HostApplication` é o nome do assembly no qual essa classe foi compilada.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-192">Where `Microsoft.WCF.Documentation.EndpointBehaviorMessageInspector` is the behavior extension type and `HostApplication` is the name of the assembly into which that class has been compiled.</span></span>  
  
### <a name="evaluation-order"></a><span data-ttu-id="ac4cd-193">Ordem de avaliação</span><span class="sxs-lookup"><span data-stu-id="ac4cd-193">Evaluation Order</span></span>  
 <span data-ttu-id="ac4cd-194">O <xref:System.ServiceModel.ChannelFactory%601?displayProperty=nameWithType> e <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> são responsáveis por criar o tempo de execução do modelo de programação e a descrição.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-194">The <xref:System.ServiceModel.ChannelFactory%601?displayProperty=nameWithType> and the <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> are responsible for building the runtime from the programming model and description.</span></span> <span data-ttu-id="ac4cd-195">Comportamentos, conforme descritos anteriormente, contribuem para que o processo no serviço, ponto de extremidade, contrato e operação de compilação.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-195">Behaviors, as previously described, contribute to that build process at the service, endpoint, contract, and operation.</span></span>  
  
 <span data-ttu-id="ac4cd-196">O <xref:System.ServiceModel.ServiceHost> aplica comportamentos na seguinte ordem:</span><span class="sxs-lookup"><span data-stu-id="ac4cd-196">The <xref:System.ServiceModel.ServiceHost> applies behaviors in the following order:</span></span>  
  
1.  <span data-ttu-id="ac4cd-197">Serviço</span><span class="sxs-lookup"><span data-stu-id="ac4cd-197">Service</span></span>  
  
2.  <span data-ttu-id="ac4cd-198">Contrato</span><span class="sxs-lookup"><span data-stu-id="ac4cd-198">Contract</span></span>  
  
3.  <span data-ttu-id="ac4cd-199">Ponto de extremidade</span><span class="sxs-lookup"><span data-stu-id="ac4cd-199">Endpoint</span></span>  
  
4.  <span data-ttu-id="ac4cd-200">Operação</span><span class="sxs-lookup"><span data-stu-id="ac4cd-200">Operation</span></span>  
  
 <span data-ttu-id="ac4cd-201">Dentro de qualquer coleção de comportamentos, nenhuma ordem é garantida.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-201">Within any collection of behaviors, no order is guaranteed.</span></span>  
  
 <span data-ttu-id="ac4cd-202">O <xref:System.ServiceModel.ChannelFactory%601> aplica comportamentos na seguinte ordem:</span><span class="sxs-lookup"><span data-stu-id="ac4cd-202">The <xref:System.ServiceModel.ChannelFactory%601> applies behaviors in the following order:</span></span>  
  
1.  <span data-ttu-id="ac4cd-203">Contrato</span><span class="sxs-lookup"><span data-stu-id="ac4cd-203">Contract</span></span>  
  
2.  <span data-ttu-id="ac4cd-204">Ponto de extremidade</span><span class="sxs-lookup"><span data-stu-id="ac4cd-204">Endpoint</span></span>  
  
3.  <span data-ttu-id="ac4cd-205">Operação</span><span class="sxs-lookup"><span data-stu-id="ac4cd-205">Operation</span></span>  
  
 <span data-ttu-id="ac4cd-206">Dentro de qualquer coleção de comportamentos, novamente, nenhuma ordem é garantida.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-206">Within any collection of behaviors, again, no order is guaranteed.</span></span>  
  
### <a name="adding-behaviors-programmatically"></a><span data-ttu-id="ac4cd-207">Adicionando comportamentos programaticamente</span><span class="sxs-lookup"><span data-stu-id="ac4cd-207">Adding Behaviors Programmatically</span></span>  
 <span data-ttu-id="ac4cd-208">Propriedades do <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> no serviço de aplicativo não deve ser modificado após o <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType> método <xref:System.ServiceModel.ServiceHostBase?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-208">Properties of the <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> in the service application must not be modified subsequent to the <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType> method on <xref:System.ServiceModel.ServiceHostBase?displayProperty=nameWithType>.</span></span> <span data-ttu-id="ac4cd-209">Alguns membros, como o <xref:System.ServiceModel.ServiceHostBase.Credentials%2A?displayProperty=nameWithType> propriedade e o `AddServiceEndpoint` métodos em <xref:System.ServiceModel.ServiceHostBase> e <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType>, lançar uma exceção se modificados após esse ponto.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-209">Some members, like the <xref:System.ServiceModel.ServiceHostBase.Credentials%2A?displayProperty=nameWithType> property and the `AddServiceEndpoint` methods on <xref:System.ServiceModel.ServiceHostBase> and <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType>, throw an exception if modified past that point.</span></span> <span data-ttu-id="ac4cd-210">Outros permitem que você modificá-las, mas o resultado é indefinido.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-210">Others permit you to modify them, but the result is undefined.</span></span>  
  
 <span data-ttu-id="ac4cd-211">Da mesma forma, no cliente de <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> valores não devem ser modificados após a chamada a <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> no <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-211">Similarly, on the client the <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> values must not be modified after the call to <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> on the <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType>.</span></span> <span data-ttu-id="ac4cd-212">O <xref:System.ServiceModel.ChannelFactory.Credentials%2A?displayProperty=nameWithType> propriedade gera uma exceção se modificado após esse ponto, mas os outros valores de descrição do cliente podem ser modificados sem erro.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-212">The <xref:System.ServiceModel.ChannelFactory.Credentials%2A?displayProperty=nameWithType> property throws an exception if modified past that point, but the other client description values can be modified without error.</span></span> <span data-ttu-id="ac4cd-213">No entanto, o resultado é indefinido.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-213">The result, however, is undefined.</span></span>  
  
 <span data-ttu-id="ac4cd-214">Se para o serviço ou cliente, é recomendável que você modifique a descrição antes de chamar <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-214">Whether for the service or client, it is recommended that you modify the description prior to calling <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType>.</span></span>  
  
### <a name="inheritance-rules-for-behavior-attributes"></a><span data-ttu-id="ac4cd-215">Regras de herança para atributos de comportamento</span><span class="sxs-lookup"><span data-stu-id="ac4cd-215">Inheritance Rules for Behavior Attributes</span></span>  
 <span data-ttu-id="ac4cd-216">Todos os quatro tipos de comportamento podem ser preenchidos usando atributos – comportamentos de serviço e comportamentos de contrato.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-216">All four types of behaviors can be populated using attributes – service behaviors and contract behaviors.</span></span> <span data-ttu-id="ac4cd-217">Como os atributos são definidos em objetos gerenciados e os membros e os objetos gerenciados e membros dão suporte a herança, é necessário definir como os atributos de comportamento funcionam no contexto de herança.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-217">Because attributes are defined on managed objects and members, and managed objects and members support inheritance, it is necessary to define how behavior attributes work in the context of inheritance.</span></span>  
  
 <span data-ttu-id="ac4cd-218">Em um nível alto, a regra é que, para um escopo específico (por exemplo, serviço, contrato ou operação), todos os atributos de comportamento na hierarquia de herança para esse escopo são aplicados.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-218">At a high level, the rule is that for a particular scope (for example, service, contract, or operation), all behavior attributes in the inheritance hierarchy for that scope are applied.</span></span> <span data-ttu-id="ac4cd-219">Se houver dois atributos do comportamento do mesmo tipo, apenas o tipo mais derivado é usado.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-219">If there are two behavior attributes of the same type, only the most-derived type is used.</span></span>  
  
#### <a name="service-behaviors"></a><span data-ttu-id="ac4cd-220">Comportamentos de serviço</span><span class="sxs-lookup"><span data-stu-id="ac4cd-220">Service Behaviors</span></span>  
 <span data-ttu-id="ac4cd-221">Para uma classe de serviço em questão, todos os atributos de comportamento de serviço dessa classe e os pais dessa classe são aplicados.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-221">For a given service class, all service behavior attributes on that class, and on parents of that class, are applied.</span></span> <span data-ttu-id="ac4cd-222">Se o mesmo tipo de atributo é aplicado em vários locais na hierarquia de herança, o tipo mais derivado será usado.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-222">If the same type of attribute is applied at multiple places in the inheritance hierarchy, the most-derived type is used.</span></span>  
  
```  
[ServiceBehavior(ConcurrencyMode = ConcurrencyMode.Multiple)]  
[AspNetCompatibilityRequirementsAttribute(  
    AspNetCompatibilityRequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)]  
public class A { /* … */ }  
  
[ServiceBehavior(InstanceContextMode = InstanceContextMode.Single)]  
public class B : A { /* … */}  
```  
  
 <span data-ttu-id="ac4cd-223">Por exemplo, no caso anterior, o serviço B pode acabar com uma <xref:System.ServiceModel.InstanceContextMode> de <xref:System.ServiceModel.InstanceContextMode.Single>, uma <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode> modo de <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed>e um <xref:System.ServiceModel.ConcurrencyMode> de <xref:System.ServiceModel.ConcurrencyMode.Single>.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-223">For example, in the preceding case, the service B ends up with an <xref:System.ServiceModel.InstanceContextMode> of <xref:System.ServiceModel.InstanceContextMode.Single>, an <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode> mode of <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed>, and a <xref:System.ServiceModel.ConcurrencyMode> of <xref:System.ServiceModel.ConcurrencyMode.Single>.</span></span> <span data-ttu-id="ac4cd-224">O <xref:System.ServiceModel.ConcurrencyMode> é <xref:System.ServiceModel.ConcurrencyMode.Single>, pois <xref:System.ServiceModel.ServiceBehaviorAttribute> atributo serviço B estiver em "mais derivados" do que a serviço.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-224">The <xref:System.ServiceModel.ConcurrencyMode> is <xref:System.ServiceModel.ConcurrencyMode.Single>, because <xref:System.ServiceModel.ServiceBehaviorAttribute> attribute on service B is on "more derived" than that on service A.</span></span>  
  
#### <a name="contract-behaviors"></a><span data-ttu-id="ac4cd-225">Comportamentos de contrato</span><span class="sxs-lookup"><span data-stu-id="ac4cd-225">Contract Behaviors</span></span>  
 <span data-ttu-id="ac4cd-226">Para um dado contrato, todos os contrato de atributos de comportamento na interface e nos pais da interface, são aplicadas.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-226">For a given contract, all contract behavior attributes on that interface and on parents of that interface, are applied.</span></span> <span data-ttu-id="ac4cd-227">Se o mesmo tipo de atributo é aplicado em vários locais na hierarquia de herança, o tipo mais derivado será usado.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-227">If the same type of attribute is applied at multiple places in the inheritance hierarchy, the most-derived type is used.</span></span>  
  
#### <a name="operation-behaviors"></a><span data-ttu-id="ac4cd-228">Comportamentos de operação</span><span class="sxs-lookup"><span data-stu-id="ac4cd-228">Operation Behaviors</span></span>  
 <span data-ttu-id="ac4cd-229">Se uma determinada operação não substitui um resumo existente ou operação virtual, não há regras de herança se aplicam.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-229">If a given operation does not override an existing abstract or virtual operation, no inheritance rules apply.</span></span>  
  
 <span data-ttu-id="ac4cd-230">Se uma operação de substituição de uma operação existente e, em seguida, todos os atributos de comportamento de operação que a operação e os pais dessa operação, são aplicadas.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-230">If an operation does override an existing operation, then all operation behavior attributes on that operation and on parents of that operation, are applied.</span></span>  <span data-ttu-id="ac4cd-231">Se o mesmo tipo de atributo é aplicado em vários locais na hierarquia de herança, o tipo mais derivado será usado.</span><span class="sxs-lookup"><span data-stu-id="ac4cd-231">If the same type of attribute is applied at multiple places in the inheritance hierarchy, the most-derived type is used.</span></span>
