---
title: "Noções básicas de alterações de estado"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: a79ed2aa-e49a-47a8-845a-c9f436ec9987
caps.latest.revision: "13"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 9f93b1e9fdb1569507937c5381b157204ac88f87
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/02/2017
---
# <a name="understanding-state-changes"></a><span data-ttu-id="ed2c8-102">Noções básicas de alterações de estado</span><span class="sxs-lookup"><span data-stu-id="ed2c8-102">Understanding State Changes</span></span>
<span data-ttu-id="ed2c8-103">Este tópico discute os estados e transições que tem canais, os tipos usados para estados de canal de estrutura e como implementá-los.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-103">This topic discusses the states and transitions that channels have, the types used to structure channel states, and how to implement them.</span></span>  
  
## <a name="state-machines-and-channels"></a><span data-ttu-id="ed2c8-104">Máquinas de estado e canais</span><span class="sxs-lookup"><span data-stu-id="ed2c8-104">State Machines and Channels</span></span>  
 <span data-ttu-id="ed2c8-105">Soquetes de objetos que lidam com a comunicação, por exemplo, geralmente apresentam uma máquina de estado cujas transições de estado relacionam a alocação de recursos de rede, tornando ou aceitando conexões, fechando conexões e encerrando comunicação.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-105">Objects that deal with communication, for example sockets, usually present a state machine whose state transitions relate to allocating network resources, making or accepting connections, closing connections and terminating communication.</span></span> <span data-ttu-id="ed2c8-106">A máquina de estado do canal fornece um modelo uniforme de estados de um objeto de comunicação que abstrai a implementação subjacente desse objeto.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-106">The channel state machine provides a uniform model of the states of a communication object that abstracts the underlying implementation of that object.</span></span> <span data-ttu-id="ed2c8-107">O <xref:System.ServiceModel.ICommunicationObject> interface fornece um conjunto de estados, métodos de transição de estado e eventos de transição de estado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-107">The <xref:System.ServiceModel.ICommunicationObject> interface provides a set of states, state transition methods and state transition events.</span></span> <span data-ttu-id="ed2c8-108">Todos os canais, fábricas de canais e ouvintes de canais implementam a máquina de estado do canal.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-108">All channels, channel factories and channel listeners implement the channel state machine.</span></span>  
  
 <span data-ttu-id="ed2c8-109">Os eventos fechado, fechar, com falha, aberto e abrir sinalizam um observador externo após a ocorrência de uma transição de estado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-109">The events Closed, Closing, Faulted, Opened and Opening signal an external observer after a state transition occurs.</span></span>  
  
 <span data-ttu-id="ed2c8-110">Os métodos de anulação, fechar e abrir (e seus equivalentes assíncronas) causam transições de estado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-110">The methods Abort, Close, and Open (and their asynchronous equivalents) cause state transitions.</span></span>  
  
 <span data-ttu-id="ed2c8-111">A propriedade state retorna o estado atual, conforme definido pelo <xref:System.ServiceModel.CommunicationState>:</span><span class="sxs-lookup"><span data-stu-id="ed2c8-111">The state property returns the current state as defined by <xref:System.ServiceModel.CommunicationState>:</span></span>  
  
## <a name="icommunicationobject-communicationobject-and-states-and-state-transition"></a><span data-ttu-id="ed2c8-112">ICommunicationObject, CommunicationObject e estados e transição de estado</span><span class="sxs-lookup"><span data-stu-id="ed2c8-112">ICommunicationObject, CommunicationObject, and States and State Transition</span></span>  
 <span data-ttu-id="ed2c8-113">Um <xref:System.ServiceModel.ICommunicationObject> iniciado no estado criado em suas várias propriedades podem ser configuradas.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-113">An <xref:System.ServiceModel.ICommunicationObject> starts out in the Created state where its various properties can be configured.</span></span> <span data-ttu-id="ed2c8-114">Uma vez no estado aberto, o objeto é usado para enviar e receber mensagens, mas suas propriedades são consideradas imutáveis.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-114">Once in the Opened state, the object is usable for sending and receiving messages but its properties are considered immutable.</span></span> <span data-ttu-id="ed2c8-115">Quando no estado de fechamento, o objeto não pode processar novo enviar ou receber solicitações, mas as solicitações existentes tenham a oportunidade de concluir até que o tempo limite de fechamento é atingido.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-115">Once in the Closing state, the object can no longer process new send or receive requests, but existing requests have a chance to complete until the Close timeout is reached.</span></span>  <span data-ttu-id="ed2c8-116">Se ocorrer um erro irrecuperável, o objeto faz a transição para estado com falha, onde pode ser inspecionado para obter informações sobre o erro e, por fim, fechado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-116">If an unrecoverable error occurs, the object transitions to the Faulted state where it can be inspected for information about the error and ultimately closed.</span></span> <span data-ttu-id="ed2c8-117">Quando no estado fechado o objeto essencialmente atingiu o fim da máquina de estado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-117">When in the Closed state the object has essentially reached the end of the state machine.</span></span> <span data-ttu-id="ed2c8-118">Uma vez um objeto faz a transição de um estado para o próximo, ele não volte a um estado anterior.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-118">Once an object transitions from one state to the next, it does not go back to a previous state.</span></span>  
  
 <span data-ttu-id="ed2c8-119">O diagrama a seguir mostra o <xref:System.ServiceModel.ICommunicationObject> estados e transições de estado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-119">The following diagram shows the <xref:System.ServiceModel.ICommunicationObject> states and state transitions.</span></span> <span data-ttu-id="ed2c8-120">Transições de estado podem ser causadas por um dos três métodos de chamada: anular, abrir, ou fechar.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-120">State transitions can be caused by calling one of the three methods: Abort, Open, or Close.</span></span> <span data-ttu-id="ed2c8-121">Eles também podem ser causados por chamar outros métodos específicos de implementação.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-121">They could also be caused by calling other implementation-specific methods.</span></span> <span data-ttu-id="ed2c8-122">Em transição para estado com falha pode ocorrer como resultado de erros durante a abertura ou depois de ter aberto o objeto de comunicação.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-122">Transitioning to the Faulted state could happen as a result of errors while opening or after having opened the communication object.</span></span>  
  
 <span data-ttu-id="ed2c8-123">Cada <xref:System.ServiceModel.ICommunicationObject> iniciado no estado criado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-123">Every <xref:System.ServiceModel.ICommunicationObject> starts out in the Created state.</span></span> <span data-ttu-id="ed2c8-124">Nesse estado, um aplicativo pode configurar o objeto definindo suas propriedades.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-124">In this state, an application can configure the object by setting its properties.</span></span> <span data-ttu-id="ed2c8-125">Depois que um objeto está em um estado que não seja criado, ele é considerado imutável.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-125">Once an object is in a state other than Created, it is considered immutable.</span></span>  
  
 <span data-ttu-id="ed2c8-126">![Canal estado transitition](../../../../docs/framework/wcf/extending/media/channelstatetranitionshighleveldiagram.gif "ChannelStateTranitionsHighLevelDiagram")</span><span class="sxs-lookup"><span data-stu-id="ed2c8-126">![Channel state transitition](../../../../docs/framework/wcf/extending/media/channelstatetranitionshighleveldiagram.gif "ChannelStateTranitionsHighLevelDiagram")</span></span>  
<span data-ttu-id="ed2c8-127">Figura 1.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-127">Figure 1.</span></span> <span data-ttu-id="ed2c8-128">A máquina de estado de ICommunicationObject.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-128">The ICommunicationObject State Machine.</span></span>  
  
 [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]<span data-ttu-id="ed2c8-129">Fornece uma classe base abstrata denominada <xref:System.ServiceModel.Channels.CommunicationObject> que implementa <xref:System.ServiceModel.ICommunicationObject> e a máquina de estado do canal.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-129"> provides an abstract base class named <xref:System.ServiceModel.Channels.CommunicationObject> that implements <xref:System.ServiceModel.ICommunicationObject> and the channel state machine.</span></span> <span data-ttu-id="ed2c8-130">O gráfico a seguir é um diagrama de estado modificado é específico para <xref:System.ServiceModel.Channels.CommunicationObject>.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-130">The following graphic is a modified state diagram that is specific to <xref:System.ServiceModel.Channels.CommunicationObject>.</span></span> <span data-ttu-id="ed2c8-131">Além de <xref:System.ServiceModel.ICommunicationObject> máquina de estado, ele mostra o tempo quando adicionais <xref:System.ServiceModel.Channels.CommunicationObject> métodos forem invocados.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-131">In addition to the <xref:System.ServiceModel.ICommunicationObject> state machine, it shows the timing when additional <xref:System.ServiceModel.Channels.CommunicationObject> methods are invoked.</span></span>  
  
 <span data-ttu-id="ed2c8-132">![Alterações de estado](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigure5statetransitionsdetailsc.gif "wcfc_WCFChannelsigure5StateTransitionsDetailsc")</span><span class="sxs-lookup"><span data-stu-id="ed2c8-132">![State changes](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigure5statetransitionsdetailsc.gif "wcfc_WCFChannelsigure5StateTransitionsDetailsc")</span></span>  
<span data-ttu-id="ed2c8-133">Figura 2.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-133">Figure 2.</span></span> <span data-ttu-id="ed2c8-134">A implementação de CommunicationObject da máquina de estado ICommunicationObject incluindo chamadas para eventos e métodos protegidos.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-134">The CommunicationObject implementation of the ICommunicationObject state machine including calls to events and protected methods.</span></span>  
  
### <a name="icommunicationobject-events"></a><span data-ttu-id="ed2c8-135">Eventos de ICommunicationObject</span><span class="sxs-lookup"><span data-stu-id="ed2c8-135">ICommunicationObject Events</span></span>  
 <span data-ttu-id="ed2c8-136"><xref:System.ServiceModel.Channels.CommunicationObject>expõe os cinco eventos definidos por <xref:System.ServiceModel.ICommunicationObject>.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-136"><xref:System.ServiceModel.Channels.CommunicationObject> exposes the five events defined by <xref:System.ServiceModel.ICommunicationObject>.</span></span> <span data-ttu-id="ed2c8-137">Esses eventos são criados para o código usando o objeto de comunicação a ser notificado das transições de estado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-137">These events are designed for code using the communication object to be notified of state transitions.</span></span> <span data-ttu-id="ed2c8-138">Conforme mostrado na Figura 2 acima, cada evento é disparado uma vez depois que o estado do objeto faz a transição para o estado de chamada pelo evento.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-138">As shown in Figure 2 above, each event is fired once after the object’s state transitions to the state named by the event.</span></span> <span data-ttu-id="ed2c8-139">Todos os cinco eventos são do `EventHandler` tipo que está definido como:</span><span class="sxs-lookup"><span data-stu-id="ed2c8-139">All five events are of the `EventHandler` type which is defined as:</span></span>  
  
 `public delegate void EventHandler(object sender, EventArgs e);`  
  
 <span data-ttu-id="ed2c8-140">No <xref:System.ServiceModel.Channels.CommunicationObject> implementação, o remetente é o <xref:System.ServiceModel.Channels.CommunicationObject> em si, ou que foi passado como o remetente para o <xref:System.ServiceModel.Channels.CommunicationObject> construtor (se essa sobrecarga de construtor foi usada).</span><span class="sxs-lookup"><span data-stu-id="ed2c8-140">In the <xref:System.ServiceModel.Channels.CommunicationObject> implementation, the sender is either the <xref:System.ServiceModel.Channels.CommunicationObject> itself or whatever was passed in as the sender to the <xref:System.ServiceModel.Channels.CommunicationObject> constructor (if that constructor overload was used).</span></span> <span data-ttu-id="ed2c8-141">O parâmetro EventArgs, `e`, é sempre `EventArgs.Empty`.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-141">The EventArgs parameter, `e`, is always `EventArgs.Empty`.</span></span>  
  
### <a name="derived-object-callbacks"></a><span data-ttu-id="ed2c8-142">Objeto derivado de retornos de chamada</span><span class="sxs-lookup"><span data-stu-id="ed2c8-142">Derived Object Callbacks</span></span>  
 <span data-ttu-id="ed2c8-143">Os cinco eventos, além de <xref:System.ServiceModel.Channels.CommunicationObject> declara oito protegido métodos virtuais projetados para permitir que um objeto derivado seja chamado novamente, antes e depois ocorrem transições de estado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-143">In addition to the five events, <xref:System.ServiceModel.Channels.CommunicationObject> declares eight protected virtual methods designed to allow a derived object to be called back before and after state transitions occur.</span></span>  
  
 <span data-ttu-id="ed2c8-144">O <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> e <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> métodos têm três tais retornos de chamada associados a cada um deles.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-144">The <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> methods have three such callbacks associated with each of them.</span></span> <span data-ttu-id="ed2c8-145">Por exemplo, correspondente ao <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> há <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, e <xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-145">For example, corresponding to <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> there is <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="ed2c8-146">Associado <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> são o <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType>, e <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> métodos.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-146">Associated with <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> are the <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> methods.</span></span>  
  
 <span data-ttu-id="ed2c8-147">Da mesma forma, o <xref:System.ServiceModel.Channels.CommunicationObject.Abort%2A?displayProperty=nameWithType> método tem um correspondente <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-147">Similarly, the <xref:System.ServiceModel.Channels.CommunicationObject.Abort%2A?displayProperty=nameWithType> method has a corresponding <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="ed2c8-148">Enquanto <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, e <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType> não têm nenhuma implementação padrão, os outros retornos de chamada tem uma implementação padrão que é necessária para a correção de máquina de estado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-148">While <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType> have no default implementation, the other callbacks do have a default implementation which is necessary for state machine correctness.</span></span> <span data-ttu-id="ed2c8-149">Se você substituir os métodos Certifique-se de chamar a implementação base ou substitua-o corretamente.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-149">If you override those methods be sure to call the base implementation or correctly replace it.</span></span>  
  
 <span data-ttu-id="ed2c8-150"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType> e <xref:System.ServiceModel.Channels.CommunicationObject.OnFaulted%2A?displayProperty=nameWithType> acionar correspondente <xref:System.ServiceModel.Channels.CommunicationObject.Opening?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.Closing?displayProperty=nameWithType> e <xref:System.ServiceModel.Channels.CommunicationObject.Faulted?displayProperty=nameWithType> eventos.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-150"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.OnFaulted%2A?displayProperty=nameWithType> fire the corresponding <xref:System.ServiceModel.Channels.CommunicationObject.Opening?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.Closing?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.Faulted?displayProperty=nameWithType> events.</span></span> <span data-ttu-id="ed2c8-151"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType>e <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> definem o estado do objeto aberto e fechado, respectivamente, em seguida, acionar correspondente <xref:System.ServiceModel.Channels.CommunicationObject.Opened?displayProperty=nameWithType> e <xref:System.ServiceModel.Channels.CommunicationObject.Closed?displayProperty=nameWithType> eventos.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-151"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> set the object state to Opened and Closed respectively then fire the corresponding <xref:System.ServiceModel.Channels.CommunicationObject.Opened?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.Closed?displayProperty=nameWithType> events.</span></span>  
  
### <a name="state-transition-methods"></a><span data-ttu-id="ed2c8-152">Métodos de transição de estado</span><span class="sxs-lookup"><span data-stu-id="ed2c8-152">State Transition Methods</span></span>  
 <span data-ttu-id="ed2c8-153"><xref:System.ServiceModel.Channels.CommunicationObject>fornece implementações de Abort, feche e abra.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-153"><xref:System.ServiceModel.Channels.CommunicationObject> provides implementations of Abort, Close and Open.</span></span> <span data-ttu-id="ed2c8-154">Ele também fornece um método de falha que faz com que uma transição de estado para o estado com falha.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-154">It also provides a Fault method which causes a state transition to the Faulted state.</span></span> <span data-ttu-id="ed2c8-155">A Figura 2 mostra o <xref:System.ServiceModel.ICommunicationObject> máquina de estado com cada transição rotulada pelo método que faz com que ele (sem rótulo transições acontecer dentro da implementação do método que fez a última transição rotulada).</span><span class="sxs-lookup"><span data-stu-id="ed2c8-155">Figure 2 shows the <xref:System.ServiceModel.ICommunicationObject> state machine with each transition labeled by the method that causes it (unlabeled transitions happen inside the implementation of the method that caused the last labeled transition).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ed2c8-156">Todos os <xref:System.ServiceModel.Channels.CommunicationObject> Obtém/define são sincronizados de thread de estado de implementações de comunicação.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-156">All <xref:System.ServiceModel.Channels.CommunicationObject> implementations of communication state gets/sets are thread-synchronized.</span></span>  
  
 <span data-ttu-id="ed2c8-157">Construtor</span><span class="sxs-lookup"><span data-stu-id="ed2c8-157">Constructor</span></span>  
  
 <span data-ttu-id="ed2c8-158"><xref:System.ServiceModel.Channels.CommunicationObject>fornece três construtores, que deixe o objeto no estado criado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-158"><xref:System.ServiceModel.Channels.CommunicationObject> provides three constructors, all of which leave the object in the Created state.</span></span> <span data-ttu-id="ed2c8-159">Os construtores são definidos como:</span><span class="sxs-lookup"><span data-stu-id="ed2c8-159">The constructors are defined as:</span></span>  
  
 <span data-ttu-id="ed2c8-160">O primeiro construtor é um construtor padrão que delega para a sobrecarga de construtor que usa um objeto:</span><span class="sxs-lookup"><span data-stu-id="ed2c8-160">The first constructor is a default constructor that delegates to the constructor overload that takes an object:</span></span>  
  
 `protected CommunicationObject() : this(new object()) { … }`  
  
 <span data-ttu-id="ed2c8-161">O construtor que usa um objeto usa esse parâmetro como o objeto a ser bloqueada durante a sincronização de acesso ao estado do objeto de comunicação:</span><span class="sxs-lookup"><span data-stu-id="ed2c8-161">The constructor that takes an object uses that parameter as the object to be locked when synchronizing access to communication object state:</span></span>  
  
 `protected CommunicationObject(object mutex) { … }`  
  
 <span data-ttu-id="ed2c8-162">Por fim, um terceiro construtor usa um parâmetro adicional que é usado como o argumento do remetente quando <xref:System.ServiceModel.ICommunicationObject> os eventos são disparados.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-162">Finally, a third constructor takes an additional parameter that is used as the sender argument when <xref:System.ServiceModel.ICommunicationObject> events are fired.</span></span>  
  
 `protected CommunicationObject(object mutex, object eventSender) { … }`  
  
 <span data-ttu-id="ed2c8-163">Os dois construtores anteriores definido o remetente para isso.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-163">The previous two constructors set the sender to this.</span></span>  
  
 <span data-ttu-id="ed2c8-164">Método Open</span><span class="sxs-lookup"><span data-stu-id="ed2c8-164">Open Method</span></span>  
  
 <span data-ttu-id="ed2c8-165">Pré-condição: O estado é criado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-165">Precondition: State is Created.</span></span>  
  
 <span data-ttu-id="ed2c8-166">Pós-condição: O estado é aberto ou com falha.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-166">Post-condition: State is Opened or Faulted.</span></span> <span data-ttu-id="ed2c8-167">Pode lançar uma exceção.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-167">May throw an exception.</span></span>  
  
 <span data-ttu-id="ed2c8-168">O método Open () tentará abrir o objeto de comunicação e defina o estado como aberto.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-168">The Open() method will try to open the communication object and set the state to Opened.</span></span> <span data-ttu-id="ed2c8-169">Se encontrar um erro, ele definirá o estado como com falha.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-169">If it encounters an error, it will set the state to Faulted.</span></span>  
  
 <span data-ttu-id="ed2c8-170">O método primeiro verifica se o estado atual é criado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-170">The method first checks that the current state is Created.</span></span> <span data-ttu-id="ed2c8-171">Se o estado atual for a abertura ou abriu lança um <xref:System.InvalidOperationException>.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-171">If the current state is Opening or Opened it throws an <xref:System.InvalidOperationException>.</span></span> <span data-ttu-id="ed2c8-172">Se o estado atual é de fechamento ou fechado, ele gerará uma <xref:System.ServiceModel.CommunicationObjectAbortedException> se o objeto foi encerrado e <xref:System.ObjectDisposedException> caso contrário.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-172">If the current state is Closing or Closed, it throws a <xref:System.ServiceModel.CommunicationObjectAbortedException> if the object has been terminated and <xref:System.ObjectDisposedException> otherwise.</span></span> <span data-ttu-id="ed2c8-173">Se o estado atual está com defeito, ele gerará um <xref:System.ServiceModel.CommunicationObjectFaultedException>.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-173">If the current state is Faulted, it throws a <xref:System.ServiceModel.CommunicationObjectFaultedException>.</span></span>  
  
 <span data-ttu-id="ed2c8-174">Ele define o estado de abertura e chama OnOpening() (que gera o evento de abertura), OnOpen() e OnOpened() nessa ordem.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-174">It then sets the state to Opening and calls OnOpening() (which raises the Opening event), OnOpen() and OnOpened() in that order.</span></span> <span data-ttu-id="ed2c8-175">OnOpened() define o estado como aberto e gera o evento aberto.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-175">OnOpened() sets the state to Opened and raises the Opened event.</span></span> <span data-ttu-id="ed2c8-176">Se qualquer um desses lança uma exceção, (aberta) chama Fault() e permite que a bolha de exceção, o backup.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-176">If any of these throws an exception, Open()calls Fault() and lets the exception bubble up.</span></span> <span data-ttu-id="ed2c8-177">O diagrama a seguir mostra o processo de abertura mais detalhadamente.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-177">The following diagram shows the Open process in more detail.</span></span>  
  
 <span data-ttu-id="ed2c8-178">![Alterações de estado](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigurecoopenflowchartf.gif "wcfc_WCFChannelsigureCOOpenFlowChartf")</span><span class="sxs-lookup"><span data-stu-id="ed2c8-178">![State changes](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigurecoopenflowchartf.gif "wcfc_WCFChannelsigureCOOpenFlowChartf")</span></span>  
<span data-ttu-id="ed2c8-179">Substitua o método OnOpen para implementar a lógica de abrir personalizada, como abrir um objeto de comunicação interna.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-179">Override the OnOpen method to implement custom open logic such as opening an inner communication object.</span></span>  
  
 <span data-ttu-id="ed2c8-180">Método Close</span><span class="sxs-lookup"><span data-stu-id="ed2c8-180">Close Method</span></span>  
  
 <span data-ttu-id="ed2c8-181">Pré-condição: None.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-181">Precondition: None.</span></span>  
  
 <span data-ttu-id="ed2c8-182">Pós-condição: O estado está fechado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-182">Post-condition: State is Closed.</span></span> <span data-ttu-id="ed2c8-183">Pode lançar uma exceção.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-183">May throw an exception.</span></span>  
  
 <span data-ttu-id="ed2c8-184">O método Close () pode ser chamado em qualquer estado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-184">The Close() method can be called at any state.</span></span> <span data-ttu-id="ed2c8-185">Tentar fechar o objeto normalmente.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-185">It tries to close the object normally.</span></span> <span data-ttu-id="ed2c8-186">Se um erro for encontrado, ele encerra o objeto.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-186">If an error is encountered, it terminates the object.</span></span> <span data-ttu-id="ed2c8-187">O método não nada se o estado atual é de fechamento ou fechado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-187">The method does nothing if the current state is Closing or Closed.</span></span> <span data-ttu-id="ed2c8-188">Caso contrário, ela define o estado fechamento.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-188">Otherwise it sets the state to Closing.</span></span> <span data-ttu-id="ed2c8-189">Se o estado original foi criado, a abertura ou com falha, ele chama Abort () (consulte o diagrama a seguir).</span><span class="sxs-lookup"><span data-stu-id="ed2c8-189">If the original state was Created, Opening or Faulted, it calls Abort() (see the following diagram).</span></span> <span data-ttu-id="ed2c8-190">Se o estado original foi aberto, ele chama OnClosing() (que gera o evento de fechamento), OnClose() e OnClosed() nessa ordem.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-190">If the original state was Opened, it calls OnClosing() (which raises the Closing event), OnClose() and OnClosed() in that order.</span></span> <span data-ttu-id="ed2c8-191">Se qualquer um desses lança uma exceção, (Fechar) chama Abort () e permite que a bolha de exceção, o backup.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-191">If any of these throws an exception, Close()calls Abort() and lets the exception bubble up.</span></span> <span data-ttu-id="ed2c8-192">OnClosed() define o estado para fechado e gera o evento fechado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-192">OnClosed() sets the state to Closed and raises the Closed event.</span></span> <span data-ttu-id="ed2c8-193">O diagrama a seguir mostra o fechamento processar mais detalhadamente.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-193">The following diagram shows the Close process in more detail.</span></span>  
  
 <span data-ttu-id="ed2c8-194">![Alterações de estado](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsguire7ico-closeflowchartc.gif "wcfc_WCFChannelsguire7ICO CloseFlowChartc")</span><span class="sxs-lookup"><span data-stu-id="ed2c8-194">![State changes](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsguire7ico-closeflowchartc.gif "wcfc_WCFChannelsguire7ICO-CloseFlowChartc")</span></span>  
<span data-ttu-id="ed2c8-195">Substitua o método OnClose para implementar a lógica de fechar personalizada, como fechar um objeto de comunicação interna.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-195">Override the OnClose method to implement custom close logic, such as closing an inner communication object.</span></span> <span data-ttu-id="ed2c8-196">Todos os normal fechando lógica que pode ser bloqueadas por muito tempo (por exemplo, aguardando outro lado responder) deve ser implementado em OnClose() porque ele usa um parâmetro de tempo limite e porque ele não é chamado como parte de Abort ().</span><span class="sxs-lookup"><span data-stu-id="ed2c8-196">All graceful closing logic that may block for a long time (for example, waiting for the other side to respond) should be implemented in OnClose() because it takes a timeout parameter and because it is not called as part of Abort().</span></span>  
  
 <span data-ttu-id="ed2c8-197">Anular</span><span class="sxs-lookup"><span data-stu-id="ed2c8-197">Abort</span></span>  
  
 <span data-ttu-id="ed2c8-198">Pré-condição: None.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-198">Precondition: None.</span></span>  
<span data-ttu-id="ed2c8-199">Pós-condição: O estado está fechado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-199">Post-condition: State is Closed.</span></span> <span data-ttu-id="ed2c8-200">Pode lançar uma exceção.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-200">May throw an exception.</span></span>  
  
 <span data-ttu-id="ed2c8-201">O método Abort () não fará nada se o estado atual for fechado ou se o objeto foi finalizado antes (por exemplo, possivelmente fazendo com que Abort () em execução em outro thread).</span><span class="sxs-lookup"><span data-stu-id="ed2c8-201">The Abort() method does nothing if the current state is Closed or if the object has been terminated before (for example, possibly by having Abort() executing on another thread).</span></span> <span data-ttu-id="ed2c8-202">Caso contrário, ele define o estado de fechamento e chama OnClosing() (que gera o evento de fechamento), OnAbort() e OnClosed() nessa ordem (não chamar OnClose porque o objeto está sendo encerrado, não fechada).</span><span class="sxs-lookup"><span data-stu-id="ed2c8-202">Otherwise it sets the state to Closing and calls OnClosing() (which raises the Closing event), OnAbort(), and OnClosed() in that order (does not call OnClose because the object is being terminated, not closed).</span></span> <span data-ttu-id="ed2c8-203">OnClosed() define o estado para fechado e gera o evento fechado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-203">OnClosed() sets the state to Closed and raises the Closed event.</span></span> <span data-ttu-id="ed2c8-204">Se qualquer uma dessas lançar uma exceção, é lançada novamente para o chamador de anulação.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-204">If any of these throw an exception, it is re-thrown to the caller of Abort.</span></span> <span data-ttu-id="ed2c8-205">Implementações de OnClosing(), OnClosed() e OnAbort() não devem bloquear (por exemplo, na entrada/saída).</span><span class="sxs-lookup"><span data-stu-id="ed2c8-205">Implementations of OnClosing(), OnClosed() and OnAbort() should not block (for example, on input/output).</span></span> <span data-ttu-id="ed2c8-206">O diagrama a seguir mostra o processo de anulação em mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-206">The following diagram shows the Abort process in more detail.</span></span>  
  
 <span data-ttu-id="ed2c8-207">![Alterações de estado](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigure8ico-abortflowchartc.gif "wcfc_WCFChannelsigure8ICO AbortFlowChartc")</span><span class="sxs-lookup"><span data-stu-id="ed2c8-207">![State changes](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigure8ico-abortflowchartc.gif "wcfc_WCFChannelsigure8ICO-AbortFlowChartc")</span></span>  
<span data-ttu-id="ed2c8-208">Substituir o método OnAbort implementar personalizada de término lógica como encerrar um objeto de comunicação interna.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-208">Override the OnAbort method to implement custom terminate logic such as terminating an inner communication object.</span></span>  
  
 <span data-ttu-id="ed2c8-209">Fault</span><span class="sxs-lookup"><span data-stu-id="ed2c8-209">Fault</span></span>  
  
 <span data-ttu-id="ed2c8-210">O método de falhas é específico para <xref:System.ServiceModel.Channels.CommunicationObject> e não fazem parte do <xref:System.ServiceModel.ICommunicationObject> interface.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-210">The Fault method is specific to <xref:System.ServiceModel.Channels.CommunicationObject> and is not part of the <xref:System.ServiceModel.ICommunicationObject> interface.</span></span> <span data-ttu-id="ed2c8-211">Aqui está incluído para fins de integridade.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-211">It is included here for completeness.</span></span>  
  
 <span data-ttu-id="ed2c8-212">Pré-condição: None.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-212">Precondition: None.</span></span>  
  
 <span data-ttu-id="ed2c8-213">Pós-condição: Estado está com defeito.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-213">Post-condition: State is Faulted.</span></span> <span data-ttu-id="ed2c8-214">Pode lançar uma exceção.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-214">May throw an exception.</span></span>  
  
 <span data-ttu-id="ed2c8-215">O método Fault() não fará nada se o estado atual é com falha ou fechado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-215">The Fault() method does nothing if the current state is Faulted or Closed.</span></span> <span data-ttu-id="ed2c8-216">Caso contrário, ele define o estado com falha e chamada OnFaulted(), que gera o evento com falha.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-216">Otherwise it sets the state to Faulted and call OnFaulted(), which raises the Faulted event.</span></span> <span data-ttu-id="ed2c8-217">Se OnFaulted lança uma exceção é lançada novamente.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-217">If OnFaulted throws an exception it is re-thrown.</span></span>  
  
### <a name="throwifxxx-methods"></a><span data-ttu-id="ed2c8-218">Métodos de ThrowIfXxx</span><span class="sxs-lookup"><span data-stu-id="ed2c8-218">ThrowIfXxx Methods</span></span>  
 <span data-ttu-id="ed2c8-219">CommunicationObject tem três métodos protegidos que podem ser usados para gerar exceções se o objeto está em um estado específico.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-219">CommunicationObject has three protected methods that can be used to throw exceptions if the object is in a specific state.</span></span>  
  
 <span data-ttu-id="ed2c8-220"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposed%2A>gera uma exceção se o estado for fechamento, fechado ou com falha.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-220"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposed%2A> throws an exception if the state is Closing, Closed or Faulted.</span></span>  
  
 <span data-ttu-id="ed2c8-221"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrImmutable%2A>gera uma exceção se o estado não é criado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-221"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrImmutable%2A> throws an exception if the state is not Created.</span></span>  
  
 <span data-ttu-id="ed2c8-222"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrNotOpen%2A>gera uma exceção se o estado não estiver aberto.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-222"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrNotOpen%2A> throws an exception if the state is not Opened.</span></span>  
  
 <span data-ttu-id="ed2c8-223">As exceções geradas dependem do estado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-223">The exceptions thrown depend on the state.</span></span> <span data-ttu-id="ed2c8-224">A tabela a seguir mostra os diferentes estados e o tipo correspondente do exceção gerada ao chamar um ThrowIfXxx que lança nesse estado.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-224">The following table shows the different states and the corresponding exception type thrown by calling a ThrowIfXxx that throws on that state.</span></span>  
  
|<span data-ttu-id="ed2c8-225">Estado</span><span class="sxs-lookup"><span data-stu-id="ed2c8-225">State</span></span>|<span data-ttu-id="ed2c8-226">Anular foi chamada?</span><span class="sxs-lookup"><span data-stu-id="ed2c8-226">Has Abort been called?</span></span>|<span data-ttu-id="ed2c8-227">Exceção</span><span class="sxs-lookup"><span data-stu-id="ed2c8-227">Exception</span></span>|  
|-----------|----------------------------|---------------|  
|<span data-ttu-id="ed2c8-228">Criado</span><span class="sxs-lookup"><span data-stu-id="ed2c8-228">Created</span></span>|<span data-ttu-id="ed2c8-229">N/D</span><span class="sxs-lookup"><span data-stu-id="ed2c8-229">N/A</span></span>|<xref:System.InvalidOperationException?displayProperty=nameWithType>|  
|<span data-ttu-id="ed2c8-230">Abertura</span><span class="sxs-lookup"><span data-stu-id="ed2c8-230">Opening</span></span>|<span data-ttu-id="ed2c8-231">N/D</span><span class="sxs-lookup"><span data-stu-id="ed2c8-231">N/A</span></span>|<xref:System.InvalidOperationException?displayProperty=nameWithType>|  
|<span data-ttu-id="ed2c8-232">Aberto</span><span class="sxs-lookup"><span data-stu-id="ed2c8-232">Opened</span></span>|<span data-ttu-id="ed2c8-233">N/D</span><span class="sxs-lookup"><span data-stu-id="ed2c8-233">N/A</span></span>|<xref:System.InvalidOperationException?displayProperty=nameWithType>|  
|<span data-ttu-id="ed2c8-234">Fechando</span><span class="sxs-lookup"><span data-stu-id="ed2c8-234">Closing</span></span>|<span data-ttu-id="ed2c8-235">Sim</span><span class="sxs-lookup"><span data-stu-id="ed2c8-235">Yes</span></span>|<xref:System.ServiceModel.CommunicationObjectAbortedException?displayProperty=nameWithType>|  
|<span data-ttu-id="ed2c8-236">Fechando</span><span class="sxs-lookup"><span data-stu-id="ed2c8-236">Closing</span></span>|<span data-ttu-id="ed2c8-237">Não</span><span class="sxs-lookup"><span data-stu-id="ed2c8-237">No</span></span>|<xref:System.ObjectDisposedException?displayProperty=nameWithType>|  
|<span data-ttu-id="ed2c8-238">Closed</span><span class="sxs-lookup"><span data-stu-id="ed2c8-238">Closed</span></span>|<span data-ttu-id="ed2c8-239">Sim</span><span class="sxs-lookup"><span data-stu-id="ed2c8-239">Yes</span></span>|<span data-ttu-id="ed2c8-240"><xref:System.ServiceModel.CommunicationObjectAbortedException?displayProperty=nameWithType>no caso de que um objeto foi fechado por uma chamada anterior e explícita de anulação.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-240"><xref:System.ServiceModel.CommunicationObjectAbortedException?displayProperty=nameWithType> in the case that an object was closed by a previous and explicit call of Abort.</span></span> <span data-ttu-id="ed2c8-241">Se você chamar Fechar no objeto e um <xref:System.ObjectDisposedException?displayProperty=nameWithType> é gerada.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-241">If you call Close on the object then an <xref:System.ObjectDisposedException?displayProperty=nameWithType> is thrown.</span></span>|  
|<span data-ttu-id="ed2c8-242">Closed</span><span class="sxs-lookup"><span data-stu-id="ed2c8-242">Closed</span></span>|<span data-ttu-id="ed2c8-243">Não</span><span class="sxs-lookup"><span data-stu-id="ed2c8-243">No</span></span>|<xref:System.ObjectDisposedException?displayProperty=nameWithType>|  
|<span data-ttu-id="ed2c8-244">Com defeito</span><span class="sxs-lookup"><span data-stu-id="ed2c8-244">Faulted</span></span>|<span data-ttu-id="ed2c8-245">N/D</span><span class="sxs-lookup"><span data-stu-id="ed2c8-245">N/A</span></span>|<xref:System.ServiceModel.CommunicationObjectFaultedException?displayProperty=nameWithType>|  
  
### <a name="timeouts"></a><span data-ttu-id="ed2c8-246">Tempos limite</span><span class="sxs-lookup"><span data-stu-id="ed2c8-246">Timeouts</span></span>  
 <span data-ttu-id="ed2c8-247">Vários métodos que discutimos usam parâmetros de tempo limite.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-247">Several of the methods we discussed take timeout parameters.</span></span> <span data-ttu-id="ed2c8-248">Estes são fechar, Open (determinadas sobrecargas e versões assíncronas), OnClose AoAbrir.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-248">These are Close, Open (certain overloads and asynchronous versions), OnClose and OnOpen.</span></span> <span data-ttu-id="ed2c8-249">Esses métodos são projetados para permitir operações longas (por exemplo, bloqueando a entrada/saída ao fechar uma conexão normalmente) para o parâmetro timeout indica por quanto tempo essas operações podem levar antes que está sendo interrompida.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-249">These methods are designed to allow for lengthy operations (for example, blocking on input/output while gracefully closing down a connection) so the timeout parameter indicates how long such operations can take before being interrupted.</span></span> <span data-ttu-id="ed2c8-250">Implementações de qualquer um desses métodos devem usar o valor de tempo limite fornecido para garantir que ele retorna ao chamador dentro desse limite.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-250">Implementations of any of these methods should use the supplied timeout value to ensure it returns to the caller within that timeout.</span></span> <span data-ttu-id="ed2c8-251">Implementações de outros métodos que não têm um tempo limite não são projetadas para operações demoradas e não devem bloquear na entrada e saída.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-251">Implementations of other methods that do not take a timeout are not designed for lengthy operations and should not block on input/output.</span></span>  
  
 <span data-ttu-id="ed2c8-252">A exceção são as sobrecargas de Open () e Close () que não têm um tempo limite.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-252">The exception are the Open() and Close() overloads that do not take a timeout.</span></span> <span data-ttu-id="ed2c8-253">Esses usam um valor de tempo limite padrão fornecido pela classe derivada.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-253">These use a default timeout value supplied by the derived class.</span></span> <span data-ttu-id="ed2c8-254"><xref:System.ServiceModel.Channels.CommunicationObject>expõe dois protegido propriedades abstratas denominadas <xref:System.ServiceModel.Channels.CommunicationObject.DefaultCloseTimeout%2A> e <xref:System.ServiceModel.Channels.CommunicationObject.DefaultOpenTimeout%2A> definido como:</span><span class="sxs-lookup"><span data-stu-id="ed2c8-254"><xref:System.ServiceModel.Channels.CommunicationObject> exposes two protected abstract properties named <xref:System.ServiceModel.Channels.CommunicationObject.DefaultCloseTimeout%2A> and <xref:System.ServiceModel.Channels.CommunicationObject.DefaultOpenTimeout%2A> defined as:</span></span>  
  
 `protected abstract TimeSpan DefaultCloseTimeout { get; }`  
  
 `protected abstract TimeSpan DefaultOpenTimeout { get; }`  
  
 <span data-ttu-id="ed2c8-255">Uma classe derivada implementa essas propriedades para fornecer o tempo limite padrão para as sobrecargas de Open () e Close () que não têm um valor de tempo limite.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-255">A derived class implements these properties to provide the default timeout for the Open() and Close() overloads that do not take a timeout value.</span></span> <span data-ttu-id="ed2c8-256">Em seguida, as implementações de Open () e Close () deleguem para a sobrecarga que usa um tempo limite de passar o valor de tempo limite padrão, por exemplo:</span><span class="sxs-lookup"><span data-stu-id="ed2c8-256">Then the Open() and Close() implementations delegate to the overload that takes a timeout passing it the default timeout value, for example:</span></span>  
  
 `public void Open()`  
  
 `{`  
  
 `this.Open(this.DefaultOpenTimeout);`  
  
 `}`  
  
#### <a name="idefaultcommunicationtimeouts"></a><span data-ttu-id="ed2c8-257">IDefaultCommunicationTimeouts</span><span class="sxs-lookup"><span data-stu-id="ed2c8-257">IDefaultCommunicationTimeouts</span></span>  
 <span data-ttu-id="ed2c8-258">Essa interface possui quatro propriedades somente leitura para fornecer padrão valores de tempo limite para abrir, enviar, receber e fechar.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-258">This interface has four read-only properties for providing default timeout values for open, send, receive, and close.</span></span> <span data-ttu-id="ed2c8-259">Cada implementação é responsável por obter os valores padrão de qualquer maneira apropriada.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-259">Each implementation is responsible for obtaining the default values in whatever manner appropriate.</span></span> <span data-ttu-id="ed2c8-260">Como uma conveniência, <xref:System.ServiceModel.Channels.ChannelFactoryBase> e <xref:System.ServiceModel.Channels.ChannelListenerBase> padrão esses valores como 1 minuto.</span><span class="sxs-lookup"><span data-stu-id="ed2c8-260">As a convenience, <xref:System.ServiceModel.Channels.ChannelFactoryBase> and <xref:System.ServiceModel.Channels.ChannelListenerBase> default these values to 1 minute each.</span></span>
