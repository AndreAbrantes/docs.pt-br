---
title: Noções básicas de código de cliente gerado
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: c3f6e4b0-1131-4c94-aa39-a197c5c2f2ca
ms.openlocfilehash: 6bc921355e54023ead3a308a7877ab609f868221
ms.sourcegitcommit: 68653db98c5ea7744fd438710248935f70020dfb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/22/2019
ms.locfileid: "69968619"
---
# <a name="understanding-generated-client-code"></a><span data-ttu-id="e5686-102">Noções básicas de código de cliente gerado</span><span class="sxs-lookup"><span data-stu-id="e5686-102">Understanding Generated Client Code</span></span>
<span data-ttu-id="e5686-103">A [ferramenta de utilitário de metadados ServiceModel (svcutil. exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) gera o código do cliente e um arquivo de configuração de aplicativo cliente para uso na criação de aplicativos cliente.</span><span class="sxs-lookup"><span data-stu-id="e5686-103">The [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) generates client code and a client application configuration file for use in building client applications.</span></span> <span data-ttu-id="e5686-104">Este tópico fornece um tour pelos exemplos de código gerados para cenários de contrato de serviço padrão.</span><span class="sxs-lookup"><span data-stu-id="e5686-104">This topic provides a tour of generated code examples for standard service contract scenarios.</span></span> <span data-ttu-id="e5686-105">Para obter mais informações sobre como criar um aplicativo cliente usando o código gerado, consulte [visão geral do cliente WCF](../../../../docs/framework/wcf/wcf-client-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e5686-105">For more information about building a client application using the generated code, see [WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md).</span></span>  
  
## <a name="overview"></a><span data-ttu-id="e5686-106">Visão geral</span><span class="sxs-lookup"><span data-stu-id="e5686-106">Overview</span></span>  
 <span data-ttu-id="e5686-107">Se você usar o Visual Studio para gerar tipos de cliente Windows Communication Foundation (WCF) para seu projeto, normalmente não será necessário examinar o código do cliente gerado.</span><span class="sxs-lookup"><span data-stu-id="e5686-107">If you use Visual Studio to generate Windows Communication Foundation (WCF) client types for your project, you typically do not need to examine the generated client code.</span></span> <span data-ttu-id="e5686-108">Se você não estiver usando um ambiente de desenvolvimento que execute os mesmos serviços para você, poderá usar uma ferramenta como SvcUtil. exe para gerar o código do cliente e, em seguida, usar esse código para desenvolver seu aplicativo cliente.</span><span class="sxs-lookup"><span data-stu-id="e5686-108">If you are not using a development environment that performs the same services for you, you can use a tool such as Svcutil.exe to generate client code and then use that code to develop your client application.</span></span>  
  
 <span data-ttu-id="e5686-109">Como SvcUtil. exe tem várias opções que modificam as informações de tipo geradas, este tópico não aborda todos os cenários.</span><span class="sxs-lookup"><span data-stu-id="e5686-109">Because Svcutil.exe has a number of options that modify the generated type information, this topic does not discuss all scenarios.</span></span> <span data-ttu-id="e5686-110">No entanto, as seguintes tarefas padrão envolvem a localização de código gerado:</span><span class="sxs-lookup"><span data-stu-id="e5686-110">However, the following standard tasks involve locating generated code:</span></span>  
  
- <span data-ttu-id="e5686-111">Identificando as interfaces do contrato de serviço.</span><span class="sxs-lookup"><span data-stu-id="e5686-111">Identifying service contract interfaces.</span></span>  
  
- <span data-ttu-id="e5686-112">Identificação da classe de cliente WCF.</span><span class="sxs-lookup"><span data-stu-id="e5686-112">Identifying the WCF client class.</span></span>  
  
- <span data-ttu-id="e5686-113">Identificando tipos de dados.</span><span class="sxs-lookup"><span data-stu-id="e5686-113">Identifying data types.</span></span>  
  
- <span data-ttu-id="e5686-114">Identificação de contratos de retorno de chamada para serviços duplex.</span><span class="sxs-lookup"><span data-stu-id="e5686-114">Identifying callback contracts for duplex services.</span></span>  
  
- <span data-ttu-id="e5686-115">Identificação da interface do canal do contrato do serviço auxiliar.</span><span class="sxs-lookup"><span data-stu-id="e5686-115">Identifying the helper service contract channel interface.</span></span>  
  
### <a name="finding-service-contract-interfaces"></a><span data-ttu-id="e5686-116">Localizando interfaces de contrato de serviço</span><span class="sxs-lookup"><span data-stu-id="e5686-116">Finding Service Contract Interfaces</span></span>  
 <span data-ttu-id="e5686-117">Para localizar as interfaces que modelam os contratos de serviço, pesquise as interfaces que <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType> estão marcadas com o atributo.</span><span class="sxs-lookup"><span data-stu-id="e5686-117">To locate the interfaces that model service contracts, search for interfaces that are marked with the <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType> attribute.</span></span> <span data-ttu-id="e5686-118">Geralmente, esse atributo pode ser difícil de localizar com uma leitura rápida devido à presença de outros atributos e às propriedades explícitas definidas no próprio atributo.</span><span class="sxs-lookup"><span data-stu-id="e5686-118">Often this attribute can be difficult to locate with a quick read due to the presence of other attributes and the explicit properties set on the attribute itself.</span></span> <span data-ttu-id="e5686-119">Lembre-se de que a interface do contrato de serviço e a interface de contrato do cliente são dois tipos diferentes.</span><span class="sxs-lookup"><span data-stu-id="e5686-119">Remember that the service contract interface and the client contract interface are two different types.</span></span> <span data-ttu-id="e5686-120">O exemplo de código a seguir mostra o contrato de serviço original.</span><span class="sxs-lookup"><span data-stu-id="e5686-120">The following code example shows the original service contract.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#22](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#22)]  
  
 <span data-ttu-id="e5686-121">O exemplo de código a seguir mostra o mesmo contrato de serviço gerado por svcutil. exe.</span><span class="sxs-lookup"><span data-stu-id="e5686-121">The following code example shows the same service contract as generated by Svcutil.exe.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#12)]  
  
 <span data-ttu-id="e5686-122">Você pode usar a interface do contrato de serviço gerada junto <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType> com a classe para criar um objeto de canal do WCF com o qual invocar operações de serviço.</span><span class="sxs-lookup"><span data-stu-id="e5686-122">You can use the generated service contract interface along with the <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType> class to create a WCF channel object with which to invoke service operations.</span></span> <span data-ttu-id="e5686-123">Para obter mais informações, confira [Como: Use a ChannelFactory](../../../../docs/framework/wcf/feature-details/how-to-use-the-channelfactory.md).</span><span class="sxs-lookup"><span data-stu-id="e5686-123">For more information, see [How to: Use the ChannelFactory](../../../../docs/framework/wcf/feature-details/how-to-use-the-channelfactory.md).</span></span>  
  
### <a name="finding-wcf-client-classes"></a><span data-ttu-id="e5686-124">Localizando classes de cliente WCF</span><span class="sxs-lookup"><span data-stu-id="e5686-124">Finding WCF Client Classes</span></span>  
 <span data-ttu-id="e5686-125">Para localizar a classe de cliente WCF que implementa o contrato de serviço que você deseja usar, pesquise por uma <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType>extensão do, em que o parâmetro de tipo é a interface de contrato de serviço que você localizou anteriormente e que estende essa interface.</span><span class="sxs-lookup"><span data-stu-id="e5686-125">To locate the WCF client class that implements the service contract you want to use, search for an extension of <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType>, where the type parameter is the service contract interface that you previously located and that extends that interface.</span></span> <span data-ttu-id="e5686-126">O exemplo de código a seguir <xref:System.ServiceModel.ClientBase%601> mostra a classe `ISampleService`do tipo.</span><span class="sxs-lookup"><span data-stu-id="e5686-126">The following code example shows the <xref:System.ServiceModel.ClientBase%601> class of type `ISampleService`.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#14](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#14)]  
  
 <span data-ttu-id="e5686-127">Você pode usar essa classe de cliente WCF criando uma nova instância dela e chamando os métodos que ela implementa.</span><span class="sxs-lookup"><span data-stu-id="e5686-127">You can use this WCF client class by creating a new instance of it and calling the methods it implements.</span></span> <span data-ttu-id="e5686-128">Esses métodos invocam a operação de serviço com a qual ele foi projetado e configurado para interagir.</span><span class="sxs-lookup"><span data-stu-id="e5686-128">Those methods invoke the service operation with which it is designed and configured to interact.</span></span> <span data-ttu-id="e5686-129">Para obter mais informações, consulte [visão geral do cliente WCF](../../../../docs/framework/wcf/wcf-client-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e5686-129">For more information, see [WCF Client Overview](../../../../docs/framework/wcf/wcf-client-overview.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="e5686-130">Quando SvcUtil. exe gera uma classe de cliente WCF, ele adiciona <xref:System.Diagnostics.DebuggerStepThroughAttribute> um à classe de cliente que impede que os depuradores percorram a classe WCF Client.</span><span class="sxs-lookup"><span data-stu-id="e5686-130">When SvcUtil.exe generates a WCF client class, it adds a <xref:System.Diagnostics.DebuggerStepThroughAttribute> to the client class that prevents debuggers from stepping through the WCF client class.</span></span>  
  
### <a name="finding-data-types"></a><span data-ttu-id="e5686-131">Localizando tipos de dados</span><span class="sxs-lookup"><span data-stu-id="e5686-131">Finding Data Types</span></span>  
 <span data-ttu-id="e5686-132">Para localizar tipos de dados no código gerado, o mecanismo mais básico é identificar o nome de tipo especificado em um contrato e pesquisar o código para essa declaração de tipo.</span><span class="sxs-lookup"><span data-stu-id="e5686-132">To locate data types in the generated code, the most basic mechanism is to identify the type name specified in a contract and search the code for that type declaration.</span></span> <span data-ttu-id="e5686-133">Por exemplo, o contrato a seguir especifica que `SampleMethod` o pode retornar uma falha SOAP do `microsoft.wcf.documentation.SampleFault`tipo.</span><span class="sxs-lookup"><span data-stu-id="e5686-133">For example, the following contract specifies that the `SampleMethod` can return a SOAP fault of type `microsoft.wcf.documentation.SampleFault`.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#11](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#11)]  
  
 <span data-ttu-id="e5686-134">`SampleFault` Procurar localiza a seguinte declaração de tipo.</span><span class="sxs-lookup"><span data-stu-id="e5686-134">Searching for `SampleFault` locates the following type declaration.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#30](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#30)]  
  
 <span data-ttu-id="e5686-135">Nesse caso, o tipo de dados é o tipo de detalhe lançado por uma exceção específica no cliente, <xref:System.ServiceModel.FaultException%601> um onde o parâmetro de tipo `microsoft.wcf.documentation.SampleFault`de detalhe é.</span><span class="sxs-lookup"><span data-stu-id="e5686-135">In this case the data type is the detail type thrown by a specific exception on the client, a <xref:System.ServiceModel.FaultException%601> where the detail type parameter is `microsoft.wcf.documentation.SampleFault`.</span></span> <span data-ttu-id="e5686-136">Para obter mais informações sobre tipos de dados, consulte [especificando transferência de dados em contratos de serviço](../../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="e5686-136">For more information about data types, see [Specifying Data Transfer in Service Contracts](../../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md).</span></span> <span data-ttu-id="e5686-137">Para obter mais informações sobre como lidar com exceções em clientes, consulte [envio e recebimento de falhas](../../../../docs/framework/wcf/sending-and-receiving-faults.md).</span><span class="sxs-lookup"><span data-stu-id="e5686-137">For more information about handling exceptions in clients, see [Sending and Receiving Faults](../../../../docs/framework/wcf/sending-and-receiving-faults.md).</span></span>  
  
### <a name="finding-callback-contracts-for-duplex-services"></a><span data-ttu-id="e5686-138">Localizando contratos de retorno de chamada para serviços duplex</span><span class="sxs-lookup"><span data-stu-id="e5686-138">Finding Callback Contracts for Duplex Services</span></span>  
 <span data-ttu-id="e5686-139">Se você localizar um contrato de serviço para o qual a interface de contrato especifica um <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A?displayProperty=nameWithType> valor para a propriedade, esse contrato especificará um contrato duplex.</span><span class="sxs-lookup"><span data-stu-id="e5686-139">If you locate a service contract for which the contract interface specifies a value for the <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A?displayProperty=nameWithType> property, then that contract specifies a duplex contract.</span></span> <span data-ttu-id="e5686-140">Os contratos duplex exigem que o aplicativo cliente crie uma classe de retorno de chamada que implemente o contrato de retorno de chamada e <xref:System.ServiceModel.DuplexClientBase%601?displayProperty=nameWithType> transmita uma instância dessa classe para a ou <xref:System.ServiceModel.DuplexChannelFactory%601?displayProperty=nameWithType> usada para se comunicar com o serviço.</span><span class="sxs-lookup"><span data-stu-id="e5686-140">Duplex contracts require the client application to create a callback class that implements the callback contract and pass an instance of that class to the <xref:System.ServiceModel.DuplexClientBase%601?displayProperty=nameWithType> or <xref:System.ServiceModel.DuplexChannelFactory%601?displayProperty=nameWithType> used to communicate with the service.</span></span> <span data-ttu-id="e5686-141">Para obter mais informações sobre clientes duplex, [consulte Como: Acesse os serviços com um](../../../../docs/framework/wcf/feature-details/how-to-access-services-with-a-duplex-contract.md)contrato duplex.</span><span class="sxs-lookup"><span data-stu-id="e5686-141">For more information about duplex clients, see [How to: Access Services with a Duplex Contract](../../../../docs/framework/wcf/feature-details/how-to-access-services-with-a-duplex-contract.md).</span></span>  
  
 <span data-ttu-id="e5686-142">O contrato a seguir especifica um contrato de retorno `SampleDuplexHelloCallback`de chamada do tipo.</span><span class="sxs-lookup"><span data-stu-id="e5686-142">The following contract specifies a callback contract of type `SampleDuplexHelloCallback`.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/duplexproxycode.cs#2)]
 [!code-vb[C_GeneratedCodeFiles#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_generatedcodefiles/vb/duplexproxycode.vb#2)]  
  
 <span data-ttu-id="e5686-143">Pesquisar esse contrato de retorno de chamada localiza a seguinte interface que o aplicativo cliente deve implementar.</span><span class="sxs-lookup"><span data-stu-id="e5686-143">Searching for that callback contract locates the following interface that the client application must implement.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/duplexproxycode.cs#4)]
 [!code-vb[C_GeneratedCodeFiles#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_generatedcodefiles/vb/duplexproxycode.vb#4)]  
  
### <a name="finding-service-contract-channel-interfaces"></a><span data-ttu-id="e5686-144">Localizando interfaces de canal do contrato de serviço</span><span class="sxs-lookup"><span data-stu-id="e5686-144">Finding Service Contract Channel Interfaces</span></span>  
 <span data-ttu-id="e5686-145">Ao usar a <xref:System.ServiceModel.ChannelFactory> classe com uma interface de contrato de serviço, você deve converter <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> na interface para abrir, fechar ou abortar o canal explicitamente.</span><span class="sxs-lookup"><span data-stu-id="e5686-145">When using the <xref:System.ServiceModel.ChannelFactory> class with a service contract interface, you must cast to the <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> interface to explicitly open, close, or abort the channel.</span></span> <span data-ttu-id="e5686-146">Para facilitar o trabalho com o, a ferramenta svcutil. exe também gera uma interface auxiliar que implementa a interface do contrato de serviço e <xref:System.ServiceModel.IClientChannel> para permitir que você interaja com a infraestrutura de canal do cliente sem precisar fazer a conversão.</span><span class="sxs-lookup"><span data-stu-id="e5686-146">To make it easier to work with, the Svcutil.exe tool also generates a helper interface that implements both the service contract interface and <xref:System.ServiceModel.IClientChannel> to enable you to interact with the client channel infrastructure without having to cast.</span></span> <span data-ttu-id="e5686-147">O código a seguir mostra a definição de um canal cliente auxiliar que implementa o contrato de serviço anterior.</span><span class="sxs-lookup"><span data-stu-id="e5686-147">The following code shows the definition of a helper client channel that implements the preceding service contract.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#13)]  
  
## <a name="see-also"></a><span data-ttu-id="e5686-148">Consulte também</span><span class="sxs-lookup"><span data-stu-id="e5686-148">See also</span></span>

- [<span data-ttu-id="e5686-149">Visão geral do cliente do WCF</span><span class="sxs-lookup"><span data-stu-id="e5686-149">WCF Client Overview</span></span>](../../../../docs/framework/wcf/wcf-client-overview.md)
