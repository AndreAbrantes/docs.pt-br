---
title: Criando serviços do WCF para o AJAX ASP.NET
ms.date: 03/30/2017
ms.assetid: 04c0402c-e617-4ba5-aedf-d17692234776
ms.openlocfilehash: d6d00b5b8839d519ffa3609eafffd4b086689449
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/23/2019
ms.locfileid: "54613497"
---
# <a name="creating-wcf-services-for-aspnet-ajax"></a><span data-ttu-id="a5cd1-102">Criando serviços do WCF para o AJAX ASP.NET</span><span class="sxs-lookup"><span data-stu-id="a5cd1-102">Creating WCF Services for ASP.NET AJAX</span></span>
<span data-ttu-id="a5cd1-103">Microsoft ASP.NET AJAX permite que você rapidamente crie páginas da Web que incluem uma experiência de usuário com elementos de interface do usuário familiares.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-103">Microsoft ASP.NET AJAX enables you to quickly create Web pages that include a rich user experience with responsive and familiar user interface elements.</span></span> <span data-ttu-id="a5cd1-104">O ASP.NET AJAX fornece bibliotecas de script de cliente que incorporam navegadores ECMAScript (JavaScript) e tecnologias dinâmicas do DHTML (HTML) e ele se integra-los com a plataforma de desenvolvimento baseada em servidor do ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-104">ASP.NET AJAX provides client-script libraries that incorporate cross-browser ECMAScript (JavaScript) and dynamic HTML (DHTML) technologies, and it integrates them with the ASP.NET 2.0 server-based development platform.</span></span> <span data-ttu-id="a5cd1-105">Usando o ASP.NET AJAX, você pode melhorar a experiência do usuário e a eficiência de seus aplicativos Web.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-105">By using ASP.NET AJAX, you can improve the user experience and the efficiency of your Web applications.</span></span>  
  
 <span data-ttu-id="a5cd1-106">ASP.NET AJAX consiste em bibliotecas de script de cliente e de componentes de servidor que são integradas para fornecer uma estrutura de desenvolvimento robusto.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-106">ASP.NET AJAX consists of client-script libraries and of server components that are integrated to provide a robust development framework.</span></span> <span data-ttu-id="a5cd1-107">Para acessar um serviço em uma página ASP.NET: depois que a URL do serviço é adicionada ao controle na página do Gerenciador de Script do ASP.NET, operações de serviço podem ser invocadas usando código JavaScript que se parece exatamente com uma chamada de função JavaScript regular.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-107">To access a service from an ASP.NET page: once the service URL is added to the ASP.NET Script Manager control on the page, service operations may be invoked using JavaScript code that looks exactly like a regular JavaScript function call.</span></span> <span data-ttu-id="a5cd1-108">Ver [aprender ASP.NET AJAX](https://go.microsoft.com/fwlink/?LinkId=186475) sobre o uso de serviços da Web dentro da estrutura do AJAX.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-108">See [Learn ASP.NET AJAX](https://go.microsoft.com/fwlink/?LinkId=186475) about the use of Web services within the AJAX framework.</span></span>  
  
 <span data-ttu-id="a5cd1-109">A maioria dos serviços do Windows Communication Foundation (WCF) pode ser exposta como um serviço compatível com o ASP.NET AJAX, adicionando um ponto de extremidade apropriado do ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-109">Most Windows Communication Foundation (WCF) services may be exposed as a service compatible with ASP.NET AJAX by adding an appropriate ASP.NET AJAX endpoint.</span></span>  
  
 <span data-ttu-id="a5cd1-110">Se você estiver usando o Visual Studio, você pode usar um modelo criado previamente para os serviços WCF habilitados para AJAX, disponíveis na **Adicionar Novo Item** caixa de diálogo ao trabalhar com Sites da Web ASP.NET ou aplicativos da Web.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-110">If you are using Visual Studio, you may use a pre-built template for AJAX-enabled WCF services, available in the **Add New Item** dialog when working with ASP.NET Web Sites or Web Applications.</span></span>  
  
 <span data-ttu-id="a5cd1-111">Se você não estiver usando modelos do Visual Studio, há duas maneiras de criar um ponto de extremidade do ASP.NET AJAX:</span><span class="sxs-lookup"><span data-stu-id="a5cd1-111">If you are not using the Visual Studio templates, there are two ways to create an ASP.NET AJAX endpoint:</span></span>  
  
-   <span data-ttu-id="a5cd1-112">Crie o ponto de extremidade usando a ativação de host dinâmico sem usar qualquer configuração.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-112">Create the endpoint using dynamic host activation without using any configuration.</span></span> <span data-ttu-id="a5cd1-113">Isso é a abordagem mais básica, se você estiver familiarizado com o sistema de configuração do WCF.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-113">This is the most basic approach if you are unfamiliar with the WCF configuration system.</span></span> <span data-ttu-id="a5cd1-114">Para obter mais informações, confira [Como: Adicionar um ponto de extremidade do ASP.NET AJAX sem utilizar a configuração](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="a5cd1-114">For more information, see [How to: Add an ASP.NET AJAX Endpoint Without Using Configuration](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md).</span></span>  
  
-   <span data-ttu-id="a5cd1-115">Adicione um ponto de extremidade habilitados para AJAX a um serviço WCF usando a configuração.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-115">Add an AJAX-enabled endpoint to a WCF service using configuration.</span></span> <span data-ttu-id="a5cd1-116">Para obter mais informações, confira [Como: Usar a configuração para adicionar um ponto de extremidade do ASP.NET AJAX](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md).</span><span class="sxs-lookup"><span data-stu-id="a5cd1-116">For more information, see [How to: Use Configuration to Add an ASP.NET AJAX Endpoint](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md).</span></span>  
  
 <span data-ttu-id="a5cd1-117">O modelo de programação Web descrito o [WCF Web HTTP de programação visão geral do modelo](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model-overview.md) podem ser usadas com os serviços ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-117">The Web Programming Model described in the [WCF Web HTTP Programming Model Overview](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model-overview.md) may be used with ASP.NET AJAX services.</span></span> <span data-ttu-id="a5cd1-118">Especificamente:</span><span class="sxs-lookup"><span data-stu-id="a5cd1-118">Specifically:</span></span>  
  
-   <span data-ttu-id="a5cd1-119">Você pode usar o <xref:System.ServiceModel.Web.WebGetAttribute> e <xref:System.ServiceModel.Web.WebInvokeAttribute> atributos para selecionar entre verbos HTTP GET e HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-119">You can use the <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes to select between HTTP GET and HTTP POST verbs.</span></span> <span data-ttu-id="a5cd1-120">Se usados corretamente, isso pode melhorar significativamente o desempenho do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-120">If used correctly, this may significantly improve your application’s performance.</span></span> <span data-ttu-id="a5cd1-121">Para obter mais informações, confira [Como: Escolha entre HTTP POST e HTTP GET solicitações para pontos de extremidade do ASP.NET AJAX](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md).</span><span class="sxs-lookup"><span data-stu-id="a5cd1-121">For more information, see [How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md).</span></span>  
  
-   <span data-ttu-id="a5cd1-122">Você pode usar o <xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A> e <xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A> propriedades para fazer com que seu serviço retornar dados XML em vez do padrão objeto notação JSON (JavaScript).</span><span class="sxs-lookup"><span data-stu-id="a5cd1-122">You can use the <xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A> and <xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A> properties to cause your service to return XML data instead of the default JavaScript Object Notation (JSON).</span></span> <span data-ttu-id="a5cd1-123">Fazendo isso com a estrutura ASP.NET AJAX faz com que o cliente JavaScript receber um objeto XML DOM.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-123">Doing this with the ASP.NET AJAX framework causes the JavaScript client to receive an XML DOM object.</span></span>  
  
    > [!WARNING]
    >  <span data-ttu-id="a5cd1-124">A operação deve definir o tipo de conteúdo como texto/xml para este trabalho.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-124">Your operation must set the content type to text/xml for this to work.</span></span> <span data-ttu-id="a5cd1-125">Caso contrário, o cliente JavaScript receberá uma cadeia de caracteres que contém o XML em vez de um objeto XML DOM.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-125">Otherwise, the JavaScript client will receive a string containing the XML instead of an XML DOM object.</span></span>  
  
     <span data-ttu-id="a5cd1-126">Este é um exemplo de uma operação que retorna dados XML com o tipo de conteúdo definido adequadamente:</span><span class="sxs-lookup"><span data-stu-id="a5cd1-126">The following is an example of an operation that returns XML data with the content type set appropriately:</span></span>  
  
    ```  
    [OperationContract, WebGet(ResponseFormat=WebMessageFormat.Xml)]  
    public XElement GetData()  
    {  
    XElement x;  
    //Get some data here...  
  
    WebOperationContext.Current.OutgoingResponse.ContentType = "text/xml";      
    return x;  
    }  
    ```  
  
-   <span data-ttu-id="a5cd1-127">Nenhuma outra propriedade sobre a <xref:System.ServiceModel.Web.WebGetAttribute> e <xref:System.ServiceModel.Web.WebInvokeAttribute> atributos podem ser alterados se a compatibilidade com o ASP.NET AJAX é necessária.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-127">No other properties on the <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes can be changed if compatibility with ASP.NET AJAX is required.</span></span> <span data-ttu-id="a5cd1-128">Outros aspectos do modelo de programação da Web podem ser usados, desde as convenções de chamada do AJAX ASP.NET não sejam violadas.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-128">Other aspects of the Web Programming Model can be used as long as the ASP.NET AJAX calling conventions are not violated.</span></span>  
  
 <span data-ttu-id="a5cd1-129">Cenários mais avançados exigem alguns detalhes adicionais de suporte a AJAX no WCF ser compreendidos:</span><span class="sxs-lookup"><span data-stu-id="a5cd1-129">More advanced scenarios require some additional details of AJAX support in WCF be understood:</span></span>  
  
-   <span data-ttu-id="a5cd1-130">Para entender como os dados são transferidos entre um cliente de página do AJAX e um serviço WCF usando JavaScript e para obter detalhes sobre como os tipos do .NET Framework são mapeados para tipos de JavaScript, consulte [suporte para JSON e outros dados transferir formata](../../../../docs/framework/wcf/feature-details/support-for-json-and-other-data-transfer-formats.md).</span><span class="sxs-lookup"><span data-stu-id="a5cd1-130">To understand how data is transferred between an AJAX page client and a WCF service using JavaScript, and for details on how .NET Framework types map to JavaScript types, see [Support for JSON and Other Data Transfer Formats](../../../../docs/framework/wcf/feature-details/support-for-json-and-other-data-transfer-formats.md).</span></span>  
  
-   <span data-ttu-id="a5cd1-131">Para tirar proveito dos recursos do ASP.NET, por exemplo, autenticação baseada em URL e acessar as informações de sessão do ASP.NET, você talvez queira habilitar o modo de compatibilidade do ASP.NET por meio da configuração.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-131">To take advantage of ASP.NET features, for example, URL-based authentication and accessing the ASP.NET session information, you may want to enable the ASP.NET Compatibility Mode through configuration.</span></span>  
  
 <span data-ttu-id="a5cd1-132">Pontos de extremidade do AJAX no WCF podem ser consumidos até mesmo sem a estrutura ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-132">AJAX endpoints in WCF may even be consumed without the ASP.NET AJAX framework.</span></span> <span data-ttu-id="a5cd1-133">Isso requer uma compreensão da arquitetura do suporte do suporte a AJAX no WCF.</span><span class="sxs-lookup"><span data-stu-id="a5cd1-133">Doing so requires an understanding of the support architecture of AJAX support in WCF.</span></span> <span data-ttu-id="a5cd1-134">Para uma discussão sobre essa arquitetura, consulte [modelo de objeto de programação do WCF Web HTTP](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-object-model.md).</span><span class="sxs-lookup"><span data-stu-id="a5cd1-134">For a discussion of this architecture, see [WCF Web HTTP Programming Object Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-object-model.md).</span></span> <span data-ttu-id="a5cd1-135">Para obter um exemplo de código que demonstra essa abordagem, consulte o [serviço de AJAX com JSON e XML](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md).</span><span class="sxs-lookup"><span data-stu-id="a5cd1-135">For a code sample demonstrating this approach, see the [AJAX Service with JSON and XML](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a5cd1-136">Consulte também</span><span class="sxs-lookup"><span data-stu-id="a5cd1-136">See also</span></span>
- [<span data-ttu-id="a5cd1-137">Modelo de programação HTTP Web do WCF</span><span class="sxs-lookup"><span data-stu-id="a5cd1-137">WCF Web HTTP Programming Model</span></span>](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)
- [<span data-ttu-id="a5cd1-138">Como: Adicionar um ponto de extremidade do ASP.NET AJAX sem utilizar a configuração</span><span class="sxs-lookup"><span data-stu-id="a5cd1-138">How to: Add an ASP.NET AJAX Endpoint Without Using Configuration</span></span>](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md)
- [<span data-ttu-id="a5cd1-139">Como: Usar a configuração para adicionar um ponto de extremidade do ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="a5cd1-139">How to: Use Configuration to Add an ASP.NET AJAX Endpoint</span></span>](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md)
- [<span data-ttu-id="a5cd1-140">Como: Escolha entre HTTP POST e HTTP GET solicitações para pontos de extremidade do ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="a5cd1-140">How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints</span></span>](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md)
