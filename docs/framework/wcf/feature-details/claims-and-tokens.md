---
title: Declarações e tokens
ms.date: 03/30/2017
helpviewer_keywords:
- claims [WCF], and tokens
ms.assetid: eff167f3-33f8-483d-a950-aa3e9f97a189
ms.openlocfilehash: efdfae622a70b1da47fc988a335db3c6491ccbc0
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64645511"
---
# <a name="claims-and-tokens"></a><span data-ttu-id="eb4cd-102">Declarações e tokens</span><span class="sxs-lookup"><span data-stu-id="eb4cd-102">Claims and Tokens</span></span>
<span data-ttu-id="eb4cd-103">Este tópico descreve os vários tipos de declaração que o Windows Communication Foundation (WCF) cria dos tokens padrão que ele dá suporte.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-103">This topic describes the various claim types that Windows Communication Foundation (WCF) creates from the default tokens that it supports.</span></span>  
  
 <span data-ttu-id="eb4cd-104">Você pode examinar as declarações de uma credencial de cliente usando o <xref:System.IdentityModel.Claims.ClaimSet> e <xref:System.IdentityModel.Claims.Claim> classes.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-104">You can examine the claims of a client credential by using the <xref:System.IdentityModel.Claims.ClaimSet> and <xref:System.IdentityModel.Claims.Claim> classes.</span></span> <span data-ttu-id="eb4cd-105">O `ClaimSet` contém uma coleção de `Claim` objetos.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-105">The `ClaimSet` contains a collection of `Claim` objects.</span></span> <span data-ttu-id="eb4cd-106">Cada `Claim` tem os seguintes membros importantes:</span><span class="sxs-lookup"><span data-stu-id="eb4cd-106">Each `Claim` has the following important members:</span></span>  
  
- <span data-ttu-id="eb4cd-107">O <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> propriedade retorna um identificador de URI (Uniform Resource) que especifica o tipo de declaração que estão sendo feita.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-107">The <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> property returns a Uniform Resource Identifier (URI) that specifies the type of claim being made.</span></span> <span data-ttu-id="eb4cd-108">Por exemplo, um tipo de declaração pode ser uma impressão digital de um certificado, nesse caso, o URI é `http://schemas.microsoft.com/ws/20005/05/identity/claims/thumprint`.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-108">For example, a claim type may be a thumbprint of a certificate, in which case the URI is `http://schemas.microsoft.com/ws/20005/05/identity/claims/thumprint`.</span></span>  
  
- <span data-ttu-id="eb4cd-109">O <xref:System.IdentityModel.Claims.Claim.Right%2A> propriedade retorna um URI que especifica o direito da declaração.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-109">The <xref:System.IdentityModel.Claims.Claim.Right%2A> property returns a URI that specifies the right of the claim.</span></span> <span data-ttu-id="eb4cd-110">Direitos predefinidos são encontrados na <xref:System.IdentityModel.Claims.Rights> classe (<xref:System.IdentityModel.Claims.Rights.Identity%2A>, <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>).</span><span class="sxs-lookup"><span data-stu-id="eb4cd-110">Predefined rights are found in the <xref:System.IdentityModel.Claims.Rights> class (<xref:System.IdentityModel.Claims.Rights.Identity%2A>,  <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>).</span></span>  
  
- <span data-ttu-id="eb4cd-111">O <xref:System.IdentityModel.Claims.Claim.Resource%2A> propriedade retorna o recurso associado à declaração.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-111">The <xref:System.IdentityModel.Claims.Claim.Resource%2A> property returns the resource associated with the claim.</span></span>  
  
 <span data-ttu-id="eb4cd-112">Cada <xref:System.IdentityModel.Claims.ClaimSet> também tem um <xref:System.IdentityModel.Claims.ClaimSet.Issuer%2A> propriedade, que representa o <xref:System.IdentityModel.Claims.ClaimSet> da `Issuer`.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-112">Each <xref:System.IdentityModel.Claims.ClaimSet> also has an <xref:System.IdentityModel.Claims.ClaimSet.Issuer%2A> property, which represents the <xref:System.IdentityModel.Claims.ClaimSet> of the `Issuer`.</span></span>  
  
## <a name="windows-accounts"></a><span data-ttu-id="eb4cd-113">Contas do Windows</span><span class="sxs-lookup"><span data-stu-id="eb4cd-113">Windows Accounts</span></span>  
 <span data-ttu-id="eb4cd-114">Em que uma credencial de cliente é mapeado para uma conta de usuário do Windows, resultante <xref:System.IdentityModel.Claims.ClaimSet> tem os seguintes valores:</span><span class="sxs-lookup"><span data-stu-id="eb4cd-114">Where a client credential maps to a Windows user account, the resulting <xref:System.IdentityModel.Claims.ClaimSet> has the following values:</span></span>  
  
- <span data-ttu-id="eb4cd-115">O `Issuer` é o valor retornado pela propriedade estática de Windows do <xref:System.IdentityModel.Claims.ClaimSet> classe.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-115">The `Issuer` is the value returned by the static Windows property of the <xref:System.IdentityModel.Claims.ClaimSet> class.</span></span>  
  
- <span data-ttu-id="eb4cd-116">As declarações na coleção são:</span><span class="sxs-lookup"><span data-stu-id="eb4cd-116">The claims in the collection are:</span></span>  
  
    - <span data-ttu-id="eb4cd-117">Um <xref:System.IdentityModel.Claims.Claim> com um <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> o valor de identificador de segurança (SID), um <xref:System.IdentityModel.Claims.Claim.Right%2A> valor da propriedade `Identity`e um <xref:System.IdentityModel.Claims.Claim.Resource%2A> que retorna o valor real de SID.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-117">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> value of security identifier (SID), a <xref:System.IdentityModel.Claims.Claim.Right%2A> property value of `Identity`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> that returns the actual SID value.</span></span> <span data-ttu-id="eb4cd-118">Um SID é um valor exclusivo que o controlador de domínio emite a cada usuário.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-118">A SID is a unique value the domain controller issues to every user.</span></span> <span data-ttu-id="eb4cd-119">O SID é usado para identificar o usuário em interações com a segurança do Windows.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-119">The SID is used to identify the user in interactions with Windows security.</span></span>  
  
    - <span data-ttu-id="eb4cd-120">Um <xref:System.IdentityModel.Claims.Claim> com um <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> valor do SID, um <xref:System.IdentityModel.Claims.Claim.Right%2A> de `PossessProperty`e um <xref:System.IdentityModel.Claims.Claim.Resource%2A> do valor do SID.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-120">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> value of SID, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `PossessProperty`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> of the SID value.</span></span>  
  
    - <span data-ttu-id="eb4cd-121">Um <xref:System.IdentityModel.Claims.Claim> com um <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> dos <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>, uma <xref:System.IdentityModel.Claims.Claim.Right%2A> de `PossessProperty` e um <xref:System.IdentityModel.Claims.Claim.Resource%2A> da cadeia de caracteres que contém o nome de usuário (por exemplo, "MYMACHINE\Bob").</span><span class="sxs-lookup"><span data-stu-id="eb4cd-121">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> of <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `PossessProperty` and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> of string containing the user name (for example, "MYMACHINE\Bob").</span></span>  
  
    - <span data-ttu-id="eb4cd-122">Declarações de SID adicional com <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> para vários grupos o usuário pertence.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-122">Additional SID claims with <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> for the various groups the user belongs to.</span></span>  
  
## <a name="certificates"></a><span data-ttu-id="eb4cd-123">Certificados</span><span class="sxs-lookup"><span data-stu-id="eb4cd-123">Certificates</span></span>  
 <span data-ttu-id="eb4cd-124">Em que a credencial do cliente é um certificado resultante <xref:System.IdentityModel.Claims.ClaimSet> tem os seguintes valores:</span><span class="sxs-lookup"><span data-stu-id="eb4cd-124">Where the client credential is a certificate, the resulting <xref:System.IdentityModel.Claims.ClaimSet> has the following values:</span></span>  
  
- <span data-ttu-id="eb4cd-125">Para certificados emitidos por conta própria, o `Issuer` é o <xref:System.IdentityModel.Claims.ClaimSet> em si.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-125">For self-issued certificates, the `Issuer` is the <xref:System.IdentityModel.Claims.ClaimSet> itself.</span></span> <span data-ttu-id="eb4cd-126">O <xref:System.IdentityModel.Claims.ClaimSet> retorna um <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> dos <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, uma <xref:System.IdentityModel.Claims.Claim.Right%2A> de `Identity`e uma <xref:System.IdentityModel.Claims.Claim.Resource%2A> valor que é um <xref:System.Byte> matriz que contém a impressão digital do certificado.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-126">The <xref:System.IdentityModel.Claims.ClaimSet> returns a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> of <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `Identity`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> value that is a <xref:System.Byte> array containing the thumbprint of the certificate.</span></span>  
  
- <span data-ttu-id="eb4cd-127">Um certificado emitido por uma autoridade de certificação, o emissor é o `ClaimSet` que representa o certificado da autoridade de certificação.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-127">For a certificate issued by a certification authority, the issuer is the `ClaimSet` representing the certification authority’s certificate.</span></span>  
  
- <span data-ttu-id="eb4cd-128">O `Claims` na coleção incluem:</span><span class="sxs-lookup"><span data-stu-id="eb4cd-128">The `Claims` in the collection include:</span></span>  
  
    - <span data-ttu-id="eb4cd-129">Um `Claim` com um `ClaimType` da impressão digital, um `Right` de PossessProperty e um `Resource` que é uma matriz de bytes que contém a impressão digital do certificado</span><span class="sxs-lookup"><span data-stu-id="eb4cd-129">A `Claim` with a `ClaimType` of Thumbprint, a `Right` of PossessProperty, and a `Resource` that is a byte array containing the thumbprint of the certificate</span></span>  
  
    - <span data-ttu-id="eb4cd-130">Declarações de PossessProperty adicionais de vários tipos, incluindo X500DistinguishedName, Dns, nome, Upn e Rsa, representam várias propriedades do certificado.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-130">Additional PossessProperty claims of various types, including X500DistinguishedName, Dns, Name, Upn, and Rsa, represent various properties of the certificate.</span></span> <span data-ttu-id="eb4cd-131">O recurso para a declaração Rsa é a chave pública associada ao certificado. **Observação** onde o tipo de credencial de cliente é um certificado que o serviço é mapeado para um Windows conta, dois `ClaimSet` objetos são gerados.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-131">The resource for the Rsa claim is the public key associated with the certificate.**Note** Where the client credential type is a certificate that the service maps to a Windows account, two `ClaimSet` objects are generated.</span></span> <span data-ttu-id="eb4cd-132">O primeiro contém todas as declarações relacionadas à conta do Windows e o segundo contém todas as declarações relacionadas ao certificado.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-132">The first contains all the claims related to the Windows account and the second contains all the claims related to the certificate.</span></span>  
  
## <a name="user-namepassword"></a><span data-ttu-id="eb4cd-133">Nome de usuário/senha</span><span class="sxs-lookup"><span data-stu-id="eb4cd-133">User Name/Password</span></span>  
 <span data-ttu-id="eb4cd-134">Em que a credencial do cliente é um nome e senha do usuário (ou equivalente) que não é mapeado para uma conta do Windows, resultante `ClaimSet` é emitida por estático <xref:System.IdentityModel.Claims.ClaimSet.System%2A> propriedade do `ClaimSet` classe.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-134">Where the client credential is a user name/password (or equivalent) that does not map to a Windows account, the resulting `ClaimSet` is issued by the static <xref:System.IdentityModel.Claims.ClaimSet.System%2A> property of the `ClaimSet` class.</span></span> <span data-ttu-id="eb4cd-135">O `ClaimSet` contém uma `Identity` do tipo de declaração <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A> cujo recurso é o nome de usuário do cliente fornece.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-135">The `ClaimSet` contains an `Identity` claim of type <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A> whose resource is the user name the client provides.</span></span> <span data-ttu-id="eb4cd-136">Uma declaração correspondente tem uma `Right` de `PossessProperty`.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-136">A corresponding claim has a `Right` of `PossessProperty`.</span></span>  
  
## <a name="rsa-keys"></a><span data-ttu-id="eb4cd-137">RSA Keys</span><span class="sxs-lookup"><span data-stu-id="eb4cd-137">RSA Keys</span></span>  
 <span data-ttu-id="eb4cd-138">Em uma chave RSA não associada a um certificado é usada, resultante `ClaimSet` é emitido por conta própria e contém um `Identity` do tipo de declaração <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A> cujo recurso é a chave RSA.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-138">Where an RSA key not associated with a certificate is used, the resulting `ClaimSet` is self-issued and contains an `Identity` claim of type <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A> whose resource is the RSA key.</span></span> <span data-ttu-id="eb4cd-139">Uma declaração correspondente tem uma `Right` de `PossessProperty`.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-139">A corresponding claim has a `Right` of `PossessProperty`.</span></span>  
  
## <a name="saml"></a><span data-ttu-id="eb4cd-140">SAML</span><span class="sxs-lookup"><span data-stu-id="eb4cd-140">SAML</span></span>  
 <span data-ttu-id="eb4cd-141">Em que o cliente autentica com um token de declarações marcação linguagem SAML (Security) resultante `ClaimSet` é emitida pela entidade que assinou o token SAML, geralmente o certificado do serviço de token de segurança (STS) que emitiu o token SAML.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-141">Where the client authenticates with a Security Assertions Markup Language (SAML) token, the resulting `ClaimSet` is issued by the entity that signed the SAML token, often the certificate of the security token service (STS) that issued the SAML token.</span></span> <span data-ttu-id="eb4cd-142">O `ClaimSet` contém várias declarações como encontrado no token SAML.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-142">The `ClaimSet` contains various claims as found in the SAML token.</span></span> <span data-ttu-id="eb4cd-143">Se o token SAML contém um `SamlSubject` com um não -`null` nome, então um `Identity` declaração com um tipo de <xref:System.IdentityModel.Claims.ClaimTypes.NameIdentifier%2A> e um tipo de recurso de <xref:System.IdentityModel.Tokens.SamlNameIdentifierClaimResource> são criados.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-143">If the SAML token contains a `SamlSubject` with a non-`null` name, then an `Identity` claim with a type of <xref:System.IdentityModel.Claims.ClaimTypes.NameIdentifier%2A> and a resource type of <xref:System.IdentityModel.Tokens.SamlNameIdentifierClaimResource> are created.</span></span>  
  
## <a name="identity-claims-and-servicesecuritycontextisanonymous"></a><span data-ttu-id="eb4cd-144">Declarações de identidade e ServiceSecurityContext.IsAnonymous</span><span class="sxs-lookup"><span data-stu-id="eb4cd-144">Identity Claims and ServiceSecurityContext.IsAnonymous</span></span>  
 <span data-ttu-id="eb4cd-145">Se nenhum dos `ClaimSet` objetos resultantes de credenciais do cliente contêm uma declaração com um `Right` de `Identity,` o <xref:System.ServiceModel.ServiceSecurityContext.IsAnonymous%2A> propriedade retorna `true`.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-145">If none of the `ClaimSet` objects resulting from the client credentials contain a claim with a `Right` of `Identity,` then the <xref:System.ServiceModel.ServiceSecurityContext.IsAnonymous%2A> property returns `true`.</span></span> <span data-ttu-id="eb4cd-146">Se um ou mais essas declarações estão presentes, o `IsAnonymous` propriedade retorna `false`.</span><span class="sxs-lookup"><span data-stu-id="eb4cd-146">If one or more such claims are present, the `IsAnonymous` property returns `false`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="eb4cd-147">Consulte também</span><span class="sxs-lookup"><span data-stu-id="eb4cd-147">See also</span></span>

- <xref:System.IdentityModel.Claims.ClaimSet>
- <xref:System.IdentityModel.Claims.Claim>
- <xref:System.IdentityModel.Claims.Rights>
- <xref:System.IdentityModel.Claims.ClaimTypes>
- [<span data-ttu-id="eb4cd-148">Gerenciando reivindicações e autorização com o modelo de identidade</span><span class="sxs-lookup"><span data-stu-id="eb4cd-148">Managing Claims and Authorization with the Identity Model</span></span>](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md)
