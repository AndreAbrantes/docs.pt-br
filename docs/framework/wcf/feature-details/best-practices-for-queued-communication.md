---
title: Práticas recomendadas para comunicação em fila
ms.date: 03/30/2017
helpviewer_keywords:
- queues [WCF], best practices
- best practices [WCF], queued communication
ms.assetid: 446a6383-cae3-4338-b193-a33c14a49948
ms.openlocfilehash: b2f64faab6df678182fb39174c8a558b298a8748
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64584979"
---
# <a name="best-practices-for-queued-communication"></a><span data-ttu-id="cf36a-102">Práticas recomendadas para comunicação em fila</span><span class="sxs-lookup"><span data-stu-id="cf36a-102">Best Practices for Queued Communication</span></span>
<span data-ttu-id="cf36a-103">Este tópico fornece as práticas recomendadas para a comunicação em fila no Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="cf36a-103">This topic provides recommended practices for queued communication in Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="cf36a-104">As seções a seguir discutem as práticas recomendadas de uma perspectiva de cenário.</span><span class="sxs-lookup"><span data-stu-id="cf36a-104">The following sections discuss recommended practices from a scenario perspective.</span></span>  
  
## <a name="fast-best-effort-queued-messaging"></a><span data-ttu-id="cf36a-105">Rápido, melhor esforço na fila mensagens</span><span class="sxs-lookup"><span data-stu-id="cf36a-105">Fast, Best-Effort Queued Messaging</span></span>  
 <span data-ttu-id="cf36a-106">Para cenários que exigem a separação na fila de mensagens fornece e rápida, alto desempenho, as mensagens com garantias de melhor esforço, use uma fila não transacional e defina as <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> propriedade para `false`.</span><span class="sxs-lookup"><span data-stu-id="cf36a-106">For scenarios that require separation that queued messaging provides and fast, high-performance messaging with best-effort assurances, use a non-transactional queue and set the <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> property to `false`.</span></span>  
  
 <span data-ttu-id="cf36a-107">Além disso, você pode optar por não incorrer em custos de gravações em disco, definindo o <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> propriedade para `false`.</span><span class="sxs-lookup"><span data-stu-id="cf36a-107">In addition, you can choose not to incur the cost of disk writes by setting the <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> property to `false`.</span></span>  
  
 <span data-ttu-id="cf36a-108">Segurança tem implicações no desempenho.</span><span class="sxs-lookup"><span data-stu-id="cf36a-108">Security has implications on performance.</span></span> <span data-ttu-id="cf36a-109">Para obter mais informações, consulte [considerações sobre desempenho](../../../../docs/framework/wcf/feature-details/performance-considerations.md).</span><span class="sxs-lookup"><span data-stu-id="cf36a-109">For more information, see [Performance Considerations](../../../../docs/framework/wcf/feature-details/performance-considerations.md).</span></span>  
  
## <a name="reliable-end-to-end-queued-messaging"></a><span data-ttu-id="cf36a-110">Ponta a ponta confiável na fila de mensagens</span><span class="sxs-lookup"><span data-stu-id="cf36a-110">Reliable End-to-End Queued Messaging</span></span>  
 <span data-ttu-id="cf36a-111">As seções a seguir descrevem as práticas recomendadas para cenários que exigem o sistema de mensagens confiável de ponta a ponta.</span><span class="sxs-lookup"><span data-stu-id="cf36a-111">The following sections describe recommended practices for scenarios that require end-to-end reliable messaging.</span></span>  
  
### <a name="basic-reliable-transfer"></a><span data-ttu-id="cf36a-112">Transferência confiável básica</span><span class="sxs-lookup"><span data-stu-id="cf36a-112">Basic Reliable Transfer</span></span>  
 <span data-ttu-id="cf36a-113">Para obter confiabilidade de ponta a ponta, defina as <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> propriedade para `true` para garantir a transferência.</span><span class="sxs-lookup"><span data-stu-id="cf36a-113">For end-to-end reliability, set the <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> property to `true` to ensure transfer.</span></span> <span data-ttu-id="cf36a-114">O <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> propriedade pode ser definida como `true` ou `false` dependendo dos seus requisitos (o padrão é `true`).</span><span class="sxs-lookup"><span data-stu-id="cf36a-114">The <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> property can be set to `true` or `false` depending on your requirements (the default is `true`).</span></span> <span data-ttu-id="cf36a-115">Em geral, o <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> estiver definida como `true` como parte da confiabilidade de ponta a ponta.</span><span class="sxs-lookup"><span data-stu-id="cf36a-115">Generally, the <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> property is set to `true` as part of end-to-end reliability.</span></span> <span data-ttu-id="cf36a-116">O comprometimento é um custo de desempenho, mas torna a mensagem durável para que a mensagem não seja perdida em caso de falha de um Gerenciador de fila.</span><span class="sxs-lookup"><span data-stu-id="cf36a-116">The compromise is a performance cost, but makes the message durable so that the message is not lost if a queue manager crashes.</span></span>  
  
### <a name="use-of-transactions"></a><span data-ttu-id="cf36a-117">Uso de transações</span><span class="sxs-lookup"><span data-stu-id="cf36a-117">Use of Transactions</span></span>  
 <span data-ttu-id="cf36a-118">Você deve usar transações para garantir a confiabilidade de ponta a ponta.</span><span class="sxs-lookup"><span data-stu-id="cf36a-118">You must use transactions to ensure end-to-end reliability.</span></span> <span data-ttu-id="cf36a-119">`ExactlyOnce` GARANTIAS apenas certifique-se de que as mensagens sejam entregues à fila de destino.</span><span class="sxs-lookup"><span data-stu-id="cf36a-119">`ExactlyOnce` assurances only ensure that messages are delivered to the target queue.</span></span> <span data-ttu-id="cf36a-120">Para garantir que a mensagem é recebida, use transações.</span><span class="sxs-lookup"><span data-stu-id="cf36a-120">To ensure that the message is received, use transactions.</span></span> <span data-ttu-id="cf36a-121">Sem transações, se o serviço falhar, você perderá a mensagem que está sendo entregue, mas, na verdade, é entregue ao aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cf36a-121">Without transactions, if the service crashes, you lose the message that is being delivered but is actually delivered to the application.</span></span>  
  
### <a name="use-of-dead-letter-queues"></a><span data-ttu-id="cf36a-122">Uso de filas</span><span class="sxs-lookup"><span data-stu-id="cf36a-122">Use of Dead-letter Queues</span></span>  
 <span data-ttu-id="cf36a-123">Filas de inatividade Certifique-se de que você será notificado se uma mensagem de falha sejam entregues à fila de destino.</span><span class="sxs-lookup"><span data-stu-id="cf36a-123">Dead-letter queues ensure that you are notified if a message fails to be delivered to the target queue.</span></span> <span data-ttu-id="cf36a-124">Você pode usar a fila de inatividade fornecido pelo sistema ou uma fila mortas personalizada.</span><span class="sxs-lookup"><span data-stu-id="cf36a-124">You can use the system-provided dead-letter queue or a custom dead-letter queue.</span></span> <span data-ttu-id="cf36a-125">Em geral, usar uma fila de inatividade personalizada é melhor porque ela permite que você envie mensagens de inatividade de um aplicativo em uma única fila de inatividade.</span><span class="sxs-lookup"><span data-stu-id="cf36a-125">In general, using a custom dead-letter queue is best because it enables you to send dead-letter messages from one application into a single dead-letter queue.</span></span> <span data-ttu-id="cf36a-126">Caso contrário, todas as mensagens mortas que ocorrem para todos os aplicativos em execução no sistema são entregues para uma única fila.</span><span class="sxs-lookup"><span data-stu-id="cf36a-126">Otherwise, all dead-letter messages that occur for all applications running on the system are delivered to a single queue.</span></span> <span data-ttu-id="cf36a-127">Cada aplicativo deve pesquisar no entanto a fila de inatividade para localizar as mensagens mortas que são relevantes para esse aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cf36a-127">Each application must then search though the dead-letter queue to find the dead-letter messages that are relevant to that application.</span></span> <span data-ttu-id="cf36a-128">Às vezes, a usar uma fila de inatividade personalizada não é viável, como ao usar o MSMQ 3.0.</span><span class="sxs-lookup"><span data-stu-id="cf36a-128">Sometimes, using a custom dead-letter queue is not feasible, such as when using MSMQ 3.0.</span></span>  
  
 <span data-ttu-id="cf36a-129">Não é recomendável desativar filas para comunicação confiável de ponta a ponta.</span><span class="sxs-lookup"><span data-stu-id="cf36a-129">Turning off dead-letter queues for end-to-end reliable communication is not recommended.</span></span>  
  
 <span data-ttu-id="cf36a-130">Para obter mais informações, consulte [usando filas para lidar com falhas de transferência de mensagem](../../../../docs/framework/wcf/feature-details/using-dead-letter-queues-to-handle-message-transfer-failures.md).</span><span class="sxs-lookup"><span data-stu-id="cf36a-130">For more information, see [Using Dead-Letter Queues to Handle Message Transfer Failures](../../../../docs/framework/wcf/feature-details/using-dead-letter-queues-to-handle-message-transfer-failures.md).</span></span>  
  
### <a name="use-of-poison-message-handling"></a><span data-ttu-id="cf36a-131">Uso de manipulação de mensagens suspeitas</span><span class="sxs-lookup"><span data-stu-id="cf36a-131">Use of Poison-Message Handling</span></span>  
 <span data-ttu-id="cf36a-132">Manipulação de mensagens suspeitas fornece a capacidade de recuperar de falhas para processar mensagens.</span><span class="sxs-lookup"><span data-stu-id="cf36a-132">Poison-message handling provides the ability to recover from the failure to process messages.</span></span>  
  
 <span data-ttu-id="cf36a-133">Ao usar o recurso de manipulação de mensagens suspeitas, certifique-se de que o <xref:System.ServiceModel.MsmqBindingBase.ReceiveErrorHandling%2A> estiver definida como o valor apropriado.</span><span class="sxs-lookup"><span data-stu-id="cf36a-133">When using the poison-message handling feature, ensure that the <xref:System.ServiceModel.MsmqBindingBase.ReceiveErrorHandling%2A> property is set to the appropriate value.</span></span> <span data-ttu-id="cf36a-134">Configurando-a como <xref:System.ServiceModel.ReceiveErrorHandling.Drop> significa que os dados serão perdidos.</span><span class="sxs-lookup"><span data-stu-id="cf36a-134">Setting it to <xref:System.ServiceModel.ReceiveErrorHandling.Drop> means the data is lost.</span></span> <span data-ttu-id="cf36a-135">Por outro lado, configurando-a como <xref:System.ServiceModel.ReceiveErrorHandling.Fault> de falhas de host de serviço quando ele detecta uma mensagem suspeita.</span><span class="sxs-lookup"><span data-stu-id="cf36a-135">On the other hand, setting it to <xref:System.ServiceModel.ReceiveErrorHandling.Fault> faults the service host when it detects a poison message.</span></span> <span data-ttu-id="cf36a-136">Usando o MSMQ 3.0, <xref:System.ServiceModel.ReceiveErrorHandling.Fault> é a melhor opção para evitar a perda de dados e mover a mensagem suspeita fora do caminho.</span><span class="sxs-lookup"><span data-stu-id="cf36a-136">Using MSMQ 3.0, <xref:System.ServiceModel.ReceiveErrorHandling.Fault> is the best option to avoid data loss and move the poison message out of the way.</span></span> <span data-ttu-id="cf36a-137">Usando o MSMQ 4.0, <xref:System.ServiceModel.ReceiveErrorHandling.Move> é a abordagem recomendada.</span><span class="sxs-lookup"><span data-stu-id="cf36a-137">Using MSMQ 4.0, <xref:System.ServiceModel.ReceiveErrorHandling.Move> is the recommended approach.</span></span> <span data-ttu-id="cf36a-138"><xref:System.ServiceModel.ReceiveErrorHandling.Move> Move uma mensagem inviabilizada fora da fila para que o serviço possa continuar a processar novas mensagens.</span><span class="sxs-lookup"><span data-stu-id="cf36a-138"><xref:System.ServiceModel.ReceiveErrorHandling.Move> moves a poisoned message out of the queue so the service can continue to process new messages.</span></span> <span data-ttu-id="cf36a-139">O serviço de mensagens suspeitas pode processar a mensagem suspeita separadamente.</span><span class="sxs-lookup"><span data-stu-id="cf36a-139">The poison-message service can then process the poison message separately.</span></span>  
  
 <span data-ttu-id="cf36a-140">Para obter mais informações, consulte [manipulação de mensagens suspeitas](../../../../docs/framework/wcf/feature-details/poison-message-handling.md).</span><span class="sxs-lookup"><span data-stu-id="cf36a-140">For more information, see [Poison Message Handling](../../../../docs/framework/wcf/feature-details/poison-message-handling.md).</span></span>  
  
## <a name="achieving-high-throughput"></a><span data-ttu-id="cf36a-141">Alcança alto rendimento</span><span class="sxs-lookup"><span data-stu-id="cf36a-141">Achieving High Throughput</span></span>  
 <span data-ttu-id="cf36a-142">Para obter alta taxa de transferência em um único ponto de extremidade, use o seguinte:</span><span class="sxs-lookup"><span data-stu-id="cf36a-142">To achieve high throughput on a single endpoint, use the following:</span></span>  
  
- <span data-ttu-id="cf36a-143">Envio em lote transacionado.</span><span class="sxs-lookup"><span data-stu-id="cf36a-143">Transacted batching.</span></span> <span data-ttu-id="cf36a-144">O lote transacionado garante que muitas mensagens podem ser lidos em uma única transação.</span><span class="sxs-lookup"><span data-stu-id="cf36a-144">Transacted batching ensures that many messages can be read in a single transaction.</span></span> <span data-ttu-id="cf36a-145">Isso otimiza as confirmações de transações, aumentando o desempenho geral.</span><span class="sxs-lookup"><span data-stu-id="cf36a-145">This optimizes transaction commits, increasing overall performance.</span></span> <span data-ttu-id="cf36a-146">O custo do envio em lote é que, se ocorrer uma falha em uma única mensagem dentro de um lote, em seguida, o lote inteiro será revertido e as mensagens devem ser processados um de cada vez até que seja seguro para o lote novamente.</span><span class="sxs-lookup"><span data-stu-id="cf36a-146">The cost of batching is that if a failure occurs in a single message within a batch, then the entire batch is rolled back and the messages must be processed one at a time until it is safe to batch again.</span></span> <span data-ttu-id="cf36a-147">Na maioria dos casos, as mensagens suspeitas são raras, portanto, o envio em lote é a maneira preferencial para aumentar o desempenho do sistema, especialmente quando você tiver outros gerenciadores de recursos que participam da transação.</span><span class="sxs-lookup"><span data-stu-id="cf36a-147">In most cases, poison messages are rare, so batching is the preferred way to increase system performance, particularly when you have other resource managers that participate in the transaction.</span></span> <span data-ttu-id="cf36a-148">Para obter mais informações, consulte [mensagens de envio em lote em uma transação](../../../../docs/framework/wcf/feature-details/batching-messages-in-a-transaction.md).</span><span class="sxs-lookup"><span data-stu-id="cf36a-148">For more information, see [Batching Messages in a Transaction](../../../../docs/framework/wcf/feature-details/batching-messages-in-a-transaction.md).</span></span>  
  
- <span data-ttu-id="cf36a-149">Simultaneidade.</span><span class="sxs-lookup"><span data-stu-id="cf36a-149">Concurrency.</span></span> <span data-ttu-id="cf36a-150">Simultaneidade aumenta a taxa de transferência, mas a contenção para recursos compartilhados também afeta a simultaneidade.</span><span class="sxs-lookup"><span data-stu-id="cf36a-150">Concurrency increases throughput, but concurrency also affects contention to shared resources.</span></span> <span data-ttu-id="cf36a-151">Para obter mais informações, consulte [simultaneidade](../../../../docs/framework/wcf/samples/concurrency.md).</span><span class="sxs-lookup"><span data-stu-id="cf36a-151">For more information, see [Concurrency](../../../../docs/framework/wcf/samples/concurrency.md).</span></span>  
  
- <span data-ttu-id="cf36a-152">A limitação.</span><span class="sxs-lookup"><span data-stu-id="cf36a-152">Throttling.</span></span> <span data-ttu-id="cf36a-153">Para otimizar o desempenho, limite o número de mensagens no pipeline do dispatcher.</span><span class="sxs-lookup"><span data-stu-id="cf36a-153">For optimal performance, throttle the number of messages in the dispatcher pipeline.</span></span> <span data-ttu-id="cf36a-154">Para obter um exemplo de como fazer isso, consulte [limitação](../../../../docs/framework/wcf/samples/throttling.md).</span><span class="sxs-lookup"><span data-stu-id="cf36a-154">For an example of how to do this, see [Throttling](../../../../docs/framework/wcf/samples/throttling.md).</span></span>  
  
 <span data-ttu-id="cf36a-155">Ao usar o envio em lote, lembre-se de que a simultaneidade e a limitação convertem a lotes simultâneos.</span><span class="sxs-lookup"><span data-stu-id="cf36a-155">When using batching, be aware that concurrency and throttling translate to concurrent batches.</span></span>  
  
 <span data-ttu-id="cf36a-156">Para obter maior taxa de transferência e disponibilidade, use um farm de serviços WCF que ler a fila.</span><span class="sxs-lookup"><span data-stu-id="cf36a-156">To achieve higher throughput and availability, use a farm of WCF services that read from the queue.</span></span> <span data-ttu-id="cf36a-157">Isso requer que todos esses serviços expõem o mesmo contrato no mesmo ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="cf36a-157">This requires that all of these services expose the same contract on the same endpoint.</span></span> <span data-ttu-id="cf36a-158">A abordagem de farm funciona melhor para aplicativos que têm taxas de produção alto de mensagens porque ela permite que um número de serviços para todos os ler da mesma fila.</span><span class="sxs-lookup"><span data-stu-id="cf36a-158">The farm approach works best for applications that have high production rates of messages because it enables a number of services to all read from the same queue.</span></span>  
  
 <span data-ttu-id="cf36a-159">Ao usar farms de servidores, lembre-se de que o MSMQ 3.0 não dá suporte a leituras transacionadas remotas.</span><span class="sxs-lookup"><span data-stu-id="cf36a-159">When using farms, be aware that MSMQ 3.0 does not support remote transacted reads.</span></span> <span data-ttu-id="cf36a-160">MSMQ 4.0 oferece suporte a leituras transacionadas remotas.</span><span class="sxs-lookup"><span data-stu-id="cf36a-160">MSMQ 4.0 does support remote transacted reads.</span></span>  
  
 <span data-ttu-id="cf36a-161">Para obter mais informações, consulte [mensagens de envio em lote em uma transação](../../../../docs/framework/wcf/feature-details/batching-messages-in-a-transaction.md) e [diferenças nos recursos de enfileiramento de mensagens no Windows Vista, Windows Server 2003 e Windows XP](../../../../docs/framework/wcf/feature-details/diff-in-queue-in-vista-server-2003-windows-xp.md).</span><span class="sxs-lookup"><span data-stu-id="cf36a-161">For more information, see [Batching Messages in a Transaction](../../../../docs/framework/wcf/feature-details/batching-messages-in-a-transaction.md) and [Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP](../../../../docs/framework/wcf/feature-details/diff-in-queue-in-vista-server-2003-windows-xp.md).</span></span>  
  
## <a name="queuing-with-unit-of-work-semantics"></a><span data-ttu-id="cf36a-162">Enfileiramento de mensagens com a unidade de trabalho semântica</span><span class="sxs-lookup"><span data-stu-id="cf36a-162">Queuing with Unit of Work Semantics</span></span>  
 <span data-ttu-id="cf36a-163">Em alguns cenários de um grupo de mensagens em uma fila pode estar relacionado e, portanto, a ordem dessas mensagens é significativa.</span><span class="sxs-lookup"><span data-stu-id="cf36a-163">In some scenarios a group of messages in a queue may be related and, therefore, the ordering of these messages is significant.</span></span> <span data-ttu-id="cf36a-164">Nesses cenários, processar um grupo de mensagens relacionadas juntas como uma única unidade: todas as mensagens são processadas com êxito ou nenhuma é.</span><span class="sxs-lookup"><span data-stu-id="cf36a-164">In such scenarios, process a group of related messages together as a single unit: either all of the messages are processed successfully or none are.</span></span> <span data-ttu-id="cf36a-165">Para implementar esse comportamento, use as sessões com filas.</span><span class="sxs-lookup"><span data-stu-id="cf36a-165">To implement such behavior, use sessions with queues.</span></span>  
  
 <span data-ttu-id="cf36a-166">Para obter mais informações, consulte [mensagens na fila de agrupamento em uma sessão](../../../../docs/framework/wcf/feature-details/grouping-queued-messages-in-a-session.md).</span><span class="sxs-lookup"><span data-stu-id="cf36a-166">For more information, see [Grouping Queued Messages in a Session](../../../../docs/framework/wcf/feature-details/grouping-queued-messages-in-a-session.md).</span></span>  
  
## <a name="correlating-request-reply-messages"></a><span data-ttu-id="cf36a-167">Correlacionar mensagens de solicitação-resposta</span><span class="sxs-lookup"><span data-stu-id="cf36a-167">Correlating Request-Reply Messages</span></span>  
 <span data-ttu-id="cf36a-168">Embora as filas são normalmente unidirecionais, em alguns cenários, que talvez você queira correlacionar uma resposta recebida a uma solicitação enviada anteriormente.</span><span class="sxs-lookup"><span data-stu-id="cf36a-168">Though queues are typically one-way, in some scenarios you may want to correlate a reply received to a request sent earlier.</span></span> <span data-ttu-id="cf36a-169">Se você precisar de correlação, é recomendável que você aplique a seu próprio cabeçalho de mensagem SOAP que contém informações de correlação com a mensagem.</span><span class="sxs-lookup"><span data-stu-id="cf36a-169">If you require such correlation, it is recommended that you apply your own SOAP message header that contains correlation information with the message.</span></span> <span data-ttu-id="cf36a-170">Normalmente, o remetente anexa esse cabeçalho com a mensagem e o receptor, após o processamento da mensagem e responder com uma nova mensagem em uma fila de resposta, anexa o cabeçalho da mensagem do remetente que contém as informações de correlação para que o remetente pode Identifique a mensagem de resposta com a mensagem de solicitação.</span><span class="sxs-lookup"><span data-stu-id="cf36a-170">Typically, the sender attaches this header with the message, and the receiver, upon processing the message and replying back with a new message on a reply queue, attaches the sender's message header that contains the correlation information so that the sender can identify the reply message with the request message.</span></span>  
  
## <a name="integrating-with-non-wcf-applications"></a><span data-ttu-id="cf36a-171">Integração de aplicativos não WCF</span><span class="sxs-lookup"><span data-stu-id="cf36a-171">Integrating with Non-WCF Applications</span></span>  
 <span data-ttu-id="cf36a-172">Use `MsmqIntegrationBinding` ao integrar clientes ou serviços WCF com clientes ou serviços não WCF.</span><span class="sxs-lookup"><span data-stu-id="cf36a-172">Use `MsmqIntegrationBinding` when integrating WCF services or clients with non-WCF services or clients.</span></span> <span data-ttu-id="cf36a-173">O aplicativo não WCF pode ser um aplicativo de MSMQ gravado usando System. Messaging, COM+, Visual Basic ou C++.</span><span class="sxs-lookup"><span data-stu-id="cf36a-173">The non-WCF application can be an MSMQ application written using System.Messaging, COM+, Visual Basic, or C++.</span></span>  
  
 <span data-ttu-id="cf36a-174">Ao usar `MsmqIntegrationBinding`, esteja ciente das seguintes opções:</span><span class="sxs-lookup"><span data-stu-id="cf36a-174">When using `MsmqIntegrationBinding`, be aware of the following:</span></span>  
  
- <span data-ttu-id="cf36a-175">Um corpo de mensagem do WCF não é igual a um corpo de mensagem do MSMQ.</span><span class="sxs-lookup"><span data-stu-id="cf36a-175">A WCF message body is not the same as a MSMQ message body.</span></span> <span data-ttu-id="cf36a-176">Ao enviar uma mensagem do WCF usando uma associação enfileirada, o corpo da mensagem do WCF é colocado dentro de uma mensagem MSMQ.</span><span class="sxs-lookup"><span data-stu-id="cf36a-176">When sending a WCF message using a queued binding, the WCF message body is placed inside of a MSMQ message.</span></span> <span data-ttu-id="cf36a-177">A infraestrutura do MSMQ é alheia a essas informações extras; ele vê apenas a mensagem do MSMQ.</span><span class="sxs-lookup"><span data-stu-id="cf36a-177">The MSMQ infrastructure is oblivious to this extra information; it sees only the MSMQ message.</span></span>  
  
- <span data-ttu-id="cf36a-178">`MsmqIntegrationBinding` dá suporte a tipos de serialização populares.</span><span class="sxs-lookup"><span data-stu-id="cf36a-178">`MsmqIntegrationBinding` supports popular serialization types.</span></span> <span data-ttu-id="cf36a-179">Com base no tipo de serialização, o tipo do corpo da mensagem genérica, <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601>, usa os parâmetros de tipo diferente.</span><span class="sxs-lookup"><span data-stu-id="cf36a-179">Based on the serialization type, the body type of the generic message, <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601>, takes different type parameters.</span></span> <span data-ttu-id="cf36a-180">Por exemplo, <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.ByteArray> requer `MsmqMessage\<byte[]>` e <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.Stream> requer `MsmqMessage<Stream>`.</span><span class="sxs-lookup"><span data-stu-id="cf36a-180">For example, <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.ByteArray> requires `MsmqMessage\<byte[]>` and <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.Stream> requires `MsmqMessage<Stream>`.</span></span>  
  
- <span data-ttu-id="cf36a-181">Com a serialização de XML, você pode especificar o tipo conhecido usando o `KnownTypes` atributo o [ \<comportamento >](../../../../docs/framework/configure-apps/file-schema/wcf/behavior-of-servicebehaviors.md) elemento que é usado para determinar como desserializar a mensagem XML.</span><span class="sxs-lookup"><span data-stu-id="cf36a-181">With XML serialization, you can specify the known type using the `KnownTypes` attribute on the [\<behavior>](../../../../docs/framework/configure-apps/file-schema/wcf/behavior-of-servicebehaviors.md) element that is then used to determine how to deserialize the XML message.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cf36a-182">Consulte também</span><span class="sxs-lookup"><span data-stu-id="cf36a-182">See also</span></span>

- [<span data-ttu-id="cf36a-183">Enfileiramento no WCF</span><span class="sxs-lookup"><span data-stu-id="cf36a-183">Queuing in WCF</span></span>](../../../../docs/framework/wcf/feature-details/queuing-in-wcf.md)
- [<span data-ttu-id="cf36a-184">Como: Troca de mensagens na fila com pontos de extremidade do WCF</span><span class="sxs-lookup"><span data-stu-id="cf36a-184">How to: Exchange Queued Messages with WCF Endpoints</span></span>](../../../../docs/framework/wcf/feature-details/how-to-exchange-queued-messages-with-wcf-endpoints.md)
- [<span data-ttu-id="cf36a-185">Como: Trocar mensagens com pontos de extremidade do WCF e aplicativos do serviço de enfileiramento de mensagens</span><span class="sxs-lookup"><span data-stu-id="cf36a-185">How to: Exchange Messages with WCF Endpoints and Message Queuing Applications</span></span>](../../../../docs/framework/wcf/feature-details/how-to-exchange-messages-with-wcf-endpoints-and-message-queuing-applications.md)
- [<span data-ttu-id="cf36a-186">Agrupamento de mensagens em fila em uma sessão</span><span class="sxs-lookup"><span data-stu-id="cf36a-186">Grouping Queued Messages in a Session</span></span>](../../../../docs/framework/wcf/feature-details/grouping-queued-messages-in-a-session.md)
- [<span data-ttu-id="cf36a-187">Mensagens em lote em uma transação</span><span class="sxs-lookup"><span data-stu-id="cf36a-187">Batching Messages in a Transaction</span></span>](../../../../docs/framework/wcf/feature-details/batching-messages-in-a-transaction.md)
- [<span data-ttu-id="cf36a-188">Usando filas de mensagens mortas para lidar com falhas de transferência de mensagem</span><span class="sxs-lookup"><span data-stu-id="cf36a-188">Using Dead-Letter Queues to Handle Message Transfer Failures</span></span>](../../../../docs/framework/wcf/feature-details/using-dead-letter-queues-to-handle-message-transfer-failures.md)
- [<span data-ttu-id="cf36a-189">Manipulação de mensagens suspeitas</span><span class="sxs-lookup"><span data-stu-id="cf36a-189">Poison Message Handling</span></span>](../../../../docs/framework/wcf/feature-details/poison-message-handling.md)
- [<span data-ttu-id="cf36a-190">Diferenças de recursos da Fila no Windows Vista, Windows Server 2003 e Windows XP</span><span class="sxs-lookup"><span data-stu-id="cf36a-190">Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP</span></span>](../../../../docs/framework/wcf/feature-details/diff-in-queue-in-vista-server-2003-windows-xp.md)
- [<span data-ttu-id="cf36a-191">Protegendo mensagens usando a segurança do transporte</span><span class="sxs-lookup"><span data-stu-id="cf36a-191">Securing Messages Using Transport Security</span></span>](../../../../docs/framework/wcf/feature-details/securing-messages-using-transport-security.md)
- [<span data-ttu-id="cf36a-192">Protegendo as mensagens com segurança de mensagem</span><span class="sxs-lookup"><span data-stu-id="cf36a-192">Securing Messages Using Message Security</span></span>](../../../../docs/framework/wcf/feature-details/securing-messages-using-message-security.md)
- [<span data-ttu-id="cf36a-193">Solução de problemas de mensagens em fila</span><span class="sxs-lookup"><span data-stu-id="cf36a-193">Troubleshooting Queued Messaging</span></span>](../../../../docs/framework/wcf/feature-details/troubleshooting-queued-messaging.md)
