---
title: Noções básicas de autenticação HTTP
description: Examine esta introdução à autenticação HTTP no WCF, incluindo esquemas de autenticação HTTP e escolhendo um esquema de autenticação.
ms.date: 03/30/2017
ms.assetid: 9376309a-39e3-4819-b47b-a73982b57620
ms.openlocfilehash: 761ab7a92aa26ce1437eefa360e5b46df179e32d
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/23/2020
ms.locfileid: "85246513"
---
# <a name="understanding-http-authentication"></a><span data-ttu-id="5d9ef-103">Noções básicas de autenticação HTTP</span><span class="sxs-lookup"><span data-stu-id="5d9ef-103">Understanding HTTP Authentication</span></span>
<span data-ttu-id="5d9ef-104">A autenticação é o processo de identificar se um cliente está qualificado para acessar um recurso.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-104">Authentication is the process of identifying whether a client is eligible to access a resource.</span></span> <span data-ttu-id="5d9ef-105">O protocolo HTTP dá suporte à autenticação como um meio de negociar o acesso a um recurso seguro.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-105">The HTTP protocol supports authentication as a means of negotiating access to a secure resource.</span></span>  
  
 <span data-ttu-id="5d9ef-106">A solicitação inicial de um cliente normalmente é uma solicitação anônima, que não contém nenhuma informação de autenticação.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-106">The initial request from a client is typically an anonymous request, not containing any authentication information.</span></span> <span data-ttu-id="5d9ef-107">Os aplicativos de servidor HTTP podem negar a solicitação anônima enquanto indica que a autenticação é necessária.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-107">HTTP server applications can deny the anonymous request while indicating that authentication is required.</span></span> <span data-ttu-id="5d9ef-108">O aplicativo de servidor envia cabeçalhos WWW-Authentication para indicar os esquemas de autenticação com suporte.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-108">The server application sends WWW-Authentication headers to indicate the supported authentication schemes.</span></span> <span data-ttu-id="5d9ef-109">Este documento descreve vários esquemas de autenticação para HTTP e discute seu suporte no Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="5d9ef-109">This document describes several authentication schemes for HTTP and discusses their support in Windows Communication Foundation (WCF).</span></span>  
  
## <a name="http-authentication-schemes"></a><span data-ttu-id="5d9ef-110">Esquemas de autenticação HTTP</span><span class="sxs-lookup"><span data-stu-id="5d9ef-110">HTTP Authentication Schemes</span></span>  
 <span data-ttu-id="5d9ef-111">O servidor pode especificar vários esquemas de autenticação para o cliente escolher.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-111">The server can specify multiple authentication schemes for the client to choose from.</span></span> <span data-ttu-id="5d9ef-112">A tabela a seguir descreve alguns dos esquemas de autenticação geralmente encontrados em aplicativos do Windows.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-112">The following table describes some of the authentication schemes commonly found in Windows applications.</span></span>  
  
|<span data-ttu-id="5d9ef-113">Esquema de Autenticação</span><span class="sxs-lookup"><span data-stu-id="5d9ef-113">Authentication Scheme</span></span>|<span data-ttu-id="5d9ef-114">Description</span><span class="sxs-lookup"><span data-stu-id="5d9ef-114">Description</span></span>|  
|---------------------------|-----------------|  
|<span data-ttu-id="5d9ef-115">Anônima</span><span class="sxs-lookup"><span data-stu-id="5d9ef-115">Anonymous</span></span>|<span data-ttu-id="5d9ef-116">Uma solicitação anônima não contém nenhuma informação de autenticação.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-116">An anonymous request does not contain any authentication information.</span></span> <span data-ttu-id="5d9ef-117">Isso é equivalente a conceder acesso de todos ao recurso a todos.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-117">This is equivalent to granting everyone access to the resource.</span></span>|  
|<span data-ttu-id="5d9ef-118">Basic</span><span class="sxs-lookup"><span data-stu-id="5d9ef-118">Basic</span></span>|<span data-ttu-id="5d9ef-119">A autenticação básica envia uma cadeia de caracteres codificada em base64 que contém um nome de usuário e senha para o cliente.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-119">Basic authentication sends a Base64-encoded string that contains a user name and password for the client.</span></span> <span data-ttu-id="5d9ef-120">Base64 não é uma forma de criptografia e deve ser considerado o mesmo que enviar o nome de usuário e a senha em texto não criptografado.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-120">Base64 is not a form of encryption and should be considered the same as sending the user name and password in clear text.</span></span> <span data-ttu-id="5d9ef-121">Se um recurso precisar ser protegido, considere fortemente usar um esquema de autenticação diferente da autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-121">If a resource needs to be protected, strongly consider using an authentication scheme other than basic authentication.</span></span>|  
|<span data-ttu-id="5d9ef-122">Digest</span><span class="sxs-lookup"><span data-stu-id="5d9ef-122">Digest</span></span>|<span data-ttu-id="5d9ef-123">A autenticação Digest é um esquema de desafio/resposta que pretende substituir a autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-123">Digest authentication is a challenge-response scheme that is intended to replace Basic authentication.</span></span> <span data-ttu-id="5d9ef-124">O servidor envia uma cadeia de caracteres de dados aleatórios chamada de *nonce* para o cliente como um desafio.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-124">The server sends a string of random data called a *nonce* to the client as a challenge.</span></span> <span data-ttu-id="5d9ef-125">O cliente responde com um hash que inclui o nome de usuário, a senha e o nonce, entre as informações adicionais.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-125">The client responds with a hash that includes the user name, password, and nonce, among additional information.</span></span> <span data-ttu-id="5d9ef-126">A complexidade que esse Exchange apresenta e o hash de dados torna mais difícil roubar e reutilizar as credenciais do usuário com esse esquema de autenticação.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-126">The complexity this exchange introduces and the data hashing make it more difficult to steal and reuse the user's credentials with this authentication scheme.</span></span><br /><br /> <span data-ttu-id="5d9ef-127">A autenticação Digest requer o uso de contas de domínio do Windows.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-127">Digest authentication requires the use of Windows domain accounts.</span></span> <span data-ttu-id="5d9ef-128">O *Realm* de resumo é o nome de domínio do Windows.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-128">The digest *realm* is the Windows domain name.</span></span> <span data-ttu-id="5d9ef-129">Portanto, você não pode usar um servidor em execução em um sistema operacional que não ofereça suporte a domínios do Windows, como o Windows XP Home Edition, com autenticação Digest.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-129">Therefore, you cannot use a server running on an operating system that does not support Windows domains, such as Windows XP Home Edition, with Digest authentication.</span></span> <span data-ttu-id="5d9ef-130">Por outro lado, quando o cliente é executado em um sistema operacional que não dá suporte a domínios do Windows, uma conta de domínio deve ser especificada explicitamente durante a autenticação.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-130">Conversely, when the client runs on an operating system that does not support Windows domains, a domain account must be explicitly specified during the authentication.</span></span>|  
|<span data-ttu-id="5d9ef-131">NTLM</span><span class="sxs-lookup"><span data-stu-id="5d9ef-131">NTLM</span></span>|<span data-ttu-id="5d9ef-132">A autenticação NTLM (NT LAN Manager) é um esquema de desafio/resposta que é uma variação segura da autenticação Digest.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-132">NT LAN Manager (NTLM) authentication is a challenge-response scheme that is a securer variation of Digest authentication.</span></span> <span data-ttu-id="5d9ef-133">O NTLM usa as credenciais do Windows para transformar os dados de desafio em vez do nome de usuário e da senha não codificados.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-133">NTLM uses Windows credentials to transform the challenge data instead of the unencoded user name and password.</span></span> <span data-ttu-id="5d9ef-134">A autenticação NTLM requer várias trocas entre o cliente e o servidor.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-134">NTLM authentication requires multiple exchanges between the client and server.</span></span> <span data-ttu-id="5d9ef-135">O servidor e os proxies intermediários devem dar suporte a conexões persistentes para concluir a autenticação com êxito.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-135">The server and any intervening proxies must support persistent connections to successfully complete the authentication.</span></span>|  
|<span data-ttu-id="5d9ef-136">Negotiate</span><span class="sxs-lookup"><span data-stu-id="5d9ef-136">Negotiate</span></span>|<span data-ttu-id="5d9ef-137">Negociar a autenticação seleciona automaticamente entre o protocolo Kerberos e a autenticação NTLM, dependendo da disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-137">Negotiate authentication automatically selects between the Kerberos protocol and NTLM authentication, depending on availability.</span></span> <span data-ttu-id="5d9ef-138">O protocolo Kerberos será usado se estiver disponível; caso contrário, o NTLM é tentado.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-138">The Kerberos protocol is used if it is available; otherwise, NTLM is tried.</span></span> <span data-ttu-id="5d9ef-139">A autenticação Kerberos melhora significativamente no NTLM.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-139">Kerberos authentication significantly improves upon NTLM.</span></span> <span data-ttu-id="5d9ef-140">A autenticação Kerberos é mais rápida que a NTLM e permite o uso de autenticação mútua e delegação de credenciais para computadores remotos.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-140">Kerberos authentication is both faster than NTLM and allows the use of mutual authentication and delegation of credentials to remote machines.</span></span>|  
|<span data-ttu-id="5d9ef-141">Windows Live ID</span><span class="sxs-lookup"><span data-stu-id="5d9ef-141">Windows Live ID</span></span>|<span data-ttu-id="5d9ef-142">O serviço HTTP do Windows subjacente inclui autenticação usando protocolos federados.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-142">The underlying Windows HTTP service includes authentication using federated protocols.</span></span> <span data-ttu-id="5d9ef-143">No entanto, os transportes HTTP padrão no WCF não dão suporte ao uso de esquemas de autenticação federada, como o Microsoft Windows Live ID.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-143">However, the standard HTTP transports in WCF do not support the use of federated authentication schemes, such as Microsoft Windows Live ID.</span></span> <span data-ttu-id="5d9ef-144">O suporte para esse recurso está disponível no momento por meio do uso de segurança de mensagem.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-144">Support for this feature is currently available through the use of message security.</span></span> <span data-ttu-id="5d9ef-145">Para obter mais informações, consulte [Federação e tokens emitidos](federation-and-issued-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="5d9ef-145">For more information, see [Federation and Issued Tokens](federation-and-issued-tokens.md).</span></span>|  
  
## <a name="choosing-an-authentication-scheme"></a><span data-ttu-id="5d9ef-146">Escolhendo um esquema de autenticação</span><span class="sxs-lookup"><span data-stu-id="5d9ef-146">Choosing an Authentication Scheme</span></span>  
 <span data-ttu-id="5d9ef-147">Ao selecionar os esquemas de autenticação potenciais para um servidor HTTP, alguns itens a serem considerados incluem o seguinte:</span><span class="sxs-lookup"><span data-stu-id="5d9ef-147">When selecting the potential authentication schemes for an HTTP server, a few items to consider include the following:</span></span>  
  
- <span data-ttu-id="5d9ef-148">Considere se o recurso precisa ser protegido.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-148">Consider whether the resource needs to be protected.</span></span> <span data-ttu-id="5d9ef-149">Usar a autenticação HTTP requer a transmissão de mais dados e pode limitar a interoperabilidade com clientes.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-149">Using HTTP authentication requires transmitting more data and can limit interoperability with clients.</span></span> <span data-ttu-id="5d9ef-150">Permitir acesso anônimo a recursos que não precisam ser protegidos.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-150">Allow anonymous access to resources that do not need to be protected.</span></span>  
  
- <span data-ttu-id="5d9ef-151">Se o recurso precisar ser protegido, considere quais esquemas de autenticação fornecem o nível de segurança necessário.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-151">If the resource needs to be protected, consider which authentication schemes provide the required level of security.</span></span> <span data-ttu-id="5d9ef-152">O esquema de autenticação padrão mais fraco discutido aqui é a autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-152">The weakest standard authentication scheme discussed here is Basic authentication.</span></span> <span data-ttu-id="5d9ef-153">A autenticação básica não protege as credenciais do usuário.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-153">Basic authentication does not protect the user's credentials.</span></span> <span data-ttu-id="5d9ef-154">O esquema de autenticação padrão mais forte é a autenticação de negociação, resultando no protocolo Kerberos.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-154">The strongest standard authentication scheme is Negotiate authentication, resulting in the Kerberos protocol.</span></span>  
  
- <span data-ttu-id="5d9ef-155">Um servidor não deve apresentar (nos cabeçalhos WWW-Authentication) qualquer esquema que não esteja preparado para aceitar ou que não proteja adequadamente o recurso protegido.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-155">A server should not present (in the WWW-Authentication headers) any scheme that it is not prepared to accept or that does not adequately secure the protected resource.</span></span> <span data-ttu-id="5d9ef-156">Os clientes são livres para escolher entre qualquer um dos esquemas de autenticação que o servidor apresenta.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-156">Clients are free to choose between any of the authentication schemes the server presents.</span></span> <span data-ttu-id="5d9ef-157">Alguns clientes assumem como padrão um esquema de autenticação fraco ou o primeiro esquema de autenticação na lista do servidor.</span><span class="sxs-lookup"><span data-stu-id="5d9ef-157">Some clients default to a weak authentication scheme or the first authentication scheme in the server's list.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5d9ef-158">Veja também</span><span class="sxs-lookup"><span data-stu-id="5d9ef-158">See also</span></span>

- [<span data-ttu-id="5d9ef-159">Visão geral de segurança de transporte</span><span class="sxs-lookup"><span data-stu-id="5d9ef-159">Transport Security Overview</span></span>](transport-security-overview.md)
- [<span data-ttu-id="5d9ef-160">Usando a representação com segurança de transporte</span><span class="sxs-lookup"><span data-stu-id="5d9ef-160">Using Impersonation with Transport Security</span></span>](using-impersonation-with-transport-security.md)
- [<span data-ttu-id="5d9ef-161">Delegação e representação</span><span class="sxs-lookup"><span data-stu-id="5d9ef-161">Delegation and Impersonation</span></span>](delegation-and-impersonation-with-wcf.md)
