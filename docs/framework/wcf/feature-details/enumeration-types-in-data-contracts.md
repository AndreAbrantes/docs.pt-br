---
title: "Tipos de enumeração em contratos de dados"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords: data contracts [WCF], enumeration types
ms.assetid: b5d694da-68cb-4b74-a5fb-75108a68ec3b
caps.latest.revision: "13"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 13b3d19c8e71d7bd6a37362b1ac1b5e23e8ff24a
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/02/2017
---
# <a name="enumeration-types-in-data-contracts"></a><span data-ttu-id="c0064-102">Tipos de enumeração em contratos de dados</span><span class="sxs-lookup"><span data-stu-id="c0064-102">Enumeration Types in Data Contracts</span></span>
<span data-ttu-id="c0064-103">Enumerações podem ser expressos no modelo de contrato de dados.</span><span class="sxs-lookup"><span data-stu-id="c0064-103">Enumerations can be expressed in the data contract model.</span></span> <span data-ttu-id="c0064-104">Este tópico explica vários exemplos que explicam o modelo de programação.</span><span class="sxs-lookup"><span data-stu-id="c0064-104">This topic walks through several examples that explain the programming model.</span></span>  
  
## <a name="enumeration-basics"></a><span data-ttu-id="c0064-105">Noções básicas de enumeração</span><span class="sxs-lookup"><span data-stu-id="c0064-105">Enumeration Basics</span></span>  
 <span data-ttu-id="c0064-106">É uma maneira de usar tipos de enumeração no modelo de contrato de dados aplicar o <xref:System.Runtime.Serialization.DataContractAttribute> para o tipo de atributo.</span><span class="sxs-lookup"><span data-stu-id="c0064-106">One way to use enumeration types in the data contract model is to apply the <xref:System.Runtime.Serialization.DataContractAttribute> attribute to the type.</span></span> <span data-ttu-id="c0064-107">Você deve aplicar o <xref:System.Runtime.Serialization.EnumMemberAttribute> de atributo para cada membro que deve ser incluído no contrato de dados.</span><span class="sxs-lookup"><span data-stu-id="c0064-107">You must then apply the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute to each member that must be included in the data contract.</span></span>  
  
 <span data-ttu-id="c0064-108">O exemplo a seguir mostra duas classes.</span><span class="sxs-lookup"><span data-stu-id="c0064-108">The following example shows two classes.</span></span> <span data-ttu-id="c0064-109">O primeiro usa a enumeração e o segundo define a enumeração.</span><span class="sxs-lookup"><span data-stu-id="c0064-109">The first uses the enumeration and the second defines the enumeration.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#1)]
 [!code-vb[c_DataContractEnumerations#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#1)]  
  
 <span data-ttu-id="c0064-110">Uma instância do `Car` classe pode ser enviada ou recebida apenas se o `condition` campo é definido como um dos valores `New`, `Used`, ou `Rental`.</span><span class="sxs-lookup"><span data-stu-id="c0064-110">An instance of the `Car` class can be sent or received only if the `condition` field is set to one of the values `New`, `Used`, or `Rental`.</span></span> <span data-ttu-id="c0064-111">Se o `condition` é `Broken` ou `Stolen`, um <xref:System.Runtime.Serialization.SerializationException> é gerada.</span><span class="sxs-lookup"><span data-stu-id="c0064-111">If the `condition` is `Broken` or `Stolen`, a <xref:System.Runtime.Serialization.SerializationException> is thrown.</span></span>  
  
 <span data-ttu-id="c0064-112">Você pode usar o <xref:System.Runtime.Serialization.DataContractAttribute> propriedades (<xref:System.Runtime.Serialization.DataContractAttribute.Name%2A> e <xref:System.Runtime.Serialization.DataContractAttribute.Namespace%2A>) como de costume para contratos de dados de enumeração.</span><span class="sxs-lookup"><span data-stu-id="c0064-112">You can use the <xref:System.Runtime.Serialization.DataContractAttribute> properties (<xref:System.Runtime.Serialization.DataContractAttribute.Name%2A> and <xref:System.Runtime.Serialization.DataContractAttribute.Namespace%2A>) as usual for enumeration data contracts.</span></span>  
  
### <a name="enumeration-member-values"></a><span data-ttu-id="c0064-113">Valores de membro de enumeração</span><span class="sxs-lookup"><span data-stu-id="c0064-113">Enumeration Member Values</span></span>  
 <span data-ttu-id="c0064-114">Geralmente, o contrato de dados inclui nomes de membro de enumeração, não os valores numéricos.</span><span class="sxs-lookup"><span data-stu-id="c0064-114">Generally the data contract includes enumeration member names, not numerical values.</span></span> <span data-ttu-id="c0064-115">No entanto, quando usar os dados de contrato de modelo, se o lado de recebimento é um [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] cliente, o esquema exportado preserva os valores numéricos.</span><span class="sxs-lookup"><span data-stu-id="c0064-115">However, when using the data contract model, if the receiving side is a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client, the exported schema preserves the numerical values.</span></span> <span data-ttu-id="c0064-116">Observe que isso não é o caso ao usar o [usando a classe XmlSerializer](../../../../docs/framework/wcf/feature-details/using-the-xmlserializer-class.md).</span><span class="sxs-lookup"><span data-stu-id="c0064-116">Note that this is not the case when using the [Using the XmlSerializer Class](../../../../docs/framework/wcf/feature-details/using-the-xmlserializer-class.md).</span></span>  
  
 <span data-ttu-id="c0064-117">No exemplo anterior, se `condition` é definido como `Used` e os dados são serializados em XML, o XML resultante é `<condition>Used</condition>` e não `<condition>1</condition>`.</span><span class="sxs-lookup"><span data-stu-id="c0064-117">In the preceding example, if `condition` is set to `Used` and the data is serialized to XML, the resulting XML is `<condition>Used</condition>` and not `<condition>1</condition>`.</span></span> <span data-ttu-id="c0064-118">Portanto, o contrato de dados a seguir é equivalente ao contrato de dados de `CarConditionEnum`.</span><span class="sxs-lookup"><span data-stu-id="c0064-118">Therefore, the following data contract is equivalent to the data contract of `CarConditionEnum`.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#2)]
 [!code-vb[c_DataContractEnumerations#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#2)]  
  
 <span data-ttu-id="c0064-119">Por exemplo, você pode usar `CarConditionEnum` no lado de envio e `CarConditionWithNumbers` no lado de recepção.</span><span class="sxs-lookup"><span data-stu-id="c0064-119">For example, you can use `CarConditionEnum` on the sending side and `CarConditionWithNumbers` on the receiving side.</span></span> <span data-ttu-id="c0064-120">Embora o lado de envio usa o valor "1" para `Used` e os usos do lado receptor é o valor "20", a representação XML `<condition>Used</condition>` para ambos os lados.</span><span class="sxs-lookup"><span data-stu-id="c0064-120">Although the sending side uses the value "1" for `Used` and the receiving side uses the value "20," the XML representation is `<condition>Used</condition>` for both sides.</span></span>  
  
 <span data-ttu-id="c0064-121">Para ser incluído no contrato de dados, você deve aplicar o <xref:System.Runtime.Serialization.EnumMemberAttribute> atributo.</span><span class="sxs-lookup"><span data-stu-id="c0064-121">To be included in the data contract, you must apply the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span> <span data-ttu-id="c0064-122">No [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)], você sempre pode aplicar o valor especial 0 (zero) a uma enumeração, que também é o valor padrão para qualquer enumeração.</span><span class="sxs-lookup"><span data-stu-id="c0064-122">In the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)], you can always apply the special value 0 (zero) to an enumeration, which is also the default value for any enumeration.</span></span> <span data-ttu-id="c0064-123">No entanto, até mesmo esse especial que não pode ser serializado valor igual a zero, a menos que ele está marcado com o <xref:System.Runtime.Serialization.EnumMemberAttribute> atributo.</span><span class="sxs-lookup"><span data-stu-id="c0064-123">However, even this special zero value cannot be serialized unless it is marked with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span>  
  
 <span data-ttu-id="c0064-124">Há duas exceções a isso:</span><span class="sxs-lookup"><span data-stu-id="c0064-124">There are two exceptions to this:</span></span>  
  
-   <span data-ttu-id="c0064-125">Enumerações de sinalizador (discutidas posteriormente neste tópico).</span><span class="sxs-lookup"><span data-stu-id="c0064-125">Flag enumerations (discussed later in this topic).</span></span>  
  
-   <span data-ttu-id="c0064-126">Membros de dados de enumeração com o <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> propriedade definida como `false` (nesse caso, a enumeração com o valor zero é omitida dos dados serializados).</span><span class="sxs-lookup"><span data-stu-id="c0064-126">Enumeration data members with the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property set to `false` (in which case, the enumeration with the value zero is omitted from the serialized data).</span></span>  
  
### <a name="customizing-enumeration-member-values"></a><span data-ttu-id="c0064-127">Personalizando os valores de membro de enumeração</span><span class="sxs-lookup"><span data-stu-id="c0064-127">Customizing Enumeration Member Values</span></span>  
 <span data-ttu-id="c0064-128">Você pode personalizar o valor do membro de enumeração que faz parte do contrato de dados usando o <xref:System.Runtime.Serialization.EnumMemberAttribute.Value%2A> propriedade o <xref:System.Runtime.Serialization.EnumMemberAttribute> atributo.</span><span class="sxs-lookup"><span data-stu-id="c0064-128">You can customize the enumeration member value that forms a part of the data contract by using the <xref:System.Runtime.Serialization.EnumMemberAttribute.Value%2A> property of the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span>  
  
 <span data-ttu-id="c0064-129">Por exemplo, o seguinte contrato de dados também é equivalente ao contrato de dados do `CarConditionEnum`.</span><span class="sxs-lookup"><span data-stu-id="c0064-129">For example, the following data contract is also equivalent to the data contract of the `CarConditionEnum`.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#3)]
 [!code-vb[c_DataContractEnumerations#3](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#3)]  
  
 <span data-ttu-id="c0064-130">Quando serializado, o valor de `PreviouslyOwned` tem a representação XML `<condition>Used</condition>`.</span><span class="sxs-lookup"><span data-stu-id="c0064-130">When serialized, the value of `PreviouslyOwned` has the XML representation `<condition>Used</condition>`.</span></span>  
  
## <a name="simple-enumerations"></a><span data-ttu-id="c0064-131">Enumerações simples</span><span class="sxs-lookup"><span data-stu-id="c0064-131">Simple Enumerations</span></span>  
 <span data-ttu-id="c0064-132">Você também pode serializar os tipos de enumeração para os quais o <xref:System.Runtime.Serialization.DataContractAttribute> atributo não foi aplicado.</span><span class="sxs-lookup"><span data-stu-id="c0064-132">You can also serialize enumeration types to which the <xref:System.Runtime.Serialization.DataContractAttribute> attribute has not been applied.</span></span> <span data-ttu-id="c0064-133">Enumeração tipos são tratados exatamente conforme descrito anteriormente, com exceção de que todos os membros (que não tem o <xref:System.NonSerializedAttribute> atributo aplicado) é tratado como se o <xref:System.Runtime.Serialization.EnumMemberAttribute> atributo foi aplicado.</span><span class="sxs-lookup"><span data-stu-id="c0064-133">Such enumeration types are treated exactly as previously described, except that every member (that does not have the <xref:System.NonSerializedAttribute> attribute applied) is treated as if the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute has been applied.</span></span> <span data-ttu-id="c0064-134">Por exemplo, a enumeração seguir implicitamente tem um contrato de dados equivalente ao anterior `CarConditionEnum` exemplo.</span><span class="sxs-lookup"><span data-stu-id="c0064-134">For example, the following enumeration implicitly has a data contract equivalent to the preceding `CarConditionEnum` example.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#6)]
 [!code-vb[c_DataContractEnumerations#6](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#6)]  
  
 <span data-ttu-id="c0064-135">Você pode usar enumerações simples quando você não precisa personalizar o nome do contrato de dados da enumeração e namespace e os valores de membro de enumeração.</span><span class="sxs-lookup"><span data-stu-id="c0064-135">You can use simple enumerations when you do not need to customize the enumeration's data contract name and namespace and the enumeration member values.</span></span>  
  
#### <a name="notes-on-simple-enumerations"></a><span data-ttu-id="c0064-136">Observações sobre enumerações simples</span><span class="sxs-lookup"><span data-stu-id="c0064-136">Notes on Simple Enumerations</span></span>  
 <span data-ttu-id="c0064-137">Aplicar o <xref:System.Runtime.Serialization.EnumMemberAttribute> atributo para enumerações simples não tem nenhum efeito.</span><span class="sxs-lookup"><span data-stu-id="c0064-137">Applying the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute to simple enumerations has no effect.</span></span>  
  
 <span data-ttu-id="c0064-138">Não faz diferença ou não o <xref:System.SerializableAttribute> atributo é aplicado a enumeração.</span><span class="sxs-lookup"><span data-stu-id="c0064-138">It makes no difference whether or not the <xref:System.SerializableAttribute> attribute is applied to the enumeration.</span></span>  
  
 <span data-ttu-id="c0064-139">O fato de que o <xref:System.Runtime.Serialization.DataContractSerializer> classe segue o <xref:System.NonSerializedAttribute> atributo aplicado a membros de enumeração é diferente do comportamento do <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter> e <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter>.</span><span class="sxs-lookup"><span data-stu-id="c0064-139">The fact that the <xref:System.Runtime.Serialization.DataContractSerializer> class honors the <xref:System.NonSerializedAttribute> attribute applied to enumeration members is different from the behavior of the <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter> and the <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter>.</span></span> <span data-ttu-id="c0064-140">Ambos esses serializadores ignorar o <xref:System.NonSerializedAttribute> atributo.</span><span class="sxs-lookup"><span data-stu-id="c0064-140">Both of those serializers ignore the <xref:System.NonSerializedAttribute> attribute.</span></span>  
  
## <a name="flag-enumerations"></a><span data-ttu-id="c0064-141">Enumerações de sinalizador</span><span class="sxs-lookup"><span data-stu-id="c0064-141">Flag Enumerations</span></span>  
 <span data-ttu-id="c0064-142">Você pode aplicar o <xref:System.FlagsAttribute> de atributo para enumerações.</span><span class="sxs-lookup"><span data-stu-id="c0064-142">You can apply the <xref:System.FlagsAttribute> attribute to enumerations.</span></span> <span data-ttu-id="c0064-143">Nesse caso, uma lista de valores de enumeração de zero ou mais pode ser enviada ou recebida simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="c0064-143">In that case, a list of zero or more enumeration values can be sent or received simultaneously.</span></span>  
  
 <span data-ttu-id="c0064-144">Para fazer isso, se aplicam a <xref:System.Runtime.Serialization.DataContractAttribute> de atributos para a enumeração de sinalizador e, em seguida, marcar todos os membros que são potências de dois com o <xref:System.Runtime.Serialization.EnumMemberAttribute> atributo.</span><span class="sxs-lookup"><span data-stu-id="c0064-144">To do so, apply the <xref:System.Runtime.Serialization.DataContractAttribute> attribute to the flag enumeration and then mark all the members that are powers of two with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span> <span data-ttu-id="c0064-145">Observe que, para usar uma enumeração de sinalizador, o andamento deve ser uma sequência ininterrupta de potências de 2 (por exemplo, 1, 2, 4, 8, 16, 32, 64).</span><span class="sxs-lookup"><span data-stu-id="c0064-145">Note that to use a flag enumeration, the progression must be an uninterrupted sequence of powers of 2 (for example, 1, 2, 4, 8, 16, 32, 64).</span></span>  
  
 <span data-ttu-id="c0064-146">As etapas a seguir se aplicam ao valor de enumeração do sinalizador de envio:</span><span class="sxs-lookup"><span data-stu-id="c0064-146">The following steps apply to sending a flag's enumeration value:</span></span>  
  
1.  <span data-ttu-id="c0064-147">Tentativa de encontrar um membro de enumeração (com o <xref:System.Runtime.Serialization.EnumMemberAttribute> atributo aplicado) que mapeia para o valor numérico.</span><span class="sxs-lookup"><span data-stu-id="c0064-147">Attempt to find an enumeration member (with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute applied) that maps to the numeric value.</span></span> <span data-ttu-id="c0064-148">Se encontrado, enviar uma lista que contém apenas esse membro.</span><span class="sxs-lookup"><span data-stu-id="c0064-148">If found, send a list that contains just that member.</span></span>  
  
2.  <span data-ttu-id="c0064-149">Tentativa de dividir o valor numérico em uma soma, pois há membros de enumeração (cada um com o <xref:System.Runtime.Serialization.EnumMemberAttribute> atributo aplicado) que mapeiam para cada parte da soma.</span><span class="sxs-lookup"><span data-stu-id="c0064-149">Attempt to break the numeric value into a sum such that there are enumeration members (each with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute applied) that map to each part of the sum.</span></span> <span data-ttu-id="c0064-150">Envie a lista de todos esses membros.</span><span class="sxs-lookup"><span data-stu-id="c0064-150">Send the list of all these members.</span></span> <span data-ttu-id="c0064-151">Observe que o *algoritmo greedy* é usado para localizar a soma, e, portanto, não há nenhuma garantia de que, como a soma é encontrada, mesmo se ele estiver presente.</span><span class="sxs-lookup"><span data-stu-id="c0064-151">Note that the *greedy algorithm* is used to find such a sum, and thus there is no guarantee that such a sum is found even if it is present.</span></span> <span data-ttu-id="c0064-152">Para evitar esse problema, certifique-se de que os valores numéricos dos membros de enumeração são potências de dois.</span><span class="sxs-lookup"><span data-stu-id="c0064-152">To avoid this problem, make sure that the numeric values of the enumeration members are powers of two.</span></span>  
  
3.  <span data-ttu-id="c0064-153">Se as duas etapas anteriores falharem e o valor numérico é diferente de zero, gerar um <xref:System.Runtime.Serialization.SerializationException>.</span><span class="sxs-lookup"><span data-stu-id="c0064-153">If the preceding two steps fail, and the numeric value is nonzero, throw a <xref:System.Runtime.Serialization.SerializationException>.</span></span> <span data-ttu-id="c0064-154">Se o valor numérico é zero, envie uma lista vazia.</span><span class="sxs-lookup"><span data-stu-id="c0064-154">If the numeric value is zero, send the empty list.</span></span>  
  
### <a name="example"></a><span data-ttu-id="c0064-155">Exemplo</span><span class="sxs-lookup"><span data-stu-id="c0064-155">Example</span></span>  
 <span data-ttu-id="c0064-156">O seguinte exemplo de enumeração pode ser usado em uma operação de sinalizador.</span><span class="sxs-lookup"><span data-stu-id="c0064-156">The following enumeration example can be used in a flag operation.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#4)]
 [!code-vb[c_DataContractEnumerations#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#4)]  
  
 <span data-ttu-id="c0064-157">Os valores de exemplo a seguir são serializados como indicado.</span><span class="sxs-lookup"><span data-stu-id="c0064-157">The following example values are serialized as indicated.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#5)]
 [!code-vb[c_DataContractEnumerations#5](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#5)]  
  
## <a name="see-also"></a><span data-ttu-id="c0064-158">Consulte também</span><span class="sxs-lookup"><span data-stu-id="c0064-158">See Also</span></span>  
 <xref:System.Runtime.Serialization.DataContractSerializer>  
 [<span data-ttu-id="c0064-159">Usando contratos de dados</span><span class="sxs-lookup"><span data-stu-id="c0064-159">Using Data Contracts</span></span>](../../../../docs/framework/wcf/feature-details/using-data-contracts.md)  
 [<span data-ttu-id="c0064-160">Especificando transferência de dados em contratos de serviço</span><span class="sxs-lookup"><span data-stu-id="c0064-160">Specifying Data Transfer in Service Contracts</span></span>](../../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md)
