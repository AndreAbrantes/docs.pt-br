---
title: 'Como: criar uma associação personalizada utilizando o SecurityBindingElement'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- security [WCF], creating custom bindings
ms.assetid: 203a9f9e-3a73-427c-87aa-721c56265b29
ms.openlocfilehash: da67d923b36d673c87c90ba79b72ad4e1fc64a0c
ms.sourcegitcommit: 37616676fde89153f563a485fc6159fc57326fc2
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/23/2019
ms.locfileid: "69988762"
---
# <a name="how-to-create-a-custom-binding-using-the-securitybindingelement"></a><span data-ttu-id="7efc0-102">Como: criar uma associação personalizada utilizando o SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-102">How to: Create a Custom Binding Using the SecurityBindingElement</span></span>
<span data-ttu-id="7efc0-103">O Windows Communication Foundation (WCF) inclui várias associações fornecidas pelo sistema que podem ser configuradas, mas não fornecem flexibilidade total ao configurar todas as opções de segurança às quais o WCF dá suporte.</span><span class="sxs-lookup"><span data-stu-id="7efc0-103">Windows Communication Foundation (WCF) includes several system-provided bindings that can be configured but do not provide full flexibility when configuring all the security options that WCF supports.</span></span> <span data-ttu-id="7efc0-104">Este tópico demonstra como criar uma associação personalizada diretamente de elementos de associação individuais e realça algumas das configurações de segurança que podem ser especificadas ao criar uma ligação desse tipo.</span><span class="sxs-lookup"><span data-stu-id="7efc0-104">This topic demonstrates how to create a custom binding directly from individual binding elements and highlights some of the security settings that can be specified when creating such a binding.</span></span> <span data-ttu-id="7efc0-105">Para obter mais informações sobre como criar associações personalizadas, consulte Estendendo [associações](../../../../docs/framework/wcf/extending/extending-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="7efc0-105">For more information about creating custom bindings, see [Extending Bindings](../../../../docs/framework/wcf/extending/extending-bindings.md).</span></span>  
  
> [!WARNING]
> <span data-ttu-id="7efc0-106"><xref:System.ServiceModel.Channels.SecurityBindingElement>o não oferece suporte <xref:System.ServiceModel.Channels.IDuplexSessionChannel> à forma de canal, que é a forma de canal padrão usada pelo transporte <xref:System.ServiceModel.TransferMode> TCP quando é <xref:System.ServiceModel.TransferMode.Buffered>definido como.</span><span class="sxs-lookup"><span data-stu-id="7efc0-106"><xref:System.ServiceModel.Channels.SecurityBindingElement> does not support the <xref:System.ServiceModel.Channels.IDuplexSessionChannel> channel shape, which is the default channel shape use by the TCP transport when <xref:System.ServiceModel.TransferMode> is set to <xref:System.ServiceModel.TransferMode.Buffered>.</span></span> <span data-ttu-id="7efc0-107">Você deve definir <xref:System.ServiceModel.TransferMode> para <xref:System.ServiceModel.TransferMode.Streamed> para usar <xref:System.ServiceModel.Channels.SecurityBindingElement> neste cenário.</span><span class="sxs-lookup"><span data-stu-id="7efc0-107">You must set <xref:System.ServiceModel.TransferMode> to <xref:System.ServiceModel.TransferMode.Streamed> in order to use <xref:System.ServiceModel.Channels.SecurityBindingElement> in this scenario.</span></span>  
  
## <a name="creating-a-custom-binding"></a><span data-ttu-id="7efc0-108">Criando uma associação personalizada</span><span class="sxs-lookup"><span data-stu-id="7efc0-108">Creating a Custom Binding</span></span>  
 <span data-ttu-id="7efc0-109">No WCF, todas as associações são feitas de *elementos de associação*.</span><span class="sxs-lookup"><span data-stu-id="7efc0-109">In WCF all bindings are made up of *binding elements*.</span></span> <span data-ttu-id="7efc0-110">Cada elemento de ligação deriva da <xref:System.ServiceModel.Channels.BindingElement> classe.</span><span class="sxs-lookup"><span data-stu-id="7efc0-110">Each binding element derives from the <xref:System.ServiceModel.Channels.BindingElement> class.</span></span> <span data-ttu-id="7efc0-111">Para as associações padrão fornecidas pelo sistema, os elementos de associação são criados e configurados para você, embora você possa personalizar algumas das configurações de propriedade.</span><span class="sxs-lookup"><span data-stu-id="7efc0-111">For the standard system-provided bindings, the binding elements are created and configured for you, although you can customize some of the property settings.</span></span>  
  
 <span data-ttu-id="7efc0-112">Por outro lado, para criar uma associação personalizada, os elementos de associação são criados e <xref:System.ServiceModel.Channels.CustomBinding> configurados e um é criado a partir dos elementos de associação.</span><span class="sxs-lookup"><span data-stu-id="7efc0-112">In contrast, to create a custom binding, binding elements are created and configured and a <xref:System.ServiceModel.Channels.CustomBinding> is created from the binding elements.</span></span>  
  
 <span data-ttu-id="7efc0-113">Para fazer isso, você adiciona os elementos de associação individuais a uma coleção representada por uma instância da <xref:System.ServiceModel.Channels.BindingElementCollection> classe e, em seguida, `Elements` define a propriedade `CustomBinding` de igual a esse objeto.</span><span class="sxs-lookup"><span data-stu-id="7efc0-113">To do this, you add the individual binding elements to a collection represented by an instance of the <xref:System.ServiceModel.Channels.BindingElementCollection> class, and then set the `Elements` property of the `CustomBinding` equal to that object.</span></span> <span data-ttu-id="7efc0-114">Você deve adicionar os elementos de associação na seguinte ordem: Fluxo de transações, sessão confiável, segurança, duplex composto, unidirecional, segurança de fluxo, codificação de mensagem e transporte.</span><span class="sxs-lookup"><span data-stu-id="7efc0-114">You must add the binding elements in the following order: Transaction Flow, Reliable Session, Security, Composite Duplex, One-way, Stream Security, Message Encoding, and Transport.</span></span> <span data-ttu-id="7efc0-115">Observe que nem todos os elementos de associação listados são necessários em cada associação.</span><span class="sxs-lookup"><span data-stu-id="7efc0-115">Note that not all the binding elements listed are required in every binding.</span></span>  
  
## <a name="securitybindingelement"></a><span data-ttu-id="7efc0-116">SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-116">SecurityBindingElement</span></span>  
 <span data-ttu-id="7efc0-117">Três elementos de ligação estão relacionados à segurança de nível de mensagem, que derivam da <xref:System.ServiceModel.Channels.SecurityBindingElement> classe.</span><span class="sxs-lookup"><span data-stu-id="7efc0-117">Three binding elements relate to message level security, all of which derive from the <xref:System.ServiceModel.Channels.SecurityBindingElement> class.</span></span> <span data-ttu-id="7efc0-118">Os três são <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>, <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>e <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="7efc0-118">The three are <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>, <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>, and <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>.</span></span> <span data-ttu-id="7efc0-119">O <xref:System.ServiceModel.Channels.TransportSecurityBindingElement> é usado para fornecer segurança de modo misto.</span><span class="sxs-lookup"><span data-stu-id="7efc0-119">The <xref:System.ServiceModel.Channels.TransportSecurityBindingElement> is used to provide Mixed mode security.</span></span> <span data-ttu-id="7efc0-120">Os outros dois elementos são usados quando a camada de mensagem fornece segurança.</span><span class="sxs-lookup"><span data-stu-id="7efc0-120">The other two elements are used when the message layer provides security.</span></span>  
  
 <span data-ttu-id="7efc0-121">Classes adicionais são usadas quando a segurança de nível de transporte é fornecida:</span><span class="sxs-lookup"><span data-stu-id="7efc0-121">Additional classes are used when transport level security is provided:</span></span>  
  
- <xref:System.ServiceModel.Channels.HttpsTransportBindingElement>  
  
- <xref:System.ServiceModel.Channels.SslStreamSecurityBindingElement>  
  
- <xref:System.ServiceModel.Channels.WindowsStreamSecurityBindingElement>  
  
## <a name="required-binding-elements"></a><span data-ttu-id="7efc0-122">Elementos de associação necessários</span><span class="sxs-lookup"><span data-stu-id="7efc0-122">Required Binding Elements</span></span>  
 <span data-ttu-id="7efc0-123">Há um grande número de elementos de ligação possíveis que podem ser combinados em uma associação.</span><span class="sxs-lookup"><span data-stu-id="7efc0-123">There are a large number of possible binding elements that can be combined into a binding.</span></span> <span data-ttu-id="7efc0-124">Nem todas essas combinações são válidas.</span><span class="sxs-lookup"><span data-stu-id="7efc0-124">Not all of these combinations are valid.</span></span> <span data-ttu-id="7efc0-125">Esta seção descreve os elementos necessários que devem estar presentes em uma associação de segurança.</span><span class="sxs-lookup"><span data-stu-id="7efc0-125">This section describes the required elements that must be present in a security binding.</span></span>  
  
 <span data-ttu-id="7efc0-126">As associações de segurança válidas dependem de vários fatores, incluindo o seguinte:</span><span class="sxs-lookup"><span data-stu-id="7efc0-126">Valid security bindings depend on many factors, including the following:</span></span>  
  
- <span data-ttu-id="7efc0-127">Modo de segurança.</span><span class="sxs-lookup"><span data-stu-id="7efc0-127">Security mode.</span></span>  
  
- <span data-ttu-id="7efc0-128">Protocolo de transporte.</span><span class="sxs-lookup"><span data-stu-id="7efc0-128">Transport protocol.</span></span>  
  
- <span data-ttu-id="7efc0-129">O padrão de troca de mensagens (MEP) especificado no contrato.</span><span class="sxs-lookup"><span data-stu-id="7efc0-129">The message exchange pattern (MEP) specified in the contract.</span></span>  
  
 <span data-ttu-id="7efc0-130">A tabela a seguir mostra as configurações de pilha de elemento de associação válidas para cada combinação dos fatores anteriores.</span><span class="sxs-lookup"><span data-stu-id="7efc0-130">The following table shows the valid binding element stack configurations for each combination of the preceding factors.</span></span> <span data-ttu-id="7efc0-131">Observe que esses são os requisitos mínimos.</span><span class="sxs-lookup"><span data-stu-id="7efc0-131">Note that these are minimal requirements.</span></span> <span data-ttu-id="7efc0-132">Você pode adicionar elementos de ligação adicionais à associação, como elementos de ligação de codificação de mensagens, elementos de associação de transação e outros elementos de ligação.</span><span class="sxs-lookup"><span data-stu-id="7efc0-132">You can add additional binding elements to the binding, such as message encoding binding elements, transaction binding elements, and other binding elements.</span></span>  
  
|<span data-ttu-id="7efc0-133">Modo de segurança</span><span class="sxs-lookup"><span data-stu-id="7efc0-133">Security Mode</span></span>|<span data-ttu-id="7efc0-134">Porta</span><span class="sxs-lookup"><span data-stu-id="7efc0-134">Transport</span></span>|<span data-ttu-id="7efc0-135">Padrão de troca de mensagens de contrato</span><span class="sxs-lookup"><span data-stu-id="7efc0-135">Contract Message Exchange Pattern</span></span>|<span data-ttu-id="7efc0-136">Padrão de troca de mensagens de contrato</span><span class="sxs-lookup"><span data-stu-id="7efc0-136">Contract Message Exchange Pattern</span></span>|<span data-ttu-id="7efc0-137">Padrão de troca de mensagens de contrato</span><span class="sxs-lookup"><span data-stu-id="7efc0-137">Contract Message Exchange Pattern</span></span>|  
|-------------------|---------------|---------------------------------------|---------------------------------------|---------------------------------------|  
|||`Datagram`|`Request Reply`|`Duplex`|  
|<span data-ttu-id="7efc0-138">Porta</span><span class="sxs-lookup"><span data-stu-id="7efc0-138">Transport</span></span>|<span data-ttu-id="7efc0-139">Https</span><span class="sxs-lookup"><span data-stu-id="7efc0-139">Https</span></span>||||  
|||<span data-ttu-id="7efc0-140">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-140">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="7efc0-141">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-141">HttpsTransportBindingElement</span></span>|<span data-ttu-id="7efc0-142">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-142">HttpsTransportBindingElement</span></span>||  
||<span data-ttu-id="7efc0-143">TCP</span><span class="sxs-lookup"><span data-stu-id="7efc0-143">TCP</span></span>||||  
|||<span data-ttu-id="7efc0-144">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-144">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="7efc0-145">SSL ou Windows StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-145">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="7efc0-146">SSL ou Windows StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-146">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="7efc0-147">SSL ou Windows StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-147">SSL or Windows StreamSecurityBindingElement</span></span>|  
|||<span data-ttu-id="7efc0-148">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-148">TcpTransportBindingElement</span></span>|<span data-ttu-id="7efc0-149">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-149">TcpTransportBindingElement</span></span>|<span data-ttu-id="7efc0-150">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-150">TcpTransportBindingElement</span></span>|  
|<span data-ttu-id="7efc0-151">Mensagem</span><span class="sxs-lookup"><span data-stu-id="7efc0-151">Message</span></span>|<span data-ttu-id="7efc0-152">Http</span><span class="sxs-lookup"><span data-stu-id="7efc0-152">Http</span></span>|<span data-ttu-id="7efc0-153">SymmetricSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-153">SymmetricSecurityBindingElement</span></span>|<span data-ttu-id="7efc0-154">SymmetricSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-154">SymmetricSecurityBindingElement</span></span>|<span data-ttu-id="7efc0-155">SymmetricSecurityBindingElement (modo de autenticação = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="7efc0-155">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|  
|||||<span data-ttu-id="7efc0-156">CompositeDuplexBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-156">CompositeDuplexBindingElement</span></span>|  
|||<span data-ttu-id="7efc0-157">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-157">OneWayBindingElement</span></span>||<span data-ttu-id="7efc0-158">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-158">OneWayBindingElement</span></span>|  
|||<span data-ttu-id="7efc0-159">HttpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-159">HttpTransportBindingElement</span></span>|<span data-ttu-id="7efc0-160">HttpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-160">HttpTransportBindingElement</span></span>|<span data-ttu-id="7efc0-161">HttpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-161">HttpTransportBindingElement</span></span>|  
||<span data-ttu-id="7efc0-162">Protocol</span><span class="sxs-lookup"><span data-stu-id="7efc0-162">Tcp</span></span>|<span data-ttu-id="7efc0-163">SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-163">SecurityBindingElement</span></span>|<span data-ttu-id="7efc0-164">SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-164">SecurityBindingElement</span></span>|<span data-ttu-id="7efc0-165">SymmetricSecurityBindingElement (modo de autenticação = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="7efc0-165">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|  
|||<span data-ttu-id="7efc0-166">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-166">TcpTransportBindingElement</span></span>|<span data-ttu-id="7efc0-167">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-167">TcpTransportBindingElement</span></span>|<span data-ttu-id="7efc0-168">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-168">TcpTransportBindingElement</span></span>|  
|<span data-ttu-id="7efc0-169">Misto (transporte com credenciais de mensagem)</span><span class="sxs-lookup"><span data-stu-id="7efc0-169">Mixed (transport with message credentials)</span></span>|<span data-ttu-id="7efc0-170">Https</span><span class="sxs-lookup"><span data-stu-id="7efc0-170">Https</span></span>|<span data-ttu-id="7efc0-171">TransportSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-171">TransportSecurityBindingElement</span></span>|<span data-ttu-id="7efc0-172">TransportSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-172">TransportSecurityBindingElement</span></span>||  
|||<span data-ttu-id="7efc0-173">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-173">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="7efc0-174">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-174">HttpsTransportBindingElement</span></span>|<span data-ttu-id="7efc0-175">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-175">HttpsTransportBindingElement</span></span>||  
||<span data-ttu-id="7efc0-176">TCP</span><span class="sxs-lookup"><span data-stu-id="7efc0-176">TCP</span></span>|<span data-ttu-id="7efc0-177">TransportSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-177">TransportSecurityBindingElement</span></span>|<span data-ttu-id="7efc0-178">SymmetricSecurityBindingElement (modo de autenticação = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="7efc0-178">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|<span data-ttu-id="7efc0-179">SymmetricSecurityBindingElement (modo de autenticação = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="7efc0-179">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|  
|||<span data-ttu-id="7efc0-180">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-180">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="7efc0-181">SSL ou Windows StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-181">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="7efc0-182">SSL ou Windows StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-182">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="7efc0-183">SSL ou Windows StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-183">SSL or Windows StreamSecurityBindingElement</span></span>|  
|||<span data-ttu-id="7efc0-184">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-184">TcpTransportBindingElement</span></span>|<span data-ttu-id="7efc0-185">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-185">TcpTransportBindingElement</span></span>|<span data-ttu-id="7efc0-186">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-186">TcpTransportBindingElement</span></span>|  
  
 <span data-ttu-id="7efc0-187">Observe que há muitas configurações configuráveis nos SecurityBindingElements.</span><span class="sxs-lookup"><span data-stu-id="7efc0-187">Note that there are many configurable settings on the SecurityBindingElements.</span></span> <span data-ttu-id="7efc0-188">Para obter mais informações, consulte [modos de autenticação SecurityBindingElement](../../../../docs/framework/wcf/feature-details/securitybindingelement-authentication-modes.md).</span><span class="sxs-lookup"><span data-stu-id="7efc0-188">For more information, see [SecurityBindingElement Authentication Modes](../../../../docs/framework/wcf/feature-details/securitybindingelement-authentication-modes.md).</span></span>  
  
 <span data-ttu-id="7efc0-189">Para obter mais informações, consulte [conversas seguras e sessões seguras](../../../../docs/framework/wcf/feature-details/secure-conversations-and-secure-sessions.md).</span><span class="sxs-lookup"><span data-stu-id="7efc0-189">For more information, see [Secure Conversations and Secure Sessions](../../../../docs/framework/wcf/feature-details/secure-conversations-and-secure-sessions.md).</span></span>  
  
## <a name="procedures"></a><span data-ttu-id="7efc0-190">Procedimentos</span><span class="sxs-lookup"><span data-stu-id="7efc0-190">Procedures</span></span>  
  
#### <a name="to-create-a-custom-binding-that-uses-a-symmetricsecuritybindingelement"></a><span data-ttu-id="7efc0-191">Para criar uma associação personalizada que usa um SymmetricSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="7efc0-191">To create a custom binding that uses a SymmetricSecurityBindingElement</span></span>  
  
1. <span data-ttu-id="7efc0-192">Crie uma instância da <xref:System.ServiceModel.Channels.BindingElementCollection> classe com o nome. `outputBec`</span><span class="sxs-lookup"><span data-stu-id="7efc0-192">Create an instance of the <xref:System.ServiceModel.Channels.BindingElementCollection> class with the name `outputBec`.</span></span>  
  
2. <span data-ttu-id="7efc0-193">Chame o método `M:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement(true)`estático, que retorna uma instância <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> da classe.</span><span class="sxs-lookup"><span data-stu-id="7efc0-193">Call the static method `M:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement(true)`, which returns an instance of the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> class.</span></span>  
  
3. <span data-ttu-id="7efc0-194">Adicione o <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> à coleção (`outputBec`) `Add` <xref:System.Collections.ObjectModel.Collection%601> chamando o<xref:System.ServiceModel.Channels.BindingElement> método da classe.</span><span class="sxs-lookup"><span data-stu-id="7efc0-194">Add the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> to the collection (`outputBec`) by calling the `Add` method of the <xref:System.Collections.ObjectModel.Collection%601> of <xref:System.ServiceModel.Channels.BindingElement> class.</span></span>  
  
4. <span data-ttu-id="7efc0-195">Crie uma instância da <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement> classe e adicione-a à coleção (`outputBec`).</span><span class="sxs-lookup"><span data-stu-id="7efc0-195">Create an instance of the <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement> class and add it to the collection (`outputBec`).</span></span> <span data-ttu-id="7efc0-196">Isso especifica a codificação usada pela associação.</span><span class="sxs-lookup"><span data-stu-id="7efc0-196">This specifies the encoding used by the binding.</span></span>  
  
5. <span data-ttu-id="7efc0-197">Crie um <xref:System.ServiceModel.Channels.HttpTransportBindingElement> e adicione-o à coleção (`outputBec`).</span><span class="sxs-lookup"><span data-stu-id="7efc0-197">Create a <xref:System.ServiceModel.Channels.HttpTransportBindingElement> and add it to the collection (`outputBec`).</span></span> <span data-ttu-id="7efc0-198">Isso especifica que a associação usa o transporte HTTP.</span><span class="sxs-lookup"><span data-stu-id="7efc0-198">This specifies that the binding uses the HTTP transport.</span></span>  
  
6. <span data-ttu-id="7efc0-199">Crie uma nova associação personalizada criando uma instância da <xref:System.ServiceModel.Channels.CustomBinding> classe e passando a coleção `outputBec` para o construtor.</span><span class="sxs-lookup"><span data-stu-id="7efc0-199">Create a new custom binding by creating an instance of the <xref:System.ServiceModel.Channels.CustomBinding> class and passing the collection `outputBec` to the constructor.</span></span>  
  
7. <span data-ttu-id="7efc0-200">A associação personalizada resultante compartilha muitas das mesmas características que o padrão <xref:System.ServiceModel.WSHttpBinding>.</span><span class="sxs-lookup"><span data-stu-id="7efc0-200">The resulting custom binding shares many of the same characteristics as the standard <xref:System.ServiceModel.WSHttpBinding>.</span></span> <span data-ttu-id="7efc0-201">Ele especifica segurança em nível de mensagem e credenciais do Windows, mas desabilita sessões seguras, requer que a credencial de serviço seja especificada fora de banda e não criptografe assinaturas.</span><span class="sxs-lookup"><span data-stu-id="7efc0-201">It specifies message-level security and Windows credentials but disables secure sessions, requires that the service credential be specified out-of-band, and does not encrypt signatures.</span></span> <span data-ttu-id="7efc0-202">O último pode ser controlado apenas definindo a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A> Propriedade, conforme mostrado na etapa 4.</span><span class="sxs-lookup"><span data-stu-id="7efc0-202">The last can be controlled only by setting the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A> property as shown in step 4.</span></span> <span data-ttu-id="7efc0-203">Os outros dois podem ser controlados usando as configurações na associação padrão.</span><span class="sxs-lookup"><span data-stu-id="7efc0-203">The other two can be controlled using settings on the standard binding.</span></span>  
  
## <a name="example"></a><span data-ttu-id="7efc0-204">Exemplo</span><span class="sxs-lookup"><span data-stu-id="7efc0-204">Example</span></span>  
  
### <a name="description"></a><span data-ttu-id="7efc0-205">Descrição</span><span class="sxs-lookup"><span data-stu-id="7efc0-205">Description</span></span>  
 <span data-ttu-id="7efc0-206">O exemplo a seguir fornece uma função completa para criar uma associação personalizada que usa <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>um.</span><span class="sxs-lookup"><span data-stu-id="7efc0-206">The following example provides a complete function to create a custom binding that uses a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>.</span></span>  
  
### <a name="code"></a><span data-ttu-id="7efc0-207">Código</span><span class="sxs-lookup"><span data-stu-id="7efc0-207">Code</span></span>  
 [!code-csharp[c_CustomBinding#20](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_custombinding/cs/c_custombinding.cs#20)]
 [!code-vb[c_CustomBinding#20](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_custombinding/vb/source.vb#20)]  
  
## <a name="see-also"></a><span data-ttu-id="7efc0-208">Consulte também</span><span class="sxs-lookup"><span data-stu-id="7efc0-208">See also</span></span>

- <xref:System.ServiceModel.Channels.SecurityBindingElement>
- <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>
- <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>
- <xref:System.ServiceModel.Channels.CustomBinding>
- [<span data-ttu-id="7efc0-209">Estendendo associações</span><span class="sxs-lookup"><span data-stu-id="7efc0-209">Extending Bindings</span></span>](../../../../docs/framework/wcf/extending/extending-bindings.md)
- [<span data-ttu-id="7efc0-210">Associações fornecidas pelo sistema</span><span class="sxs-lookup"><span data-stu-id="7efc0-210">System-Provided Bindings</span></span>](../../../../docs/framework/wcf/system-provided-bindings.md)
