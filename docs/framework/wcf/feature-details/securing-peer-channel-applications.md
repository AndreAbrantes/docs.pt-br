---
title: Protegendo aplicativos de canal par
ms.date: 03/30/2017
ms.assetid: d4a0311d-3f78-4525-9c4b-5c93c4492f28
ms.openlocfilehash: a747923f81f4773eb58a4b7500cf4fc1c006f889
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/23/2019
ms.locfileid: "61990945"
---
# <a name="securing-peer-channel-applications"></a><span data-ttu-id="ab706-102">Protegendo aplicativos de canal par</span><span class="sxs-lookup"><span data-stu-id="ab706-102">Securing Peer Channel Applications</span></span>
<span data-ttu-id="ab706-103">Como outras associações sob o [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)], `NetPeerTcpBinding` tem segurança habilitada por padrão e oferece tanto a segurança baseada em mensagem e transporte (ou ambos).</span><span class="sxs-lookup"><span data-stu-id="ab706-103">Like other bindings under the [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)], `NetPeerTcpBinding` has security enabled by default and offers both transport- and message-based security (or both).</span></span> <span data-ttu-id="ab706-104">Este tópico discute esses dois tipos de segurança.</span><span class="sxs-lookup"><span data-stu-id="ab706-104">This topic discusses these two types of security.</span></span> <span data-ttu-id="ab706-105">O tipo de segurança é especificado pela marca de modo de segurança na especificação de vinculação (<xref:System.ServiceModel.NetPeerTcpBinding.Security%2A>`Mode`).</span><span class="sxs-lookup"><span data-stu-id="ab706-105">The type of security is specified by the security mode tag in the binding specification (<xref:System.ServiceModel.NetPeerTcpBinding.Security%2A>`Mode`).</span></span>  
  
## <a name="transport-based-security"></a><span data-ttu-id="ab706-106">Segurança baseada no transporte</span><span class="sxs-lookup"><span data-stu-id="ab706-106">Transport-Based Security</span></span>  
 <span data-ttu-id="ab706-107">Canal par dá suporte a dois tipos de credenciais de autenticação para a proteção de transporte, que exigem configuração fora de `ClientCredentialSettings.Peer` propriedade associado `ChannelFactory`:</span><span class="sxs-lookup"><span data-stu-id="ab706-107">Peer Channel supports two types of authentication credentials for securing transport, both of which require setting out the `ClientCredentialSettings.Peer` property on the associated `ChannelFactory`:</span></span>  
  
- <span data-ttu-id="ab706-108">Senha.</span><span class="sxs-lookup"><span data-stu-id="ab706-108">Password.</span></span> <span data-ttu-id="ab706-109">Clientes usam o conhecimento de uma senha secreta para autenticar conexões.</span><span class="sxs-lookup"><span data-stu-id="ab706-109">Clients use knowledge of a secret password to authenticate connections.</span></span> <span data-ttu-id="ab706-110">Quando esse tipo de credencial é usado, `ClientCredentialSettings.Peer.MeshPassword` necessário realizar uma senha válida e, opcionalmente, um `X509Certificate2` instância.</span><span class="sxs-lookup"><span data-stu-id="ab706-110">When this credential type is used, `ClientCredentialSettings.Peer.MeshPassword` must carry a valid password and optionally an `X509Certificate2` instance.</span></span>  
  
- <span data-ttu-id="ab706-111">Certificado.</span><span class="sxs-lookup"><span data-stu-id="ab706-111">Certificate.</span></span> <span data-ttu-id="ab706-112">Autenticação de aplicativo específico é usada.</span><span class="sxs-lookup"><span data-stu-id="ab706-112">Specific application authentication is used.</span></span> <span data-ttu-id="ab706-113">Quando esse tipo de credencial é usado, você deve usar uma implementação concreta da <xref:System.IdentityModel.Selectors.X509CertificateValidator> em `ClientCredentialSettings.Peer.PeerAuthentication`.</span><span class="sxs-lookup"><span data-stu-id="ab706-113">When this credential type is used, you must use a concrete implementation of <xref:System.IdentityModel.Selectors.X509CertificateValidator> in `ClientCredentialSettings.Peer.PeerAuthentication`.</span></span>  
  
## <a name="message-based-security"></a><span data-ttu-id="ab706-114">Segurança baseada em mensagens</span><span class="sxs-lookup"><span data-stu-id="ab706-114">Message-Based Security</span></span>  
 <span data-ttu-id="ab706-115">Usando a segurança de mensagem, um aplicativo pode assinar as mensagens de saída para que todas as partes de recebimento podem verificar se que a mensagem é enviada por um terceiro confiável e que a mensagem não foi violado.</span><span class="sxs-lookup"><span data-stu-id="ab706-115">Using message security, an application can sign outgoing messages so that all receiving parties can verify the message is sent by a trusted party and that the message was not tampered with.</span></span> <span data-ttu-id="ab706-116">Atualmente, Peer Channel dá suporte a assinatura de mensagens de credencial de x. 509 única.</span><span class="sxs-lookup"><span data-stu-id="ab706-116">Currently, Peer Channel supports only X.509 credential message signing.</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="ab706-117">Práticas recomendadas</span><span class="sxs-lookup"><span data-stu-id="ab706-117">Best Practices</span></span>  
  
- <span data-ttu-id="ab706-118">Esta seção discute as práticas recomendadas para proteger os aplicativos de canal par.</span><span class="sxs-lookup"><span data-stu-id="ab706-118">This section discusses the best practices for securing Peer Channel applications.</span></span>  
  
### <a name="enable-security-with-peer-channel-applications"></a><span data-ttu-id="ab706-119">Habilitar a segurança com aplicativos de canal par</span><span class="sxs-lookup"><span data-stu-id="ab706-119">Enable Security with Peer Channel Applications</span></span>  
 <span data-ttu-id="ab706-120">Devido à natureza distribuída dos protocolos Peer Channel, é difícil para impor a associação de malha, confidencialidade e privacidade em uma malha não segura.</span><span class="sxs-lookup"><span data-stu-id="ab706-120">Due to the distributed nature of the Peer Channel protocols, it is hard to enforce mesh membership, confidentiality, and privacy in an unsecured mesh.</span></span> <span data-ttu-id="ab706-121">Também é importante lembrar-se de proteger a comunicação entre clientes e o serviço de resolvedor.</span><span class="sxs-lookup"><span data-stu-id="ab706-121">It is also important to remember to secure communication between clients and the resolver service.</span></span> <span data-ttu-id="ab706-122">Em resolução de protocolo PNRP (Peer Name), use nomes seguros para evitar a falsificação e outros ataques comuns.</span><span class="sxs-lookup"><span data-stu-id="ab706-122">Under Peer Name Resolution Protocol (PNRP), use secure names to avoid spoofing and other common attacks.</span></span> <span data-ttu-id="ab706-123">Proteger um serviço de resolvedor personalizado, permitindo a segurança sobre o uso de clientes de conexão entre em contato com o serviço de resolvedor, incluindo os dois segurança com base em mensagem e transporte.</span><span class="sxs-lookup"><span data-stu-id="ab706-123">Secure a custom resolver service by enabling security on the connection clients use to contact the resolver service, including both message- and transport-based security.</span></span>  
  
### <a name="use-the-strongest-possible-security-model"></a><span data-ttu-id="ab706-124">Usar o modelo de segurança mais forte</span><span class="sxs-lookup"><span data-stu-id="ab706-124">Use the Strongest Possible Security Model</span></span>  
 <span data-ttu-id="ab706-125">Por exemplo, se cada membro da malha precisa ser identificada individualmente, use o modelo de autenticação baseada em certificado.</span><span class="sxs-lookup"><span data-stu-id="ab706-125">For example, if each member of the mesh needs to be individually identified, use certificate-based authentication model.</span></span> <span data-ttu-id="ab706-126">Se isso não for possível, use a autenticação baseada em senha seguindo as recomendações atuais para mantê-los seguros.</span><span class="sxs-lookup"><span data-stu-id="ab706-126">If that is not possible, use password-based authentication following current recommendations to keep them secure.</span></span> <span data-ttu-id="ab706-127">Isso inclui o compartilhamento de senhas somente com partes confiáveis, transmitir senhas usando um meio seguro, alteração de senhas com frequência e garantindo que as senhas sejam fortes (pelo menos oito caracteres de comprimento, inclua pelo menos uma letra de ambos os casos, um dígito e um caractere especial).</span><span class="sxs-lookup"><span data-stu-id="ab706-127">This includes sharing passwords only with trusted parties, transmitting passwords using a secure medium, changing passwords frequently, and ensuring that passwords are strong (at least eight characters long, include at least one letter from both cases, a digit, and a special character).</span></span>  
  
### <a name="never-accept-self-signed-certificates"></a><span data-ttu-id="ab706-128">Nunca aceitar certificados autoassinados</span><span class="sxs-lookup"><span data-stu-id="ab706-128">Never Accept Self-Signed Certificates</span></span>  
 <span data-ttu-id="ab706-129">Nunca aceite uma credencial de certificado com base em nomes de assunto.</span><span class="sxs-lookup"><span data-stu-id="ab706-129">Never accept a certificate credential based on subject names.</span></span> <span data-ttu-id="ab706-130">Observe que qualquer pessoa pode criar um certificado, e qualquer pessoa pode escolher um nome que você está validando.</span><span class="sxs-lookup"><span data-stu-id="ab706-130">Note that anyone can create a certificate, and anyone can choose a name that you are validating.</span></span> <span data-ttu-id="ab706-131">Para evitar a possibilidade de falsificação, valide certificados com base na emissão de credenciais de autoridade (um emissor confiável ou uma autoridade de certificação raiz).</span><span class="sxs-lookup"><span data-stu-id="ab706-131">To avoid the possibility of spoofing, validate certificates based on issuing authority credentials (either a trusted issuer or a root certification authority).</span></span>  
  
### <a name="use-message-authentication"></a><span data-ttu-id="ab706-132">Usar a autenticação de mensagem</span><span class="sxs-lookup"><span data-stu-id="ab706-132">Use Message Authentication</span></span>  
 <span data-ttu-id="ab706-133">Use a autenticação de mensagem para verificar que uma mensagem proveniente de uma fonte confiável e que ninguém tenha violado a mensagem durante a transmissão.</span><span class="sxs-lookup"><span data-stu-id="ab706-133">Use message authentication to verify that a message originated from a trusted source and that no one has tampered with the message during transmission.</span></span> <span data-ttu-id="ab706-134">Sem a autenticação de mensagem, é mais fácil para um cliente mal-intencionado falsificar ou mensagens da malha.</span><span class="sxs-lookup"><span data-stu-id="ab706-134">Without message authentication, it is easy for a malicious client to spoof or tamper with messages in the mesh.</span></span>  
  
## <a name="peer-channel-code-examples"></a><span data-ttu-id="ab706-135">Exemplos de código de canal par</span><span class="sxs-lookup"><span data-stu-id="ab706-135">Peer Channel Code Examples</span></span>  
 [<span data-ttu-id="ab706-136">Cenários de canal par</span><span class="sxs-lookup"><span data-stu-id="ab706-136">Peer Channel Scenarios</span></span>](../../../../docs/framework/wcf/feature-details/peer-channel-scenarios.md)  
  
## <a name="see-also"></a><span data-ttu-id="ab706-137">Consulte também</span><span class="sxs-lookup"><span data-stu-id="ab706-137">See also</span></span>

- [<span data-ttu-id="ab706-138">Segurança de canal par</span><span class="sxs-lookup"><span data-stu-id="ab706-138">Peer Channel Security</span></span>](../../../../docs/framework/wcf/feature-details/peer-channel-security.md)
- [<span data-ttu-id="ab706-139">Compilando um aplicativo de canal par</span><span class="sxs-lookup"><span data-stu-id="ab706-139">Building a Peer Channel Application</span></span>](../../../../docs/framework/wcf/feature-details/building-a-peer-channel-application.md)
