---
title: Protegendo aplicativos de canal par
ms.date: 03/30/2017
ms.assetid: d4a0311d-3f78-4525-9c4b-5c93c4492f28
ms.openlocfilehash: 21bec1279d0f0172aa0e8acbcc05adf30a97c5b9
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/26/2020
ms.locfileid: "96288418"
---
# <a name="securing-peer-channel-applications"></a><span data-ttu-id="9e941-102">Protegendo aplicativos de canal par</span><span class="sxs-lookup"><span data-stu-id="9e941-102">Securing Peer Channel Applications</span></span>

<span data-ttu-id="9e941-103">Como outras associações no WinFX, o `NetPeerTcpBinding` tem segurança habilitada por padrão e oferece segurança baseada em transporte e mensagem (ou ambos).</span><span class="sxs-lookup"><span data-stu-id="9e941-103">Like other bindings under the WinFX, `NetPeerTcpBinding` has security enabled by default and offers both transport- and message-based security (or both).</span></span> <span data-ttu-id="9e941-104">Este tópico aborda esses dois tipos de segurança.</span><span class="sxs-lookup"><span data-stu-id="9e941-104">This topic discusses these two types of security.</span></span> <span data-ttu-id="9e941-105">O tipo de segurança é especificado pela marca de modo de segurança na especificação de ligação ( <xref:System.ServiceModel.NetPeerTcpBinding.Security%2A> `Mode` ).</span><span class="sxs-lookup"><span data-stu-id="9e941-105">The type of security is specified by the security mode tag in the binding specification (<xref:System.ServiceModel.NetPeerTcpBinding.Security%2A>`Mode`).</span></span>  
  
## <a name="transport-based-security"></a><span data-ttu-id="9e941-106">Segurança de Transport-Based</span><span class="sxs-lookup"><span data-stu-id="9e941-106">Transport-Based Security</span></span>  

 <span data-ttu-id="9e941-107">O canal par dá suporte a dois tipos de credenciais de autenticação para proteger o transporte, e ambos exigem a configuração da `ClientCredentialSettings.Peer` propriedade no associado `ChannelFactory` :</span><span class="sxs-lookup"><span data-stu-id="9e941-107">Peer Channel supports two types of authentication credentials for securing transport, both of which require setting out the `ClientCredentialSettings.Peer` property on the associated `ChannelFactory`:</span></span>  
  
- <span data-ttu-id="9e941-108">Senha.</span><span class="sxs-lookup"><span data-stu-id="9e941-108">Password.</span></span> <span data-ttu-id="9e941-109">Os clientes usam o conhecimento de uma senha secreta para autenticar conexões.</span><span class="sxs-lookup"><span data-stu-id="9e941-109">Clients use knowledge of a secret password to authenticate connections.</span></span> <span data-ttu-id="9e941-110">Quando esse tipo de credencial é usado, o `ClientCredentialSettings.Peer.MeshPassword` deve transportar uma senha válida e, opcionalmente, uma `X509Certificate2` instância.</span><span class="sxs-lookup"><span data-stu-id="9e941-110">When this credential type is used, `ClientCredentialSettings.Peer.MeshPassword` must carry a valid password and optionally an `X509Certificate2` instance.</span></span>  
  
- <span data-ttu-id="9e941-111">Certificado.</span><span class="sxs-lookup"><span data-stu-id="9e941-111">Certificate.</span></span> <span data-ttu-id="9e941-112">A autenticação de aplicativo específica é usada.</span><span class="sxs-lookup"><span data-stu-id="9e941-112">Specific application authentication is used.</span></span> <span data-ttu-id="9e941-113">Quando esse tipo de credencial é usado, você deve usar uma implementação concreta do <xref:System.IdentityModel.Selectors.X509CertificateValidator> no `ClientCredentialSettings.Peer.PeerAuthentication` .</span><span class="sxs-lookup"><span data-stu-id="9e941-113">When this credential type is used, you must use a concrete implementation of <xref:System.IdentityModel.Selectors.X509CertificateValidator> in `ClientCredentialSettings.Peer.PeerAuthentication`.</span></span>  
  
## <a name="message-based-security"></a><span data-ttu-id="9e941-114">Segurança de Message-Based</span><span class="sxs-lookup"><span data-stu-id="9e941-114">Message-Based Security</span></span>  

 <span data-ttu-id="9e941-115">Usando a segurança de mensagem, um aplicativo pode assinar mensagens de saída para que todas as partes receptoras possam verificar se a mensagem foi enviada por uma parte confiável e que a mensagem não foi violada.</span><span class="sxs-lookup"><span data-stu-id="9e941-115">Using message security, an application can sign outgoing messages so that all receiving parties can verify the message is sent by a trusted party and that the message was not tampered with.</span></span> <span data-ttu-id="9e941-116">Atualmente, o canal par dá suporte apenas à assinatura de mensagem de credencial X. 509.</span><span class="sxs-lookup"><span data-stu-id="9e941-116">Currently, Peer Channel supports only X.509 credential message signing.</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="9e941-117">Práticas Recomendadas</span><span class="sxs-lookup"><span data-stu-id="9e941-117">Best Practices</span></span>  
  
- <span data-ttu-id="9e941-118">Esta seção aborda as práticas recomendadas para proteger os aplicativos de canal par.</span><span class="sxs-lookup"><span data-stu-id="9e941-118">This section discusses the best practices for securing Peer Channel applications.</span></span>  
  
### <a name="enable-security-with-peer-channel-applications"></a><span data-ttu-id="9e941-119">Habilitar a segurança com aplicativos de canal de emparelhamento</span><span class="sxs-lookup"><span data-stu-id="9e941-119">Enable Security with Peer Channel Applications</span></span>  

 <span data-ttu-id="9e941-120">Devido à natureza distribuída dos protocolos de canal de par, é difícil impor a associação, a confidencialidade e a privacidade da malha em uma malha não segura.</span><span class="sxs-lookup"><span data-stu-id="9e941-120">Due to the distributed nature of the Peer Channel protocols, it is hard to enforce mesh membership, confidentiality, and privacy in an unsecured mesh.</span></span> <span data-ttu-id="9e941-121">Também é importante lembrar-se de proteger a comunicação entre clientes e o serviço resolvedor.</span><span class="sxs-lookup"><span data-stu-id="9e941-121">It is also important to remember to secure communication between clients and the resolver service.</span></span> <span data-ttu-id="9e941-122">Em PNRP (Peer Name Resolution Protocol), use nomes seguros para evitar falsificação e outros ataques comuns.</span><span class="sxs-lookup"><span data-stu-id="9e941-122">Under Peer Name Resolution Protocol (PNRP), use secure names to avoid spoofing and other common attacks.</span></span> <span data-ttu-id="9e941-123">Proteger um serviço de resolvedor personalizado habilitando a segurança na conexão que os clientes usam para entrar em contato com o serviço de resolvedor, incluindo segurança baseada em mensagem e transporte.</span><span class="sxs-lookup"><span data-stu-id="9e941-123">Secure a custom resolver service by enabling security on the connection clients use to contact the resolver service, including both message- and transport-based security.</span></span>  
  
### <a name="use-the-strongest-possible-security-model"></a><span data-ttu-id="9e941-124">Usar o modelo de segurança mais forte possível</span><span class="sxs-lookup"><span data-stu-id="9e941-124">Use the Strongest Possible Security Model</span></span>  

 <span data-ttu-id="9e941-125">Por exemplo, se cada membro da malha precisar ser identificado individualmente, use o modelo de autenticação baseada em certificado.</span><span class="sxs-lookup"><span data-stu-id="9e941-125">For example, if each member of the mesh needs to be individually identified, use certificate-based authentication model.</span></span> <span data-ttu-id="9e941-126">Se isso não for possível, use a autenticação baseada em senha seguindo as recomendações atuais para mantê-las seguras.</span><span class="sxs-lookup"><span data-stu-id="9e941-126">If that is not possible, use password-based authentication following current recommendations to keep them secure.</span></span> <span data-ttu-id="9e941-127">Isso inclui o compartilhamento de senhas somente com partes confiáveis, a transmissão de senhas usando uma mídia segura, a alteração de senhas com frequência e a garantia de que as senhas sejam fortes (pelo menos oito caracteres, inclua pelo menos uma letra de ambos os casos, um dígito e um caractere especial).</span><span class="sxs-lookup"><span data-stu-id="9e941-127">This includes sharing passwords only with trusted parties, transmitting passwords using a secure medium, changing passwords frequently, and ensuring that passwords are strong (at least eight characters long, include at least one letter from both cases, a digit, and a special character).</span></span>  
  
### <a name="never-accept-self-signed-certificates"></a><span data-ttu-id="9e941-128">Nunca aceitar Self-Signed certificados</span><span class="sxs-lookup"><span data-stu-id="9e941-128">Never Accept Self-Signed Certificates</span></span>  

 <span data-ttu-id="9e941-129">Nunca aceite uma credencial de certificado com base em nomes de entidades.</span><span class="sxs-lookup"><span data-stu-id="9e941-129">Never accept a certificate credential based on subject names.</span></span> <span data-ttu-id="9e941-130">Observe que qualquer pessoa pode criar um certificado e qualquer pessoa pode escolher um nome que você está validando.</span><span class="sxs-lookup"><span data-stu-id="9e941-130">Note that anyone can create a certificate, and anyone can choose a name that you are validating.</span></span> <span data-ttu-id="9e941-131">Para evitar a possibilidade de falsificação, valide certificados com base em credenciais de autoridade emissora (um emissor confiável ou uma autoridade de certificação raiz).</span><span class="sxs-lookup"><span data-stu-id="9e941-131">To avoid the possibility of spoofing, validate certificates based on issuing authority credentials (either a trusted issuer or a root certification authority).</span></span>  
  
### <a name="use-message-authentication"></a><span data-ttu-id="9e941-132">Usar autenticação de mensagens</span><span class="sxs-lookup"><span data-stu-id="9e941-132">Use Message Authentication</span></span>  

 <span data-ttu-id="9e941-133">Use a autenticação de mensagens para verificar se uma mensagem foi originada de uma fonte confiável e se ninguém foi adulterada com a mensagem durante a transmissão.</span><span class="sxs-lookup"><span data-stu-id="9e941-133">Use message authentication to verify that a message originated from a trusted source and that no one has tampered with the message during transmission.</span></span> <span data-ttu-id="9e941-134">Sem a autenticação de mensagens, é fácil para um cliente mal-intencionado falsificar ou adulterar mensagens na malha.</span><span class="sxs-lookup"><span data-stu-id="9e941-134">Without message authentication, it is easy for a malicious client to spoof or tamper with messages in the mesh.</span></span>  
  
## <a name="peer-channel-code-examples"></a><span data-ttu-id="9e941-135">Exemplos de código de canal par</span><span class="sxs-lookup"><span data-stu-id="9e941-135">Peer Channel Code Examples</span></span>  

 [<span data-ttu-id="9e941-136">Cenários de canal par</span><span class="sxs-lookup"><span data-stu-id="9e941-136">Peer Channel Scenarios</span></span>](peer-channel-scenarios.md)  
  
## <a name="see-also"></a><span data-ttu-id="9e941-137">Veja também</span><span class="sxs-lookup"><span data-stu-id="9e941-137">See also</span></span>

- [<span data-ttu-id="9e941-138">Segurança de canal par</span><span class="sxs-lookup"><span data-stu-id="9e941-138">Peer Channel Security</span></span>](peer-channel-security.md)
- [<span data-ttu-id="9e941-139">Compilando um aplicativo de canal par</span><span class="sxs-lookup"><span data-stu-id="9e941-139">Building a Peer Channel Application</span></span>](building-a-peer-channel-application.md)
