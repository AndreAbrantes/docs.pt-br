---
title: Mensagens de segurança que usam a segurança de transporte
ms.date: 03/30/2017
ms.assetid: 9029771a-097e-448a-a13a-55d2878330b8
ms.openlocfilehash: 6f93fa37c6f1d6a0d7396c7f9ea5e97b44d1dc92
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64603515"
---
# <a name="securing-messages-using-transport-security"></a><span data-ttu-id="9c3cc-102">Mensagens de segurança que usam a segurança de transporte</span><span class="sxs-lookup"><span data-stu-id="9c3cc-102">Securing Messages Using Transport Security</span></span>
<span data-ttu-id="9c3cc-103">Esta seção aborda a segurança de transporte de enfileiramento de mensagens (MSMQ) que você pode usar para proteger as mensagens enviadas para uma fila.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-103">This section discusses Message Queuing (MSMQ) transport security that you can use to secure messages sent to a queue.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9c3cc-104">Antes de ler este tópico, é recomendável que você leia [conceitos de segurança](../../../../docs/framework/wcf/feature-details/security-concepts.md).</span><span class="sxs-lookup"><span data-stu-id="9c3cc-104">Before reading through this topic, it is recommended that you read [Security Concepts](../../../../docs/framework/wcf/feature-details/security-concepts.md).</span></span>  
  
 <span data-ttu-id="9c3cc-105">A ilustração a seguir fornece um modelo conceitual de comunicação em fila usando o Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="9c3cc-105">The following illustration provides a conceptual model of queued communication using Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="9c3cc-106">Esta ilustração e a terminologia é usado para explicar conceitos de segurança de transporte.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-106">This illustration and terminology is used to explain transport security concepts.</span></span>  
  
 <span data-ttu-id="9c3cc-107">![Na fila de diagrama de aplicativo](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "Figura distribuídas de fila")</span><span class="sxs-lookup"><span data-stu-id="9c3cc-107">![Queued Application Diagram](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "Distributed-Queue-Figure")</span></span>  
  
 <span data-ttu-id="9c3cc-108">Ao enviar mensagens na fila usando o WCF com <xref:System.ServiceModel.NetMsmqBinding>, a mensagem do WCF é anexada como um corpo da mensagem do MSMQ.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-108">When sending queued messages using WCF with <xref:System.ServiceModel.NetMsmqBinding>, the WCF message is attached as a body of the MSMQ message.</span></span> <span data-ttu-id="9c3cc-109">Segurança de transporte protege a mensagem inteira do MSMQ (cabeçalhos de mensagem do MSMQ ou as propriedades e o corpo da mensagem).</span><span class="sxs-lookup"><span data-stu-id="9c3cc-109">Transport security secures the entire MSMQ message (MSMQ message headers or properties and the message body).</span></span> <span data-ttu-id="9c3cc-110">Como é o corpo da mensagem do MSMQ, também usando a segurança de transporte protege a mensagem do WCF.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-110">Because it is the body of the MSMQ message, using transport security also secures the WCF message.</span></span>  
  
 <span data-ttu-id="9c3cc-111">O conceito fundamental por trás da segurança de transporte é que o cliente deve atender aos requisitos de segurança para obter a mensagem à fila de destino.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-111">The key concept behind transport security is that the client has to meet security requirements to get the message to the target queue.</span></span> <span data-ttu-id="9c3cc-112">Isso é diferente de segurança da mensagem, em que a mensagem é protegida para o aplicativo que recebe a mensagem.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-112">This is unlike Message security, where the message is secured for the application that receives the message.</span></span>  
  
 <span data-ttu-id="9c3cc-113">Segurança de transporte usando <xref:System.ServiceModel.NetMsmqBinding> e <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding> afeta como mensagens MSMQ são protegidas em trânsito entre a fila de transmissão e a fila de destino onde protegido implica:</span><span class="sxs-lookup"><span data-stu-id="9c3cc-113">Transport security using <xref:System.ServiceModel.NetMsmqBinding> and <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding> impacts how MSMQ messages are secured in-transit between the transmission queue and the target queue where secured implies:</span></span>  
  
- <span data-ttu-id="9c3cc-114">Assinar a mensagem para assegurar que ele não seja violado.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-114">Signing the message to ensure it is not tampered with.</span></span>  
  
- <span data-ttu-id="9c3cc-115">Criptografar a mensagem para garantir que não podem ser visto ou violado.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-115">Encrypting the message to ensure that it cannot be seen or tampered with.</span></span> <span data-ttu-id="9c3cc-116">Isso é opcional mas recomendado.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-116">This is recommended but optional.</span></span>  
  
- <span data-ttu-id="9c3cc-117">O Gerenciador de fila de destino que identifica o remetente da mensagem de não-repúdio.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-117">The target queue manager that identifies the sender of the message for non-repudiation.</span></span>  
  
 <span data-ttu-id="9c3cc-118">No MSMQ, independente de autenticação, a fila de destino tem uma lista de controle de acesso (ACL) para verificar se o cliente tem permissão para enviar a mensagem à fila de destino.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-118">In MSMQ, independent of authentication, the target queue has an access control list (ACL) to check whether the client has permission to send the message to the target queue.</span></span> <span data-ttu-id="9c3cc-119">O aplicativo de recebimento também é verificado para a permissão receber a mensagem da fila de destino.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-119">The receiving application is also checked for permission to receive the message from the target queue.</span></span>  
  
## <a name="wcf-msmq-transport-security-properties"></a><span data-ttu-id="9c3cc-120">Propriedades de segurança do transporte MSMQ do WCF</span><span class="sxs-lookup"><span data-stu-id="9c3cc-120">WCF MSMQ Transport Security Properties</span></span>  
 <span data-ttu-id="9c3cc-121">MSMQ usa a segurança do Windows para autenticação.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-121">MSMQ uses Windows security for authentication.</span></span> <span data-ttu-id="9c3cc-122">Ele usa o identificador de segurança (SID) do Windows para identificar o cliente e usa o serviço de diretório do Active Directory como a autoridade de certificação ao autenticar o cliente.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-122">It uses the Windows security identifier (SID) to identify the client and uses Active Directory directory service as the certificate authority when authenticating the client.</span></span> <span data-ttu-id="9c3cc-123">Isso requer que o MSMQ ser instalado com a integração do Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-123">This requires MSMQ to be installed with Active Directory integration.</span></span> <span data-ttu-id="9c3cc-124">Como o SID de domínio do Windows é usado para identificar o cliente, essa opção de segurança só é significativa quando o cliente e o serviço fazem parte do mesmo domínio do Windows.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-124">Because the Windows domain SID is used to identify the client, this security option is only meaningful when both the client and service are part of the same Windows domain.</span></span>  
  
 <span data-ttu-id="9c3cc-125">MSMQ também fornece a capacidade de anexar um certificado com a mensagem que não está registrado com o Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-125">MSMQ also provides the ability to attach a certificate with the message that is not registered with Active Directory.</span></span> <span data-ttu-id="9c3cc-126">Nesse caso, ele garante que a mensagem foi assinada usando o certificado anexado.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-126">In this case, it ensures that the message was signed using the attached certificate.</span></span>  
  
 <span data-ttu-id="9c3cc-127">O WCF fornece essas duas opções como parte da segurança do transporte MSMQ e são o pivô central de segurança de transporte.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-127">WCF provides both these options as part of MSMQ transport security and they are the key pivot for transport security.</span></span>  
  
 <span data-ttu-id="9c3cc-128">Por padrão, a segurança de transporte é ativada.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-128">By default, transport security is turned on.</span></span>  
  
 <span data-ttu-id="9c3cc-129">Dada a estas noções básicas, as seções a seguir propriedades de segurança de transporte de detalhes fornecidas com <xref:System.ServiceModel.NetMsmqBinding> e <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding>.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-129">Given these basics, the following sections detail transport security properties bundled with <xref:System.ServiceModel.NetMsmqBinding> and <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding>.</span></span>  
  
#### <a name="msmq-authentication-mode"></a><span data-ttu-id="9c3cc-130">Modo de autenticação do MSMQ</span><span class="sxs-lookup"><span data-stu-id="9c3cc-130">MSMQ Authentication Mode</span></span>  
 <span data-ttu-id="9c3cc-131">O <xref:System.ServiceModel.MsmqTransportSecurity.MsmqAuthenticationMode%2A> determina se deve usar a segurança de domínio do Windows ou um segurança externa baseada em certificado para proteger a mensagem.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-131">The <xref:System.ServiceModel.MsmqTransportSecurity.MsmqAuthenticationMode%2A> dictates whether to use the Windows domain security or an external certificate-based security to secure the message.</span></span> <span data-ttu-id="9c3cc-132">Em ambos os modos de autenticação, o canal de transporte enfileiradas de WCF usa o `CertificateValidationMode` especificado na configuração do serviço.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-132">In both authentication modes, the WCF queued transport channel uses the `CertificateValidationMode` specified in the service configuration.</span></span> <span data-ttu-id="9c3cc-133">O modo de validação de certificado Especifica o mecanismo usado para verificar a validade do certificado.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-133">The certificate validation mode specifies the mechanism used to check the validity of the certificate.</span></span>  
  
 <span data-ttu-id="9c3cc-134">Quando a segurança de transporte é ativada, a configuração padrão é <xref:System.ServiceModel.MsmqAuthenticationMode.WindowsDomain>.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-134">When transport security is turned on, the default setting is <xref:System.ServiceModel.MsmqAuthenticationMode.WindowsDomain>.</span></span>  
  
#### <a name="windows-domain-authentication-mode"></a><span data-ttu-id="9c3cc-135">Modo de autenticação de domínio do Windows</span><span class="sxs-lookup"><span data-stu-id="9c3cc-135">Windows Domain Authentication Mode</span></span>  
 <span data-ttu-id="9c3cc-136">A opção de usar a segurança do Windows requer a integração do Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-136">The choice of using Windows security requires Active Directory integration.</span></span> <span data-ttu-id="9c3cc-137"><xref:System.ServiceModel.MsmqAuthenticationMode.WindowsDomain> é o modo de segurança de transporte padrão.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-137"><xref:System.ServiceModel.MsmqAuthenticationMode.WindowsDomain> is the default transport security mode.</span></span> <span data-ttu-id="9c3cc-138">Quando isso for definido, o canal do WCF anexa o SID do Windows para a mensagem do MSMQ e usa seu certificado interno obtido do Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-138">When this is set, the WCF channel attaches the Windows SID to the MSMQ message and uses its internal certificate obtained from Active Directory.</span></span> <span data-ttu-id="9c3cc-139">MSMQ usa esse certificado interno para proteger a mensagem.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-139">MSMQ uses this internal certificate to secure the message.</span></span> <span data-ttu-id="9c3cc-140">Gerenciador de fila de recebimento usa o Active Directory para pesquisar e encontrar um certificado correspondente para autenticar o cliente e verifica se o SID também corresponde do cliente.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-140">The receiving queue manager uses Active Directory to search and find a matching certificate to authenticate the client and checks that the SID also matches that of the client.</span></span> <span data-ttu-id="9c3cc-141">Essa etapa de autenticação será executada se um certificado, geradas internamente no caso de `WindowsDomain` modo de autenticação ou gerados externamente no caso de `Certificate` o modo de autenticação é anexado à mensagem, mesmo se a fila de destino não é marcado como exigindo autenticação.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-141">This authentication step is executed if a certificate, either internally generated in the case of `WindowsDomain` authentication mode or externally generated in the case of `Certificate` authentication mode, is attached to the message even if the target queue is not marked as requiring authentication.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9c3cc-142">Ao criar uma fila, você pode marcar a fila como uma fila autenticada para indicar que a fila requer autenticação do cliente enviar mensagens à fila.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-142">When creating a queue, you can mark the queue as an authenticated queue to indicate that the queue requires authentication of the client sending messages to the queue.</span></span> <span data-ttu-id="9c3cc-143">Isso garante que nenhuma mensagem não autenticadas é aceitos na fila.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-143">This ensures that no unauthenticated messages are accepted in the queue.</span></span>  
  
 <span data-ttu-id="9c3cc-144">O SID é anexado com a mensagem também é usada para verificar em relação a ACL da fila de destino para garantir que o cliente tem autoridade para enviar mensagens à fila.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-144">The SID attached with the message is also used to check against the target queue's ACL to ensure that the client has the authority to send messages to the queue.</span></span>  
  
#### <a name="certificate-authentication-mode"></a><span data-ttu-id="9c3cc-145">Modo de autenticação de certificado</span><span class="sxs-lookup"><span data-stu-id="9c3cc-145">Certificate Authentication Mode</span></span>  
 <span data-ttu-id="9c3cc-146">A opção de usar o modo de autenticação de certificado não requer integração do Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-146">The choice of using certificate authentication mode does not require Active Directory integration.</span></span> <span data-ttu-id="9c3cc-147">Na verdade, em alguns casos, como quando o MSMQ está instalado no modo de grupo de trabalho (sem a integração do Active Directory) ou quando usando o Reliable Messaging protocolo SRMP (SOAP) para enviar mensagens à fila, somente o protocolo de transferência <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate> funciona.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-147">In fact, in some cases, such as when MSMQ is installed in workgroup mode (without Active Directory integration) or when using the SOAP Reliable Messaging Protocol (SRMP) transfer protocol to send messages to the queue, only <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate> works.</span></span>  
  
 <span data-ttu-id="9c3cc-148">Ao enviar uma mensagem do WCF com <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate>, o canal do WCF não for anexado a um SID do Windows para a mensagem do MSMQ.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-148">When sending a WCF message with <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate>, the WCF channel does not attach a Windows SID to the MSMQ message.</span></span> <span data-ttu-id="9c3cc-149">Como tal, a fila de destino ACL deve permitir `Anonymous` acesso do usuário para enviar para a fila.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-149">As such, the target queue ACL must allow for `Anonymous` user access to send to the queue.</span></span> <span data-ttu-id="9c3cc-150">Gerenciador de fila de recebimento verifica se a mensagem do MSMQ foi assinada com o certificado, mas não realiza qualquer autenticação.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-150">The receiving queue manager checks whether the MSMQ message was signed with the certificate but does not perform any authentication.</span></span>  
  
 <span data-ttu-id="9c3cc-151">O certificado com suas declarações e informações de identidade é preenchido no <xref:System.ServiceModel.ServiceSecurityContext> pelo canal de transporte em fila do WCF.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-151">The certificate with its claims and identity information is populated in the <xref:System.ServiceModel.ServiceSecurityContext> by the WCF queued transport channel.</span></span> <span data-ttu-id="9c3cc-152">O serviço pode usar essas informações para executar sua própria autenticação do remetente.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-152">The service can use this information to perform its own authentication of the sender.</span></span>  
  
### <a name="msmq-protection-level"></a><span data-ttu-id="9c3cc-153">Nível de proteção do MSMQ</span><span class="sxs-lookup"><span data-stu-id="9c3cc-153">MSMQ Protection Level</span></span>  
 <span data-ttu-id="9c3cc-154">O nível de proteção determina como proteger a mensagem do MSMQ para garantir que ele não seja violado.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-154">The protection level dictates how to protect the MSMQ message to ensure that it is not tampered with.</span></span> <span data-ttu-id="9c3cc-155">Ele é especificado no <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> propriedade.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-155">It is specified in the <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> property.</span></span> <span data-ttu-id="9c3cc-156">O valor padrão é <xref:System.Net.Security.ProtectionLevel.Sign>.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-156">The default value is <xref:System.Net.Security.ProtectionLevel.Sign>.</span></span>  
  
#### <a name="sign-protection-level"></a><span data-ttu-id="9c3cc-157">Nível de proteção de entrada</span><span class="sxs-lookup"><span data-stu-id="9c3cc-157">Sign Protection Level</span></span>  
 <span data-ttu-id="9c3cc-158">A mensagem do MSMQ é assinada usando o certificado gerado internamente ao usar `WindowsDomain` modo de autenticação ou um certificado gerado externamente ao usar `Certificate` modo de autenticação.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-158">The MSMQ message is signed using the internally generated certificate when using `WindowsDomain` authentication mode or an externally generated certificate when using `Certificate` authentication mode.</span></span>  
  
#### <a name="sign-and-encrypt-protection-level"></a><span data-ttu-id="9c3cc-159">Assinar e criptografar o nível de proteção</span><span class="sxs-lookup"><span data-stu-id="9c3cc-159">Sign and Encrypt Protection Level</span></span>  
 <span data-ttu-id="9c3cc-160">A mensagem do MSMQ é assinada usando o certificado gerado internamente ao usar `WindowsDomain` modo de autenticação ou certificados gerados externamente ao usar `Certificate` modo de autenticação.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-160">The MSMQ message is signed using the internally generated certificate when using `WindowsDomain` authentication mode or externally generated certificate when using `Certificate` authentication mode.</span></span>  
  
 <span data-ttu-id="9c3cc-161">Além de se a mensagem, a mensagem do MSMQ é criptografada usando a chave pública do certificado obtido do Active Directory que pertence ao Gerenciador de fila de recebimento que hospeda a fila de destino.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-161">In addition to signing the message, the MSMQ message is encrypted using the public key of the certificate obtained from Active Directory that belongs to the receiving queue manager that hosts the target queue.</span></span> <span data-ttu-id="9c3cc-162">O Gerenciador de fila de envio garante que a mensagem do MSMQ é criptografada em trânsito.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-162">The sending queue manager ensures that the MSMQ message is encrypted in transit.</span></span> <span data-ttu-id="9c3cc-163">Gerenciador de fila de recebimento descriptografa a mensagem do MSMQ usando a chave privada do seu certificado interno e armazena a mensagem na fila (se autenticado e autorizado) em texto não criptografado.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-163">The receiving queue manager decrypts the MSMQ message using the private key of its internal certificate and stores the message in the queue (if authenticated and authorized) in clear text.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9c3cc-164">Para criptografar a mensagem, o acesso do Active Directory é necessário (`UseActiveDirectory` propriedade de <xref:System.ServiceModel.NetMsmqBinding> deve ser definida como `true`) e podem ser usados com ambos <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate> e <xref:System.ServiceModel.MsmqAuthenticationMode.WindowsDomain>.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-164">To encrypt the message, Active Directory access is required (`UseActiveDirectory` property of <xref:System.ServiceModel.NetMsmqBinding> must be set to `true`) and can be used with both <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate> and <xref:System.ServiceModel.MsmqAuthenticationMode.WindowsDomain>.</span></span>  
  
#### <a name="none-protection-level"></a><span data-ttu-id="9c3cc-165">Nenhum nível de proteção</span><span class="sxs-lookup"><span data-stu-id="9c3cc-165">None Protection Level</span></span>  
 <span data-ttu-id="9c3cc-166">Isso é indicado quando <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> é definido como <xref:System.Net.Security.ProtectionLevel.None>.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-166">This is implied when <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> is set to <xref:System.Net.Security.ProtectionLevel.None>.</span></span> <span data-ttu-id="9c3cc-167">Isso não pode ser um valor válido para outros modos de autenticação.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-167">This cannot be a valid value for any other authentication modes.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9c3cc-168">Se a mensagem do MSMQ é assinada, MSMQ verifica se a mensagem for assinada com o certificado anexado (interno ou externo) independentemente do estado da fila, autenticado ou seja, a fila ou não.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-168">If the MSMQ message is signed, MSMQ checks whether the message is signed with the attached certificate (internal or external) independent of the state of the queue, that is, authenticated queue or not.</span></span>  
  
### <a name="msmq-encryption-algorithm"></a><span data-ttu-id="9c3cc-169">Algoritmo de criptografia do MSMQ</span><span class="sxs-lookup"><span data-stu-id="9c3cc-169">MSMQ Encryption Algorithm</span></span>  
 <span data-ttu-id="9c3cc-170">O algoritmo de criptografia Especifica o algoritmo a ser usado para criptografar a mensagem do MSMQ durante a transmissão.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-170">The encryption algorithm specifies the algorithm to use to encrypt the MSMQ message on the wire.</span></span> <span data-ttu-id="9c3cc-171">Essa propriedade é usada somente se <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> é definido como <xref:System.Net.Security.ProtectionLevel.EncryptAndSign>.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-171">This property is used only if <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> is set to <xref:System.Net.Security.ProtectionLevel.EncryptAndSign>.</span></span>  
  
 <span data-ttu-id="9c3cc-172">Os algoritmos compatíveis são `RC4Stream` e `AES` e o padrão é `RC4Stream`.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-172">The supported algorithms are `RC4Stream` and `AES` and the default is `RC4Stream`.</span></span>  
  
 <span data-ttu-id="9c3cc-173">Você pode usar o `AES` algoritmo somente se o remetente tem MSMQ 4.0 instalado.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-173">You can use the `AES` algorithm only if the sender has MSMQ 4.0 installed.</span></span> <span data-ttu-id="9c3cc-174">Além disso, a fila de destino também deve ser hospedada no MSMQ 4.0.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-174">In addition, the target queue must also be hosted on MSMQ 4.0.</span></span>  
  
### <a name="msmq-hash-algorithm"></a><span data-ttu-id="9c3cc-175">Algoritmo de Hash do MSMQ</span><span class="sxs-lookup"><span data-stu-id="9c3cc-175">MSMQ Hash Algorithm</span></span>  
 <span data-ttu-id="9c3cc-176">O algoritmo de hash Especifica o algoritmo usado para criar uma assinatura digital da mensagem do MSMQ.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-176">The hash algorithm specifies the algorithm used to create a digital signature of the MSMQ message.</span></span> <span data-ttu-id="9c3cc-177">Gerenciador de fila de recebimento usa esse mesmo algoritmo para autenticar a mensagem do MSMQ.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-177">The receiving queue manager uses this same algorithm to authenticate the MSMQ message.</span></span> <span data-ttu-id="9c3cc-178">Essa propriedade é usada somente se <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> é definido como <xref:System.Net.Security.ProtectionLevel.Sign> ou <xref:System.Net.Security.ProtectionLevel.EncryptAndSign>.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-178">This property is used only if <xref:System.ServiceModel.MsmqTransportSecurity.MsmqProtectionLevel%2A> is set to <xref:System.Net.Security.ProtectionLevel.Sign> or <xref:System.Net.Security.ProtectionLevel.EncryptAndSign>.</span></span>  
  
 <span data-ttu-id="9c3cc-179">Os algoritmos com suporte são `MD5`, `SHA1`, `SHA256` e `SHA512`.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-179">The supported algorithms are `MD5`, `SHA1`, `SHA256`, and `SHA512`.</span></span> <span data-ttu-id="9c3cc-180">O padrão é `SHA1`.</span><span class="sxs-lookup"><span data-stu-id="9c3cc-180">The default is `SHA1`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9c3cc-181">Consulte também</span><span class="sxs-lookup"><span data-stu-id="9c3cc-181">See also</span></span>

- [<span data-ttu-id="9c3cc-182">Visão geral de filas</span><span class="sxs-lookup"><span data-stu-id="9c3cc-182">Queues Overview</span></span>](queues-overview.md)
- [<span data-ttu-id="9c3cc-183">Conceitos de segurança</span><span class="sxs-lookup"><span data-stu-id="9c3cc-183">Security Concepts</span></span>](../../../../docs/framework/wcf/feature-details/security-concepts.md)
- [<span data-ttu-id="9c3cc-184">Protegendo serviços e clientes</span><span class="sxs-lookup"><span data-stu-id="9c3cc-184">Securing Services and Clients</span></span>](../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)
