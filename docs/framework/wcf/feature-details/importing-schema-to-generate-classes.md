---
title: Importando esquema para gerar classes
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF, schema import and export
- XsdDataContractImporter class
ms.assetid: b9170583-8c34-43bd-97bb-6c0c8dddeee0
caps.latest.revision: "15"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: ae7ed7b1d01420c8e542d9ecce577995e927adc3
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/02/2017
---
# <a name="importing-schema-to-generate-classes"></a><span data-ttu-id="f9716-102">Importando esquema para gerar classes</span><span class="sxs-lookup"><span data-stu-id="f9716-102">Importing Schema to Generate Classes</span></span>
<span data-ttu-id="f9716-103">Para gerar classes de esquemas que podem ser usados com [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)], use o <xref:System.Runtime.Serialization.XsdDataContractImporter> classe.</span><span class="sxs-lookup"><span data-stu-id="f9716-103">To generate classes from schemas that are usable with [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)], use the <xref:System.Runtime.Serialization.XsdDataContractImporter> class.</span></span> <span data-ttu-id="f9716-104">Este tópico descreve o processo e variações.</span><span class="sxs-lookup"><span data-stu-id="f9716-104">This topic describes the process and variations.</span></span>  
  
## <a name="the-import-process"></a><span data-ttu-id="f9716-105">O processo de importação</span><span class="sxs-lookup"><span data-stu-id="f9716-105">The Import Process</span></span>  
 <span data-ttu-id="f9716-106">Inicia o processo de importação de esquema com um <xref:System.Xml.Schema.XmlSchemaSet> e produz um <xref:System.CodeDom.CodeCompileUnit>.</span><span class="sxs-lookup"><span data-stu-id="f9716-106">The schema import process starts with an <xref:System.Xml.Schema.XmlSchemaSet> and produces a <xref:System.CodeDom.CodeCompileUnit>.</span></span>  
  
 <span data-ttu-id="f9716-107">O `XmlSchemaSet` faz parte do [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]do modelo de objeto de esquema (SOM) que representa um conjunto de documentos de esquema XML Schema definition language (XSD).</span><span class="sxs-lookup"><span data-stu-id="f9716-107">The `XmlSchemaSet` is a part of the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]’s Schema Object Model (SOM) that represents a set of XML Schema definition language (XSD) schema documents.</span></span> <span data-ttu-id="f9716-108">Para criar um `XmlSchemaSet` de objeto de um conjunto de documentos XSD, desserializar cada documento em um <xref:System.Xml.Schema.XmlSchema> objeto (usando o <xref:System.Xml.Serialization.XmlSerializer>) e adicione esses objetos para um novo `XmlSchemaSet`.</span><span class="sxs-lookup"><span data-stu-id="f9716-108">To create an `XmlSchemaSet` object from a set of XSD documents, deserialize each document into an <xref:System.Xml.Schema.XmlSchema> object (using the <xref:System.Xml.Serialization.XmlSerializer>) and add these objects to a new `XmlSchemaSet`.</span></span>  
  
 <span data-ttu-id="f9716-109">O `CodeCompileUnit` faz parte do [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]do código Document Object Model (CodeDOM) que representa [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] código de forma abstrata.</span><span class="sxs-lookup"><span data-stu-id="f9716-109">The `CodeCompileUnit` is part of the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]’s Code Document Object Model (CodeDOM) that represents [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] code in an abstract way.</span></span> <span data-ttu-id="f9716-110">Para gerar o código real de um `CodeCompileUnit`, use uma subclasse do <xref:System.CodeDom.Compiler.CodeDomProvider> classe, como o <xref:Microsoft.CSharp.CSharpCodeProvider> ou <xref:Microsoft.VisualBasic.VBCodeProvider> classe.</span><span class="sxs-lookup"><span data-stu-id="f9716-110">To generate the actual code from a `CodeCompileUnit`, use a subclass of the <xref:System.CodeDom.Compiler.CodeDomProvider> class, such as the <xref:Microsoft.CSharp.CSharpCodeProvider> or <xref:Microsoft.VisualBasic.VBCodeProvider> class.</span></span>  
  
#### <a name="to-import-a-schema"></a><span data-ttu-id="f9716-111">Para importar um esquema</span><span class="sxs-lookup"><span data-stu-id="f9716-111">To import a schema</span></span>  
  
1.  <span data-ttu-id="f9716-112">Criar uma instância do <xref:System.Runtime.Serialization.XsdDataContractImporter>.</span><span class="sxs-lookup"><span data-stu-id="f9716-112">Create an instance of the <xref:System.Runtime.Serialization.XsdDataContractImporter>.</span></span>  
  
2.  <span data-ttu-id="f9716-113">Opcional.</span><span class="sxs-lookup"><span data-stu-id="f9716-113">Optional.</span></span> <span data-ttu-id="f9716-114">Passar um `CodeCompileUnit` no construtor.</span><span class="sxs-lookup"><span data-stu-id="f9716-114">Pass a `CodeCompileUnit` in the constructor.</span></span> <span data-ttu-id="f9716-115">Os tipos gerados durante a importação de esquema são adicionados a este `CodeCompileUnit` instância em vez de começar com um espaço em branco `CodeCompileUnit`.</span><span class="sxs-lookup"><span data-stu-id="f9716-115">The types generated during schema import are added to this `CodeCompileUnit` instance instead of starting with a blank `CodeCompileUnit`.</span></span>  
  
3.  <span data-ttu-id="f9716-116">Opcional.</span><span class="sxs-lookup"><span data-stu-id="f9716-116">Optional.</span></span> <span data-ttu-id="f9716-117">Chame um do <xref:System.Runtime.Serialization.XsdDataContractImporter.CanImport%2A> métodos.</span><span class="sxs-lookup"><span data-stu-id="f9716-117">Call one of the <xref:System.Runtime.Serialization.XsdDataContractImporter.CanImport%2A> methods.</span></span> <span data-ttu-id="f9716-118">O método determina se o esquema fornecido é um esquema de contrato de dados válido e pode ser importado.</span><span class="sxs-lookup"><span data-stu-id="f9716-118">The method determines whether the given schema is a valid data contract schema and can be imported.</span></span> <span data-ttu-id="f9716-119">O `CanImport` método tem as mesmo sobrecargas como `Import` (a próxima etapa).</span><span class="sxs-lookup"><span data-stu-id="f9716-119">The `CanImport` method has the same overloads as `Import` (the next step).</span></span>  
  
4.  <span data-ttu-id="f9716-120">Chame um dos sobrecarregados `Import` métodos, por exemplo, o <xref:System.Runtime.Serialization.XsdDataContractImporter.Import%28System.Xml.Schema.XmlSchemaSet%29> método.</span><span class="sxs-lookup"><span data-stu-id="f9716-120">Call one of the overloaded `Import` methods, for example, the <xref:System.Runtime.Serialization.XsdDataContractImporter.Import%28System.Xml.Schema.XmlSchemaSet%29> method.</span></span>  
  
     <span data-ttu-id="f9716-121">A sobrecarga mais simples tem um `XmlSchemaSet` e importa todos os tipos, incluindo tipos anônimos, encontrados no conjunto de esquema.</span><span class="sxs-lookup"><span data-stu-id="f9716-121">The simplest overload takes an `XmlSchemaSet` and imports all types, including anonymous types, found in that schema set.</span></span> <span data-ttu-id="f9716-122">Outras sobrecargas permitem que você especifique o tipo XSD ou uma lista de tipos para importar (na forma de um <xref:System.Xml.XmlQualifiedName> ou uma coleção de `XmlQualifiedName` objetos).</span><span class="sxs-lookup"><span data-stu-id="f9716-122">Other overloads allow you to specify the XSD type or a list of types to import (in the form of an <xref:System.Xml.XmlQualifiedName> or a collection of `XmlQualifiedName` objects).</span></span> <span data-ttu-id="f9716-123">Nesse caso, somente os tipos especificados são importados.</span><span class="sxs-lookup"><span data-stu-id="f9716-123">In this case, only the specified types are imported.</span></span> <span data-ttu-id="f9716-124">Usa uma sobrecarga um <xref:System.Xml.Schema.XmlSchemaElement> que importa um determinado elemento do `XmlSchemaSet`, bem como seu tipo associado (se ela é anônima ou não).</span><span class="sxs-lookup"><span data-stu-id="f9716-124">An overload takes an <xref:System.Xml.Schema.XmlSchemaElement> that imports a particular element out of the `XmlSchemaSet`, as well as its associated type (whether it is anonymous or not).</span></span> <span data-ttu-id="f9716-125">Essa sobrecarga retorna um `XmlQualifiedName`, que representa o nome do contrato de dados do tipo gerado para este elemento.</span><span class="sxs-lookup"><span data-stu-id="f9716-125">This overload returns an `XmlQualifiedName`, which represents the data contract name of the type generated for this element.</span></span>  
  
     <span data-ttu-id="f9716-126">Diversas chamadas do `Import` método resultam em vários itens que estão sendo adicionadas à mesma `CodeCompileUnit`.</span><span class="sxs-lookup"><span data-stu-id="f9716-126">Multiple calls of the `Import` method result in multiple items being added to the same `CodeCompileUnit`.</span></span> <span data-ttu-id="f9716-127">Um tipo não é gerado para o `CodeCompileUnit` se ele já existe.</span><span class="sxs-lookup"><span data-stu-id="f9716-127">A type is not generated into the `CodeCompileUnit` if it already exists there.</span></span> <span data-ttu-id="f9716-128">Chamar `Import` várias vezes na mesma `XsdDataContractImporter` em vez de usar várias `XsdDataContractImporter` objetos.</span><span class="sxs-lookup"><span data-stu-id="f9716-128">Call `Import` multiple times on the same `XsdDataContractImporter` instead of using multiple `XsdDataContractImporter` objects.</span></span> <span data-ttu-id="f9716-129">Essa é a maneira recomendada para evitar tipos duplicados que está sendo gerados.</span><span class="sxs-lookup"><span data-stu-id="f9716-129">This is the recommended way to avoid duplicate types being generated.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="f9716-130">Se houver uma falha durante a importação, o `CodeCompileUnit` estará em um estado imprevisível.</span><span class="sxs-lookup"><span data-stu-id="f9716-130">If there is a failure during import, the `CodeCompileUnit` will be in an unpredictable state.</span></span> <span data-ttu-id="f9716-131">Usando um `CodeCompileUnit` resultante de uma falha na importação pode expor você a vulnerabilidades de segurança.</span><span class="sxs-lookup"><span data-stu-id="f9716-131">Using a `CodeCompileUnit` resulting from a failed import could expose you to security vulnerabilities.</span></span>  
  
5.  <span data-ttu-id="f9716-132">Acesso a `CodeCompileUnit` por meio de <xref:System.Runtime.Serialization.XsdDataContractImporter.CodeCompileUnit%2A> propriedade.</span><span class="sxs-lookup"><span data-stu-id="f9716-132">Access the `CodeCompileUnit` through the <xref:System.Runtime.Serialization.XsdDataContractImporter.CodeCompileUnit%2A> property.</span></span>  
  
### <a name="import-options-customizing-the-generated-types"></a><span data-ttu-id="f9716-133">Opções de importação: Personalizando os tipos gerados</span><span class="sxs-lookup"><span data-stu-id="f9716-133">Import Options: Customizing the Generated Types</span></span>  
 <span data-ttu-id="f9716-134">Você pode definir o <xref:System.Runtime.Serialization.XsdDataContractImporter.Options%2A> propriedade o <xref:System.Runtime.Serialization.XsdDataContractImporter> a uma instância do <xref:System.Runtime.Serialization.ImportOptions> classe para controlar vários aspectos do processo de importação.</span><span class="sxs-lookup"><span data-stu-id="f9716-134">You can set the <xref:System.Runtime.Serialization.XsdDataContractImporter.Options%2A> property of the <xref:System.Runtime.Serialization.XsdDataContractImporter> to an instance of the <xref:System.Runtime.Serialization.ImportOptions> class to control various aspects of the import process.</span></span> <span data-ttu-id="f9716-135">Um número de opções influenciar diretamente os tipos que são gerados.</span><span class="sxs-lookup"><span data-stu-id="f9716-135">A number of options directly influence the types that are generated.</span></span>  
  
#### <a name="controlling-the-access-level-generateinternal-or-the-internal-switch"></a><span data-ttu-id="f9716-136">Controlar o nível de acesso (GenerateInternal ou / interno alternar)</span><span class="sxs-lookup"><span data-stu-id="f9716-136">Controlling the Access Level (GenerateInternal or the /internal switch)</span></span>  
 <span data-ttu-id="f9716-137">Isso corresponde do **/ interno** alternar o [Ferramenta Utilitária de metadados ServiceModel (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md).</span><span class="sxs-lookup"><span data-stu-id="f9716-137">This corresponds to the **/internal** switch on the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md).</span></span>  
  
 <span data-ttu-id="f9716-138">Normalmente, os tipos públicos são gerados de esquema, com campos particulares e propriedades de membro de dados públicos correspondente.</span><span class="sxs-lookup"><span data-stu-id="f9716-138">Normally, public types are generated from schema, with private fields and matching public data member properties.</span></span> <span data-ttu-id="f9716-139">Para gerar tipos internos em vez disso, defina o <xref:System.Runtime.Serialization.ImportOptions.GenerateInternal%2A> propriedade `true`.</span><span class="sxs-lookup"><span data-stu-id="f9716-139">To generate internal types instead, set the <xref:System.Runtime.Serialization.ImportOptions.GenerateInternal%2A> property to `true`.</span></span>  
  
 <span data-ttu-id="f9716-140">O exemplo a seguir mostra um esquema transformado em interno quando o <xref:System.Runtime.Serialization.ImportOptions.GenerateInternal%2A> estiver definida como`true.`</span><span class="sxs-lookup"><span data-stu-id="f9716-140">The following example shows a schema transformed into an internal class when the <xref:System.Runtime.Serialization.ImportOptions.GenerateInternal%2A> property is set to `true.`</span></span>  
  
 [!code-csharp[c_SchemaImportExport#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#2)]
 [!code-vb[c_SchemaImportExport#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#2)]  
  
#### <a name="controlling-namespaces-namespaces-or-the-namespace-switch"></a><span data-ttu-id="f9716-141">Controlando Namespaces (espaços para nome ou o /namespace alternar)</span><span class="sxs-lookup"><span data-stu-id="f9716-141">Controlling Namespaces (Namespaces or the /namespace switch)</span></span>  
 <span data-ttu-id="f9716-142">Isso corresponde do **/namespace** alternar o `Svcutil.exe` ferramenta.</span><span class="sxs-lookup"><span data-stu-id="f9716-142">This corresponds to the **/namespace** switch on the `Svcutil.exe` tool.</span></span>  
  
 <span data-ttu-id="f9716-143">Normalmente, os tipos gerados a partir de esquema são gerados em [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] namespaces, com cada namespace XSD correspondente a um determinado [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] namespace de acordo com um mapeamento descrito na [referência de esquema de contrato de dados](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md).</span><span class="sxs-lookup"><span data-stu-id="f9716-143">Normally, types generated from schema are generated into [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] namespaces, with each XSD namespace corresponding to a particular [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] namespace according to a mapping described in [Data Contract Schema Reference](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md).</span></span> <span data-ttu-id="f9716-144">Você pode personalizar esse mapeamento, o <xref:System.Runtime.Serialization.ImportOptions.Namespaces%2A> propriedade para um <xref:System.Collections.Generic.Dictionary%602>.</span><span class="sxs-lookup"><span data-stu-id="f9716-144">You can customize this mapping by the <xref:System.Runtime.Serialization.ImportOptions.Namespaces%2A> property to a <xref:System.Collections.Generic.Dictionary%602>.</span></span> <span data-ttu-id="f9716-145">Se um namespace XSD específico for encontrado no dicionário, a correspondência [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] namespace também será removido do dicionário.</span><span class="sxs-lookup"><span data-stu-id="f9716-145">If a given XSD namespace is found in the dictionary, the matching [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] namespace is also taken from your dictionary.</span></span>  
  
 <span data-ttu-id="f9716-146">Por exemplo, considere o esquema a seguir.</span><span class="sxs-lookup"><span data-stu-id="f9716-146">For example, consider the following schema.</span></span>  
  
 [!code-xml[c_SchemaImportExport#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#10)]  
  
 <span data-ttu-id="f9716-147">O exemplo a seguir usa o `Namespaces` propriedade para mapear o namespace "http://schemas.contoso.com/carSchema" para "Contoso.Cars".</span><span class="sxs-lookup"><span data-stu-id="f9716-147">The following example uses the `Namespaces` property to map the "http://schemas.contoso.com/carSchema" namespace to "Contoso.Cars".</span></span>  
  
 [!code-csharp[c_SchemaImportExport#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#8)]
 [!code-vb[c_SchemaImportExport#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#8)]  
  
#### <a name="adding-the-serializableattribute-generateserializable-or-the-serializable-switch"></a><span data-ttu-id="f9716-148">Adicionando o SerializableAttribute (GenerateSerializable ou / serializável alternar)</span><span class="sxs-lookup"><span data-stu-id="f9716-148">Adding the SerializableAttribute (GenerateSerializable or the /serializable switch)</span></span>  
 <span data-ttu-id="f9716-149">Isso corresponde do **/ serializável** alternar o `Svcutil.exe` ferramenta.</span><span class="sxs-lookup"><span data-stu-id="f9716-149">This corresponds to the **/serializable** switch on the `Svcutil.exe` tool.</span></span>  
  
 <span data-ttu-id="f9716-150">Às vezes, é importante para os tipos gerados a partir do esquema a ser usado com [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] mecanismos de serialização de tempo de execução (por exemplo, o <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter?displayProperty=nameWithType> e <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter> classes).</span><span class="sxs-lookup"><span data-stu-id="f9716-150">Sometimes it is important for the types generated from the schema to be usable with [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] runtime serialization engines (for example, the <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter?displayProperty=nameWithType> and the <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter> classes).</span></span> <span data-ttu-id="f9716-151">Isso é útil ao usar tipos de [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] comunicação remota.</span><span class="sxs-lookup"><span data-stu-id="f9716-151">This is useful when using types for [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] remoting.</span></span> <span data-ttu-id="f9716-152">Para habilitar isso, você deve aplicar o <xref:System.SerializableAttribute> atributo para os tipos gerados além normal <xref:System.Runtime.Serialization.DataContractAttribute> atributo.</span><span class="sxs-lookup"><span data-stu-id="f9716-152">To enable this, you must apply the <xref:System.SerializableAttribute> attribute to the generated types in addition to the regular <xref:System.Runtime.Serialization.DataContractAttribute> attribute.</span></span> <span data-ttu-id="f9716-153">O atributo é gerado automaticamente se o `GenerateSerializable` opção de importação está definida como `true`.</span><span class="sxs-lookup"><span data-stu-id="f9716-153">The attribute is generated automatically if the `GenerateSerializable` import option is set to `true`.</span></span>  
  
 <span data-ttu-id="f9716-154">A exemplo a seguir mostra o `Vehicle` classe gerada com o `GenerateSerializable` opção definida como importar `true`.</span><span class="sxs-lookup"><span data-stu-id="f9716-154">The following example shows the `Vehicle` class generated with the `GenerateSerializable` import option set to `true`.</span></span>  
  
 [!code-csharp[c_SchemaImportExport#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#4)]
 [!code-vb[c_SchemaImportExport#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#4)]  
  
#### <a name="adding-data-binding-support-enabledatabinding-or-the-enabledatabinding-switch"></a><span data-ttu-id="f9716-155">Adicionando suporte a associação de dados (EnableDataBinding ou a opção /enableDataBinding)</span><span class="sxs-lookup"><span data-stu-id="f9716-155">Adding Data Binding Support (EnableDataBinding or the /enableDataBinding switch)</span></span>  
 <span data-ttu-id="f9716-156">Isso corresponde do **/enableDataBinding** ativar a ferramenta Svcutil.exe.</span><span class="sxs-lookup"><span data-stu-id="f9716-156">This corresponds to the **/enableDataBinding** switch on the Svcutil.exe tool.</span></span>  
  
 <span data-ttu-id="f9716-157">Às vezes, você talvez queira associar os tipos gerados do esquema de componentes da interface gráfica do usuário para que qualquer atualização instâncias desses tipos atualizará automaticamente a interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="f9716-157">Sometimes, you may want to bind the types generated from the schema to graphical user interface components so that any update to instances of these types will automatically update the UI.</span></span> <span data-ttu-id="f9716-158">O `XsdDataContractImporter` pode gerar tipos que implementam o <xref:System.ComponentModel.INotifyPropertyChanged> interface de forma que qualquer alteração de propriedade dispara um evento.</span><span class="sxs-lookup"><span data-stu-id="f9716-158">The `XsdDataContractImporter` can generate types that implement the <xref:System.ComponentModel.INotifyPropertyChanged> interface in such a way that any property change triggers an event.</span></span> <span data-ttu-id="f9716-159">Se você estiver gerando tipos para uso com um ambiente de programação de interface do usuário de cliente que dá suporte a essa interface (como [!INCLUDE[avalon1](../../../../includes/avalon1-md.md)]), defina o <xref:System.Runtime.Serialization.ImportOptions.EnableDataBinding%2A> propriedade `true` para habilitar esse recurso.</span><span class="sxs-lookup"><span data-stu-id="f9716-159">If you are generating types for use with a client UI programming environment that supports this interface (such as [!INCLUDE[avalon1](../../../../includes/avalon1-md.md)]), set the <xref:System.Runtime.Serialization.ImportOptions.EnableDataBinding%2A> property to `true` to enable this feature.</span></span>  
  
 <span data-ttu-id="f9716-160">A exemplo a seguir mostra o `Vehicle` classe gerada com o <xref:System.Runtime.Serialization.ImportOptions.EnableDataBinding%2A> definido como `true`.</span><span class="sxs-lookup"><span data-stu-id="f9716-160">The following example shows the `Vehicle` class generated with the <xref:System.Runtime.Serialization.ImportOptions.EnableDataBinding%2A> set to `true`.</span></span>  
  
 [!code-csharp[C_SchemaImportExport#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#5)]
 [!code-vb[C_SchemaImportExport#5](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#5)]  
  
### <a name="import-options-choosing-collection-types"></a><span data-ttu-id="f9716-161">Opções de importação: Escolher tipos de coleção</span><span class="sxs-lookup"><span data-stu-id="f9716-161">Import Options: Choosing Collection Types</span></span>  
 <span data-ttu-id="f9716-162">Dois padrões de especiais no XML representam coleções de itens: lista de itens e as associações entre um item e o outro.</span><span class="sxs-lookup"><span data-stu-id="f9716-162">Two special patterns in XML represent collections of items: lists of items and associations between one item and another.</span></span> <span data-ttu-id="f9716-163">Este é um exemplo de uma lista de cadeias de caracteres.</span><span class="sxs-lookup"><span data-stu-id="f9716-163">The following is an example of a list of strings.</span></span>  
  
 [!code-xml[C_SchemaImportExport#11](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#11)]  
  
 <span data-ttu-id="f9716-164">A seguir está um exemplo de uma associação entre uma cadeia de caracteres e um número inteiro (`city name` e `population`).</span><span class="sxs-lookup"><span data-stu-id="f9716-164">The following is an example of an association between a string and an integer (`city name` and `population`).</span></span>  
  
 [!code-xml[C_SchemaImportExport#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#12)]  
  
> [!NOTE]
>  <span data-ttu-id="f9716-165">Qualquer associação também pode ser considerada uma lista.</span><span class="sxs-lookup"><span data-stu-id="f9716-165">Any association could also be considered a list.</span></span> <span data-ttu-id="f9716-166">Por exemplo, você pode exibir a associação anterior como uma lista de complexo `city` objetos que têm dois campos (um campo de cadeia de caracteres e um campo de número inteiro).</span><span class="sxs-lookup"><span data-stu-id="f9716-166">For example, you can view the preceding association as a list of complex `city` objects that happen to have two fields (a string field and an integer field).</span></span> <span data-ttu-id="f9716-167">Ambos os padrões são uma representação no esquema XSD.</span><span class="sxs-lookup"><span data-stu-id="f9716-167">Both patterns have a representation in the XSD Schema.</span></span> <span data-ttu-id="f9716-168">Não é possível diferenciar entre uma lista e uma associação para tais padrões sempre são tratados como listas, a menos que uma anotação especial específica para [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] está presente no esquema.</span><span class="sxs-lookup"><span data-stu-id="f9716-168">There is no way to differentiate between a list and an association, so such patterns are always treated as lists unless a special annotation specific to [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is present in the schema.</span></span> <span data-ttu-id="f9716-169">A anotação indica que um determinado padrão representa uma associação.</span><span class="sxs-lookup"><span data-stu-id="f9716-169">The annotation indicates that a given pattern represents an association.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="f9716-170">[Contrato de dados de referência de esquema](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md).</span><span class="sxs-lookup"><span data-stu-id="f9716-170"> [Data Contract Schema Reference](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md).</span></span>  
  
 <span data-ttu-id="f9716-171">Normalmente, uma lista é importada como um contrato de dados de coleção que é derivada de uma lista genérica ou como um [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] matriz, dependendo se o esquema segue o padrão de nomenclatura padrão para coleções.</span><span class="sxs-lookup"><span data-stu-id="f9716-171">Normally, a list is imported as a collection data contract that derives from a Generic List or as a [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] array, depending on whether or not the schema follows the standard naming pattern for collections.</span></span> <span data-ttu-id="f9716-172">Isso é descrito mais detalhadamente na [tipos de coleção em contratos de dados](../../../../docs/framework/wcf/feature-details/collection-types-in-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="f9716-172">This is described in more detail in [Collection Types in Data Contracts](../../../../docs/framework/wcf/feature-details/collection-types-in-data-contracts.md).</span></span> <span data-ttu-id="f9716-173">As associações são normalmente importadas como um <xref:System.Collections.Generic.Dictionary%602> ou um contrato de dados de coleção que é derivado do objeto de dicionário.</span><span class="sxs-lookup"><span data-stu-id="f9716-173">Associations are normally imported as either a <xref:System.Collections.Generic.Dictionary%602> or a collection data contract that derives from the dictionary object.</span></span> <span data-ttu-id="f9716-174">Por exemplo, considere o esquema a seguir.</span><span class="sxs-lookup"><span data-stu-id="f9716-174">For example, consider the following schema.</span></span>  
  
 [!code-xml[c_SchemaImportExport#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#13)]  
  
 <span data-ttu-id="f9716-175">Isso poderia ser importado da seguinte maneira (os campos são exibidos em vez de propriedades para facilitar a leitura).</span><span class="sxs-lookup"><span data-stu-id="f9716-175">This would be imported as follows (fields are shown instead of properties for readability).</span></span>  
  
 [!code-csharp[c_SchemaImportExport#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#6)]
 [!code-vb[c_SchemaImportExport#6](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#6)]  
  
 <span data-ttu-id="f9716-176">É possível personalizar os tipos de coleção são gerados para tais padrões de esquema.</span><span class="sxs-lookup"><span data-stu-id="f9716-176">It is possible to customize the collection types that are generated for such schema patterns.</span></span> <span data-ttu-id="f9716-177">Por exemplo, é aconselhável gerar coleções derivam o <xref:System.ComponentModel.BindingList%601> em vez da <xref:System.Collections.Generic.List%601> classe para o tipo de associação para uma caixa de listagem e que ele seja atualizado automaticamente quando o conteúdo da coleção é alterado.</span><span class="sxs-lookup"><span data-stu-id="f9716-177">For example, you may want to generate collections deriving from the <xref:System.ComponentModel.BindingList%601> instead of the <xref:System.Collections.Generic.List%601> class in order to bind the type to a list box and have it be automatically updated when the contents of the collection change.</span></span> <span data-ttu-id="f9716-178">Para fazer isso, defina o <xref:System.Runtime.Serialization.ImportOptions.ReferencedCollectionTypes%2A> propriedade o <xref:System.Runtime.Serialization.ImportOptions> classe para uma lista de tipos de coleção a ser usado (daqui por diante conhecidos como tipos referenciados).</span><span class="sxs-lookup"><span data-stu-id="f9716-178">To do this, set the <xref:System.Runtime.Serialization.ImportOptions.ReferencedCollectionTypes%2A> property of the <xref:System.Runtime.Serialization.ImportOptions> class to a list of collection types to be used (hereafter known as the referenced types).</span></span> <span data-ttu-id="f9716-179">Ao importar qualquer coleção, esta lista de tipos de coleção referenciado é examinada e a coleção de melhor correspondência é usada caso seja encontrado.</span><span class="sxs-lookup"><span data-stu-id="f9716-179">When importing any collection, this list of referenced collection types is scanned and the best-matching collection is used if one is found.</span></span> <span data-ttu-id="f9716-180">Associações são comparadas somente com tipos que implementam genérica ou não genérica <xref:System.Collections.IDictionary> interface, enquanto as listas são comparadas com qualquer tipo de coleção com suporte.</span><span class="sxs-lookup"><span data-stu-id="f9716-180">Associations are matched only against types that implement either the generic or the nongeneric <xref:System.Collections.IDictionary> interface, while lists are matched against any supported collection type.</span></span>  
  
 <span data-ttu-id="f9716-181">Por exemplo, se o <xref:System.Runtime.Serialization.ImportOptions.ReferencedCollectionTypes%2A> está definida como um <xref:System.ComponentModel.BindingList%601>, o `people` tipo no exemplo anterior é gerado da seguinte maneira.</span><span class="sxs-lookup"><span data-stu-id="f9716-181">For example, if the <xref:System.Runtime.Serialization.ImportOptions.ReferencedCollectionTypes%2A> property is set to a <xref:System.ComponentModel.BindingList%601>, the `people` type in the preceding example is generated as follows.</span></span>  
  
 [!code-csharp[C_SchemaImportExport#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#7)]
 [!code-vb[C_SchemaImportExport#7](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#7)]  
  
 <span data-ttu-id="f9716-182">Um genérico fechado é considerado a melhor correspondência.</span><span class="sxs-lookup"><span data-stu-id="f9716-182">A closed generic is considered the best match.</span></span> <span data-ttu-id="f9716-183">Por exemplo, se os tipos de `BindingList(Of Integer)` e <xref:System.Collections.ArrayList> são passados para a coleção de tipos referenciados, qualquer lista de inteiros encontrados no esquema é importada como um `BindingList(Of Integer)`.</span><span class="sxs-lookup"><span data-stu-id="f9716-183">For example, if the types `BindingList(Of Integer)` and <xref:System.Collections.ArrayList> are passed to the collection of referenced types, any lists of integers found in schema are imported as a `BindingList(Of Integer)`.</span></span> <span data-ttu-id="f9716-184">Qualquer outra lista, por exemplo, um `List(Of String)`, são importadas como um `ArrayList`.</span><span class="sxs-lookup"><span data-stu-id="f9716-184">Any other lists, for example, a `List(Of String)`, are imported as an `ArrayList`.</span></span>  
  
 <span data-ttu-id="f9716-185">Se um tipo que implementa o genérico `IDictionary` interface é adicionada à coleção de tipos referenciados, seus parâmetros de tipo devem ser totalmente abertos ou fechados totalmente.</span><span class="sxs-lookup"><span data-stu-id="f9716-185">If a type that implements the generic `IDictionary` interface is added to the collection of referenced types, its type parameters must either be fully open or fully closed.</span></span>  
  
 <span data-ttu-id="f9716-186">Não são permitidas duplicatas.</span><span class="sxs-lookup"><span data-stu-id="f9716-186">Duplicates are not allowed.</span></span> <span data-ttu-id="f9716-187">Por exemplo, você não pode adicionar ambos um `List(Of Integer)` e um `Collection(Of Integer)` para tipos referenciados.</span><span class="sxs-lookup"><span data-stu-id="f9716-187">For example, you cannot add both a `List(Of Integer)` and a `Collection(Of Integer)` to the referenced types.</span></span> <span data-ttu-id="f9716-188">Seria mais possível determinar qual deve ser usado quando uma lista de inteiros é encontrada no esquema.</span><span class="sxs-lookup"><span data-stu-id="f9716-188">That would make it impossible to determine which should be used when a list of integers is found in schema.</span></span> <span data-ttu-id="f9716-189">Duplicatas serão detectadas somente se houver um tipo no esquema que expõe o problema de duplicatas.</span><span class="sxs-lookup"><span data-stu-id="f9716-189">Duplicates will be detected only if there is a type in schema that exposes the duplicates problem.</span></span> <span data-ttu-id="f9716-190">Por exemplo, se o esquema importado não contém listas de números inteiros, ele é permitido ter ambos o `List(Of Integer)` e `Collection(Of Integer)` em tipos referenciados coleção, mas não terá nenhum efeito.</span><span class="sxs-lookup"><span data-stu-id="f9716-190">For example, if the imported schema does not contain lists of integers, it is allowed to have both the `List(Of Integer)` and the `Collection(Of Integer)` in the referenced types collection, but neither will have any effect.</span></span>  
  
 <span data-ttu-id="f9716-191">Os tipos de coleção referenciado mecanismo funciona igualmente bem para coleções de tipos complexos (incluindo a coleções de outras coleções) e não apenas para coleções de tipos primitivos.</span><span class="sxs-lookup"><span data-stu-id="f9716-191">The referenced collection types mechanism works equally well for collections of complex types (including collections of other collections), and not just for collections of primitives.</span></span>  
  
 <span data-ttu-id="f9716-192">O `ReferencedCollectionTypes` propriedade corresponde do **/collectionType** ativar a ferramenta SvcUtil.exe.</span><span class="sxs-lookup"><span data-stu-id="f9716-192">The `ReferencedCollectionTypes` property corresponds to the **/collectionType** switch on the SvcUtil.exe tool.</span></span> <span data-ttu-id="f9716-193">Observe que para fazer referência a vários tipos de coleção, o **/collectionType** opção deve ser especificada várias vezes.</span><span class="sxs-lookup"><span data-stu-id="f9716-193">Note that to reference multiple collection types, the **/collectionType** switch must be specified multiple times.</span></span> <span data-ttu-id="f9716-194">Se o tipo não é em de mscorlib. dll, seu assembly deve também ser referenciado usando a **/Reference** alternar.</span><span class="sxs-lookup"><span data-stu-id="f9716-194">If the type is not in the MsCorLib.dll, its assembly must also be referenced using the **/reference** switch.</span></span>  
  
#### <a name="import-options-referencing-existing-types"></a><span data-ttu-id="f9716-195">Opções de importação: Referenciar tipos existentes</span><span class="sxs-lookup"><span data-stu-id="f9716-195">Import Options: Referencing Existing Types</span></span>  
 <span data-ttu-id="f9716-196">Ocasionalmente, os tipos no esquema correspondem existente [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] tipos, e não é necessário para gerar esses tipos a partir do zero.</span><span class="sxs-lookup"><span data-stu-id="f9716-196">Occasionally, types in schema correspond to existing [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] types, and there is no need to generate these types from scratch.</span></span> <span data-ttu-id="f9716-197">(Esta seção se aplica somente aos tipos de noncollection.</span><span class="sxs-lookup"><span data-stu-id="f9716-197">(This section applies only to noncollection types.</span></span> <span data-ttu-id="f9716-198">Para tipos de coleção, consulte a seção anterior.)</span><span class="sxs-lookup"><span data-stu-id="f9716-198">For collection types, see the preceding section.)</span></span>  
  
 <span data-ttu-id="f9716-199">Por exemplo, você pode ter um padrão em toda a empresa "Pessoa" tipo de contrato que você deseja sempre usado ao representar uma pessoa.</span><span class="sxs-lookup"><span data-stu-id="f9716-199">For example, you may have a standard company-wide "Person" data contract type that you always want used when representing a person.</span></span> <span data-ttu-id="f9716-200">Sempre que algum serviço faz uso desse tipo e seu esquema é exibida nos metadados do serviço, talvez você queira reutilizar existente `Person` digite ao importar esse esquema em vez de gerar um novo para cada serviço.</span><span class="sxs-lookup"><span data-stu-id="f9716-200">Whenever some service makes use of this type, and its schema appears in the service metadata, you may want to reuse the existing `Person` type when importing this schema instead of generating a new one for every service.</span></span>  
  
 <span data-ttu-id="f9716-201">Para fazer isso, passar uma lista de [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] tipos que você deseja reutilizar na coleção de <xref:System.Runtime.Serialization.ImportOptions.ReferencedTypes%2A> propriedade retorna o <xref:System.Runtime.Serialization.ImportOptions> classe.</span><span class="sxs-lookup"><span data-stu-id="f9716-201">To do this, pass a list of [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] types that you want to reuse into the collection the <xref:System.Runtime.Serialization.ImportOptions.ReferencedTypes%2A> property returns on the <xref:System.Runtime.Serialization.ImportOptions> class.</span></span> <span data-ttu-id="f9716-202">Se qualquer um desses tipos tem um nome de contrato de dados e o namespace que corresponde ao nome e namespace de um tipo de esquema, é executada uma comparação estrutural.</span><span class="sxs-lookup"><span data-stu-id="f9716-202">If any of these types have a data contract name and namespace that matches the name and namespace of a schema type, a structural comparison is performed.</span></span> <span data-ttu-id="f9716-203">Se for determinado que os tipos têm nomes correspondentes e estruturas de correspondência, existente [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] tipo é reutilizado em vez de gerar um novo.</span><span class="sxs-lookup"><span data-stu-id="f9716-203">If it is determined that the types have both matching names and matching structures, the existing [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] type is reused instead of generating a new one.</span></span> <span data-ttu-id="f9716-204">Se apenas o nome corresponde mas não a estrutura, uma exceção será lançada.</span><span class="sxs-lookup"><span data-stu-id="f9716-204">If only the name matches but not the structure, an exception is thrown.</span></span> <span data-ttu-id="f9716-205">Observe que não há nenhum limite para controle de versão ao referenciar tipos (por exemplo, adicionando novos dados opcionais membros).</span><span class="sxs-lookup"><span data-stu-id="f9716-205">Note that there is no allowance for versioning when referencing types (for example, adding new optional data members).</span></span> <span data-ttu-id="f9716-206">As estruturas devem corresponder exatamente.</span><span class="sxs-lookup"><span data-stu-id="f9716-206">The structures must match exactly.</span></span>  
  
 <span data-ttu-id="f9716-207">É válido para adicionar vários tipos com o mesmo nome de contrato de dados e o namespace para a coleção de tipos referenciados, desde que nenhum tipo de esquema é importado com esse nome e namespace.</span><span class="sxs-lookup"><span data-stu-id="f9716-207">It is legal to add multiple types with the same data contract name and namespace to the referenced types collection, as long as no schema types are imported with that name and namespace.</span></span> <span data-ttu-id="f9716-208">Isso permite que você adicione facilmente todos os tipos em um assembly para a coleção sem se preocupar duplicatas para tipos que ocorrem no esquema.</span><span class="sxs-lookup"><span data-stu-id="f9716-208">This allows you to easily add all the types in an assembly to the collection without worrying about duplicates for types that do not actually occur in schema.</span></span>  
  
 <span data-ttu-id="f9716-209">O `ReferencedTypes` propriedade corresponde do **/Reference** alternar em certos modos de operação da ferramenta Svcutil.exe.</span><span class="sxs-lookup"><span data-stu-id="f9716-209">The `ReferencedTypes` property corresponds to the **/reference** switch in certain modes of operation of the Svcutil.exe tool.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f9716-210">Ao usar o Svcutil.exe ou (no [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)]) o **adicionar referência de serviço** ferramentas, todos os tipos de mscorlib. dll serão automaticamente referenciadas.</span><span class="sxs-lookup"><span data-stu-id="f9716-210">When using the Svcutil.exe or (in [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)]) the **Add Service Reference** tools, all of the types in MsCorLib.dll are automatically referenced.</span></span>  
  
#### <a name="import-options-importing-non-datacontract-schema-as-ixmlserializable-types"></a><span data-ttu-id="f9716-211">Opções de importação: Importando esquema não DataContract como IXmlSerializable tipos</span><span class="sxs-lookup"><span data-stu-id="f9716-211">Import Options: Importing Non-DataContract Schema as IXmlSerializable types</span></span>  
 <span data-ttu-id="f9716-212">O <xref:System.Runtime.Serialization.XsdDataContractImporter> oferece suporte a um subconjunto limitado do esquema.</span><span class="sxs-lookup"><span data-stu-id="f9716-212">The <xref:System.Runtime.Serialization.XsdDataContractImporter> supports a limited subset of the schema.</span></span> <span data-ttu-id="f9716-213">Se houver construções de esquema sem suporte (por exemplo, os atributos XML), a tentativa de importação falhará com uma exceção.</span><span class="sxs-lookup"><span data-stu-id="f9716-213">If unsupported schema constructs are present (for example, XML attributes), the import attempt fails with an exception.</span></span> <span data-ttu-id="f9716-214">No entanto, definindo o <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> propriedade `true` estende o intervalo de esquema com suporte.</span><span class="sxs-lookup"><span data-stu-id="f9716-214">However, setting the <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> property to `true` extends the range of schema supported.</span></span> <span data-ttu-id="f9716-215">Quando definido como `true`, o <xref:System.Runtime.Serialization.XsdDataContractImporter> gera tipos que implementam o <xref:System.Xml.Serialization.IXmlSerializable> interface.</span><span class="sxs-lookup"><span data-stu-id="f9716-215">When set to `true`, the <xref:System.Runtime.Serialization.XsdDataContractImporter> generates types that implement the <xref:System.Xml.Serialization.IXmlSerializable> interface.</span></span> <span data-ttu-id="f9716-216">Isso permite o acesso direto a representação XML desses tipos.</span><span class="sxs-lookup"><span data-stu-id="f9716-216">This enables direct access to the XML representation of these types.</span></span>  
  
##### <a name="design-considerations"></a><span data-ttu-id="f9716-217">Considerações de design</span><span class="sxs-lookup"><span data-stu-id="f9716-217">Design Considerations</span></span>  
  
-   <span data-ttu-id="f9716-218">Pode ser difícil trabalhar diretamente com a representação XML sem rigidez de tipos.</span><span class="sxs-lookup"><span data-stu-id="f9716-218">It may be difficult to work with the weakly typed XML representation directly.</span></span> <span data-ttu-id="f9716-219">Considere o uso de um mecanismo de serialização alternativo, como o <xref:System.Xml.Serialization.XmlSerializer>, para trabalhar com o esquema não é compatível com dados contratos de maneira fortemente tipada.</span><span class="sxs-lookup"><span data-stu-id="f9716-219">Consider using an alternative serialization engine, such as the <xref:System.Xml.Serialization.XmlSerializer>, to work with schema not compatible with data contracts in a strongly typed way.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="f9716-220">[Usando a classe XmlSerializer](../../../../docs/framework/wcf/feature-details/using-the-xmlserializer-class.md).</span><span class="sxs-lookup"><span data-stu-id="f9716-220"> [Using the XmlSerializer Class](../../../../docs/framework/wcf/feature-details/using-the-xmlserializer-class.md).</span></span>  
  
-   <span data-ttu-id="f9716-221">Algumas construções de esquema não podem ser importadas pelo <xref:System.Runtime.Serialization.XsdDataContractImporter> mesmo quando o <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> está definida como `true`.</span><span class="sxs-lookup"><span data-stu-id="f9716-221">Some schema constructs cannot be imported by the <xref:System.Runtime.Serialization.XsdDataContractImporter> even when the <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> property is set to `true`.</span></span> <span data-ttu-id="f9716-222">Novamente, considere usar o <xref:System.Xml.Serialization.XmlSerializer> para esses casos.</span><span class="sxs-lookup"><span data-stu-id="f9716-222">Again, consider using the <xref:System.Xml.Serialization.XmlSerializer> for such cases.</span></span>  
  
-   <span data-ttu-id="f9716-223">Suporte para as construções de esquema exatos que são ambos quando <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> é `true` ou `false` são descritos na [referência de esquema de contrato de dados](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md).</span><span class="sxs-lookup"><span data-stu-id="f9716-223">The exact schema constructs that are supported both when <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> is `true` or `false` are described in [Data Contract Schema Reference](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md).</span></span>  
  
-   <span data-ttu-id="f9716-224">Gerar esquema para <xref:System.Xml.Serialization.IXmlSerializable> tipos não mantém a fidelidade quando importados e exportados.</span><span class="sxs-lookup"><span data-stu-id="f9716-224">Schema for generated <xref:System.Xml.Serialization.IXmlSerializable> types do not retain fidelity when imported and exported.</span></span> <span data-ttu-id="f9716-225">Ou seja, exportar o esquema dos tipos gerados e importar classes não retornam o esquema original.</span><span class="sxs-lookup"><span data-stu-id="f9716-225">That is, exporting the schema from the generated types and importing as classes does not return the original schema.</span></span>  
  
 <span data-ttu-id="f9716-226">É possível combinar o <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> opção com o <xref:System.ServiceModel.Description.ServiceContractGenerator.ReferencedTypes%2A> opção descrita anteriormente.</span><span class="sxs-lookup"><span data-stu-id="f9716-226">It is possible to combine the <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> option with the <xref:System.ServiceModel.Description.ServiceContractGenerator.ReferencedTypes%2A> option previously described.</span></span> <span data-ttu-id="f9716-227">Para tipos que devem ser gerados como <xref:System.Xml.Serialization.IXmlSerializable> implementações, a verificação estrutural é ignorada ao usar o <xref:System.ServiceModel.Description.ServiceContractGenerator.ReferencedTypes%2A> recurso.</span><span class="sxs-lookup"><span data-stu-id="f9716-227">For types that have to be generated as <xref:System.Xml.Serialization.IXmlSerializable> implementations, the structural check is skipped when using the <xref:System.ServiceModel.Description.ServiceContractGenerator.ReferencedTypes%2A> feature.</span></span>  
  
 <span data-ttu-id="f9716-228">O <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> opção corresponde do **/importXmlTypes** ativar a ferramenta Svcutil.exe.</span><span class="sxs-lookup"><span data-stu-id="f9716-228">The <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> option corresponds to the **/importXmlTypes** switch on the Svcutil.exe tool.</span></span>  
  
##### <a name="working-with-generated-ixmlserializable-types"></a><span data-ttu-id="f9716-229">Trabalhando com tipos de IXmlSerializable gerado</span><span class="sxs-lookup"><span data-stu-id="f9716-229">Working with Generated IXmlSerializable Types</span></span>  
 <span data-ttu-id="f9716-230">Gerado `IXmlSerializable` tipos contêm um campo particular, denominado "nodesField", que retorna uma matriz de <xref:System.Xml.XmlNode> objetos.</span><span class="sxs-lookup"><span data-stu-id="f9716-230">The generated `IXmlSerializable` types contain a private field, named "nodesField," that returns an array of <xref:System.Xml.XmlNode> objects.</span></span> <span data-ttu-id="f9716-231">Ao desserializar uma instância de um tipo como esse, você pode acessar os dados XML diretamente por meio do campo usando o modelo de objeto de documento XML.</span><span class="sxs-lookup"><span data-stu-id="f9716-231">When deserializing an instance of such a type, you can access the XML data directly through this field by using the XML Document Object Model.</span></span> <span data-ttu-id="f9716-232">Ao serializar uma instância desse tipo, você pode definir este campo para os dados XML desejados e ela será serializada.</span><span class="sxs-lookup"><span data-stu-id="f9716-232">When serializing an instance of this type, you can set this field to the desired XML data and it will be serialized.</span></span>  
  
 <span data-ttu-id="f9716-233">Isso é feito por meio de `IXmlSerializable` implementação.</span><span class="sxs-lookup"><span data-stu-id="f9716-233">This is accomplished through the `IXmlSerializable` implementation.</span></span> <span data-ttu-id="f9716-234">Em gerado `IXmlSerializable` tipo, o <xref:System.Xml.Serialization.IXmlSerializable.ReadXml%2A> chamadas de implementação de <xref:System.Runtime.Serialization.XmlSerializableServices.ReadNodes%2A> método do <xref:System.Runtime.Serialization.XmlSerializableServices> classe.</span><span class="sxs-lookup"><span data-stu-id="f9716-234">In the generated `IXmlSerializable` type, the <xref:System.Xml.Serialization.IXmlSerializable.ReadXml%2A> implementation calls the <xref:System.Runtime.Serialization.XmlSerializableServices.ReadNodes%2A> method of the <xref:System.Runtime.Serialization.XmlSerializableServices> class.</span></span> <span data-ttu-id="f9716-235">O método é um método auxiliar que converte XML fornecido por meio de um <xref:System.Xml.XmlReader> para uma matriz de <xref:System.Xml.XmlNode> objetos.</span><span class="sxs-lookup"><span data-stu-id="f9716-235">The method is a helper method that converts XML provided through an <xref:System.Xml.XmlReader> to an array of <xref:System.Xml.XmlNode> objects.</span></span> <span data-ttu-id="f9716-236">O <xref:System.Xml.Serialization.IXmlSerializable.WriteXml%2A> implementação não o oposto e converte a matriz de `XmlNode` objetos em uma sequência de <xref:System.Xml.XmlWriter> chamadas.</span><span class="sxs-lookup"><span data-stu-id="f9716-236">The <xref:System.Xml.Serialization.IXmlSerializable.WriteXml%2A> implementation does the opposite and converts the array of `XmlNode` objects to a sequence of <xref:System.Xml.XmlWriter> calls.</span></span> <span data-ttu-id="f9716-237">Isso é feito usando o <xref:System.Runtime.Serialization.XmlSerializableServices.WriteNodes%2A> método.</span><span class="sxs-lookup"><span data-stu-id="f9716-237">This is accomplished using the <xref:System.Runtime.Serialization.XmlSerializableServices.WriteNodes%2A> method.</span></span>  
  
 <span data-ttu-id="f9716-238">É possível executar o processo de exportação de esquema no gerado `IXmlSerializable` classes.</span><span class="sxs-lookup"><span data-stu-id="f9716-238">It is possible to run the schema export process on the generated `IXmlSerializable` classes.</span></span> <span data-ttu-id="f9716-239">Como foi mencionado anteriormente, você não obterá o esquema original novamente.</span><span class="sxs-lookup"><span data-stu-id="f9716-239">As previously stated, you will not get the original schema back.</span></span> <span data-ttu-id="f9716-240">Em vez disso, você obterá o "anyType" padrão tipo XSD, que é um caractere curinga para qualquer tipo XSD.</span><span class="sxs-lookup"><span data-stu-id="f9716-240">Instead, you will get the "anyType" standard XSD type, which is a wildcard for any XSD type.</span></span>  
  
 <span data-ttu-id="f9716-241">Isso é feito aplicando o <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> atributo gerado `IXmlSerializable` classes e especificar um método que chama o <xref:System.Runtime.Serialization.XmlSerializableServices.AddDefaultSchema%2A> método para gerar o tipo "anyType".</span><span class="sxs-lookup"><span data-stu-id="f9716-241">This is accomplished by applying the <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> attribute to the generated `IXmlSerializable` classes and specifying a method that calls the <xref:System.Runtime.Serialization.XmlSerializableServices.AddDefaultSchema%2A> method to generate the "anyType" type.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f9716-242">O <xref:System.Runtime.Serialization.XmlSerializableServices> tipo existe somente para dar suporte a esse recurso em particular.</span><span class="sxs-lookup"><span data-stu-id="f9716-242">The <xref:System.Runtime.Serialization.XmlSerializableServices> type exists solely to support this particular feature.</span></span> <span data-ttu-id="f9716-243">Não é recomendável para uso para qualquer outra finalidade.</span><span class="sxs-lookup"><span data-stu-id="f9716-243">It is not recommended for use for any other purpose.</span></span>  
  
#### <a name="import-options-advanced-options"></a><span data-ttu-id="f9716-244">Opções de importação: Opções avançadas</span><span class="sxs-lookup"><span data-stu-id="f9716-244">Import Options: Advanced Options</span></span>  
 <span data-ttu-id="f9716-245">A seguir é opções avançado de importação:</span><span class="sxs-lookup"><span data-stu-id="f9716-245">The following are advanced import options:</span></span>  
  
-   <span data-ttu-id="f9716-246"><xref:System.Runtime.Serialization.ImportOptions.CodeProvider%2A>propriedade.</span><span class="sxs-lookup"><span data-stu-id="f9716-246"><xref:System.Runtime.Serialization.ImportOptions.CodeProvider%2A> property.</span></span> <span data-ttu-id="f9716-247">Especifique o <xref:System.CodeDom.Compiler.CodeDomProvider> a ser usado para gerar o código para as classes geradas.</span><span class="sxs-lookup"><span data-stu-id="f9716-247">Specify the <xref:System.CodeDom.Compiler.CodeDomProvider> to use to generate the code for the generated classes.</span></span> <span data-ttu-id="f9716-248">O mecanismo de importação tenta evitar recursos que o <xref:System.CodeDom.Compiler.CodeDomProvider> não oferece suporte.</span><span class="sxs-lookup"><span data-stu-id="f9716-248">The import mechanism attempts to avoid features that the <xref:System.CodeDom.Compiler.CodeDomProvider> does not support.</span></span> <span data-ttu-id="f9716-249">Se o <xref:System.Runtime.Serialization.ImportOptions.CodeProvider%2A> não estiver definida, o conjunto completo de [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] recursos é usado sem restrições.</span><span class="sxs-lookup"><span data-stu-id="f9716-249">If the <xref:System.Runtime.Serialization.ImportOptions.CodeProvider%2A> is not set, the full set of [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] features is used with no restrictions.</span></span>  
  
-   <span data-ttu-id="f9716-250"><xref:System.Runtime.Serialization.ImportOptions.DataContractSurrogate%2A>propriedade.</span><span class="sxs-lookup"><span data-stu-id="f9716-250"><xref:System.Runtime.Serialization.ImportOptions.DataContractSurrogate%2A> property.</span></span> <span data-ttu-id="f9716-251">Um <xref:System.Runtime.Serialization.IDataContractSurrogate> implementação pode ser especificada com essa propriedade.</span><span class="sxs-lookup"><span data-stu-id="f9716-251">An <xref:System.Runtime.Serialization.IDataContractSurrogate> implementation can be specified with this property.</span></span> <span data-ttu-id="f9716-252">O <xref:System.Runtime.Serialization.IDataContractSurrogate> personaliza o processo de importação.</span><span class="sxs-lookup"><span data-stu-id="f9716-252">The <xref:System.Runtime.Serialization.IDataContractSurrogate> customizes the import process.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="f9716-253">[Substitutos de contrato de dados](../../../../docs/framework/wcf/extending/data-contract-surrogates.md).</span><span class="sxs-lookup"><span data-stu-id="f9716-253"> [Data Contract Surrogates](../../../../docs/framework/wcf/extending/data-contract-surrogates.md).</span></span> <span data-ttu-id="f9716-254">Por padrão, não há substituto é usado.</span><span class="sxs-lookup"><span data-stu-id="f9716-254">By default, no surrogate is used.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f9716-255">Consulte também</span><span class="sxs-lookup"><span data-stu-id="f9716-255">See Also</span></span>  
 <xref:System.Runtime.Serialization.DataContractSerializer>  
 <xref:System.Runtime.Serialization.XsdDataContractImporter>  
 <xref:System.Runtime.Serialization.XsdDataContractExporter>  
 <xref:System.Runtime.Serialization.ImportOptions>  
 [<span data-ttu-id="f9716-256">Referência de esquema de contrato de dados</span><span class="sxs-lookup"><span data-stu-id="f9716-256">Data Contract Schema Reference</span></span>](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md)  
 [<span data-ttu-id="f9716-257">Substitutos de contrato de dados</span><span class="sxs-lookup"><span data-stu-id="f9716-257">Data Contract Surrogates</span></span>](../../../../docs/framework/wcf/extending/data-contract-surrogates.md)  
 [<span data-ttu-id="f9716-258">Exportação e importação de esquema</span><span class="sxs-lookup"><span data-stu-id="f9716-258">Schema Import and Export</span></span>](../../../../docs/framework/wcf/feature-details/schema-import-and-export.md)  
 [<span data-ttu-id="f9716-259">Exportando esquemas de Classes</span><span class="sxs-lookup"><span data-stu-id="f9716-259">Exporting Schemas from Classes</span></span>](../../../../docs/framework/wcf/feature-details/exporting-schemas-from-classes.md)  
 [<span data-ttu-id="f9716-260">Referência de esquema de contrato de dados</span><span class="sxs-lookup"><span data-stu-id="f9716-260">Data Contract Schema Reference</span></span>](../../../../docs/framework/wcf/feature-details/data-contract-schema-reference.md)
