---
title: Visão geral de filas
ms.date: 03/30/2017
helpviewer_keywords:
- queues [WCF], MSMQ integration
ms.assetid: b8757992-ffce-40ad-9e9b-3243f6d0fce1
ms.openlocfilehash: e34f2033ec0f7dac784634d06712d65786503299
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/18/2019
ms.locfileid: "59099761"
---
# <a name="queues-overview"></a><span data-ttu-id="8c23b-102">Visão geral de filas</span><span class="sxs-lookup"><span data-stu-id="8c23b-102">Queues Overview</span></span>
<span data-ttu-id="8c23b-103">Esta seção apresenta geral e principais conceitos por trás de comunicação em fila.</span><span class="sxs-lookup"><span data-stu-id="8c23b-103">This section introduces the general and core concepts behind queued communication.</span></span> <span data-ttu-id="8c23b-104">As seções subsequentes entram em detalhes sobre como os conceitos de enfileiramento de mensagens descritos aqui se manifestam no Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="8c23b-104">Subsequent sections go into details about how the queuing concepts described here are manifested in Windows Communication Foundation (WCF).</span></span>  
  
## <a name="basic-queuing-concepts"></a><span data-ttu-id="8c23b-105">Conceitos básicos de enfileiramento de mensagens</span><span class="sxs-lookup"><span data-stu-id="8c23b-105">Basic Queuing Concepts</span></span>  
 <span data-ttu-id="8c23b-106">Ao projetar um aplicativo distribuído, escolhendo que o transporte à direita para a comunicação entre clientes e serviços é importante.</span><span class="sxs-lookup"><span data-stu-id="8c23b-106">When designing a distributed application, choosing the right transport for communication between services and clients is important.</span></span> <span data-ttu-id="8c23b-107">Vários fatores afetam o tipo de transporte a ser usado.</span><span class="sxs-lookup"><span data-stu-id="8c23b-107">Several factors affect the kind of transport to use.</span></span> <span data-ttu-id="8c23b-108">Um fator importante — isolamento entre o serviço, o cliente e o transporte — determina o uso de um transporte em fila ou um transporte direto, como TCP ou HTTP.</span><span class="sxs-lookup"><span data-stu-id="8c23b-108">One important factor—isolation between the service, the client, and the transport—determines use of a queued transport or a direct transport, such as TCP or HTTP.</span></span> <span data-ttu-id="8c23b-109">Devido à natureza de transportes diretos, como TCP e HTTP, comunicação interrompe completamente se o serviço ou cliente pare de funcionar ou se a falha de rede.</span><span class="sxs-lookup"><span data-stu-id="8c23b-109">Due to the nature of direct transports such as TCP and HTTP, communication stops altogether if the service or the client stop functioning or if the network fails.</span></span> <span data-ttu-id="8c23b-110">O serviço, o cliente e a rede devem estar em execução ao mesmo tempo para o aplicativo funcione.</span><span class="sxs-lookup"><span data-stu-id="8c23b-110">The service, the client, and the network must be running at the same time for the application to work.</span></span> <span data-ttu-id="8c23b-111">Transportes na fila fornecem isolamento, o que significa que se o serviço ou cliente falhar ou se os links de comunicação entre eles falharem, o cliente e o serviço podem continuar a funcionar.</span><span class="sxs-lookup"><span data-stu-id="8c23b-111">Queued transports provide isolation, which means that if the service or client fail or if communication links between them fail, the client and service can continue to function.</span></span>  
  
 <span data-ttu-id="8c23b-112">As filas fornecem uma comunicação confiável mesmo com falhas nas partes da comunicação ou a rede.</span><span class="sxs-lookup"><span data-stu-id="8c23b-112">Queues provide reliable communication even with failures in the communicating parties or the network.</span></span> <span data-ttu-id="8c23b-113">As filas de captura e entregam mensagens trocadas entre as partes da comunicação.</span><span class="sxs-lookup"><span data-stu-id="8c23b-113">Queues capture and deliver messages exchanged between the communicating parties.</span></span> <span data-ttu-id="8c23b-114">Filas normalmente são apoiadas por algum tipo de um repositório, que pode ser durável ou voláteis.</span><span class="sxs-lookup"><span data-stu-id="8c23b-114">Queues are typically backed by some kind of a store, which can be volatile or durable.</span></span> <span data-ttu-id="8c23b-115">As filas armazenam mensagens de um cliente em nome de um serviço e posteriormente, encaminham essas mensagens para o serviço.</span><span class="sxs-lookup"><span data-stu-id="8c23b-115">Queues store messages from a client on behalf of a service and later forward these messages to the service.</span></span> <span data-ttu-id="8c23b-116">A indireção que as filas fornecem garante o isolamento de falha por qualquer uma das partes, tornando o mecanismo de comunicação preferencial para sistemas de alta disponibilidade e desconectado de serviços.</span><span class="sxs-lookup"><span data-stu-id="8c23b-116">The indirection queues provide ensured isolation of failure by either party, thus making it the preferred communication mechanism for high-availability systems and disconnected services.</span></span> <span data-ttu-id="8c23b-117">A indireção é fornecido com o custo de alta latência.</span><span class="sxs-lookup"><span data-stu-id="8c23b-117">The indirection comes with the cost of high latency.</span></span> <span data-ttu-id="8c23b-118">*Latência* é o tempo de espera entre a hora em que o cliente envia uma mensagem e a hora em que o serviço recebe a ele.</span><span class="sxs-lookup"><span data-stu-id="8c23b-118">*Latency* is the time delay between the time the client sends a message and the time the service receives it.</span></span> <span data-ttu-id="8c23b-119">Isso significa que depois que uma mensagem é enviada, você não sabe quando essa mensagem pode ser processada.</span><span class="sxs-lookup"><span data-stu-id="8c23b-119">This means that once a message is sent, you do not know when that message may be processed.</span></span> <span data-ttu-id="8c23b-120">Mais aplicativos em fila lidar com alta latência.</span><span class="sxs-lookup"><span data-stu-id="8c23b-120">Most queued applications cope with high latency.</span></span> <span data-ttu-id="8c23b-121">A ilustração a seguir mostra um modelo conceitual de comunicação em fila.</span><span class="sxs-lookup"><span data-stu-id="8c23b-121">The following illustration shows a conceptual model of queued communication.</span></span>  
  
 <span data-ttu-id="8c23b-122">![Modelo de comunicação em fila](../../../../docs/framework/wcf/feature-details/media/qconceptual-figure1c.gif "QConceptual Figure1c")</span><span class="sxs-lookup"><span data-stu-id="8c23b-122">![Model of queued communication](../../../../docs/framework/wcf/feature-details/media/qconceptual-figure1c.gif "QConceptual-Figure1c")</span></span>  
  
 <span data-ttu-id="8c23b-123">Modelo conceitual de comunicação em fila</span><span class="sxs-lookup"><span data-stu-id="8c23b-123">Queued communication conceptual model</span></span>  
  
 <span data-ttu-id="8c23b-124">Na realidade, a fila é um conceito distribuído.</span><span class="sxs-lookup"><span data-stu-id="8c23b-124">In reality, the queue is a distributed concept.</span></span> <span data-ttu-id="8c23b-125">Como tal, eles podem ser local para qualquer uma das partes ou remoto para ambas as partes.</span><span class="sxs-lookup"><span data-stu-id="8c23b-125">As such, they can be local to either party or remote to both parties.</span></span> <span data-ttu-id="8c23b-126">Normalmente, a fila é local para o serviço.</span><span class="sxs-lookup"><span data-stu-id="8c23b-126">Typically, the queue is local to the service.</span></span> <span data-ttu-id="8c23b-127">Nessa configuração, o cliente não pode depender de conectividade para a fila remota esteja constantemente disponível.</span><span class="sxs-lookup"><span data-stu-id="8c23b-127">In this configuration, the client cannot depend on connectivity to the remote queue to be constantly available.</span></span> <span data-ttu-id="8c23b-128">Da mesma forma, a fila deve estar disponível independentemente da disponibilidade do serviço de leitura da fila.</span><span class="sxs-lookup"><span data-stu-id="8c23b-128">Similarly, the queue must be available independent of the availability of the service reading from the queue.</span></span> <span data-ttu-id="8c23b-129">Um Gerenciador de fila gerencia uma coleção de filas.</span><span class="sxs-lookup"><span data-stu-id="8c23b-129">A queue manager manages a collection of queues.</span></span> <span data-ttu-id="8c23b-130">Ele é responsável por aceitar mensagens enviadas para suas filas de outros gerenciadores de fila.</span><span class="sxs-lookup"><span data-stu-id="8c23b-130">It is responsible for accepting messages sent to its queues from other queue managers.</span></span> <span data-ttu-id="8c23b-131">Também é responsável por gerenciar a conectividade com filas remotas e transferência de mensagens para essas filas remotas.</span><span class="sxs-lookup"><span data-stu-id="8c23b-131">It is also responsible for managing connectivity to remote queues and transferring messages to those remote queues.</span></span> <span data-ttu-id="8c23b-132">Para garantir a disponibilidade de filas, independentemente de falhas de aplicativo cliente ou serviço, o Gerenciador de fila geralmente é executado como um serviço externo.</span><span class="sxs-lookup"><span data-stu-id="8c23b-132">To ensure availability of queues despite client or service application failures, the queue manager is typically run as an external service.</span></span>  
  
 <span data-ttu-id="8c23b-133">Quando um cliente envia uma mensagem para uma fila, ele aborda a mensagem à fila de destino, que é gerenciada pelo Gerenciador de fila do serviço fila.</span><span class="sxs-lookup"><span data-stu-id="8c23b-133">When a client sends a message to a queue, it addresses the message to the target queue, which is the queue managed by the service's queue manager.</span></span> <span data-ttu-id="8c23b-134">O Gerenciador de fila no cliente envia a mensagem para uma transmissão (ou saída) fila.</span><span class="sxs-lookup"><span data-stu-id="8c23b-134">The queue manager on the client sends the message to a transmission (or outgoing) queue.</span></span> <span data-ttu-id="8c23b-135">Fila de transmissão é uma fila no Gerenciador de fila de cliente que armazena as mensagens de transmissão à fila de destino.</span><span class="sxs-lookup"><span data-stu-id="8c23b-135">The transmission queue is a queue on the client queue manager that stores messages for transmission to the target queue.</span></span> <span data-ttu-id="8c23b-136">O Gerenciador de fila, em seguida, localiza um caminho para o Gerenciador de fila que possui a fila de destino e transfere a mensagem a ele.</span><span class="sxs-lookup"><span data-stu-id="8c23b-136">The queue manager then finds a path to the queue manager that owns the target queue and transfers the message to it.</span></span> <span data-ttu-id="8c23b-137">Para garantir uma comunicação confiável, os gerenciadores de fila implementam um protocolo de transferência confiável para evitar a perda de dados.</span><span class="sxs-lookup"><span data-stu-id="8c23b-137">To ensure reliable communication, the queue managers implement a reliable transfer protocol to prevent data loss.</span></span> <span data-ttu-id="8c23b-138">O Gerenciador de fila de destino aceita mensagens endereçadas a filas de destino, ela é proprietária e armazena as mensagens.</span><span class="sxs-lookup"><span data-stu-id="8c23b-138">The destination queue manager accepts messages addressed to the target queues it owns and stores the messages.</span></span> <span data-ttu-id="8c23b-139">O serviço faz as solicitações de leitura da fila de destino, no momento em que o Gerenciador de fila, em seguida, envia a mensagem para o aplicativo de destino.</span><span class="sxs-lookup"><span data-stu-id="8c23b-139">The service makes requests to read from the target queue, at which time the queue manager then delivers the message to the destination application.</span></span> <span data-ttu-id="8c23b-140">A ilustração a seguir mostra a comunicação entre as quatro partes.</span><span class="sxs-lookup"><span data-stu-id="8c23b-140">The following illustration shows communication between the four parties.</span></span>  
  
 <span data-ttu-id="8c23b-141">![Na fila de diagrama de aplicativo](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "Figura distribuídas de fila")</span><span class="sxs-lookup"><span data-stu-id="8c23b-141">![Queued Application Diagram](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "Distributed-Queue-Figure")</span></span>  
  
 <span data-ttu-id="8c23b-142">Comunicação em fila em um cenário típico de implantação</span><span class="sxs-lookup"><span data-stu-id="8c23b-142">Queued communication in a typical deployment scenario</span></span>  
  
 <span data-ttu-id="8c23b-143">Portanto, o Gerenciador de fila fornece o isolamento necessário para que o remetente e o receptor podem falhar de forma independente sem afetar a comunicação real.</span><span class="sxs-lookup"><span data-stu-id="8c23b-143">Thus, the queue manager provides the required isolation so that the sender and receiver can independently fail without affecting actual communication.</span></span> <span data-ttu-id="8c23b-144">O benefício de indireção extra que as filas fornecem também permite que várias instâncias do aplicativo ler a mesma fila, para que o trabalho entre os nós de farming atinge maior taxa de transferência.</span><span class="sxs-lookup"><span data-stu-id="8c23b-144">The benefit of extra indirection that queues provide also enables multiple application instances to read from the same queue, so that farming work among the nodes achieves higher throughput.</span></span> <span data-ttu-id="8c23b-145">Portanto, não é incomum ver o que está sendo usadas para atingir uma escala maior e requisitos de taxa de transferência de filas.</span><span class="sxs-lookup"><span data-stu-id="8c23b-145">Therefore, it is not uncommon to see queues being used to achieve higher scale and throughput requirements.</span></span>  
  
## <a name="queues-and-transactions"></a><span data-ttu-id="8c23b-146">Filas e transações</span><span class="sxs-lookup"><span data-stu-id="8c23b-146">Queues and Transactions</span></span>  
 <span data-ttu-id="8c23b-147">As transações permitem que você agrupar um conjunto de operações para que se uma operação falhar, todas as operações falharão.</span><span class="sxs-lookup"><span data-stu-id="8c23b-147">Transactions allow you to group a set of operations together so that if one operation fails, all of the operations fail.</span></span> <span data-ttu-id="8c23b-148">Um exemplo de como usar transações é quando uma pessoa usa um caixa eletrônico para transferir a US $1.000 de sua conta da economia para sua conta corrente.</span><span class="sxs-lookup"><span data-stu-id="8c23b-148">An example of how to use transactions is when a person uses an ATM to transfer $1,000 from his savings account to his checking account.</span></span> <span data-ttu-id="8c23b-149">Isso envolve as seguintes operações:</span><span class="sxs-lookup"><span data-stu-id="8c23b-149">This entails the following operations:</span></span>  
  
-   <span data-ttu-id="8c23b-150">-O da conta de economia de US $1.000.</span><span class="sxs-lookup"><span data-stu-id="8c23b-150">Withdrawing $1,000 from the savings account.</span></span>  
  
-   <span data-ttu-id="8c23b-151">Depositando US $1.000 para a conta corrente.</span><span class="sxs-lookup"><span data-stu-id="8c23b-151">Depositing $1,000 into the checking account.</span></span>  
  
 <span data-ttu-id="8c23b-152">Se a primeira operação seja bem-sucedida e US $1.000 é retirado da conta de economia, mas a segunda operação falhará, US $1.000 é perdida porque ele já foi revogado da conta de economia.</span><span class="sxs-lookup"><span data-stu-id="8c23b-152">If the first operation succeeds and $1,000 is withdrawn from the savings account but the second operation fails, the $1,000 is lost because it has already been withdrawn from the savings account.</span></span> <span data-ttu-id="8c23b-153">Para manter as contas em um estado válido, se uma operação falhar, ambas as operações devem falhar.</span><span class="sxs-lookup"><span data-stu-id="8c23b-153">To keep the accounts in a valid state, if one operation fails, both operations must fail.</span></span>  
  
 <span data-ttu-id="8c23b-154">No sistema de mensagens transacionais, mensagens podem ser enviadas para a fila e recebidas da fila em uma transação.</span><span class="sxs-lookup"><span data-stu-id="8c23b-154">In transactional messaging, messages can be sent to the queue and received from the queue under a transaction.</span></span> <span data-ttu-id="8c23b-155">Dessa forma, se uma mensagem é enviada em uma transação e a transação é revertida, em seguida, o resultado é como se a mensagem nunca tinha foi enviado para a fila.</span><span class="sxs-lookup"><span data-stu-id="8c23b-155">Thus, if a message is sent in a transaction and the transaction is rolled back, then the outcome is as if the message had never been sent to the queue.</span></span> <span data-ttu-id="8c23b-156">Da mesma forma se uma mensagem é recebida em uma transação e a transação é revertida, em seguida, o resultado é como se a mensagem nunca tinha foi recebido.</span><span class="sxs-lookup"><span data-stu-id="8c23b-156">Similarly if a message is received in a transaction and the transaction is rolled back, then the outcome is as if the message had never been received.</span></span> <span data-ttu-id="8c23b-157">A mensagem permanecerá na fila a ser lido.</span><span class="sxs-lookup"><span data-stu-id="8c23b-157">The message remains in the queue to be read.</span></span>  
  
 <span data-ttu-id="8c23b-158">Devido à alta latência, quando você enviar uma mensagem que não há como saber quanto tempo demora para alcançar a fila de destino, nem fazer você saberá quanto tempo demora para o serviço processar a mensagem.</span><span class="sxs-lookup"><span data-stu-id="8c23b-158">Because of high latency, when you send a message you have no way of knowing how long it takes to reach its target queue, nor do you know how long it takes for the service to process the message.</span></span> <span data-ttu-id="8c23b-159">Por isso, você não deseja usar uma única transação para enviar a mensagem, a mensagem e, em seguida, processar a mensagem.</span><span class="sxs-lookup"><span data-stu-id="8c23b-159">Because of this, you do not want to use a single transaction to send the message, receive the message, and then process the message.</span></span> <span data-ttu-id="8c23b-160">Isso cria uma transação que não é confirmada por um período indeterminado.</span><span class="sxs-lookup"><span data-stu-id="8c23b-160">This creates a transaction that is not committed for an indeterminate amount of time.</span></span> <span data-ttu-id="8c23b-161">Quando um cliente e o serviço se comunicam por meio de uma fila usando uma transação, duas transações estão envolvidas: um no cliente e outro no serviço.</span><span class="sxs-lookup"><span data-stu-id="8c23b-161">When a client and service communicate through a queue using a transaction, two transactions are involved: one on the client and one on the service.</span></span> <span data-ttu-id="8c23b-162">A ilustração a seguir mostra os limites de transação em uma comunicação típica na fila.</span><span class="sxs-lookup"><span data-stu-id="8c23b-162">The following illustration shows the transaction boundaries in typical queued communication.</span></span>  
  
 <span data-ttu-id="8c23b-163">![Fila com transações](../../../../docs/framework/wcf/feature-details/media/qwithtransactions-figure3.gif "QWithTransactions-3")</span><span class="sxs-lookup"><span data-stu-id="8c23b-163">![Queue with transactions](../../../../docs/framework/wcf/feature-details/media/qwithtransactions-figure3.gif "QWithTransactions-Figure3")</span></span>  
  
 <span data-ttu-id="8c23b-164">Mostrando as transações separadas para captura e entrega de comunicação em fila</span><span class="sxs-lookup"><span data-stu-id="8c23b-164">Queued communication showing separate transactions for capture and delivery</span></span>  
  
 <span data-ttu-id="8c23b-165">A transação do cliente processa e envia a mensagem.</span><span class="sxs-lookup"><span data-stu-id="8c23b-165">The client transaction processes and sends the message.</span></span> <span data-ttu-id="8c23b-166">Quando a transação é confirmada, a mensagem está na fila de transmissão.</span><span class="sxs-lookup"><span data-stu-id="8c23b-166">When the transaction is committed, the message is in the transmission queue.</span></span> <span data-ttu-id="8c23b-167">No serviço, a transação lê a mensagem da fila de destino, processa a mensagem e, em seguida, confirma a transação.</span><span class="sxs-lookup"><span data-stu-id="8c23b-167">On the service, the transaction reads the message from the target queue, processes the message, and then commits the transaction.</span></span> <span data-ttu-id="8c23b-168">Se ocorrer um erro durante o processamento, a mensagem é revertida e colocada na fila de destino.</span><span class="sxs-lookup"><span data-stu-id="8c23b-168">If an error occurs during the processing, the message is rolled back and placed in the target queue.</span></span>  
  
## <a name="asynchronous-communication-using-queues"></a><span data-ttu-id="8c23b-169">Usando filas de comunicação assíncrona</span><span class="sxs-lookup"><span data-stu-id="8c23b-169">Asynchronous Communication Using Queues</span></span>  
 <span data-ttu-id="8c23b-170">As filas fornecem um meio assíncrono de comunicação.</span><span class="sxs-lookup"><span data-stu-id="8c23b-170">Queues provide an asynchronous means of communication.</span></span> <span data-ttu-id="8c23b-171">Aplicativos que enviam mensagens usando filas não podem esperar para a mensagem a ser recebida e processada pelo destinatário devido à alta latência introduzida pelo Gerenciador de fila.</span><span class="sxs-lookup"><span data-stu-id="8c23b-171">Applications that send messages using queues cannot wait for the message to be received and processed by the receiver because of high latency introduced by the queue manager.</span></span> <span data-ttu-id="8c23b-172">As mensagens podem permanecer na fila por um tempo muito mais tempo que o aplicativo que se destina.</span><span class="sxs-lookup"><span data-stu-id="8c23b-172">Messages can remain in the queue for a far longer time than the application intended.</span></span> <span data-ttu-id="8c23b-173">Para evitar isso, o aplicativo pode especificar um valor de tempo de vida da mensagem.</span><span class="sxs-lookup"><span data-stu-id="8c23b-173">To avoid this, the application can specify a Time-To-Live value on the message.</span></span> <span data-ttu-id="8c23b-174">Esse valor Especifica quanto tempo a mensagem deve permanecer na fila de transmissão.</span><span class="sxs-lookup"><span data-stu-id="8c23b-174">This value specifies how long the message should remain in the transmission queue.</span></span> <span data-ttu-id="8c23b-175">Se esse valor de tempo for excedido e a mensagem ainda não foi enviada à fila de destino, a mensagem pode ser transferida para uma fila de inatividade.</span><span class="sxs-lookup"><span data-stu-id="8c23b-175">If this time value is exceeded, and the message still has not been sent to the target queue, the message can be transferred to a dead-letter queue.</span></span>  
  
 <span data-ttu-id="8c23b-176">Quando o remetente envia uma mensagem, o retorno da operação de envio implica que a mensagem apenas chegou à fila de transmissão no remetente.</span><span class="sxs-lookup"><span data-stu-id="8c23b-176">When the sender sends a message, the return from the send operation implies that the message only made it to the transmission queue on the sender.</span></span> <span data-ttu-id="8c23b-177">Dessa forma, se houver uma falha em obter a mensagem à fila de destino, o aplicativo de envio não é possível saber imediatamente.</span><span class="sxs-lookup"><span data-stu-id="8c23b-177">As such, if there is a failure in getting the message to the target queue, the sending application cannot know about it immediately.</span></span> <span data-ttu-id="8c23b-178">Para anote essas falhas, a mensagem de falha é transferida para uma fila de inatividade.</span><span class="sxs-lookup"><span data-stu-id="8c23b-178">To take note of such failures, the failed message is transferred to a dead-letter queue.</span></span>  
  
 <span data-ttu-id="8c23b-179">Qualquer erro, como uma mensagem não puder acessar a fila de destino ou o expirando Time-To-Live, deve ser processado separadamente.</span><span class="sxs-lookup"><span data-stu-id="8c23b-179">Any error, such as a message failing to reach the target queue or the Time-To-Live expiring, must be processed separately.</span></span> <span data-ttu-id="8c23b-180">Não é incomum, portanto, para aplicativos em fila gravar os dois conjuntos de lógica:</span><span class="sxs-lookup"><span data-stu-id="8c23b-180">It is not uncommon, therefore, for queued applications to write two sets of logic:</span></span>  
  
-   <span data-ttu-id="8c23b-181">O cliente normal e lógica do serviço de envio e recebimento de mensagens.</span><span class="sxs-lookup"><span data-stu-id="8c23b-181">The normal client and service logic of sending and receiving messages.</span></span>  
  
-   <span data-ttu-id="8c23b-182">Lógica de compensação para lidar com mensagens de falha de transmissão ou a entrega.</span><span class="sxs-lookup"><span data-stu-id="8c23b-182">Compensation logic to handle messages from the failed transmission or delivery.</span></span>  
  
 <span data-ttu-id="8c23b-183">As seções a seguir discutem esses conceitos.</span><span class="sxs-lookup"><span data-stu-id="8c23b-183">The following sections discuss these concepts.</span></span>  
  
## <a name="dead-letter-queue-programming"></a><span data-ttu-id="8c23b-184">Programação de fila de inatividade</span><span class="sxs-lookup"><span data-stu-id="8c23b-184">Dead-Letter Queue Programming</span></span>  
 <span data-ttu-id="8c23b-185">Filas de inatividade contêm mensagens que falharam para chegar à fila de destino por vários motivos.</span><span class="sxs-lookup"><span data-stu-id="8c23b-185">Dead-letter queues contain messages that failed to reach the target queue for various reasons.</span></span> <span data-ttu-id="8c23b-186">Os motivos podem variar de mensagens expiradas para problemas de conectividade que impedem a transferência da mensagem à fila de destino.</span><span class="sxs-lookup"><span data-stu-id="8c23b-186">The reasons can range from expired messages to connectivity issues preventing transfer of the message to the target queue.</span></span>  
  
 <span data-ttu-id="8c23b-187">Normalmente, um aplicativo pode ler mensagens de uma fila de inatividade de todo o sistema, determinar o que deu errado e tomar as devidas providências, como corrigir os erros e reenviar a mensagem ou levando Observação sobre isso.</span><span class="sxs-lookup"><span data-stu-id="8c23b-187">Typically, an application can read messages from a system-wide dead-letter queue, determine what went wrong, and take appropriate action, such as correcting the errors and resending the message or taking note of it.</span></span>  
  
## <a name="poison-message-queue-programming"></a><span data-ttu-id="8c23b-188">Programação de fila de mensagens suspeitas</span><span class="sxs-lookup"><span data-stu-id="8c23b-188">Poison Message Queue Programming</span></span>  
 <span data-ttu-id="8c23b-189">Depois que uma mensagem torna-se à fila de destino, o serviço repetidamente pode falhar ao processar a mensagem.</span><span class="sxs-lookup"><span data-stu-id="8c23b-189">After a message makes it to the target queue, the service may repeatedly fail to process the message.</span></span> <span data-ttu-id="8c23b-190">Por exemplo, um aplicativo ler uma mensagem da fila em uma transação e atualizar um banco de dados podem localizar o banco de dados temporariamente desconectado.</span><span class="sxs-lookup"><span data-stu-id="8c23b-190">For example, an application reading a message from the queue under a transaction and updating a database may find the database temporarily disconnected.</span></span> <span data-ttu-id="8c23b-191">Nesse caso, a transação é revertida, uma nova transação é criada e a mensagem é reler da fila.</span><span class="sxs-lookup"><span data-stu-id="8c23b-191">In this case, the transaction is rolled back, a new transaction is created, and the message is reread from the queue.</span></span> <span data-ttu-id="8c23b-192">Uma segunda tentativa pode ser bem-sucedida ou falhar.</span><span class="sxs-lookup"><span data-stu-id="8c23b-192">A second attempt may succeed or fail.</span></span> <span data-ttu-id="8c23b-193">Em alguns casos, dependendo da causa do erro, a mensagem pode repetidamente não entrega para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8c23b-193">In some cases, depending on the cause of the error, the message may repeatedly fail delivery to the application.</span></span> <span data-ttu-id="8c23b-194">Nesse caso, a mensagem é considerada como "suspeitas".</span><span class="sxs-lookup"><span data-stu-id="8c23b-194">In this case, the message is deemed as "poison."</span></span> <span data-ttu-id="8c23b-195">Essas mensagens são movidas para uma fila de mensagens suspeitas que pode ser lidos por um aplicativo de tratamento de suspeitas.</span><span class="sxs-lookup"><span data-stu-id="8c23b-195">Such messages are moved to a poison queue that can be read by a poison-handling application.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8c23b-196">Consulte também</span><span class="sxs-lookup"><span data-stu-id="8c23b-196">See also</span></span>

- [<span data-ttu-id="8c23b-197">Enfileiramento no WCF</span><span class="sxs-lookup"><span data-stu-id="8c23b-197">Queuing in WCF</span></span>](../../../../docs/framework/wcf/feature-details/queuing-in-wcf.md)
- [<span data-ttu-id="8c23b-198">Sessões e filas</span><span class="sxs-lookup"><span data-stu-id="8c23b-198">Sessions and Queues</span></span>](../../../../docs/framework/wcf/samples/sessions-and-queues.md)
- [<span data-ttu-id="8c23b-199">Filas de mensagens mortas</span><span class="sxs-lookup"><span data-stu-id="8c23b-199">Dead Letter Queues</span></span>](../../../../docs/framework/wcf/samples/dead-letter-queues.md)
- [<span data-ttu-id="8c23b-200">Comunicação em fila volátil</span><span class="sxs-lookup"><span data-stu-id="8c23b-200">Volatile Queued Communication</span></span>](../../../../docs/framework/wcf/samples/volatile-queued-communication.md)
- [<span data-ttu-id="8c23b-201">Windows Communication Foundation para Enfileiramento de Mensagens</span><span class="sxs-lookup"><span data-stu-id="8c23b-201">Windows Communication Foundation to Message Queuing</span></span>](../../../../docs/framework/wcf/samples/wcf-to-message-queuing.md)
- [<span data-ttu-id="8c23b-202">Instalando o Enfileiramento de Mensagens (MSMQ)</span><span class="sxs-lookup"><span data-stu-id="8c23b-202">Installing Message Queuing (MSMQ)</span></span>](../../../../docs/framework/wcf/samples/installing-message-queuing-msmq.md)
- [<span data-ttu-id="8c23b-203">Enfileiramento de mensagens para o Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="8c23b-203">Message Queuing to Windows Communication Foundation</span></span>](../../../../docs/framework/wcf/samples/message-queuing-to-wcf.md)
- [<span data-ttu-id="8c23b-204">Segurança de mensagem através do enfileiramento de mensagem</span><span class="sxs-lookup"><span data-stu-id="8c23b-204">Message Security over Message Queuing</span></span>](../../../../docs/framework/wcf/samples/message-security-over-message-queuing.md)
