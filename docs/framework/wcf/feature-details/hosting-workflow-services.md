---
title: Serviços de fluxo de trabalho de hospedagem
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 2d55217e-8697-4113-94ce-10b60863342e
caps.latest.revision: 12
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: e9f8d38b97a422d2d59e2dea05d53cf6f9684d99
ms.sourcegitcommit: 03ee570f6f528a7d23a4221dcb26a9498edbdf8c
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/28/2018
---
# <a name="hosting-workflow-services"></a><span data-ttu-id="62642-102">Serviços de fluxo de trabalho de hospedagem</span><span class="sxs-lookup"><span data-stu-id="62642-102">Hosting Workflow Services</span></span>
<span data-ttu-id="62642-103">Um serviço de fluxo de trabalho deve ser hospedado para responder às mensagens de entrada.</span><span class="sxs-lookup"><span data-stu-id="62642-103">A workflow service must be hosted for it to respond to incoming messages.</span></span> <span data-ttu-id="62642-104">Serviços de fluxo de trabalho usam o [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] mensagens infraestrutura e são, portanto, hospedado de forma semelhante.</span><span class="sxs-lookup"><span data-stu-id="62642-104">Workflow services use the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] messaging infrastructure and are therefore hosted in similar ways.</span></span> <span data-ttu-id="62642-105">Como [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] serviços de fluxo de trabalho de serviços podem ser hospedados em qualquer aplicativo gerenciado, em serviços de informações da Internet (IIS), ou em serviços de ativação de processo para Windows (WAS).</span><span class="sxs-lookup"><span data-stu-id="62642-105">Like [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services, workflow services can be hosted in any managed application, under Internet Information Services (IIS), or under Windows Process Activation Services (WAS).</span></span> <span data-ttu-id="62642-106">Além disso, serviços de fluxo de trabalho podem ser hospedados em Windows Server App Fabric.</span><span class="sxs-lookup"><span data-stu-id="62642-106">In addition workflow services can be hosted under Windows Server App Fabric.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="62642-107"> Consulte Windows Server App Fabric [documentação do Windows Server App Fabric](http://go.microsoft.com/fwlink/?LinkId=193037), [recursos de hospedagem do AppFabric](http://go.microsoft.com/fwlink/?LinkId=196494), e [conceitos de hospedagem do AppFabric](http://go.microsoft.com/fwlink/?LinkId=196495).</span><span class="sxs-lookup"><span data-stu-id="62642-107"> Windows Server App Fabric see [Windows Server App Fabric documentation](http://go.microsoft.com/fwlink/?LinkId=193037), [AppFabric Hosting Features](http://go.microsoft.com/fwlink/?LinkId=196494), and [AppFabric Hosting Concepts](http://go.microsoft.com/fwlink/?LinkId=196495).</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="62642-108"> as várias maneiras de host [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services consulte [serviços de hospedagem](../../../../docs/framework/wcf/hosting-services.md).</span><span class="sxs-lookup"><span data-stu-id="62642-108"> the various ways to host [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services see [Hosting Services](../../../../docs/framework/wcf/hosting-services.md).</span></span>  
  
## <a name="hosting-in-a-managed-application"></a><span data-ttu-id="62642-109">Hospedando em um aplicativo gerenciado</span><span class="sxs-lookup"><span data-stu-id="62642-109">Hosting in a managed application</span></span>  
 <span data-ttu-id="62642-110">Para hospedar um serviço de fluxo de trabalho em um aplicativo gerenciado, use o <xref:System.ServiceModel.Activities.WorkflowServiceHost> classe.</span><span class="sxs-lookup"><span data-stu-id="62642-110">To host a workflow service in a managed application, use the <xref:System.ServiceModel.Activities.WorkflowServiceHost> class.</span></span> <span data-ttu-id="62642-111">O <xref:System.ServiceModel.Activities.WorkflowServiceHost> construtor permite que você especifique uma instância de serviço de fluxo de trabalho de singleton, uma definição de serviço de fluxo de trabalho ou uma atividade que usa o fluxo de trabalho de atividades de mensagens.</span><span class="sxs-lookup"><span data-stu-id="62642-111">The <xref:System.ServiceModel.Activities.WorkflowServiceHost> constructor allows you to specify a singleton workflow service instance, a workflow service definition, or an activity that uses the workflow messaging activities.</span></span> <span data-ttu-id="62642-112">Chamar <<!--zz xref:System.ServiceModel.Activities.WorkflowServiceHost.Open%2A--> `System.ServiceModel.Activities.WorkflowServiceHost.Open`> faz com que o serviço escutar mensagens de entrada.</span><span class="sxs-lookup"><span data-stu-id="62642-112">Calling <<!--zz xref:System.ServiceModel.Activities.WorkflowServiceHost.Open%2A--> `System.ServiceModel.Activities.WorkflowServiceHost.Open`> causes the service to start listening for incoming messages.</span></span>  
  
## <a name="hosting-under-iis-or-was"></a><span data-ttu-id="62642-113">Hospedando em IIS ou do WAS</span><span class="sxs-lookup"><span data-stu-id="62642-113">Hosting under IIS or WAS</span></span>  
 <span data-ttu-id="62642-114">Hospedar um serviço de fluxo de trabalho em IIS ou do WAS envolve a criação de um diretório virtual e colocar arquivos no diretório virtual que definem o serviço e seu comportamento.</span><span class="sxs-lookup"><span data-stu-id="62642-114">Hosting a workflow service under IIS or WAS involves creating a virtual directory and placing files in the virtual directory that define the service and its behavior.</span></span> <span data-ttu-id="62642-115">Quando hospedar um serviço de fluxo de trabalho em IIS ou do WAS há várias possibilidades:</span><span class="sxs-lookup"><span data-stu-id="62642-115">When hosting a workflow service under IIS or WAS there are several possibilities:</span></span>  
  
-   <span data-ttu-id="62642-116">Coloca um arquivo .xamlx que define o serviço de fluxo de trabalho em um IIS / WAS no diretório virtual com um arquivo Web. config que especifica os comportamentos de serviço, os pontos de extremidade e outros elementos de configuração.</span><span class="sxs-lookup"><span data-stu-id="62642-116">Place a .xamlx file that defines the workflow service in an IIS/WAS virtual directory along with a Web.config file that specifies the service behaviors, endpoints, and other configuration elements.</span></span>  
  
-   <span data-ttu-id="62642-117">Coloca um arquivo .xamlx que define o serviço de fluxo de trabalho em um IIS / WAS diretório virtual.</span><span class="sxs-lookup"><span data-stu-id="62642-117">Place a .xamlx file that defines the workflow service in an IIS/WAS virtual directory.</span></span> <span data-ttu-id="62642-118">O arquivo .xamlx especifica para expor os pontos de extremidade.</span><span class="sxs-lookup"><span data-stu-id="62642-118">The .xamlx file specifies the endpoints to expose.</span></span> <span data-ttu-id="62642-119">Pontos de extremidade são especificados em um `WorkflowService.Endpoints` elemento conforme mostrado no exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="62642-119">Endpoints are specified in a `WorkflowService.Endpoints` element as shown in the following example.</span></span>  
  
    ```xml  
    <WorkflowService xmlns="http://schemas.microsoft.com/netfx/2009/xaml/servicemodel"  xmlns:p1="http://schemas.microsoft.com/netfx/2009/xaml/activities" xmlns:sad="clr-namespace:System.Activities.Debugger;assembly=System.Activities" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">  
      <WorkflowService.Endpoints>  
        <Endpoint ServiceContractName="IWorkFlowEchoService" AddressUri="">  
          <Endpoint.Binding>  
            <BasicHttpBinding />  
          </Endpoint.Binding>  
        </Endpoint>  
      </WorkflowService.Endpoints>  
    <!-- ... -->  
    </WorkflowService>  
    ```  
  
    > [!NOTE]
    >  <span data-ttu-id="62642-120">Comportamentos não podem ser especificados em um arquivo .xamlx, portanto, você deve usar um Web. config se você precisar especificar configurações de comportamento.</span><span class="sxs-lookup"><span data-stu-id="62642-120">Behaviors cannot be specified in a .xamlx file, so you must use a Web.config if you need to specify behavior settings.</span></span>  
  
-   <span data-ttu-id="62642-121">Coloca um arquivo .xamlx que define o serviço de fluxo de trabalho em um IIS / WAS diretório virtual.</span><span class="sxs-lookup"><span data-stu-id="62642-121">Place a .xamlx file that defines the workflow service in an IIS/WAS virtual directory.</span></span> <span data-ttu-id="62642-122">Além disso, coloca um arquivo. svc no diretório virtual.</span><span class="sxs-lookup"><span data-stu-id="62642-122">In addition, place a .svc file in the virtual directory.</span></span> <span data-ttu-id="62642-123">O arquivo. svc permite que você especifique uma fábrica de host de serviço da Web personalizada, aplicar um comportamento personalizado ou carregar a configuração de um local personalizado.</span><span class="sxs-lookup"><span data-stu-id="62642-123">The .svc file allows you to specify a custom Web service host factory, apply custom behavior, or load configuration from a custom location.</span></span>  
  
-   <span data-ttu-id="62642-124">Coloque um assembly em IIS / foi diretório virtual que contém uma atividade que usa o WCF atividades de mensagens.</span><span class="sxs-lookup"><span data-stu-id="62642-124">Place an assembly in the IIS/WAS virtual directory that contains an activity that uses the WCF messaging activities.</span></span>  
  
 <span data-ttu-id="62642-125">Um arquivo .xamlx que define um serviço de fluxo de trabalho deve conter um <`Service`> elemento raiz ou um elemento raiz que contém qualquer tipo derivado de <xref:System.Workflow.ComponentModel.Activity>.</span><span class="sxs-lookup"><span data-stu-id="62642-125">A .xamlx file that defines a workflow service must contain a <`Service`> root element or a root element that contains any type derived from <xref:System.Workflow.ComponentModel.Activity>.</span></span> <span data-ttu-id="62642-126">Ao usar o [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] modelo de atividade de um arquivo .xamlx é criado.</span><span class="sxs-lookup"><span data-stu-id="62642-126">When using the [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] Activity template a .xamlx file is created.</span></span> <span data-ttu-id="62642-127">Ao usar o modelo de serviço de fluxo de trabalho WCF que será criado um arquivo .xamlx.</span><span class="sxs-lookup"><span data-stu-id="62642-127">When using the WCF Workflow Service template a .xamlx file is created.</span></span>  
  
## <a name="hosting-workflow-services-under-windows-server-app-fabric"></a><span data-ttu-id="62642-128">Serviços de hospedagem de fluxo de trabalho no Windows Server AppFabric</span><span class="sxs-lookup"><span data-stu-id="62642-128">Hosting Workflow Services under Windows Server App Fabric</span></span>  
 <span data-ttu-id="62642-129">Hospedar um serviço de fluxo de trabalho no Windows Server AppFabric é feito da mesma forma como hospedagem no IIS / WAS.</span><span class="sxs-lookup"><span data-stu-id="62642-129">Hosting a workflow service under Windows Server App Fabric is done in the same way as hosting under IIS/WAS.</span></span> <span data-ttu-id="62642-130">A única diferença é o fato de que o Windows Server App Fabric está instalado.</span><span class="sxs-lookup"><span data-stu-id="62642-130">The only difference is the fact that Windows Server App Fabric is installed.</span></span> <span data-ttu-id="62642-131">Malha de aplicativos do Windows Server fornece ferramentas que são adicionadas ao Gerenciador de serviços de informações da Internet, bem como os cmdlets do powershell.</span><span class="sxs-lookup"><span data-stu-id="62642-131">Windows Server App Fabric provides tools that are added to Internet Information Services Manager, as well as powershell commandlets.</span></span> <span data-ttu-id="62642-132">Essas ferramentas simplificam a implantação, gerenciamento e controle de serviços de fluxo de trabalho e serviços WCF.</span><span class="sxs-lookup"><span data-stu-id="62642-132">These tools simplify deploying, managing, and tracking of workflow services and WCF services.</span></span> <span data-ttu-id="62642-133">.</span><span class="sxs-lookup"><span data-stu-id="62642-133">.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="62642-134"> Consulte Windows Server App Fabric [Windows Server App Fabric](http://go.microsoft.com/fwlink/?LinkId=193037)</span><span class="sxs-lookup"><span data-stu-id="62642-134"> Windows Server App Fabric see [Windows Server App Fabric](http://go.microsoft.com/fwlink/?LinkId=193037)</span></span>  
  
## <a name="referencing-custom-activities"></a><span data-ttu-id="62642-135">Referência de atividades personalizadas</span><span class="sxs-lookup"><span data-stu-id="62642-135">Referencing Custom Activities</span></span>  
 <span data-ttu-id="62642-136">Referências a atividades personalizadas devem ser adicionadas para o <`Assemblies`> seção em <`System.Web.Compilation`> para que eles são carregados para o domínio de aplicativo e o desserializador XAML é capaz de localizar os tipos.</span><span class="sxs-lookup"><span data-stu-id="62642-136">References to custom activities must be added to the <`Assemblies`> section under <`System.Web.Compilation`> so that they are loaded into the Application Domain and the XAML deserializer is able to locate the types.</span></span> <span data-ttu-id="62642-137">Essas configurações podem ser feitas no nível do aplicativo ou na Web. config raiz se as configurações devem ser aplicadas a todos os aplicativos no computador.</span><span class="sxs-lookup"><span data-stu-id="62642-137">These settings can be made at the application level or in the root Web.config if the settings should be applied to all applications on the machine.</span></span>  
  
## <a name="deployment"></a><span data-ttu-id="62642-138">Implantação</span><span class="sxs-lookup"><span data-stu-id="62642-138">Deployment</span></span>  
 <span data-ttu-id="62642-139">A ferramenta de implantação da Web foi criada para facilitar o trabalho de implantação.</span><span class="sxs-lookup"><span data-stu-id="62642-139">The Web Deployment tool has been created to make the job of deployment easier.</span></span> <span data-ttu-id="62642-140">A ferramenta permite que você migrar aplicativos entre o IIS 6.0 e IIS 7.0, sincronizar farms de servidores e empacotar, arquivar e implantar aplicativos da Web.</span><span class="sxs-lookup"><span data-stu-id="62642-140">The tool allows you to migrate applications between IIS 6.0 and IIS 7.0, synchronize server farms, and package, archive and deploy Web applications.</span></span> <span data-ttu-id="62642-141">Para obter mais informações, consulte [ferramenta de implantação da MS](http://go.microsoft.com/fwlink/?LinkId=178690)</span><span class="sxs-lookup"><span data-stu-id="62642-141">For more information, see [MS Deployment Tool](http://go.microsoft.com/fwlink/?LinkId=178690)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="62642-142">Consulte também</span><span class="sxs-lookup"><span data-stu-id="62642-142">See Also</span></span>  
 [<span data-ttu-id="62642-143">Detalhes internos do host de serviço de fluxo de trabalho</span><span class="sxs-lookup"><span data-stu-id="62642-143">Workflow Service Host Internals</span></span>](../../../../docs/framework/wcf/feature-details/workflow-service-host-internals.md)  
 [<span data-ttu-id="62642-144">Configurando WorkflowServiceHost</span><span class="sxs-lookup"><span data-stu-id="62642-144">Configuring WorkflowServiceHost</span></span>](../../../../docs/framework/wcf/feature-details/configuring-workflowservicehost.md)
