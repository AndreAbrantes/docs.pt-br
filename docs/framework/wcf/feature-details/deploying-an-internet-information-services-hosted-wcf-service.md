---
title: "Implantando um Serviço WCF hospedado do Internet Information Services dos Serviços de Informações da Internet"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 04ebd329-3fbd-44c3-b3ab-1de3517e27d7
caps.latest.revision: "30"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: b9b19e111e11097cbb4b4af60ae0b28956a4a381
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/02/2017
---
# <a name="deploying-an-internet-information-services-hosted-wcf-service"></a><span data-ttu-id="87920-102">Implantando um Serviço WCF hospedado do Internet Information Services dos Serviços de Informações da Internet</span><span class="sxs-lookup"><span data-stu-id="87920-102">Deploying an Internet Information Services-Hosted WCF Service</span></span>
<span data-ttu-id="87920-103">Desenvolver e implantar um serviço do [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] hospedado no IIS (Serviços de Informações da Internet) consiste nas seguintes tarefas:</span><span class="sxs-lookup"><span data-stu-id="87920-103">Developing and deploying a [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] service that is hosted in Internet Information Services (IIS) consists of the following tasks:</span></span>  
  
-   <span data-ttu-id="87920-104">Verificar se o IIS, o ASP.NET, o [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] e o componente de ativação do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] estão instalados e registrados corretamente.</span><span class="sxs-lookup"><span data-stu-id="87920-104">Ensure that IIS, ASP.NET, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], and the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] activation component are correctly installed and registered.</span></span>  
  
-   <span data-ttu-id="87920-105">Criar um novo aplicativo do IIS ou reutilizar um existente do [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="87920-105">Create a new IIS application, or reuse an existing [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] application.</span></span>  
  
-   <span data-ttu-id="87920-106">Criar um arquivo .svc para o serviço do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="87920-106">Create a .svc file for the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service.</span></span>  
  
-   <span data-ttu-id="87920-107">Implantar a implementação do serviço para o aplicativo do IIS.</span><span class="sxs-lookup"><span data-stu-id="87920-107">Deploy the service implementation to the IIS application.</span></span>  
  
-   <span data-ttu-id="87920-108">Configurar o serviço do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="87920-108">Configure the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service.</span></span>  
  
 <span data-ttu-id="87920-109">Para obter uma explicação detalhada de criação de um hospedados no IIS [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] de serviço, consulte [como: hospedar um serviço WCF no IIS](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-iis.md).</span><span class="sxs-lookup"><span data-stu-id="87920-109">For a detailed walkthrough of creating an IIS-hosted [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service, see [How to: Host a WCF Service in IIS](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-iis.md).</span></span>  
  
## <a name="ensure-that-iis-aspnet-and-wcf-are-correctly-installed-and-registered"></a><span data-ttu-id="87920-110">Verificar se o IIS, o ASP.NET, o WCF estão corretamente instalados e registrados</span><span class="sxs-lookup"><span data-stu-id="87920-110">Ensure That IIS, ASP.NET and WCF Are Correctly Installed and Registered</span></span>  
 <span data-ttu-id="87920-111">O [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], o IIS e o ASP.NET devem estar instalados para que os serviços do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] hospedados no IIS funcionem corretamente.</span><span class="sxs-lookup"><span data-stu-id="87920-111">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], IIS, and ASP.NET must be installed for IIS-hosted [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services to function correctly.</span></span> <span data-ttu-id="87920-112">Os procedimentos para instalar o [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] (como parte do [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)]), o ASP.NET e o IIS variam dependendo da versão do sistema operacional que está sendo usada.</span><span class="sxs-lookup"><span data-stu-id="87920-112">The procedures for installing [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] (as part of the [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)]), ASP.NET and IIS vary depending on the operating system version being used.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="87920-113">Instalando [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] e [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)], consulte [instalador da Web do Microsoft .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=201185).</span><span class="sxs-lookup"><span data-stu-id="87920-113"> installing [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] and the [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)], see [Microsoft .NET Framework 4 Web Installer](http://go.microsoft.com/fwlink/?LinkId=201185).</span></span> <span data-ttu-id="87920-114">Instruções para instalar o IIS podem ser encontradas em [instalando o IIS](http://go.microsoft.com/fwlink/?LinkId=201188).</span><span class="sxs-lookup"><span data-stu-id="87920-114">Instructions for installing IIS can be found at [Installing IIS](http://go.microsoft.com/fwlink/?LinkId=201188).</span></span>  
  
 <span data-ttu-id="87920-115">O processo de instalação para o [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)] registra automaticamente o [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] com o IIS se o IIS já estiver no computador.</span><span class="sxs-lookup"><span data-stu-id="87920-115">The installation process for the [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)] automatically registers [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] with IIS if IIS is already present on the machine.</span></span> <span data-ttu-id="87920-116">Se o IIS for instalado após o [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)], uma etapa adicional será necessária para registrar o [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] com o IIS e o [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="87920-116">If IIS is installed after the [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)], an additional step is required to register [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] with IIS and [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)].</span></span> <span data-ttu-id="87920-117">Você pode fazer isso da seguinte maneira, dependendo do sistema operacional:</span><span class="sxs-lookup"><span data-stu-id="87920-117">You can do this as follows, depending on your operating system:</span></span>  
  
-   [!INCLUDE[wxpsp2](../../../../includes/wxpsp2-md.md)]<span data-ttu-id="87920-118">, Windows 7, e [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)]: usar o [ferramenta de registro de ServiceModel (ServiceModelReg.exe)](../../../../docs/framework/wcf/servicemodelreg-exe.md) ferramenta para registrar [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] com o IIS: para usar essa ferramenta, digite **ServiceModelReg.exe /i /x** em prompt de comando do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="87920-118">, Windows 7, and [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)]: Use the [ServiceModel Registration Tool (ServiceModelReg.exe)](../../../../docs/framework/wcf/servicemodelreg-exe.md) tool to register [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] with IIS: To use this tool, type **ServiceModelReg.exe /i /x** in the Visual Studio command prompt.</span></span> <span data-ttu-id="87920-119">Você pode abrir esse comando prompt por clicando no botão Iniciar, selecionando **todos os programas**, **Microsoft Visual Studio 2012**, **ferramentas do Visual Studio**, e  **Prompt de comando do Visual Studio**</span><span class="sxs-lookup"><span data-stu-id="87920-119">You can open this command prompt by clicking the start button, selecting **All Programs**, **Microsoft Visual Studio 2012**, **Visual Studio Tools**, and **Visual Studio Command Prompt**</span></span>  
  
-   [!INCLUDE[wv](../../../../includes/wv-md.md)]<span data-ttu-id="87920-120">: Instalar o subcomponente de componentes de ativação do Windows Communication Foundation do [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)].</span><span class="sxs-lookup"><span data-stu-id="87920-120">: Install the Windows Communication Foundation Activation Components subcomponent of the [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)].</span></span> <span data-ttu-id="87920-121">Para fazer isso, no painel de controle, clique em **adicionar ou remover programas** e **adicionar\/remover componentes do Windows**.</span><span class="sxs-lookup"><span data-stu-id="87920-121">To do this, in Control Panel, click **Add or Remove Programs** and then **Add\/Remove Windows Components**.</span></span> <span data-ttu-id="87920-122">Isso ativa a **Assistente de componentes do Windows**.</span><span class="sxs-lookup"><span data-stu-id="87920-122">This activates the **Windows Component Wizard**.</span></span>  
  
-   <span data-ttu-id="87920-123">Windows 7:</span><span class="sxs-lookup"><span data-stu-id="87920-123">Windows 7:</span></span>  
  
 <span data-ttu-id="87920-124">Finalmente, você deve verificar se o ASP.NET está configurado para usar a versão 4. do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="87920-124">Finally you must verify that ASP.NET is configured to use the .NET Framework version 4.</span></span> <span data-ttu-id="87920-125">Faça isso executando a ferramenta ASPNET_Regiis com a opção –i.</span><span class="sxs-lookup"><span data-stu-id="87920-125">You do this by running the ASPNET_Regiis tool with the –i option.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="87920-126">[Ferramenta de registro ASP.NET IIS](http://go.microsoft.com/fwlink/?LinkId=201186)</span><span class="sxs-lookup"><span data-stu-id="87920-126"> [ASP.NET IIS Registration Tool](http://go.microsoft.com/fwlink/?LinkId=201186)</span></span>  
  
## <a name="create-a-new-iis-application-or-reuse-an-existing-aspnet-application"></a><span data-ttu-id="87920-127">Criar um novo aplicativo do IIS ou reutilizar um existente do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="87920-127">Create a New IIS Application or Reuse an Existing ASP.NET Application</span></span>  
 <span data-ttu-id="87920-128">Os serviços do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] hospedados no IIS devem residir em um aplicativo do IIS.</span><span class="sxs-lookup"><span data-stu-id="87920-128">IIS-hosted [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services must reside inside of an IIS application.</span></span> <span data-ttu-id="87920-129">Você pode criar um novo aplicativo do IIS para hospedar os serviços do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] exclusivamente.</span><span class="sxs-lookup"><span data-stu-id="87920-129">You can create a new IIS application to host [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services exclusively.</span></span> <span data-ttu-id="87920-130">Como alternativa, você pode implantar um serviço do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] em um aplicativo existente que já esteja hospedando o conteúdo do [!INCLUDE[vstecasplong](../../../../includes/vstecasplong-md.md)] (como páginas .aspx e serviços Web do ASP.NET [ASMX]).</span><span class="sxs-lookup"><span data-stu-id="87920-130">Alternatively, you can deploy an [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service into an existing application that is already hosting [!INCLUDE[vstecasplong](../../../../includes/vstecasplong-md.md)] content (such as .aspx pages and ASP.NET Web services [ASMX]).</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="87920-131">Essas opções, consulte o "hospedagem WCF-lado a lado com o ASP.NET" e "Hospedagem WCF Services no modo de compatibilidade ASP.NET" seções [serviços WCF e ASP.NET](../../../../docs/framework/wcf/feature-details/wcf-services-and-aspnet.md).</span><span class="sxs-lookup"><span data-stu-id="87920-131"> these options, see the "Hosting WCF Side-by-Side with ASP.NET" and "Hosting WCF Services in ASP.NET Compatibility Mode" sections in [WCF Services and ASP.NET](../../../../docs/framework/wcf/feature-details/wcf-services-and-aspnet.md).</span></span>  
  
 <span data-ttu-id="87920-132">Observe que o [!INCLUDE[iis601](../../../../includes/iis601-md.md)] e as versões posteriores reiniciam periodicamente um aplicativo isolado de programação orientada a objeto.</span><span class="sxs-lookup"><span data-stu-id="87920-132">Note that [!INCLUDE[iis601](../../../../includes/iis601-md.md)] and later versions periodically restart an isolated object-oriented programming application.</span></span> <span data-ttu-id="87920-133">O valor padrão é 1740 minutos.</span><span class="sxs-lookup"><span data-stu-id="87920-133">The default value is 1740 minutes.</span></span> <span data-ttu-id="87920-134">O valor máximo valor com suporte é 71.582 minutos.</span><span class="sxs-lookup"><span data-stu-id="87920-134">The maximum value supported is 71,582 minutes.</span></span> <span data-ttu-id="87920-135">Esse reinício pode ser desabilitado.</span><span class="sxs-lookup"><span data-stu-id="87920-135">This restart can be disabled.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="87920-136">Essa propriedade, consulte o [PeriodicRestartTime](http://go.microsoft.com/fwlink/?LinkId=109968).</span><span class="sxs-lookup"><span data-stu-id="87920-136"> this property, see the [PeriodicRestartTime](http://go.microsoft.com/fwlink/?LinkId=109968).</span></span>  
  
## <a name="create-an-svc-file-for-the-wcf-service"></a><span data-ttu-id="87920-137">Criar um arquivo .svc para o serviço WCF</span><span class="sxs-lookup"><span data-stu-id="87920-137">Create an .svc File for the WCF Service</span></span>  
 <span data-ttu-id="87920-138">Os serviços do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] hospedados no IIS são representados como arquivos de conteúdo especial (arquivos .svc) dentro do aplicativo do IIS.</span><span class="sxs-lookup"><span data-stu-id="87920-138">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services hosted in IIS are represented as special content files (.svc files) inside the IIS application.</span></span> <span data-ttu-id="87920-139">Esse modelo é semelhante à maneira como as páginas ASMX são representadas dentro de um aplicativo do IIS como arquivos .asmx.</span><span class="sxs-lookup"><span data-stu-id="87920-139">This model is similar to the way ASMX pages are represented inside of an IIS application as .asmx files.</span></span> <span data-ttu-id="87920-140">Um arquivo. svc contém um [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]-diretiva de processamento específico ([@ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md)) que permite que o [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] infraestrutura de hospedagem para ativar serviços hospedados em resposta a mensagens de entrada.</span><span class="sxs-lookup"><span data-stu-id="87920-140">A .svc file contains a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]-specific processing directive ([@ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md)) that allows the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] hosting infrastructure to activate hosted services in response to incoming messages.</span></span> <span data-ttu-id="87920-141">A sintaxe mais comum para um arquivo .svc está na instrução a seguir.</span><span class="sxs-lookup"><span data-stu-id="87920-141">The most common syntax for a .svc file is in the following statement.</span></span>  
  
```  
<% @ServiceHost Service="MyNamespace.MyServiceImplementationTypeName" %>  
```  
  
 <span data-ttu-id="87920-142">Ele consiste de [ @ServiceHost ](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md) diretiva e um único atributo, `Service`.</span><span class="sxs-lookup"><span data-stu-id="87920-142">It consists of the [@ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md) directive and a single attribute, `Service`.</span></span> <span data-ttu-id="87920-143">O valor do atributo `Service` é o nome do tipo CLR (Common Language Runtime) da implementação do serviço.</span><span class="sxs-lookup"><span data-stu-id="87920-143">The value of the `Service` attribute is the common language runtime (CLR) type name of the service implementation.</span></span> <span data-ttu-id="87920-144">Usar essa diretiva é basicamente equivalente a criar um host de serviço usando o código a seguir.</span><span class="sxs-lookup"><span data-stu-id="87920-144">Using this directive is basically equivalent to creating a service host using the following code.</span></span>  
  
```  
new ServiceHost( typeof( MyNamespace.MyServiceImplementationTypeName ) );  
```  
  
 <span data-ttu-id="87920-145">A configuração de hospedagem adicional, como a criação de uma lista de endereços de base para o serviço também pode ser feita.</span><span class="sxs-lookup"><span data-stu-id="87920-145">Additional hosting configuration, such as creating a list of base addresses for the service can also be done.</span></span> <span data-ttu-id="87920-146">Você também pode usar um <xref:System.ServiceModel.Activation.ServiceHostFactory> personalizado para estender a política para usar com soluções de hospedagem personalizadas.</span><span class="sxs-lookup"><span data-stu-id="87920-146">You can also use a custom <xref:System.ServiceModel.Activation.ServiceHostFactory> to extend the directive for use with custom hosting solutions.</span></span> <span data-ttu-id="87920-147">Os aplicativos do IIS que hospedam os serviços do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] não são responsáveis por gerenciar a criação e o tempo de vida de instâncias do <xref:System.ServiceModel.ServiceHost>.</span><span class="sxs-lookup"><span data-stu-id="87920-147">The IIS applications that host [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services are not responsible for managing the creation and lifetime of <xref:System.ServiceModel.ServiceHost> instances.</span></span> <span data-ttu-id="87920-148">A infraestrutura de hospedagem do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] gerenciado cria dinamicamente a instância necessária do <xref:System.ServiceModel.ServiceHost> quando a primeira solicitação é recebida para o arquivo .svc.</span><span class="sxs-lookup"><span data-stu-id="87920-148">The managed [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] hosting infrastructure creates the necessary <xref:System.ServiceModel.ServiceHost> instance dynamically when the first request is received for the .svc file.</span></span> <span data-ttu-id="87920-149">A instância não é liberada até que seja fechada explicitamente pelo código ou quando o aplicativo for reciclado.</span><span class="sxs-lookup"><span data-stu-id="87920-149">The instance is not released until either it is closed explicitly by code or when the application is recycled.</span></span>  
  
 [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="87920-150">a sintaxe para arquivos. svc, consulte [ @ServiceHost ](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md).</span><span class="sxs-lookup"><span data-stu-id="87920-150"> the syntax for .svc files, see [@ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md).</span></span>  
  
## <a name="deploy-the-service-implementation-to-the-iis-application"></a><span data-ttu-id="87920-151">Implantar a implementação do serviço para o aplicativo do IIS</span><span class="sxs-lookup"><span data-stu-id="87920-151">Deploy the Service Implementation to the IIS Application</span></span>  
 <span data-ttu-id="87920-152">Os serviços do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] hospedados no IIS usam o mesmo modelo de compilação dinâmica que o [!INCLUDE[vstecasplong](../../../../includes/vstecasplong-md.md)].</span><span class="sxs-lookup"><span data-stu-id="87920-152">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services hosted in IIS use the same dynamic compilation model as [!INCLUDE[vstecasplong](../../../../includes/vstecasplong-md.md)].</span></span> <span data-ttu-id="87920-153">Da mesma forma que com o [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], você pode implantar o código de implementação para os serviços do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] hospedados no IIS de várias maneiras em vários locais, da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="87920-153">Just as with [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], you can deploy the implementation code for IIS-hosted [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services in several ways at various locations, as follows:</span></span>  
  
-   <span data-ttu-id="87920-154">Como um arquivo .dll pré-compilado localizado no GAC (cache de assembly global) ou no diretório \bin do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="87920-154">As a precompiled .dll file located in the global assembly cache (GAC) or in the application’s \bin directory.</span></span> <span data-ttu-id="87920-155">Os binários pré-compilados não são atualizados até que uma nova versão da biblioteca de classe seja implantada.</span><span class="sxs-lookup"><span data-stu-id="87920-155">Precompiled binaries are not updated until a new version of the class library is deployed.</span></span>  
  
-   <span data-ttu-id="87920-156">Como arquivos de origem não compilados localizados no diretório \App_Code do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="87920-156">As un-compiled source files located in the application’s \App_Code directory.</span></span> <span data-ttu-id="87920-157">Os arquivos de origem localizados nesse diretório são exigidos dinamicamente ao processar a primeira solicitação do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="87920-157">Source files located in this directory are dynamically required when processing the application’s first request.</span></span> <span data-ttu-id="87920-158">As alterações nos arquivos no diretório \App_Code fazem o aplicativo inteiro ser reciclado e recompilado quando a próxima solicitação é recebida.</span><span class="sxs-lookup"><span data-stu-id="87920-158">Any changes to files in the \App_Code directory cause the entire application to be recycled and recompiled when the next request is received.</span></span>  
  
-   <span data-ttu-id="87920-159">Como código não compilado diretamente no arquivo .svc.</span><span class="sxs-lookup"><span data-stu-id="87920-159">As un-compiled code placed directly in the .svc file.</span></span> <span data-ttu-id="87920-160">Código de implementação também pode ser embutido localizado no arquivo. svc do serviço, após o @ServiceHost diretiva.</span><span class="sxs-lookup"><span data-stu-id="87920-160">Implementation code can also be located inline in the service’s .svc file, after the @ServiceHost directive.</span></span> <span data-ttu-id="87920-161">As alterações ao código embutido fazem o aplicativo ser reciclado e recompilado quando a próxima solicitação é recebida.</span><span class="sxs-lookup"><span data-stu-id="87920-161">Any changes to inline code cause the application to be recycled and recompiled when the next request is received.</span></span>  
  
 [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="87920-162">o [!INCLUDE[vstecasplong](../../../../includes/vstecasplong-md.md)] modelo de compilação, consulte [visão geral de compilação do ASP.NET](http://go.microsoft.com/fwlink/?LinkId=94773).</span><span class="sxs-lookup"><span data-stu-id="87920-162"> the [!INCLUDE[vstecasplong](../../../../includes/vstecasplong-md.md)] compilation model, see [ASP.NET Compilation Overview](http://go.microsoft.com/fwlink/?LinkId=94773).</span></span>  
  
## <a name="configure-the-wcf-service"></a><span data-ttu-id="87920-163">Configurar o serviço WCF</span><span class="sxs-lookup"><span data-stu-id="87920-163">Configure the WCF Service</span></span>  
 <span data-ttu-id="87920-164">Os serviços de configuração hospedados no [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] armazenam sua configuração no arquivo Web.config do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="87920-164">IIS-hosted [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services store their configuration in the applications Web.config file.</span></span> <span data-ttu-id="87920-165">Os serviços hospedados no IIS usam os mesmos elementos e a sintaxe de configuração que os serviços do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] hospedados fora do IIS.</span><span class="sxs-lookup"><span data-stu-id="87920-165">IIS-hosted services use the same configuration elements and syntax as [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services hosted outside of IIS.</span></span> <span data-ttu-id="87920-166">No entanto, as seguintes restrições são exclusivas para o ambiente de hospedagem do IIS:</span><span class="sxs-lookup"><span data-stu-id="87920-166">However, the following constraints are unique to the IIS hosting environment:</span></span>  
  
-   <span data-ttu-id="87920-167">Endereços de base para serviços hospedados no IIS.</span><span class="sxs-lookup"><span data-stu-id="87920-167">Base addresses for IIS-hosted services.</span></span>  
  
-   <span data-ttu-id="87920-168">Aplicativos que hospedem [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] serviços fora do IIS podem controlar o endereço base dos serviços que hospedam passando um conjunto de base de dados de endereço URIs para o <xref:System.ServiceModel.ServiceHost> construtor ou fornecendo um [ \<host >](../../../../docs/framework/configure-apps/file-schema/wcf/host.md) elemento de configuração do serviço.</span><span class="sxs-lookup"><span data-stu-id="87920-168">Applications hosting [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services outside of IIS can control the base address of the services they host by passing a set of base address URIs to the <xref:System.ServiceModel.ServiceHost> constructor or by providing a [\<host>](../../../../docs/framework/configure-apps/file-schema/wcf/host.md) element in the service’s configuration.</span></span> <span data-ttu-id="87920-169">Os serviços hospedados no IIS não têm a capacidade de controlar seu endereço de base; o endereço de base de um serviço hospedado no IIS é o endereço de seu arquivo .svc.</span><span class="sxs-lookup"><span data-stu-id="87920-169">Services hosted in IIS do not have the ability to control their base address; the base address of an IIS-hosted service is the address of its .svc file.</span></span>  
  
### <a name="endpoint-addresses-for-iis-hosted-services"></a><span data-ttu-id="87920-170">Endereços de ponto de extremidade para serviços hospedados no IIS</span><span class="sxs-lookup"><span data-stu-id="87920-170">Endpoint Addresses for IIS-Hosted Services</span></span>  
 <span data-ttu-id="87920-171">Quando estão hospedados no IIS, os endereços de ponto de extremidade são sempre considerados relativos para o endereço do arquivo .svc que representa o serviço.</span><span class="sxs-lookup"><span data-stu-id="87920-171">When hosted in IIS, endpoint addresses are always considered to be relative to the address of the .svc file that represents the service.</span></span> <span data-ttu-id="87920-172">Por exemplo, se o endereço de base de um serviço do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] for http://localhost/Application1/MyService.svc com a seguinte configuração de ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="87920-172">For example, if the base address of a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service is http://localhost/Application1/MyService.svc with the following endpoint configuration.</span></span>  
  
```xml  
<endpoint address="anotherEndpoint" .../>  
```  
  
 <span data-ttu-id="87920-173">Isso fornece um ponto de extremidade que pode ser alcançado em "http://localhost/Application1/MyService.svc/anotherEndpoint".</span><span class="sxs-lookup"><span data-stu-id="87920-173">This provides an endpoint that can be reached at "http://localhost/Application1/MyService.svc/anotherEndpoint".</span></span>  
  
 <span data-ttu-id="87920-174">Da mesma forma, o elemento de configuração do ponto de extremidade que usa uma cadeia de caracteres vazia como o endereço relativo fornece um ponto de extremidade alcançável em http://localhost/Application1/MyService.svc, que é o endereço de base.</span><span class="sxs-lookup"><span data-stu-id="87920-174">Similarly, the endpoint configuration element that uses an empty string as the relative address provides an endpoint reachable at http://localhost/Application1/MyService.svc, which is the base address.</span></span>  
  
```xml  
<endpoint address="" ... />  
```  
  
 <span data-ttu-id="87920-175">Você sempre deve usar endereços de ponto de extremidade relativos para pontos de extremidade de serviço hospedados no IIS.</span><span class="sxs-lookup"><span data-stu-id="87920-175">You must always use relative endpoint addresses for IIS-hosted service endpoints.</span></span> <span data-ttu-id="87920-176">Fornecer um endereço de ponto de extremidade totalmente qualificado (por exemplo, http://localhost/MyService.svc) pode levar a erros na implantação do serviço se o endereço do ponto de extremidade não apontar para o aplicativo do IIS que hospeda o serviço que expõe o ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="87920-176">Supplying a fully-qualified endpoint address (for example, http://localhost/MyService.svc) can lead to errors in the deployment of the service if the endpoint address does not point to the IIS-application that hosts the service exposing the endpoint.</span></span> <span data-ttu-id="87920-177">Usar endereços de ponto de extremidade relativos para serviços hospedados evita esses conflitos em potencial.</span><span class="sxs-lookup"><span data-stu-id="87920-177">Using relative endpoint addresses for hosted services avoids these potential conflicts.</span></span>  
  
### <a name="available-transports"></a><span data-ttu-id="87920-178">Transportes disponíveis</span><span class="sxs-lookup"><span data-stu-id="87920-178">Available Transports</span></span>  
 <span data-ttu-id="87920-179">Os serviços do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] hospedados no IIS 5.1 e o [!INCLUDE[iis601](../../../../includes/iis601-md.md)] são restritos para usar a comunicação com base em HTTP.</span><span class="sxs-lookup"><span data-stu-id="87920-179">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services hosted in IIS 5.1 and [!INCLUDE[iis601](../../../../includes/iis601-md.md)] are restricted to using HTTP-based communication.</span></span> <span data-ttu-id="87920-180">Nessas plataformas do IIS, configurar um serviço hospedado para usar uma associação não HTTP resulta em um erro durante a ativação do serviço.</span><span class="sxs-lookup"><span data-stu-id="87920-180">On these IIS platforms, configuring a hosted service to use a non-HTTP binding results in an error during service activation.</span></span> <span data-ttu-id="87920-181">Para o [!INCLUDE[iisver](../../../../includes/iisver-md.md)], os transportes com suporte incluem HTTP, Net.TCP, Net.Pipe, Net.MSMQ e msmq.formatname para compatibilidade retroativa com os aplicativos existentes do MSMQ.</span><span class="sxs-lookup"><span data-stu-id="87920-181">For [!INCLUDE[iisver](../../../../includes/iisver-md.md)], the supported transports include HTTP, Net.TCP, Net.Pipe, Net.MSMQ, and msmq.formatname for backwards compatibility with existing MSMQ applications.</span></span>  
  
### <a name="http-transport-security"></a><span data-ttu-id="87920-182">Segurança de transporte de HTTP</span><span class="sxs-lookup"><span data-stu-id="87920-182">HTTP Transport Security</span></span>  
 <span data-ttu-id="87920-183">Os serviços do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] hospedados no IIS podem utilizar a segurança de transporte do HTTP (por exemplo, esquemas de autenticação de HTTPS e HTTP como Básico, Resumido e Autenticação Integrada do Windows) contanto que o diretório virtual do IIS que contém os serviços dê suporte a essas configurações.</span><span class="sxs-lookup"><span data-stu-id="87920-183">IIS-hosted [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services can make use of HTTP transport security (for example, HTTPS and HTTP authentication schemes such as Basic, Digest, and Windows Integrated Authentication) as long as the IIS virtual directory that contains the service supports those settings.</span></span> <span data-ttu-id="87920-184">As configurações de segurança de transporte de HTTP em uma associação do ponto de extremidade hospedado devem corresponder às configurações de segurança de transporte no diretório virtual do IIS que as contêm.</span><span class="sxs-lookup"><span data-stu-id="87920-184">The HTTP Transport Security settings on a hosted endpoint’s binding must match the transport security settings on the IIS virtual directory that contains it.</span></span>  
  
 <span data-ttu-id="87920-185">Por exemplo, um ponto de extremidade do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] configurado para usar a autenticação resumida do HTTP deve residir em um diretório virtual do IIS que também seja configurado para permitir a autenticação resumida do HTTP.</span><span class="sxs-lookup"><span data-stu-id="87920-185">For example, a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] endpoint configured to use HTTP digest authentication must reside in an IIS virtual directory that is also configured to allow HTTP digest authentication.</span></span> <span data-ttu-id="87920-186">As combinações sem correspondência de configurações do IIS e configurações de ponto de extremidade do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] resultam em um erro durante a ativação do serviço.</span><span class="sxs-lookup"><span data-stu-id="87920-186">Unmatched combinations of IIS settings and [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] endpoint settings result in an error during service activation.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="87920-187">Consulte também</span><span class="sxs-lookup"><span data-stu-id="87920-187">See Also</span></span>  
 [<span data-ttu-id="87920-188">Hospedagem no Internet Information Services</span><span class="sxs-lookup"><span data-stu-id="87920-188">Hosting in Internet Information Services</span></span>](../../../../docs/framework/wcf/feature-details/hosting-in-internet-information-services.md)  
 [<span data-ttu-id="87920-189">Práticas recomendadas de hospedagem de serviços de informações da Internet</span><span class="sxs-lookup"><span data-stu-id="87920-189">Internet Information Services Hosting Best Practices</span></span>](../../../../docs/framework/wcf/feature-details/internet-information-services-hosting-best-practices.md)  
 [<span data-ttu-id="87920-190">Recursos de hospedagem do Windows Server App Fabric</span><span class="sxs-lookup"><span data-stu-id="87920-190">Windows Server App Fabric Hosting Features</span></span>](http://go.microsoft.com/fwlink/?LinkId=201276)
