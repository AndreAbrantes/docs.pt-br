---
title: "Equivalência de contrato de dados"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords: data contracts [WCF], equivalence
ms.assetid: f06f3c7e-c235-4ec1-b200-68142edf1ed1
caps.latest.revision: "16"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 4059fa401d082f4408080cf5fd13f1331314a2d9
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/22/2017
---
# <a name="data-contract-equivalence"></a><span data-ttu-id="5aa5f-102">Equivalência de contrato de dados</span><span class="sxs-lookup"><span data-stu-id="5aa5f-102">Data Contract Equivalence</span></span>
<span data-ttu-id="5aa5f-103">Para um cliente enviar dados de um determinado tipo com êxito a um serviço ou um serviço para enviar dados com êxito a um cliente, o tipo de envio não necessariamente precisa existir na extremidade de recebimento.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-103">For a client to successfully send data of a certain type to a service, or a service to successfully send data to a client, the sent type does not necessarily have to exist on the receiving end.</span></span> <span data-ttu-id="5aa5f-104">O único requisito é que os contratos de ambos os tipos de dados ser equivalentes.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-104">The only requirement is that the data contracts of both types be equivalent.</span></span> <span data-ttu-id="5aa5f-105">(Às vezes, equivalência estrita não é necessária, conforme discutido em [controle de versão de contrato de dados](../../../../docs/framework/wcf/feature-details/data-contract-versioning.md).)</span><span class="sxs-lookup"><span data-stu-id="5aa5f-105">(Sometimes, strict equivalence is not required, as discussed in [Data Contract Versioning](../../../../docs/framework/wcf/feature-details/data-contract-versioning.md).)</span></span>  
  
 <span data-ttu-id="5aa5f-106">Para contratos de dados sejam equivalentes, eles devem ter o mesmo namespace e nome.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-106">For data contracts to be equivalent, they must have the same namespace and name.</span></span> <span data-ttu-id="5aa5f-107">Além disso, cada membro de dados em um lado deve ter um membro de dados equivalentes no outro lado.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-107">Additionally, each data member on one side must have an equivalent data member on the other side.</span></span>  
  
 <span data-ttu-id="5aa5f-108">Para membros de dados sejam equivalentes, eles devem ter o mesmo nome.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-108">For data members to be equivalent, they must have the same name.</span></span> <span data-ttu-id="5aa5f-109">Além disso, eles devem representar o mesmo tipo de dados. Isto é, seus contratos de dados devem ser equivalentes.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-109">Additionally, they must represent the same type of data; that is, their data contracts must be equivalent.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5aa5f-110">Observação de contrato de dados nomes e namespaces, bem como nomes de membros de dados diferenciam maiusculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-110">Note that data contract names and namespaces, as well as data member names, are case-sensitive.</span></span>  
  
 [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="5aa5f-111">namespaces e nomes de contrato de dados, bem como os nomes de membros de dados, consulte [nomes de contrato de dados](../../../../docs/framework/wcf/feature-details/data-contract-names.md).</span><span class="sxs-lookup"><span data-stu-id="5aa5f-111"> data contract names and namespaces, as well as data member names, see [Data Contract Names](../../../../docs/framework/wcf/feature-details/data-contract-names.md).</span></span>  
  
 <span data-ttu-id="5aa5f-112">Se existem dois tipos no mesmo lado (remetente ou destinatário) e seus contratos de dados não são equivalentes (por exemplo, eles têm membros de dados diferente), você deve não lhes o mesmo nome e namespace.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-112">If two types exist on the same side (sender or receiver) and their data contracts are not equivalent (for example, they have different data members), you should not give them the same name and namespace.</span></span> <span data-ttu-id="5aa5f-113">Isso pode causar exceções sejam geradas.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-113">Doing so may cause exceptions to be thrown.</span></span>  
  
 <span data-ttu-id="5aa5f-114">Os contratos para os seguintes tipos de dados são equivalentes:</span><span class="sxs-lookup"><span data-stu-id="5aa5f-114">The data contracts for the following types are equivalent:</span></span>  
  
 [!code-csharp[C_DataContractNames#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#5)]
 [!code-vb[C_DataContractNames#5](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#5)]  
  
## <a name="data-member-order-and-data-contract-equivalence"></a><span data-ttu-id="5aa5f-115">Equivalência de contrato de dados e de ordem de membro de dados</span><span class="sxs-lookup"><span data-stu-id="5aa5f-115">Data Member Order and Data Contract equivalence</span></span>  
 <span data-ttu-id="5aa5f-116">Usando o <xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A> propriedade o <xref:System.Runtime.Serialization.DataMemberAttribute> classe pode afetar a equivalência de contrato de dados.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-116">Using the <xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A> property of the <xref:System.Runtime.Serialization.DataMemberAttribute> class may affect data contract equivalence.</span></span> <span data-ttu-id="5aa5f-117">Os contratos de dados devem ter membros que aparecem na mesma ordem como equivalente.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-117">The data contracts must have members that appear in the same order to be equivalent.</span></span> <span data-ttu-id="5aa5f-118">A ordem padrão é alfabética.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-118">The default order is alphabetical.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="5aa5f-119">[Ordem de membro de dados](../../../../docs/framework/wcf/feature-details/data-member-order.md).</span><span class="sxs-lookup"><span data-stu-id="5aa5f-119"> [Data Member Order](../../../../docs/framework/wcf/feature-details/data-member-order.md).</span></span>  
  
 <span data-ttu-id="5aa5f-120">Por exemplo, o código a seguir resulta em contratos de dados equivalentes.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-120">For example, the following code results in equivalent data contracts.</span></span>  
  
 [!code-csharp[C_DataContractNames#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#6)]
 [!code-vb[C_DataContractNames#6](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#6)]  
  
 <span data-ttu-id="5aa5f-121">No entanto, o seguinte não resulta em um contrato de dados equivalente.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-121">However, the following does not result in an equivalent data contract.</span></span>  
  
 [!code-csharp[C_DataContractNames#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#7)]
 [!code-vb[C_DataContractNames#7](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#7)]  
  
## <a name="inheritance-interfaces-and-data-contract-equivalence"></a><span data-ttu-id="5aa5f-122">Equivalência de contrato de dados, Interfaces e herança</span><span class="sxs-lookup"><span data-stu-id="5aa5f-122">Inheritance, Interfaces, and Data Contract Equivalence</span></span>  
 <span data-ttu-id="5aa5f-123">Ao determinar a equivalência, um contrato de dados que herda de outro contrato de dados é tratado como se fosse um contrato de dados que inclui todos os membros de dados do tipo base.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-123">When determining equivalence, a data contract that inherits from another data contract is treated as if it is just one data contract that includes all of the data members from the base type.</span></span> <span data-ttu-id="5aa5f-124">Tenha em mente que a ordem dos membros de dados deve corresponder e precedem por membros do tipo base derivadas membros de tipo na ordem.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-124">Keep in mind that the order of the data members must match and that base type members precede derived type members in the order.</span></span> <span data-ttu-id="5aa5f-125">Além disso, se, como no exemplo de código a seguir, os membros de dados têm o mesmo valor de ordem, a ordenação para os membros de dados está em ordem alfabética.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-125">Furthermore, if, as in the following code example, two data members have the same order value, the ordering for those data members is alphabetical.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="5aa5f-126">[Ordem de membro de dados](../../../../docs/framework/wcf/feature-details/data-member-order.md).</span><span class="sxs-lookup"><span data-stu-id="5aa5f-126"> [Data Member Order](../../../../docs/framework/wcf/feature-details/data-member-order.md).</span></span>  
  
 <span data-ttu-id="5aa5f-127">No exemplo a seguir, o contrato de dados para o tipo `Employee` é equivalente ao contrato de dados para o tipo de `Worker`.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-127">In the following example, the data contract for type `Employee` is equivalent to the data contract for the type `Worker`.</span></span>  
  
 [!code-csharp[C_DataContractNames#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#8)]
 [!code-vb[C_DataContractNames#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#8)]  
  
 <span data-ttu-id="5aa5f-128">Ao passar parâmetros e valores de retorno entre um cliente e um serviço, um contrato de dados de uma classe base não será enviado quando o ponto de extremidade receptor espera um contrato de dados de uma classe derivada.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-128">When passing parameters and return values between a client and a service, a data contract from a base class cannot be sent when the receiving endpoint expects a data contract from a derived class.</span></span> <span data-ttu-id="5aa5f-129">Isso está de acordo com princípios de programação orientada a objeto.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-129">This is in accordance with object-oriented programming tenets.</span></span> <span data-ttu-id="5aa5f-130">No exemplo anterior, um objeto do tipo `Person` não pode ser enviada quando um `Employee` é esperado.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-130">In the previous example, an object of type `Person` cannot be sent when an `Employee` is expected.</span></span>  
  
 <span data-ttu-id="5aa5f-131">Um contrato de dados de uma classe derivada pode ser enviado quando um contrato de dados de uma classe base é esperado, mas somente se o ponto de extremidade de recebimento "sabe" do tipo derivado usando o <xref:System.Runtime.Serialization.KnownTypeAttribute>.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-131">A data contract from a derived class can be sent when a data contract from a base class is expected, but only if the receiving endpoint "knows" of the derived type using the <xref:System.Runtime.Serialization.KnownTypeAttribute>.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="5aa5f-132">[Tipos conhecidos de contrato de dados](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md).</span><span class="sxs-lookup"><span data-stu-id="5aa5f-132"> [Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md).</span></span> <span data-ttu-id="5aa5f-133">No exemplo anterior, um objeto do tipo `Employee` podem ser enviadas quando um `Person` é esperado, mas somente se o código receptor emprega o <xref:System.Runtime.Serialization.KnownTypeAttribute> para incluí-lo na lista de tipos conhecidos.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-133">In the previous example, an object of type `Employee` can be sent when a `Person` is expected, but only if the receiver code employs the <xref:System.Runtime.Serialization.KnownTypeAttribute> to include it in the list of known types.</span></span>  
  
 <span data-ttu-id="5aa5f-134">Ao passar parâmetros e valores de retorno entre aplicativos, se o tipo esperado é uma interface, é equivalente para o tipo esperado sendo do tipo <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-134">When passing parameters and return values between applications, if the expected type is an interface, it is equivalent to the expected type being of type <xref:System.Object>.</span></span> <span data-ttu-id="5aa5f-135">Como cada tipo, por fim, deriva de <xref:System.Object>, cada contrato de dados, por fim, deriva de contrato de dados para <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-135">Because every type ultimately derives from <xref:System.Object>, every data contract ultimately derives from the data contract for <xref:System.Object>.</span></span> <span data-ttu-id="5aa5f-136">Portanto, qualquer tipo de contrato de dados pode ser passado quando uma interface é esperada.</span><span class="sxs-lookup"><span data-stu-id="5aa5f-136">Thus, any data contract type can be passed when an interface is expected.</span></span> <span data-ttu-id="5aa5f-137">São necessárias etapas adicionais para trabalhar com êxito com interfaces; Para obter mais informações, consulte [tipos conhecidos de contrato de dados](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md).</span><span class="sxs-lookup"><span data-stu-id="5aa5f-137">Additional steps are required to successfully work with interfaces; for more information, see [Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5aa5f-138">Consulte também</span><span class="sxs-lookup"><span data-stu-id="5aa5f-138">See Also</span></span>  
 <xref:System.Runtime.Serialization.DataContractAttribute>  
 <xref:System.Runtime.Serialization.DataMemberAttribute>  
 [<span data-ttu-id="5aa5f-139">Ordem de membro de dados</span><span class="sxs-lookup"><span data-stu-id="5aa5f-139">Data Member Order</span></span>](../../../../docs/framework/wcf/feature-details/data-member-order.md)  
 [<span data-ttu-id="5aa5f-140">Tipos conhecidos de contrato de dados</span><span class="sxs-lookup"><span data-stu-id="5aa5f-140">Data Contract Known Types</span></span>](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md)  
 [<span data-ttu-id="5aa5f-141">Nomes de contrato de dados</span><span class="sxs-lookup"><span data-stu-id="5aa5f-141">Data Contract Names</span></span>](../../../../docs/framework/wcf/feature-details/data-contract-names.md)
