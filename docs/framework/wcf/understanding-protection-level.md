---
title: "Noções básicas de nível de proteção"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF, security
- ProtectionLevel property
ms.assetid: 0c034608-a1ac-4007-8287-b1382eaa8bf2
caps.latest.revision: "22"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: f107e4d1a9779c04a33060af34ee1fc873305eab
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/02/2017
---
# <a name="understanding-protection-level"></a><span data-ttu-id="1596c-102">Noções básicas de nível de proteção</span><span class="sxs-lookup"><span data-stu-id="1596c-102">Understanding Protection Level</span></span>
<span data-ttu-id="1596c-103">O `ProtectionLevel` propriedade é encontrada em muitas classes diferentes, como o <xref:System.ServiceModel.ServiceContractAttribute> e <xref:System.ServiceModel.OperationContractAttribute> classes.</span><span class="sxs-lookup"><span data-stu-id="1596c-103">The `ProtectionLevel` property is found on many different classes, such as the <xref:System.ServiceModel.ServiceContractAttribute> and the <xref:System.ServiceModel.OperationContractAttribute> classes.</span></span> <span data-ttu-id="1596c-104">A propriedade controla como uma parte (ou inteiro) de uma mensagem é protegido.</span><span class="sxs-lookup"><span data-stu-id="1596c-104">The property controls how a part (or whole) of a message is protected.</span></span> <span data-ttu-id="1596c-105">Este tópico explica o [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] recurso e como ele funciona.</span><span class="sxs-lookup"><span data-stu-id="1596c-105">This topic explains the [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] feature and how it works.</span></span>  
  
 <span data-ttu-id="1596c-106">Para obter instruções sobre como definir o nível de proteção, consulte [como: definir a propriedade ProtectionLevel](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span><span class="sxs-lookup"><span data-stu-id="1596c-106">For instructions on setting the protection level, see [How to: Set the ProtectionLevel Property](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1596c-107">Níveis de proteção podem ser definidos apenas em código, não na configuração.</span><span class="sxs-lookup"><span data-stu-id="1596c-107">Protection levels can be set only in code, not in configuration.</span></span>  
  
## <a name="basics"></a><span data-ttu-id="1596c-108">Noções básicas</span><span class="sxs-lookup"><span data-stu-id="1596c-108">Basics</span></span>  
 <span data-ttu-id="1596c-109">Para entender o recurso de nível de proteção, as instruções básicas a seguir se aplicam:</span><span class="sxs-lookup"><span data-stu-id="1596c-109">To understand the protection level feature, the following basic statements apply:</span></span>  
  
-   <span data-ttu-id="1596c-110">Existem três níveis básico de proteção para qualquer parte de uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="1596c-110">Three basic levels of protection exist for any part of a message.</span></span> <span data-ttu-id="1596c-111">A propriedade (onde ele ocorre) é definida como um do <xref:System.Net.Security.ProtectionLevel> valores de enumeração.</span><span class="sxs-lookup"><span data-stu-id="1596c-111">The property (wherever it occurs) is set to one of the <xref:System.Net.Security.ProtectionLevel> enumeration values.</span></span> <span data-ttu-id="1596c-112">Em ordem crescente de proteção, elas incluem:</span><span class="sxs-lookup"><span data-stu-id="1596c-112">In ascending order of protection, they include:</span></span>  
  
    -   <span data-ttu-id="1596c-113">`None`.</span><span class="sxs-lookup"><span data-stu-id="1596c-113">`None`.</span></span>  
  
    -   <span data-ttu-id="1596c-114">`Sign`.</span><span class="sxs-lookup"><span data-stu-id="1596c-114">`Sign`.</span></span> <span data-ttu-id="1596c-115">A parte protegida foi assinada digitalmente.</span><span class="sxs-lookup"><span data-stu-id="1596c-115">The protected part is digitally signed.</span></span> <span data-ttu-id="1596c-116">Isso garante que a detecção de adulteração a parte da mensagem protegida.</span><span class="sxs-lookup"><span data-stu-id="1596c-116">This ensures detection of any tampering with the protected message part.</span></span>  
  
    -   <span data-ttu-id="1596c-117">`EncryptAndSign`.</span><span class="sxs-lookup"><span data-stu-id="1596c-117">`EncryptAndSign`.</span></span> <span data-ttu-id="1596c-118">A parte da mensagem é criptografada para garantir a confidencialidade antes que ele está assinado.</span><span class="sxs-lookup"><span data-stu-id="1596c-118">The message part is encrypted to ensure confidentiality before it is signed.</span></span>  
  
-   <span data-ttu-id="1596c-119">Você pode definir requisitos de proteção somente para *dados de aplicativo* com esse recurso.</span><span class="sxs-lookup"><span data-stu-id="1596c-119">You can set protection requirements only for *application data* with this feature.</span></span> <span data-ttu-id="1596c-120">Por exemplo, cabeçalhos de WS-Addressing são dados de infraestrutura e, portanto, não são afetados pelo `ProtectionLevel`.</span><span class="sxs-lookup"><span data-stu-id="1596c-120">For example, WS-Addressing headers are infrastructure data and, therefore, are not affected by the `ProtectionLevel`.</span></span>  
  
-   <span data-ttu-id="1596c-121">Quando o modo de segurança é definido como `Transport`, a mensagem inteira é protegida pelo mecanismo de transporte.</span><span class="sxs-lookup"><span data-stu-id="1596c-121">When the security mode is set to `Transport`, the entire message is protected by the transport mechanism.</span></span> <span data-ttu-id="1596c-122">Portanto, definindo um nível de proteção separados para diferentes partes de uma mensagem não tem nenhum efeito.</span><span class="sxs-lookup"><span data-stu-id="1596c-122">Therefore, setting a separate protection level for different parts of a message has no effect.</span></span>  
  
-   <span data-ttu-id="1596c-123">O `ProtectionLevel` é uma maneira para que o desenvolvedor definir o *nível mínimo* que deve estar de acordo com uma associação.</span><span class="sxs-lookup"><span data-stu-id="1596c-123">The `ProtectionLevel` is a way for the developer to set the *minimum level* that a binding must comply with.</span></span> <span data-ttu-id="1596c-124">Quando um serviço é implantado, a associação real especificada na configuração pode não dar suporte ou o nível mínimo.</span><span class="sxs-lookup"><span data-stu-id="1596c-124">When a service is deployed, the actual binding specified in configuration may or may not support the minimum level.</span></span> <span data-ttu-id="1596c-125">Por exemplo, por padrão, o <xref:System.ServiceModel.BasicHttpBinding> classe não oferece segurança (embora ela pode ser habilitada).</span><span class="sxs-lookup"><span data-stu-id="1596c-125">For example, by default, the <xref:System.ServiceModel.BasicHttpBinding> class does not supply security (although it can be enabled).</span></span> <span data-ttu-id="1596c-126">Portanto, o uso com um contrato com qualquer configuração diferente de `None` fará com que uma exceção seja lançada.</span><span class="sxs-lookup"><span data-stu-id="1596c-126">Therefore, using it with a contract that has any setting other than `None` will cause an exception to be thrown.</span></span>  
  
-   <span data-ttu-id="1596c-127">Se o serviço exigir que o mínimo `ProtectionLevel` para todas as mensagens é `Sign`, um cliente (talvez criado por uma não -[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] tecnologia) pode criptografar e assinar todas as mensagens (que é maior que o mínimo necessário).</span><span class="sxs-lookup"><span data-stu-id="1596c-127">If the service requires that the minimum `ProtectionLevel` for all messages is `Sign`, a client (perhaps created by a non-[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] technology) can encrypt and sign all messages (which is more than the minimum required).</span></span> <span data-ttu-id="1596c-128">Nesse caso, [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] não gerará uma exceção porque o cliente fez mais do que o mínimo.</span><span class="sxs-lookup"><span data-stu-id="1596c-128">In this case, [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] will not throw an exception because the client has done more than the minimum.</span></span> <span data-ttu-id="1596c-129">No entanto, observe que [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] aplicativos (serviços ou clientes) não excesso protege uma parte da mensagem se possível, mas estejam em conformidade com o nível mínimo.</span><span class="sxs-lookup"><span data-stu-id="1596c-129">Note, however, that [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] applications (services or clients) will not over-secure a message part if possible but will comply with the minimum level.</span></span> <span data-ttu-id="1596c-130">Observe também que, ao usar `Transport` como o modo de segurança, o transporte excesso pode o proteger o fluxo de mensagem porque ele é inerentemente não é possível proteger em um nível mais granular.</span><span class="sxs-lookup"><span data-stu-id="1596c-130">Also note that when using `Transport` as the security mode, the transport may over-secure the message stream because it is inherently unable to secure at a more granular level.</span></span>  
  
-   <span data-ttu-id="1596c-131">Se você definir o `ProtectionLevel` explicitamente como `Sign` ou `EncryptAndSign`, em seguida, você deve usar uma associação com segurança habilitada ou uma exceção será lançada.</span><span class="sxs-lookup"><span data-stu-id="1596c-131">If you set the `ProtectionLevel` explicitly to either `Sign` or `EncryptAndSign`, then you must use a binding with security enabled or an exception will be thrown.</span></span>  
  
-   <span data-ttu-id="1596c-132">Se você selecionar uma associação que habilita a segurança e você não definir o `ProtectionLevel` propriedade em qualquer lugar no contrato, todos os aplicativos de dados serão criptografados e assinados.</span><span class="sxs-lookup"><span data-stu-id="1596c-132">If you select a binding that enables security and you do not set the `ProtectionLevel` property anywhere on the contract, all application data will be encrypted and signed.</span></span>  
  
-   <span data-ttu-id="1596c-133">Se você selecionar uma associação que não tem segurança ativada (por exemplo, o `BasicHttpBinding` classe possui segurança desativada por padrão) e o `ProtectionLevel` não for explicitamente definida, em seguida, nenhum dos dados do aplicativo serão protegidos.</span><span class="sxs-lookup"><span data-stu-id="1596c-133">If you select a binding that does not have security enabled (for example, the `BasicHttpBinding` class has security disabled by default), and the `ProtectionLevel` is not explicitly set, then none of the application data will be protected.</span></span>  
  
-   <span data-ttu-id="1596c-134">Se você estiver usando uma associação que se aplica a segurança no nível de transporte, todos os dados de aplicativo serão protegidos de acordo com os recursos do transporte.</span><span class="sxs-lookup"><span data-stu-id="1596c-134">If you are using a binding that applies security at the transport level, all application data will be secured according to the capabilities of the transport.</span></span>  
  
-   <span data-ttu-id="1596c-135">Se você usar uma associação que se aplica a segurança no nível da mensagem, dados de aplicativo serão protegidos acordo com os níveis de proteção definida no contrato.</span><span class="sxs-lookup"><span data-stu-id="1596c-135">If you use a binding that applies security at the message level, then application data will be secured according to the protection levels set on the contract.</span></span> <span data-ttu-id="1596c-136">Se você não especificar um nível de proteção, em seguida, todos os dados de aplicativo nas mensagens serão criptografados e assinados.</span><span class="sxs-lookup"><span data-stu-id="1596c-136">If you do not specify a protection level, then all application data in the messages will be encrypted and signed.</span></span>  
  
-   <span data-ttu-id="1596c-137">O `ProtectionLevel` pode ser definido em diferentes níveis de escopo.</span><span class="sxs-lookup"><span data-stu-id="1596c-137">The `ProtectionLevel` can be set at different scoping levels.</span></span> <span data-ttu-id="1596c-138">Há uma hierarquia associada com o escopo, que é explicada na próxima seção.</span><span class="sxs-lookup"><span data-stu-id="1596c-138">There is a hierarchy associated with scoping, which is explained in the next section.</span></span>  
  
## <a name="scoping"></a><span data-ttu-id="1596c-139">Definição de escopo</span><span class="sxs-lookup"><span data-stu-id="1596c-139">Scoping</span></span>  
 <span data-ttu-id="1596c-140">Definindo o `ProtectionLevel` a API do mais alto define o nível para todos os níveis abaixo dele.</span><span class="sxs-lookup"><span data-stu-id="1596c-140">Setting the `ProtectionLevel` on the topmost API sets the level for all levels below it.</span></span> <span data-ttu-id="1596c-141">Se o `ProtectionLevel` é definido como um valor diferente em um nível inferior, todas as APIs abaixo que nível na hierarquia agora será redefinido para o novo nível (APIs acima dele, no entanto, ainda serão afetados por um nível mais alto).</span><span class="sxs-lookup"><span data-stu-id="1596c-141">If the `ProtectionLevel` is set to a different value at a lower level, all APIs below that level in the hierarchy will now be reset to the new level (APIs above it, however, will still be affected by the topmost level).</span></span> <span data-ttu-id="1596c-142">A hierarquia é da seguinte maneira.</span><span class="sxs-lookup"><span data-stu-id="1596c-142">The hierarchy is as follows.</span></span> <span data-ttu-id="1596c-143">Atributos do mesmo nível são correspondentes.</span><span class="sxs-lookup"><span data-stu-id="1596c-143">Attributes at the same level are peers.</span></span>  
  
 <xref:System.ServiceModel.ServiceContractAttribute>  
  
 <xref:System.ServiceModel.OperationContractAttribute>  
  
 <xref:System.ServiceModel.FaultContractAttribute>  
  
 <xref:System.ServiceModel.MessageContractAttribute>  
  
 <xref:System.ServiceModel.MessageHeaderAttribute>  
  
 <xref:System.ServiceModel.MessageBodyMemberAttribute>  
  
## <a name="programming-protectionlevel"></a><span data-ttu-id="1596c-144">Programação ProtectionLevel</span><span class="sxs-lookup"><span data-stu-id="1596c-144">Programming ProtectionLevel</span></span>  
 <span data-ttu-id="1596c-145">Programa de `ProtectionLevel` em qualquer ponto na hierarquia, basta definir a propriedade para um valor apropriado ao aplicar o atributo.</span><span class="sxs-lookup"><span data-stu-id="1596c-145">To program the `ProtectionLevel` at any point in the hierarchy, simply set the property to an appropriate value when applying the attribute.</span></span> <span data-ttu-id="1596c-146">Para obter exemplos, consulte [como: definir a propriedade ProtectionLevel](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span><span class="sxs-lookup"><span data-stu-id="1596c-146">For examples, see [How to: Set the ProtectionLevel Property](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1596c-147">Definindo a propriedade falhas e contratos exige a compreensão de como funcionam os recursos de mensagem.</span><span class="sxs-lookup"><span data-stu-id="1596c-147">Setting the property on faults and message contracts requires understanding how those features work.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="1596c-148">[Como: definir a propriedade ProtectionLevel](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md) e [usando contratos de mensagem](../../../docs/framework/wcf/feature-details/using-message-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="1596c-148"> [How to: Set the ProtectionLevel Property](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md) and [Using Message Contracts](../../../docs/framework/wcf/feature-details/using-message-contracts.md).</span></span>  
  
## <a name="ws-addressing-dependency"></a><span data-ttu-id="1596c-149">Dependência de WS-Addressing.</span><span class="sxs-lookup"><span data-stu-id="1596c-149">WS-Addressing Dependency</span></span>  
 <span data-ttu-id="1596c-150">Na maioria dos casos, usando o [Ferramenta Utilitária de metadados ServiceModel (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) gerar um cliente garante que os contratos de serviço e cliente são idênticos.</span><span class="sxs-lookup"><span data-stu-id="1596c-150">In most cases, using the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) to generate a client ensures that the client and service contracts are identical.</span></span> <span data-ttu-id="1596c-151">No entanto, aparentemente idênticos contratos podem causar o cliente lançar uma exceção.</span><span class="sxs-lookup"><span data-stu-id="1596c-151">However, seemingly identical contracts can cause the client to throw an exception.</span></span> <span data-ttu-id="1596c-152">Isso ocorre sempre que uma associação não oferece suporte a especificação WS-Addressing e vários níveis de proteção são especificados no contrato.</span><span class="sxs-lookup"><span data-stu-id="1596c-152">This occurs whenever a binding does not support the WS-Addressing specification and multiple levels of protection are specified on the contract.</span></span> <span data-ttu-id="1596c-153">Por exemplo, a <xref:System.ServiceModel.BasicHttpBinding> classe não oferece suporte à especificação ou se você criar uma associação personalizada que não oferece suporte, WS-Addressing.</span><span class="sxs-lookup"><span data-stu-id="1596c-153">For example, the <xref:System.ServiceModel.BasicHttpBinding> class does not support the specification, or if you create a custom binding that does not support WS-Addressing.</span></span> <span data-ttu-id="1596c-154">O `ProtectionLevel` recurso baseia-se na especificação WS-Addressing para habilitar diferentes níveis de proteção em um único contrato.</span><span class="sxs-lookup"><span data-stu-id="1596c-154">The `ProtectionLevel` feature relies on the WS-Addressing specification to enable different protection levels on a single contract.</span></span> <span data-ttu-id="1596c-155">Se a associação não oferece suporte a especificação WS-Addressing, todos os níveis serão definidos para o mesmo nível de proteção.</span><span class="sxs-lookup"><span data-stu-id="1596c-155">If the binding does not support the WS-Addressing specification, all levels will be set to the same protection level.</span></span> <span data-ttu-id="1596c-156">Definirá o nível de proteção efetivo para todos os escopos no contrato para o nível mais alto de proteção usado no contrato.</span><span class="sxs-lookup"><span data-stu-id="1596c-156">The effective protection level for all scopes on the contract will be set to the strongest protection level used on the contract.</span></span>  
  
 <span data-ttu-id="1596c-157">Isso pode causar um problema que é difícil de depurar a princípio.</span><span class="sxs-lookup"><span data-stu-id="1596c-157">This may cause a problem that is hard to debug at first glance.</span></span> <span data-ttu-id="1596c-158">É possível criar um contrato de cliente (uma interface) que inclui métodos para mais de um serviço.</span><span class="sxs-lookup"><span data-stu-id="1596c-158">It is possible to create a client contract (an interface) that includes methods for more than one service.</span></span> <span data-ttu-id="1596c-159">Ou seja, a mesma interface é usada para criar um cliente que se comunica com vários serviços, e a única interface contém métodos para todos os serviços.</span><span class="sxs-lookup"><span data-stu-id="1596c-159">That is, the same interface is used to create a client that communicates with many services, and the single interface contains methods for all services.</span></span> <span data-ttu-id="1596c-160">O desenvolvedor deve observar neste cenário raro para invocar somente os métodos que são aplicáveis para cada serviço específico.</span><span class="sxs-lookup"><span data-stu-id="1596c-160">The developer must take care in this rare scenario to invoke only those methods that are applicable for each particular service.</span></span> <span data-ttu-id="1596c-161">Se a associação é o <xref:System.ServiceModel.BasicHttpBinding> classe, proteção de vários níveis não tem suporte.</span><span class="sxs-lookup"><span data-stu-id="1596c-161">If the binding is the <xref:System.ServiceModel.BasicHttpBinding> class, multiple protection levels cannot be supported.</span></span> <span data-ttu-id="1596c-162">No entanto, um serviço de resposta para o cliente pode responder a um cliente com um nível de proteção menor do que o necessário.</span><span class="sxs-lookup"><span data-stu-id="1596c-162">However, a service replying to the client might respond to a client with a lower protection level than required.</span></span> <span data-ttu-id="1596c-163">Nesse caso, o cliente lançará uma exceção porque ele espera um nível mais alto de proteção.</span><span class="sxs-lookup"><span data-stu-id="1596c-163">In this case, the client will throw an exception because it expects a higher protection level.</span></span>  
  
 <span data-ttu-id="1596c-164">Um exemplo de código que ilustra o problema.</span><span class="sxs-lookup"><span data-stu-id="1596c-164">An example of the code illustrates this problem.</span></span> <span data-ttu-id="1596c-165">O exemplo a seguir mostra um serviço e um contrato de cliente.</span><span class="sxs-lookup"><span data-stu-id="1596c-165">The following example shows a service and a client contract.</span></span> <span data-ttu-id="1596c-166">Suponha que a associação é o [ \<basicHttpBinding >](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) elemento.</span><span class="sxs-lookup"><span data-stu-id="1596c-166">Assume that the binding is the [\<basicHttpBinding>](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) element.</span></span> <span data-ttu-id="1596c-167">Portanto, todas as operações em um contrato tem o mesmo nível de proteção.</span><span class="sxs-lookup"><span data-stu-id="1596c-167">Therefore, all operations on a contract have the same protection level.</span></span> <span data-ttu-id="1596c-168">Esse nível de proteção uniforme é determinado como o nível de proteção máximo em todas as operações.</span><span class="sxs-lookup"><span data-stu-id="1596c-168">This uniform protection level is determined as the maximum protection level across all operations.</span></span>  
  
 <span data-ttu-id="1596c-169">O contrato de serviço é:</span><span class="sxs-lookup"><span data-stu-id="1596c-169">The service contract is:</span></span>  
  
 [!code-csharp[c_ProtectionLevel#7](../../../samples/snippets/csharp/VS_Snippets_CFX/c_protectionlevel/cs/source.cs#7)]
 [!code-vb[c_ProtectionLevel#7](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_protectionlevel/vb/source.vb#7)]  
  
 <span data-ttu-id="1596c-170">O código a seguir mostra o cliente a interface de contrato.</span><span class="sxs-lookup"><span data-stu-id="1596c-170">The following code shows the client contract interface.</span></span> <span data-ttu-id="1596c-171">Observe que ele inclui um `Tax` método se destina a ser usado com um serviço diferente:</span><span class="sxs-lookup"><span data-stu-id="1596c-171">Note that it includes a `Tax` method that is intended to be used with a different service:</span></span>  
  
 [!code-csharp[c_ProtectionLevel#8](../../../samples/snippets/csharp/VS_Snippets_CFX/c_protectionlevel/cs/source.cs#8)]
 [!code-vb[c_ProtectionLevel#8](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_protectionlevel/vb/source.vb#8)]  
  
 <span data-ttu-id="1596c-172">Quando o cliente chama o `Price` método, ele gerará uma exceção quando ele recebe uma resposta do serviço.</span><span class="sxs-lookup"><span data-stu-id="1596c-172">When the client calls the `Price` method, it throws an exception when it receives a reply from the service.</span></span> <span data-ttu-id="1596c-173">Isso ocorre porque o cliente não especificar um `ProtectionLevel` no `ServiceContractAttribute`, e, portanto, o cliente usa o padrão (<xref:System.Net.Security.ProtectionLevel.EncryptAndSign>) para todos os métodos, incluindo o `Price` método.</span><span class="sxs-lookup"><span data-stu-id="1596c-173">This occurs because the client does not specify a `ProtectionLevel` on the `ServiceContractAttribute`, and therefore the client uses the default (<xref:System.Net.Security.ProtectionLevel.EncryptAndSign>) for all methods, including the `Price` method.</span></span> <span data-ttu-id="1596c-174">No entanto, o serviço retornará o valor usando o <xref:System.Net.Security.ProtectionLevel.Sign> porque o contrato de serviço define um único método que tem seu nível de proteção definido como <xref:System.Net.Security.ProtectionLevel.Sign>.</span><span class="sxs-lookup"><span data-stu-id="1596c-174">However, the service returns the value using the <xref:System.Net.Security.ProtectionLevel.Sign> level because the service contract defines a single method that has its protection level set to <xref:System.Net.Security.ProtectionLevel.Sign>.</span></span> <span data-ttu-id="1596c-175">Nesse caso, o cliente gerará um erro ao validar a resposta do serviço.</span><span class="sxs-lookup"><span data-stu-id="1596c-175">In this case, the client will throw an error when validating the response from the service.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1596c-176">Consulte também</span><span class="sxs-lookup"><span data-stu-id="1596c-176">See Also</span></span>  
 <xref:System.ServiceModel.ServiceContractAttribute>  
 <xref:System.ServiceModel.OperationContractAttribute>  
 <xref:System.ServiceModel.FaultContractAttribute>  
 <xref:System.ServiceModel.MessageContractAttribute>  
 <xref:System.ServiceModel.MessageHeaderAttribute>  
 <xref:System.ServiceModel.MessageBodyMemberAttribute>  
 <xref:System.Net.Security.ProtectionLevel>  
 <span data-ttu-id="1596c-177">[Securing Services](../../../docs/framework/wcf/securing-services.md) (Protegendo serviços)</span><span class="sxs-lookup"><span data-stu-id="1596c-177">[Securing Services](../../../docs/framework/wcf/securing-services.md)</span></span>  
 <span data-ttu-id="1596c-178">[How to: Set the ProtectionLevel Property](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md) (Como definir a propriedade ProtectionLevel)</span><span class="sxs-lookup"><span data-stu-id="1596c-178">[How to: Set the ProtectionLevel Property](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md)</span></span>  
 <span data-ttu-id="1596c-179">[Specifying and Handling Faults in Contracts and Services](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md) (Especificando e lidando com falhas em contratos e serviços)</span><span class="sxs-lookup"><span data-stu-id="1596c-179">[Specifying and Handling Faults in Contracts and Services](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md)</span></span>  
 [<span data-ttu-id="1596c-180">Usando contratos de mensagem</span><span class="sxs-lookup"><span data-stu-id="1596c-180">Using Message Contracts</span></span>](../../../docs/framework/wcf/feature-details/using-message-contracts.md)
