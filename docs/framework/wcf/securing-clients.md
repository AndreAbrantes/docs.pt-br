---
title: Protegendo clientes
ms.date: 03/30/2017
helpviewer_keywords:
- clients [WCF], security considerations
ms.assetid: 44c8578c-9a5b-4acd-8168-1c30a027c4c5
ms.openlocfilehash: bfb980e629ffb8f8543937a1850430c9bf6e9199
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/12/2020
ms.locfileid: "79183128"
---
# <a name="securing-clients"></a><span data-ttu-id="cb2f1-102">Protegendo clientes</span><span class="sxs-lookup"><span data-stu-id="cb2f1-102">Securing Clients</span></span>
<span data-ttu-id="cb2f1-103">Na Windows Communication Foundation (WCF), o serviço dita os requisitos de segurança para os clientes.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-103">In Windows Communication Foundation (WCF), the service dictates the security requirements for clients.</span></span> <span data-ttu-id="cb2f1-104">Ou seja, o serviço especifica qual modo de segurança usar e se o cliente deve ou não fornecer uma credencial.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-104">That is, the service specifies what security mode to use, and whether or not the client must provide a credential.</span></span> <span data-ttu-id="cb2f1-105">O processo de segurança de um cliente, portanto, é simples: use os metadados obtidos do serviço (se for publicado) e construa um cliente.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-105">The process of securing a client, therefore, is simple: use the metadata obtained from the service (if it is published) and build a client.</span></span> <span data-ttu-id="cb2f1-106">Os metadados especificam como configurar o cliente.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-106">The metadata specifies how to configure the client.</span></span> <span data-ttu-id="cb2f1-107">Se o serviço exigir que o cliente forneça uma credencial, então você deve obter uma credencial que se encaixe no requisito.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-107">If the service requires that the client supply a credential, then you must obtain a credential that fits the requirement.</span></span> <span data-ttu-id="cb2f1-108">Este tópico discute o processo com mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-108">This topic discusses the process in further detail.</span></span> <span data-ttu-id="cb2f1-109">Para obter mais informações sobre a criação de um serviço seguro, consulte [Protegendo serviços](securing-services.md).</span><span class="sxs-lookup"><span data-stu-id="cb2f1-109">For more information about creating a secure service, see [Securing Services](securing-services.md).</span></span>  
  
## <a name="the-service-specifies-security"></a><span data-ttu-id="cb2f1-110">O serviço especifica a segurança</span><span class="sxs-lookup"><span data-stu-id="cb2f1-110">The Service Specifies Security</span></span>  
 <span data-ttu-id="cb2f1-111">Por padrão, as vinculações wcf têm recursos de segurança ativados.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-111">By default, WCF bindings have security features enabled.</span></span> <span data-ttu-id="cb2f1-112">(A exceção <xref:System.ServiceModel.BasicHttpBinding>é o .) Portanto, se o serviço foi criado usando o WCF, há uma maior chance de que ele implemente segurança para garantir autenticação, confidencialidade e integridade.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-112">(The exception is the <xref:System.ServiceModel.BasicHttpBinding>.) Therefore, if the service was created using WCF, there is a greater chance that it will implement security to ensure authentication, confidentiality, and integrity.</span></span> <span data-ttu-id="cb2f1-113">Nesse caso, os metadados que o serviço fornece indicarão o que é necessário para estabelecer um canal de comunicação seguro.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-113">In that case, the metadata the service provides will indicate what it requires to establish a secure communication channel.</span></span> <span data-ttu-id="cb2f1-114">Se os metadados de serviço não incluirem quaisquer requisitos de segurança, não há como impor um esquema de segurança, como o Secure Sockets Layer (SSL) sobre HTTP, em um serviço.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-114">If the service metadata does not include any security requirements, there is no way to impose a security scheme, such as Secure Sockets Layer (SSL) over HTTP, on a service.</span></span> <span data-ttu-id="cb2f1-115">Se, no entanto, o serviço exigir que o cliente forneça uma credencial, então o desenvolvedor, implantador ou administrador cliente deve fornecer a credencial real que o cliente usará para autenticar-se ao serviço.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-115">If, however, the service requires the client to supply a credential, then the client developer, deployer, or administrator must supply the actual credential that the client will use to authenticate itself to the service.</span></span>  
  
## <a name="obtaining-metadata"></a><span data-ttu-id="cb2f1-116">Obtenção de metadados</span><span class="sxs-lookup"><span data-stu-id="cb2f1-116">Obtaining Metadata</span></span>  
 <span data-ttu-id="cb2f1-117">Ao criar um cliente, o primeiro passo é obter os metadados para o serviço com o que o cliente irá se comunicar.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-117">When creating a client, the first step is to obtain the metadata for the service that the client will communicate with.</span></span> <span data-ttu-id="cb2f1-118">Isso pode ser feito de duas maneiras.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-118">This can be done in two ways.</span></span> <span data-ttu-id="cb2f1-119">Primeiro, se o serviço publicar um ponto final de troca de metadados (MEX) ou disponibilizar seus metadados em HTTP ou HTTPS, você poderá baixar os metadados usando a [ServiceModel Metadata Utility Tool (Svcutil.exe),](servicemodel-metadata-utility-tool-svcutil-exe.md)que gera tanto arquivos de código para um cliente quanto um arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-119">First, if the service publishes a metadata exchange (MEX) endpoint or makes its metadata available over HTTP or HTTPS, you can download the metadata using the [ServiceModel Metadata Utility Tool (Svcutil.exe)](servicemodel-metadata-utility-tool-svcutil-exe.md), which generates both code files for a client as well as a configuration file.</span></span> <span data-ttu-id="cb2f1-120">(Para obter mais informações sobre o uso da ferramenta, consulte [Acessando serviços usando um cliente WCF](accessing-services-using-a-wcf-client.md).) Se o serviço não publicar um ponto final do MEX e também não disponibilizar seus metadados via HTTP ou HTTPS, você deve entrar em contato com o criador do serviço para obter documentação que descreva os requisitos de segurança e os metadados.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-120">(For more information about using the tool, see [Accessing Services Using a WCF Client](accessing-services-using-a-wcf-client.md).) If the service does not publish a MEX endpoint and also does not make its metadata available over HTTP or HTTPS, you must contact the service creator for documentation that describes the security requirements and the metadata.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="cb2f1-121">Recomenda-se que os metadados venham de uma fonte confiável e que não sejam adulterados.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-121">It is recommended that the metadata come from a trusted source and that it not be tampered with.</span></span> <span data-ttu-id="cb2f1-122">Os metadados recuperados usando o protocolo HTTP são enviados em texto não criptografado e podem ser adulterados.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-122">Metadata retrieved using the HTTP protocol is sent in clear text and can be tampered with.</span></span> <span data-ttu-id="cb2f1-123">Se o serviço <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetEnabled%2A> <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetUrl%2A> usar as propriedades e, use a URL que o criador do serviço forneceu para baixar os dados usando o protocolo HTTPS.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-123">If the service uses the <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetEnabled%2A> and <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetUrl%2A> properties, use the URL the service creator supplied to download the data using the HTTPS protocol.</span></span>  
  
## <a name="validating-security"></a><span data-ttu-id="cb2f1-124">Validação de segurança</span><span class="sxs-lookup"><span data-stu-id="cb2f1-124">Validating Security</span></span>  
 <span data-ttu-id="cb2f1-125">As fontes de metadados podem ser divididas em duas categorias amplas: fontes de confiança e fontes não confiáveis.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-125">Metadata sources can be divided into two broad categories: trust sources and untrusted sources.</span></span> <span data-ttu-id="cb2f1-126">Se você confiar em uma fonte e tiver baixado o código do cliente e outros metadados do ponto final MEX seguro dessa fonte, então você pode construir o cliente, fornecê-lo com as credenciais certas e executá-lo sem outras preocupações.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-126">If you trust a source and have downloaded the client code and other metadata from that source's secure MEX endpoint, then you can build the client, supply it with the right credentials, and run it with no other concerns.</span></span>  
  
 <span data-ttu-id="cb2f1-127">No entanto, se você optar por baixar um cliente e metadados de uma fonte que você conhece pouco, certifique-se de validar as medidas de segurança que o código usa.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-127">However, if you elect to download a client and metadata from a source that you know little about, be sure to validate the security measures the code uses.</span></span> <span data-ttu-id="cb2f1-128">Por exemplo, você não deve simplesmente criar um cliente que envie suas informações pessoais ou financeiras para um serviço, a menos que o serviço exija confidencialidade e integridade (no mínimo).</span><span class="sxs-lookup"><span data-stu-id="cb2f1-128">For example, you must not simply create a client that sends your personal or financial information to a service unless the service demands confidentiality and integrity (at the very least).</span></span> <span data-ttu-id="cb2f1-129">Você deve confiar no proprietário do serviço na medida em que você está disposto a divulgar tais informações, porque tais informações serão visíveis para eles.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-129">You should trust the owner of the service to the extent that you are willing to disclose such information, because such information will be visible to them.</span></span>  
  
 <span data-ttu-id="cb2f1-130">Como regra geral, portanto, ao usar códigos e metadados de uma fonte não confiável, verifique o código e os metadados para garantir que ele atenda ao nível de segurança que você precisa.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-130">As a rule, therefore, when using code and metadata from an untrusted source, check the code and metadata to ensure that it meets the security level that you require.</span></span>  
  
## <a name="setting-a-client-credential"></a><span data-ttu-id="cb2f1-131">Configuração de uma credencial do cliente</span><span class="sxs-lookup"><span data-stu-id="cb2f1-131">Setting a Client Credential</span></span>  
 <span data-ttu-id="cb2f1-132">Definir uma credencial de cliente em um cliente consiste em duas etapas:</span><span class="sxs-lookup"><span data-stu-id="cb2f1-132">Setting a client credential on a client consists of two steps:</span></span>  
  
1. <span data-ttu-id="cb2f1-133">Determine o *tipo de credencial* do cliente que o serviço requer.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-133">Determine the *client credential type* the service requires.</span></span> <span data-ttu-id="cb2f1-134">Isso é feito por um dos dois métodos.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-134">This is accomplished by one of two methods.</span></span> <span data-ttu-id="cb2f1-135">Primeiro, se você tiver documentação do criador do serviço, ele deve especificar o tipo de credencial do cliente (se houver) que o serviço requer.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-135">First, if you have documentation from the service creator, it should specify the client credential type (if any) the service requires.</span></span> <span data-ttu-id="cb2f1-136">Em segundo lugar, se você tiver apenas um arquivo de configuração gerado pela ferramenta Svcutil.exe, você pode examinar as vinculações individuais para determinar qual tipo de credencial é necessário.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-136">Second, if you have only a configuration file generated by the Svcutil.exe tool, you can examine the individual bindings to determine what credential type is required.</span></span>  
  
2. <span data-ttu-id="cb2f1-137">Especifique uma credencial real do cliente.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-137">Specify an actual client credential.</span></span> <span data-ttu-id="cb2f1-138">A credencial real do cliente é chamada de *valor de credencial* do cliente para distingui-lo do tipo.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-138">The actual client credential is called a *client credential value* to distinguish it from the type.</span></span> <span data-ttu-id="cb2f1-139">Por exemplo, se o tipo de credencial do cliente especificar um certificado, você deve fornecer um certificado X.509 que é emitido por uma autoridade de certificação que o serviço confia.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-139">For example, if the client credential type specifies a certificate, you must supply an X.509 certificate that is issued by a certification authority the service trusts.</span></span>  
  
### <a name="determining-the-client-credential-type"></a><span data-ttu-id="cb2f1-140">Determinando o tipo de credencial do cliente</span><span class="sxs-lookup"><span data-stu-id="cb2f1-140">Determining the Client Credential Type</span></span>  
 <span data-ttu-id="cb2f1-141">Se você tiver o arquivo de configuração gerado pela ferramenta Svcutil.exe, examine as [ \<vinculações>](../configure-apps/file-schema/wcf/bindings.md) seção para determinar qual tipo de credencial do cliente é necessário.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-141">If you have the configuration file the Svcutil.exe tool generated, examine the [\<bindings>](../configure-apps/file-schema/wcf/bindings.md) section to determine what client credential type is required.</span></span> <span data-ttu-id="cb2f1-142">Dentro da seção estão elementos de vinculação que especificam os requisitos de segurança.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-142">Within the section are binding elements that specify the security requirements.</span></span> <span data-ttu-id="cb2f1-143">Especificamente, examine \<a segurança> Elemento de cada vinculação.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-143">Specifically, examine the \<security> Element of each binding.</span></span> <span data-ttu-id="cb2f1-144">Esse elemento inclui `mode` o atributo, que você pode`Message`definir `Transport`para `TransportWithMessageCredential`um dos três valores possíveis ( , ou ).</span><span class="sxs-lookup"><span data-stu-id="cb2f1-144">That element includes the `mode` attribute, which you can set to one of three possible values (`Message`, `Transport`, or `TransportWithMessageCredential`).</span></span> <span data-ttu-id="cb2f1-145">O valor do atributo determina o modo, e o modo determina qual dos elementos da criança é significativo.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-145">The value of the attribute determines the mode, and the mode determines which of the child elements is significant.</span></span>  
  
 <span data-ttu-id="cb2f1-146">O `<security>` elemento pode `<transport>` conter `<message>` um ou elemento, ou ambos.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-146">The `<security>` element can contain either a `<transport>` or `<message>` element, or both.</span></span> <span data-ttu-id="cb2f1-147">O elemento significativo é aquele que corresponde ao modo de segurança.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-147">The significant element is the one that matches the security mode.</span></span> <span data-ttu-id="cb2f1-148">Por exemplo, o código a seguir `"Message"`especifica que o modo de `<message>` segurança `"Certificate"`é , e o tipo de credencial do cliente para o elemento é .</span><span class="sxs-lookup"><span data-stu-id="cb2f1-148">For example, the following code specifies that the security mode is `"Message"`, and the client credential type for the `<message>` element is `"Certificate"`.</span></span> <span data-ttu-id="cb2f1-149">Neste caso, `<transport>` o elemento pode ser ignorado.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-149">In this case, the `<transport>` element can be ignored.</span></span> <span data-ttu-id="cb2f1-150">No entanto, o `<message>` elemento especifica que um certificado X.509 deve ser fornecido.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-150">However, the `<message>` element specifies that an X.509 certificate must be supplied.</span></span>  

```xml  
<wsHttpBinding>  
    <binding name="WSHttpBinding_ICalculator">  
       <security mode="Message">  
           <transport clientCredentialType="Windows"
                      realm="" />  
           <message clientCredentialType="Certificate"
                    negotiateServiceCredential="true"  
                    algorithmSuite="Default"
                    establishSecurityContext="true" />  
       </security>  
    </binding>  
</wsHttpBinding>  
```  

 <span data-ttu-id="cb2f1-151">Observe que `clientCredentialType` se o `"Windows"`atributo estiver definido como , como mostrado no exemplo a seguir, você não precisa fornecer um valor de credencial real.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-151">Note that if the `clientCredentialType` attribute is set to `"Windows"`, as shown in the following example, you do not need to supply an actual credential value.</span></span> <span data-ttu-id="cb2f1-152">Isso porque a segurança integrada do Windows fornece a credencial real (um token Kerberos) da pessoa que está executando o cliente.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-152">This is because the Windows integrated security provides the actual credential (a Kerberos token) of the person who is running the client.</span></span>  
  
```xml  
<security mode="Message">  
    <transport clientCredentialType="Windows "
        realm="" />  
</security>  
```  
  
### <a name="setting-the-client-credential-value"></a><span data-ttu-id="cb2f1-153">Definindo o valor de credencial do cliente</span><span class="sxs-lookup"><span data-stu-id="cb2f1-153">Setting the Client Credential Value</span></span>  
 <span data-ttu-id="cb2f1-154">Se for determinado que o cliente deve fornecer uma credencial, use o método apropriado para configurar o cliente.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-154">If it is determined that the client must supply a credential, use the appropriate method to configure the client.</span></span> <span data-ttu-id="cb2f1-155">Por exemplo, para definir um <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> certificado de cliente, use o método.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-155">For example, to set a client certificate, use the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> method.</span></span>  
  
 <span data-ttu-id="cb2f1-156">Uma forma comum de credencial é o certificado X.509.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-156">A common form of credential is the X.509 certificate.</span></span> <span data-ttu-id="cb2f1-157">Você pode fornecer a credencial de duas maneiras:</span><span class="sxs-lookup"><span data-stu-id="cb2f1-157">You can supply the credential in two ways:</span></span>  
  
- <span data-ttu-id="cb2f1-158">Programando-o no código do `SetCertificate` cliente (usando o método).</span><span class="sxs-lookup"><span data-stu-id="cb2f1-158">By programming it in your client code (using the `SetCertificate` method).</span></span>  
  
 <span data-ttu-id="cb2f1-159">Adicionando [ \<](../configure-apps/file-schema/wcf/behaviors.md) uma seção de comportamentos>do arquivo `clientCredentials` de configuração para o cliente e usando o elemento (mostrado abaixo).</span><span class="sxs-lookup"><span data-stu-id="cb2f1-159">By adding a [\<behaviors>](../configure-apps/file-schema/wcf/behaviors.md) section of the configuration file for the client and using the `clientCredentials` element (shown below).</span></span>  
  
#### <a name="setting-a-clientcredentials-value-in-code"></a><span data-ttu-id="cb2f1-160">Definindo \<um clienteCredenciais> Valor em Código</span><span class="sxs-lookup"><span data-stu-id="cb2f1-160">Setting a \<clientCredentials> Value in Code</span></span>  
 <span data-ttu-id="cb2f1-161">Para definir um <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> <xref:System.ServiceModel.ClientBase%601> [ \<clienteCredenciais>](../configure-apps/file-schema/wcf/clientcredentials.md) valor em código, você deve acessar a propriedade da classe.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-161">To set a [\<clientCredentials>](../configure-apps/file-schema/wcf/clientcredentials.md) value in code, you must access the <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> property of the <xref:System.ServiceModel.ClientBase%601> class.</span></span> <span data-ttu-id="cb2f1-162">A propriedade <xref:System.ServiceModel.Description.ClientCredentials> retorna um objeto que permite o acesso a vários tipos de credenciais, conforme mostrado na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-162">The property returns a <xref:System.ServiceModel.Description.ClientCredentials> object that allows access to various credential types, as shown in the following table.</span></span>  
  
|<span data-ttu-id="cb2f1-163">Propriedade ClientCredential</span><span class="sxs-lookup"><span data-stu-id="cb2f1-163">ClientCredential Property</span></span>|<span data-ttu-id="cb2f1-164">Descrição</span><span class="sxs-lookup"><span data-stu-id="cb2f1-164">Description</span></span>|<span data-ttu-id="cb2f1-165">Observações</span><span class="sxs-lookup"><span data-stu-id="cb2f1-165">Notes</span></span>|  
|-------------------------------|-----------------|-----------|  
|<xref:System.ServiceModel.Description.ClientCredentials.ClientCertificate%2A>|<span data-ttu-id="cb2f1-166">Retorna um<xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential></span><span class="sxs-lookup"><span data-stu-id="cb2f1-166">Returns an <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential></span></span>|<span data-ttu-id="cb2f1-167">Representa um certificado X.509 fornecido pelo cliente para autenticar-se ao serviço.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-167">Represents an X.509 certificate provided by the client to authenticate itself to the service.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.HttpDigest%2A>|<span data-ttu-id="cb2f1-168">Retorna um<xref:System.ServiceModel.Security.HttpDigestClientCredential></span><span class="sxs-lookup"><span data-stu-id="cb2f1-168">Returns an <xref:System.ServiceModel.Security.HttpDigestClientCredential></span></span>|<span data-ttu-id="cb2f1-169">Representa uma credencial http digest.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-169">Represents an HTTP digest credential.</span></span> <span data-ttu-id="cb2f1-170">A credencial é um hash do nome de usuário e senha.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-170">The credential is a hash of the user name and password.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.IssuedToken%2A>|<span data-ttu-id="cb2f1-171">Retorna um<xref:System.ServiceModel.Security.IssuedTokenClientCredential></span><span class="sxs-lookup"><span data-stu-id="cb2f1-171">Returns an <xref:System.ServiceModel.Security.IssuedTokenClientCredential></span></span>|<span data-ttu-id="cb2f1-172">Representa um token de segurança personalizado emitido por um Serviço de Token de Segurança, comumente usado em cenários de federação.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-172">Represents a custom security token issued by a Security Token Service, commonly used in federation scenarios.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.Peer%2A>|<span data-ttu-id="cb2f1-173">Retorna um <xref:System.ServiceModel.Security.PeerCredential></span><span class="sxs-lookup"><span data-stu-id="cb2f1-173">Returns a <xref:System.ServiceModel.Security.PeerCredential></span></span>|<span data-ttu-id="cb2f1-174">Representa uma credencial peer para participação em uma malha Peer em um domínio do Windows.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-174">Represents a Peer credential for participation in a Peer mesh on a Windows domain.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.ServiceCertificate%2A>|<span data-ttu-id="cb2f1-175">Retorna um<xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential></span><span class="sxs-lookup"><span data-stu-id="cb2f1-175">Returns an <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential></span></span>|<span data-ttu-id="cb2f1-176">Representa um certificado X.509 fornecido pelo serviço em uma negociação fora da banda.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-176">Represents an X.509 certificate provided by the service in an out-of-band negotiation.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.UserName%2A>|<span data-ttu-id="cb2f1-177">Retorna um <xref:System.ServiceModel.Security.UserNamePasswordClientCredential></span><span class="sxs-lookup"><span data-stu-id="cb2f1-177">Returns a <xref:System.ServiceModel.Security.UserNamePasswordClientCredential></span></span>|<span data-ttu-id="cb2f1-178">Representa um par de nome de usuário e senha.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-178">Represents a user name and password pair.</span></span>|  
|<xref:System.ServiceModel.Description.ClientCredentials.Windows%2A>|<span data-ttu-id="cb2f1-179">Retorna um <xref:System.ServiceModel.Security.WindowsClientCredential></span><span class="sxs-lookup"><span data-stu-id="cb2f1-179">Returns a <xref:System.ServiceModel.Security.WindowsClientCredential></span></span>|<span data-ttu-id="cb2f1-180">Representa uma credencial de cliente do Windows (uma credencial Kerberos).</span><span class="sxs-lookup"><span data-stu-id="cb2f1-180">Represents a Windows client credential (a Kerberos credential).</span></span> <span data-ttu-id="cb2f1-181">As propriedades da classe são somente leitura.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-181">The properties of the class are read-only.</span></span>|  
  
#### <a name="setting-a-clientcredentials-value-in-configuration"></a><span data-ttu-id="cb2f1-182">Definindo \<um valor de>> de clientes na configuração</span><span class="sxs-lookup"><span data-stu-id="cb2f1-182">Setting a \<clientCredentials> Value in Configuration</span></span>  
 <span data-ttu-id="cb2f1-183">Os valores de credencial são especificados usando um [ \<](../configure-apps/file-schema/wcf/clientcredentials.md) comportamento de ponto final como elementos filho do elemento clientAs>.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-183">Credential values are specified by using an endpoint behavior as child elements of the [\<clientCredentials>](../configure-apps/file-schema/wcf/clientcredentials.md) element.</span></span> <span data-ttu-id="cb2f1-184">O elemento utilizado depende do tipo de credencial do cliente.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-184">The element used depends on the client credential type.</span></span> <span data-ttu-id="cb2f1-185">Por exemplo, o exemplo a seguir mostra a configuração para definir um certificado X.509 usando o [ \<>de certificado de cliente ](../configure-apps/file-schema/wcf/clientcertificate-of-clientcredentials-element.md)<.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-185">For example, the following example shows the configuration to set an X.509 certificate using the <[\<clientCertificate>](../configure-apps/file-schema/wcf/clientcertificate-of-clientcredentials-element.md).</span></span>  
  
```xml  
<configuration>  
  <system.serviceModel>  
    <behaviors>  
      <endpointBehaviors>
        <behavior name="myEndpointBehavior">  
          <clientCredentials>  
            <clientCertificate findvalue="myMachineName"
            storeLocation="Current" X509FindType="FindBySubjectName" />  
          </clientCredentials>  
        </behavior>
      </endpointBehaviors>
    </behaviors>
  </system.serviceModel>  
</configuration>  
```  
  
 <span data-ttu-id="cb2f1-186">Para definir a credencial do cliente na configuração, adicione um [ \<elemento de>de endpointBehaviors](../configure-apps/file-schema/wcf/endpointbehaviors.md) ao arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-186">To set the client credential in configuration, add an [\<endpointBehaviors>](../configure-apps/file-schema/wcf/endpointbehaviors.md) element to the configuration file.</span></span> <span data-ttu-id="cb2f1-187">Além disso, o elemento de comportamento adicionado deve ser `behaviorConfiguration` vinculado ao ponto final do serviço usando o atributo [ \< \<](../configure-apps/file-schema/wcf/endpoint-of-client.md) do ponto final> do elemento>cliente, conforme mostrado no exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-187">Additionally, the added behavior element must be linked to the service's endpoint using the `behaviorConfiguration` attribute of the [\<endpoint> of \<client>](../configure-apps/file-schema/wcf/endpoint-of-client.md) element as shown in the following example.</span></span> <span data-ttu-id="cb2f1-188">O valor `behaviorConfiguration` do atributo deve corresponder `name` ao valor do atributo de comportamento.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-188">The value of the `behaviorConfiguration` attribute must match the value of the behavior `name` attribute.</span></span>  

```xml
<configuration>
  <system.serviceModel>
    <client>
      <endpoint address="http://localhost/servicemodelsamples/service.svc"
                binding="wsHttpBinding"
                bindingConfiguration="Binding1"
                behaviorConfiguration="myEndpointBehavior"
                contract="Microsoft.ServiceModel.Samples.ICalculator" />
    </client>
  </system.serviceModel>
</configuration>
```
  
> [!NOTE]
> <span data-ttu-id="cb2f1-189">Alguns dos valores de credencial do cliente não podem ser definidos usando arquivos de configuração de aplicativos, por exemplo, nome de usuário e senha, ou valores de usuário e senha do Windows.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-189">Some of the client credential values cannot be set using application configuration files, for example, user name and password, or Windows user and password values.</span></span> <span data-ttu-id="cb2f1-190">Tais valores de credencial podem ser especificados apenas em código.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-190">Such credential values can be specified only in code.</span></span>  
  
 <span data-ttu-id="cb2f1-191">Para obter mais informações sobre como definir a credencial do cliente, consulte [Como: Especificar valores de credencial do cliente](how-to-specify-client-credential-values.md).</span><span class="sxs-lookup"><span data-stu-id="cb2f1-191">For more information about setting the client credential, see [How to: Specify Client Credential Values](how-to-specify-client-credential-values.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="cb2f1-192">`ClientCredentialType`é ignorado `SecurityMode` quando é `"TransportWithMessageCredential",` definido como mostrado na configuração de amostra a seguir.</span><span class="sxs-lookup"><span data-stu-id="cb2f1-192">`ClientCredentialType` is ignored when `SecurityMode` is set to `"TransportWithMessageCredential",` as shown in the following sample configuration.</span></span>  
  
```xml  
<wsHttpBinding>  
    <binding name="PingBinding">  
        <security mode="TransportWithMessageCredential"  >  
           <message  clientCredentialType="UserName"
               establishSecurityContext="false"
               negotiateServiceCredential="false" />  
           <transport clientCredentialType="Certificate"  />  
         </security>  
    </binding>  
</wsHttpBinding>  
```  
  
## <a name="see-also"></a><span data-ttu-id="cb2f1-193">Confira também</span><span class="sxs-lookup"><span data-stu-id="cb2f1-193">See also</span></span>

- <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A>
- <xref:System.ServiceModel.ClientBase%601>
- <xref:System.ServiceModel.Description.ClientCredentials>
- <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetEnabled%2A>
- <xref:System.ServiceModel.Description.ServiceMetadataBehavior.HttpsGetUrl%2A>
- [<span data-ttu-id="cb2f1-194">\<vinculações></span><span class="sxs-lookup"><span data-stu-id="cb2f1-194">\<bindings></span></span>](../configure-apps/file-schema/wcf/bindings.md)
- [<span data-ttu-id="cb2f1-195">Ferramenta Editor de configuração (SvcConfigEditor.exe)</span><span class="sxs-lookup"><span data-stu-id="cb2f1-195">Configuration Editor Tool (SvcConfigEditor.exe)</span></span>](configuration-editor-tool-svcconfigeditor-exe.md)
- [<span data-ttu-id="cb2f1-196">Protegendo serviços</span><span class="sxs-lookup"><span data-stu-id="cb2f1-196">Securing Services</span></span>](securing-services.md)
- [<span data-ttu-id="cb2f1-197">Usando um cliente do WCF para acessar serviços</span><span class="sxs-lookup"><span data-stu-id="cb2f1-197">Accessing Services Using a WCF Client</span></span>](accessing-services-using-a-wcf-client.md)
- [<span data-ttu-id="cb2f1-198">Como especificar valores de credenciais do cliente</span><span class="sxs-lookup"><span data-stu-id="cb2f1-198">How to: Specify Client Credential Values</span></span>](how-to-specify-client-credential-values.md)
- [<span data-ttu-id="cb2f1-199">Ferramenta de utilitário de metadados ServiceModel (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="cb2f1-199">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](servicemodel-metadata-utility-tool-svcutil-exe.md)
- [<span data-ttu-id="cb2f1-200">Como especificar o tipo de credencial do cliente</span><span class="sxs-lookup"><span data-stu-id="cb2f1-200">How to: Specify the Client Credential Type</span></span>](how-to-specify-the-client-credential-type.md)
