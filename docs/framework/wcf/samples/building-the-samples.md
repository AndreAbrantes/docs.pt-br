---
title: 'Compilando os exemplos do Windows Communication Foundation '
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 2899e7a5-9cb2-4e8d-b8d2-f31391549198
caps.latest.revision: "33"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: efb45a09fd74d397ceb95fc7e1bad7a0a5f80309
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/21/2017
---
# <a name="building-the-windows-communication-foundation-samples"></a><span data-ttu-id="f8775-102">Compilando os exemplos do Windows Communication Foundation </span><span class="sxs-lookup"><span data-stu-id="f8775-102">Building the Windows Communication Foundation Samples</span></span>
<span data-ttu-id="f8775-103">O [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] exemplos podem ser criados usando o Visual Studio 2010 ou usando o **msbuild** comando da linha de comando.</span><span class="sxs-lookup"><span data-stu-id="f8775-103">The [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] samples can be built using Visual Studio 2010 or using the **msbuild** command from the command line.</span></span> <span data-ttu-id="f8775-104">Ambos os procedimentos são descritos neste tópico.</span><span class="sxs-lookup"><span data-stu-id="f8775-104">Both procedures are described in this topic.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f8775-105">Antes de criar ou executar qualquer uma da [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] exemplos, verifique se você executou o [único procedimento de instalação para os exemplos do Windows Communication Foundation](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).</span><span class="sxs-lookup"><span data-stu-id="f8775-105">Before building or running any of the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] samples, ensure you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).</span></span>  
  
### <a name="to-build-the-sample-using-a-command-prompt"></a><span data-ttu-id="f8775-106">Para criar o exemplo usando um prompt de comando</span><span class="sxs-lookup"><span data-stu-id="f8775-106">To build the sample using a command prompt</span></span>  
  
1.  <span data-ttu-id="f8775-107">Abra o [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] prompt com privilégios de administrador de comando e navegue até o subdiretório específico do idioma em que o local do diretório onde você instalou o exemplo.</span><span class="sxs-lookup"><span data-stu-id="f8775-107">Open the [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] command prompt with administrator privileges and navigate to the language-specific subdirectory under the directory location where you installed the sample.</span></span>  
  
2.  <span data-ttu-id="f8775-108">Tipo `msbuild` na linha de comando.</span><span class="sxs-lookup"><span data-stu-id="f8775-108">Type `msbuild` at the command line.</span></span> <span data-ttu-id="f8775-109">Os arquivos de programa do cliente são criados para client\bin e os arquivos de programa de serviço são criados para service\bin.</span><span class="sxs-lookup"><span data-stu-id="f8775-109">The client program files are built to client\bin and the service program files are built to service\bin.</span></span> <span data-ttu-id="f8775-110">Se o serviço é hospedado por serviços de informações da Internet (IIS), os arquivos de programa de serviço também são copiados para o diretório servicemodelsamples e seu subdiretório \bin.</span><span class="sxs-lookup"><span data-stu-id="f8775-110">If the service is hosted by Internet Information Services (IIS), the service program files are also copied to the servicemodelsamples directory and its \bin subdirectory.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f8775-111">Você deve definir as ACLs no %systemdrive%\inetpub\wwwroot para conceder permissões de modificação para a conta sob a qual você está executando.</span><span class="sxs-lookup"><span data-stu-id="f8775-111">You must set the ACLs on %systemdrive%\inetpub\wwwroot to grant modify permissions to the account under which you are running.</span></span> <span data-ttu-id="f8775-112">Caso contrário, alguns após falha de eventos de compilação.</span><span class="sxs-lookup"><span data-stu-id="f8775-112">Otherwise some post build events fail.</span></span> <span data-ttu-id="f8775-113">Como alternativa, você pode deixar as ACLs que são e executar o prompt de comando do SDK como administrador.</span><span class="sxs-lookup"><span data-stu-id="f8775-113">Alternatively, you can leave the ACLs as they are and run the SDK command prompt as administrator.</span></span>  
  
### <a name="to-build-the-sample-using-visual-studio"></a><span data-ttu-id="f8775-114">Para criar o exemplo usando Visual Studio</span><span class="sxs-lookup"><span data-stu-id="f8775-114">To build the sample using Visual Studio</span></span>  
  
1.  <span data-ttu-id="f8775-115">Se você estiver usando [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[lserver](../../../../includes/lserver-md.md)], Windows 7 ou Windows Server 2008 R2 e execução [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], você deve executar [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)] com permissão elevada.</span><span class="sxs-lookup"><span data-stu-id="f8775-115">If you are using [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[lserver](../../../../includes/lserver-md.md)], Windows 7, or Windows Server 2008 R2, and running [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], you must run [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)] with elevated permission.</span></span> <span data-ttu-id="f8775-116">Para fazer isso, clique no ícone do menu Iniciar e, em seguida, clique em **executar como administrador**.</span><span class="sxs-lookup"><span data-stu-id="f8775-116">To do so, right-click the icon on the Start menu and then click **Run as administrator**.</span></span>  
  
2.  <span data-ttu-id="f8775-117">Do **arquivo** menu no [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)], clique em **abrir**, em seguida, clique em **projeto/solução**.</span><span class="sxs-lookup"><span data-stu-id="f8775-117">From the **File** menu in [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)], click **Open**, then click **Project/Solution**.</span></span> <span data-ttu-id="f8775-118">Navegue até o subdiretório específico do idioma sob o diretório no qual você instalou o exemplo e clique duas vezes no ícone do arquivo. sln para abrir a solução em [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f8775-118">Navigate to the language-specific subdirectory under the directory in which you installed the sample, and double-click the .sln file icon to open the solution in [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)].</span></span>  
  
3.  <span data-ttu-id="f8775-119">No **criar** menu, selecione **recompilar solução**.</span><span class="sxs-lookup"><span data-stu-id="f8775-119">In the **Build** menu, select **Rebuild Solution**.</span></span> <span data-ttu-id="f8775-120">Os arquivos de programa do cliente são criados para client\bin e os arquivos de programa de serviço são criados para service\bin.</span><span class="sxs-lookup"><span data-stu-id="f8775-120">The client program files are built to client\bin and the service program files are built to service\bin.</span></span> <span data-ttu-id="f8775-121">Se o serviço está hospedado no IIS, os arquivos de programa de serviço também são copiados para o diretório servicemodelsamples e seu subdiretório \bin.</span><span class="sxs-lookup"><span data-stu-id="f8775-121">If the service is hosted in IIS, the service program files are also copied to the servicemodelsamples directory and its \bin subdirectory.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f8775-122">Você deve definir as ACLs no %systemdrive%\inetpub\wwwroot para conceder permissões de modificação para a conta sob a qual você está executando.</span><span class="sxs-lookup"><span data-stu-id="f8775-122">You must set the ACLs on %systemdrive%\inetpub\wwwroot to grant modify permissions to the account under which you are running.</span></span> <span data-ttu-id="f8775-123">Caso contrário, alguns após falha de eventos de compilação.</span><span class="sxs-lookup"><span data-stu-id="f8775-123">Otherwise some post build events fail.</span></span> <span data-ttu-id="f8775-124">Como alternativa, você pode deixar as ACLs que são e executam o prompt de comando do SDK ou o Visual Studio como administrador.</span><span class="sxs-lookup"><span data-stu-id="f8775-124">Alternatively, you can leave the ACLs as they are and run the SDK command prompt or Visual Studio as administrator.</span></span> <span data-ttu-id="f8775-125">Algumas ações do Visual Studio (como anexar um depurador ao processo de trabalho do ASP.Net) também exigem privilégios administrativos.</span><span class="sxs-lookup"><span data-stu-id="f8775-125">Some Visual Studio actions (such as attaching a debugger to the ASP.Net worker process) also require administrative privileges.</span></span>  
  
## <a name="setup-batch-files-and-scripts"></a><span data-ttu-id="f8775-126">Arquivos em lotes e Scripts de instalação</span><span class="sxs-lookup"><span data-stu-id="f8775-126">Setup Batch Files and Scripts</span></span>  
 <span data-ttu-id="f8775-127">Scripts e arquivos de lote de Setup.exe e Cleanup.exe devem ser executados em um prompt de comando do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f8775-127">Setup.exe and Cleanup.exe batch files and scripts should be run from a Visual Studio command prompt.</span></span> <span data-ttu-id="f8775-128">Vários conjunto de backup e limpar arquivos executam tarefas que exigem privilégios administrativos e devem ser iniciadas com privilégios de administrador.</span><span class="sxs-lookup"><span data-stu-id="f8775-128">Several set up and clean up files perform tasks that require administrative privileges and should be launched with administrator privileges.</span></span>  
  
## <a name="important-security-information-about-metadata-endpoints"></a><span data-ttu-id="f8775-129">Informações de segurança importantes sobre pontos de extremidade de metadados</span><span class="sxs-lookup"><span data-stu-id="f8775-129">Important Security Information about Metadata Endpoints</span></span>  
 <span data-ttu-id="f8775-130">Para evitar a divulgação acidental de metadados de serviço potencialmente confidenciais, a configuração padrão para [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] serviços desabilita a publicação de metadados.</span><span class="sxs-lookup"><span data-stu-id="f8775-130">To prevent unintentional disclosure of potentially sensitive service metadata, the default configuration for [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services disables metadata publishing.</span></span> <span data-ttu-id="f8775-131">Esse comportamento é seguro por padrão, mas também significa que você não pode usar metadados importa ferramenta (como Svcutil.exe) para gerar o código de cliente necessário para chamar o serviço, a menos que o comportamento de publicação de metadados do serviço é explicitamente habilitado na configuração.</span><span class="sxs-lookup"><span data-stu-id="f8775-131">This behavior is secure by default, but also means that you cannot use a metadata import tool (such as Svcutil.exe) to generate the client code required to call the service unless the service’s metadata publishing behavior is explicitly enabled in configuration.</span></span> <span data-ttu-id="f8775-132">Para fazer experiências com os exemplos mais fácil, quase todos os exemplos de expõem um ponto de extremidade de publicação de metadados não segura.</span><span class="sxs-lookup"><span data-stu-id="f8775-132">To make experimenting with the samples easier, almost all samples expose an unsecured metadata publishing endpoint.</span></span> <span data-ttu-id="f8775-133">Esses pontos de extremidade são potencialmente disponíveis para consumidores não autenticados anônimos e deve ter cuidado antes de implantar esses pontos de extremidade para garantir que publicamente destinatária metadados do serviço são apropriado.</span><span class="sxs-lookup"><span data-stu-id="f8775-133">Such endpoints are potentially available to anonymous unauthenticated consumers and care must be taken before deploying such endpoints to ensure that publicly disclosing a service’s metadata is appropriate.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="f8775-134">publicação de metadados de serviço, consulte o [comportamento de publicação de metadados](../../../../docs/framework/wcf/samples/metadata-publishing-behavior.md) exemplo.</span><span class="sxs-lookup"><span data-stu-id="f8775-134"> publishing service metadata, see the [Metadata Publishing Behavior](../../../../docs/framework/wcf/samples/metadata-publishing-behavior.md) sample.</span></span> <span data-ttu-id="f8775-135">Consulte o [personalizado proteger metadados de ponto de extremidade](../../../../docs/framework/wcf/samples/custom-secure-metadata-endpoint.md) exemplo para obter um exemplo de proteção de um ponto de extremidade de metadados.</span><span class="sxs-lookup"><span data-stu-id="f8775-135">See the [Custom Secure Metadata Endpoint](../../../../docs/framework/wcf/samples/custom-secure-metadata-endpoint.md) sample for a sample securing a metadata endpoint.</span></span>  
  
## <a name="exception-handling"></a><span data-ttu-id="f8775-136">Tratamento de Exceção</span><span class="sxs-lookup"><span data-stu-id="f8775-136">Exception Handling</span></span>  
 <span data-ttu-id="f8775-137">Em termos gerais esses exemplos não incluem o tratamento de exceções para manter o foco no assunto do exemplo de código.</span><span class="sxs-lookup"><span data-stu-id="f8775-137">Generally speaking these samples do not include exception handling to keep the code focused on the subject of the sample.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="f8775-138">tratamento de exceção, consulte o [esperado exceções](../../../../docs/framework/wcf/samples/expected-exceptions.md) exemplo.</span><span class="sxs-lookup"><span data-stu-id="f8775-138"> exception handling, see the [Expected Exceptions](../../../../docs/framework/wcf/samples/expected-exceptions.md) sample.</span></span>  
  
## <a name="regenerating-clients-and-configuration-with-svcutil"></a><span data-ttu-id="f8775-139">Regenerando os clientes e a configuração com Svcutil</span><span class="sxs-lookup"><span data-stu-id="f8775-139">Regenerating Clients and Configuration with Svcutil</span></span>  
 <span data-ttu-id="f8775-140">Você pode usar o [Ferramenta Utilitária de metadados ServiceModel (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) para gerar novamente o código de cliente e de configuração para a maioria dos exemplos.</span><span class="sxs-lookup"><span data-stu-id="f8775-140">You can use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) to regenerate client code and configuration for most of the samples.</span></span> <span data-ttu-id="f8775-141">Alguns exemplos exigem configuração editada manualmente.</span><span class="sxs-lookup"><span data-stu-id="f8775-141">Some samples require manually edited configuration.</span></span> <span data-ttu-id="f8775-142">Por exemplo, se você usar o Svcutil.exe para gerar novamente a configuração para obter um exemplo que usa credenciais de certificado de cliente, você deve especificar manualmente as credenciais configuradas anteriormente.</span><span class="sxs-lookup"><span data-stu-id="f8775-142">For example, if you use Svcutil.exe to regenerate the configuration for a sample that uses client certificate credentials, you must manually specify the credentials previously configured.</span></span> <span data-ttu-id="f8775-143">Alguns exemplos usam opções específicas do Svcutil.exe para afetar o código gerado, essas opções são especificadas nos tópicos de exemplo específico.</span><span class="sxs-lookup"><span data-stu-id="f8775-143">Some samples use specific Svcutil.exe options to affect the generated code, these options are specified in the specific sample topics.</span></span>  
  
#### <a name="to-regenerate-the-client-and-configuration-files"></a><span data-ttu-id="f8775-144">Para gerar novamente os arquivos de configuração e de cliente</span><span class="sxs-lookup"><span data-stu-id="f8775-144">To regenerate the client and configuration files</span></span>  
  
1.  <span data-ttu-id="f8775-145">Abra um prompt de comando do SDK e navegue até o subdiretório específico do idioma em que o local do diretório onde você instalou o exemplo.</span><span class="sxs-lookup"><span data-stu-id="f8775-145">Open an SDK command prompt and navigate to the language-specific subdirectory under the directory location where you installed the sample.</span></span>  
  
2.  <span data-ttu-id="f8775-146">Se o serviço é um tipo de host da Web, use o comando a seguir.</span><span class="sxs-lookup"><span data-stu-id="f8775-146">If the service is a Web-hosted type, use the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost/servicemodelsamples/service.svc/mex /out:generatedClient.cs  
    ```  
  
     <span data-ttu-id="f8775-147">Se o serviço é um tipo auto-hospedado o comando a seguir.</span><span class="sxs-lookup"><span data-stu-id="f8775-147">If the service is a self-hosted type the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost:8000/servicemodelsamples/service.svc/mex /out:generatedClient.cs  
    ```  
  
     <span data-ttu-id="f8775-148">Substitua http://localhost:8000/ServiceModelSamples/service.svc/mex com o endereço do ponto de extremidade do serviço auto-hospedado mex.</span><span class="sxs-lookup"><span data-stu-id="f8775-148">Replace http://localhost:8000/ServiceModelSamples/service.svc/mex with the address of the self-hosted service's mex endpoint.</span></span>  
  
     <span data-ttu-id="f8775-149">Para gerar o cliente em um tipo de Visual Basic, use o comando a seguir.</span><span class="sxs-lookup"><span data-stu-id="f8775-149">To generate the client in a Visual Basic type, use the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost/servicemodelsamples/service.svc/mex /l:vb /out:generatedClient.vb  
    ```  
  
     <span data-ttu-id="f8775-150">Se o serviço é um tipo auto-hospedado, use o comando a seguir.</span><span class="sxs-lookup"><span data-stu-id="f8775-150">If the service is a self-hosted type, use the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost:8000/servicemodelsamples/service.svc/mex /l:vb /out:generatedClient.vb  
    ```  
  
    > [!NOTE]
    >  <span data-ttu-id="f8775-151">Para ignorar a geração de configuração do cliente, adicione o **/noConfig** opção.</span><span class="sxs-lookup"><span data-stu-id="f8775-151">To skip the generation of client configuration add the **/noConfig** option.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f8775-152">Consulte também</span><span class="sxs-lookup"><span data-stu-id="f8775-152">See Also</span></span>  
 [<span data-ttu-id="f8775-153">Executando os exemplos do Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="f8775-153">Running the Windows Communication Foundation Samples</span></span>](../../../../docs/framework/wcf/samples/running-the-samples.md)  
 <span data-ttu-id="f8775-154">[ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) [Ferramenta de utilitário de metadados ServiceModel (Svcutil.exe)]</span><span class="sxs-lookup"><span data-stu-id="f8775-154">[ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)</span></span>
