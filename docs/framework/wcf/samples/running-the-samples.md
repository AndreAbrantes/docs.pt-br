---
title: Executando os exemplos do Windows Communication Foundation
ms.date: 03/30/2017
ms.assetid: db8a83da-95c1-4a21-a9d2-48caeb6398ea
ms.openlocfilehash: d6fc93af217bfc282ce7030973be32baf7d864cd
ms.sourcegitcommit: 76a304c79a32aa13889ebcf4b9789a4542b48e3e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/14/2018
ms.locfileid: "45569223"
---
# <a name="running-the-windows-communication-foundation-samples"></a><span data-ttu-id="9909b-102">Executando os exemplos do Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="9909b-102">Running the Windows Communication Foundation Samples</span></span>
<span data-ttu-id="9909b-103">Os exemplos do Windows Communication Foundation (WCF) podem ser executados em uma configuração única máquina ou várias máquinas.</span><span class="sxs-lookup"><span data-stu-id="9909b-103">The Windows Communication Foundation (WCF) samples can be run in a single-machine or cross-machine configuration.</span></span> <span data-ttu-id="9909b-104">Como fornecidos, os exemplos estão prontos para execução em um único computador.</span><span class="sxs-lookup"><span data-stu-id="9909b-104">As supplied, the samples are ready for running on a single machine.</span></span> <span data-ttu-id="9909b-105">Em uma configuração de várias máquinas, é necessário modificar o arquivo de configuração de um exemplo.</span><span class="sxs-lookup"><span data-stu-id="9909b-105">In a cross-machine configuration, it is necessary to modify a sample's configuration file settings.</span></span> <span data-ttu-id="9909b-106">Os procedimentos a seguir explicam como executar um exemplo em configurações na mesma máquina e entre computadores.</span><span class="sxs-lookup"><span data-stu-id="9909b-106">The following procedures explain how to run a sample in same-machine and cross-machine configurations.</span></span> <span data-ttu-id="9909b-107">Observe que há variações nas etapas para serviços hospedados no Internet Information Services (IIS) e os exemplos de auto-hospedados.</span><span class="sxs-lookup"><span data-stu-id="9909b-107">Note that there are variations in the steps for services hosted in Internet Information Services (IIS) and the self-hosted samples.</span></span> <span data-ttu-id="9909b-108">A maioria dos exemplos são hospedados no IIS; Consulte as informações do Leiame do exemplo para determinar como ele está hospedado.</span><span class="sxs-lookup"><span data-stu-id="9909b-108">Most samples are hosted in IIS; see the sample readme information to determine how it is hosted.</span></span>  
  
 <span data-ttu-id="9909b-109">Em [!INCLUDE[wv](../../../../includes/wv-md.md)], os exemplos não são hospedados em IIS exigem privilégios elevados para registrar um ouvinte HTTP. sys.</span><span class="sxs-lookup"><span data-stu-id="9909b-109">On [!INCLUDE[wv](../../../../includes/wv-md.md)], samples that are not hosted in IIS require elevated privileges to register a listener with Http.sys.</span></span> <span data-ttu-id="9909b-110">Use Httpcfg.exe para registrar os endereços de escuta do serviço com a conta que de serviço está sendo executado, ou inicie o serviço em um prompt de comando com privilégios de administrador.</span><span class="sxs-lookup"><span data-stu-id="9909b-110">Use Httpcfg.exe to register the service's listening addresses with the account the service is running under, or launch the service from a command prompt running with administrator privileges.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9909b-111">Antes de criar ou executar qualquer um dos exemplos do WCF, certifique-se que você tenha executado o [procedimento de configuração de uso único para os exemplos do Windows Communication Foundation](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).</span><span class="sxs-lookup"><span data-stu-id="9909b-111">Before building or running any of the WCF samples, be sure you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).</span></span>  
  
### <a name="to-run-the-sample-on-the-same-machine"></a><span data-ttu-id="9909b-112">Para executar o exemplo na mesma máquina</span><span class="sxs-lookup"><span data-stu-id="9909b-112">To run the sample on the same machine</span></span>  
  
1.  <span data-ttu-id="9909b-113">Se o serviço é hospedado pelo IIS, certifique-se de que você pode acessar o serviço usando um navegador, digitando o seguinte endereço: http://localhost/servicemodelsamples/service.svc.</span><span class="sxs-lookup"><span data-stu-id="9909b-113">If the service is hosted by IIS, ensure that you can access the service using a browser by entering the following address: http://localhost/servicemodelsamples/service.svc.</span></span> <span data-ttu-id="9909b-114">Uma página de confirmação deve ser exibida na resposta.</span><span class="sxs-lookup"><span data-stu-id="9909b-114">A confirmation page should be displayed in response.</span></span> <span data-ttu-id="9909b-115">Se a página de confirmação não for exibida, consulte [dicas de solução de problemas](https://msdn.microsoft.com/library/8787c877-5e96-42da-8214-fa737a38f10b).</span><span class="sxs-lookup"><span data-stu-id="9909b-115">If the confirmation page is not displayed, see [Troubleshooting Tips](https://msdn.microsoft.com/library/8787c877-5e96-42da-8214-fa737a38f10b).</span></span>  
  
2.  <span data-ttu-id="9909b-116">Se o serviço é auto-hospedado, execute Service.exe em \service\bin, sob a pasta de idioma específico.</span><span class="sxs-lookup"><span data-stu-id="9909b-116">If the service is self-hosted, run Service.exe from \service\bin, from under the language-specific folder.</span></span> <span data-ttu-id="9909b-117">Atividade do serviço é exibida na janela do console de serviço.</span><span class="sxs-lookup"><span data-stu-id="9909b-117">Service activity is displayed on the service console window.</span></span>  
  
3.  <span data-ttu-id="9909b-118">Executar Client.exe de \Client\Bin.\\, sob a pasta de idioma específico.</span><span class="sxs-lookup"><span data-stu-id="9909b-118">Run Client.exe from \client\bin\\, from under the language-specific folder.</span></span> <span data-ttu-id="9909b-119">Atividade do cliente é exibida na janela do console do cliente.</span><span class="sxs-lookup"><span data-stu-id="9909b-119">Client activity is displayed on the client console window.</span></span>  
  
4.  <span data-ttu-id="9909b-120">Se o cliente e o serviço não for capazes de se comunicar, consulte [dicas de solução de problemas](https://msdn.microsoft.com/library/8787c877-5e96-42da-8214-fa737a38f10b).</span><span class="sxs-lookup"><span data-stu-id="9909b-120">If the client and service are not able to communicate, see [Troubleshooting Tips](https://msdn.microsoft.com/library/8787c877-5e96-42da-8214-fa737a38f10b).</span></span>  
  
### <a name="to-run-the-sample-across-machines"></a><span data-ttu-id="9909b-121">Para executar o exemplo entre máquinas</span><span class="sxs-lookup"><span data-stu-id="9909b-121">To run the sample across machines</span></span>  
  
1.  <span data-ttu-id="9909b-122">Se o serviço está hospedado no IIS:</span><span class="sxs-lookup"><span data-stu-id="9909b-122">If the service is hosted in IIS:</span></span>  
  
    1.  <span data-ttu-id="9909b-123">No computador do serviço, crie um diretório virtual chamado ServiceModelSamples.</span><span class="sxs-lookup"><span data-stu-id="9909b-123">On the service machine, create a virtual directory named ServiceModelSamples.</span></span> <span data-ttu-id="9909b-124">O arquivo de lote Setupvroot.bat incluído [procedimento de configuração de uso único para os exemplos do Windows Communication Foundation](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md) pode ser usado para criar o diretório de disco e o diretório virtual.</span><span class="sxs-lookup"><span data-stu-id="9909b-124">The batch file Setupvroot.bat included with [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md) can be used to create the disk directory and virtual directory.</span></span>  
  
    2.  <span data-ttu-id="9909b-125">Copie os arquivos de programa do serviço de %SystemDrive%\Inetpub\wwwroot\servicemodelsamples ao diretório virtual ServiceModelSamples na máquina do serviço.</span><span class="sxs-lookup"><span data-stu-id="9909b-125">Copy the service program files from %SystemDrive%\Inetpub\wwwroot\servicemodelsamples to the ServiceModelSamples virtual directory on the service machine.</span></span> <span data-ttu-id="9909b-126">Certifique-se de que você inclua os arquivos no diretório \bin.</span><span class="sxs-lookup"><span data-stu-id="9909b-126">Ensure that you include the files in the \bin directory.</span></span>  
  
    3.  <span data-ttu-id="9909b-127">Teste que você pode acessar o serviço no computador cliente usando um navegador.</span><span class="sxs-lookup"><span data-stu-id="9909b-127">Test that you can access the service from the client machine using a browser.</span></span>  
  
     <span data-ttu-id="9909b-128">Se o serviço é auto-hospedado:</span><span class="sxs-lookup"><span data-stu-id="9909b-128">If the service is self-hosted:</span></span>  
  
    1.  <span data-ttu-id="9909b-129">No computador do serviço, crie um diretório para armazenar os arquivos de serviço.</span><span class="sxs-lookup"><span data-stu-id="9909b-129">On the service machine, create a directory to hold the service files.</span></span>  
  
    2.  <span data-ttu-id="9909b-130">Copie os arquivos de programa de serviço da pasta \service\bin\, sob a pasta de idioma específico, para o computador de serviço.</span><span class="sxs-lookup"><span data-stu-id="9909b-130">Copy the service program files from the \service\bin\ folder, under the language-specific folder, to the service machine.</span></span>  
  
    3.  <span data-ttu-id="9909b-131">No arquivo de configuração de serviço, altere o valor do endereço da definição do ponto de extremidade para coincidir com o novo endereço do seu serviço.</span><span class="sxs-lookup"><span data-stu-id="9909b-131">In the service configuration file, change the address value of the endpoint definition to match the new address of your service.</span></span> <span data-ttu-id="9909b-132">Substitua todas as referências a "localhost" com um nome de domínio totalmente qualificado no endereço.</span><span class="sxs-lookup"><span data-stu-id="9909b-132">Replace any references to "localhost" with a fully-qualified domain name in the address.</span></span>  
  
    4.  <span data-ttu-id="9909b-133">Inicie o Service.exe em um prompt de comando.</span><span class="sxs-lookup"><span data-stu-id="9909b-133">Launch Service.exe from a command prompt.</span></span>  
  
2.  <span data-ttu-id="9909b-134">Copie os arquivos de programa do cliente da pasta \client\bin\, sob a pasta de idioma específico, para o computador cliente.</span><span class="sxs-lookup"><span data-stu-id="9909b-134">Copy the client program files from the \client\bin\ folder, under the language-specific folder, to the client machine.</span></span>  
  
3.  <span data-ttu-id="9909b-135">Defina o endereço do ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="9909b-135">Set the endpoint address.</span></span>  
  
    1.  <span data-ttu-id="9909b-136">Se o serviço não está em execução em uma conta de domínio, abra o arquivo de configuração do cliente e altere o valor de endereço da definição do ponto de extremidade para coincidir com o novo endereço do seu serviço.</span><span class="sxs-lookup"><span data-stu-id="9909b-136">If the service is not running under a domain account, open the client configuration file and change the address value of the endpoint definition to match the new address of your service.</span></span> <span data-ttu-id="9909b-137">Substitua todas as referências a "localhost" com um nome de domínio totalmente qualificado no endereço.</span><span class="sxs-lookup"><span data-stu-id="9909b-137">Replace any references to "localhost" with a fully-qualified domain name in the address.</span></span>  
  
    2.  <span data-ttu-id="9909b-138">Se o serviço está em execução em uma conta de domínio, gere novamente a configuração do cliente executando Svcutil.exe no serviço.</span><span class="sxs-lookup"><span data-stu-id="9909b-138">If the service is running under a domain account, regenerate the client configuration by running Svcutil.exe against the service.</span></span> <span data-ttu-id="9909b-139">Para obter mais informações sobre como executar Svcutil.exe, consulte [compilando os exemplos do Windows Communication Foundation](../../../../docs/framework/wcf/samples/building-the-samples.md).</span><span class="sxs-lookup"><span data-stu-id="9909b-139">For more information about running Svcutil.exe, see [Building the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/building-the-samples.md).</span></span> <span data-ttu-id="9909b-140">Use o arquivo gerado em vez do arquivo de configuração no exemplo.</span><span class="sxs-lookup"><span data-stu-id="9909b-140">Use the generated file instead of the configuration file in the sample.</span></span> <span data-ttu-id="9909b-141">O arquivo de configuração gerada tem informações de identidade adicional e contém todas as configurações necessárias para se conectar ao ponto de extremidade de serviço, mesmo que eles sejam as configurações padrão.</span><span class="sxs-lookup"><span data-stu-id="9909b-141">The generated configuration file has additional identity information, and contains all settings necessary to connect to the service endpoint even though they are the default settings.</span></span> <span data-ttu-id="9909b-142">Para obter mais informações sobre informações de identidade, consulte [identidade de serviço e autenticação](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md), e [ \<identidade >](../../../../docs/framework/configure-apps/file-schema/wcf/identity.md).</span><span class="sxs-lookup"><span data-stu-id="9909b-142">For more information about identity information, see [Service Identity and Authentication](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md), and [\<identity>](../../../../docs/framework/configure-apps/file-schema/wcf/identity.md).</span></span>  
  
4.  <span data-ttu-id="9909b-143">No computador cliente, inicie Client.exe em um prompt de comando.</span><span class="sxs-lookup"><span data-stu-id="9909b-143">On the client machine, launch Client.exe from a command prompt.</span></span>  
  
### <a name="to-debug-a-service"></a><span data-ttu-id="9909b-144">Para depurar um serviço</span><span class="sxs-lookup"><span data-stu-id="9909b-144">To debug a service</span></span>  
  
1.  <span data-ttu-id="9909b-145">Compilar a solução (cliente e serviço) usando o **Build** menu ou CTRL + SHIFT + B.</span><span class="sxs-lookup"><span data-stu-id="9909b-145">Build the solution (both client and service) using the **Build** menu or CTRL+SHIFT+B.</span></span>  
  
2.  <span data-ttu-id="9909b-146">Se o serviço está hospedado no IIS:</span><span class="sxs-lookup"><span data-stu-id="9909b-146">If the service is hosted in IIS:</span></span>  
  
    1.  <span data-ttu-id="9909b-147">Ativar o serviço usando um navegador, inserindo o endereço http://localhost/servicemodelsamples/service.svc.</span><span class="sxs-lookup"><span data-stu-id="9909b-147">Activate the service using a browser by entering the address http://localhost/servicemodelsamples/service.svc.</span></span>  
  
    2.  <span data-ttu-id="9909b-148">Na solução, escolha o **Debug** menu e o **anexar ao processo** item de menu.</span><span class="sxs-lookup"><span data-stu-id="9909b-148">In the solution, choose the **Debug** menu and the **Attach to Process** menu item.</span></span>  
  
    3.  <span data-ttu-id="9909b-149">Marque a caixa de seleção **Mostrar processos de todos os usuários**.</span><span class="sxs-lookup"><span data-stu-id="9909b-149">Select the **Show processes from all users** check box.</span></span>  
  
    4.  <span data-ttu-id="9909b-150">Selecione o processo de trabalho do host W3wp.exe depurar (selecione ASPNet_wp.exe no Windows XP).</span><span class="sxs-lookup"><span data-stu-id="9909b-150">Select the host worker process W3wp.exe to debug (select ASPNet_wp.exe on Windows XP).</span></span>  
  
3.  <span data-ttu-id="9909b-151">Agora você pode definir pontos de interrupção no código de serviço e habilitar pontos de interrupção em exceções.</span><span class="sxs-lookup"><span data-stu-id="9909b-151">You can now set breakpoints in the service code and enable breakpoints on exceptions.</span></span>  
  
4.  <span data-ttu-id="9909b-152">O item de projeto do cliente com o botão direito e escolha **Debug**, **iniciar nova instância**.</span><span class="sxs-lookup"><span data-stu-id="9909b-152">Right-click the client project item and choose **Debug**, **Start new instance**.</span></span>  
  
### <a name="to-clean-up-after-the-sample"></a><span data-ttu-id="9909b-153">Para limpar após a amostra</span><span class="sxs-lookup"><span data-stu-id="9909b-153">To clean up after the sample</span></span>  
  
-   <span data-ttu-id="9909b-154">Se o serviço está hospedado no IIS para fins de segurança, remova a definição do diretório virtual e as permissões concedidas nas etapas de configuração quando tiver terminado com os exemplos.</span><span class="sxs-lookup"><span data-stu-id="9909b-154">If the service is hosted in IIS for security purposes, remove the virtual directory definition and permissions granted in the setup steps when you are finished with the samples.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9909b-155">Consulte também</span><span class="sxs-lookup"><span data-stu-id="9909b-155">See Also</span></span>  
 [<span data-ttu-id="9909b-156">Compilando os exemplos do Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="9909b-156">Building the Windows Communication Foundation Samples</span></span>](../../../../docs/framework/wcf/samples/building-the-samples.md)  
 [<span data-ttu-id="9909b-157">Executando os exemplos em um grupo de trabalho e entre máquinas</span><span class="sxs-lookup"><span data-stu-id="9909b-157">Running the Samples in a Workgroup and Across Machines</span></span>](https://msdn.microsoft.com/library/a451a525-e7ce-452d-9da9-620221260113)  
 [<span data-ttu-id="9909b-158">Dicas de solução de problemas</span><span class="sxs-lookup"><span data-stu-id="9909b-158">Troubleshooting Tips</span></span>](https://msdn.microsoft.com/library/8787c877-5e96-42da-8214-fa737a38f10b)
