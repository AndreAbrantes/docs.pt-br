---
title: Novidades no Windows Communication Foundation 4.5
ms.date: 03/30/2017
helpviewer_keywords:
- WCF [WCF], what's new
- Windows Communication Foundation [WCF], what's new
ms.assetid: 7e93fe73-af93-46b5-9f63-32f761ee40cf
ms.openlocfilehash: a50db521e986972e864ac60c8b84a63d3d1de69b
ms.sourcegitcommit: 8a0fe8a2227af612f8b8941bdb8b19d6268748e7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/03/2019
ms.locfileid: "71834875"
---
# <a name="whats-new-in-windows-communication-foundation-45"></a><span data-ttu-id="49bd9-102">Novidades no Windows Communication Foundation 4.5</span><span class="sxs-lookup"><span data-stu-id="49bd9-102">What's New in Windows Communication Foundation 4.5</span></span>

<span data-ttu-id="49bd9-103">Este tópico aborda os recursos novos para Windows Communication Foundation (WCF) versão 4,5.</span><span class="sxs-lookup"><span data-stu-id="49bd9-103">This topic discusses features new to Windows Communication Foundation (WCF) version 4.5.</span></span>

## <a name="wcf-simplification-features"></a><span data-ttu-id="49bd9-104">funcionalidades de simplificação do WCF</span><span class="sxs-lookup"><span data-stu-id="49bd9-104">WCF Simplification Features</span></span>

<span data-ttu-id="49bd9-105">Muito trabalho foi feito para facilitar o desenvolvimento e a manutenção de aplicativos do WCF 4.5.</span><span class="sxs-lookup"><span data-stu-id="49bd9-105">Much work has been done to make WCF 4.5 applications easier to develop and maintain.</span></span> <span data-ttu-id="49bd9-106">Para obter mais informações, consulte [recursos de simplificação do WCF](../../../docs/framework/wcf/wcf-simplification-features.md).</span><span class="sxs-lookup"><span data-stu-id="49bd9-106">For more information, see [WCF Simplification Features](../../../docs/framework/wcf/wcf-simplification-features.md).</span></span>

### <a name="task-based-async-support"></a><span data-ttu-id="49bd9-107">Suporte assíncrono baseado em tarefas</span><span class="sxs-lookup"><span data-stu-id="49bd9-107">Task-based Async Support</span></span>

<span data-ttu-id="49bd9-108">Por padrão, Adicionar Referência de Serviço gera métodos de operação de serviço assíncrono de retorno de tarefas.</span><span class="sxs-lookup"><span data-stu-id="49bd9-108">By default, Add Service Reference generates Task-returning async service operation methods.</span></span> <span data-ttu-id="49bd9-109">Isso é feito para métodos síncronos e assíncronos.</span><span class="sxs-lookup"><span data-stu-id="49bd9-109">This is done for both synchronous and asynchronous methods.</span></span> <span data-ttu-id="49bd9-110">Isso permite que você chame as operações de serviço assincronamente usando o novo modelo de programação assíncrona baseado em tarefa.</span><span class="sxs-lookup"><span data-stu-id="49bd9-110">This allows you to call the service operations asynchronously using the new Task based async programming model.</span></span> <span data-ttu-id="49bd9-111">Quando você chama o método proxy gerado, o WCF constrói um objeto de tarefa para representar a operação assíncrona e retornar essa tarefa para você.</span><span class="sxs-lookup"><span data-stu-id="49bd9-111">When you call the generated proxy method, WCF constructs a Task object to represent the asynchronous operation and returns that Task to you.</span></span> <span data-ttu-id="49bd9-112">A tarefa é concluída quando a operação é concluída.</span><span class="sxs-lookup"><span data-stu-id="49bd9-112">The Task completes when the operation completes.</span></span> <span data-ttu-id="49bd9-113">Ao implementar uma operação assíncrona, você pode implementá-la como uma operação assíncrona baseada em tarefa.</span><span class="sxs-lookup"><span data-stu-id="49bd9-113">When implementing an async operation you can implement it as a task-based async operation.</span></span> <span data-ttu-id="49bd9-114">Para obter mais informações, consulte [operações síncronas e assíncronas](../../../docs/framework/wcf/synchronous-and-asynchronous-operations.md).</span><span class="sxs-lookup"><span data-stu-id="49bd9-114">For more information see, [Synchronous and Asynchronous Operations](../../../docs/framework/wcf/synchronous-and-asynchronous-operations.md).</span></span>

### <a name="simplified-generated-configuration-files"></a><span data-ttu-id="49bd9-115">Arquivos de configuração gerados simplificados</span><span class="sxs-lookup"><span data-stu-id="49bd9-115">Simplified Generated Configuration Files</span></span>

<span data-ttu-id="49bd9-116">Quando você adiciona uma referência de serviço no Visual Studio ou usa a ferramenta SvcUtil.exe, um arquivo de configuração de cliente é gerado.</span><span class="sxs-lookup"><span data-stu-id="49bd9-116">When you add a service reference in Visual Studio or use the SvcUtil.exe tool, a client configuration file is generated.</span></span> <span data-ttu-id="49bd9-117">Em versões anteriores do WCF, esses arquivos de configuração continham o valor de cada propriedade de associação mesmo se seu valor fosse o valor padrão.</span><span class="sxs-lookup"><span data-stu-id="49bd9-117">In previous versions of WCF these configuration files contained the value of every binding property even if its value is the default value.</span></span> <span data-ttu-id="49bd9-118">No WCF 4.5, os arquivos de configuração gerados contêm apenas as propriedades de associação que são definidas com um valor não padrão.</span><span class="sxs-lookup"><span data-stu-id="49bd9-118">In WCF 4.5 the generated configuration files contain only those binding properties that are set to a non-default value.</span></span>

<span data-ttu-id="49bd9-119">Para obter mais informações, consulte [recursos de simplificação do WCF](wcf-simplification-features.md).</span><span class="sxs-lookup"><span data-stu-id="49bd9-119">For more information, see [WCF Simplification Features](wcf-simplification-features.md).</span></span>

### <a name="contract-first-development"></a><span data-ttu-id="49bd9-120">Desenvolvimento de primeiro contrato</span><span class="sxs-lookup"><span data-stu-id="49bd9-120">Contract-First Development</span></span>

<span data-ttu-id="49bd9-121">O WCF agora tem suporte para desenvolvimento do primeiro contrato.</span><span class="sxs-lookup"><span data-stu-id="49bd9-121">WCF now has support for contract-first development.</span></span> <span data-ttu-id="49bd9-122">O SvcUtil. exe tem um comutador/serviceContract que permite gerar contratos de serviço e de dados de um documento WSDL.</span><span class="sxs-lookup"><span data-stu-id="49bd9-122">The svcutil.exe has a /serviceContract switch which allows you to generate service and data contracts from a WSDL document.</span></span>

### <a name="add-service-reference-from-a-portable-subset-project"></a><span data-ttu-id="49bd9-123">Adicione uma referência de serviço de um projeto de subconjunto portátil</span><span class="sxs-lookup"><span data-stu-id="49bd9-123">Add Service Reference from a Portable Subset Project</span></span>

<span data-ttu-id="49bd9-124">Os projetos de subconjunto portáteis permitem que os programadores do assembly .NET mantenham uma única árvore de origem e criem o sistema enquanto ainda dão suporte a várias plataformas .NET (área de trabalho, Silverlight, Windows Phone e XBOX).</span><span class="sxs-lookup"><span data-stu-id="49bd9-124">Portable subset projects enable .NET assembly programmers to maintain a single source tree and build system while still supporting multiple .NET platforms (desktop, Silverlight, Windows Phone, and XBOX).</span></span> <span data-ttu-id="49bd9-125">Os projetos de subconjuntos portáteis só fazem referência a bibliotecas portáteis .NET que são um assembly do .NET Framework que pode ser usado em qualquer plataforma .NET.</span><span class="sxs-lookup"><span data-stu-id="49bd9-125">Portable subset projects only reference .NET portable libraries which are a .NET framework assembly that can be used on any .NET platform.</span></span> <span data-ttu-id="49bd9-126">A experiência do desenvolvedor é a mesma que adicionar uma referência de serviço dentro de qualquer outro aplicativo cliente WCF.</span><span class="sxs-lookup"><span data-stu-id="49bd9-126">The developer experience is the same as adding a service reference within any other WCF client application.</span></span> <span data-ttu-id="49bd9-127">Para obter mais informações, consulte [Adicionar referência de serviço em um projeto de subconjunto portátil](../../../docs/framework/wcf/add-service-reference-in-a-portable-subset-project.md).</span><span class="sxs-lookup"><span data-stu-id="49bd9-127">For more information, see [Add Service Reference in a Portable Subset Project](../../../docs/framework/wcf/add-service-reference-in-a-portable-subset-project.md).</span></span>

### <a name="aspnet-compatibility-mode-default-changed"></a><span data-ttu-id="49bd9-128">Padrão do modo de compatibilidade do ASP.NET alterado</span><span class="sxs-lookup"><span data-stu-id="49bd9-128">ASP.NET Compatibility Mode Default Changed</span></span>

<span data-ttu-id="49bd9-129">O WCF fornece o modo de compatibilidade do ASP.NET para conceder aos desenvolvedores acesso completo aos recursos no pipeline HTTP do ASP.NET ao escrever serviços do WCF.</span><span class="sxs-lookup"><span data-stu-id="49bd9-129">WCF provides ASP.NET compatibility mode to grant developers full access to the features in the ASP.NET HTTP pipeline when writing WCF services.</span></span> <span data-ttu-id="49bd9-130">Para usar esse modo, você deve definir o atributo `aspNetCompatibilityEnabled` como true na seção de [> \<serviceHostingEnvironment](../../../docs/framework/configure-apps/file-schema/wcf/servicehostingenvironment.md) do Web. config. Além disso, qualquer serviço neste appDomain precisa ter a propriedade `RequirementsMode` em seu <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> definida como <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> ou <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required>.</span><span class="sxs-lookup"><span data-stu-id="49bd9-130">To use this mode, you must set the `aspNetCompatibilityEnabled` attribute to true in the [\<serviceHostingEnvironment>](../../../docs/framework/configure-apps/file-schema/wcf/servicehostingenvironment.md) section of web.config. Additionally, any service in this appDomain needs to have the `RequirementsMode` property on its <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> or <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required>.</span></span> <span data-ttu-id="49bd9-131">Por padrão, <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> agora é definido como <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed>.</span><span class="sxs-lookup"><span data-stu-id="49bd9-131">By default <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> is now set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed>.</span></span> <span data-ttu-id="49bd9-132">Para obter mais informações, consulte [What ' s New in Windows Communication Foundation](../../../docs/framework/wcf/whats-new.md) and [WCF Services and ASP.net](../../../docs/framework/wcf/feature-details/wcf-services-and-aspnet.md).</span><span class="sxs-lookup"><span data-stu-id="49bd9-132">For more information, see [What's New in Windows Communication Foundation](../../../docs/framework/wcf/whats-new.md) and [WCF Services and ASP.NET](../../../docs/framework/wcf/feature-details/wcf-services-and-aspnet.md).</span></span>

### <a name="new-transport-default-values"></a><span data-ttu-id="49bd9-133">Novos valores padrão de transporte</span><span class="sxs-lookup"><span data-stu-id="49bd9-133">New Transport Default Values</span></span>

<span data-ttu-id="49bd9-134">Para simplificar a configuração, alguns valores padrão da propriedade de transporte foram alterados.</span><span class="sxs-lookup"><span data-stu-id="49bd9-134">In order to simplify configuration a number of transport property default values have changed.</span></span> <span data-ttu-id="49bd9-135">Para obter mais informações, consulte [recursos de simplificação do WCF](../../../docs/framework/wcf/wcf-simplification-features.md).</span><span class="sxs-lookup"><span data-stu-id="49bd9-135">For more information, see [WCF Simplification Features](../../../docs/framework/wcf/wcf-simplification-features.md).</span></span>

### <a name="xmldictionaryreaderquotas"></a><span data-ttu-id="49bd9-136">XmlDictionaryReaderQuotas</span><span class="sxs-lookup"><span data-stu-id="49bd9-136">XmlDictionaryReaderQuotas</span></span>

<span data-ttu-id="49bd9-137"><xref:System.Xml.XmlDictionaryReaderQuotas> contém valores de cota configuráveis para os leitores de dicionário de XML que limitam a quantidade de memória utilizada por um codificador ao criar uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="49bd9-137"><xref:System.Xml.XmlDictionaryReaderQuotas> contains configurable quota values for XML dictionary readers which limit the amount of memory utilized by an encoder while creating a message.</span></span> <span data-ttu-id="49bd9-138">Embora essas quotas sejam configuráveis, os valores padrão foram alterados para diminuir a possibilidade de um desenvolvedor precisar defini-las explicitamente.</span><span class="sxs-lookup"><span data-stu-id="49bd9-138">While these quotas are configurable, the default values have changed to lessen the possibility that a developer will have to set them explicitly.</span></span> <span data-ttu-id="49bd9-139">Para obter mais informações, consulte [recursos de simplificação do WCF](../../../docs/framework/wcf/wcf-simplification-features.md).</span><span class="sxs-lookup"><span data-stu-id="49bd9-139">For more information, see [WCF Simplification Features](../../../docs/framework/wcf/wcf-simplification-features.md).</span></span>

### <a name="wcf-configuration-validation"></a><span data-ttu-id="49bd9-140">Validação da instalação do WCF</span><span class="sxs-lookup"><span data-stu-id="49bd9-140">WCF Configuration Validation</span></span>

<span data-ttu-id="49bd9-141">Como parte do processo de compilação dentro do Visual Studio, os arquivos de configuração do WCF agora são validados para os atributos definidos dentro do projeto.</span><span class="sxs-lookup"><span data-stu-id="49bd9-141">As part of the build process within Visual Studio, WCF configuration files are now validated for attributes defined within the project.</span></span> <span data-ttu-id="49bd9-142">Uma lista de erros de validação ou avisos são exibidos no Visual Studio se a validação falhar.</span><span class="sxs-lookup"><span data-stu-id="49bd9-142">A list of validation errors or warnings is displayed in Visual Studio if the validation fails.</span></span>

### <a name="xml-editor-tooltips"></a><span data-ttu-id="49bd9-143">Dicas do editor XML</span><span class="sxs-lookup"><span data-stu-id="49bd9-143">XML Editor Tooltips</span></span>

<span data-ttu-id="49bd9-144">Para ajudar os desenvolvedores novos e existentes do serviço WCF a configurarem os serviços, o editor de XML do Visual Studio agora fornece dicas de ferramenta para cada elemento de configuração e suas propriedades que fazem parte do arquivo de configuração do serviço.</span><span class="sxs-lookup"><span data-stu-id="49bd9-144">In order to help new and existing WCF service developers to configure their services, the Visual Studio XML editor now provides tooltips for every configuration element and its properties that is part of the service configuration file.</span></span>

## <a name="streaming-improvements"></a><span data-ttu-id="49bd9-145">Melhorias de streaming</span><span class="sxs-lookup"><span data-stu-id="49bd9-145">Streaming Improvements</span></span>

<span data-ttu-id="49bd9-146">Suporte adicionado para streaming assíncrono verdadeiro onde o lado de envio agora não bloqueia threads se o lado de recebimento não está lendo ou lê lentamente, aumentando, portanto, a escalabilidade.</span><span class="sxs-lookup"><span data-stu-id="49bd9-146">Added support for true asynchronous streaming where the send side now does not block threads if the receive side is not reading or slow in reading thereby increasing scalability.</span></span> <span data-ttu-id="49bd9-147">Remove a limitação de armazenamento em buffer de mensagem quando um cliente envia uma mensagem transmitida por streaming para um serviço WCF hospedado no IIS.</span><span class="sxs-lookup"><span data-stu-id="49bd9-147">Removed the limitation of message buffering when a client sends a streamed message to an IIS hosted WCF service.</span></span> <span data-ttu-id="49bd9-148">Para obter mais informações, consulte [recursos de simplificação do WCF](../../../docs/framework/wcf/wcf-simplification-features.md).</span><span class="sxs-lookup"><span data-stu-id="49bd9-148">For more information, see [WCF Simplification Features](../../../docs/framework/wcf/wcf-simplification-features.md).</span></span>

## <a name="simplifying-exposing-an-endpoint-over-https-with-iis"></a><span data-ttu-id="49bd9-149">Simplificar a exposição de um ponto de extremidade em HTTPS com o IIS</span><span class="sxs-lookup"><span data-stu-id="49bd9-149">Simplifying Exposing an Endpoint Over HTTPS with IIS</span></span>

<span data-ttu-id="49bd9-150">Um mapeamento de protocolo de HTTPS foi adicionado para simplificar a exposição de um ponto de extremidade em HTTPS.</span><span class="sxs-lookup"><span data-stu-id="49bd9-150">An HTTPS protocol mapping has been added to simplify exposing an endpoint over HTTPS.</span></span> <span data-ttu-id="49bd9-151">Para habilitar um ponto de extremidade HTTPS, verifique se seu site com uma associação de HTTPS e o certificado de SSL configurado e, em seguida, basta habilitar o HTTPS para o diretório virtual que hospeda o serviço.</span><span class="sxs-lookup"><span data-stu-id="49bd9-151">To enable an HTTPS endpoint, ensure your website has an HTTPS binding and SSL certificate configured, and then simply enable HTTPS for the virtual directory that hosts the service.</span></span> <span data-ttu-id="49bd9-152">Se os metadados estiverem habilitados para o serviço, isso será exposto por HTTPS também.</span><span class="sxs-lookup"><span data-stu-id="49bd9-152">If metadata is enabled for the service, it will be exposed over HTTPS as well.</span></span>

## <a name="generating-a-single-wsdl-document"></a><span data-ttu-id="49bd9-153">Gerando um único documento WSDL</span><span class="sxs-lookup"><span data-stu-id="49bd9-153">Generating a Single WSDL Document</span></span>

<span data-ttu-id="49bd9-154">Pilhas de processamento de WSDL de terceiros não podem processar os documentos WSDL que têm dependências de outros documentos por meio de um xsd:import.</span><span class="sxs-lookup"><span data-stu-id="49bd9-154">Some third-party WSDL processing stacks are not able to process WSDL documents that have dependencies on other documents through a xsd:import.</span></span> <span data-ttu-id="49bd9-155">O WCF agora permite que você especifique que todas as informações de WSDL sejam retornadas em um único documento.</span><span class="sxs-lookup"><span data-stu-id="49bd9-155">WCF now allows you to specify that all WSDL information be returned in a single document.</span></span> <span data-ttu-id="49bd9-156">Para solicitar um único documento WSDL, acrescente "? singleWSDL" ao URI ao solicitar metadados do serviço.</span><span class="sxs-lookup"><span data-stu-id="49bd9-156">To request a single WSDL document append "?singleWSDL" to the URI when requesting metadata from the service.</span></span>

## <a name="websocket-support"></a><span data-ttu-id="49bd9-157">Suporte de WebSocket</span><span class="sxs-lookup"><span data-stu-id="49bd9-157">WebSocket Support</span></span>

<span data-ttu-id="49bd9-158">WebSockets é uma tecnologia que fornece comunicação bidirecional verdadeira nas portas 80 e 443 com as características de desempenho semelhantes ao TCP.</span><span class="sxs-lookup"><span data-stu-id="49bd9-158">WebSockets is a technology that provides true bidirectional communication over ports 80 and 443 with performance characteristics similar to TCP.</span></span> <span data-ttu-id="49bd9-159">Duas novas associações foram adicionadas à comunicação de suporte em um transporte de WebSocket.</span><span class="sxs-lookup"><span data-stu-id="49bd9-159">Two new bindings have been added to support communication over a WebSocket transport.</span></span> <span data-ttu-id="49bd9-160"><xref:System.ServiceModel.NetHttpBinding> e <xref:System.ServiceModel.NetHttpsBinding>.</span><span class="sxs-lookup"><span data-stu-id="49bd9-160"><xref:System.ServiceModel.NetHttpBinding> and <xref:System.ServiceModel.NetHttpsBinding>.</span></span> <span data-ttu-id="49bd9-161">Para obter mais informações, consulte: [Associações fornecidas pelo sistema](../../../docs/framework/wcf/system-provided-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="49bd9-161">For more information see: [System-Provided Bindings](../../../docs/framework/wcf/system-provided-bindings.md).</span></span>

## <a name="new-transport-default-values"></a><span data-ttu-id="49bd9-162">Novos valores padrão de transporte</span><span class="sxs-lookup"><span data-stu-id="49bd9-162">New Transport Default Values</span></span>

<span data-ttu-id="49bd9-163">A tabela a seguir descreve as configurações que foram alteradas e onde localizar informações adicionais.</span><span class="sxs-lookup"><span data-stu-id="49bd9-163">The following table describes the settings that have changed and where to find additional information.</span></span>

|<span data-ttu-id="49bd9-164">Propriedade</span><span class="sxs-lookup"><span data-stu-id="49bd9-164">Property</span></span>|<span data-ttu-id="49bd9-165">On</span><span class="sxs-lookup"><span data-stu-id="49bd9-165">On</span></span>|<span data-ttu-id="49bd9-166">Novo padrão</span><span class="sxs-lookup"><span data-stu-id="49bd9-166">New Default</span></span>|<span data-ttu-id="49bd9-167">Para obter mais informações, consulte</span><span class="sxs-lookup"><span data-stu-id="49bd9-167">For more information see</span></span>|
|--------------|--------|-----------------|------------------------------|
|<span data-ttu-id="49bd9-168">channelInitializationTimeout</span><span class="sxs-lookup"><span data-stu-id="49bd9-168">channelInitializationTimeout</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="49bd9-169">30 segundos</span><span class="sxs-lookup"><span data-stu-id="49bd9-169">30 seconds</span></span>|<xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A>|
|<span data-ttu-id="49bd9-170">listenBacklog</span><span class="sxs-lookup"><span data-stu-id="49bd9-170">listenBacklog</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="49bd9-171">12 \* número de processadores</span><span class="sxs-lookup"><span data-stu-id="49bd9-171">12 \* number of processors</span></span>|<xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A>|
|<span data-ttu-id="49bd9-172">maxPendingAccepts</span><span class="sxs-lookup"><span data-stu-id="49bd9-172">maxPendingAccepts</span></span>|<span data-ttu-id="49bd9-173">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="49bd9-173">ConnectionOrientedTransportBindingElement</span></span><br /><br /> <span data-ttu-id="49bd9-174">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="49bd9-174">SMSvcHost.exe</span></span>|<span data-ttu-id="49bd9-175">2 \* número de processadores para o transporte</span><span class="sxs-lookup"><span data-stu-id="49bd9-175">2 \* number of processors for transport</span></span><br /><br /> <span data-ttu-id="49bd9-176">4 \* número de processadores para SMSvcHost. exe</span><span class="sxs-lookup"><span data-stu-id="49bd9-176">4 \* number of processors for SMSvcHost.exe</span></span>|<span data-ttu-id="49bd9-177"><xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> [Configurando o serviço de compartilhamento de porta Net. TCP](../../../docs/framework/wcf/feature-details/configuring-the-net-tcp-port-sharing-service.md)</span><span class="sxs-lookup"><span data-stu-id="49bd9-177"><xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> [Configuring the Net.TCP Port Sharing Service](../../../docs/framework/wcf/feature-details/configuring-the-net-tcp-port-sharing-service.md)</span></span>|
|<span data-ttu-id="49bd9-178">maxPendingConnections</span><span class="sxs-lookup"><span data-stu-id="49bd9-178">maxPendingConnections</span></span>|<span data-ttu-id="49bd9-179">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="49bd9-179">ConnectionOrientedTransportBindingElement</span></span>|<span data-ttu-id="49bd9-180">12 \* número de processadores</span><span class="sxs-lookup"><span data-stu-id="49bd9-180">12 \* number of processors</span></span>|<xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A>|
|<span data-ttu-id="49bd9-181">receiveTimeout</span><span class="sxs-lookup"><span data-stu-id="49bd9-181">receiveTimeout</span></span>|<span data-ttu-id="49bd9-182">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="49bd9-182">SMSvcHost.exe</span></span>|<span data-ttu-id="49bd9-183">30 segundos</span><span class="sxs-lookup"><span data-stu-id="49bd9-183">30 seconds</span></span>|[<span data-ttu-id="49bd9-184">Configurando o serviço de compartilhamento de porta NET.TCP</span><span class="sxs-lookup"><span data-stu-id="49bd9-184">Configuring the Net.TCP Port Sharing Service</span></span>](../../../docs/framework/wcf/feature-details/configuring-the-net-tcp-port-sharing-service.md)|

## <a name="xml-editor-tooltips"></a><span data-ttu-id="49bd9-185">Dicas do editor XML</span><span class="sxs-lookup"><span data-stu-id="49bd9-185">XML Editor Tooltips</span></span>

<span data-ttu-id="49bd9-186">Para ajudar os desenvolvedores novos e existentes do serviço WCF a configurarem os serviços, o editor de XML do Visual Studio agora fornece dicas de ferramenta para cada elemento de configuração e suas propriedades que fazem parte do arquivo de configuração do serviço.</span><span class="sxs-lookup"><span data-stu-id="49bd9-186">In order to help new and existing WCF service developers to configure their services, the Visual Studio XML editor now provides tooltips for every configuration element and its properties that is part of the service configuration file.</span></span>

## <a name="configuring-wcf-services-in-code"></a><span data-ttu-id="49bd9-187">Configurando serviços WCF em código</span><span class="sxs-lookup"><span data-stu-id="49bd9-187">Configuring WCF Services in Code</span></span>

<span data-ttu-id="49bd9-188">Windows Communication Foundation (WCF) permite que os desenvolvedores configurem serviços usando arquivos de configuração ou código.</span><span class="sxs-lookup"><span data-stu-id="49bd9-188">Windows Communication Foundation (WCF) allows developers to configure services using configuration files or code.</span></span> <span data-ttu-id="49bd9-189">Os arquivos de configuração são úteis quando um serviço precisa ser configurado depois de ser implantado.</span><span class="sxs-lookup"><span data-stu-id="49bd9-189">Configuration files are useful when a service needs to be configured after being deployed.</span></span> <span data-ttu-id="49bd9-190">Ao usar arquivos de configuração, um profissional de TI apenas precisa atualizar o arquivo de configuração, nenhuma recompilação é necessária.</span><span class="sxs-lookup"><span data-stu-id="49bd9-190">When using configuration files, an IT professional only needs to update the configuration file, no recompilation is required.</span></span> <span data-ttu-id="49bd9-191">Os arquivos de configuração, porém, podem ser complexos e difíceis de manter.</span><span class="sxs-lookup"><span data-stu-id="49bd9-191">Configuration files, however, can be complex and difficult to maintain.</span></span> <span data-ttu-id="49bd9-192">Não há suporte para depurar arquivos de configuração e os elementos de configuração são referenciados por nomes, o que torna os arquivos de configuração de criação sujeitos a erros e difíceis.</span><span class="sxs-lookup"><span data-stu-id="49bd9-192">There is no support for debugging configuration files and configuration elements are referenced by names which makes authoring configuration files error-prone and difficult.</span></span> <span data-ttu-id="49bd9-193">O WCF também permite que você configure serviços no código.</span><span class="sxs-lookup"><span data-stu-id="49bd9-193">WCF also allows you to configure services in code.</span></span> <span data-ttu-id="49bd9-194">Em versões anteriores do WCF (4,0 e anteriores) a configuração de serviços no código era fácil em cenários de hospedagem interna <xref:System.ServiceModel.ServiceHost> , a classe permitia que você configurasse pontos de extremidade e comportamentos antes de chamar ServiceHost. Open.</span><span class="sxs-lookup"><span data-stu-id="49bd9-194">In earlier versions of WCF (4.0 and earlier) configuring services in code was easy in self-hosted scenarios, the <xref:System.ServiceModel.ServiceHost> class allowed you to configure endpoints and behaviors prior to calling ServiceHost.Open.</span></span> <span data-ttu-id="49bd9-195">Em cenários hospedados na Web, porém, você não tem acesso à classe <xref:System.ServiceModel.ServiceHost>.</span><span class="sxs-lookup"><span data-stu-id="49bd9-195">In web hosted scenarios, however, you don’t have access to the <xref:System.ServiceModel.ServiceHost> class.</span></span> <span data-ttu-id="49bd9-196">Para configurar um serviço Web hospedado, você precisava criar um `System.ServiceModel.ServiceHostFactory` que criou o <xref:System.ServiceModel.Activation.ServiceHostFactory> e executar qualquer configuração necessária.</span><span class="sxs-lookup"><span data-stu-id="49bd9-196">To configure a web hosted service you were required to create a `System.ServiceModel.ServiceHostFactory` that created the <xref:System.ServiceModel.Activation.ServiceHostFactory> and performed any needed configuration.</span></span> <span data-ttu-id="49bd9-197">A partir do .NET 4,5, o WCF fornece uma maneira mais fácil de configurar os serviços hospedados internamente e Web no código.</span><span class="sxs-lookup"><span data-stu-id="49bd9-197">Starting with .NET 4.5, WCF provides an easier way to configure both self-hosted and web hosted services in code.</span></span> <span data-ttu-id="49bd9-198">Para obter mais informações, consulte [Configuring WCF Services in Code](../../../docs/framework/wcf/configuring-wcf-services-in-code.md).</span><span class="sxs-lookup"><span data-stu-id="49bd9-198">For more information, see [Configuring WCF Services in Code](../../../docs/framework/wcf/configuring-wcf-services-in-code.md).</span></span>

## <a name="channelfactory-caching"></a><span data-ttu-id="49bd9-199">Cache de ChannelFactory</span><span class="sxs-lookup"><span data-stu-id="49bd9-199">ChannelFactory Caching</span></span>

<span data-ttu-id="49bd9-200">Os aplicativos cliente do WCF usam a classe <xref:System.ServiceModel.ChannelFactory%601> para criar um canal de comunicação com um serviço WCF.</span><span class="sxs-lookup"><span data-stu-id="49bd9-200">WCF client applications use the <xref:System.ServiceModel.ChannelFactory%601> class to create a communication channel with a WCF service.</span></span> <span data-ttu-id="49bd9-201">Criar instâncias de <xref:System.ServiceModel.ChannelFactory%601> resulta em alguma sobrecarga porque envolve as seguintes operações:</span><span class="sxs-lookup"><span data-stu-id="49bd9-201">Creating <xref:System.ServiceModel.ChannelFactory%601> instances incurs some overhead because it involves the following operations:</span></span>

1. <span data-ttu-id="49bd9-202">Construir a árvore de <xref:System.ServiceModel.Description.ContractDescription></span><span class="sxs-lookup"><span data-stu-id="49bd9-202">Constructing the <xref:System.ServiceModel.Description.ContractDescription> tree</span></span>

2. <span data-ttu-id="49bd9-203">Refletir todos os tipos CLR necessários</span><span class="sxs-lookup"><span data-stu-id="49bd9-203">Reflecting all of the required CLR types</span></span>

3. <span data-ttu-id="49bd9-204">Construir a pilha de canal</span><span class="sxs-lookup"><span data-stu-id="49bd9-204">Constructing the channel stack</span></span>

4. <span data-ttu-id="49bd9-205">Descarte de recursos</span><span class="sxs-lookup"><span data-stu-id="49bd9-205">Disposing of resources</span></span>

<span data-ttu-id="49bd9-206">Para ajudar a minimizar a sobrecarga, o WCF pode armazenar em cache fábricas de canal quando você está usando um proxy de cliente WCF.</span><span class="sxs-lookup"><span data-stu-id="49bd9-206">To help minimize this overhead, WCF can cache channel factories when you are using a WCF client proxy.</span></span> <span data-ttu-id="49bd9-207">Para obter mais informações, consulte [fábrica de canais e Caching](../../../docs/framework/wcf/feature-details/channel-factory-and-caching.md).</span><span class="sxs-lookup"><span data-stu-id="49bd9-207">For more information, see [Channel Factory and Caching](../../../docs/framework/wcf/feature-details/channel-factory-and-caching.md).</span></span>

## <a name="compression-and-the-binary-encoder"></a><span data-ttu-id="49bd9-208">Compactação e o codificador binário</span><span class="sxs-lookup"><span data-stu-id="49bd9-208">Compression and the Binary Encoder</span></span>

<span data-ttu-id="49bd9-209">A partir do WCF 4.5, o codificador binário do WCF adiciona suporte para compactação.</span><span class="sxs-lookup"><span data-stu-id="49bd9-209">Beginning with WCF 4.5 the WCF binary encoder adds support for compression.</span></span> <span data-ttu-id="49bd9-210">O tipo de compactação é configurado com a propriedade <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement.CompressionFormat%2A>.</span><span class="sxs-lookup"><span data-stu-id="49bd9-210">The type of compression is configured with the <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement.CompressionFormat%2A> property.</span></span> <span data-ttu-id="49bd9-211">O cliente e o serviço devem configurar a propriedade <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement.CompressionFormat%2A>.</span><span class="sxs-lookup"><span data-stu-id="49bd9-211">Both the client and the service must configure the <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement.CompressionFormat%2A> property.</span></span> <span data-ttu-id="49bd9-212">A compactação funcionará para os protocolos de HTTP, HTTPS e TCP.</span><span class="sxs-lookup"><span data-stu-id="49bd9-212">Compression will work for HTTP, HTTPS, and TCP protocols.</span></span> <span data-ttu-id="49bd9-213">Se um cliente especificar o uso de compactação, mas o serviço não oferece suporte a isso, uma exceção de protocolo será gerada indicando uma incompatibilidade de protocolo.</span><span class="sxs-lookup"><span data-stu-id="49bd9-213">If a client specifies to use compression but the service does not support it a protocol exception is thrown indicating a protocol mismatch.</span></span> <span data-ttu-id="49bd9-214">Para obter mais informações, consulte [escolhendo um codificador de mensagem](./feature-details/choosing-a-message-encoder.md).</span><span class="sxs-lookup"><span data-stu-id="49bd9-214">For more information, see [Choosing a Message Encoder](./feature-details/choosing-a-message-encoder.md).</span></span>

## <a name="udp"></a><span data-ttu-id="49bd9-215">UDP</span><span class="sxs-lookup"><span data-stu-id="49bd9-215">UDP</span></span>

<span data-ttu-id="49bd9-216">Foi adicionado suporte para um transporte UDP que permite aos desenvolvedores escrever serviços que usam mensagens "incêndio e esquecido".</span><span class="sxs-lookup"><span data-stu-id="49bd9-216">Support has been added for a UDP transport which allows developers to write services that use "fire and forget" messaging.</span></span> <span data-ttu-id="49bd9-217">Um cliente envia uma mensagem para um serviço e não espera nenhuma resposta do serviço.</span><span class="sxs-lookup"><span data-stu-id="49bd9-217">A client sends a message to a service and expects no response from the service.</span></span>

## <a name="multiple-authentication-support"></a><span data-ttu-id="49bd9-218">Suporte a várias autenticações</span><span class="sxs-lookup"><span data-stu-id="49bd9-218">Multiple Authentication Support</span></span>

<span data-ttu-id="49bd9-219">O suporte foi adicionado para dar suporte a vários modos de autenticação, conforme o suporte pelo IIS, em um único ponto de extremidade do WCF ao usar o transporte de HTTP e a segurança de transporte.</span><span class="sxs-lookup"><span data-stu-id="49bd9-219">Support has been added to support multiple authentication modes, as supported by IIS, on a single WCF endpoint when using the HTTP transport and transport security.</span></span> <span data-ttu-id="49bd9-220">O IIS permite que você habilite vários modos de autenticação em um diretório virtual. Esse recurso permite que um único ponto de extremidade WCF dê suporte a vários modos de autenticação habilitados para o diretório virtual em que o serviço WCF está hospedado.</span><span class="sxs-lookup"><span data-stu-id="49bd9-220">IIS allows you to enable multiple authentication modes on a virtual directory, this feature allows a single WCF endpoint to support the multiple authentication modes enabled for the virtual directory where the WCF service is hosted.</span></span>

## <a name="idn-support"></a><span data-ttu-id="49bd9-221">Suporte a IDN</span><span class="sxs-lookup"><span data-stu-id="49bd9-221">IDN Support</span></span>

<span data-ttu-id="49bd9-222">O suporte foi adicionado para permitir os serviços WCF com nomes de domínio internacionalizados.</span><span class="sxs-lookup"><span data-stu-id="49bd9-222">Support has been added to allow for WCF services with Internationalized Domain Names.</span></span> <span data-ttu-id="49bd9-223">Para obter mais informações, consulte [WCF e nomes de domínio internacionalizados](../../../docs/framework/wcf/feature-details/wcf-and-internationalized-domain-names.md).</span><span class="sxs-lookup"><span data-stu-id="49bd9-223">For more information see [WCF and Internationalized Domain Names](../../../docs/framework/wcf/feature-details/wcf-and-internationalized-domain-names.md).</span></span>

## <a name="httpclient"></a><span data-ttu-id="49bd9-224">HttpClient</span><span class="sxs-lookup"><span data-stu-id="49bd9-224">HttpClient</span></span>

<span data-ttu-id="49bd9-225">Uma nova classe chamada <xref:System.Net.Http.HttpClient> foi adicionada para facilitar muito o trabalho com solicitações de HTTP.</span><span class="sxs-lookup"><span data-stu-id="49bd9-225">A new class called <xref:System.Net.Http.HttpClient> has been added to make working with HTTP requests much easier.</span></span> <span data-ttu-id="49bd9-226">Para obter mais informações, consulte [tornando os aplicativos sociais e conectados com os serviços http](https://go.microsoft.com/fwlink/?LinkId=231886) e o [exemplo de cliente http](https://code.msdn.microsoft.com/windowsapps/HttpClient-sample-55700664).</span><span class="sxs-lookup"><span data-stu-id="49bd9-226">For more info, see [Making apps social and connected with HTTP services](https://go.microsoft.com/fwlink/?LinkId=231886) and the [HTTP Client Sample](https://code.msdn.microsoft.com/windowsapps/HttpClient-sample-55700664).</span></span>

## <a name="configuration-intellisense"></a><span data-ttu-id="49bd9-227">Intellisense de configuração</span><span class="sxs-lookup"><span data-stu-id="49bd9-227">Configuration Intellisense</span></span>

<span data-ttu-id="49bd9-228">Os valores de atributo nos arquivos de configuração para os atributos personalizados definidos no projeto agora dão suporte ao intellisense para facilitar o trabalho com configurações de maneira rápida e precisa.</span><span class="sxs-lookup"><span data-stu-id="49bd9-228">Attribute values in configuration files for custom attributes defined in the project now support intellisense to facilitate working with configurations quickly and accurately.</span></span>

## <a name="configuration-tooltips"></a><span data-ttu-id="49bd9-229">Dicas de ferramenta de configuração</span><span class="sxs-lookup"><span data-stu-id="49bd9-229">Configuration tooltips</span></span>

<span data-ttu-id="49bd9-230">Os elementos e atributos do WCF agora têm dicas de ferramenta no editor de XML para identificar com mais facilidade e precisão a finalidade do elemento ou atributo.</span><span class="sxs-lookup"><span data-stu-id="49bd9-230">WCF elements and attributes now have tooltips in the XML editor, to more easily and accurately identify the purpose of the element or attribute.</span></span>

## <a name="paste-data-as-classes"></a><span data-ttu-id="49bd9-231">Colar dados como classes</span><span class="sxs-lookup"><span data-stu-id="49bd9-231">Paste Data as Classes</span></span>

<span data-ttu-id="49bd9-232">Em um projeto WCF, os tipos de dados definidos no XML (como são expostos em um serviço) podem ser colados diretamente em uma página de código.</span><span class="sxs-lookup"><span data-stu-id="49bd9-232">In a WCF project, data types defined in XML (such as are exposed in a service) can be pasted directly into a code page.</span></span> <span data-ttu-id="49bd9-233">O tipo de XML será colado como um tipo CLR.</span><span class="sxs-lookup"><span data-stu-id="49bd9-233">The XML type will be pasted as a CLR type.</span></span> <span data-ttu-id="49bd9-234">Consulte [gerando classes de tipo de dados do XML](../../../docs/framework/wcf/generating-data-type-classes-from-xml.md) para obter mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="49bd9-234">See [Generating Data Type Classes from XML](../../../docs/framework/wcf/generating-data-type-classes-from-xml.md) for more details.</span></span>

## <a name="webservicehost-and-default-endpoints"></a><span data-ttu-id="49bd9-235">WebServiceHost e pontos de extremidade padrão</span><span class="sxs-lookup"><span data-stu-id="49bd9-235">WebServiceHost and default endpoints</span></span>

<span data-ttu-id="49bd9-236">No Visual Studio 2010, o WebServiceHost automaticamente criava um ponto de extremidade padrão se você tivesse especificado explicitamente um ponto de extremidade ou não.</span><span class="sxs-lookup"><span data-stu-id="49bd9-236">In Visual Studio 2010, WebServiceHost automatically created a default endpoint whether you explicitly specified an endpoint or not.</span></span> <span data-ttu-id="49bd9-237">No Visual Studio 2012 e posterior, WebServiceHost só cria um ponto de extremidade padrão se nenhum ponto de extremidades é explicitamente adicionado.</span><span class="sxs-lookup"><span data-stu-id="49bd9-237">In Visual Studio 2012 and later, WebServiceHost only creates a default endpoint if no endpoints are explicitly added.</span></span> <span data-ttu-id="49bd9-238">Se o cliente estiver esperando o ponto de extremidade padrão, você poderá adicionar explicitamente um ponto de extremidade e apontar o cliente para ele.</span><span class="sxs-lookup"><span data-stu-id="49bd9-238">If your client is expecting the default endpoint you can explicitly add an endpoint and point the client to it.</span></span> <span data-ttu-id="49bd9-239">Como alternativa, você pode informar WCF para reverter para o comportamento anterior adicionando a seguinte configuração ao arquivo de configuração do aplicativo</span><span class="sxs-lookup"><span data-stu-id="49bd9-239">Alternatively, you can tell WCF to revert back to the previous behavior by adding the following setting to you application’s configuration file</span></span>

```xml
<appSettings>
    <add key="wcf:webservicehost:enableautomaticendpointscompatability" value="true"/>
  </appSettings>
```

## <a name="ihttpcookiecontainermanager"></a><span data-ttu-id="49bd9-240">IHttpCookieContainerManager</span><span class="sxs-lookup"><span data-stu-id="49bd9-240">IHttpCookieContainerManager</span></span>

<span data-ttu-id="49bd9-241">Essa interface, exposta pelo <xref:System.ServiceModel.Channels.IChannelFactory%601>, facilita muito o trabalho com cookies no lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="49bd9-241">This interface, exposed by <xref:System.ServiceModel.Channels.IChannelFactory%601>, makes working with cookies on the client side much easier.</span></span> <span data-ttu-id="49bd9-242">Quando AllowCookies está definido como verdadeiro na associação, você poderá acessar os cookies usando o seguinte código:</span><span class="sxs-lookup"><span data-stu-id="49bd9-242">When AllowCookies is set to true on the binding, you can access cookies by using the following code:</span></span>

```csharp
IHttpCookieContainerManager cookieManager = factory.GetProperty<IHttpCookieContainerManager>();
System.Net.CookieContainer container = cookieManager.CookieContainer;
```

<span data-ttu-id="49bd9-243">Você pode recuperar ou definir cookies a partir do <xref:System.Net.CookieContainer>.</span><span class="sxs-lookup"><span data-stu-id="49bd9-243">You can then retrieve or set the cookies from the <xref:System.Net.CookieContainer>.</span></span> <span data-ttu-id="49bd9-244">Quando AllowCookies for definido como falso, você poderá recuperar os cookies manualmente usando <xref:System.ServiceModel.OperationContext> e enviá-los em outras solicitações usando outro <xref:System.ServiceModel.OperationContext> ou inspetor da mensagem.</span><span class="sxs-lookup"><span data-stu-id="49bd9-244">When AllowCookies is set to false, you can manually retrieve the cookies using <xref:System.ServiceModel.OperationContext> and send it in other requests using another <xref:System.ServiceModel.OperationContext> or message inspector.</span></span> <span data-ttu-id="49bd9-245">A interface de IHttpCookieContainerManager permite autenticar um usuário com um serviço e usar o cookie de autenticação retornado por esse serviço para autenticar com outros serviços.</span><span class="sxs-lookup"><span data-stu-id="49bd9-245">The IHttpCookieContainerManager interface allows you to authenticate a user with a service and use the authentication cookie returned by that service to authenticate with other services.</span></span>
