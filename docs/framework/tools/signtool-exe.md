---
title: SignTool.exe (Ferramenta de Assinatura)
description: Saiba mais sobre SignTool.exe, a ferramenta de assinatura. Essa ferramenta de linha de comando assina digitalmente os arquivos, verifica as assinaturas em arquivos e aplica os carimbos de data/hora aos arquivos.
ms.date: 03/30/2017
helpviewer_keywords:
- Sign tool
- SignTool.exe
ms.assetid: 0c25ff6c-bff3-422e-b017-146a3ee86cb9
ms.openlocfilehash: ff330691483b56740ee72e280c1471af4282c638
ms.sourcegitcommit: 74d05613d6c57106f83f82ce8ee71176874ea3f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/03/2020
ms.locfileid: "93282250"
---
# <a name="signtoolexe-sign-tool"></a><span data-ttu-id="82847-104">SignTool.exe (Ferramenta de Assinatura)</span><span class="sxs-lookup"><span data-stu-id="82847-104">SignTool.exe (Sign Tool)</span></span>
<span data-ttu-id="82847-105">A Ferramenta de Assinatura é uma ferramenta de linha de comando que assina digitalmente arquivos, verifica assinaturas em arquivos e em arquivos de carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="82847-105">Sign Tool is a command-line tool that digitally signs files, verifies signatures in files, and time-stamps files.</span></span>  
  
 <span data-ttu-id="82847-106">Essa ferramenta é instalada automaticamente com o Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="82847-106">This tool is automatically installed with Visual Studio.</span></span> <span data-ttu-id="82847-107">Para executar a ferramenta, use o Prompt de Comando do Desenvolvedor para Visual Studio (ou o Prompt de Comando do Visual Studio no Windows 7).</span><span class="sxs-lookup"><span data-stu-id="82847-107">To run the tool, use the Developer Command Prompt for Visual Studio (or the Visual Studio Command Prompt in Windows 7).</span></span> <span data-ttu-id="82847-108">Para obter mais informações, consulte [Prompts de Comando](developer-command-prompt-for-vs.md).</span><span class="sxs-lookup"><span data-stu-id="82847-108">For more information, see [Command Prompts](developer-command-prompt-for-vs.md).</span></span>

> [!Note]  
> <span data-ttu-id="82847-109">O SDK do Windows 10, o Windows 10 HLK, o Windows 10 WDK e o Windows 10 ADK **compila 20236 e posteriores** exigem a especificação do algoritmo Digest.</span><span class="sxs-lookup"><span data-stu-id="82847-109">The Windows 10 SDK, Windows 10 HLK, Windows 10 WDK and Windows 10 ADK **builds 20236 and later** require specifying the digest algorithm.</span></span> <span data-ttu-id="82847-110">O `sign` comando SignTool requer que o `/fd` **algoritmo de Resumo de arquivo** e a opção de algoritmo de Resumo de carimbo de `/td` **Data/** hora sejam especificados durante a assinatura e o carimbo de hora, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="82847-110">The SignTool `sign` command requires the `/fd` **file digest algorithm** and the `/td` **timestamp digest algorithm** option to be specified during signing and timestamping, respectively.</span></span> <span data-ttu-id="82847-111">Um aviso (código de erro 0, inicialmente) será gerado se `/fd` não for especificado durante a assinatura e se `/td` não for especificado durante o carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="82847-111">A warning (error code 0, initially) will be thrown if `/fd` is not specified during signing and if `/td` is not specified during timestamping.</span></span> <span data-ttu-id="82847-112">Em versões posteriores de SignTool, o aviso se tornará um erro.</span><span class="sxs-lookup"><span data-stu-id="82847-112">In later versions of SignTool, the warning will become an error.</span></span> <span data-ttu-id="82847-113">SHA256 é recomendado e considerado mais seguro do que o SHA1 pelo setor.</span><span class="sxs-lookup"><span data-stu-id="82847-113">SHA256 is recommended and considered to be more secure than SHA1 by the industry.</span></span>  
  
 <span data-ttu-id="82847-114">No prompt de comando, digite o seguinte:</span><span class="sxs-lookup"><span data-stu-id="82847-114">At the command prompt, type the following:</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="82847-115">Sintaxe</span><span class="sxs-lookup"><span data-stu-id="82847-115">Syntax</span></span>  
  
```console  
signtool [command] [options] [file_name | ...]  
```  
  
## <a name="parameters"></a><span data-ttu-id="82847-116">parâmetros</span><span class="sxs-lookup"><span data-stu-id="82847-116">Parameters</span></span>  
  
|<span data-ttu-id="82847-117">Argumento</span><span class="sxs-lookup"><span data-stu-id="82847-117">Argument</span></span>|<span data-ttu-id="82847-118">Descrição</span><span class="sxs-lookup"><span data-stu-id="82847-118">Description</span></span>|  
|--------------|-----------------|  
|`command`|<span data-ttu-id="82847-119">Um dos quatro comandos (`catdb`, `sign`, `Timestamp` ou `Verify`) que especifica uma operação a ser realizada em um arquivo.</span><span class="sxs-lookup"><span data-stu-id="82847-119">One of four commands (`catdb`, `sign`, `Timestamp`, or `Verify`) that specifies an operation to perform on a file.</span></span> <span data-ttu-id="82847-120">Para obter uma descrição de cada comando, consulte a próxima tabela.</span><span class="sxs-lookup"><span data-stu-id="82847-120">For a description of each command, see the next table.</span></span>|  
|`options`|<span data-ttu-id="82847-121">Uma opção que modifica um comando.</span><span class="sxs-lookup"><span data-stu-id="82847-121">An option that modifies a command.</span></span> <span data-ttu-id="82847-122">Além das opções globais `/q` e `/v`, cada comando dá suporte a um conjunto exclusivo de opções.</span><span class="sxs-lookup"><span data-stu-id="82847-122">In addition to the global `/q` and `/v` options, each command supports a unique set of options.</span></span>|  
|`file_name`|<span data-ttu-id="82847-123">O caminho para um arquivo a ser assinado.</span><span class="sxs-lookup"><span data-stu-id="82847-123">The path to a file to sign.</span></span>|  
  
 <span data-ttu-id="82847-124">Os seguintes comandos são compatíveis com a Ferramenta de Assinatura.</span><span class="sxs-lookup"><span data-stu-id="82847-124">The following commands are supported by Sign Tool.</span></span> <span data-ttu-id="82847-125">Cada comando é usado com conjuntos distintos de opções, listadas em suas respectivas seções.</span><span class="sxs-lookup"><span data-stu-id="82847-125">Each command is used with distinct sets of options, which are listed in their respective sections.</span></span>  
  
|<span data-ttu-id="82847-126">Comando</span><span class="sxs-lookup"><span data-stu-id="82847-126">Command</span></span>|<span data-ttu-id="82847-127">Descrição</span><span class="sxs-lookup"><span data-stu-id="82847-127">Description</span></span>|  
|-------------|-----------------|  
|`catdb`|<span data-ttu-id="82847-128">Adiciona ou remove um arquivo de catálogo de um banco de dados do catálogo.</span><span class="sxs-lookup"><span data-stu-id="82847-128">Adds a catalog file to, or removes it from, a catalog database.</span></span> <span data-ttu-id="82847-129">Os bancos de dados do catálogo são usados na pesquisa automática de arquivos de catálogo e são identificados por uma GUID.</span><span class="sxs-lookup"><span data-stu-id="82847-129">Catalog databases are used for automatic lookup of catalog files and are identified by GUID.</span></span> <span data-ttu-id="82847-130">Para obter uma lista de opções com suporte pelo comando `catdb`, consulte [Opções do Comando catdb](signtool-exe.md#catdb).</span><span class="sxs-lookup"><span data-stu-id="82847-130">For a list of the options supported by the `catdb` command, see [catdb Command Options](signtool-exe.md#catdb).</span></span>|  
|`sign`|<span data-ttu-id="82847-131">Assina arquivos digitalmente.</span><span class="sxs-lookup"><span data-stu-id="82847-131">Digitally signs files.</span></span> <span data-ttu-id="82847-132">As assinaturas digitais protegem os arquivos contra violação e permitem aos usuários verificar o signatário com base em um certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="82847-132">Digital signatures protect files from tampering, and enable users to verify the signer based on a signing certificate.</span></span> <span data-ttu-id="82847-133">Para obter uma lista de opções com suporte pelo comando `sign`, consulte [Opções do Comando sign](signtool-exe.md#sign).</span><span class="sxs-lookup"><span data-stu-id="82847-133">For a list of the options supported by the `sign` command, see [sign Command Options](signtool-exe.md#sign).</span></span>|  
|`Timestamp`|<span data-ttu-id="82847-134">Arquivos de carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="82847-134">Time-stamps files.</span></span> <span data-ttu-id="82847-135">Para obter uma lista das opções com suporte pelo comando `TimeStamp`, consulte [Opções de Comando TimeStamp](signtool-exe.md#TimeStamp).</span><span class="sxs-lookup"><span data-stu-id="82847-135">For a list of the options supported by the `TimeStamp` command, see [TimeStamp Command Options](signtool-exe.md#TimeStamp).</span></span>|  
|`Verify`|<span data-ttu-id="82847-136">Verifica a assinatura digital dos arquivos determinando se o certificado de assinatura foi emitido por uma autoridade confiável, se o certificado de assinatura foi revogado e, como opção, se o certificado de assinatura é válido para uma política específica.</span><span class="sxs-lookup"><span data-stu-id="82847-136">Verifies the digital signature of files by determining whether the signing certificate was issued by a trusted authority, whether the signing certificate has been revoked, and, optionally, whether the signing certificate is valid for a specific policy.</span></span> <span data-ttu-id="82847-137">Para obter uma lista das opções com suporte pelo comando `Verify`, consulte [Opções do Comando Verify](signtool-exe.md#Verify).</span><span class="sxs-lookup"><span data-stu-id="82847-137">For a list of the options supported by the `Verify` command, see [Verify Command Options](signtool-exe.md#Verify).</span></span>|  
  
 <span data-ttu-id="82847-138">As seguintes opções aplicam-se a todos os comandos da Ferramenta de Assinatura.</span><span class="sxs-lookup"><span data-stu-id="82847-138">The following options apply to all Sign Tool commands.</span></span>  
  
|<span data-ttu-id="82847-139">Opção global</span><span class="sxs-lookup"><span data-stu-id="82847-139">Global option</span></span>|<span data-ttu-id="82847-140">Descrição</span><span class="sxs-lookup"><span data-stu-id="82847-140">Description</span></span>|  
|-------------------|-----------------|  
|<span data-ttu-id="82847-141">**/q**</span><span class="sxs-lookup"><span data-stu-id="82847-141">**/q**</span></span>|<span data-ttu-id="82847-142">Não exibirá nenhuma saída se o comando for executado com êxito e exibirá saída mínima se o comando falhar.</span><span class="sxs-lookup"><span data-stu-id="82847-142">Displays no output if the command runs successfully, and displays minimal output if the command fails.</span></span>|  
|<span data-ttu-id="82847-143">**/v**</span><span class="sxs-lookup"><span data-stu-id="82847-143">**/v**</span></span>|<span data-ttu-id="82847-144">Exibe saída detalhada, independentemente de o comando ser executado com êxito ou falhar, além de exibir mensagens de aviso.</span><span class="sxs-lookup"><span data-stu-id="82847-144">Displays verbose output regardless of whether the command runs successfully or fails, and displays warning messages.</span></span>|  
|<span data-ttu-id="82847-145">**/debug**</span><span class="sxs-lookup"><span data-stu-id="82847-145">**/debug**</span></span>|<span data-ttu-id="82847-146">Exibe informações de depuração.</span><span class="sxs-lookup"><span data-stu-id="82847-146">Displays debugging information.</span></span>|  
  
<a name="catdb"></a>
## <a name="catdb-command-options"></a><span data-ttu-id="82847-147">Opções do Comando catdb</span><span class="sxs-lookup"><span data-stu-id="82847-147">catdb Command Options</span></span>  
 <span data-ttu-id="82847-148">A tabela a seguir lista as opções que podem ser usadas com o comando `catdb`.</span><span class="sxs-lookup"><span data-stu-id="82847-148">The following table lists the options that can be used with the `catdb` command.</span></span>  
  
|<span data-ttu-id="82847-149">Opção Catdb</span><span class="sxs-lookup"><span data-stu-id="82847-149">Catdb option</span></span>|<span data-ttu-id="82847-150">Descrição</span><span class="sxs-lookup"><span data-stu-id="82847-150">Description</span></span>|  
|------------------|-----------------|  
|`/d`|<span data-ttu-id="82847-151">Especifica se o banco de dados do catálogo padrão está atualizado.</span><span class="sxs-lookup"><span data-stu-id="82847-151">Specifies that the default catalog database is updated.</span></span> <span data-ttu-id="82847-152">Se as opções `/d` ou `/g` não forem usadas, a Ferramenta de Assinatura atualizará o banco de dados do driver e do componente do sistema.</span><span class="sxs-lookup"><span data-stu-id="82847-152">If neither the `/d` nor the `/g` option is used, Sign Tool updates the system component and driver database.</span></span>|  
|<span data-ttu-id="82847-153">`/g` *GUID*</span><span class="sxs-lookup"><span data-stu-id="82847-153">`/g` *GUID*</span></span>|<span data-ttu-id="82847-154">Especifica se o banco de dados do catálogo identificado pelo identificador global exclusivo *GUID* está atualizado.</span><span class="sxs-lookup"><span data-stu-id="82847-154">Specifies that the catalog database identified by the globally unique identifier *GUID* is updated.</span></span>|  
|`/r`|<span data-ttu-id="82847-155">Remove os catálogos especificados do banco de dados do catálogo.</span><span class="sxs-lookup"><span data-stu-id="82847-155">Removes the specified catalogs from the catalog database.</span></span> <span data-ttu-id="82847-156">Se essa opção não for especificada, a Ferramenta de Assinatura adicionará os catálogos especificados ao banco de dados do catálogo.</span><span class="sxs-lookup"><span data-stu-id="82847-156">If this option is not specified, Sign Tool adds the specified catalogs to the catalog database.</span></span>|  
|`/u`|<span data-ttu-id="82847-157">Especifica se um nome exclusivo é gerado automaticamente para os arquivos de catálogo adicionados.</span><span class="sxs-lookup"><span data-stu-id="82847-157">Specifies that a unique name is automatically generated for the added catalog files.</span></span> <span data-ttu-id="82847-158">Se necessário, os arquivos do catálogo são renomeados para evitar conflitos de nome com os arquivos de catálogo existentes.</span><span class="sxs-lookup"><span data-stu-id="82847-158">If necessary, the catalog files are renamed to prevent name conflicts with existing catalog files.</span></span> <span data-ttu-id="82847-159">Se essa opção não for especificada, a Ferramenta de Assinatura substituirá qualquer catálogo existente que tenha o mesmo nome do catálogo que está sendo adicionado.</span><span class="sxs-lookup"><span data-stu-id="82847-159">If this option is not specified, Sign Tool overwrites any existing catalog that has the same name as the catalog being added.</span></span>|  
  
<a name="sign"></a>
## <a name="sign-command-options"></a><span data-ttu-id="82847-160">Opções do Comando sign</span><span class="sxs-lookup"><span data-stu-id="82847-160">sign Command Options</span></span>  
 <span data-ttu-id="82847-161">A tabela a seguir lista as opções que podem ser usadas com o comando `sign`.</span><span class="sxs-lookup"><span data-stu-id="82847-161">The following table lists the options that can be used with the `sign` command.</span></span>  
  
|<span data-ttu-id="82847-162">Opções do comando de entrada</span><span class="sxs-lookup"><span data-stu-id="82847-162">Sign command option</span></span>|<span data-ttu-id="82847-163">Descrição</span><span class="sxs-lookup"><span data-stu-id="82847-163">Description</span></span>|  
|-------------------------|-----------------|  
|`/a`|<span data-ttu-id="82847-164">Seleciona automaticamente o melhor certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="82847-164">Automatically selects the best signing certificate.</span></span> <span data-ttu-id="82847-165">A Ferramenta de Assinatura encontrará todos os certificados válidos que atendem às condições especificadas e selecionará aquele válido durante um tempo mais longo.</span><span class="sxs-lookup"><span data-stu-id="82847-165">Sign Tool will find all valid certificates that satisfy all specified conditions and select the one that is valid for the longest time.</span></span> <span data-ttu-id="82847-166">Se essa opção não estiver presente, a Ferramenta de Assinatura deverá localizar apenas um certificado de assinatura válido.</span><span class="sxs-lookup"><span data-stu-id="82847-166">If this option is not present, Sign Tool expects to find only one valid signing certificate.</span></span>|  
|<span data-ttu-id="82847-167">`/ac`  *Grupo*</span><span class="sxs-lookup"><span data-stu-id="82847-167">`/ac`  *file*</span></span>|<span data-ttu-id="82847-168">Adiciona um certificado adicional de *file* ao bloco de assinatura.</span><span class="sxs-lookup"><span data-stu-id="82847-168">Adds an additional certificate from *file* to the signature block.</span></span>|  
|`/as`|<span data-ttu-id="82847-169">Acrescenta esta assinatura.</span><span class="sxs-lookup"><span data-stu-id="82847-169">Appends this signature.</span></span> <span data-ttu-id="82847-170">Se nenhuma assinatura primária estiver presente, essa assinatura será definida como a assinatura principal.</span><span class="sxs-lookup"><span data-stu-id="82847-170">If no primary signature is present, this signature is made the primary signature instead.</span></span>|  
|<span data-ttu-id="82847-171">`/c`  *CertTemplateName*</span><span class="sxs-lookup"><span data-stu-id="82847-171">`/c`  *CertTemplateName*</span></span>|<span data-ttu-id="82847-172">Especifica o Nome do Modelo de Certificado (uma extensão da Microsoft) para o certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="82847-172">Specifies the Certificate Template Name (a Microsoft extension) for the signing certificate.</span></span>|  
|<span data-ttu-id="82847-173">`/csp`  *CSPName*</span><span class="sxs-lookup"><span data-stu-id="82847-173">`/csp`  *CSPName*</span></span>|<span data-ttu-id="82847-174">Especifica o provedor de serviços de criptografia (CSP) que contém o contêiner de chave privada.</span><span class="sxs-lookup"><span data-stu-id="82847-174">Specifies the cryptographic service provider (CSP) that contains the private key container.</span></span>|  
|<span data-ttu-id="82847-175">`/d`  *Crescente*</span><span class="sxs-lookup"><span data-stu-id="82847-175">`/d`  *Desc*</span></span>|<span data-ttu-id="82847-176">Especifica uma descrição do conteúdo assinado.</span><span class="sxs-lookup"><span data-stu-id="82847-176">Specifies a description of the signed content.</span></span>|  
|<span data-ttu-id="82847-177">`/du`  *URL*</span><span class="sxs-lookup"><span data-stu-id="82847-177">`/du`  *URL*</span></span>|<span data-ttu-id="82847-178">Especifica uma URL (Uniform Resource Locator) para obter a descrição expandida do conteúdo assinado.</span><span class="sxs-lookup"><span data-stu-id="82847-178">Specifies a Uniform Resource Locator (URL) for the expanded description of the signed content.</span></span>|  
|<span data-ttu-id="82847-179">`/f`  *SignCertFile*</span><span class="sxs-lookup"><span data-stu-id="82847-179">`/f`  *SignCertFile*</span></span>|<span data-ttu-id="82847-180">Especifica o certificado de assinatura em um arquivo.</span><span class="sxs-lookup"><span data-stu-id="82847-180">Specifies the signing certificate in a file.</span></span> <span data-ttu-id="82847-181">Se o arquivo estiver no formato PFX (Personal Information Exchange) e protegido por senha, use a opção `/p` para especificar a senha.</span><span class="sxs-lookup"><span data-stu-id="82847-181">If the file is in Personal Information Exchange (PFX) format and protected by a password, use the `/p` option to specify the password.</span></span> <span data-ttu-id="82847-182">Se o arquivo não contiver chaves privadas, use as opções `/csp` e `/kc` para especificar o CSP e o nome do contêiner de chave privada.</span><span class="sxs-lookup"><span data-stu-id="82847-182">If the file does not contain private keys, use the `/csp` and `/kc` options to specify the CSP and private key container name.</span></span>|  
|`/fd`|<span data-ttu-id="82847-183">Especifica o algoritmo de resumo do arquivo a ser usado na criação de assinaturas de arquivo.</span><span class="sxs-lookup"><span data-stu-id="82847-183">Specifies the file digest algorithm to use for creating file signatures.</span></span> </br> <span data-ttu-id="82847-184">**Observação:** Um aviso será gerado se a `/fd` opção não for fornecida durante a assinatura.</span><span class="sxs-lookup"><span data-stu-id="82847-184">**Note:** A warning is generated if the`/fd` switch is not provided while signing.</span></span> <span data-ttu-id="82847-185">O algoritmo padrão é SHA1, mas SHA256 é recomendado.</span><span class="sxs-lookup"><span data-stu-id="82847-185">The default algorithm is SHA1 but SHA256 is recommended.</span></span>|
|<span data-ttu-id="82847-186">`/fd`  *certHash*</span><span class="sxs-lookup"><span data-stu-id="82847-186">`/fd`  *certHash*</span></span>|<span data-ttu-id="82847-187">A especificação da cadeia de caracteres *certHash* usará como padrão o algoritmo usado no certificado de autenticação.</span><span class="sxs-lookup"><span data-stu-id="82847-187">Specifying the string *certHash* will default to the algorithm used on the signing certificate.</span></span> </br> <span data-ttu-id="82847-188">**Observação:** Somente disponível no Windows 10 kit compila 20236 e posterior.</span><span class="sxs-lookup"><span data-stu-id="82847-188">**Note:** Only available in Windows 10 kit builds 20236 and later.</span></span>|  
|<span data-ttu-id="82847-189">`/i`  *IssuerName*</span><span class="sxs-lookup"><span data-stu-id="82847-189">`/i`  *IssuerName*</span></span>|<span data-ttu-id="82847-190">Especifica o nome do emissor de certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="82847-190">Specifies the name of the issuer of the signing certificate.</span></span> <span data-ttu-id="82847-191">Esse valor pode ser uma subcadeia de caracteres do nome do emissor inteiro.</span><span class="sxs-lookup"><span data-stu-id="82847-191">This value can be a substring of the entire issuer name.</span></span>|  
|<span data-ttu-id="82847-192">`/kc`  *PrivKeyContainerName*</span><span class="sxs-lookup"><span data-stu-id="82847-192">`/kc`  *PrivKeyContainerName*</span></span>|<span data-ttu-id="82847-193">Especifica o nome do contêiner de chave privada.</span><span class="sxs-lookup"><span data-stu-id="82847-193">Specifies the private key container name.</span></span>|  
|<span data-ttu-id="82847-194">`/n`  *SubjectName*</span><span class="sxs-lookup"><span data-stu-id="82847-194">`/n`  *SubjectName*</span></span>|<span data-ttu-id="82847-195">Especifica o nome do assunto do certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="82847-195">Specifies the name of the subject of the signing certificate.</span></span> <span data-ttu-id="82847-196">Esse valor pode ser uma subcadeia de caracteres do nome da entidade inteiro.</span><span class="sxs-lookup"><span data-stu-id="82847-196">This value can be a substring of the entire subject name.</span></span>|  
|`/nph`|<span data-ttu-id="82847-197">Se compatível, suprime hashes de página para arquivos executáveis.</span><span class="sxs-lookup"><span data-stu-id="82847-197">If supported, suppresses page hashes for executable files.</span></span> <span data-ttu-id="82847-198">O padrão é determinado pela variável de ambiente SIGNTOOL_PAGE_HASHES e pela versão de wintrust.dll.</span><span class="sxs-lookup"><span data-stu-id="82847-198">The default is determined by the SIGNTOOL_PAGE_HASHES environment variable and by the wintrust.dll version.</span></span> <span data-ttu-id="82847-199">Essa opção é ignorada para arquivos não PE.</span><span class="sxs-lookup"><span data-stu-id="82847-199">This option is ignored for non-PE files.</span></span>|  
|<span data-ttu-id="82847-200">`/p`  *La*</span><span class="sxs-lookup"><span data-stu-id="82847-200">`/p`  *Password*</span></span>|<span data-ttu-id="82847-201">Especifica a senha a ser usada durante a abertura de um arquivo PFX.</span><span class="sxs-lookup"><span data-stu-id="82847-201">Specifies the password to use when opening a PFX file.</span></span> <span data-ttu-id="82847-202">(Use a opção `/f` para especificar um arquivo PFX).</span><span class="sxs-lookup"><span data-stu-id="82847-202">(Use the `/f` option to specify a PFX file.)</span></span>|  
|<span data-ttu-id="82847-203">`/p7` *Caminho*</span><span class="sxs-lookup"><span data-stu-id="82847-203">`/p7` *Path*</span></span>|<span data-ttu-id="82847-204">Especifica se um arquivo PKCS (Public Key Cryptography Standards) #7 é produzido para cada arquivo de conteúdo especificado.</span><span class="sxs-lookup"><span data-stu-id="82847-204">Specifies that a Public Key Cryptography Standards (PKCS) #7 file is produced for each specified content file.</span></span> <span data-ttu-id="82847-205">Arquivos de #7 PKCS são nomeados *path* \\ *filename*. P7.</span><span class="sxs-lookup"><span data-stu-id="82847-205">PKCS #7 files are named *path*\\*filename*.p7.</span></span>|  
|<span data-ttu-id="82847-206">`/p7ce` *Valor*</span><span class="sxs-lookup"><span data-stu-id="82847-206">`/p7ce` *Value*</span></span>|<span data-ttu-id="82847-207">Especifica opções para o conteúdo de PKCS #7 assinado.</span><span class="sxs-lookup"><span data-stu-id="82847-207">Specifies options for the signed PKCS #7 content.</span></span> <span data-ttu-id="82847-208">Defina *Value* como “Embedded” para inserir o conteúdo assinado no arquivo PKCS #7 ou como “DetachedSignedData” para produzir a parte de dados assinada de um arquivo PKCS #7 desanexado.</span><span class="sxs-lookup"><span data-stu-id="82847-208">Set *Value* to "Embedded" to embed the signed content in the PKCS #7 file, or to "DetachedSignedData" to produce the signed data portion of a detached PKCS #7 file.</span></span> <span data-ttu-id="82847-209">Se a opção `/p7ce` não for usada, o conteúdo assinado será inserido por padrão.</span><span class="sxs-lookup"><span data-stu-id="82847-209">If the `/p7ce` option is not used, the signed content is embedded by default.</span></span>|  
|<span data-ttu-id="82847-210">`/p7co` *\<OID>*</span><span class="sxs-lookup"><span data-stu-id="82847-210">`/p7co` *\<OID>*</span></span>|<span data-ttu-id="82847-211">Especifica o OID (identificador de objeto) que identifica o conteúdo assinado de PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="82847-211">Specifies the object identifier (OID) that identifies the signed PKCS #7 content.</span></span>|  
|`/ph`|<span data-ttu-id="82847-212">Se compatível, gera hashes de página para arquivos executáveis.</span><span class="sxs-lookup"><span data-stu-id="82847-212">If supported, generates page hashes for executable files.</span></span>|  
|<span data-ttu-id="82847-213">`/r`  *RootSubjectName*</span><span class="sxs-lookup"><span data-stu-id="82847-213">`/r`  *RootSubjectName*</span></span>|<span data-ttu-id="82847-214">Especifica o nome do assunto do certificado raiz em que o certificado de assinatura deve ser encadeado.</span><span class="sxs-lookup"><span data-stu-id="82847-214">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="82847-215">Esse valor pode ser uma subcadeia de caracteres do nome de entidade inteiro do certificado raiz.</span><span class="sxs-lookup"><span data-stu-id="82847-215">This value may be a substring of the entire subject name of the root certificate.</span></span>|  
|<span data-ttu-id="82847-216">`/s`  *StoreName*</span><span class="sxs-lookup"><span data-stu-id="82847-216">`/s`  *StoreName*</span></span>|<span data-ttu-id="82847-217">Especifica o armazenamento a ser aberto durante a pesquisa pelo certificado.</span><span class="sxs-lookup"><span data-stu-id="82847-217">Specifies the store to open when searching for the certificate.</span></span> <span data-ttu-id="82847-218">Se essa opção não for especificada, o armazenamento `My` será aberto.</span><span class="sxs-lookup"><span data-stu-id="82847-218">If this option is not specified, the `My` store is opened.</span></span>|  
|<span data-ttu-id="82847-219">`/sha1`  *Tralha*</span><span class="sxs-lookup"><span data-stu-id="82847-219">`/sha1`  *Hash*</span></span>|<span data-ttu-id="82847-220">Especifica o hash SHA1 do certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="82847-220">Specifies the SHA1 hash of the signing certificate.</span></span> <span data-ttu-id="82847-221">O hash SHA1 costuma ser especificado quando vários certificados atendem aos critérios especificados pelas opções restantes.</span><span class="sxs-lookup"><span data-stu-id="82847-221">The SHA1 hash is commonly specified when multiple certificates satisfy the criteria specified by the remaining switches.</span></span>|  
|`/sm`|<span data-ttu-id="82847-222">Especifica se um armazenamento do computador, em vez de um armazenamento de usuário, é usado.</span><span class="sxs-lookup"><span data-stu-id="82847-222">Specifies that a machine store, instead of a user store, is used.</span></span>|  
|<span data-ttu-id="82847-223">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="82847-223">`/t`  *URL*</span></span>|<span data-ttu-id="82847-224">Especifica a URL do servidor de carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="82847-224">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="82847-225">Se essa opção (ou `/tr`) não estiver presente, o arquivo assinado não receberá carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="82847-225">If this option (or `/tr`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="82847-226">Um aviso será gerado se o carimbo de data/hora falhar.</span><span class="sxs-lookup"><span data-stu-id="82847-226">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="82847-227">Essa opção não pode ser usada com a opção `/tr`.</span><span class="sxs-lookup"><span data-stu-id="82847-227">This option cannot be used with the `/tr` option.</span></span>|  
|<span data-ttu-id="82847-228">`/td`  *ALG*</span><span class="sxs-lookup"><span data-stu-id="82847-228">`/td`  *alg*</span></span>|<span data-ttu-id="82847-229">Usado com a opção `/tr` para solicitar um algoritmo de resumo usado pelo servidor do carimbo de data/hora RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="82847-229">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="82847-230">**Observação:** Um aviso será gerado se a `/td` opção não for fornecida durante o carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="82847-230">**Note:** A warning is generated if the `/td` switch is not provided while timestamping.</span></span> <span data-ttu-id="82847-231">O algoritmo padrão é SHA1, mas SHA256 é recomendado.</span><span class="sxs-lookup"><span data-stu-id="82847-231">The default algorithm is SHA1, but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="82847-232">A `/td` opção deve ser declarada após a `/tr` opção, não antes de.</span><span class="sxs-lookup"><span data-stu-id="82847-232">The `/td` switch must be declared after the `/tr` switch, not before.</span></span> <span data-ttu-id="82847-233">Se a `/td` opção for declarada antes da `/tr` opção, o carimbo de data/hora retornado será do algoritmo SHA1 em vez do algoritmo SHA256 pretendido.</span><span class="sxs-lookup"><span data-stu-id="82847-233">If the `/td` switch is declared before the `/tr` switch, the timestamp that is returned is from the SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="82847-234">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="82847-234">`/tr`  *URL*</span></span>|<span data-ttu-id="82847-235">Especifica a URL do servidor do carimbo de data/hora RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="82847-235">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="82847-236">Se essa opção (ou `/t`) não estiver presente, o arquivo assinado não receberá carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="82847-236">If this option (or `/t`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="82847-237">Um aviso será gerado se o carimbo de data/hora falhar.</span><span class="sxs-lookup"><span data-stu-id="82847-237">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="82847-238">Essa opção não pode ser usada com a opção `/t`.</span><span class="sxs-lookup"><span data-stu-id="82847-238">This option cannot be used with the `/t` option.</span></span>|
|<span data-ttu-id="82847-239">`/u`  *Uso*</span><span class="sxs-lookup"><span data-stu-id="82847-239">`/u`  *Usage*</span></span>|<span data-ttu-id="82847-240">Especifica o EKU (uso avançado de chave) que deve estar presente no certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="82847-240">Specifies the enhanced key usage (EKU) that must be present in the signing certificate.</span></span> <span data-ttu-id="82847-241">O valor de uso pode ser especificado por OID ou por cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="82847-241">The usage value can be specified by OID or string.</span></span> <span data-ttu-id="82847-242">O uso padrão é "Assinatura de Código" (1.3.6.1.5.5.7.3.3).</span><span class="sxs-lookup"><span data-stu-id="82847-242">The default usage is "Code Signing" (1.3.6.1.5.5.7.3.3).</span></span>|  
|`/uw`|<span data-ttu-id="82847-243">Especifica o uso da "Verificação do Componente do Sistema Windows" (1.3.6.1.4.1.311.10.3.6).</span><span class="sxs-lookup"><span data-stu-id="82847-243">Specifies usage of "Windows System Component Verification" (1.3.6.1.4.1.311.10.3.6).</span></span>|  
  
 <span data-ttu-id="82847-244">Para obter exemplos de uso, consulte [Using SignTool to Sign a File](/windows/desktop/SecCrypto/using-signtool-to-sign-a-file) (Usando a SignTool para assinar um arquivo).</span><span class="sxs-lookup"><span data-stu-id="82847-244">For usage examples, see [Using SignTool to Sign a File](/windows/desktop/SecCrypto/using-signtool-to-sign-a-file).</span></span>  
  
<a name="TimeStamp"></a>
## <a name="timestamp-command-options"></a><span data-ttu-id="82847-245">Opções de Comando TimeStamp</span><span class="sxs-lookup"><span data-stu-id="82847-245">TimeStamp Command Options</span></span>  
 <span data-ttu-id="82847-246">A tabela a seguir lista as opções que podem ser usadas com o comando `TimeStamp`.</span><span class="sxs-lookup"><span data-stu-id="82847-246">The following table lists the options that can be used with the `TimeStamp` command.</span></span>  
  
|<span data-ttu-id="82847-247">Opção do carimbo de data/hora</span><span class="sxs-lookup"><span data-stu-id="82847-247">TimeStamp option</span></span>|<span data-ttu-id="82847-248">Descrição</span><span class="sxs-lookup"><span data-stu-id="82847-248">Description</span></span>|  
|----------------------|-----------------|  
|`/p7`|<span data-ttu-id="82847-249">Arquivos PKCS #7 do carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="82847-249">Time stamps PKCS #7 files.</span></span>|  
|<span data-ttu-id="82847-250">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="82847-250">`/t`  *URL*</span></span>|<span data-ttu-id="82847-251">Especifica a URL do servidor de carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="82847-251">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="82847-252">O arquivo com carimbo de data/hora assinado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="82847-252">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="82847-253">A opção `/t` ou `/tr` é obrigatória.</span><span class="sxs-lookup"><span data-stu-id="82847-253">Either the `/t` or the `/tr` option is required.</span></span>|  
|<span data-ttu-id="82847-254">`/td`  *ALG*</span><span class="sxs-lookup"><span data-stu-id="82847-254">`/td`  *alg*</span></span>|<span data-ttu-id="82847-255">Usado com a opção `/tr` para solicitar um algoritmo de resumo usado pelo servidor do carimbo de data/hora RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="82847-255">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="82847-256">**Observação:** Um aviso será gerado se a `/td` opção não for fornecida durante o carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="82847-256">**Note:** A warning is generated if the `/td` switch is not provided while timestamping.</span></span> <span data-ttu-id="82847-257">O algoritmo padrão é SHA1, mas SHA256 é recomendado.</span><span class="sxs-lookup"><span data-stu-id="82847-257">The default algorithm is SHA1, but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="82847-258">A `/td` opção deve ser declarada após a `/tr` opção, não antes de.</span><span class="sxs-lookup"><span data-stu-id="82847-258">The `/td` switch must be declared after the `/tr` switch, not before.</span></span> <span data-ttu-id="82847-259">Se a `/td` opção for declarada antes da `/tr` opção, o carimbo de data/hora retornado será do algoritmo SHA1 em vez do algoritmo SHA256 pretendido.</span><span class="sxs-lookup"><span data-stu-id="82847-259">If the `/td` switch is declared before the `/tr` switch, the timestamp that is returned is from the SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="82847-260">`/tp`*índice* do</span><span class="sxs-lookup"><span data-stu-id="82847-260">`/tp` *index*</span></span>|<span data-ttu-id="82847-261">Marca com o carimbo de data/hora a assinatura em *index*.</span><span class="sxs-lookup"><span data-stu-id="82847-261">Time stamps the signature at *index*.</span></span>|  
|<span data-ttu-id="82847-262">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="82847-262">`/tr`  *URL*</span></span>|<span data-ttu-id="82847-263">Especifica a URL do servidor do carimbo de data/hora RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="82847-263">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="82847-264">O arquivo com carimbo de data/hora assinado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="82847-264">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="82847-265">A opção `/tr` ou `/t` é obrigatória.</span><span class="sxs-lookup"><span data-stu-id="82847-265">Either the `/tr` or the `/t` option is required.</span></span>|  
  
 <span data-ttu-id="82847-266">Para obter um exemplo de uso, consulte [Adding Time Stamps to Previously Signed Files](/windows/desktop/SecCrypto/adding-time-stamps-to-previously-signed-files) (Adicionar carimbos de data/hora aos arquivos assinados anteriormente).</span><span class="sxs-lookup"><span data-stu-id="82847-266">For a usage example, see [Adding Time Stamps to Previously Signed Files](/windows/desktop/SecCrypto/adding-time-stamps-to-previously-signed-files).</span></span>  
  
<a name="Verify"></a>
## <a name="verify-command-options"></a><span data-ttu-id="82847-267">Verificar Opções de Comando</span><span class="sxs-lookup"><span data-stu-id="82847-267">Verify Command Options</span></span>  
  
|<span data-ttu-id="82847-268">Opção Verificar</span><span class="sxs-lookup"><span data-stu-id="82847-268">Verify option</span></span>|<span data-ttu-id="82847-269">Descrição</span><span class="sxs-lookup"><span data-stu-id="82847-269">Description</span></span>|  
|-------------------|-----------------|  
|`/a`|<span data-ttu-id="82847-270">Especifica que todos os métodos podem ser usados na verificação do arquivo.</span><span class="sxs-lookup"><span data-stu-id="82847-270">Specifies that all methods can be used to verify the file.</span></span> <span data-ttu-id="82847-271">Primeiro, os bancos de dados do catálogo são pesquisados para determinar se o arquivo está assinado em um catálogo.</span><span class="sxs-lookup"><span data-stu-id="82847-271">First, the catalog databases are searched to determine whether the file is signed in a catalog.</span></span> <span data-ttu-id="82847-272">Se o arquivo não estiver assinado em nenhum catálogo, a Ferramenta de Assinatura tentará verificar a assinatura inserida no arquivo.</span><span class="sxs-lookup"><span data-stu-id="82847-272">If the file is not signed in any catalog, Sign Tool attempts to verify the file's embedded signature.</span></span> <span data-ttu-id="82847-273">Essa opção é recomendada durante a verificação de arquivos que podem estar ou não assinados em um catálogo.</span><span class="sxs-lookup"><span data-stu-id="82847-273">This option is recommended when verifying files that may or may not be signed in a catalog.</span></span> <span data-ttu-id="82847-274">Entre os exemplos desses arquivos estão arquivos ou drivers do Windows.</span><span class="sxs-lookup"><span data-stu-id="82847-274">Examples of these files include Windows files or drivers.</span></span>|  
|`/ad`|<span data-ttu-id="82847-275">Encontra o catálogo usando o banco de dados do catálogo padrão.</span><span class="sxs-lookup"><span data-stu-id="82847-275">Finds the catalog by using the default catalog database.</span></span>|  
|<span data-ttu-id="82847-276">`/ag` *CatDBGUID*</span><span class="sxs-lookup"><span data-stu-id="82847-276">`/ag` *CatDBGUID*</span></span>|<span data-ttu-id="82847-277">Encontra o catálogo no banco de dados de catálogos identificado pelo *CatDBGUID*.</span><span class="sxs-lookup"><span data-stu-id="82847-277">Finds the catalog in the catalog database that is identified by the *CatDBGUID*.</span></span>|  
|`/all`|<span data-ttu-id="82847-278">Verifica todas as assinaturas em um arquivo que inclui várias assinaturas.</span><span class="sxs-lookup"><span data-stu-id="82847-278">Verifies all signatures in a file that includes multiple signatures.</span></span>|  
|`/as`|<span data-ttu-id="82847-279">Encontra o catálogo usando o banco de dados do catálogo do componente de sistema (driver).</span><span class="sxs-lookup"><span data-stu-id="82847-279">Finds the catalog by using the system component (driver) catalog database.</span></span>|  
|<span data-ttu-id="82847-280">`/c` *CatFile*</span><span class="sxs-lookup"><span data-stu-id="82847-280">`/c` *CatFile*</span></span>|<span data-ttu-id="82847-281">Especifica o arquivo de catálogo por nome.</span><span class="sxs-lookup"><span data-stu-id="82847-281">Specifies the catalog file by name.</span></span>|  
|`/d`|<span data-ttu-id="82847-282">Especifica se a Ferramenta de Assinatura deve imprimir a descrição e a URL da descrição.</span><span class="sxs-lookup"><span data-stu-id="82847-282">Specifies that Sign Tool should print the description and the description URL.</span></span>|  
|<span data-ttu-id="82847-283">`/ds`  *Índice*</span><span class="sxs-lookup"><span data-stu-id="82847-283">`/ds`  *Index*</span></span>|<span data-ttu-id="82847-284">Verifica a assinatura em uma posição especificada.</span><span class="sxs-lookup"><span data-stu-id="82847-284">Verifies the signature at a specified position.</span></span>|  
|<span data-ttu-id="82847-285">`/hash` (`SHA1`&#124;`SHA256`)</span><span class="sxs-lookup"><span data-stu-id="82847-285">`/hash` (`SHA1`&#124;`SHA256`)</span></span>|<span data-ttu-id="82847-286">Especifica um algoritmo de hash opcional a ser usado durante a procura de um arquivo em um catálogo.</span><span class="sxs-lookup"><span data-stu-id="82847-286">Specifies an optional hash algorithm to use when searching for a file in a catalog.</span></span>|  
|`/kp`|<span data-ttu-id="82847-287">Especifica se a verificação deve ser realizada com a política de assinatura do driver do modo kernel.</span><span class="sxs-lookup"><span data-stu-id="82847-287">Specifies that verification should be performed with the kernel-mode driver signing policy.</span></span>|  
|`/ms`|<span data-ttu-id="82847-288">Usa várias semânticas de verificação.</span><span class="sxs-lookup"><span data-stu-id="82847-288">Uses multiple verification semantics.</span></span> <span data-ttu-id="82847-289">Esse é o comportamento padrão de uma chamada [WinVerifyTrust](/windows/desktop/api/wintrust/nf-wintrust-winverifytrust) no Windows 8 e versões posteriores.</span><span class="sxs-lookup"><span data-stu-id="82847-289">This is the default behavior of a [WinVerifyTrust](/windows/desktop/api/wintrust/nf-wintrust-winverifytrust) call on Windows 8 and above.</span></span>|  
|<span data-ttu-id="82847-290">`/o` *Versão*</span><span class="sxs-lookup"><span data-stu-id="82847-290">`/o` *Version*</span></span>|<span data-ttu-id="82847-291">Verifica o arquivo pela versão do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="82847-291">Verifies the file by operating system version.</span></span> <span data-ttu-id="82847-292">*Version* tem o seguinte formato: *PlatformID* : *VerMajor*. *VerMinor*. *BuildNumber*.</span><span class="sxs-lookup"><span data-stu-id="82847-292">*Version* has the following form: *PlatformID* : *VerMajor*. *VerMinor*. *BuildNumber*.</span></span> <span data-ttu-id="82847-293">*PlatformID* representa o valor subjacente de um membro de enumeração <xref:System.PlatformID>.</span><span class="sxs-lookup"><span data-stu-id="82847-293">*PlatformID* represents the underlying value of a <xref:System.PlatformID> enumeration member.</span></span> <span data-ttu-id="82847-294">**Importante:** o uso da opção `/o` é recomendado.</span><span class="sxs-lookup"><span data-stu-id="82847-294">**Important:**  The use of the `/o` switch is recommended.</span></span> <span data-ttu-id="82847-295">Se `/o` não for especificado, SignTool.exe poderá retornar resultados inesperados.</span><span class="sxs-lookup"><span data-stu-id="82847-295">If `/o` is not specified, SignTool.exe may return unexpected results.</span></span> <span data-ttu-id="82847-296">Por exemplo, se você não incluir a opção `/o`, os catálogos do sistema validados corretamente em um sistema operacional anterior poderá não ser validado corretamente em um sistema operacional mais novo.</span><span class="sxs-lookup"><span data-stu-id="82847-296">For example, if you do not include the `/o` switch, system catalogs that validate correctly on an older operating system may not validate correctly on a newer operating system.</span></span>|  
|`/p7`|<span data-ttu-id="82847-297">Verifica arquivos PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="82847-297">Verifies PKCS #7 files.</span></span> <span data-ttu-id="82847-298">Nenhuma política existente é usada na validação de PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="82847-298">No existing policies are used for PKCS #7 validation.</span></span> <span data-ttu-id="82847-299">A assinatura é verificada e uma cadeia é compilada para o certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="82847-299">The signature is checked and a chain is built for the signing certificate.</span></span>|  
|`/pa`|<span data-ttu-id="82847-300">Especifica se a Política de Verificação de Authenticode Padrão deve ser usada.</span><span class="sxs-lookup"><span data-stu-id="82847-300">Specifies that the Default Authenticode Verification Policy should be used.</span></span> <span data-ttu-id="82847-301">Se a opção `/pa` não for especificada, a Ferramenta de Assinatura usará a Política de Verificação de Driver do Windows.</span><span class="sxs-lookup"><span data-stu-id="82847-301">If the `/pa` option is not specified, Sign Tool uses the Windows Driver Verification Policy.</span></span> <span data-ttu-id="82847-302">Essa opção não pode ser usada com as opções `catdb`.</span><span class="sxs-lookup"><span data-stu-id="82847-302">This option cannot be used with the `catdb` options.</span></span>|  
|<span data-ttu-id="82847-303">`/pg` *PolicyGUID*</span><span class="sxs-lookup"><span data-stu-id="82847-303">`/pg` *PolicyGUID*</span></span>|<span data-ttu-id="82847-304">Especifica uma política de verificação por GUID.</span><span class="sxs-lookup"><span data-stu-id="82847-304">Specifies a verification policy by GUID.</span></span> <span data-ttu-id="82847-305">O *PolicyGUID* corresponde à ActionID da política de verificação.</span><span class="sxs-lookup"><span data-stu-id="82847-305">The *PolicyGUID* corresponds to the ActionID of the verification policy.</span></span> <span data-ttu-id="82847-306">Essa opção não pode ser usada com as opções `catdb`.</span><span class="sxs-lookup"><span data-stu-id="82847-306">This option cannot be used with the `catdb` options.</span></span>|  
|`/ph`|<span data-ttu-id="82847-307">Especifica se a Ferramenta de Assinatura deve imprimir e verificar valores de hash da página.</span><span class="sxs-lookup"><span data-stu-id="82847-307">Specifies that Sign Tool should print and verify page hash values.</span></span>|  
|<span data-ttu-id="82847-308">`/r` *RootSubjectName*</span><span class="sxs-lookup"><span data-stu-id="82847-308">`/r` *RootSubjectName*</span></span>|<span data-ttu-id="82847-309">Especifica o nome do assunto do certificado raiz em que o certificado de assinatura deve ser encadeado.</span><span class="sxs-lookup"><span data-stu-id="82847-309">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="82847-310">Esse valor pode ser uma subcadeia de caracteres do nome da entidade inteiro do certificado raiz.</span><span class="sxs-lookup"><span data-stu-id="82847-310">This value can be a substring of the entire subject name of the root certificate.</span></span>|  
|`/tw`|<span data-ttu-id="82847-311">Especifica se um aviso deverá ser gerado se a assinatura não receber carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="82847-311">Specifies that a warning should be generated if the signature is not time stamped.</span></span>|  
  
 <span data-ttu-id="82847-312">Para obter exemplos de uso, consulte [Using SignTool to Verify a File Signature](/windows/desktop/SecCrypto/using-signtool-to-verify-a-file-signature) (Usando SignTool para verificar a assinatura de um arquivo).</span><span class="sxs-lookup"><span data-stu-id="82847-312">For usage examples, see [Using SignTool to Verify a File Signature](/windows/desktop/SecCrypto/using-signtool-to-verify-a-file-signature).</span></span>  
  
## <a name="return-value"></a><span data-ttu-id="82847-313">Valor Retornado</span><span class="sxs-lookup"><span data-stu-id="82847-313">Return Value</span></span>  
 <span data-ttu-id="82847-314">A Ferramenta de Assinatura retorna um dos códigos de saída a seguir quando é encerrada.</span><span class="sxs-lookup"><span data-stu-id="82847-314">Sign Tool returns one of the following exit codes when it terminates.</span></span>  
  
|<span data-ttu-id="82847-315">Código de saída</span><span class="sxs-lookup"><span data-stu-id="82847-315">Exit code</span></span>|<span data-ttu-id="82847-316">Descrição</span><span class="sxs-lookup"><span data-stu-id="82847-316">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="82847-317">0</span><span class="sxs-lookup"><span data-stu-id="82847-317">0</span></span>|<span data-ttu-id="82847-318">A execução foi bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="82847-318">Execution was successful.</span></span>|  
|<span data-ttu-id="82847-319">1</span><span class="sxs-lookup"><span data-stu-id="82847-319">1</span></span>|<span data-ttu-id="82847-320">A execução falhou.</span><span class="sxs-lookup"><span data-stu-id="82847-320">Execution has failed.</span></span>|  
|<span data-ttu-id="82847-321">2</span><span class="sxs-lookup"><span data-stu-id="82847-321">2</span></span>|<span data-ttu-id="82847-322">A execução foi concluída com avisos.</span><span class="sxs-lookup"><span data-stu-id="82847-322">Execution has completed with warnings.</span></span>|  

## <a name="examples"></a><span data-ttu-id="82847-323">Exemplos</span><span class="sxs-lookup"><span data-stu-id="82847-323">Examples</span></span>  
 <span data-ttu-id="82847-324">O comando a seguir adiciona o arquivo de catálogo MyCatalogFileName.cat aos bancos de dados do componente e de driver do sistema.</span><span class="sxs-lookup"><span data-stu-id="82847-324">The following command adds the catalog file MyCatalogFileName.cat to the system component and driver database.</span></span> <span data-ttu-id="82847-325">A opção `/u` gera um nome exclusivo, se necessário, para evitar a substituição de um arquivo de catálogo existente chamado `MyCatalogFileName.cat`.</span><span class="sxs-lookup"><span data-stu-id="82847-325">The `/u` option generates a unique name if necessary to prevent replacing an existing catalog file named `MyCatalogFileName.cat`.</span></span>  
  
```console  
signtool catdb /v /u MyCatalogFileName.cat  
```  
  
 <span data-ttu-id="82847-326">O comando a seguir assina um arquivo automaticamente usando-se o melhor certificado.</span><span class="sxs-lookup"><span data-stu-id="82847-326">The following command signs a file automatically by using the best certificate.</span></span>  
  
```console
signtool sign /a /fd SHA256 MyFile.exe
```

 <span data-ttu-id="82847-327">O comando a seguir assina digitalmente um arquivo usando um certificado armazenado em um arquivo PFX protegido por senha.</span><span class="sxs-lookup"><span data-stu-id="82847-327">The following command digitally signs a file by using a certificate stored in a password-protected PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /p MyPassword /fd SHA256 MyFile.exe
```  
  
 <span data-ttu-id="82847-328">O comando a seguir assina digitalmente e coloca carimbos de data/hora em um arquivo.</span><span class="sxs-lookup"><span data-stu-id="82847-328">The following command digitally signs and time-stamps a file.</span></span> <span data-ttu-id="82847-329">O certificado usado para assinar o arquivo é armazenado em um arquivo PFX.</span><span class="sxs-lookup"><span data-stu-id="82847-329">The certificate used to sign the file is stored in a PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /t http://timestamp.digicert.com /fd SHA256 MyFile.exe
```  
  
 <span data-ttu-id="82847-330">O comando a seguir assina um arquivo usando um certificado localizado no armazenamento `My` que tem um nome de entidade de `My Company Certificate`.</span><span class="sxs-lookup"><span data-stu-id="82847-330">The following command signs a file by using a certificate located in the `My` store that has a subject name of `My Company Certificate`.</span></span>  
  
```console  
signtool sign /n "My Company Certificate" /fd SHA256 MyFile.exe
```  
  
 <span data-ttu-id="82847-331">O comando a seguir assina um controle ActiveX e fornece informações exibidas pelo Internet Explorer quando o usuário deve instalar o controle.</span><span class="sxs-lookup"><span data-stu-id="82847-331">The following command signs an ActiveX control and provides information that is displayed by Internet Explorer when the user is prompted to install the control.</span></span>  
  
```console  
Signtool sign /f MyCert.pfx /d: "MyControl" /du http://www.example.com/MyControl/info.html /fd SHA256 MyControl.exe
```  
  
 <span data-ttu-id="82847-332">O comando a seguir marca um arquivo com carimbos de data/hora já assinado digitalmente.</span><span class="sxs-lookup"><span data-stu-id="82847-332">The following command time-stamps a file that has already been digitally signed.</span></span>  
  
```console  
signtool timestamp /t http://timestamp.digicert.com MyFile.exe
```  

<span data-ttu-id="82847-333">O tempo de comando a seguir carimba um arquivo usando um servidor de carimbo de data/hora RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="82847-333">The following command time-stamps a file using an RFC 3161 timestamp server.</span></span>  
  
```console  
signtool timestamp /tr http://timestamp.digicert.com /td SHA256 MyFile.exe
```  
  
 <span data-ttu-id="82847-334">O comando a seguir verifica se um arquivo foi assinado.</span><span class="sxs-lookup"><span data-stu-id="82847-334">The following command verifies that a file has been signed.</span></span>  
  
```console  
signtool verify MyFile.exe  
```  
  
 <span data-ttu-id="82847-335">O comando a seguir verifica um arquivo de sistema que pode ser assinado em um catálogo.</span><span class="sxs-lookup"><span data-stu-id="82847-335">The following command verifies a system file that may be signed in a catalog.</span></span>  
  
```console  
signtool verify /a SystemFile.dll  
```  
  
 <span data-ttu-id="82847-336">O comando a seguir verifica um arquivo de sistema assinado em um catálogo chamado `MyCatalog.cat`.</span><span class="sxs-lookup"><span data-stu-id="82847-336">The following command verifies a system file that is signed in a catalog named `MyCatalog.cat`.</span></span>  
  
```console  
signtool verify /c MyCatalog.cat SystemFile.dll  
```  
  
## <a name="see-also"></a><span data-ttu-id="82847-337">Veja também</span><span class="sxs-lookup"><span data-stu-id="82847-337">See also</span></span>

- [<span data-ttu-id="82847-338">Ferramentas</span><span class="sxs-lookup"><span data-stu-id="82847-338">Tools</span></span>](index.md)
- [<span data-ttu-id="82847-339">Prompts de comando</span><span class="sxs-lookup"><span data-stu-id="82847-339">Command Prompts</span></span>](developer-command-prompt-for-vs.md)
