---
title: Mage.exe (Ferramenta de Geração e Edição de Manifesto)
ms.date: 12/06/2018
helpviewer_keywords:
- Manifest Generation and Editing tool
- Mage.exe
ms.assetid: 77dfe576-2962-407e-af13-82255df725a1
ms.openlocfilehash: 2109c764d0143a843f75fc0c14cc0d09550efd85
ms.sourcegitcommit: c4e9d05644c9cb89de5ce6002723de107ea2e2c4
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/19/2019
ms.locfileid: "65877569"
---
# <a name="mageexe-manifest-generation-and-editing-tool"></a><span data-ttu-id="aa5a2-102">Mage.exe (Ferramenta de Geração e Edição de Manifesto)</span><span class="sxs-lookup"><span data-stu-id="aa5a2-102">Mage.exe (Manifest Generation and Editing Tool)</span></span>

<span data-ttu-id="aa5a2-103">A Manifest Generation and Editing Tool (*Mage.exe*) é uma ferramenta de linha de comando compatível com a criação e a edição dos manifestos de aplicativo e implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-103">The Manifest Generation and Editing Tool (*Mage.exe*) is a command-line tool that supports the creation and editing of application and deployment manifests.</span></span> <span data-ttu-id="aa5a2-104">Como uma ferramenta de linha de comando, *Mage.exe* pode ser executado com base tanto em scripts de lote quanto em aplicativos com base no Windows, inclusive aplicativos do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-104">As a command-line tool, *Mage.exe* can be run from both batch scripts and other Windows-based applications, including ASP.NET applications.</span></span>

<span data-ttu-id="aa5a2-105">Também é possível usar *MageUI.exe*, um aplicativo gráfico, em vez de *Mage.exe*.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-105">You can also use *MageUI.exe*, a graphical application, instead of *Mage.exe*.</span></span> <span data-ttu-id="aa5a2-106">Para obter mais informações, consulte [MageUI.exe (Manifest Generation and Editing Tool, Cliente Gráfico)](../../../docs/framework/tools/mageui-exe-manifest-generation-and-editing-tool-graphical-client.md).</span><span class="sxs-lookup"><span data-stu-id="aa5a2-106">For more information, see [MageUI.exe (Manifest Generation and Editing Tool, Graphical Client)](../../../docs/framework/tools/mageui-exe-manifest-generation-and-editing-tool-graphical-client.md).</span></span>

<span data-ttu-id="aa5a2-107">Essa ferramenta é instalada automaticamente com o Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-107">This tool is automatically installed with Visual Studio.</span></span> <span data-ttu-id="aa5a2-108">Para executar a ferramenta, use o Prompt de Comando do Desenvolvedor para Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-108">To run the tool, use Developer Command Prompt for Visual Studio.</span></span> <span data-ttu-id="aa5a2-109">Para obter mais informações, consulte [Prompts de Comando](../../../docs/framework/tools/developer-command-prompt-for-vs.md).</span><span class="sxs-lookup"><span data-stu-id="aa5a2-109">For more information, see [Command Prompts](../../../docs/framework/tools/developer-command-prompt-for-vs.md).</span></span>

<span data-ttu-id="aa5a2-110">Duas versões do *Mage.exe* e *MageUI.exe* são incluídas no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-110">Two versions of *Mage.exe* and *MageUI.exe* are included with Visual Studio.</span></span> <span data-ttu-id="aa5a2-111">Para ver informações da versão, execute *MageUI.exe*, selecione **Ajuda** e então selecione **Sobre**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-111">To see version information, run *MageUI.exe*, select **Help**, and select **About**.</span></span> <span data-ttu-id="aa5a2-112">Esta documentação descreve a versão 4.0.x.x do *Mage.exe* e do *MageUI.exe*.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-112">This documentation describes version 4.0.x.x of *Mage.exe* and *MageUI.exe*.</span></span>

## <a name="syntax"></a><span data-ttu-id="aa5a2-113">Sintaxe</span><span class="sxs-lookup"><span data-stu-id="aa5a2-113">Syntax</span></span>

```console
Mage [commands] [commandOptions]
```

## <a name="parameters"></a><span data-ttu-id="aa5a2-114">Parâmetros</span><span class="sxs-lookup"><span data-stu-id="aa5a2-114">Parameters</span></span>

<span data-ttu-id="aa5a2-115">A tabela a seguir mostra os comandos compatíveis com *Mage.exe*.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-115">The following table shows the commands supported by *Mage.exe*.</span></span> <span data-ttu-id="aa5a2-116">Para obter mais informações sobre as opções compatíveis com esses comandos, confira [Opções de comando novas e atualizadas](#new-and-update-command-options) e [Opções do comando de entrada](#sign-command-options).</span><span class="sxs-lookup"><span data-stu-id="aa5a2-116">For more information about the options supported by these commands, see [New and Update command options](#new-and-update-command-options) and [Sign command options](#sign-command-options).</span></span>

|<span data-ttu-id="aa5a2-117">Comando</span><span class="sxs-lookup"><span data-stu-id="aa5a2-117">Command</span></span>|<span data-ttu-id="aa5a2-118">Descrição</span><span class="sxs-lookup"><span data-stu-id="aa5a2-118">Description</span></span>|
|-------------|-----------------|
|<span data-ttu-id="aa5a2-119">**-cc, ClearApplicationCache**</span><span class="sxs-lookup"><span data-stu-id="aa5a2-119">**-cc, ClearApplicationCache**</span></span>|<span data-ttu-id="aa5a2-120">Limpa o cache do aplicativo baixado somente de todos os aplicativos online.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-120">Clears the downloaded application cache of all online-only applications.</span></span>|
|<span data-ttu-id="aa5a2-121">**-n, -New** *fileType [newOptions]*</span><span class="sxs-lookup"><span data-stu-id="aa5a2-121">**-n, -New** *fileType [newOptions]*</span></span>|<span data-ttu-id="aa5a2-122">Cria um novo arquivo do tipo indicado.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-122">Creates a new file of the given type.</span></span> <span data-ttu-id="aa5a2-123">Os tipos válidos são:</span><span class="sxs-lookup"><span data-stu-id="aa5a2-123">Valid types are:</span></span><br /><br /> <span data-ttu-id="aa5a2-124">-   `Deployment`: Cria um novo manifesto de implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-124">-   `Deployment`: Creates a new deployment manifest.</span></span><br /><span data-ttu-id="aa5a2-125">-   `Application`: Cria um novo manifesto de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-125">-   `Application`: Creates a new application manifest.</span></span><br /><br /> <span data-ttu-id="aa5a2-126">Se você não especificar parâmetros adicionais com esse comando, ele criará um arquivo do tipo apropriado, com as marcas padrão adequadas e os valores de atributo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-126">If you do not specify any additional parameters with this command, it will create a file of the appropriate type, with appropriate default tags and attribute values.</span></span><br /><br /> <span data-ttu-id="aa5a2-127">Use a opção **-ToFile** (consulte na tabela a seguir) para especificar o nome e o caminho do arquivo novo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-127">Use the **-ToFile** option (see in the following table) to specify the file name and path of the new file.</span></span><br /><br /> <span data-ttu-id="aa5a2-128">Use a opção **-FromDirectory** (consulte na tabela a seguir) para criar um manifesto do aplicativo com todos os assemblies de um aplicativo adicionado à seção \<dependency> do manifesto.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-128">Use the **-FromDirectory** option (see in the following table) to create an application manifest with all of the assemblies for an application added to the \<dependency> section of the manifest.</span></span>|
|<span data-ttu-id="aa5a2-129">**-u, -Update** *[filePath] [updateOptions]*</span><span class="sxs-lookup"><span data-stu-id="aa5a2-129">**-u, -Update** *[filePath] [updateOptions]*</span></span>|<span data-ttu-id="aa5a2-130">Faz uma ou mais alterações em um arquivo de manifesto.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-130">Makes one or more changes to a manifest file.</span></span> <span data-ttu-id="aa5a2-131">Você não precisa especificar o tipo de arquivo que está editando.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-131">You do not have to specify the type of file that you are editing.</span></span> <span data-ttu-id="aa5a2-132">Mage.exe examinará o arquivo usando um conjunto de heurística e determinará se ele é um manifesto de implantação ou um manifesto de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-132">Mage.exe will examine the file by using a set of heuristics and determine whether it is a deployment manifest or an application manifest.</span></span><br /><br /> <span data-ttu-id="aa5a2-133">Se você já tiver assinado um arquivo com um certificado, **-Update** removerá o bloco de assinatura chave.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-133">If you have already signed a file with a certificate, **-Update** will remove the key signature block.</span></span> <span data-ttu-id="aa5a2-134">Isso é porque a assinatura-chave contém um hash do arquivo e a modificação do arquivo invalida o hash.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-134">This is because the key signature contains a hash of the file, and modifying the file renders the hash invalid.</span></span><br /><br /> <span data-ttu-id="aa5a2-135">Use a opção **-ToFile** (consulte na tabela a seguir) para especificar um novo nome e caminho de arquivo, em vez de substituir o arquivo existente.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-135">Use the **-ToFile** option (see in the following table) to specify a new file name and path instead of overwriting the existing file.</span></span>|
|<span data-ttu-id="aa5a2-136">**-s, -Sign** `[signOptions]`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-136">**-s, -Sign** `[signOptions]`</span></span>|<span data-ttu-id="aa5a2-137">Usa um par de chaves ou um certificado X509 para assinar um arquivo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-137">Uses a key pair or X509 certificate to sign a file.</span></span> <span data-ttu-id="aa5a2-138">As assinaturas são inseridas como elementos XML nos arquivos.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-138">Signatures are inserted as XML elements inside of the files.</span></span><br /><br /> <span data-ttu-id="aa5a2-139">Você deve estar conectado à Internet ao assinar um manifesto que especifica um valor **-TimestampUri**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-139">You must be connected to the Internet when signing a manifest that specifies a **-TimestampUri** value.</span></span>|
|<span data-ttu-id="aa5a2-140">**-ver, -Verify** *[nomedoarquivo-manifesto]*</span><span class="sxs-lookup"><span data-stu-id="aa5a2-140">**-ver, -Verify** *[manifest-filename]*</span></span>|<span data-ttu-id="aa5a2-141">Verifica se o manifesto está assinado corretamente.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-141">Verifies that the manifest is signed correctly.</span></span> <span data-ttu-id="aa5a2-142">Não pode ser combinada com outros comandos.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-142">Cannot be combined with other commands.</span></span> <br/><br/><span data-ttu-id="aa5a2-143">**Disponível no .NET Framework 4.7 e versões posteriores.**</span><span class="sxs-lookup"><span data-stu-id="aa5a2-143">**Available in .NET Framework 4.7 and later versions.**</span></span>|
|<span data-ttu-id="aa5a2-144">**-h, -?, -Help** *[verbose]*</span><span class="sxs-lookup"><span data-stu-id="aa5a2-144">**-h, -?, -Help** *[verbose]*</span></span>|<span data-ttu-id="aa5a2-145">Descreve todos os comandos disponíveis e suas opções.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-145">Describes all of the available commands and their options.</span></span> <span data-ttu-id="aa5a2-146">Especifique `verbose` para obter ajuda detalhada.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-146">Specify `verbose` to get detailed help.</span></span>|

## <a name="new-and-update-command-options"></a><span data-ttu-id="aa5a2-147">Opções de comando novas e atualizadas</span><span class="sxs-lookup"><span data-stu-id="aa5a2-147">New and Update command options</span></span>

<span data-ttu-id="aa5a2-148">A tabela a seguir mostra as opções compatíveis com os comandos `-New` e `-Update`:</span><span class="sxs-lookup"><span data-stu-id="aa5a2-148">The following table shows the options supported by the `-New` and `-Update` commands:</span></span>

|<span data-ttu-id="aa5a2-149">Opções</span><span class="sxs-lookup"><span data-stu-id="aa5a2-149">Options</span></span>|<span data-ttu-id="aa5a2-150">Valor padrão</span><span class="sxs-lookup"><span data-stu-id="aa5a2-150">Default Value</span></span>|<span data-ttu-id="aa5a2-151">Aplica-se a</span><span class="sxs-lookup"><span data-stu-id="aa5a2-151">Applies To</span></span>|<span data-ttu-id="aa5a2-152">Descrição</span><span class="sxs-lookup"><span data-stu-id="aa5a2-152">Description</span></span>|
|-------------|-------------------|----------------|-----------------|
|<span data-ttu-id="aa5a2-153">**-a, -Algorithm**</span><span class="sxs-lookup"><span data-stu-id="aa5a2-153">**-a, -Algorithm**</span></span>|<span data-ttu-id="aa5a2-154">sha1RSA</span><span class="sxs-lookup"><span data-stu-id="aa5a2-154">sha1RSA</span></span>|<span data-ttu-id="aa5a2-155">Manifestos de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-155">Application manifests.</span></span><br /><br /> <span data-ttu-id="aa5a2-156">Manifestos de implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-156">Deployment manifests.</span></span>|<span data-ttu-id="aa5a2-157">Especifica o algoritmo com o qual gerar resumos de dependência.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-157">Specifies the algorithm to generate dependency digests with.</span></span> <span data-ttu-id="aa5a2-158">O valor deve ser "sha256RSA" ou "sha1RSA.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-158">Value must be "sha256RSA" or "sha1RSA.</span></span><br /><br /> <span data-ttu-id="aa5a2-159">Use com a opção "-Update".</span><span class="sxs-lookup"><span data-stu-id="aa5a2-159">Use with the "-Update" option.</span></span> <span data-ttu-id="aa5a2-160">Essa opção é ignorada durante o uso da opção "-Sign"</span><span class="sxs-lookup"><span data-stu-id="aa5a2-160">This option is ignored when using the "-Sign" option</span></span>|
|<span data-ttu-id="aa5a2-161">**-appc, -AppCodeBase** `manifestReference`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-161">**-appc, -AppCodeBase** `manifestReference`</span></span>||<span data-ttu-id="aa5a2-162">Manifestos de implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-162">Deployment manifests.</span></span>|<span data-ttu-id="aa5a2-163">Insere uma referência de URL ou de caminho do arquivo no arquivo de manifesto do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-163">Inserts a URL or file path reference to the application manifest file.</span></span> <span data-ttu-id="aa5a2-164">Esse valor deve ser o caminho completo do manifesto de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-164">This value must be the full path to the application manifest.</span></span>|
|<span data-ttu-id="aa5a2-165">**-appm, -AppManifest** `manifestPath`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-165">**-appm, -AppManifest** `manifestPath`</span></span>||<span data-ttu-id="aa5a2-166">Manifestos de implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-166">Deployment manifests.</span></span>|<span data-ttu-id="aa5a2-167">Insere uma referência para o manifesto de aplicativo de uma implantação no manifesto de implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-167">Inserts a reference to a deployment's application manifest into its deployment manifest.</span></span><br /><br /> <span data-ttu-id="aa5a2-168">O arquivo indicado por `manifestPath` deve existir, ou *Mage.exe* emitirá um erro.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-168">The file indicated by `manifestPath` must exist, or *Mage.exe* will issue an error.</span></span> <span data-ttu-id="aa5a2-169">Se o arquivo referenciado por `manifestPath` não for um manifesto do aplicativo, *Mage.exe* emitirá um erro.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-169">If the file referenced by `manifestPath` is not an application manifest, *Mage.exe* will issue an error.</span></span>|
|<span data-ttu-id="aa5a2-170">**-cf, -CertFile** `filePath`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-170">**-cf, -CertFile** `filePath`</span></span>||<span data-ttu-id="aa5a2-171">Todos os tipos de arquivo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-171">All file types.</span></span>|<span data-ttu-id="aa5a2-172">Especifica o local de um certificado digital X509 para assinar um manifesto ou arquivo de licença.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-172">Specifies the location of an X509 digital certificate for signing a manifest or license file.</span></span> <span data-ttu-id="aa5a2-173">Essa opção poderá ser usada com a opção **-Password** se o certificado exigir uma senha para arquivos PFX (Personal Information Exchange).</span><span class="sxs-lookup"><span data-stu-id="aa5a2-173">This option can be used in conjunction with the **-Password** option if the certificate requires a password for Personal Information Exchange (PFX) files.</span></span> <span data-ttu-id="aa5a2-174">A partir do .NET Framework 4.7, se o arquivo não contiver uma chave privada, será necessário usar uma combinação das opções **-CryptoProvider** e **-KeyContainer**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-174">Starting with .NET Framework 4.7, if the file does not contain a private key, a combination of the **-CryptoProvider** and **-KeyContainer** options is required.</span></span><br/><br/><span data-ttu-id="aa5a2-175">A partir do .NET Framework 4.6.2, *Mage.exe* assina os manifestos com CNG, bem como os certificados CAPI.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-175">Starting with .NET Framework 4.6.2, *Mage.exe* signs manifests with CNG as well as CAPI certificates.</span></span>|
|<span data-ttu-id="aa5a2-176">**-ch, -CertHash** `hashSignature`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-176">**-ch, -CertHash** `hashSignature`</span></span>||<span data-ttu-id="aa5a2-177">Todos os tipos de arquivo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-177">All file types.</span></span>|<span data-ttu-id="aa5a2-178">O hash de um certificado digital armazenado no repositório de certificados pessoais do computador cliente.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-178">The hash of a digital certificate stored in the personal certificate store of the client computer.</span></span> <span data-ttu-id="aa5a2-179">Isso corresponde à cadeia de caracteres Impressão Digital de um certificado digital exibido no Windows Certificates Console.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-179">This corresponds to the Thumbprint string of a digital certificate viewed in the Windows Certificates Console.</span></span><br /><br /> <span data-ttu-id="aa5a2-180">`hashSignature` pode ter maiúsculas ou minúsculas e ser fornecido como uma única cadeia de caracteres ou com cada octeto da Impressão Digital separado por espaços e toda a Impressão Digital entre aspas.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-180">`hashSignature` can be either uppercase or lowercase, and can be supplied either as a single string, or with each octet of the Thumbprint separated by spaces and the entire Thumbprint enclosed in quotation marks.</span></span>|
|<span data-ttu-id="aa5a2-181">**-csp, -CryptoProvider** `provider-name`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-181">**-csp, -CryptoProvider** `provider-name`</span></span>||<span data-ttu-id="aa5a2-182">Todos os tipos de arquivo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-182">All file types.</span></span>|<span data-ttu-id="aa5a2-183">Especifica o nome de um provedor de serviços de criptografia (CSP) que contém o contêiner de chave privada.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-183">Specifies the name of a cryptographic service provider (CSP) that contains the private key container.</span></span> <span data-ttu-id="aa5a2-184">Essa opção exige a opção **-KeyContainer**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-184">This option requires the **-KeyContainer** option.</span></span><br/><br/><span data-ttu-id="aa5a2-185">Essa opção está disponível a partir do .NET Framework 4.7.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-185">This option is available starting with .NET Framework 4.7.</span></span>|
|<span data-ttu-id="aa5a2-186">**-fd, -FromDirectory** `directoryPath`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-186">**-fd, -FromDirectory** `directoryPath`</span></span>||<span data-ttu-id="aa5a2-187">Manifestos de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-187">Application manifests.</span></span>|<span data-ttu-id="aa5a2-188">Popula o manifesto do aplicativo com descrições de todos os assemblies e arquivos encontrados em `directoryPath`, inclusive todos os subdiretórios, em que `directoryPath` é o diretório que contém o aplicativo que você deseja implantar.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-188">Populates the application manifest with descriptions of all assemblies and files found in `directoryPath`, including all subdirectories, where `directoryPath` is the directory that contains the application that you want to deploy.</span></span> <span data-ttu-id="aa5a2-189">Para cada arquivo no diretório, *Mage.exe* decide se o arquivo é um assembly ou um arquivo estático.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-189">For each file in the directory, *Mage.exe* decides whether the file is an assembly or a static file.</span></span> <span data-ttu-id="aa5a2-190">Se for um assembly, ele adicionará uma marca `<dependency>` e um atributo `installFrom` ao aplicativo com o nome do assembly, a base de código e a versão.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-190">If it is an assembly, it adds a `<dependency>` tag and `installFrom` attribute to the application with the assembly's name, code base, and version.</span></span> <span data-ttu-id="aa5a2-191">Se for um arquivo estático, ele adicionará uma marca `<file>`.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-191">If it is a static file, it adds a `<file>` tag.</span></span> <span data-ttu-id="aa5a2-192">*Mage.exe* também usará um conjunto simples de heurística para detectar o executável principal do aplicativo e o marcará como o ponto de entrada do aplicativo ClickOnce no manifesto.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-192">*Mage.exe* will also use a simple set of heuristics to detect the main executable for the application, and will mark it as the ClickOnce application's entry point in the manifest.</span></span><br /><br /> <span data-ttu-id="aa5a2-193">*Mage.exe* jamais marcará automaticamente um arquivo como um arquivo de "dados".</span><span class="sxs-lookup"><span data-stu-id="aa5a2-193">*Mage.exe* will never automatically mark a file as a "data" file.</span></span> <span data-ttu-id="aa5a2-194">Você deve fazer isso manualmente.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-194">You must do this manually.</span></span> <span data-ttu-id="aa5a2-195">Para obter mais informações, confira [Como: Incluir um arquivo de dados em um aplicativo ClickOnce](/visualstudio/deployment/how-to-include-a-data-file-in-a-clickonce-application).</span><span class="sxs-lookup"><span data-stu-id="aa5a2-195">For more information, see [How to: Include a Data File in a ClickOnce Application](/visualstudio/deployment/how-to-include-a-data-file-in-a-clickonce-application).</span></span><br /><br /> <span data-ttu-id="aa5a2-196">*Mage.exe* também gera um hash para cada arquivo com base em seu tamanho.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-196">*Mage.exe* also generates a hash for each file based on its size.</span></span> <span data-ttu-id="aa5a2-197">ClickOnce usa esses hashes para garantir que ninguém adultere os arquivos de implantação desde a criação do manifesto.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-197">ClickOnce uses these hashes to ensure that no one has tampered with the deployment's files since the manifest was created.</span></span> <span data-ttu-id="aa5a2-198">Se algum dos arquivos na sua implantação mudar, você poderá executar o *Mage.exe* com o comando **-Update** e com a opção **-FromDirectory**, e ele atualizará as versões do assembly e hashes de todos os arquivos referenciados.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-198">If any of the files in your deployment change, you can run *Mage.exe* with the **-Update** command and the **-FromDirectory** option, and it will update the hashes and assembly versions of all referenced files.</span></span><br /><br /> <span data-ttu-id="aa5a2-199">**-FromDirectory** incluirá todos os arquivos em todos os subdiretórios encontrados em `directoryPath`.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-199">**-FromDirectory** will include all files in all subdirectories found within `directoryPath`.</span></span><br /><br /> <span data-ttu-id="aa5a2-200">Se você usar **-FromDirectory** com o comando **-Update**, o *Mage.exe* removerá todos os arquivos no manifesto do aplicativo que não existem mais no diretório.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-200">If you use **-FromDirectory** with the **-Update** command, *Mage.exe* will remove any files in the application manifest that no longer exist in the directory.</span></span>|
|<span data-ttu-id="aa5a2-201">**-if, -IconFile**  `filePath`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-201">**-if, -IconFile**  `filePath`</span></span>||<span data-ttu-id="aa5a2-202">Manifestos de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-202">Application manifests.</span></span>|<span data-ttu-id="aa5a2-203">Especifica o caminho completo para um arquivo de ícone .ICO.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-203">Specifies the full path to an .ICO icon file.</span></span> <span data-ttu-id="aa5a2-204">Esse ícone é exibido ao lado do nome do aplicativo no menu Iniciar e na entrada Adicionar ou Remover Programas.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-204">This icon appears beside your application name in the start menu, and in its Add-or-Remove Programs entry.</span></span> <span data-ttu-id="aa5a2-205">Se nenhum ícone for fornecido, será usado um ícone padrão.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-205">If no icon is provided, a default icon is used.</span></span>|
|<span data-ttu-id="aa5a2-206">**-ip, -IncludeProviderURL**  `url`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-206">**-ip, -IncludeProviderURL**  `url`</span></span>|<span data-ttu-id="aa5a2-207">true</span><span class="sxs-lookup"><span data-stu-id="aa5a2-207">true</span></span>|<span data-ttu-id="aa5a2-208">Manifestos de implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-208">Deployment manifests.</span></span>|<span data-ttu-id="aa5a2-209">Indica se o manifesto de implantação inclui o valor local de atualização definido por **-ProviderURL**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-209">Indicates whether the deployment manifest includes the update location value set by **-ProviderURL**.</span></span>|
|<span data-ttu-id="aa5a2-210">**-i, -Install** `willInstall`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-210">**-i, -Install** `willInstall`</span></span>|<span data-ttu-id="aa5a2-211">true</span><span class="sxs-lookup"><span data-stu-id="aa5a2-211">true</span></span>|<span data-ttu-id="aa5a2-212">Manifestos de implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-212">Deployment manifests.</span></span>|<span data-ttu-id="aa5a2-213">Indica se o aplicativo ClickOnce deve ou não ser instalado no computador local, ou se o deve ser executado na Web.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-213">Indicates whether or not the ClickOnce application should install onto the local computer, or whether it should run from the Web.</span></span> <span data-ttu-id="aa5a2-214">A instalação de um aplicativo dá a esse aplicativo uma presença no menu **Iniciar** do Windows.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-214">Installing an application gives that application a presence in the Windows **Start** menu.</span></span> <span data-ttu-id="aa5a2-215">Os valores válidos são "true" ou "t" e "false" ou "f".</span><span class="sxs-lookup"><span data-stu-id="aa5a2-215">Valid values are "true" or "t", and "false" or "f".</span></span><br /><br /> <span data-ttu-id="aa5a2-216">Se você especificar a opção **-MinVersion** e um usuário tiver uma versão inferior a **-MinVersion** instalada, ela forçará a instalação do aplicativo, independentemente do valor passado para **-Install**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-216">If you specify the **-MinVersion** option, and a user has a version less than **-MinVersion** installed, it will force the application to install, regardless of the value that you pass to **-Install**.</span></span><br /><br /> <span data-ttu-id="aa5a2-217">Essa opção não pode ser usada com a opção **-BrowserHosted**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-217">This option cannot be used with the **-BrowserHosted** option.</span></span> <span data-ttu-id="aa5a2-218">A tentativa de especificar ambos para o mesmo manifesto resultará em um erro.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-218">Attempting to specify both for the same manifest will result in an error.</span></span>|
|<span data-ttu-id="aa5a2-219">**-kc, -KeyContainer** `name`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-219">**-kc, -KeyContainer** `name`</span></span>||<span data-ttu-id="aa5a2-220">Todos os tipos de arquivo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-220">All file types.</span></span>|<span data-ttu-id="aa5a2-221">Especifica o contêiner de chave que contém o nome da chave privada.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-221">Specifies the key container that contains the name of the private key.</span></span> <span data-ttu-id="aa5a2-222">Essa opção exige a opção **CyproProvider**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-222">This option requires the **CyproProvider** option.</span></span><br/><br/><span data-ttu-id="aa5a2-223">Essa opção está disponível a partir do .NET Framework 4.7.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-223">This option is available starting with .NET Framework 4.7.</span></span>|
|<span data-ttu-id="aa5a2-224">**-mv, -MinVersion**  `[version]`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-224">**-mv, -MinVersion**  `[version]`</span></span>|<span data-ttu-id="aa5a2-225">A versão listada no manifesto de implantação do ClickOnce conforme especificado pelo sinalizador **-Version**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-225">The version listed in the ClickOnce deployment manifest as specified by the **-Version** flag.</span></span>|<span data-ttu-id="aa5a2-226">Manifestos de implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-226">Deployment manifests.</span></span>|<span data-ttu-id="aa5a2-227">A versão mínima desse aplicativo que um usuário pode executar.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-227">The minimum version of this application a user can run.</span></span> <span data-ttu-id="aa5a2-228">Esse sinalizador torna a versão nomeada do aplicativo uma atualização obrigatória.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-228">This flag makes the named version of your application a required update.</span></span> <span data-ttu-id="aa5a2-229">Se liberar uma versão do produto com uma atualização para uma alteração importante ou uma falha de segurança crítica, você poderá usar esse sinalizador para especificar se essa atualização deve ser instalada e se o usuário não pode continuar executando versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-229">If you release a version of your product with an update to a breaking change or a critical security flaw, you can use this flag to specify that this update must be installed, and that the user cannot continue to run earlier versions.</span></span><br /><br /> <span data-ttu-id="aa5a2-230">`version` tem a mesma semântica do argumento do sinalizador **-Version**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-230">`version` has the same semantics as the argument to the **-Version** flag.</span></span>|
|<span data-ttu-id="aa5a2-231">**-n, -Name** `nameString`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-231">**-n, -Name** `nameString`</span></span>|<span data-ttu-id="aa5a2-232">Implantar</span><span class="sxs-lookup"><span data-stu-id="aa5a2-232">Deploy</span></span>|<span data-ttu-id="aa5a2-233">Todos os tipos de arquivo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-233">All file types.</span></span>|<span data-ttu-id="aa5a2-234">O nome usado para identificar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-234">The name that is used to identify the application.</span></span> <span data-ttu-id="aa5a2-235">O ClickOnce usará esse nome para identificar o aplicativo no menu **Iniciar** (se o aplicativo estiver configurado para se instalar) e nas caixas de diálogo Elevação de Permissão.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-235">ClickOnce will use this name to identify the application in the **Start** menu (if the application is configured to install itself) and in Permission Elevation dialog boxes.</span></span> <span data-ttu-id="aa5a2-236">**Observação:**  se você estiver atualizando um manifesto existente e não especificar um nome do editor com essa opção, *Mage.exe* atualizará o manifesto com o nome da organização definido no computador.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-236">**Note:**  If you are updating an existing manifest and you do not specify a publisher name with this option, *Mage.exe* updates the manifest with the organization name defined on the computer.</span></span> <span data-ttu-id="aa5a2-237">Para usar um nome diferente, não se esqueça de usar essa opção e especificar o nome do editor desejado.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-237">To use a different name, make sure to use this option and specify the desired publisher name.</span></span>|
|<span data-ttu-id="aa5a2-238">**-pwd, -Password** `passwd`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-238">**-pwd, -Password** `passwd`</span></span>||<span data-ttu-id="aa5a2-239">Todos os tipos de arquivo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-239">All file types.</span></span>|<span data-ttu-id="aa5a2-240">A senha que é usada na assinatura de um manifesto com um certificado digital.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-240">The password that is used for signing a manifest with a digital certificate.</span></span> <span data-ttu-id="aa5a2-241">Deve ser usado com a opção **-CertFile**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-241">Must be used in conjunction with the **-CertFile** option.</span></span>|
|<span data-ttu-id="aa5a2-242">**-p, Processor** `processorValue`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-242">**-p, Processor** `processorValue`</span></span>|<span data-ttu-id="aa5a2-243">Msil</span><span class="sxs-lookup"><span data-stu-id="aa5a2-243">Msil</span></span>|<span data-ttu-id="aa5a2-244">Manifestos de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-244">Application manifests.</span></span><br /><br /> <span data-ttu-id="aa5a2-245">Manifestos de implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-245">Deployment manifests.</span></span>|<span data-ttu-id="aa5a2-246">A arquitetura do microprocessador em que essa distribuição será executada.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-246">The microprocessor architecture on which this distribution will run.</span></span> <span data-ttu-id="aa5a2-247">Esse valor será obrigatório se você estiver preparando uma ou mais instalações cujos assemblies foram pré-compilados para um microprocessador específico.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-247">This value is required if you are preparing one or more installations whose assemblies have been precompiled for a specific microprocessor.</span></span> <span data-ttu-id="aa5a2-248">Os valores válidos incluem `msil`, `x86`, `ia64` e `amd64`.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-248">Valid values include `msil`, `x86`, `ia64`, and `amd64`.</span></span> <span data-ttu-id="aa5a2-249">`msil` é a Microsoft Intermediate Language, o que significa que todos os assemblies independem da plataforma e o CLR (Common Language Runtime) os compilará just-in-time quando o aplicativo for executado pela primeira vez.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-249">`msil` is Microsoft intermediate language, which means all of your assemblies are platform-independent, and the common language runtime (CLR) will just-in-time compile them when your application is first run.</span></span>|
|<span data-ttu-id="aa5a2-250">**-pu,** **-ProviderURL** `url`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-250">**-pu,** **-ProviderURL** `url`</span></span>||<span data-ttu-id="aa5a2-251">Manifestos de implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-251">Deployment manifests.</span></span>|<span data-ttu-id="aa5a2-252">Especifica a URL que o ClickOnce examinará em busca de atualizações de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-252">Specifies the URL which ClickOnce will examine for application updates.</span></span>|
|<span data-ttu-id="aa5a2-253">**-pub, -Publisher** `publisherName`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-253">**-pub, -Publisher** `publisherName`</span></span>||<span data-ttu-id="aa5a2-254">Manifestos de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-254">Application manifests.</span></span><br /><br /> <span data-ttu-id="aa5a2-255">Manifestos de implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-255">Deployment manifests.</span></span>|<span data-ttu-id="aa5a2-256">Adiciona o nome do editor ao elemento de descrição do manifesto de implantação ou de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-256">Adds the publisher name to the description element of either the deployment or application manifest.</span></span> <span data-ttu-id="aa5a2-257">Quando usado em um manifesto do aplicativo, **-UseManifestForTrust** também deve ser especificado com um valor "true" ou "t", do contrário, esse parâmetro gerará um erro.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-257">When used on an application manifest, **-UseManifestForTrust** must also be specified with a value of "true" or "t"; otherwise, this parameter will raise an error.</span></span>|
|<span data-ttu-id="aa5a2-258">**-s, -SupportURL**  `url`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-258">**-s, -SupportURL**  `url`</span></span>||<span data-ttu-id="aa5a2-259">Manifestos de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-259">Application manifests.</span></span><br /><br /> <span data-ttu-id="aa5a2-260">Manifestos de implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-260">Deployment manifests.</span></span>|<span data-ttu-id="aa5a2-261">Especifica o link exibido em Adicionar ou Remover Programas do aplicativo ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-261">Specifies the link that appears in Add or Remove Programs for the ClickOnce application.</span></span>|
|<span data-ttu-id="aa5a2-262">**-ti, -TimestampUri** `uri`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-262">**-ti, -TimestampUri** `uri`</span></span>||<span data-ttu-id="aa5a2-263">Manifestos de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-263">Application manifests.</span></span><br /><br /> <span data-ttu-id="aa5a2-264">Manifestos de implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-264">Deployment manifests.</span></span>|<span data-ttu-id="aa5a2-265">A URL de um serviço de carimbo de data/hora digital.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-265">The URL of a digital timestamping service.</span></span> <span data-ttu-id="aa5a2-266">O carimbo de data/hora dos manifestos evita que você precise assinar novamente os manifestos, caso o certificado digital expire antes de implantar a próxima versão do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-266">Timestamping the manifests prevents you from having to re-sign the manifests should your digital certificate expire before you deploy the next version of your application.</span></span> <span data-ttu-id="aa5a2-267">Para obter mais informações, consulte [Membros do programa de certificado raiz do Windows](https://go.microsoft.com/fwlink/?LinkId=159000).</span><span class="sxs-lookup"><span data-stu-id="aa5a2-267">For more information, see [Windows root certificate program members](https://go.microsoft.com/fwlink/?LinkId=159000).</span></span>|
|<span data-ttu-id="aa5a2-268">**-t, -ToFile** `filePath`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-268">**-t, -ToFile** `filePath`</span></span>|<span data-ttu-id="aa5a2-269">– New:</span><span class="sxs-lookup"><span data-stu-id="aa5a2-269">-   New:</span></span><br /><span data-ttu-id="aa5a2-270">– Implantação: deploy.application</span><span class="sxs-lookup"><span data-stu-id="aa5a2-270">-   Deployment: deploy.application</span></span><br /><span data-ttu-id="aa5a2-271">– Aplicativo: application.exe.manifest</span><span class="sxs-lookup"><span data-stu-id="aa5a2-271">-   Application: application.exe.manifest</span></span><br /><span data-ttu-id="aa5a2-272">– Update:</span><span class="sxs-lookup"><span data-stu-id="aa5a2-272">-   Update:</span></span><br /><span data-ttu-id="aa5a2-273">– O arquivo de entrada.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-273">-   The input file.</span></span>|<span data-ttu-id="aa5a2-274">Todos os tipos de arquivo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-274">All file types.</span></span>|<span data-ttu-id="aa5a2-275">Especifica o caminho de saída do arquivo que foi criado ou modificado.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-275">Specifies the output path of the file that has been created or modified.</span></span><br /><br /> <span data-ttu-id="aa5a2-276">Se **-ToFile** não for fornecido quando você usar **-New**, a saída será gravada no diretório de trabalho atual.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-276">If **-ToFile** is not supplied when you use **-New**, the output is written to the current working directory.</span></span> <span data-ttu-id="aa5a2-277">Se **-ToFile** não for fornecido quando você usar **-Update**, o *Mage.exe* gravará o arquivo novamente no arquivo de entrada.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-277">If **-ToFile** is not supplied when you use **-Update**, *Mage.exe* will write the file back to the input file.</span></span>|
|<span data-ttu-id="aa5a2-278">**-tr, -TrustLevel** `level`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-278">**-tr, -TrustLevel** `level`</span></span>|<span data-ttu-id="aa5a2-279">Com base na zona em que reside a URL do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-279">Based on the zone in which the application URL resides.</span></span>|<span data-ttu-id="aa5a2-280">Manifestos de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-280">Application manifests.</span></span>|<span data-ttu-id="aa5a2-281">O nível de confiança a ser concedido ao aplicativo em computadores cliente.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-281">The level of trust to grant the application on client computers.</span></span> <span data-ttu-id="aa5a2-282">Entre os valores estão "Internet", "Intranet" e "FullTrust".</span><span class="sxs-lookup"><span data-stu-id="aa5a2-282">Values include "Internet", "Intranet", and "FullTrust".</span></span>|
|<span data-ttu-id="aa5a2-283">**-um, -UseManifestForTrust** `willUseForTrust`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-283">**-um, -UseManifestForTrust** `willUseForTrust`</span></span>|<span data-ttu-id="aa5a2-284">False</span><span class="sxs-lookup"><span data-stu-id="aa5a2-284">False</span></span>|<span data-ttu-id="aa5a2-285">Manifestos de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-285">Application manifests.</span></span>|<span data-ttu-id="aa5a2-286">Especifica se a assinatura digital do manifesto de aplicativo será usada para na tomada de decisões de confiança quando o aplicativo é executado no cliente.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-286">Specifies whether the digital signature of the application manifest will be used for making trust decisions when the application runs on the client.</span></span> <span data-ttu-id="aa5a2-287">A especificação de "true" ou "t" indica que o manifesto do aplicativo será usado em decisões de confiança.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-287">Specifying "true" or "t" indicates that the application manifest will be used for trust decisions.</span></span> <span data-ttu-id="aa5a2-288">A especificação de "false" ou "f" indica que a assinatura do manifesto de implantação será usada.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-288">Specifying "false" or "f" indicates that the signature of the deployment manifest will be used.</span></span>|
|<span data-ttu-id="aa5a2-289">**-v, -Version** `versionNumber`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-289">**-v, -Version** `versionNumber`</span></span>|<span data-ttu-id="aa5a2-290">1.0.0.0</span><span class="sxs-lookup"><span data-stu-id="aa5a2-290">1.0.0.0</span></span>|<span data-ttu-id="aa5a2-291">Manifestos de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-291">Application manifests.</span></span><br /><br /> <span data-ttu-id="aa5a2-292">Manifestos de implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-292">Deployment manifests.</span></span>|<span data-ttu-id="aa5a2-293">A versão da implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-293">The version of the deployment.</span></span> <span data-ttu-id="aa5a2-294">O argumento deve ser uma cadeia de caracteres de versão válida do formato "*N.N.N.N*", em que "*N*" é um inteiro de 32 bits sem sinal.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-294">The argument must be a valid version string of the format "*N.N.N.N*", where "*N*" is an unsigned 32-bit integer.</span></span>|
|<span data-ttu-id="aa5a2-295">**-wpf, -WPFBrowserApp**  `isWPFApp`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-295">**-wpf, -WPFBrowserApp**  `isWPFApp`</span></span>|<span data-ttu-id="aa5a2-296">false</span><span class="sxs-lookup"><span data-stu-id="aa5a2-296">false</span></span>|<span data-ttu-id="aa5a2-297">Manifestos de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-297">Application manifests.</span></span><br /><br /> <span data-ttu-id="aa5a2-298">Manifestos de implantação.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-298">Deployment manifests.</span></span>|<span data-ttu-id="aa5a2-299">Só use esse sinalizador se o aplicativo for um aplicativo do WPF (Windows Presentation Foundation) que será hospedado dentro do Internet Explorer, e não um executável autônomo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-299">Use this flag only if the application is a Windows Presentation Foundation (WPF) application that will be hosted inside of Internet Explorer, and is not a stand-alone executable.</span></span> <span data-ttu-id="aa5a2-300">Os valores válidos são "true" ou "t" e "false" ou "f".</span><span class="sxs-lookup"><span data-stu-id="aa5a2-300">Valid values are "true" or "t", and "false" or "f".</span></span><br /><br /> <span data-ttu-id="aa5a2-301">Para manifestos de aplicativo, insere o atributo `hostInBrowser` no elemento `entryPoint` do manifesto de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-301">For application manifests, inserts the `hostInBrowser` attribute under the `entryPoint` element of the application manifest.</span></span><br /><br /> <span data-ttu-id="aa5a2-302">Para manifestos de implantação, define o atributo `install` no elemento `deployment` como falso e salva o manifesto de implantação com uma extensão .xbap.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-302">For deployment manifests, sets the `install` attribute on the `deployment` element to false, and saves the deployment manifest with a .xbap extension.</span></span> <span data-ttu-id="aa5a2-303">A especificação desse argumento com o argumento **-Install** produz um erro, porque um aplicativo hospedado por navegador não pode ser instalado, aplicativo offline.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-303">Specifying this argument along with the **-Install** argument produces an error, because a browser-hosted application cannot be an installed, offline application.</span></span>|

## <a name="sign-command-options"></a><span data-ttu-id="aa5a2-304">Opções do comando de entrada</span><span class="sxs-lookup"><span data-stu-id="aa5a2-304">Sign command options</span></span>

<span data-ttu-id="aa5a2-305">A tabela a seguir mostra as opções compatíveis com o comando `-Sign`, que se aplicam a todos os tipos de arquivos.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-305">The following table shows the options supported by the `-Sign` command, which apply to all types of files.</span></span>

|<span data-ttu-id="aa5a2-306">Opções</span><span class="sxs-lookup"><span data-stu-id="aa5a2-306">Options</span></span>|<span data-ttu-id="aa5a2-307">Descrição</span><span class="sxs-lookup"><span data-stu-id="aa5a2-307">Description</span></span>|
|-------------|-----------------|
|<span data-ttu-id="aa5a2-308">**-cf, -CertFile** `filePath`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-308">**-cf, -CertFile** `filePath`</span></span>|<span data-ttu-id="aa5a2-309">Especifica o local de um certificado digital para assinar um manifesto.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-309">Specifies The location of a digital certificate for signing a manifest.</span></span> <span data-ttu-id="aa5a2-310">Essa opção poderá ser usada com a opção **-Password** se o certificado exigir uma senha para arquivos PFX (Personal Information Exchange).</span><span class="sxs-lookup"><span data-stu-id="aa5a2-310">This option can be used in conjunction with the **-Password** option if the certificate requires a password for Personal Information Exchange (PFX) files.</span></span> <span data-ttu-id="aa5a2-311">A partir do .NET Framework 4.7, se o arquivo não contiver uma chave privada, será necessário usar uma combinação das opções **-CryptoProvider** e **-KeyContainer**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-311">Starting with .NET Framework 4.7, if the file does not contain a private key, a combination of the **-CryptoProvider** and **-KeyContainer** options is required.</span></span><br/><br/><span data-ttu-id="aa5a2-312">A partir do .NET Framework 4.6.2, *Mage.exe* assina os manifestos com CNG, bem como os certificados CAPI.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-312">Starting with .NET Framework 4.6.2, *Mage.exe* signs manifests with CNG as well as CAPI certificates.</span></span>|
|<span data-ttu-id="aa5a2-313">**-ch, -CertHash** `hashSignature`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-313">**-ch, -CertHash** `hashSignature`</span></span>|<span data-ttu-id="aa5a2-314">O hash de um certificado digital armazenado no repositório de certificados pessoais do computador cliente.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-314">The hash of a digital certificate stored in the personal certificate store of the client computer.</span></span> <span data-ttu-id="aa5a2-315">Isso corresponde à propriedade Impressão Digital de um certificado digital exibido no Windows Certificates Console.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-315">This corresponds to the Thumbprint property of a digital certificate viewed in the Windows Certificates Console.</span></span><br /><br /> <span data-ttu-id="aa5a2-316">`hashSignature` pode ter maiúsculas ou minúsculas e ser fornecido como uma única cadeia de caracteres ou com cada octeto da Impressão Digital separado por espaços e toda a Impressão Digital entre aspas.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-316">`hashSignature` can be either uppercase or lowercase, and can be supplied either as a single string or with each octet of the Thumbprint separated by spaces and the entire Thumbprint enclosed in quotation marks.</span></span>|
<span data-ttu-id="aa5a2-317">**-csp, -CryptoProvider** `provider-name`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-317">**-csp, -CryptoProvider** `provider-name`</span></span>|<span data-ttu-id="aa5a2-318">Especifica o nome de um provedor de serviços de criptografia (CSP) que contém o contêiner de chave privada.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-318">Specifies the name of a cryptographic service provider (CSP) that contains the private key container.</span></span> <span data-ttu-id="aa5a2-319">Essa opção exige a opção **-KeyContainer**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-319">This option requires the **-KeyContainer** option.</span></span><br/><br/><span data-ttu-id="aa5a2-320">Essa opção está disponível a partir do .NET Framework 4.7.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-320">This option is available starting with .NET Framework 4.7.</span></span>|
|<span data-ttu-id="aa5a2-321">**-kc, -KeyContainer** `name`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-321">**-kc, -KeyContainer** `name`</span></span>|<span data-ttu-id="aa5a2-322">Especifica o contêiner de chave que contém o nome da chave privada.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-322">Specifies the key container that contains the name of the private key.</span></span> <span data-ttu-id="aa5a2-323">Essa opção exige a opção **CyproProvider**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-323">This option requires the **CyproProvider** option.</span></span><br/><br/><span data-ttu-id="aa5a2-324">Essa opção está disponível a partir do .NET Framework 4.7.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-324">This option is available starting with .NET Framework 4.7.</span></span>|
|<span data-ttu-id="aa5a2-325">**-pwd, -Password** `passwd`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-325">**-pwd, -Password** `passwd`</span></span>|<span data-ttu-id="aa5a2-326">A senha que é usada na assinatura de um manifesto com um certificado digital.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-326">The password that is used for signing a manifest with a digital certificate.</span></span> <span data-ttu-id="aa5a2-327">Deve ser usado com a opção **-CertFile**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-327">Must be used in conjunction with the **-CertFile** option.</span></span>|
|<span data-ttu-id="aa5a2-328">**-t, -ToFile** `filePath`</span><span class="sxs-lookup"><span data-stu-id="aa5a2-328">**-t, -ToFile** `filePath`</span></span>|<span data-ttu-id="aa5a2-329">Especifica o caminho de saída do arquivo que foi criado ou modificado.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-329">Specifies the output path of the file that has been created or modified.</span></span>|

## <a name="remarks"></a><span data-ttu-id="aa5a2-330">Comentários</span><span class="sxs-lookup"><span data-stu-id="aa5a2-330">Remarks</span></span>

<span data-ttu-id="aa5a2-331">Os argumentos para *Mage.exe* não diferenciam maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-331">All arguments to *Mage.exe* are case-insensitive.</span></span> <span data-ttu-id="aa5a2-332">Os comandos e as opções podem ser precedidos por um traço (-) ou uma barra (/).</span><span class="sxs-lookup"><span data-stu-id="aa5a2-332">Commands and options can be prefixed with a dash (-) or a forward slash (/).</span></span>

<span data-ttu-id="aa5a2-333">Todos os argumentos usados com o comando **-Sign** também podem ser usados a qualquer momento com os comandos **-New** ou **-Update**.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-333">All of the arguments used with the **-Sign** command can be used at any time with the **-New** or **-Update** commands as well.</span></span> <span data-ttu-id="aa5a2-334">Os comandos a seguir são equivalentes.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-334">The following commands are equivalent.</span></span>

```console
mage -Sign c:\HelloWorldDeployment\HelloWorld.deploy -CertFile cert.pfx
mage -Update c:\HelloWorldDeployment\HelloWorld.deploy -CertFile cert.pfx
```

> [!NOTE]
> <span data-ttu-id="aa5a2-335">A partir do .NET Framework versão 4.6.2, certificados CNG também têm suporte.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-335">Beginning with .NET Framework version 4.6.2, CNG certificates are also supported.</span></span>

 <span data-ttu-id="aa5a2-336">A assinatura é a última tarefa que você deve realizar, porque um documento assinado usa um hash do arquivo para verificar se a assinatura é válida para o documento.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-336">Signing is the last task you should perform, because a signed document uses a hash of the file to verify that the signature is valid for the document.</span></span> <span data-ttu-id="aa5a2-337">Se fizer alguma alteração em um arquivo assinado, você deverá assiná-lo novamente.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-337">If you make any changes to a signed file, you must sign it again.</span></span> <span data-ttu-id="aa5a2-338">Se você assinar um documento que foi assinado anteriormente, *Mage.exe* substituirá a assinatura anterior pela nova.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-338">If you sign a document that was previously signed, *Mage.exe* will replace the old signature with the new.</span></span>

 <span data-ttu-id="aa5a2-339">Quando você usar a opção **-AppManifest** para preencher um manifesto de implantação, o *Mage.exe* presumirá que o manifesto do aplicativo vai residir no mesmo diretório que o manifesto de implantação dentro de um subdiretório chamado depois da versão atual da implantação, e configurará o manifesto de implantação adequadamente.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-339">When you use the **-AppManifest** option to populate a deployment manifest, *Mage.exe* will assume that your application manifest will reside in the same directory as the deployment manifest within a subdirectory named after the current deployment version, and will configure your deployment manifest appropriately.</span></span> <span data-ttu-id="aa5a2-340">Se o manifesto de aplicativo for residir em outro lugar, use a opção **-AppCodeBase** para definir o local alternativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-340">If your application manifest will reside elsewhere, use the **-AppCodeBase** option to set the alternate location.</span></span>

 <span data-ttu-id="aa5a2-341">O manifesto de implantação e de aplicativo deverá ser assinado antes de você implantar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-341">Your deployment and application manifest must be signed before you deploy your application.</span></span> <span data-ttu-id="aa5a2-342">Para obter orientação sobre como assinar manifestos, consulte [Visão geral sobre implantação de aplicativos confiáveis](/visualstudio/deployment/trusted-application-deployment-overview).</span><span class="sxs-lookup"><span data-stu-id="aa5a2-342">For guidance about signing manifests, see [Trusted Application Deployment Overview](/visualstudio/deployment/trusted-application-deployment-overview).</span></span>

 <span data-ttu-id="aa5a2-343">A opção **-TrustLevel** para manifestos do aplicativo descreve o conjunto de permissões que um aplicativo precisa para ser executado no computador cliente.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-343">The **-TrustLevel** option for application manifests describes the permission set an application requires to run on the client computer.</span></span> <span data-ttu-id="aa5a2-344">Por padrão, os aplicativos recebem um nível de confiança com base na *zona* em que a URL reside.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-344">By default, applications are assigned a trust level based on the *zone* in which their URL resides.</span></span> <span data-ttu-id="aa5a2-345">Os aplicativos implantados em uma rede corporativa costumam ser colocados na zona Intranet, enquanto os implantados na Internet são colocados na zona Internet.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-345">Applications deployed over a corporate network are generally placed in the Intranet zone, while those deployed over the Internet are placed in the Internet zone.</span></span> <span data-ttu-id="aa5a2-346">Ambas as zonas de segurança impõem restrições sobre o acesso do aplicativo a recursos locais, com a zona Intranet um pouco mais permissiva do que a zona Internet.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-346">Both security zones place restrictions on the application's access to local resources, with the Intranet zone slightly more permissive than the Internet zone.</span></span> <span data-ttu-id="aa5a2-347">A zona FullTrust dá aos aplicativos acesso completo para recursos locais de um computador.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-347">The FullTrust zone gives applications complete access to a computer's local resources.</span></span> <span data-ttu-id="aa5a2-348">Se você usar a opção **-TrustLevel** para colocar um aplicativo nessa zona, o componente Gerenciador de Confiança do CLR solicitará ao usuário decidir se deseja conceder ou não esse nível de confiança mais alto.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-348">If you use the **-TrustLevel** option to place an application in this zone, the Trust Manager component of the CLR will prompt the user to decide whether he or she wants to grant this higher level of trust.</span></span> <span data-ttu-id="aa5a2-349">Se estiver implantando o aplicativo em uma rede corporativa, você poderá usar a Implantação do Aplicativo de Confiança para aumentar o nível de confiança do aplicativo sem perguntar ao usuário.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-349">If you are deploying your application over a corporate network, you can use Trusted Application Deployment to raise the trust level of the application without prompting the user.</span></span>

 <span data-ttu-id="aa5a2-350">Os manifestos de aplicativo também dão suporte a seções de confiança personalizadas.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-350">Application manifests also support custom trust sections.</span></span> <span data-ttu-id="aa5a2-351">Isso ajuda o aplicativo a obedecer o princípio de segurança de solicitar permissão mínima, porque é possível configurar o manifesto para exigir apenas essas permissões específicas que o aplicativo exige para execução.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-351">This helps your application obey the security principle of requesting least permission, as you can configure the manifest to demand only those specific permissions that the application requires in order to execute.</span></span> <span data-ttu-id="aa5a2-352">*Mage.exe* não dá suporte direto à adição de uma seção de confiança personalizada.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-352">*Mage.exe* does not directly support adding a custom trust section.</span></span> <span data-ttu-id="aa5a2-353">É possível adicionar uma usando um editor de texto, um analisador XML ou a ferramenta gráfica *MageUI.exe*.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-353">You can add one using a text editor, an XML parser, or the graphical tool *MageUI.exe*.</span></span> <span data-ttu-id="aa5a2-354">Para obter mais informações sobre como usar *MageUI.exe* para adicionar seções de confiança personalizadas, veja [MageUI.exe (Manifest Generation and Editing Tool, Cliente Gráfico)](../../../docs/framework/tools/mageui-exe-manifest-generation-and-editing-tool-graphical-client.md).</span><span class="sxs-lookup"><span data-stu-id="aa5a2-354">For more information about how to use *MageUI.exe* to add custom trust sections, see [MageUI.exe (Manifest Generation and Editing Tool, Graphical Client)](../../../docs/framework/tools/mageui-exe-manifest-generation-and-editing-tool-graphical-client.md).</span></span>

<span data-ttu-id="aa5a2-355">O Visual Studio 2017 inclui a versão 4.6.1 de *Mage.exe*.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-355">Visual Studio 2017 includes version 4.6.1 of *Mage.exe*.</span></span> <span data-ttu-id="aa5a2-356">Os manifestos criados com essa versão de *Mage.exe* definem o .NET Framework 4 como destino.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-356">Manifests created with this version of *Mage.exe* target .NET Framework 4.</span></span> <span data-ttu-id="aa5a2-357">Para definir versões mais antigas do .NET Framework como destino, use uma versão anterior de *Mage.exe*.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-357">To target older versions of the .NET Framework, use an earlier version of *Mage.exe*.</span></span>

<span data-ttu-id="aa5a2-358">Ao adicionar ou remover assemblies de um manifesto existente ou assinar novamente um manifesto existente, *Mage.exe* não atualiza o manifesto para ter o .NET Framework 4 como destino.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-358">When you add or remove assemblies from an existing manifest, or re-sign an existing manifest, *Mage.exe* does not update the manifest to target .NET Framework 4.</span></span>

<span data-ttu-id="aa5a2-359">As tabelas a seguir mostram esses recursos e restrições:</span><span class="sxs-lookup"><span data-stu-id="aa5a2-359">The following tables show these features and restrictions:</span></span>

|<span data-ttu-id="aa5a2-360">Versão do manifesto</span><span class="sxs-lookup"><span data-stu-id="aa5a2-360">Manifest version</span></span>|<span data-ttu-id="aa5a2-361">Operação</span><span class="sxs-lookup"><span data-stu-id="aa5a2-361">Operation</span></span>|<span data-ttu-id="aa5a2-362">Mage v2.0</span><span class="sxs-lookup"><span data-stu-id="aa5a2-362">Mage v2.0</span></span>|<span data-ttu-id="aa5a2-363">Mage v4.0</span><span class="sxs-lookup"><span data-stu-id="aa5a2-363">Mage v4.0</span></span>|
|----------------------|---------------|---------------|---------------|
|<span data-ttu-id="aa5a2-364">Manifesto dos aplicativos com a versão 2.0 ou 3.x do .NET Framework como destino</span><span class="sxs-lookup"><span data-stu-id="aa5a2-364">Manifest for applications targeting version 2.0 or 3.x of the .NET Framework</span></span>|<span data-ttu-id="aa5a2-365">Abrir</span><span class="sxs-lookup"><span data-stu-id="aa5a2-365">Open</span></span>|<span data-ttu-id="aa5a2-366">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-366">OK</span></span>|<span data-ttu-id="aa5a2-367">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-367">OK</span></span>|
||<span data-ttu-id="aa5a2-368">Fechar</span><span class="sxs-lookup"><span data-stu-id="aa5a2-368">Close</span></span>|<span data-ttu-id="aa5a2-369">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-369">OK</span></span>|<span data-ttu-id="aa5a2-370">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-370">OK</span></span>|
||<span data-ttu-id="aa5a2-371">Salvar</span><span class="sxs-lookup"><span data-stu-id="aa5a2-371">Save</span></span>|<span data-ttu-id="aa5a2-372">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-372">OK</span></span>|<span data-ttu-id="aa5a2-373">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-373">OK</span></span>|
||<span data-ttu-id="aa5a2-374">Assinar Novamente</span><span class="sxs-lookup"><span data-stu-id="aa5a2-374">Re-sign</span></span>|<span data-ttu-id="aa5a2-375">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-375">OK</span></span>|<span data-ttu-id="aa5a2-376">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-376">OK</span></span>|
||<span data-ttu-id="aa5a2-377">Novo</span><span class="sxs-lookup"><span data-stu-id="aa5a2-377">New</span></span>|<span data-ttu-id="aa5a2-378">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-378">OK</span></span>|<span data-ttu-id="aa5a2-379">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="aa5a2-379">Not supported</span></span>|
||<span data-ttu-id="aa5a2-380">Atualizar (veja abaixo)</span><span class="sxs-lookup"><span data-stu-id="aa5a2-380">Update (see below)</span></span>|<span data-ttu-id="aa5a2-381">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-381">OK</span></span>|<span data-ttu-id="aa5a2-382">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-382">OK</span></span>|
|<span data-ttu-id="aa5a2-383">Manifesto dos aplicativos com a versão 4 do .NET Framework como destino</span><span class="sxs-lookup"><span data-stu-id="aa5a2-383">Manifest for applications targeting version 4 of the .NET Framework</span></span>|<span data-ttu-id="aa5a2-384">Abrir</span><span class="sxs-lookup"><span data-stu-id="aa5a2-384">Open</span></span>|<span data-ttu-id="aa5a2-385">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-385">OK</span></span>|<span data-ttu-id="aa5a2-386">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-386">OK</span></span>|
||<span data-ttu-id="aa5a2-387">Fechar</span><span class="sxs-lookup"><span data-stu-id="aa5a2-387">Close</span></span>|<span data-ttu-id="aa5a2-388">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-388">OK</span></span>|<span data-ttu-id="aa5a2-389">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-389">OK</span></span>|
||<span data-ttu-id="aa5a2-390">Salvar</span><span class="sxs-lookup"><span data-stu-id="aa5a2-390">Save</span></span>|<span data-ttu-id="aa5a2-391">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-391">OK</span></span>|<span data-ttu-id="aa5a2-392">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-392">OK</span></span>|
||<span data-ttu-id="aa5a2-393">Assinar Novamente</span><span class="sxs-lookup"><span data-stu-id="aa5a2-393">Re-sign</span></span>|<span data-ttu-id="aa5a2-394">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-394">OK</span></span>|<span data-ttu-id="aa5a2-395">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-395">OK</span></span>|
||<span data-ttu-id="aa5a2-396">Novo</span><span class="sxs-lookup"><span data-stu-id="aa5a2-396">New</span></span>|<span data-ttu-id="aa5a2-397">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="aa5a2-397">Not supported</span></span>|<span data-ttu-id="aa5a2-398">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-398">OK</span></span>|
||<span data-ttu-id="aa5a2-399">Atualizar (veja abaixo)</span><span class="sxs-lookup"><span data-stu-id="aa5a2-399">Update (see below)</span></span>|<span data-ttu-id="aa5a2-400">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="aa5a2-400">Not supported</span></span>|<span data-ttu-id="aa5a2-401">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-401">OK</span></span>|

|<span data-ttu-id="aa5a2-402">Versão do manifesto</span><span class="sxs-lookup"><span data-stu-id="aa5a2-402">Manifest version</span></span>|<span data-ttu-id="aa5a2-403">Detalhes da Operação de Atualização</span><span class="sxs-lookup"><span data-stu-id="aa5a2-403">Update Operation Details</span></span>|<span data-ttu-id="aa5a2-404">Mage v2.0</span><span class="sxs-lookup"><span data-stu-id="aa5a2-404">Mage v2.0</span></span>|<span data-ttu-id="aa5a2-405">Mage v4.0</span><span class="sxs-lookup"><span data-stu-id="aa5a2-405">Mage v4.0</span></span>|
|----------------------|------------------------------|---------------|---------------|
|<span data-ttu-id="aa5a2-406">Manifesto dos aplicativos com a versão 2.0 ou 3.x do .NET Framework como destino</span><span class="sxs-lookup"><span data-stu-id="aa5a2-406">Manifest for applications targeting version 2.0 or 3.x of the .NET Framework</span></span>|<span data-ttu-id="aa5a2-407">Modificar um assembly</span><span class="sxs-lookup"><span data-stu-id="aa5a2-407">Modify an assembly</span></span>|<span data-ttu-id="aa5a2-408">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-408">OK</span></span>|<span data-ttu-id="aa5a2-409">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-409">OK</span></span>|
||<span data-ttu-id="aa5a2-410">Adicionar um assembly</span><span class="sxs-lookup"><span data-stu-id="aa5a2-410">Add an assembly</span></span>|<span data-ttu-id="aa5a2-411">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-411">OK</span></span>|<span data-ttu-id="aa5a2-412">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-412">OK</span></span>|
||<span data-ttu-id="aa5a2-413">Remover um assembly</span><span class="sxs-lookup"><span data-stu-id="aa5a2-413">Remove an assembly</span></span>|<span data-ttu-id="aa5a2-414">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-414">OK</span></span>|<span data-ttu-id="aa5a2-415">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-415">OK</span></span>|
|<span data-ttu-id="aa5a2-416">Manifesto dos aplicativos com a versão 4 do .NET Framework como destino</span><span class="sxs-lookup"><span data-stu-id="aa5a2-416">Manifest for applications targeting version 4 of the .NET Framework</span></span>|<span data-ttu-id="aa5a2-417">Modificar um assembly</span><span class="sxs-lookup"><span data-stu-id="aa5a2-417">Modify an assembly</span></span>|<span data-ttu-id="aa5a2-418">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="aa5a2-418">Not supported</span></span>|<span data-ttu-id="aa5a2-419">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-419">OK</span></span>|
||<span data-ttu-id="aa5a2-420">Adicionar um assembly</span><span class="sxs-lookup"><span data-stu-id="aa5a2-420">Add an assembly</span></span>|<span data-ttu-id="aa5a2-421">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="aa5a2-421">Not supported</span></span>|<span data-ttu-id="aa5a2-422">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-422">OK</span></span>|
||<span data-ttu-id="aa5a2-423">Remover um assembly</span><span class="sxs-lookup"><span data-stu-id="aa5a2-423">Remove an assembly</span></span>|<span data-ttu-id="aa5a2-424">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="aa5a2-424">Not supported</span></span>|<span data-ttu-id="aa5a2-425">OK</span><span class="sxs-lookup"><span data-stu-id="aa5a2-425">OK</span></span>|

 <span data-ttu-id="aa5a2-426">Mage.exe cria novos manifestos com o [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] como destino.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-426">Mage.exe creates new manifests that target the [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)].</span></span> <span data-ttu-id="aa5a2-427">Os aplicativos ClickOnce que definem o [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] como destino podem ser executados no [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] e na versão completa do .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-427">ClickOnce applications that target the [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] can run on both the [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] and the full version of the .NET Framework 4.</span></span> <span data-ttu-id="aa5a2-428">Se o destino do aplicativo for a versão completa do .NET Framework 4 e não puder ser executado no [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)], remova o elemento `<framework>` do cliente usando um editor de texto e assine novamente o manifesto.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-428">If your application targets the full version of the .NET Framework 4 and cannot run on the [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)], remove the client `<framework>` element by using a text editor and re-sign the manifest.</span></span>

<span data-ttu-id="aa5a2-429">A seguir há um elemento `<framework>` de exemplo que define o [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)] como destino:</span><span class="sxs-lookup"><span data-stu-id="aa5a2-429">The following is a sample `<framework>` element that targets the [!INCLUDE[net_client_v40_long](../../../includes/net-client-v40-long-md.md)]:</span></span>

```xml
<framework targetVersion="4.0" profile="client" supportedRuntime="4.0.20506" />
```

## <a name="examples"></a><span data-ttu-id="aa5a2-430">Exemplos</span><span class="sxs-lookup"><span data-stu-id="aa5a2-430">Examples</span></span>

<span data-ttu-id="aa5a2-431">O exemplo a seguir abre a interface do usuário para Mage (*MageUI.exe*).</span><span class="sxs-lookup"><span data-stu-id="aa5a2-431">The following example opens the user interface for Mage (*MageUI.exe*).</span></span>

```console
mage
```

<span data-ttu-id="aa5a2-432">Os exemplos a seguir criam um manifesto de implantação padrão e o manifesto do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-432">The following examples create a default deployment manifest and application manifest.</span></span> <span data-ttu-id="aa5a2-433">Esses arquivos são todos criados no diretório de trabalho atual e chamados deploy.application e application.exe.manifest, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-433">These files are all created in the current working directory and are named deploy.application and application.exe.manifest, respectively.</span></span>

```console
mage -New Deployment
mage -New Application
```

<span data-ttu-id="aa5a2-434">O exemplo a seguir cria um manifesto de aplicativo populado com todos os assemblies e arquivos de recurso do diretório atual.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-434">The following example creates an application manifest populated with all of the assemblies and resource files from the current directory.</span></span>

```console
mage -New Application -FromDirectory . -Version 1.0.0.0
```

<span data-ttu-id="aa5a2-435">O exemplo a seguir continua o exemplo anterior especificando o nome da implantação e o microprocessador de destino.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-435">The following example continues the previous example by specifying the deployment name and target microprocessor.</span></span> <span data-ttu-id="aa5a2-436">Ele também especifica uma URL na qual o ClickOnce deve verificar se há atualizações.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-436">It also specifies a URL against which ClickOnce should check for updates.</span></span>

```console
mage -New Application -FromDirectory . -Name "Hello, World! Application" -Version 1.0.0.0 -Processor "x86" -ProviderUrl http://internalserver/HelloWorld/
```

<span data-ttu-id="aa5a2-437">O exemplo a seguir demonstra como criar um par de manifestos para implantar um aplicativo do WPF que será hospedado no Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-437">The following example demonstrates how to create a pair of manifests for deploying a WPF application that will be hosted in Internet Explorer.</span></span>

```console
mage -New Application -FromDirectory . -Version 1.0.0.0 -WPFBrowserApp true
mage -New Deployment -AppManifest 1.0.0.0\application.manifest -WPFBrowserApp true
```

<span data-ttu-id="aa5a2-438">O exemplo a seguir cria um manifesto de aplicativo populado com todos os assemblies e arquivos de recurso do diretório atual e o assina.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-438">The following example creates an application manifest populated with all of the assemblies and resource files from the current directory and signs.</span></span>

```console
mage -New Application -FromDirectory . -Version 1.0.0.0 -KeyContainer keypair.snk -CryptoProvider "Microsoft Enhanced Cryptographic Provider v1.0"
```

<span data-ttu-id="aa5a2-439">O exemplo a seguir atualiza um manifesto de implantação com informações de um manifesto de aplicativo e define a base de código do local do manifesto de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-439">The following example updates a deployment manifest with information from an application manifest, and sets the code base for the location of the application manifest.</span></span>

```console
mage -Update HelloWorld.deploy -AppManifest 1.0.0.0\application.manifest -AppCodeBase http://internalserver/HelloWorld.deploy
```

<span data-ttu-id="aa5a2-440">O exemplo a seguir edita o manifesto de implantação para forçar uma atualização da versão instalada do usuário.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-440">The following example edits the deployment manifest to force an update of the user's installed version.</span></span>

```console
mage -Update c:\HelloWorldDeployment\HelloWorld.deploy -MinVersion 1.1.0.0
```

<span data-ttu-id="aa5a2-441">O exemplo a seguir informa o manifesto de implantação para recuperar o manifesto do aplicativo de outro diretório.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-441">The following example tells the deployment manifest to retrieve the application manifest from another directory.</span></span>

```console
mage -Update HelloWorld.deploy -AppCodeBase http://anotherserver/HelloWorld/1.1.0.0/
```

<span data-ttu-id="aa5a2-442">O exemplo a seguir assina um manifesto de implantação existente usando um certificado digital no diretório de trabalho atual.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-442">The following example signs an existing deployment manifest using a digital certificate in the current working directory.</span></span>

```console
mage -Sign deploy.application -CertFile cert.pfx -Password <passwd>
```

<span data-ttu-id="aa5a2-443">O exemplo a seguir assina um manifesto de implantação existente usando um certificado digital e uma chave privada no diretório de trabalho atual.</span><span class="sxs-lookup"><span data-stu-id="aa5a2-443">The following example signs an existing deployment manifest using a digital certificate and private key in the current working directory.</span></span>

```console
mage -Sign deploy.application -CertFile cert.pfx -KeyContainer keyfile.snk -CryptoProvider "Microsoft Enghanced Cryptographic Provider v1.0"
```

## <a name="see-also"></a><span data-ttu-id="aa5a2-444">Consulte também</span><span class="sxs-lookup"><span data-stu-id="aa5a2-444">See also</span></span>

- [<span data-ttu-id="aa5a2-445">Segurança e implantação do ClickOnce</span><span class="sxs-lookup"><span data-stu-id="aa5a2-445">ClickOnce Security and Deployment</span></span>](/visualstudio/deployment/clickonce-security-and-deployment)
- [<span data-ttu-id="aa5a2-446">Passo a passo: Como implantar manualmente aplicativos ClickOnce</span><span class="sxs-lookup"><span data-stu-id="aa5a2-446">Walkthrough: Manually Deploying a ClickOnce Application</span></span>](/visualstudio/deployment/walkthrough-manually-deploying-a-clickonce-application)
- [<span data-ttu-id="aa5a2-447">Visão geral da implantação de aplicativos confiáveis</span><span class="sxs-lookup"><span data-stu-id="aa5a2-447">Trusted Application Deployment Overview</span></span>](/visualstudio/deployment/trusted-application-deployment-overview)
- [<span data-ttu-id="aa5a2-448">MageUI.exe (Manifest Generation and Editing Tool, cliente gráfico)</span><span class="sxs-lookup"><span data-stu-id="aa5a2-448">MageUI.exe (Manifest Generation and Editing Tool, Graphical Client)</span></span>](../../../docs/framework/tools/mageui-exe-manifest-generation-and-editing-tool-graphical-client.md)
- [<span data-ttu-id="aa5a2-449">Prompts de Comando</span><span class="sxs-lookup"><span data-stu-id="aa5a2-449">Command Prompts</span></span>](../../../docs/framework/tools/developer-command-prompt-for-vs.md)
