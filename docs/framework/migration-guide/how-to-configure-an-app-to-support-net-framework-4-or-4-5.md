---
title: 'Como: Configurar um aplicativo para suportar versões .NET Framework 4 ou posteriores'
ms.date: 03/30/2017
helpviewer_keywords:
- configuring apps to support .NET Framework
- .NET Framework, configuring apps
ms.assetid: 63c6b9a8-0088-4077-9aa3-521ab7290f79
ms.openlocfilehash: 586f39fc9b50dcd45bb959ebd0063e3c38d9c3ed
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/15/2020
ms.locfileid: "75716242"
---
# <a name="how-to-configure-an-app-to-support-net-framework-4-or-later-versions"></a><span data-ttu-id="566ea-102">Como: Configurar um aplicativo para suportar versões .NET Framework 4 ou posteriores</span><span class="sxs-lookup"><span data-stu-id="566ea-102">How to: Configure an App to Support .NET Framework 4 or later versions</span></span>

<span data-ttu-id="566ea-103">Todos os aplicativos que hospedam o CLR (Common Language Runtime) precisam iniciar ou *ativar* o CLR para executar o código gerenciado.</span><span class="sxs-lookup"><span data-stu-id="566ea-103">All apps that host the common language runtime (CLR) need to start, or *activate*, the CLR in order to run managed code.</span></span> <span data-ttu-id="566ea-104">Normalmente, um aplicativo .NET Framework é executado na versão do CLR em que foi criado, mas você pode alterar esse comportamento para aplicativos de área de trabalho usando um arquivo de configuração do aplicativo (às vezes chamado arquivo app.config).</span><span class="sxs-lookup"><span data-stu-id="566ea-104">Typically, a   .NET Framework app runs on the version of the CLR that it was built on, but you can change this behavior for desktop apps by using an application configuration file (sometimes referred to as an app.config file).</span></span> <span data-ttu-id="566ea-105">No entanto, você não pode alterar o comportamento padrão de ativação para aplicativos da Windows Store ou Windows Phone usando um arquivo de configuração de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="566ea-105">However, you cannot change the default activation behavior for Windows Store apps or Windows Phone apps by using an application configuration file.</span></span> <span data-ttu-id="566ea-106">Este artigo explica como habilitar seu aplicativo da área de trabalho para ser executado em outra versão do .NET Framework e fornece um exemplo de como direcionar à versão 4 ou a outras versões.</span><span class="sxs-lookup"><span data-stu-id="566ea-106">This article explains how to enable your desktop app to run on another version of the .NET Framework and provides an example of how to target version 4 or later versions.</span></span>

 <span data-ttu-id="566ea-107">A versão do .NET Framework que um aplicativo executa é determinada da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="566ea-107">The version of the .NET Framework that an app runs on is determined in the following order:</span></span>

- <span data-ttu-id="566ea-108">Arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="566ea-108">Configuration file.</span></span>

     <span data-ttu-id="566ea-109">Se o arquivo de configuração do aplicativo incluir entradas [ \<de>de execução suportadas](../configure-apps/file-schema/startup/supportedruntime-element.md) que especificam uma ou mais versões do .NET Framework, e uma dessas versões estiver presente no computador do usuário, o aplicativo será executado nessa versão.</span><span class="sxs-lookup"><span data-stu-id="566ea-109">If the application configuration file includes [\<supportedRuntime>](../configure-apps/file-schema/startup/supportedruntime-element.md) entries that specify one or more .NET Framework versions, and one of those versions is present on the user's computer, the app runs on that version.</span></span> <span data-ttu-id="566ea-110">O arquivo de configuração lê entradas [ \<de>de execução suportadas](../configure-apps/file-schema/startup/supportedruntime-element.md) na ordem em que estão listadas e usa a primeira versão do .NET Framework listada que está presente no computador do usuário.</span><span class="sxs-lookup"><span data-stu-id="566ea-110">The configuration file reads [\<supportedRuntime>](../configure-apps/file-schema/startup/supportedruntime-element.md) entries in the order they are listed, and uses the first .NET Framework version listed that is present on the user's computer.</span></span> <span data-ttu-id="566ea-111">(Use o [ \<elemento> de tempo de execução necessário](../configure-apps/file-schema/startup/requiredruntime-element.md) para a versão 1.0.)</span><span class="sxs-lookup"><span data-stu-id="566ea-111">(Use the [\<requiredRuntime> element](../configure-apps/file-schema/startup/requiredruntime-element.md) for version 1.0.)</span></span>

- <span data-ttu-id="566ea-112">Versão compilada.</span><span class="sxs-lookup"><span data-stu-id="566ea-112">Compiled version.</span></span>

     <span data-ttu-id="566ea-113">Se não houver nenhum arquivo de configuração, mas a versão do .NET Framework na qual o arquivo foi compilado estiver presente no computador do usuário, o aplicativo será executado naquela versão.</span><span class="sxs-lookup"><span data-stu-id="566ea-113">If there is no configuration file, but the version of the .NET Framework that the app was built on is present on the user's computer, the app runs on that version.</span></span>

- <span data-ttu-id="566ea-114">Versão mais recente instalada.</span><span class="sxs-lookup"><span data-stu-id="566ea-114">Latest version installed.</span></span>

     <span data-ttu-id="566ea-115">Se a versão do .NET Framework em que o aplicativo foi construído não estiver presente e um arquivo de configuração não especificar uma versão em um [ \<elemento de> runtime suportado,](../configure-apps/file-schema/startup/supportedruntime-element.md)o aplicativo tentará ser executado na versão mais recente do .NET Framework que está presente no computador do usuário.</span><span class="sxs-lookup"><span data-stu-id="566ea-115">If the version of the .NET Framework that the app was built on is not present and a configuration file does not specify a version in a [\<supportedRuntime> element](../configure-apps/file-schema/startup/supportedruntime-element.md), the app tries to run on the latest version of the .NET Framework that is present on the user's computer.</span></span>

     <span data-ttu-id="566ea-116">No entanto, os aplicativos do .NET Framework 1.0, 1.1, 2.0, 3.0, e 3.5 não são executados automaticamente no .NET Framework 4 ou posterior e, em alguns casos, o usuário pode receber um erro e a instalação do .NET Framework 3.5 pode ser solicitada.</span><span class="sxs-lookup"><span data-stu-id="566ea-116">However, .NET Framework 1.0, 1.1, 2.0, 3.0, and 3.5 apps do not automatically run on the .NET Framework 4 or later, and in some cases, the user may receive an error and may be prompted to install the .NET Framework 3.5.</span></span> <span data-ttu-id="566ea-117">O comportamento de ativação também pode depender do sistema operacional do usuário, porque as versões diferentes do sistema do Windows incluem diferentes versões do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="566ea-117">The activation behavior may also depend on the user’s operating system, because  different versions of Windows system include different versions of the .NET Framework.</span></span> <span data-ttu-id="566ea-118">Se seu aplicativo suportar tanto o .NET Framework 3.5 quanto 4 ou posterior, recomendamos indicar isso com várias entradas no arquivo de configuração do aplicativo para evitar erros de inicialização do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="566ea-118">If your app supports both the .NET Framework 3.5 and 4 or later, we recommend that you indicate this with multiple entries in the configuration file to avoid .NET Framework initialization errors.</span></span> <span data-ttu-id="566ea-119">Para saber mais, confira [Versões e dependências](versions-and-dependencies.md).</span><span class="sxs-lookup"><span data-stu-id="566ea-119">For more information, see [Versions and Dependencies](versions-and-dependencies.md).</span></span>

 <span data-ttu-id="566ea-120">Você também pode configurar os aplicativos do .NET Framework 3.5 para serem executados no .NET Framework 4 ou em versões posteriores, mesmo em computadores que tenham o .NET Framework 3.5 instalado, para aproveitar as melhorias de desempenho das versões 4 e posteriores.</span><span class="sxs-lookup"><span data-stu-id="566ea-120">You might also want to configure your .NET Framework 3.5 apps to run on the .NET Framework 4 or later versions, even on computers that have the .NET Framework 3.5 installed, to take advantage of the performance improvements in versions 4 and later versions.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="566ea-121">Recomendamos que você teste sempre seu aplicativo em cada versão do .NET Framework à qual oferece suporte.</span><span class="sxs-lookup"><span data-stu-id="566ea-121">We recommend that you always test your app on every .NET Framework version that you support.</span></span> <span data-ttu-id="566ea-122">Confira [Compatibilidade da versão](version-compatibility.md) para obter informações sobre como atualizar seu aplicativo a fim de aceitar versões mais recentes do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="566ea-122">See [Version Compatibility](version-compatibility.md) for information about upgrading your application to support later .NET Framework versions.</span></span>

 <span data-ttu-id="566ea-123">Para saber mais sobre como alterar seus aplicativos do .NET Framework 1.0 e 1.1 para oferecer suporte ao Windows 7 e Windows 8, veja [Migrar do .NET Framework 1.1](migrating-from-the-net-framework-1-1.md).</span><span class="sxs-lookup"><span data-stu-id="566ea-123">For information about modifying your .NET Framework 1.0 and 1.1 apps to support Windows 7 and Windows 8, see [Migrating from the .NET Framework 1.1](migrating-from-the-net-framework-1-1.md).</span></span>

## <a name="to-configure-your-app-to-run-on-the-net-framework-4-or-later-versions"></a><span data-ttu-id="566ea-124">Para configurar o aplicativo para ser executado no .NET Framework 4 ou em versões posteriores</span><span class="sxs-lookup"><span data-stu-id="566ea-124">To configure your app to run on the .NET Framework 4 or later versions</span></span>

1. <span data-ttu-id="566ea-125">Adicione ou localize o arquivo de configuração para o projeto do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="566ea-125">Add or locate the configuration file for the .NET Framework project.</span></span> <span data-ttu-id="566ea-126">O arquivo de configuração para um aplicativo está no mesmo diretório e tem o mesmo nome que o aplicativo, mas tem uma extensão .config.</span><span class="sxs-lookup"><span data-stu-id="566ea-126">The configuration file for an app is in the same directory and has the same name as the app, but has a .config extension.</span></span> <span data-ttu-id="566ea-127">Por exemplo, no caso de um aplicativo chamado MyExecutable.exe, o arquivo de configuração do aplicativo chama-se MyExecutable.exe.config.</span><span class="sxs-lookup"><span data-stu-id="566ea-127">For example, for an app named MyExecutable.exe, the application configuration file is named MyExecutable.exe.config.</span></span>

     <span data-ttu-id="566ea-128">Para adicionar um arquivo de configuração, na barra de menus do Visual Studio, escolha **Projeto**, **Adicionar Novo Item**.</span><span class="sxs-lookup"><span data-stu-id="566ea-128">To add a configuration file, on the Visual Studio menu bar, choose **Project**, **Add New Item**.</span></span> <span data-ttu-id="566ea-129">Escolha **Geral** no painel esquerdo e, em seguida, escolha **Arquivo de Configuração**.</span><span class="sxs-lookup"><span data-stu-id="566ea-129">Choose **General** from the left pane, and then choose **Configuration File**.</span></span> <span data-ttu-id="566ea-130">Nomeie o aplicativo de arquivo de *configuraçãoName*.exe.config. Essas opções de menu não estão disponíveis para projetos de aplicativos para Windows Store ou windows phone, porque você não pode alterar a política de ativação nessas plataformas.</span><span class="sxs-lookup"><span data-stu-id="566ea-130">Name the configuration file *appName*.exe.config. These menu choices are not available for Windows Store app or Windows phone app projects, because you cannot change the activation policy on those platforms.</span></span>

2. <span data-ttu-id="566ea-131">Adicione [ \<](../configure-apps/file-schema/startup/supportedruntime-element.md) o elemento de>runtime suportado da seguinte forma ao arquivo de configuração do aplicativo:</span><span class="sxs-lookup"><span data-stu-id="566ea-131">Add the [\<supportedRuntime>](../configure-apps/file-schema/startup/supportedruntime-element.md) element as follows to the application configuration file:</span></span>

    ```xml
    <configuration>
      <startup>
        <supportedRuntime version="<version>"/>
      </startup>
    </configuration>
    ```

     <span data-ttu-id="566ea-132">onde \* \<a versão>\* especifica a versão CLR que se alinha com a versão .NET Framework que seu aplicativo suporta.</span><span class="sxs-lookup"><span data-stu-id="566ea-132">where *\<version>* specifies the CLR version that aligns with the .NET Framework version that your app supports.</span></span> <span data-ttu-id="566ea-133">Use as cadeias de caracteres a seguir:</span><span class="sxs-lookup"><span data-stu-id="566ea-133">Use the following strings:</span></span>

    - <span data-ttu-id="566ea-134">.NET Framework 1.0: “v1.0.3705”</span><span class="sxs-lookup"><span data-stu-id="566ea-134">.NET Framework 1.0: "v1.0.3705"</span></span>

    - <span data-ttu-id="566ea-135">.NET Framework 1.1: "v1.1.4322"</span><span class="sxs-lookup"><span data-stu-id="566ea-135">.NET Framework 1.1: "v1.1.4322"</span></span>

    - <span data-ttu-id="566ea-136">.NET Framework 2.0, 3.0 e 3.5: “v2.0.50727”</span><span class="sxs-lookup"><span data-stu-id="566ea-136">.NET Framework 2.0, 3.0, and 3.5: "v2.0.50727"</span></span>

    - <span data-ttu-id="566ea-137">.NET framework 4 e versões posteriores: "v4.0"</span><span class="sxs-lookup"><span data-stu-id="566ea-137">.NET Framework 4 and later versions: "v4.0"</span></span>

     <span data-ttu-id="566ea-138">Você pode [ \<](../configure-apps/file-schema/startup/supportedruntime-element.md) adicionar vários elementos de>de runtime suportados, listados por ordem de preferência, para especificar suporte para várias versões do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="566ea-138">You can add multiple [\<supportedRuntime>](../configure-apps/file-schema/startup/supportedruntime-element.md) elements, listed in order of preference, to specify support for multiple versions of the .NET Framework.</span></span>

 <span data-ttu-id="566ea-139">A tabela a seguir demonstra como as configurações do arquivo de configuração do aplicativo e as versões do .NET Framework instaladas em um computador determinam a versão na qual um aplicativo .NET Framework 3.5 é executado.</span><span class="sxs-lookup"><span data-stu-id="566ea-139">The following table demonstrates how application configuration file settings and the .NET Framework versions installed on a computer determine the version that a .NET Framework 3.5 app runs on.</span></span> <span data-ttu-id="566ea-140">Os exemplos são específicos para um aplicativo .NET Framework 3.5, mas você pode usar uma lógica semelhante para destinar aplicativos criados com versões anteriores do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="566ea-140">The examples are specific to a .NET Framework 3.5 application, but you can use similar logic to target applications built with earlier .NET Framework versions.</span></span> <span data-ttu-id="566ea-141">Observe que o .NET Framework 2.0 (v2.0.50727) é usado para especificar o .NET Framework 3.5 no arquivo de configuração do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="566ea-141">Note that the .NET Framework 2.0 version number (v2.0.50727) is used to specify the .NET Framework 3.5 in the application configuration file.</span></span>

|<span data-ttu-id="566ea-142">Configuração do arquivo App.config</span><span class="sxs-lookup"><span data-stu-id="566ea-142">App.config file setting</span></span>|<span data-ttu-id="566ea-143">Em computadores com a versão 3.5 instalada</span><span class="sxs-lookup"><span data-stu-id="566ea-143">On computer with version 3.5 installed</span></span>|<span data-ttu-id="566ea-144">No computador com as versões 3.5 e 4 ou posteriores instaladas</span><span class="sxs-lookup"><span data-stu-id="566ea-144">On computer with versions 3.5 and 4 or later versions installed</span></span>|<span data-ttu-id="566ea-145">No computador com a versão 4 ou posteriores instaladas</span><span class="sxs-lookup"><span data-stu-id="566ea-145">On computer with version 4 or later versions installed</span></span>|
|-|-|-|-|
|<span data-ttu-id="566ea-146">Nenhum</span><span class="sxs-lookup"><span data-stu-id="566ea-146">None</span></span>|<span data-ttu-id="566ea-147">Executa na versão 3.5</span><span class="sxs-lookup"><span data-stu-id="566ea-147">Runs on 3.5</span></span>|<span data-ttu-id="566ea-148">Executa na versão 3.5</span><span class="sxs-lookup"><span data-stu-id="566ea-148">Runs on 3.5</span></span>|<span data-ttu-id="566ea-149">Exibe uma mensagem de erro que solicita ao usuário instalar a versão correta\*</span><span class="sxs-lookup"><span data-stu-id="566ea-149">Displays error message that prompts user to install the correct version\*</span></span>|
|`<supportedRuntime version="v2.0.50727"/>`|<span data-ttu-id="566ea-150">Executa na versão 3.5</span><span class="sxs-lookup"><span data-stu-id="566ea-150">Runs on 3.5</span></span>|<span data-ttu-id="566ea-151">Executa na versão 3.5</span><span class="sxs-lookup"><span data-stu-id="566ea-151">Runs on 3.5</span></span>|<span data-ttu-id="566ea-152">Exibe uma mensagem de erro que solicita ao usuário instalar a versão correta\*</span><span class="sxs-lookup"><span data-stu-id="566ea-152">Displays error message that prompts user to install the correct version\*</span></span>|
|`<supportedRuntime version="v2.0.50727"/>` <br /> `<supportedRuntime version="v4.0"/>`|<span data-ttu-id="566ea-153">Executa na versão 3.5</span><span class="sxs-lookup"><span data-stu-id="566ea-153">Runs on 3.5</span></span>|<span data-ttu-id="566ea-154">Executa na versão 3.5</span><span class="sxs-lookup"><span data-stu-id="566ea-154">Runs on 3.5</span></span>|<span data-ttu-id="566ea-155">É executado na versão 4 ou posteriores</span><span class="sxs-lookup"><span data-stu-id="566ea-155">Runs on 4 or later versions</span></span>|
|`<supportedRuntime version="v4.0"/>` <br /> `<supportedRuntime version="v2.0.50727"/>`|<span data-ttu-id="566ea-156">Executa na versão 3.5</span><span class="sxs-lookup"><span data-stu-id="566ea-156">Runs on 3.5</span></span>|<span data-ttu-id="566ea-157">É executado na versão 4 ou posteriores</span><span class="sxs-lookup"><span data-stu-id="566ea-157">Runs on 4 or later versions</span></span>|<span data-ttu-id="566ea-158">É executado na versão 4 ou posteriores</span><span class="sxs-lookup"><span data-stu-id="566ea-158">Runs on 4 or later versions</span></span>|
|`<supportedRuntime version="v4.0"/>`|<span data-ttu-id="566ea-159">Exibe uma mensagem de erro que solicita ao usuário instalar a versão correta\*</span><span class="sxs-lookup"><span data-stu-id="566ea-159">Displays error message that prompts user to install the correct version\*</span></span>|<span data-ttu-id="566ea-160">É executado na versão 4 ou posteriores</span><span class="sxs-lookup"><span data-stu-id="566ea-160">Runs on 4 or later versions</span></span>|<span data-ttu-id="566ea-161">É executado na versão 4 ou posteriores</span><span class="sxs-lookup"><span data-stu-id="566ea-161">Runs on 4 or later versions</span></span>|

 <span data-ttu-id="566ea-162">\* Para saber mais sobre essa mensagem de erro e como evitá-la, veja [Erros de inicialização do .NET Framework: Gerenciar a experiência do usuário](../deployment/initialization-errors-managing-the-user-experience.md).</span><span class="sxs-lookup"><span data-stu-id="566ea-162">\* For more information about this error message and ways to avoid it, see [.NET Framework Initialization Errors: Managing the User Experience](../deployment/initialization-errors-managing-the-user-experience.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="566ea-163">Confira também</span><span class="sxs-lookup"><span data-stu-id="566ea-163">See also</span></span>

- [<span data-ttu-id="566ea-164">Migrar do .NET Framework 1.1</span><span class="sxs-lookup"><span data-stu-id="566ea-164">Migrating from the .NET Framework 1.1</span></span>](migrating-from-the-net-framework-1-1.md)
- [<span data-ttu-id="566ea-165">Guia de Migração</span><span class="sxs-lookup"><span data-stu-id="566ea-165">Migration Guide</span></span>](index.md)
