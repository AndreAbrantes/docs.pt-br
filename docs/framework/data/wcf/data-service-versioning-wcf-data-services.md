---
title: Versão do serviço de dados (WCF Data Services)
ms.date: 03/30/2017
helpviewer_keywords:
- versioning, WCF Data Services
- versioning [WCF Data Services]
- WCF Data Services, versioning
ms.assetid: e3e899cc-7f25-4f67-958f-063f01f79766
ms.openlocfilehash: f82ab4c98e724bbed658a6c77de9c5a5d5c3390f
ms.sourcegitcommit: 43cbde34970f5f38f30c43cd63b9c7e2e83717ae
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/11/2020
ms.locfileid: "81121537"
---
# <a name="data-service-versioning-wcf-data-services"></a><span data-ttu-id="0c35c-102">Versão do serviço de dados (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="0c35c-102">Data Service Versioning (WCF Data Services)</span></span>
<span data-ttu-id="0c35c-103">O OData (Open Data Protocol, protocolo de dados abertos) permite criar serviços de dados para que os clientes possam acessar dados como recursos usando URIs que são baseados em um modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="0c35c-103">The Open Data Protocol (OData) enables you to create data services so that clients can access data as resources using URIs that are based on a data model.</span></span> <span data-ttu-id="0c35c-104">O Data também suporta a definição de operações de serviço.</span><span class="sxs-lookup"><span data-stu-id="0c35c-104">OData also supports the definition of service operations.</span></span> <span data-ttu-id="0c35c-105">Após a implantação inicial, e potencialmente várias vezes durante sua vida, esses serviços de dados podem precisar ser alterados por uma variedade de razões, como mudanças nas necessidades dos negócios, requisitos de tecnologia da informação ou para resolver outros problemas.</span><span class="sxs-lookup"><span data-stu-id="0c35c-105">After initial deployment, and potentially several times during their lifetime, these data services may need to be changed for a variety of reasons, such as changing business needs, information technology requirements, or to address other issues.</span></span> <span data-ttu-id="0c35c-106">Quando você faz alterações em um serviço de dados existente, você deve considerar se deve definir uma nova versão do seu serviço de dados e a melhor maneira de minimizar o impacto nos aplicativos clientes existentes.</span><span class="sxs-lookup"><span data-stu-id="0c35c-106">When you make changes to an existing data service, you must consider whether to define a new version of your data service and how best to minimize the impact on existing client applications.</span></span> <span data-ttu-id="0c35c-107">Este tópico fornece orientações sobre quando e como criar uma nova versão de um serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="0c35c-107">This topic provides guidance on when and how to create a new version of a data service.</span></span> <span data-ttu-id="0c35c-108">Ele também descreve como o WCF Data Services lida com uma troca entre clientes e serviços de dados que suportam diferentes versões do protocolo OData.</span><span class="sxs-lookup"><span data-stu-id="0c35c-108">It also describes how WCF Data Services handles an exchange between clients and data services that support different versions of the OData protocol.</span></span>

## <a name="versioning-a-wcf-data-service"></a><span data-ttu-id="0c35c-109">Versão de um serviço de dados WCF</span><span class="sxs-lookup"><span data-stu-id="0c35c-109">Versioning a WCF Data Service</span></span>
 <span data-ttu-id="0c35c-110">Uma vez que um serviço de dados é implantado e os dados estão sendo consumidos, as alterações no serviço de dados têm o potencial de causar problemas de compatibilidade com os aplicativos clientes existentes.</span><span class="sxs-lookup"><span data-stu-id="0c35c-110">Once a data service is deployed and the data is being consumed, changes to the data service have the potential to cause compatibility issues with existing client applications.</span></span> <span data-ttu-id="0c35c-111">No entanto, como as mudanças são frequentemente exigidas pelas necessidades gerais de negócios do serviço, você deve considerar quando e como criar uma nova versão do seu serviço de dados com o menor impacto sobre os aplicativos do cliente.</span><span class="sxs-lookup"><span data-stu-id="0c35c-111">However, because changes are often required by the overall business needs of the service, you must consider when and how to create a new version of your data service with the least impact on client applications.</span></span>

### <a name="data-model-changes-that-recommend-a-new-data-service-version"></a><span data-ttu-id="0c35c-112">Alterações do modelo de dados que recomendam uma nova versão do serviço de dados</span><span class="sxs-lookup"><span data-stu-id="0c35c-112">Data Model Changes that Recommend a New Data Service Version</span></span>
 <span data-ttu-id="0c35c-113">Ao considerar se publicar uma nova versão de um serviço de dados, é importante entender como os diferentes tipos de alterações podem afetar os aplicativos do cliente.</span><span class="sxs-lookup"><span data-stu-id="0c35c-113">When considering whether to publish a new version of a data service, it is important to understand how the different kinds of changes may affect client applications.</span></span> <span data-ttu-id="0c35c-114">Alterações em um serviço de dados que podem exigir que você crie uma nova versão de um serviço de dados podem ser divididas nas duas categorias a seguir:</span><span class="sxs-lookup"><span data-stu-id="0c35c-114">Changes to a data service that might require you to create a new version of a data service can be divided into the following two categories:</span></span>

- <span data-ttu-id="0c35c-115">Alterações no contrato de serviço — que incluem atualizações nas operações de serviço, alterações na acessibilidade de conjuntos de entidades (feeds), alterações de versão e outras alterações nos comportamentos do serviço.</span><span class="sxs-lookup"><span data-stu-id="0c35c-115">Changes to the service contract—which include updates to service operations, changes to the accessibility of entity sets (feeds), version changes, and other changes to service behaviors.</span></span>

- <span data-ttu-id="0c35c-116">Alterações no contrato de dados — que incluem alterações no modelo de dados, formatos de feed ou personalizações de alimentação.</span><span class="sxs-lookup"><span data-stu-id="0c35c-116">Changes to the data contract—which include changes to the data model, feed formats, or feed customizations.</span></span>

 <span data-ttu-id="0c35c-117">A tabela a seguir detalha quais tipos de alterações você deve considerar a publicação de uma nova versão do serviço de dados:</span><span class="sxs-lookup"><span data-stu-id="0c35c-117">The following table details for which kinds of changes you should consider publishing a new version of the data service:</span></span>

|<span data-ttu-id="0c35c-118">Tipo de Alteração</span><span class="sxs-lookup"><span data-stu-id="0c35c-118">Type of Change</span></span>|<span data-ttu-id="0c35c-119">Requer uma nova versão</span><span class="sxs-lookup"><span data-stu-id="0c35c-119">Requires a new version</span></span>|<span data-ttu-id="0c35c-120">Nova versão não é necessária</span><span class="sxs-lookup"><span data-stu-id="0c35c-120">New version not needed</span></span>|
|--------------------|----------------------------|----------------------------|
|<span data-ttu-id="0c35c-121">Operações de serviço</span><span class="sxs-lookup"><span data-stu-id="0c35c-121">Service operations</span></span>|<span data-ttu-id="0c35c-122">- Adicionar novo parâmetro</span><span class="sxs-lookup"><span data-stu-id="0c35c-122">-   Add new parameter</span></span><br /><span data-ttu-id="0c35c-123">- Alterar o tipo de retorno</span><span class="sxs-lookup"><span data-stu-id="0c35c-123">-   Change return type</span></span><br /><span data-ttu-id="0c35c-124">- Remover operação de serviço</span><span class="sxs-lookup"><span data-stu-id="0c35c-124">-   Remove service operation</span></span>|<span data-ttu-id="0c35c-125">- Excluir parâmetros existentes</span><span class="sxs-lookup"><span data-stu-id="0c35c-125">-   Delete existing parameter</span></span><br /><span data-ttu-id="0c35c-126">- Adicionar nova operação de serviço</span><span class="sxs-lookup"><span data-stu-id="0c35c-126">-   Add new service operation</span></span>|
|<span data-ttu-id="0c35c-127">Comportamentos de serviço</span><span class="sxs-lookup"><span data-stu-id="0c35c-127">Service behaviors</span></span>|<span data-ttu-id="0c35c-128">- Desativar solicitações de contagem</span><span class="sxs-lookup"><span data-stu-id="0c35c-128">-   Disable count requests</span></span><br /><span data-ttu-id="0c35c-129">- Desativar suporte de projeção</span><span class="sxs-lookup"><span data-stu-id="0c35c-129">-   Disable projection support</span></span><br /><span data-ttu-id="0c35c-130">- Aumente a versão de serviço de dados necessária</span><span class="sxs-lookup"><span data-stu-id="0c35c-130">-   Increase the required data service version</span></span>|<span data-ttu-id="0c35c-131">- Habilitar solicitações de contagem</span><span class="sxs-lookup"><span data-stu-id="0c35c-131">-   Enable count requests</span></span><br /><span data-ttu-id="0c35c-132">- Habilitar suporte a projeção</span><span class="sxs-lookup"><span data-stu-id="0c35c-132">-   Enable projection support</span></span><br /><span data-ttu-id="0c35c-133">- Diminua a versão de serviço de dados necessária</span><span class="sxs-lookup"><span data-stu-id="0c35c-133">-   Decrease the required data service version</span></span>|
|<span data-ttu-id="0c35c-134">Permissões de conjunto de entidades</span><span class="sxs-lookup"><span data-stu-id="0c35c-134">Entity set permissions</span></span>|<span data-ttu-id="0c35c-135">- Restringir permissões de conjunto de entidades</span><span class="sxs-lookup"><span data-stu-id="0c35c-135">-   Restrict entity set permissions</span></span><br /><span data-ttu-id="0c35c-136">- Alterar código de resposta (novo valor do primeiro dígito) <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="0c35c-136">-   Change response code (new first digit value) <sup>1</sup></span></span>|<span data-ttu-id="0c35c-137">- Relaxe as permissões de definir entidade</span><span class="sxs-lookup"><span data-stu-id="0c35c-137">-   Relax entity set permissions</span></span><br /><span data-ttu-id="0c35c-138">- Alterar código de resposta (mesmo valor do primeiro dígito)</span><span class="sxs-lookup"><span data-stu-id="0c35c-138">-   Change response code (same first digit value)</span></span>|
|<span data-ttu-id="0c35c-139">Propriedades da entidade</span><span class="sxs-lookup"><span data-stu-id="0c35c-139">Entity properties</span></span>|<span data-ttu-id="0c35c-140">- Remover a propriedade ou relacionamento existente</span><span class="sxs-lookup"><span data-stu-id="0c35c-140">-   Remove existing property or relationship</span></span><br /><span data-ttu-id="0c35c-141">- Adicionar propriedade não anulada</span><span class="sxs-lookup"><span data-stu-id="0c35c-141">-   Add non-nullable property</span></span><br /><span data-ttu-id="0c35c-142">- Alterar a propriedade existente</span><span class="sxs-lookup"><span data-stu-id="0c35c-142">-   Change existing property</span></span>|<span data-ttu-id="0c35c-143">- Adicionar propriedade anulada<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="0c35c-143">-   Add nullable property<sup>2</sup></span></span>|
|<span data-ttu-id="0c35c-144">Conjuntos de entidades</span><span class="sxs-lookup"><span data-stu-id="0c35c-144">Entity sets</span></span>|<span data-ttu-id="0c35c-145">- Remover conjunto de entidades</span><span class="sxs-lookup"><span data-stu-id="0c35c-145">-   Remove entity set</span></span>|<span data-ttu-id="0c35c-146">- Adicionar tipo derivado</span><span class="sxs-lookup"><span data-stu-id="0c35c-146">-   Add derived type</span></span><br /><span data-ttu-id="0c35c-147">- Alterar o tipo de base</span><span class="sxs-lookup"><span data-stu-id="0c35c-147">-   Change base type</span></span><br /><span data-ttu-id="0c35c-148">- Adicionar conjunto de entidades</span><span class="sxs-lookup"><span data-stu-id="0c35c-148">-   Add entity set</span></span>|
|<span data-ttu-id="0c35c-149">Personalização de alimentos</span><span class="sxs-lookup"><span data-stu-id="0c35c-149">Feed customization</span></span>|<span data-ttu-id="0c35c-150">- Alterar o mapeamento de propriedades de entidade</span><span class="sxs-lookup"><span data-stu-id="0c35c-150">-   Change entity-property mapping</span></span>||

 <span data-ttu-id="0c35c-151"><sup>1</sup> Isso pode depender de como estritamente um aplicativo cliente depende de receber um código de erro específico.</span><span class="sxs-lookup"><span data-stu-id="0c35c-151"><sup>1</sup> This may depend on how strictly a client application relies on receiving a specific error code.</span></span>

 <span data-ttu-id="0c35c-152"><sup>2</sup> Você pode <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> definir `true` a propriedade para que o cliente ignore quaisquer novas propriedades enviadas pelo serviço de dados que não estão definidas no cliente.</span><span class="sxs-lookup"><span data-stu-id="0c35c-152"><sup>2</sup> You can set the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property to `true` to have the client ignore any new properties sent by the data service that are not defined on the client.</span></span> <span data-ttu-id="0c35c-153">No entanto, quando as inserções são feitas, as propriedades não incluídas pelo cliente na solicitação POST são definidas como seus valores padrão.</span><span class="sxs-lookup"><span data-stu-id="0c35c-153">However, when inserts are made, the properties not included by the client in the POST request are set to their default values.</span></span> <span data-ttu-id="0c35c-154">Para atualizações, quaisquer dados existentes em uma propriedade desconhecida do cliente podem ser substituídos com valores padrão.</span><span class="sxs-lookup"><span data-stu-id="0c35c-154">For updates, any existing data in a property unknown to the client might be overwritten with default values.</span></span> <span data-ttu-id="0c35c-155">Neste caso, você deve enviar a atualização como uma solicitação de MESCLAGEM, que é o padrão.</span><span class="sxs-lookup"><span data-stu-id="0c35c-155">In this case, you should send the update as a MERGE request, which is the default.</span></span> <span data-ttu-id="0c35c-156">Para obter mais informações, consulte [Gerenciando o contexto do serviço de dados](managing-the-data-service-context-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="0c35c-156">For more information, see [Managing the Data Service Context](managing-the-data-service-context-wcf-data-services.md).</span></span>

### <a name="how-to-version-a-data-service"></a><span data-ttu-id="0c35c-157">Como versão de um serviço de dados</span><span class="sxs-lookup"><span data-stu-id="0c35c-157">How to Version a Data Service</span></span>
 <span data-ttu-id="0c35c-158">Quando necessário, uma nova versão de serviço de dados é definida criando uma nova instância do serviço com um contrato de serviço atualizado ou modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="0c35c-158">When required, a new data service version is defined by creating a new instance of the service with an updated service contract or data model.</span></span> <span data-ttu-id="0c35c-159">Este novo serviço é então exposto usando um novo ponto final URI, que o diferencia da versão anterior.</span><span class="sxs-lookup"><span data-stu-id="0c35c-159">This new service is then exposed by using a new URI endpoint, which differentiates it from the previous version.</span></span> <span data-ttu-id="0c35c-160">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="0c35c-160">For example:</span></span>

- <span data-ttu-id="0c35c-161">Versão antiga:`http://services.odata.org/Northwind/v1/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="0c35c-161">Old version: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span></span>

- <span data-ttu-id="0c35c-162">Nova versão:`http://services.odata.org/Northwind/v2/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="0c35c-162">New version: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span></span>

 <span data-ttu-id="0c35c-163">Ao atualizar um serviço de dados, os clientes também precisarão ser atualizados com base nos novos metadados de serviço de dados e usar o novo URI raiz.</span><span class="sxs-lookup"><span data-stu-id="0c35c-163">When upgrading a data service, clients will need to also be updated based on the new data service metadata and to use the new root URI.</span></span> <span data-ttu-id="0c35c-164">Quando possível, você deve manter a versão anterior do serviço de dados para dar suporte a clientes que ainda não foram atualizados para usar a nova versão.</span><span class="sxs-lookup"><span data-stu-id="0c35c-164">When possible, you should maintain the previous version of the data service to support clients that have not yet been upgraded to use the new version.</span></span> <span data-ttu-id="0c35c-165">Versões mais antigas de um serviço de dados podem ser removidas quando não são mais necessárias.</span><span class="sxs-lookup"><span data-stu-id="0c35c-165">Older versions of a data service can be removed when they are no longer needed.</span></span> <span data-ttu-id="0c35c-166">Você deve considerar a manutenção do URI ponto final do serviço de dados em um arquivo de configuração externa.</span><span class="sxs-lookup"><span data-stu-id="0c35c-166">You should consider maintaining the data service endpoint URI in an external configuration file.</span></span>

## <a name="odata-protocol-versions"></a><span data-ttu-id="0c35c-167">Versões do protocolo OData</span><span class="sxs-lookup"><span data-stu-id="0c35c-167">OData Protocol Versions</span></span>
 <span data-ttu-id="0c35c-168">À medida que novas versões do OData são lançadas, os aplicativos clientes podem não estar usando a mesma versão do protocolo OData que é suportado pelo serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="0c35c-168">As new versions of OData are released, client applications may not be using the same version of the OData protocol that is supported by the data service.</span></span> <span data-ttu-id="0c35c-169">Um aplicativo cliente mais antigo pode acessar um serviço de dados que suporta uma versão mais recente do OData.</span><span class="sxs-lookup"><span data-stu-id="0c35c-169">An older client application may access a data service that supports a newer version of OData.</span></span> <span data-ttu-id="0c35c-170">Um aplicativo cliente também pode estar usando uma versão mais recente da biblioteca de clientes do WCF Data Services, que suporta uma versão mais recente do OData do que o serviço de dados que está sendo acessado.</span><span class="sxs-lookup"><span data-stu-id="0c35c-170">A client application may also be using a newer version of the WCF Data Services client library, which supports a newer version of OData than does the data service that is being accessed.</span></span>

 <span data-ttu-id="0c35c-171">O WCF Data Services aproveita o suporte fornecido pela OData para lidar com esses cenários de versão.</span><span class="sxs-lookup"><span data-stu-id="0c35c-171">WCF Data Services leverages the support provided by OData to handle such versioning scenarios.</span></span> <span data-ttu-id="0c35c-172">Há também suporte para gerar e usar metadados do modelo de dados para criar classes de serviço de dados do cliente quando o cliente usa uma versão diferente do OData do que o serviço de dados usa.</span><span class="sxs-lookup"><span data-stu-id="0c35c-172">There is also support for generating and using data model metadata to create client data service classes when the client uses a different version of OData than the data service uses.</span></span> <span data-ttu-id="0c35c-173">Para obter mais informações, consulte a seção Versão de protocolo no artigo [OData: Visão geral.](https://www.odata.org/documentation/odata-version-2-0/overview/)</span><span class="sxs-lookup"><span data-stu-id="0c35c-173">For more information, see the Protocol Versioning section in the [OData: Overview](https://www.odata.org/documentation/odata-version-2-0/overview/) article.</span></span>

### <a name="version-negotiation"></a><span data-ttu-id="0c35c-174">Negociação de versão</span><span class="sxs-lookup"><span data-stu-id="0c35c-174">Version Negotiation</span></span>
 <span data-ttu-id="0c35c-175">O serviço de dados pode ser configurado para definir a versão mais alta do protocolo OData que será usado pelo serviço, independentemente da versão solicitada pelo cliente.</span><span class="sxs-lookup"><span data-stu-id="0c35c-175">The data service can be configured to define the highest version of the OData protocol that will be used by the service, regardless of the version requested by the client.</span></span> <span data-ttu-id="0c35c-176">Você pode fazer isso <xref:System.Data.Services.Common.DataServiceProtocolVersion> especificando <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> um valor <xref:System.Data.Services.DataServiceBehavior> para a propriedade do usado pelo serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="0c35c-176">You can do this by specifying a <xref:System.Data.Services.Common.DataServiceProtocolVersion> value for the <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> property of the <xref:System.Data.Services.DataServiceBehavior> used by the data service.</span></span> <span data-ttu-id="0c35c-177">Para obter mais informações, consulte [Configurando o Serviço de Dados](configuring-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="0c35c-177">For more information, see [Configuring the Data Service](configuring-the-data-service-wcf-data-services.md).</span></span>

 <span data-ttu-id="0c35c-178">Quando um aplicativo usa as bibliotecas clientes do WCF Data Services para acessar um serviço de dados, as bibliotecas definem automaticamente esses cabeçalhos para os valores corretos, dependendo da versão do OData e dos recursos usados em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="0c35c-178">When an application uses the WCF Data Services client libraries to access a data service, the libraries automatically set these headers to the correct values, depending on the version of OData and the features that are used in your application.</span></span> <span data-ttu-id="0c35c-179">Por padrão, o WCF Data Services usa a versão de protocolo mais baixa que suporta a operação solicitada.</span><span class="sxs-lookup"><span data-stu-id="0c35c-179">By default, WCF Data Services uses the lowest protocol version that supports the requested operation.</span></span>

 <span data-ttu-id="0c35c-180">A tabela a seguir detalha as versões do .NET Framework e silverlight que incluem o suporte aos Serviços de Dados WCF para versões específicas do protocolo OData.</span><span class="sxs-lookup"><span data-stu-id="0c35c-180">The following table details the versions of .NET Framework and Silverlight that include WCF Data Services support for specific versions of the OData protocol.</span></span>

|<span data-ttu-id="0c35c-181">Versão do protocolo OData</span><span class="sxs-lookup"><span data-stu-id="0c35c-181">OData Protocol Version</span></span>|<span data-ttu-id="0c35c-182">Suporte introduzido em...</span><span class="sxs-lookup"><span data-stu-id="0c35c-182">Support introduced in…</span></span>|
|-----------------------------------------------------------------------------------|----------------------------|
|<span data-ttu-id="0c35c-183">Versão 1</span><span class="sxs-lookup"><span data-stu-id="0c35c-183">Version 1</span></span>|<span data-ttu-id="0c35c-184">- .NET Framework 3.5 Service Pack 1 (SP1)</span><span class="sxs-lookup"><span data-stu-id="0c35c-184">- .NET Framework 3.5 Service Pack 1 (SP1)</span></span><br /><span data-ttu-id="0c35c-185">- Silverlight versão 3</span><span class="sxs-lookup"><span data-stu-id="0c35c-185">- Silverlight version 3</span></span>|
|<span data-ttu-id="0c35c-186">Versão 2</span><span class="sxs-lookup"><span data-stu-id="0c35c-186">Version 2</span></span>|<span data-ttu-id="0c35c-187">- .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="0c35c-187">- .NET Framework 4</span></span><br /><span data-ttu-id="0c35c-188">- Silverlight versão 4</span><span class="sxs-lookup"><span data-stu-id="0c35c-188">- Silverlight version 4</span></span>|

### <a name="metadata-versions"></a><span data-ttu-id="0c35c-189">Versões de metadados</span><span class="sxs-lookup"><span data-stu-id="0c35c-189">Metadata Versions</span></span>
 <span data-ttu-id="0c35c-190">Por padrão, o WCF Data Services usa a versão 1.1 do CSDL para representar um modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="0c35c-190">By default, WCF Data Services uses version 1.1 of CSDL to represent a data model.</span></span> <span data-ttu-id="0c35c-191">Este é sempre o caso de modelos de dados que são baseados em um provedor de reflexão ou em um provedor de serviços de dados personalizado.</span><span class="sxs-lookup"><span data-stu-id="0c35c-191">This is always the case for data models that are based on either a reflection provider or a custom data service provider.</span></span> <span data-ttu-id="0c35c-192">No entanto, quando o modelo de dados é definido usando o Quadro de Entidades, a versão do CSDL retornada é a mesma que a versão usada pelo Quadro de Entidades.</span><span class="sxs-lookup"><span data-stu-id="0c35c-192">However, when the data model is defined by using the Entity Framework, the version of CSDL returned is the same as the version that is used by the Entity Framework.</span></span> <span data-ttu-id="0c35c-193">A versão do CSDL é determinada pelo namespace do [elemento Schema (CSDL)](/ef/ef6/modeling/designer/advanced/edmx/csdl-spec#schema-element-csdl).</span><span class="sxs-lookup"><span data-stu-id="0c35c-193">The version of the CSDL is determined by the namespace of the [Schema element (CSDL)](/ef/ef6/modeling/designer/advanced/edmx/csdl-spec#schema-element-csdl).</span></span>

 <span data-ttu-id="0c35c-194">O `DataServices` elemento dos metadados retornados `DataServiceVersion` também contém um atributo, que é o mesmo valor do `DataServiceVersion` cabeçalho na mensagem de resposta.</span><span class="sxs-lookup"><span data-stu-id="0c35c-194">The `DataServices` element of the returned metadata also contains a `DataServiceVersion` attribute, which is the same value as the `DataServiceVersion` header in the response message.</span></span> <span data-ttu-id="0c35c-195">Os aplicativos clientes, como a caixa de diálogo **Adicionar referência** de serviço no Visual Studio, usam essas informações para gerar classes de serviço de dados do cliente que funcionam corretamente com a versão do WCF Data Services que hospeda o serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="0c35c-195">Client applications, such as the **Add Service Reference** dialog box in Visual Studio, use this information to generate client data service classes that work correctly with the version of WCF Data Services that host the data service.</span></span> <span data-ttu-id="0c35c-196">Para obter mais informações, consulte a seção Versão de protocolo no artigo [OData: Visão geral.](https://www.odata.org/documentation/odata-version-2-0/overview/)</span><span class="sxs-lookup"><span data-stu-id="0c35c-196">For more information, see the Protocol Versioning section in the [OData: Overview](https://www.odata.org/documentation/odata-version-2-0/overview/) article.</span></span>

## <a name="see-also"></a><span data-ttu-id="0c35c-197">Confira também</span><span class="sxs-lookup"><span data-stu-id="0c35c-197">See also</span></span>

- [<span data-ttu-id="0c35c-198">Provedores de serviços de dados</span><span class="sxs-lookup"><span data-stu-id="0c35c-198">Data Services Providers</span></span>](data-services-providers-wcf-data-services.md)
- [<span data-ttu-id="0c35c-199">Configurando WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="0c35c-199">Defining WCF Data Services</span></span>](defining-wcf-data-services.md)
