---
title: Controle de versão de serviço de dados (WCF Data Services)
ms.date: 03/30/2017
helpviewer_keywords:
- versioning, WCF Data Services
- versioning [WCF Data Services]
- WCF Data Services, versioning
ms.assetid: e3e899cc-7f25-4f67-958f-063f01f79766
ms.openlocfilehash: 9a92346267012d3651d04648b357bbf530097e34
ms.sourcegitcommit: 3ab9254890a52a50762995fa6d7d77a00348db7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/20/2018
ms.locfileid: "46478624"
---
# <a name="data-service-versioning-wcf-data-services"></a><span data-ttu-id="63a3d-102">Controle de versão de serviço de dados (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="63a3d-102">Data Service Versioning (WCF Data Services)</span></span>
<span data-ttu-id="63a3d-103">O [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] permite que você crie serviços de dados para que os clientes podem acessar dados como utilizando URIs de recursos com base em um modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="63a3d-103">The [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] enables you to create data services so that clients can access data as resources using URIs that are based on a data model.</span></span> <span data-ttu-id="63a3d-104">OData também suporta a definição de operações de serviço.</span><span class="sxs-lookup"><span data-stu-id="63a3d-104">OData also supports the definition of service operations.</span></span> <span data-ttu-id="63a3d-105">Após a implantação inicial e possivelmente várias vezes durante a vida, esses serviços de dados podem precisar ser alterada para uma variedade de motivos, como mudanças nas necessidades comerciais, requisitos de tecnologia de informações, ou para resolver outros problemas.</span><span class="sxs-lookup"><span data-stu-id="63a3d-105">After initial deployment, and potentially several times during their lifetime, these data services may need to be changed for a variety of reasons, such as changing business needs, information technology requirements, or to address other issues.</span></span> <span data-ttu-id="63a3d-106">Quando você faz alterações em um serviço de dados existente, você deve considerar se deseja definir uma nova versão de seus dados de serviço e a melhor maneira de minimizar o impacto em aplicativos cliente existentes.</span><span class="sxs-lookup"><span data-stu-id="63a3d-106">When you make changes to an existing data service, you must consider whether to define a new version of your data service and how best to minimize the impact on existing client applications.</span></span> <span data-ttu-id="63a3d-107">Este tópico fornece diretrizes sobre quando e como criar uma nova versão de um serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="63a3d-107">This topic provides guidance on when and how to create a new version of a data service.</span></span> <span data-ttu-id="63a3d-108">Ele também descreve como o WCF Data Services lida com uma troca entre clientes e serviços de dados que dão suporte a diferentes versões do protocolo OData.</span><span class="sxs-lookup"><span data-stu-id="63a3d-108">It also describes how WCF Data Services handles an exchange between clients and data services that support different versions of the OData protocol.</span></span>

## <a name="versioning-a-wcf-data-service"></a><span data-ttu-id="63a3d-109">Controle de versão de um WCF Data Service</span><span class="sxs-lookup"><span data-stu-id="63a3d-109">Versioning a WCF Data Service</span></span>
 <span data-ttu-id="63a3d-110">Depois que um serviço de dados é implantado e os dados que está sendo consumidos, as alterações ao serviço de dados têm o potencial de causar problemas de compatibilidade com aplicativos cliente existentes.</span><span class="sxs-lookup"><span data-stu-id="63a3d-110">Once a data service is deployed and the data is being consumed, changes to the data service have the potential to cause compatibility issues with existing client applications.</span></span> <span data-ttu-id="63a3d-111">No entanto, como alterações frequentemente precisam cumprir as necessidades de negócios geral do serviço, você deve considerar quando e como criar uma nova versão do seu serviço de dados com menos impacto no cliente de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="63a3d-111">However, because changes are often required by the overall business needs of the service, you must consider when and how to create a new version of your data service with the least impact on client applications.</span></span>

### <a name="data-model-changes-that-recommend-a-new-data-service-version"></a><span data-ttu-id="63a3d-112">Alterações do modelo de dados que recomenda uma nova versão do serviço de dados</span><span class="sxs-lookup"><span data-stu-id="63a3d-112">Data Model Changes that Recommend a New Data Service Version</span></span>
 <span data-ttu-id="63a3d-113">Ao considerar se pode publicar uma nova versão de um serviço de dados, é importante entender como os diferentes tipos de alterações podem afetar os aplicativos cliente.</span><span class="sxs-lookup"><span data-stu-id="63a3d-113">When considering whether to publish a new version of a data service, it is important to understand how the different kinds of changes may affect client applications.</span></span> <span data-ttu-id="63a3d-114">Alterações em um serviço de dados que podem exigir que você crie uma nova versão de um serviço de dados podem ser divididas em duas categorias a seguir:</span><span class="sxs-lookup"><span data-stu-id="63a3d-114">Changes to a data service that might require you to create a new version of a data service can be divided into the following two categories:</span></span>

-   <span data-ttu-id="63a3d-115">Altera para o contrato de serviço — que incluem atualizações para operações de serviço, as alterações a acessibilidade de conjuntos de entidades (feeds), as alterações de versão e outras alterações de comportamentos de serviço.</span><span class="sxs-lookup"><span data-stu-id="63a3d-115">Changes to the service contract—which include updates to service operations, changes to the accessibility of entity sets (feeds), version changes, and other changes to service behaviors.</span></span>

-   <span data-ttu-id="63a3d-116">Altera para o contrato de dados — que incluem as alterações no modelo de dados, formatos de feed ou personalizações de feed.</span><span class="sxs-lookup"><span data-stu-id="63a3d-116">Changes to the data contract—which include changes to the data model, feed formats, or feed customizations.</span></span>

 <span data-ttu-id="63a3d-117">A tabela a seguir detalha para quais tipos de alterações, você deve considerar uma nova versão do serviço de dados de publicação:</span><span class="sxs-lookup"><span data-stu-id="63a3d-117">The following table details for which kinds of changes you should consider publishing a new version of the data service:</span></span>

|<span data-ttu-id="63a3d-118">Tipo de alteração</span><span class="sxs-lookup"><span data-stu-id="63a3d-118">Type of Change</span></span>|<span data-ttu-id="63a3d-119">Requer uma nova versão</span><span class="sxs-lookup"><span data-stu-id="63a3d-119">Requires a new version</span></span>|<span data-ttu-id="63a3d-120">Nova versão não necessária</span><span class="sxs-lookup"><span data-stu-id="63a3d-120">New version not needed</span></span>|
|--------------------|----------------------------|----------------------------|
|<span data-ttu-id="63a3d-121">Operações de serviço</span><span class="sxs-lookup"><span data-stu-id="63a3d-121">Service operations</span></span>|<span data-ttu-id="63a3d-122">-Adicionar o novo parâmetro</span><span class="sxs-lookup"><span data-stu-id="63a3d-122">-   Add new parameter</span></span><br /><span data-ttu-id="63a3d-123">-Alterar tipo de retorno</span><span class="sxs-lookup"><span data-stu-id="63a3d-123">-   Change return type</span></span><br /><span data-ttu-id="63a3d-124">-Remova a operação de serviço</span><span class="sxs-lookup"><span data-stu-id="63a3d-124">-   Remove service operation</span></span>|<span data-ttu-id="63a3d-125">-Excluir o parâmetro existente</span><span class="sxs-lookup"><span data-stu-id="63a3d-125">-   Delete existing parameter</span></span><br /><span data-ttu-id="63a3d-126">-Adicionar nova operação de serviço</span><span class="sxs-lookup"><span data-stu-id="63a3d-126">-   Add new service operation</span></span>|
|<span data-ttu-id="63a3d-127">Comportamentos de serviço</span><span class="sxs-lookup"><span data-stu-id="63a3d-127">Service behaviors</span></span>|<span data-ttu-id="63a3d-128">-Desabilitar solicitações de contagem</span><span class="sxs-lookup"><span data-stu-id="63a3d-128">-   Disable count requests</span></span><br /><span data-ttu-id="63a3d-129">-Desabilite o suporte de projeção</span><span class="sxs-lookup"><span data-stu-id="63a3d-129">-   Disable projection support</span></span><br /><span data-ttu-id="63a3d-130">-Aumente a versão do serviço de dados necessários</span><span class="sxs-lookup"><span data-stu-id="63a3d-130">-   Increase the required data service version</span></span>|<span data-ttu-id="63a3d-131">-Habilitar solicitações de contagem</span><span class="sxs-lookup"><span data-stu-id="63a3d-131">-   Enable count requests</span></span><br /><span data-ttu-id="63a3d-132">-Habilitar o suporte de projeção</span><span class="sxs-lookup"><span data-stu-id="63a3d-132">-   Enable projection support</span></span><br /><span data-ttu-id="63a3d-133">-Diminuir a versão do serviço de dados necessários</span><span class="sxs-lookup"><span data-stu-id="63a3d-133">-   Decrease the required data service version</span></span>|
|<span data-ttu-id="63a3d-134">Permissões do conjunto de entidades</span><span class="sxs-lookup"><span data-stu-id="63a3d-134">Entity set permissions</span></span>|<span data-ttu-id="63a3d-135">-Restringir permissões de conjunto de entidade</span><span class="sxs-lookup"><span data-stu-id="63a3d-135">-   Restrict entity set permissions</span></span><br /><span data-ttu-id="63a3d-136">-Alterar o código de resposta (novo valor do primeiro dígito) <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="63a3d-136">-   Change response code (new first digit value) <sup>1</sup></span></span>|<span data-ttu-id="63a3d-137">-Relaxar definir permissões de entidade</span><span class="sxs-lookup"><span data-stu-id="63a3d-137">-   Relax entity set permissions</span></span><br /><span data-ttu-id="63a3d-138">-Alterar o código de resposta (mesmo valor do primeiro dígito)</span><span class="sxs-lookup"><span data-stu-id="63a3d-138">-   Change response code (same first digit value)</span></span>|
|<span data-ttu-id="63a3d-139">Propriedades da entidade</span><span class="sxs-lookup"><span data-stu-id="63a3d-139">Entity properties</span></span>|<span data-ttu-id="63a3d-140">-Remover propriedade existente ou relação</span><span class="sxs-lookup"><span data-stu-id="63a3d-140">-   Remove existing property or relationship</span></span><br /><span data-ttu-id="63a3d-141">-Adicionar a propriedade não anulável</span><span class="sxs-lookup"><span data-stu-id="63a3d-141">-   Add non-nullable property</span></span><br /><span data-ttu-id="63a3d-142">-Alterar a propriedade existente</span><span class="sxs-lookup"><span data-stu-id="63a3d-142">-   Change existing property</span></span>|<span data-ttu-id="63a3d-143">-Adicionar a propriedade nullable<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="63a3d-143">-   Add nullable property<sup>2</sup></span></span>|
|<span data-ttu-id="63a3d-144">Conjuntos de entidades</span><span class="sxs-lookup"><span data-stu-id="63a3d-144">Entity sets</span></span>|<span data-ttu-id="63a3d-145">-Remova o conjunto de entidades</span><span class="sxs-lookup"><span data-stu-id="63a3d-145">-   Remove entity set</span></span>|<span data-ttu-id="63a3d-146">-Adicionar o tipo derivado</span><span class="sxs-lookup"><span data-stu-id="63a3d-146">-   Add derived type</span></span><br /><span data-ttu-id="63a3d-147">-Altere o tipo base</span><span class="sxs-lookup"><span data-stu-id="63a3d-147">-   Change base type</span></span><br /><span data-ttu-id="63a3d-148">-Adicionar conjunto de entidades</span><span class="sxs-lookup"><span data-stu-id="63a3d-148">-   Add entity set</span></span>|
|<span data-ttu-id="63a3d-149">Personalização de feed</span><span class="sxs-lookup"><span data-stu-id="63a3d-149">Feed customization</span></span>|<span data-ttu-id="63a3d-150">-Alterar o mapeamento de propriedade de entidade</span><span class="sxs-lookup"><span data-stu-id="63a3d-150">-   Change entity-property mapping</span></span>||

 <span data-ttu-id="63a3d-151"><sup>1</sup> isso depende estritamente como um aplicativo cliente se baseia em um código de erro específico.</span><span class="sxs-lookup"><span data-stu-id="63a3d-151"><sup>1</sup> This may depend on how strictly a client application relies on receiving a specific error code.</span></span>

 <span data-ttu-id="63a3d-152"><sup>2</sup> você pode definir o <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> propriedade `true` para que o cliente a ignorar qualquer nova propriedade enviada pelo serviço de dados que não está definida no cliente.</span><span class="sxs-lookup"><span data-stu-id="63a3d-152"><sup>2</sup> You can set the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property to `true` to have the client ignore any new properties sent by the data service that are not defined on the client.</span></span> <span data-ttu-id="63a3d-153">No entanto, quando as inserções são feitas, as propriedades não são incluídas pelo cliente na solicitação POST são definidas para seus valores padrão.</span><span class="sxs-lookup"><span data-stu-id="63a3d-153">However, when inserts are made, the properties not included by the client in the POST request are set to their default values.</span></span> <span data-ttu-id="63a3d-154">Para obter atualizações, todos os dados existentes em uma propriedade desconhecida para o cliente poderão ser substituídos por valores padrão.</span><span class="sxs-lookup"><span data-stu-id="63a3d-154">For updates, any existing data in a property unknown to the client might be overwritten with default values.</span></span> <span data-ttu-id="63a3d-155">Nesse caso, você deve enviar a atualização como uma solicitação de mesclagem, que é o padrão.</span><span class="sxs-lookup"><span data-stu-id="63a3d-155">In this case, you should send the update as a MERGE request, which is the default.</span></span> <span data-ttu-id="63a3d-156">Para obter mais informações, consulte [Gerenciando o contexto do serviço de dados](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="63a3d-156">For more information, see [Managing the Data Service Context](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span></span>

### <a name="how-to-version-a-data-service"></a><span data-ttu-id="63a3d-157">Como a versão de um serviço de dados</span><span class="sxs-lookup"><span data-stu-id="63a3d-157">How to Version a Data Service</span></span>
 <span data-ttu-id="63a3d-158">Quando for necessário, uma nova versão do serviço de dados é definida criando uma nova instância do serviço com um modelo de dados ou contrato de serviço atualizado.</span><span class="sxs-lookup"><span data-stu-id="63a3d-158">When required, a new data service version is defined by creating a new instance of the service with an updated service contract or data model.</span></span> <span data-ttu-id="63a3d-159">Esse novo serviço, em seguida, é exposto por meio de um novo URI ponto de extremidade que diferencie-a da versão anterior.</span><span class="sxs-lookup"><span data-stu-id="63a3d-159">This new service is then exposed by using a new URI endpoint, which differentiates it from the previous version.</span></span> <span data-ttu-id="63a3d-160">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="63a3d-160">For example:</span></span>

-   <span data-ttu-id="63a3d-161">Versão antiga: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="63a3d-161">Old version: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span></span>

-   <span data-ttu-id="63a3d-162">Nova versão: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="63a3d-162">New version: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span></span>

 <span data-ttu-id="63a3d-163">Ao atualizar um serviço de dados, os clientes precisarão também ser atualizados com base nos novos metadados de serviço de dados e usar a nova raiz do URI.</span><span class="sxs-lookup"><span data-stu-id="63a3d-163">When upgrading a data service, clients will need to also be updated based on the new data service metadata and to use the new root URI.</span></span> <span data-ttu-id="63a3d-164">Quando possível, você deve manter a versão anterior do serviço de dados para dar suporte a clientes que ainda não foram atualizados para usar a nova versão.</span><span class="sxs-lookup"><span data-stu-id="63a3d-164">When possible, you should maintain the previous version of the data service to support clients that have not yet been upgraded to use the new version.</span></span> <span data-ttu-id="63a3d-165">Versões mais antigas de um serviço de dados podem ser removidas quando eles não são mais necessários.</span><span class="sxs-lookup"><span data-stu-id="63a3d-165">Older versions of a data service can be removed when they are no longer needed.</span></span> <span data-ttu-id="63a3d-166">Você deve considerar a manter o ponto de extremidade de serviço de dados URI no arquivo de configuração externo.</span><span class="sxs-lookup"><span data-stu-id="63a3d-166">You should consider maintaining the data service endpoint URI in an external configuration file.</span></span>

## <a name="odata-protocol-versions"></a><span data-ttu-id="63a3d-167">Versões do protocolo OData</span><span class="sxs-lookup"><span data-stu-id="63a3d-167">OData Protocol Versions</span></span>
 <span data-ttu-id="63a3d-168">Quando são lançadas novas versões do OData, os aplicativos cliente podem não estar usando a mesma versão do protocolo OData que é compatível com o serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="63a3d-168">As new versions of OData are released, client applications may not be using the same version of the OData protocol that is supported by the data service.</span></span> <span data-ttu-id="63a3d-169">Um aplicativo de cliente mais antigo pode acessar um serviço de dados que dá suporte a uma versão mais recente do OData.</span><span class="sxs-lookup"><span data-stu-id="63a3d-169">An older client application may access a data service that supports a newer version of OData.</span></span> <span data-ttu-id="63a3d-170">Um aplicativo cliente também pode usar uma versão mais recente da biblioteca de cliente WCF Data Services, que dá suporte a uma versão mais recente do OData que o serviço de dados que está sendo acessado.</span><span class="sxs-lookup"><span data-stu-id="63a3d-170">A client application may also be using a newer version of the WCF Data Services client library, which supports a newer version of OData than does the data service that is being accessed.</span></span>

 <span data-ttu-id="63a3d-171">WCF Data Services utiliza o suporte fornecido pelo OData para lidar com esses cenários de controle de versão.</span><span class="sxs-lookup"><span data-stu-id="63a3d-171">WCF Data Services leverages the support provided by OData to handle such versioning scenarios.</span></span> <span data-ttu-id="63a3d-172">Também há suporte para gerar e usar os metadados de modelo de dados para criar classes de serviço de dados de cliente quando o cliente usa uma versão diferente do OData que os dados de serviço usa.</span><span class="sxs-lookup"><span data-stu-id="63a3d-172">There is also support for generating and using data model metadata to create client data service classes when the client uses a different version of OData than the data service uses.</span></span> <span data-ttu-id="63a3d-173">Para obter mais informações, consulte [OData: controle de versão do protocolo](https://go.microsoft.com/fwlink/?LinkId=186071).</span><span class="sxs-lookup"><span data-stu-id="63a3d-173">For more information, see [OData: Protocol Versioning](https://go.microsoft.com/fwlink/?LinkId=186071).</span></span>

### <a name="version-negotiation"></a><span data-ttu-id="63a3d-174">Negociação de versão</span><span class="sxs-lookup"><span data-stu-id="63a3d-174">Version Negotiation</span></span>
 <span data-ttu-id="63a3d-175">O serviço de dados pode ser configurado para definir a versão mais recente do protocolo OData que será usado pelo serviço, independentemente da versão solicitada pelo cliente.</span><span class="sxs-lookup"><span data-stu-id="63a3d-175">The data service can be configured to define the highest version of the OData protocol that will be used by the service, regardless of the version requested by the client.</span></span> <span data-ttu-id="63a3d-176">Você pode fazer isso especificando um <xref:System.Data.Services.Common.DataServiceProtocolVersion> de valor para o <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> propriedade do <xref:System.Data.Services.DataServiceBehavior> usado pelo serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="63a3d-176">You can do this by specifying a <xref:System.Data.Services.Common.DataServiceProtocolVersion> value for the <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> property of the <xref:System.Data.Services.DataServiceBehavior> used by the data service.</span></span> <span data-ttu-id="63a3d-177">Para obter mais informações, consulte [Configurando o serviço de dados](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="63a3d-177">For more information, see [Configuring the Data Service](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span></span>

 <span data-ttu-id="63a3d-178">Quando um aplicativo usa as bibliotecas de cliente do WCF Data Services para acessar um serviço de dados, as bibliotecas definido automaticamente esses cabeçalhos para os valores corretos, dependendo da versão do OData e dos recursos que são usados em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="63a3d-178">When an application uses the WCF Data Services client libraries to access a data service, the libraries automatically set these headers to the correct values, depending on the version of OData and the features that are used in your application.</span></span> <span data-ttu-id="63a3d-179">Por padrão, o WCF Data Services usa a versão mais antiga do protocolo que dá suporte à operação solicitada.</span><span class="sxs-lookup"><span data-stu-id="63a3d-179">By default, WCF Data Services uses the lowest protocol version that supports the requested operation.</span></span>

 <span data-ttu-id="63a3d-180">A tabela a seguir fornece detalhes sobre as versões do [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] e [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] que incluem o suporte para versões específicas do protocolo OData WCF Data Services.</span><span class="sxs-lookup"><span data-stu-id="63a3d-180">The following table details the versions of [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] and [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] that include WCF Data Services support for specific versions of the OData protocol.</span></span>

|<span data-ttu-id="63a3d-181">Versão do protocolo OData</span><span class="sxs-lookup"><span data-stu-id="63a3d-181">OData Protocol Version</span></span>|<span data-ttu-id="63a3d-182">Suporte introduzido no...</span><span class="sxs-lookup"><span data-stu-id="63a3d-182">Support introduced in…</span></span>|
|-----------------------------------------------------------------------------------|----------------------------|
|<span data-ttu-id="63a3d-183">Versão 1</span><span class="sxs-lookup"><span data-stu-id="63a3d-183">Version 1</span></span>|<span data-ttu-id="63a3d-184">-   [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] Service Pack 1 (SP1)</span><span class="sxs-lookup"><span data-stu-id="63a3d-184">-   [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] Service Pack 1 (SP1)</span></span><br /><span data-ttu-id="63a3d-185">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] versão 3</span><span class="sxs-lookup"><span data-stu-id="63a3d-185">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 3</span></span>|
|<span data-ttu-id="63a3d-186">Versão 2</span><span class="sxs-lookup"><span data-stu-id="63a3d-186">Version 2</span></span>|-   [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)]<br /><span data-ttu-id="63a3d-187">-Uma atualização para [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] SP1.</span><span class="sxs-lookup"><span data-stu-id="63a3d-187">-   An update to [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] SP1.</span></span> <span data-ttu-id="63a3d-188">Você pode baixar e instalar a atualização a partir de [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=158125).</span><span class="sxs-lookup"><span data-stu-id="63a3d-188">You can download and install the update from the [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=158125).</span></span><br /><span data-ttu-id="63a3d-189">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] versão 4</span><span class="sxs-lookup"><span data-stu-id="63a3d-189">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 4</span></span>|
|<span data-ttu-id="63a3d-190">versão 3</span><span class="sxs-lookup"><span data-stu-id="63a3d-190">Version 3</span></span>|<span data-ttu-id="63a3d-191">-Você pode baixar e instalar uma versão de pré-lançamento que dá suporte a OData versão 3 das [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=203885).</span><span class="sxs-lookup"><span data-stu-id="63a3d-191">-   You can download and install a pre-release version that supports OData version 3 from the [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=203885).</span></span>|

### <a name="metadata-versions"></a><span data-ttu-id="63a3d-192">Versões de metadados</span><span class="sxs-lookup"><span data-stu-id="63a3d-192">Metadata Versions</span></span>
 <span data-ttu-id="63a3d-193">Por padrão, o WCF Data Services usa a versão 1.1 do CSDL para representar um modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="63a3d-193">By default, WCF Data Services uses version 1.1 of CSDL to represent a data model.</span></span> <span data-ttu-id="63a3d-194">Isso é sempre o caso para modelos de dados que são baseados em um provedor de reflexão ou um provedor de serviços de dados personalizados.</span><span class="sxs-lookup"><span data-stu-id="63a3d-194">This is always the case for data models that are based on either a reflection provider or a custom data service provider.</span></span> <span data-ttu-id="63a3d-195">No entanto, quando o modelo de dados é definido usando o [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)], a versão do CSDL retornado é o mesmo que a versão que é usada pelo [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="63a3d-195">However, when the data model is defined by using the [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)], the version of CSDL returned is the same as the version that is used by the [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)].</span></span> <span data-ttu-id="63a3d-196">A versão do CSDL é determinada pelo namespace do [elemento de esquema](https://msdn.microsoft.com/library/396074d8-f99c-4f50-a073-68bce848224f).</span><span class="sxs-lookup"><span data-stu-id="63a3d-196">The version of the CSDL is determined by the namespace of the [Schema element](https://msdn.microsoft.com/library/396074d8-f99c-4f50-a073-68bce848224f).</span></span> <span data-ttu-id="63a3d-197">Para obter mais informações, consulte a especificação [ \[CSDL MC\]: formato de arquivo de definição de esquema conceitual](https://go.microsoft.com/fwlink/?LinkId=159072).</span><span class="sxs-lookup"><span data-stu-id="63a3d-197">For more information, see the specification [\[MC-CSDL\]: Conceptual Schema Definition File Format](https://go.microsoft.com/fwlink/?LinkId=159072).</span></span>

 <span data-ttu-id="63a3d-198">O `DataServices` elemento de metadados retornados também contém uma `DataServiceVersion` atributo, que é o mesmo valor como o `DataServiceVersion` cabeçalho na mensagem de resposta.</span><span class="sxs-lookup"><span data-stu-id="63a3d-198">The `DataServices` element of the returned metadata also contains a `DataServiceVersion` attribute, which is the same value as the `DataServiceVersion` header in the response message.</span></span> <span data-ttu-id="63a3d-199">Aplicativos cliente, como o **adicionar referência de serviço** caixa de diálogo no Visual Studio, use essas informações para gerar classes de serviço de dados do cliente que funcionem corretamente com a versão do WCF Data Services que hospedam o serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="63a3d-199">Client applications, such as the **Add Service Reference** dialog box in Visual Studio, use this information to generate client data service classes that work correctly with the version of WCF Data Services that host the data service.</span></span> <span data-ttu-id="63a3d-200">Para obter mais informações, consulte [OData: controle de versão do protocolo](https://go.microsoft.com/fwlink/?LinkId=186071).</span><span class="sxs-lookup"><span data-stu-id="63a3d-200">For more information, see [OData: Protocol Versioning](https://go.microsoft.com/fwlink/?LinkId=186071).</span></span>

## <a name="see-also"></a><span data-ttu-id="63a3d-201">Consulte também</span><span class="sxs-lookup"><span data-stu-id="63a3d-201">See Also</span></span>

- [<span data-ttu-id="63a3d-202">Provedores de Serviços de Dados</span><span class="sxs-lookup"><span data-stu-id="63a3d-202">Data Services Providers</span></span>](../../../../docs/framework/data/wcf/data-services-providers-wcf-data-services.md)
- <span data-ttu-id="63a3d-203">[Defining WCF Data Services](../../../../docs/framework/data/wcf/defining-wcf-data-services.md) (Definindo o WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="63a3d-203">[Defining WCF Data Services](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)</span></span>
