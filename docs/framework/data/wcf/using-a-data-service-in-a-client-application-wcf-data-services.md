---
title: Usando um serviço de dados em um aplicativo cliente (WCF Data Services)
ms.date: 03/30/2017
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, getting started
ms.assetid: 90872d0c-e989-4490-b3e9-54afb10d33d4
ms.openlocfilehash: 41d3af831ff3c99e7f3000593db52d307d37ac38
ms.sourcegitcommit: 7088f87e9a7da144266135f4b2397e611cf0a228
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/11/2020
ms.locfileid: "75900905"
---
# <a name="using-a-data-service-in-a-client-application-wcf-data-services"></a><span data-ttu-id="ccbad-102">Usando um serviço de dados em um aplicativo cliente (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="ccbad-102">Using a Data Service in a Client Application (WCF Data Services)</span></span>
<span data-ttu-id="ccbad-103">Você pode acessar um serviço que expõe um feed Protocolo Open Data (OData) fornecendo um URI para um navegador da Web.</span><span class="sxs-lookup"><span data-stu-id="ccbad-103">You can access a service that exposes an Open Data Protocol (OData) feed by supplying a URI to a Web browser.</span></span> <span data-ttu-id="ccbad-104">O URI fornece o endereço de um recurso e, em seguida, são enviadas a esses endereços mensagens de solicitação para acessar ou alterar os dados subjacentes que o recurso representa.</span><span class="sxs-lookup"><span data-stu-id="ccbad-104">The URI provides the address of a resource, and request messages are sent to these addresses to access or change the underlying data that the resource represents.</span></span> <span data-ttu-id="ccbad-105">O navegador emite um comando HTTP GET e retorna o recurso solicitado como um feed OData.</span><span class="sxs-lookup"><span data-stu-id="ccbad-105">The browser issues an HTTP GET command and returns the requested resource as an OData feed.</span></span> <span data-ttu-id="ccbad-106">Para obter mais informações, consulte [acessando o serviço em um navegador da Web](accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md).</span><span class="sxs-lookup"><span data-stu-id="ccbad-106">For more information, see [Accessing the Service from a Web Browser](accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md).</span></span>  
  
 <span data-ttu-id="ccbad-107">Embora um navegador da Web possa ser útil para testar se um serviço OData retorna os dados esperados, os serviços OData de produção que permitem que você também crie, atualize e exclua dados são geralmente acessados pelo código do aplicativo ou por linguagens de script em uma página da Web.</span><span class="sxs-lookup"><span data-stu-id="ccbad-107">Although a Web browser may be useful for testing that an OData service returns the expected data, production OData services that enable you to also create, update, and delete data are generally accessed by application code or scripting languages in a Web page.</span></span> <span data-ttu-id="ccbad-108">Este tópico fornece uma visão geral de como acessar feeds OData de um aplicativo cliente.</span><span class="sxs-lookup"><span data-stu-id="ccbad-108">This topic provides an overview of how to access OData feeds from a client application.</span></span>  
  
## <a name="accessing-and-changing-data-using-rest-semantics"></a><span data-ttu-id="ccbad-109">Acessando e alterando dados usando a semântica REST</span><span class="sxs-lookup"><span data-stu-id="ccbad-109">Accessing and Changing Data Using REST Semantics</span></span>  
 <span data-ttu-id="ccbad-110">O OData ajuda a garantir a interoperabilidade entre serviços que expõem feeds OData e aplicativos que consomem feeds OData.</span><span class="sxs-lookup"><span data-stu-id="ccbad-110">OData helps guarantee interoperability between services that expose OData feeds and applications that consume OData feeds.</span></span> <span data-ttu-id="ccbad-111">Os aplicativos acessam e alteram dados em um serviço baseado em OData enviando mensagens de solicitação de uma ação HTTP específica e com um URI que resolve um recurso de entidade no qual a ação deve ser executada.</span><span class="sxs-lookup"><span data-stu-id="ccbad-111">Applications access and change data in an OData-based service by sending request messages of a specific HTTP action and with a URI that addresses an entity resource against which the action should be performed.</span></span> <span data-ttu-id="ccbad-112">Quando os dados de entidade devem ser fornecidos, eles são fornecidos como uma carga especificamente codificada no corpo da mensagem.</span><span class="sxs-lookup"><span data-stu-id="ccbad-112">When entity data must be supplied, it is supplied as a specifically encoded payload in the body of the message.</span></span>  
  
### <a name="http-actions"></a><span data-ttu-id="ccbad-113">Ações HTTP</span><span class="sxs-lookup"><span data-stu-id="ccbad-113">HTTP Actions</span></span>  
 <span data-ttu-id="ccbad-114">O OData dá suporte às seguintes ações HTTP para executar operações de criação, leitura, atualização e exclusão nos dados da entidade que o recurso endereçado representa:</span><span class="sxs-lookup"><span data-stu-id="ccbad-114">OData supports the following HTTP actions to perform create, read, update, and delete operations on the entity data that the addressed resource represents:</span></span>  
  
- <span data-ttu-id="ccbad-115">**Http Get** -essa é a ação padrão quando um recurso é acessado de um navegador.</span><span class="sxs-lookup"><span data-stu-id="ccbad-115">**HTTP GET** - This is the default action when a resource is accessed from a browser.</span></span> <span data-ttu-id="ccbad-116">Nenhuma carga é fornecida na mensagem de solicitação, e é retornado um método de resposta com uma carga que contém os dados solicitados.</span><span class="sxs-lookup"><span data-stu-id="ccbad-116">No payload is supplied in the request message, and a response method with a payload that contains the requested data is returned.</span></span>  
  
- <span data-ttu-id="ccbad-117">**Http post** -insere novos dados de entidade no recurso fornecido.</span><span class="sxs-lookup"><span data-stu-id="ccbad-117">**HTTP POST** - Inserts new entity data into the supplied resource.</span></span> <span data-ttu-id="ccbad-118">Os dados a serem inseridos são fornecidos na carga da mensagem de solicitação.</span><span class="sxs-lookup"><span data-stu-id="ccbad-118">Data to be inserted is supplied in the payload of the request message.</span></span> <span data-ttu-id="ccbad-119">A carga da mensagem de resposta contém os dados da entidade recém-criada.</span><span class="sxs-lookup"><span data-stu-id="ccbad-119">The payload of the response message contains the data for the newly created entity.</span></span> <span data-ttu-id="ccbad-120">Isso inclui os valores de chave gerados automaticamente.</span><span class="sxs-lookup"><span data-stu-id="ccbad-120">This includes any autogenerated key values.</span></span> <span data-ttu-id="ccbad-121">O cabeçalho também contém o URI que direciona o novo recurso de entidade.</span><span class="sxs-lookup"><span data-stu-id="ccbad-121">The header also contains the URI that addresses the new entity resource.</span></span>  
  
- <span data-ttu-id="ccbad-122">**Http Delete** -exclui os dados de entidade que o recurso especificado representa.</span><span class="sxs-lookup"><span data-stu-id="ccbad-122">**HTTP DELETE** - Deletes the entity data that the specified resource represents.</span></span> <span data-ttu-id="ccbad-123">Não há uma carga presente nas mensagens de resposta ou solicitação.</span><span class="sxs-lookup"><span data-stu-id="ccbad-123">A payload is not present in the request or response messages.</span></span>  
  
- <span data-ttu-id="ccbad-124">**Http Put** – substitui os dados de entidade existentes no recurso solicitado por novos dados que são fornecidos no conteúdo da mensagem de solicitação.</span><span class="sxs-lookup"><span data-stu-id="ccbad-124">**HTTP PUT** - Replaces existing entity data at the requested resource with new data that is supplied in the payload of the request message.</span></span>  
  
- <span data-ttu-id="ccbad-125">**Mesclagem http** -devido a ineficiências na execução de uma exclusão seguida por uma inserção na fonte de dados apenas para alterar os dados da entidade, o OData apresenta uma nova ação de mesclagem http.</span><span class="sxs-lookup"><span data-stu-id="ccbad-125">**HTTP MERGE** - Because of inefficiencies in executing a delete followed by an insert in the data source just to change entity data, OData introduces a new HTTP MERGE action.</span></span> <span data-ttu-id="ccbad-126">A carga da mensagem de solicitação contém as propriedades que devem ser alteradas no recurso de entidade direcionado.</span><span class="sxs-lookup"><span data-stu-id="ccbad-126">The payload of the request message contains the properties that must be changed on the addressed entity resource.</span></span> <span data-ttu-id="ccbad-127">Como a MESCLAgem HTTP não é definida na especificação HTTP, ela pode exigir processamento adicional para rotear uma solicitação de MESCLAgem HTTP por meio de servidores não cientes de OData.</span><span class="sxs-lookup"><span data-stu-id="ccbad-127">Because HTTP MERGE is not defined in the HTTP specification, it may require additional processing to route a HTTP MERGE request through non-OData aware servers.</span></span>  
  
 <span data-ttu-id="ccbad-128">Para obter mais informações, consulte [OData: Operations](https://www.odata.org/documentation/odata-version-2-0/operations/).</span><span class="sxs-lookup"><span data-stu-id="ccbad-128">For more information, see [OData: Operations](https://www.odata.org/documentation/odata-version-2-0/operations/).</span></span>
  
### <a name="payload-formats"></a><span data-ttu-id="ccbad-129">Formatos de carga</span><span class="sxs-lookup"><span data-stu-id="ccbad-129">Payload Formats</span></span>  
 <span data-ttu-id="ccbad-130">Para uma solicitação HTTP PUT, HTTP POST ou HTTP MERGE, a carga de uma mensagem de solicitação contém os dados de entidade que você envia ao serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="ccbad-130">For an HTTP PUT, HTTP POST, or HTTP MERGE request, the payload of a request message contains the entity data that you send to the data service.</span></span> <span data-ttu-id="ccbad-131">O conteúdo da carga depende do formato de dados da mensagem.</span><span class="sxs-lookup"><span data-stu-id="ccbad-131">The contents of the payload depend on the data format of the message.</span></span> <span data-ttu-id="ccbad-132">As respostas HTTP a todas as ações, exceto DELETE, também contêm tal carga.</span><span class="sxs-lookup"><span data-stu-id="ccbad-132">The HTTP responses to all actions except DELETE also contain such a payload.</span></span> <span data-ttu-id="ccbad-133">O OData dá suporte aos seguintes formatos de carga para acessar e alterar dados com o serviço:</span><span class="sxs-lookup"><span data-stu-id="ccbad-133">OData supports the following payload formats for accessing and changing data with the service:</span></span>  
  
- <span data-ttu-id="ccbad-134">**Atom** – uma codificação de mensagem baseada em XML que é definida pelo OData como uma extensão para o protocolo de publicação Atom (AtomPub) para habilitar a troca de dados por http para Web feeds, podcasts, wikis e funcionalidade de Internet baseada em XML.</span><span class="sxs-lookup"><span data-stu-id="ccbad-134">**Atom** - An XML-based message encoding that is defined by OData as an extension to the Atom Publishing Protocol (AtomPub) to enable data exchange over HTTP for Web feeds, podcasts, wikis, and XML-based Internet functionality.</span></span> <span data-ttu-id="ccbad-135">Para obter mais informações, consulte [OData: Atom Format](https://www.odata.org/documentation/odata-version-2-0/atom-format/).</span><span class="sxs-lookup"><span data-stu-id="ccbad-135">For more information, see [OData: Atom Format](https://www.odata.org/documentation/odata-version-2-0/atom-format/).</span></span>
  
- <span data-ttu-id="ccbad-136">**JSON** -JavaScript Object Notation (JSON) é um formato de intercâmbio de dados leve baseado em um subconjunto da linguagem de programação JavaScript.</span><span class="sxs-lookup"><span data-stu-id="ccbad-136">**JSON** - JavaScript Object Notation (JSON) is a lightweight data interchange format that is based on a subset of the JavaScript Programming Language.</span></span> <span data-ttu-id="ccbad-137">Para obter mais informações, consulte [OData: JSON Format](https://www.odata.org/documentation/odata-version-2-0/json-format/).</span><span class="sxs-lookup"><span data-stu-id="ccbad-137">For more information, see [OData: JSON Format](https://www.odata.org/documentation/odata-version-2-0/json-format/).</span></span>
  
 <span data-ttu-id="ccbad-138">O formato de mensagem da carga é solicitado no cabeçalho da mensagem de solicitação HTTP.</span><span class="sxs-lookup"><span data-stu-id="ccbad-138">The message format of the payload is requested in the header of the HTTP request message.</span></span> <span data-ttu-id="ccbad-139">Para obter mais informações, consulte [OData: Operations](https://www.odata.org/documentation/odata-version-2-0/operations/).</span><span class="sxs-lookup"><span data-stu-id="ccbad-139">For more information, see [OData: Operations](https://www.odata.org/documentation/odata-version-2-0/operations/).</span></span>
  
## <a name="accessing-and-changing-data-using-client-libraries"></a><span data-ttu-id="ccbad-140">Acessando e alterando dados usando bibliotecas de cliente</span><span class="sxs-lookup"><span data-stu-id="ccbad-140">Accessing and Changing Data Using Client Libraries</span></span>  
 <span data-ttu-id="ccbad-141">O WCF Data Services inclui bibliotecas de cliente que permitem consumir com mais facilidade um feed OData de aplicativos cliente baseados em .NET Framework e Silverlight.</span><span class="sxs-lookup"><span data-stu-id="ccbad-141">WCF Data Services includes client libraries that enable you to more easily consume an OData feed from .NET Framework and Silverlight-based client applications.</span></span> <span data-ttu-id="ccbad-142">Essas bibliotecas simplificam o envio e o recebimento de mensagens HTTP.</span><span class="sxs-lookup"><span data-stu-id="ccbad-142">These libraries simplify sending and receiving HTTP messages.</span></span> <span data-ttu-id="ccbad-143">Elas também convertem a carga da mensagem em objetos CLR que representam dados de entidade.</span><span class="sxs-lookup"><span data-stu-id="ccbad-143">They also translate the message payload into CLR objects that represent entity data.</span></span> <span data-ttu-id="ccbad-144">As bibliotecas de cliente apresentam as duas classes principais <xref:System.Data.Services.Client.DataServiceContext> e <xref:System.Data.Services.Client.DataServiceQuery%601>.</span><span class="sxs-lookup"><span data-stu-id="ccbad-144">The client libraries feature the two core classes <xref:System.Data.Services.Client.DataServiceContext> and <xref:System.Data.Services.Client.DataServiceQuery%601>.</span></span> <span data-ttu-id="ccbad-145">Essas classes permitem consultar um serviço de dados e trabalhar com os dados de entidade retornados como objetos CLR.</span><span class="sxs-lookup"><span data-stu-id="ccbad-145">These classes enable you to query a data service and then work with the returned entity data as CLR objects.</span></span> <span data-ttu-id="ccbad-146">Para obter mais informações, consulte [WCF Data Services biblioteca de cliente](wcf-data-services-client-library.md) e [WCF Data Services (Silverlight)](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/cc838234(v=vs.95)).</span><span class="sxs-lookup"><span data-stu-id="ccbad-146">For more information, see [WCF Data Services Client Library](wcf-data-services-client-library.md) and [WCF Data Services (Silverlight)](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/cc838234(v=vs.95)).</span></span>  
  
 <span data-ttu-id="ccbad-147">Você pode usar a caixa de diálogo **Adicionar referência de serviço** no Visual Studio para adicionar uma referência a um serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="ccbad-147">You can use the **Add Service Reference** dialog in Visual Studio to add a reference to a data service.</span></span> <span data-ttu-id="ccbad-148">Essa ferramenta solicita os metadados de serviço de um serviço de dados referenciado e gera o <xref:System.Data.Services.Client.DataServiceContext> que representa um serviço de dados, além de gerar as classes de serviço de dados cliente que representam entidades.</span><span class="sxs-lookup"><span data-stu-id="ccbad-148">This tool requests the service metadata from a referenced data service and generates the <xref:System.Data.Services.Client.DataServiceContext> that represents a data service, as well as generates the client data service classes that represent entities.</span></span> <span data-ttu-id="ccbad-149">Para obter mais informações, consulte [gerando a biblioteca de cliente do serviço de dados](generating-the-data-service-client-library-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="ccbad-149">For more information, see [Generating the Data Service Client Library](generating-the-data-service-client-library-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="ccbad-150">Há bibliotecas de programação disponíveis que você pode usar para consumir um feed OData em outros tipos de aplicativos cliente.</span><span class="sxs-lookup"><span data-stu-id="ccbad-150">There are programming libraries available that you can use to consume an OData feed in other kinds of client applications.</span></span> <span data-ttu-id="ccbad-151">Para obter mais informações sobre o SDK do OData, consulte [SDK do OData – código de exemplo](https://www.odata.org/ecosystem/#sdk).</span><span class="sxs-lookup"><span data-stu-id="ccbad-151">For more information on OData SDK, see [OData SDK - Sample Code](https://www.odata.org/ecosystem/#sdk).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="ccbad-152">Veja também</span><span class="sxs-lookup"><span data-stu-id="ccbad-152">See also</span></span>

- [<span data-ttu-id="ccbad-153">Acessando recursos do serviço de dados</span><span class="sxs-lookup"><span data-stu-id="ccbad-153">Accessing Data Service Resources</span></span>](accessing-data-service-resources-wcf-data-services.md)
- <span data-ttu-id="ccbad-154">[Quickstart](quickstart-wcf-data-services.md) (Início rápido)</span><span class="sxs-lookup"><span data-stu-id="ccbad-154">[Quickstart](quickstart-wcf-data-services.md)</span></span>
