---
title: Personalização do feed (WCF Data Services)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, feeds
- WCF Data Services, Atom protocol
- Atom Publishing Protocol [WCF Data Services]
- WCF Data Services, customizing feeds
ms.assetid: 0d1a39bc-6462-4683-bd7d-e74e0fd28a85
ms.openlocfilehash: 495ce51a70e8738746d62eb032d23cc0bbcd8083
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/15/2020
ms.locfileid: "90545879"
---
# <a name="feed-customization-wcf-data-services"></a><span data-ttu-id="1c8a1-102">Personalização do feed (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="1c8a1-102">Feed Customization (WCF Data Services)</span></span>
<span data-ttu-id="1c8a1-103">WCF Data Services usa o Protocolo Open Data (OData) para expor dados como um feed.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-103">WCF Data Services uses the Open Data Protocol (OData) to expose data as a feed.</span></span> <span data-ttu-id="1c8a1-104">O OData dá suporte a formatos Atom e JavaScript Object Notation (JSON) para feeds de dados.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-104">OData supports both Atom and JavaScript Object Notation (JSON) formats for data feeds.</span></span> <span data-ttu-id="1c8a1-105">Quando você usa um Feed Atom, o OData fornece um método padrão para serializar dados, como entidades e relações, em um formato XML que pode ser incluído no corpo da mensagem HTTP.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-105">When you use an Atom feed, OData provides a standard method to serialize data, such as entities and relationships, into an XML format that can be included in the body of HTTP message.</span></span> <span data-ttu-id="1c8a1-106">O OData define um mapeamento de propriedade de entidade padrão entre os dados contidos em entidades e elementos Atom.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-106">OData defines a default entity-property mapping between the data that is contained in entities and Atom elements.</span></span> <span data-ttu-id="1c8a1-107">Para obter mais informações, consulte [OData: Atom Format](https://www.odata.org/documentation/odata-version-2-0/atom-format/).</span><span class="sxs-lookup"><span data-stu-id="1c8a1-107">For more information, see [OData: Atom Format](https://www.odata.org/documentation/odata-version-2-0/atom-format/).</span></span>  
  
 <span data-ttu-id="1c8a1-108">Você pode ter um cenário de aplicativo que exige que os dados de propriedade retornados pelo serviço de dados sejam serializados de uma maneira personalizada em vez de no formato de feed padrão.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-108">You may have an application scenario that requires that the property data returned by the data service be serialized in a customized manner rather than in the standard feed format.</span></span> <span data-ttu-id="1c8a1-109">Com o OData, você pode personalizar a serialização em um feed de dados para que as propriedades de uma entidade possam ser mapeadas para elementos não utilizados e atributos de uma entrada ou para elementos personalizados de uma entrada no feed.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-109">With OData, you can customize the serialization in a data feed so that properties of an entity may be mapped to unused elements and attributes of an entry or to custom elements of an entry in the feed.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="1c8a1-110">A personalização do feed só tem suporte para feeds ATOM.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-110">Feed customization is only supported for Atom feeds.</span></span> <span data-ttu-id="1c8a1-111">Os feeds personalizados não são retornados quando o formato JSON é solicitado para o feed retornado.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-111">Custom feeds are not returned when the JSON format is requested for the returned feed.</span></span>  
  
 <span data-ttu-id="1c8a1-112">Com WCF Data Services, você pode definir um mapeamento de propriedade de entidade alternativo para um conteúdo Atom aplicando manualmente os atributos aos tipos de entidade no modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-112">With WCF Data Services, you can define an alternate entity-property mapping for an Atom payload by manually applying attributes to entity types in the data model.</span></span> <span data-ttu-id="1c8a1-113">O provedor de fonte de dados do serviço de dados determina como você deve aplicar esses atributos.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-113">The data source provider of the data service determines how you should apply these attributes.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="1c8a1-114">Ao definir feeds personalizados, você deve garantir que todas as propriedades de entidade que têm mapeamentos personalizados definidos sejam incluídas na projeção.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-114">When you define custom feeds, you must guarantee that all entity properties that have custom mappings defined are included in the projection.</span></span> <span data-ttu-id="1c8a1-115">Quando uma propriedade de entidade mapeada não é incluída na projeção, pode ocorrer perda de dados.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-115">When a mapped entity property is not included in the projection, data loss might occur.</span></span> <span data-ttu-id="1c8a1-116">Para obter mais informações, consulte [projeções de consulta](query-projections-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="1c8a1-116">For more information, see [Query Projections](query-projections-wcf-data-services.md).</span></span>  
  
## <a name="customizing-feeds-with-the-entity-framework-provider"></a><span data-ttu-id="1c8a1-117">Personalizando feeds com o provedor de Entity Framework</span><span class="sxs-lookup"><span data-stu-id="1c8a1-117">Customizing Feeds with the Entity Framework Provider</span></span>  
 <span data-ttu-id="1c8a1-118">O modelo de dados usado com o provedor de Entity Framework é representado como XML no arquivo. edmx.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-118">The data model used with the Entity Framework provider is represented as XML in the .edmx file.</span></span> <span data-ttu-id="1c8a1-119">Nesse caso, os atributos que definem feeds personalizados são adicionados aos `EntityType` `Property` elementos e que representam tipos de entidade e propriedades no modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-119">In this case, the attributes that define custom feeds are added to the `EntityType` and `Property` elements that represent entity types and properties in the data model.</span></span> <span data-ttu-id="1c8a1-120">Esses atributos de personalização do feed não são definidos no [ \[ formato de arquivo de definição de esquema MC-CSDL \] : conceitual](/openspecs/windows_protocols/mc-csdl/c03ad8c3-e8b7-4306-af96-a9e52bb3df12), que é o formato que o provedor de Entity Framework usa para definir o modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-120">These feed customization attributes are not defined in [\[MC-CSDL\]: Conceptual Schema Definition File Format](/openspecs/windows_protocols/mc-csdl/c03ad8c3-e8b7-4306-af96-a9e52bb3df12), which is the format that the Entity Framework provider uses to define the data model.</span></span> <span data-ttu-id="1c8a1-121">Portanto, você deve declarar atributos de personalização de feed em um namespace de esquema específico, que é definido como `m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"` .</span><span class="sxs-lookup"><span data-stu-id="1c8a1-121">Therefore, you must declare feed customization attributes in a specific schema namespace, which is defined as `m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"`.</span></span> <span data-ttu-id="1c8a1-122">O fragmento XML a seguir mostra os atributos de personalização do feed aplicados aos `Property` elementos do `Products` tipo de entidade que definem as `ProductName` `ReorderLevel` Propriedades, e `UnitsInStock` .</span><span class="sxs-lookup"><span data-stu-id="1c8a1-122">The following XML fragment shows feed customization attributes applied to `Property` elements of the `Products` entity type that define the `ProductName`, `ReorderLevel`, and `UnitsInStock` properties.</span></span>  
  
 [!code-xml[Astoria Custom Feeds#EdmFeedAttributes](../../../../samples/snippets/xml/VS_Snippets_Misc/astoria_custom_feeds/xml/northwind.csdl#edmfeedattributes)]  
  
 <span data-ttu-id="1c8a1-123">Esses atributos produzem o seguinte feed de dados personalizado para o `Products` conjunto de entidades.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-123">These attributes produce the following customized data feed for the `Products` entity set.</span></span> <span data-ttu-id="1c8a1-124">No feed de dados personalizado, o `ProductName` valor da propriedade é exibido em ambos no `author` elemento e como o `ProductName` elemento Property, e a `UnitsInStock` propriedade é exibida em um elemento personalizado que tem seu próprio namespace exclusivo e com a `ReorderLevel` propriedade como um atributo:</span><span class="sxs-lookup"><span data-stu-id="1c8a1-124">In the customized data feed, the `ProductName` property value is displayed in both in the `author` element and as the `ProductName` property element, and the `UnitsInStock` property is displayed in a custom element that has its own unique namespace and with the `ReorderLevel` property as an attribute:</span></span>  
  
 [!code-xml[Astoria Custom Feeds#EdmFeedResultProduct](../../../../samples/snippets/xml/VS_Snippets_Misc/astoria_custom_feeds/xml/edmfeedresult.xml#edmfeedresultproduct)]  
  
 <span data-ttu-id="1c8a1-125">Para obter mais informações, consulte [como: Personalizar feeds com o provedor de Entity Framework](how-to-customize-feeds-with-ef-provider-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="1c8a1-125">For more information, see [How to: Customize Feeds with the Entity Framework Provider](how-to-customize-feeds-with-ef-provider-wcf-data-services.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="1c8a1-126">Como as extensões para o modelo de dados não são suportadas pelo Entity Designer, você deve modificar manualmente o arquivo XML que contém o modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-126">Because extensions to the data model are not supported by the Entity Designer, you must manually modify the XML file that contains the data model.</span></span> <span data-ttu-id="1c8a1-127">Para obter mais informações sobre o arquivo. edmx gerado pelas ferramentas de Modelo de Dados de Entidade, consulte [visão geral do arquivo. edmx (Entity Framework)](/previous-versions/dotnet/netframework-4.0/cc982042(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="1c8a1-127">For more information about the .edmx file that is generated by the Entity Data Model tools, see [.edmx File Overview (Entity Framework)](/previous-versions/dotnet/netframework-4.0/cc982042(v=vs.100)).</span></span>  
  
### <a name="custom-feed-attributes"></a><span data-ttu-id="1c8a1-128">Atributos de feed personalizados</span><span class="sxs-lookup"><span data-stu-id="1c8a1-128">Custom Feed Attributes</span></span>  
 <span data-ttu-id="1c8a1-129">A tabela a seguir mostra os atributos XML que personalizam feeds que você pode adicionar ao CSDL (linguagem de definição de esquema conceitual) que define o modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-129">The following table shows the XML attributes that customize feeds that you can add to the conceptual schema definition language (CSDL) that defines the data model.</span></span> <span data-ttu-id="1c8a1-130">Esses atributos são equivalentes às propriedades do <xref:System.Data.Services.Common.EntityPropertyMappingAttribute> usadas com o provedor de reflexão.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-130">These attributes are equivalent to the properties of the <xref:System.Data.Services.Common.EntityPropertyMappingAttribute> used with the reflection provider.</span></span>  
  
|<span data-ttu-id="1c8a1-131">Nome do atributo</span><span class="sxs-lookup"><span data-stu-id="1c8a1-131">Attribute name</span></span>|<span data-ttu-id="1c8a1-132">Description</span><span class="sxs-lookup"><span data-stu-id="1c8a1-132">Description</span></span>|  
|--------------------|-----------------|  
|`FC_ContentKind`|<span data-ttu-id="1c8a1-133">Indica o tipo do conteúdo.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-133">Indicates the type of the content.</span></span> <span data-ttu-id="1c8a1-134">As palavras-chave a seguir definem tipos de conteúdo de distribuição.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-134">The following keywords define syndication content types.</span></span><br /><br /> <span data-ttu-id="1c8a1-135">`text:` O valor da propriedade é exibido no feed como texto.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-135">`text:` The property value is displayed in the feed as text.</span></span><br /><br /> <span data-ttu-id="1c8a1-136">`html:` O valor da propriedade é exibido no feed como HTML.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-136">`html:` The property value is displayed in the feed as HTML.</span></span><br /><br /> <span data-ttu-id="1c8a1-137">`xhtml:` O valor da propriedade é exibido no feed como HTML formatado em XML.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-137">`xhtml:` The property value is displayed in the feed as XML-formatted HTML.</span></span><br /><br /> <span data-ttu-id="1c8a1-138">Essas palavras-chave são equivalentes aos valores da <xref:System.Data.Services.Common.SyndicationTextContentKind> enumeração usada com o provedor de reflexão.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-138">These keywords are equivalent to the values of the <xref:System.Data.Services.Common.SyndicationTextContentKind> enumeration used with the reflection provider.</span></span><br /><br /> <span data-ttu-id="1c8a1-139">Não há suporte para esse atributo quando `FC_NsPrefix` os `FC_NsUri` atributos e são usados.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-139">This attribute is not supported when the `FC_NsPrefix` and `FC_NsUri` attributes are used.</span></span><br /><br /> <span data-ttu-id="1c8a1-140">Ao especificar um valor de `xhtml` para o `FC_ContentKind` atributo, você deve garantir que o valor da propriedade contenha XML formatado corretamente.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-140">When you specify a value of `xhtml` for the `FC_ContentKind` attribute, you must ensure that the property value contains properly formatted XML.</span></span> <span data-ttu-id="1c8a1-141">O serviço de dados retorna o valor sem executar nenhuma transformação.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-141">The data service returns the value without performing any transformations.</span></span> <span data-ttu-id="1c8a1-142">Você também deve garantir que todos os prefixos de elemento XML no XML retornado tenham um URI de namespace e um prefixo definidos no feed mapeado.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-142">You must also ensure that any XML element prefixes in the returned XML have a namespace URI and prefix defined in the mapped feed.</span></span>|  
|`FC_KeepInContent`|<span data-ttu-id="1c8a1-143">Indica que o valor da propriedade referenciada deve ser incluído na seção de conteúdo do feed e no local mapeado.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-143">Indicates that the referenced property value should be included both in the content section of the feed and in the mapped location.</span></span> <span data-ttu-id="1c8a1-144">Os valores válidos são `true` e `false`.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-144">Valid values are `true` and `false`.</span></span> <span data-ttu-id="1c8a1-145">Para tornar o feed resultante compatível com versões anteriores do WCF Data Services, especifique um valor de para certificar-se `true` de que o valor está incluído na seção de conteúdo do feed.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-145">To make the resulting feed backward-compatible with earlier versions of WCF Data Services, specify a value of `true` to make sure that the value is included in the content section of the feed.</span></span>|  
|`FC_NsPrefix`|<span data-ttu-id="1c8a1-146">O prefixo do namespace do elemento XML em um mapeamento que não é de distribuição.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-146">The namespace prefix of the XML element in a non-syndication mapping.</span></span> <span data-ttu-id="1c8a1-147">Esse atributo deve ser usado com o `FC_NsUri` atributo e não pode ser usado com o `FC_ContentKind` atributo.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-147">This attribute must be used with the `FC_NsUri` attribute and cannot be used with the `FC_ContentKind` attribute.</span></span>|  
|`FC_NsUri`|<span data-ttu-id="1c8a1-148">O URI do namespace do elemento XML em um mapeamento que não é de distribuição.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-148">The namespace URI of the XML element in a non-syndication mapping.</span></span> <span data-ttu-id="1c8a1-149">Esse atributo deve ser usado com o `FC_NsPrefix` atributo e não pode ser usado com o `FC_ContentKind` atributo.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-149">This attribute must be used with the `FC_NsPrefix` attribute and cannot be used with the `FC_ContentKind` attribute.</span></span>|  
|`FC_SourcePath`|<span data-ttu-id="1c8a1-150">O caminho da propriedade da entidade à qual esta regra de mapeamento de feed se aplica.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-150">The path of the property of the entity to which this feed mapping rule applies.</span></span> <span data-ttu-id="1c8a1-151">Só há suporte para esse atributo quando ele é usado em um `EntityType` elemento.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-151">This attribute is only supported when it is used in an `EntityType` element.</span></span><br /><br /> <span data-ttu-id="1c8a1-152">A <xref:System.Data.Services.Common.EntityPropertyMappingAttribute.SourcePath%2A> propriedade não pode referenciar diretamente um tipo complexo.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-152">The <xref:System.Data.Services.Common.EntityPropertyMappingAttribute.SourcePath%2A> property cannot directly reference a complex type.</span></span> <span data-ttu-id="1c8a1-153">Para tipos complexos, você deve usar uma expressão de caminho na qual os nomes de propriedade são separados por um caractere de barra invertida ( `/` ).</span><span class="sxs-lookup"><span data-stu-id="1c8a1-153">For complex types, you must use a path expression where property names are separated by a backslash (`/`) character.</span></span> <span data-ttu-id="1c8a1-154">Por exemplo, os valores a seguir são permitidos para um tipo de entidade `Person` com uma propriedade de número inteiro `Age` e uma propriedade complexa</span><span class="sxs-lookup"><span data-stu-id="1c8a1-154">For example, the following values are allowed for an entity type `Person` with an integer property `Age` and a complex property</span></span><br /><br /> <span data-ttu-id="1c8a1-155">`Address`:</span><span class="sxs-lookup"><span data-stu-id="1c8a1-155">`Address`:</span></span><br /><br /> `Age`<br /><br /> `Address/Street`<br /><br /> <span data-ttu-id="1c8a1-156">A <xref:System.Data.Services.Common.EntityPropertyMappingAttribute.SourcePath%2A> propriedade não pode ser definida como um valor que contenha um espaço ou qualquer outro caractere que não seja válido em um nome de propriedade.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-156">The <xref:System.Data.Services.Common.EntityPropertyMappingAttribute.SourcePath%2A> property cannot be set to a value that contains a space or any other character that is not valid in a property name.</span></span>|  
|`FC_TargetPath`|<span data-ttu-id="1c8a1-157">O nome do elemento de destino do feed resultante para mapear a propriedade.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-157">The name of the target element of the resulting feed to map the property.</span></span> <span data-ttu-id="1c8a1-158">Esse elemento pode ser um elemento definido pela especificação Atom ou um elemento personalizado.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-158">This element can be an element defined by the Atom specification or a custom element.</span></span><br /><br /> <span data-ttu-id="1c8a1-159">As palavras-chave a seguir são valores de caminho de destino de agregação predefinidos que apontam para um local específico em um feed OData.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-159">The following keywords are predefined syndication target-path values that point to specific location in an OData feed.</span></span><br /><br /> <span data-ttu-id="1c8a1-160">`SyndicationAuthorEmail:` O `atom:email` elemento filho do `atom:author` elemento.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-160">`SyndicationAuthorEmail:` The `atom:email` child element of the `atom:author` element.</span></span><br /><br /> <span data-ttu-id="1c8a1-161">`SyndicationAuthorName:` O `atom:name` elemento filho do `atom:author` elemento.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-161">`SyndicationAuthorName:` The `atom:name` child element of the `atom:author` element.</span></span><br /><br /> <span data-ttu-id="1c8a1-162">`SyndicationAuthorUri:` O `atom:uri` elemento filho do `atom:author` elemento.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-162">`SyndicationAuthorUri:` The `atom:uri` child element of the `atom:author` element.</span></span><br /><br /> <span data-ttu-id="1c8a1-163">`SyndicationContributorEmail:` O `atom:email` elemento filho do `atom:contributor` elemento.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-163">`SyndicationContributorEmail:` The `atom:email` child element of the `atom:contributor` element.</span></span><br /><br /> <span data-ttu-id="1c8a1-164">`SyndicationContributorName:` O `atom:name` elemento filho do `atom:contributor` elemento.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-164">`SyndicationContributorName:` The `atom:name` child element of the `atom:contributor` element.</span></span><br /><br /> <span data-ttu-id="1c8a1-165">`SyndicationContributorUri:` O `atom:uri` elemento filho do `atom:contributor` elemento.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-165">`SyndicationContributorUri:` The `atom:uri` child element of the `atom:contributor` element.</span></span><br /><br /> <span data-ttu-id="1c8a1-166">`SyndicationCustomProperty:` Um elemento Property personalizado.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-166">`SyndicationCustomProperty:` A custom property element.</span></span> <span data-ttu-id="1c8a1-167">Ao mapear para um elemento personalizado, o destino deve ser uma expressão de caminho na qual os elementos aninhados são separados por uma barra invertida ( `/` ) e os atributos são especificados por um e comercial ( `@` ).</span><span class="sxs-lookup"><span data-stu-id="1c8a1-167">When mapping to a custom element, the target must be a path expression in which nested elements are separated by a backslash (`/`) and attributes are specified by an ampersand (`@`).</span></span> <span data-ttu-id="1c8a1-168">No exemplo a seguir, a cadeia de caracteres `UnitsInStock/@ReorderLevel` mapeia um valor de propriedade para um atributo chamado `ReorderLevel` em um elemento filho denominado `UnitsInStock` do elemento de entrada raiz.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-168">In the following example, the string `UnitsInStock/@ReorderLevel` maps a property value to an attribute named `ReorderLevel` on a child element named `UnitsInStock` of the root entry element.</span></span><br /><br /> `<Property Name="ReorderLevel" Type="Int16"               m:FC_TargetPath="UnitsInStock/@ReorderLevel"               m:FC_NsPrefix="Northwind"               m:FC_NsUri="http://schemas.examples.microsoft.com/dataservices"               m:FC_KeepInContent="false"               />`<br /><br /> <span data-ttu-id="1c8a1-169">Quando o destino for um nome de elemento personalizado, `FC_NsPrefix` os `FC_NsUri` atributos e também deverão ser especificados.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-169">When the target is a custom element name, the `FC_NsPrefix` and `FC_NsUri` attributes must also be specified.</span></span><br /><br /> <span data-ttu-id="1c8a1-170">`SyndicationPublished:` O `atom:published` elemento.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-170">`SyndicationPublished:` The `atom:published` element.</span></span><br /><br /> <span data-ttu-id="1c8a1-171">`SyndicationRights:` O `atom:rights` elemento.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-171">`SyndicationRights:` The `atom:rights` element.</span></span><br /><br /> <span data-ttu-id="1c8a1-172">`SyndicationSummary:` O `atom:summary` elemento.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-172">`SyndicationSummary:` The `atom:summary` element.</span></span><br /><br /> <span data-ttu-id="1c8a1-173">`SyndicationTitle:` O `atom:title` elemento.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-173">`SyndicationTitle:` The `atom:title` element.</span></span><br /><br /> <span data-ttu-id="1c8a1-174">`SyndicationUpdated:` O `atom:updated` elemento.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-174">`SyndicationUpdated:` The `atom:updated` element.</span></span><br /><br /> <span data-ttu-id="1c8a1-175">Essas palavras-chave são equivalentes aos valores da <xref:System.Data.Services.Common.SyndicationItemProperty> enumeração usada com o provedor de reflexão.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-175">These keywords are equivalent to the values of the <xref:System.Data.Services.Common.SyndicationItemProperty> enumeration used with the reflection provider.</span></span>|  
  
> [!NOTE]
> <span data-ttu-id="1c8a1-176">Os nomes e valores de atributo diferenciam maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-176">Attribute names and values are case-sensitive.</span></span> <span data-ttu-id="1c8a1-177">Os atributos podem ser aplicados ao `EntityType` elemento ou a um ou mais `Property` elementos, mas não a ambos.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-177">Attributes can be applied either to the `EntityType` element or to one or more `Property` elements, but not to both.</span></span>  
  
## <a name="customizing-feeds-with-the-reflection-provider"></a><span data-ttu-id="1c8a1-178">Personalizando feeds com o provedor de reflexão</span><span class="sxs-lookup"><span data-stu-id="1c8a1-178">Customizing Feeds with the Reflection Provider</span></span>  
 <span data-ttu-id="1c8a1-179">Para personalizar feeds para um modelo de dados que foi implementado usando o provedor de reflexão, adicione uma ou mais instâncias do <xref:System.Data.Services.Common.EntityPropertyMappingAttribute> atributo às classes que representam tipos de entidade no modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-179">To customize feeds for a data model that was implemented by using the reflection provider, add one or more instances of the <xref:System.Data.Services.Common.EntityPropertyMappingAttribute> attribute to the classes that represent entity types in the data model.</span></span> <span data-ttu-id="1c8a1-180">As propriedades da <xref:System.Data.Services.Common.EntityPropertyMappingAttribute> classe correspondem aos atributos de personalização do feed que são descritos na seção anterior.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-180">The properties of the <xref:System.Data.Services.Common.EntityPropertyMappingAttribute> class correspond to the feed customization attributes that are described in the previous section.</span></span> <span data-ttu-id="1c8a1-181">Veja a seguir um exemplo da declaração do `Order` tipo, com o mapeamento de feed personalizado definido para ambas as propriedades.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-181">The following is an example of the declaration of the `Order` type, with custom feed mapping defined for both properties.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="1c8a1-182">O modelo de dados para este exemplo é definido no tópico [como criar um serviço de dados usando o provedor de reflexão](create-a-data-service-using-rp-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="1c8a1-182">The data model for this example is defined in the topic [How to: Create a Data Service Using the Reflection Provider](create-a-data-service-using-rp-wcf-data-services.md).</span></span>  
  
 [!code-csharp[Astoria Custom Feeds#CustomOrderFeed](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_custom_feeds/cs/orderitems.svc.cs#customorderfeed)]
 [!code-vb[Astoria Custom Feeds#CustomOrderFeed](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_custom_feeds/vb/orderitems.svc.vb#customorderfeed)]  
  
 <span data-ttu-id="1c8a1-183">Esses atributos produzem o seguinte feed de dados personalizado para o `Orders` conjunto de entidades.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-183">These attributes produce the following customized data feed for the `Orders` entity set.</span></span> <span data-ttu-id="1c8a1-184">Nesse feed personalizado, o `OrderId` valor da propriedade é exibido somente no `title` elemento do `entry` e o valor da propriedade é `Customer` exibido no `author` elemento e como o elemento de `Customer` Propriedade:</span><span class="sxs-lookup"><span data-stu-id="1c8a1-184">In this customized feed, the `OrderId` property value displays only in the `title` element of the `entry` and the `Customer` property value displays both in the `author` element and as the `Customer` property element:</span></span>  
  
 [!code-xml[Astoria Custom Feeds#IQueryableFeedResult](../../../../samples/snippets/xml/VS_Snippets_Misc/astoria_custom_feeds/xml/iqueryablefeedresult.xml#iqueryablefeedresult)]  
  
 <span data-ttu-id="1c8a1-185">Para obter mais informações, consulte [como: Personalizar feeds com o provedor de reflexão](how-to-customize-feeds-with-the-reflection-provider-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="1c8a1-185">For more information, see [How to: Customize Feeds with the Reflection Provider](how-to-customize-feeds-with-the-reflection-provider-wcf-data-services.md).</span></span>  
  
## <a name="customizing-feeds-with-a-custom-data-service-provider"></a><span data-ttu-id="1c8a1-186">Personalizando feeds com um provedor de serviços de dados personalizado</span><span class="sxs-lookup"><span data-stu-id="1c8a1-186">Customizing Feeds with a Custom Data Service Provider</span></span>  
 <span data-ttu-id="1c8a1-187">A personalização do feed para um modelo de dados definido usando um provedor de serviço de dados personalizado é definida para um tipo de recurso chamando o <xref:System.Data.Services.Providers.ResourceType.AddEntityPropertyMappingAttribute%2A> no <xref:System.Data.Services.Providers.ResourceType> que representa um tipo de entidade no modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-187">Feed customization for a data model defined by using a custom data service provider is defined for a resource type by calling the <xref:System.Data.Services.Providers.ResourceType.AddEntityPropertyMappingAttribute%2A> on the <xref:System.Data.Services.Providers.ResourceType> that represents an entity type in the data model.</span></span> <span data-ttu-id="1c8a1-188">Para obter mais informações, consulte [provedores de serviço de dados personalizados](custom-data-service-providers-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="1c8a1-188">For more information, see [Custom Data Service Providers](custom-data-service-providers-wcf-data-services.md).</span></span>  
  
## <a name="consuming-custom-feeds"></a><span data-ttu-id="1c8a1-189">Consumindo feeds personalizados</span><span class="sxs-lookup"><span data-stu-id="1c8a1-189">Consuming Custom Feeds</span></span>  
 <span data-ttu-id="1c8a1-190">Quando o aplicativo consome diretamente um feed OData, ele deve ser capaz de processar quaisquer elementos e atributos personalizados no feed retornado.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-190">When your application directly consumes an OData feed, it must be able to process any customized elements and attributes in the returned feed.</span></span> <span data-ttu-id="1c8a1-191">Quando você implementou feeds personalizados em seu modelo de dados, independentemente do provedor de serviços de dados, o `$metadata` ponto de extremidade retorna informações de feed personalizadas como atributos de feed personalizados no CSDL retornado pelo serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-191">When you have implemented custom feeds in your data model, regardless of the data service provider, the `$metadata` endpoint returns custom feed information as custom feed attributes in the CSDL returned by the data service.</span></span> <span data-ttu-id="1c8a1-192">Quando você usa a caixa de diálogo **Adicionar referência de serviço** ou a ferramenta [datasvcutil.exe](wcf-data-service-client-utility-datasvcutil-exe.md) para gerar classes de serviço de dados do cliente, os atributos de feed personalizados são usados para garantir que as solicitações e respostas para o serviço de dados sejam manipuladas corretamente.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-192">When you use the **Add Service Reference** dialog or the [datasvcutil.exe](wcf-data-service-client-utility-datasvcutil-exe.md) tool to generate client data service classes, the customized feed attributes are used to guarantee that requests and responses to the data service are handled correctly.</span></span>  
  
## <a name="feed-customization-considerations"></a><span data-ttu-id="1c8a1-193">Considerações de personalização do feed</span><span class="sxs-lookup"><span data-stu-id="1c8a1-193">Feed Customization Considerations</span></span>  
 <span data-ttu-id="1c8a1-194">Você deve considerar o seguinte ao definir mapeamentos de feed personalizados.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-194">You should consider the following when defining custom feed mappings.</span></span>  
  
- <span data-ttu-id="1c8a1-195">O cliente WCF Data Services trata os elementos mapeados em um feed como vazios quando contêm apenas espaços em branco.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-195">The WCF Data Services client treats mapped elements in a feed as empty when they contain only white space.</span></span> <span data-ttu-id="1c8a1-196">Por isso, os elementos mapeados que contêm apenas espaços em branco não são materializados no cliente com o mesmo espaço em branco.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-196">Because of this, mapped elements that contain only white space are not materialized on the client with the same white space.</span></span> <span data-ttu-id="1c8a1-197">Para preservar esse espaço em branco no cliente, você deve definir o valor de `KeepInContext` como `true` no atributo de mapeamento de feed.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-197">To preserve this white space on the client, you must set the value of `KeepInContext` to `true` in the feed mapping attribute.</span></span>  
  
## <a name="versioning-requirements"></a><span data-ttu-id="1c8a1-198">Requisitos de controle de versão</span><span class="sxs-lookup"><span data-stu-id="1c8a1-198">Versioning Requirements</span></span>  
 <span data-ttu-id="1c8a1-199">A personalização do feed tem os seguintes requisitos de controle de versão do protocolo OData:</span><span class="sxs-lookup"><span data-stu-id="1c8a1-199">Feed customization has the following OData protocol versioning requirements:</span></span>  
  
- <span data-ttu-id="1c8a1-200">A personalização do feed requer que o cliente e o serviço de dados ofereçam suporte à versão 2,0 do protocolo OData e versões posteriores.</span><span class="sxs-lookup"><span data-stu-id="1c8a1-200">Feed customization requires that both the client and data service support version 2.0 of the OData protocol and later versions.</span></span>  
  
 <span data-ttu-id="1c8a1-201">Para obter mais informações, consulte [controle de versão do serviço de dados](data-service-versioning-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="1c8a1-201">For more information, see [Data Service Versioning](data-service-versioning-wcf-data-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1c8a1-202">Confira também</span><span class="sxs-lookup"><span data-stu-id="1c8a1-202">See also</span></span>

- [<span data-ttu-id="1c8a1-203">Provedor de reflexão</span><span class="sxs-lookup"><span data-stu-id="1c8a1-203">Reflection Provider</span></span>](reflection-provider-wcf-data-services.md)
- [<span data-ttu-id="1c8a1-204">Provedor de Entity Framework</span><span class="sxs-lookup"><span data-stu-id="1c8a1-204">Entity Framework Provider</span></span>](entity-framework-provider-wcf-data-services.md)
