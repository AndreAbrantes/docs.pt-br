---
title: 'Como: associar dados usando uma fonte de dados do projeto (WCF Data Services)'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data binding, WCF Data Services
- WCF Data Services, data binding
ms.assetid: 2477af0a-676f-44f7-b73d-e66208785509
ms.openlocfilehash: 62a7e3bf7caf60c6a532dbffeb8aac8b6c59deb9
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/04/2018
ms.locfileid: "43563853"
---
# <a name="how-to-bind-data-using-a-project-data-source-wcf-data-services"></a><span data-ttu-id="5525a-102">Como: associar dados usando uma fonte de dados do projeto (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="5525a-102">How to: Bind Data Using a Project Data Source (WCF Data Services)</span></span>

<span data-ttu-id="5525a-103">Você pode criar fontes de dados que são baseados nos objetos de dados gerados em um aplicativo de cliente do WCF Data Services.</span><span class="sxs-lookup"><span data-stu-id="5525a-103">You can create data sources that are based on the generated data objects in an WCF Data Services client application.</span></span> <span data-ttu-id="5525a-104">Quando você adiciona uma referência a um serviço de dados usando o **adicionar referência de serviço** caixa de diálogo, uma fonte de dados do projeto é criada junto com as classes de dados do cliente gerado.</span><span class="sxs-lookup"><span data-stu-id="5525a-104">When you add a reference to a data service by using the **Add Service Reference** dialog, a project data source is created along with the generated client data classes.</span></span> <span data-ttu-id="5525a-105">Uma fonte de dados é criada para cada conjunto de entidades que os dados de serviço expõe.</span><span class="sxs-lookup"><span data-stu-id="5525a-105">One data source is created for each entity set that the data service exposes.</span></span> <span data-ttu-id="5525a-106">Você pode criar formulários que exibem dados do serviço, arrastando esses itens de fonte de dados das **fontes de dados** janela no designer.</span><span class="sxs-lookup"><span data-stu-id="5525a-106">You can create forms that display data from the service by dragging these data source items from the **Data Sources** window onto the designer.</span></span> <span data-ttu-id="5525a-107">Esses itens se tornam os controles que estão associados à fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="5525a-107">These items become controls that are bound to the data source.</span></span> <span data-ttu-id="5525a-108">Durante a execução, esta fonte de dados está associada a uma instância da <xref:System.Data.Services.Client.DataServiceCollection%601> classe, que é preenchida com objetos que são retornados por uma consulta ao serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="5525a-108">During execution, this data source is bound to an instance of the <xref:System.Data.Services.Client.DataServiceCollection%601> class, which is filled with objects that are returned by a query to the data service.</span></span> <span data-ttu-id="5525a-109">Para obter mais informações, consulte [associando dados a controles](../../../../docs/framework/data/wcf/binding-data-to-controls-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="5525a-109">For more information, see [Binding Data to Controls](../../../../docs/framework/data/wcf/binding-data-to-controls-wcf-data-services.md).</span></span>

 <span data-ttu-id="5525a-110">Os exemplos neste tópico usam o serviço de dados de exemplo Northwind e dados de cliente gerado automaticamente classes de serviço.</span><span class="sxs-lookup"><span data-stu-id="5525a-110">The examples in this topic use the Northwind sample data service and autogenerated client data service classes.</span></span> <span data-ttu-id="5525a-111">Esse serviço e as classes de dados do cliente são criadas quando você concluir o [início rápido do WCF Data Services](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="5525a-111">This service and the client data classes are created when you complete the [WCF Data Services quickstart](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md).</span></span>

## <a name="use-a-project-data-source-in-a-wpf-window"></a><span data-ttu-id="5525a-112">Usar uma fonte de dados do projeto em uma janela do WPF</span><span class="sxs-lookup"><span data-stu-id="5525a-112">Use a project data source in a WPF window</span></span>

1.  <span data-ttu-id="5525a-113">No Visual Studio, em um projeto do WPF, adicione uma referência ao serviço de dados Northwind.</span><span class="sxs-lookup"><span data-stu-id="5525a-113">In Visual Studio, in a WPF project, add a reference to the Northwind data service.</span></span> <span data-ttu-id="5525a-114">Para obter mais informações, consulte [como: adicionar uma referência de serviço de dados](../../../../docs/framework/data/wcf/how-to-add-a-data-service-reference-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="5525a-114">For more information, see [How to: Add a Data Service Reference](../../../../docs/framework/data/wcf/how-to-add-a-data-service-reference-wcf-data-services.md).</span></span>

2.  <span data-ttu-id="5525a-115">No **fontes de dados** janela, expanda o `Customers` nó no **NorthwindEntities** fonte de dados do projeto.</span><span class="sxs-lookup"><span data-stu-id="5525a-115">In the **Data Sources** window, expand the `Customers` node in the **NorthwindEntities** project data source.</span></span>

3.  <span data-ttu-id="5525a-116">Clique o **CustomerID** item, selecione **ComboBox** na lista e arraste o **CustomerID** item do **clientes** nó para o Designer.</span><span class="sxs-lookup"><span data-stu-id="5525a-116">Click the **CustomerID** item, select **ComboBox** from the list, and drag the **CustomerID** item from the **Customers** node to the designer.</span></span>

     <span data-ttu-id="5525a-117">Isso cria os seguintes elementos de objeto no arquivo XAML da janela:</span><span class="sxs-lookup"><span data-stu-id="5525a-117">This creates the following object elements in the XAML file for the window:</span></span>

    -   <span data-ttu-id="5525a-118">Um <xref:System.Windows.Data.CollectionViewSource> elemento chamado `customersViewSource`.</span><span class="sxs-lookup"><span data-stu-id="5525a-118">A <xref:System.Windows.Data.CollectionViewSource> element named `customersViewSource`.</span></span> <span data-ttu-id="5525a-119">O <xref:System.Windows.FrameworkElement.DataContext%2A> propriedade de nível superior <xref:System.Windows.Controls.Grid> elemento de objeto é definido para esse novo <xref:System.Windows.Data.CollectionViewSource>.</span><span class="sxs-lookup"><span data-stu-id="5525a-119">The <xref:System.Windows.FrameworkElement.DataContext%2A> property of the top-level <xref:System.Windows.Controls.Grid> object element is set to this new <xref:System.Windows.Data.CollectionViewSource>.</span></span>

    -   <span data-ttu-id="5525a-120">Uma associação de dados <xref:System.Windows.Controls.ComboBox> chamado `CustomerID`.</span><span class="sxs-lookup"><span data-stu-id="5525a-120">A data-bound <xref:System.Windows.Controls.ComboBox> named `CustomerID`.</span></span>

    -   <span data-ttu-id="5525a-121">Um <xref:System.Windows.Controls.Label>.</span><span class="sxs-lookup"><span data-stu-id="5525a-121">A <xref:System.Windows.Controls.Label>.</span></span>

4.  <span data-ttu-id="5525a-122">Arraste o **pedidos** propriedade de navegação para o designer.</span><span class="sxs-lookup"><span data-stu-id="5525a-122">Drag the **Orders** navigation property to the designer.</span></span>

     <span data-ttu-id="5525a-123">Isso cria os seguintes elementos de objeto adicionais no arquivo XAML da janela:</span><span class="sxs-lookup"><span data-stu-id="5525a-123">This creates the following additional object elements in the XAML file for the window:</span></span>

    -   <span data-ttu-id="5525a-124">Um segundo <xref:System.Windows.Data.CollectionViewSource> elemento denominado `customersOrdersViewSource`, a origem da qual é o `customerViewSource`.</span><span class="sxs-lookup"><span data-stu-id="5525a-124">A second <xref:System.Windows.Data.CollectionViewSource> element named `customersOrdersViewSource`, the source of which is the `customerViewSource`.</span></span>

    -   <span data-ttu-id="5525a-125">Uma associação de dados <xref:System.Windows.Controls.DataGrid> controle chamado `ordersDataGrid`.</span><span class="sxs-lookup"><span data-stu-id="5525a-125">A data-bound <xref:System.Windows.Controls.DataGrid> control named `ordersDataGrid`.</span></span>

5.  <span data-ttu-id="5525a-126">(Opcional) Arraste itens adicionais do **clientes** nó para o designer.</span><span class="sxs-lookup"><span data-stu-id="5525a-126">(Optional) Drag additional items from the **Customers** node to the designer.</span></span>

6.  <span data-ttu-id="5525a-127">Abra a página de código para o formulário e adicione o seguinte `using` instruções (`Imports` no Visual Basic):</span><span class="sxs-lookup"><span data-stu-id="5525a-127">Open the code page for the form and add the following `using` statements (`Imports` in Visual Basic):</span></span>

     [!code-csharp[Astoria Northwind Client#CustomersOrdersUsingWpf](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/customerorderswpf2.xaml.cs#customersordersusingwpf)]

7.  <span data-ttu-id="5525a-128">Na classe parcial que define o formulário, adicione o seguinte código que cria um <xref:System.Data.Objects.ObjectContext> da instância e define o `customerID` constante.</span><span class="sxs-lookup"><span data-stu-id="5525a-128">In the partial class that defines the form, add the following code that creates an <xref:System.Data.Objects.ObjectContext> instance and defines the `customerID` constant.</span></span>

     [!code-csharp[Astoria Northwind Client#CustomersOrdersDefinitionWpf](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/customerorderswpf2.xaml.cs#customersordersdefinitionwpf)]
     [!code-vb[Astoria Northwind Client#CustomersOrdersDefinitionWpf](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/customerorderswpf2.xaml.vb#customersordersdefinitionwpf)]

8.  <span data-ttu-id="5525a-129">No designer, selecione a janela.</span><span class="sxs-lookup"><span data-stu-id="5525a-129">In the designer, select the window.</span></span>

    > [!NOTE]
    > <span data-ttu-id="5525a-130">Certifique-se de que você selecione a janela em si, em vez de selecionar o conteúdo que está dentro da janela.</span><span class="sxs-lookup"><span data-stu-id="5525a-130">Make sure that you select the window itself, rather than selecting content that is within the window.</span></span> <span data-ttu-id="5525a-131">Se a janela for selecionada, o **nome** caixa de texto na parte superior do **propriedades** janela deve conter o nome da janela.</span><span class="sxs-lookup"><span data-stu-id="5525a-131">If the window is selected, the **Name** text box near the top of the **Properties** window should contain the name of the window.</span></span>

9. <span data-ttu-id="5525a-132">No **propriedades** janela, selecione a **eventos** botão.</span><span class="sxs-lookup"><span data-stu-id="5525a-132">In the **Properties** window, select the **Events** button.</span></span>

10. <span data-ttu-id="5525a-133">Localizar o **Loaded** evento e, em seguida, clique duas vezes na lista suspensa lista ao lado desse evento.</span><span class="sxs-lookup"><span data-stu-id="5525a-133">Find the **Loaded** event, and then double-click the drop-down list next to this event.</span></span>

     <span data-ttu-id="5525a-134">Visual Studio abre o arquivo code-behind da janela e gera um <xref:System.Windows.FrameworkElement.Loaded> manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="5525a-134">Visual Studio opens the code-behind file for the window and generates a <xref:System.Windows.FrameworkElement.Loaded> event handler.</span></span>

11. <span data-ttu-id="5525a-135">Em recém-criado <xref:System.Windows.FrameworkElement.Loaded> manipulador de eventos, copie e cole o código a seguir.</span><span class="sxs-lookup"><span data-stu-id="5525a-135">In the newly created <xref:System.Windows.FrameworkElement.Loaded> event handler, copy and paste the following code.</span></span>

     [!code-csharp[Astoria Northwind Client#CustomersOrdersDataBindingWpf](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/customerorderswpf2.xaml.cs#customersordersdatabindingwpf)]
     [!code-vb[Astoria Northwind Client#CustomersOrdersDataBindingWpf](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/customerorderswpf2.xaml.vb#customersordersdatabindingwpf)]

12. <span data-ttu-id="5525a-136">Esse código cria uma instância do <xref:System.Data.Services.Client.DataServiceCollection%601> para o `Customers` tipo com base na execução de uma consulta LINQ que retorna um <xref:System.Collections.Generic.IEnumerable%601> de `Customers` juntamente com relacionados `Orders` objetos do serviço de dados Northwind e associá-lo para o `customersViewSource`.</span><span class="sxs-lookup"><span data-stu-id="5525a-136">This code creates an instance of <xref:System.Data.Services.Client.DataServiceCollection%601> for the `Customers` type based on the execution of a LINQ query that returns an <xref:System.Collections.Generic.IEnumerable%601> of `Customers` along with related `Orders` objects from the Northwind data service and binds it to the `customersViewSource`.</span></span>

## <a name="use-a-project-data-source-in-a-windows-form"></a><span data-ttu-id="5525a-137">Usar uma fonte de dados de projeto em um formulário do Windows</span><span class="sxs-lookup"><span data-stu-id="5525a-137">Use a project data source in a Windows form</span></span>

1.  <span data-ttu-id="5525a-138">No **fontes de dados** janela, expanda o **clientes** nó no **NorthwindEntities** fonte de dados do projeto.</span><span class="sxs-lookup"><span data-stu-id="5525a-138">In the **Data Sources** window, expand the **Customers** node in the **NorthwindEntities** project data source.</span></span>

2.  <span data-ttu-id="5525a-139">Clique o **CustomerID** item, selecione **ComboBox** na lista e arraste o **CustomerID** item do **clientes** nó para o Designer.</span><span class="sxs-lookup"><span data-stu-id="5525a-139">Click the **CustomerID** item, select **ComboBox** from the list, and drag the **CustomerID** item from the **Customers** node to the designer.</span></span>

     <span data-ttu-id="5525a-140">Isso cria os seguintes controles no formulário:</span><span class="sxs-lookup"><span data-stu-id="5525a-140">This creates the following controls on the form:</span></span>

    -   <span data-ttu-id="5525a-141">Uma instância do <xref:System.Windows.Forms.BindingSource> chamado `customersBindingSource`.</span><span class="sxs-lookup"><span data-stu-id="5525a-141">An instance of <xref:System.Windows.Forms.BindingSource> named `customersBindingSource`.</span></span>

    -   <span data-ttu-id="5525a-142">Uma instância do <xref:System.Windows.Forms.BindingNavigator> chamado `customersBindingNavigator`.</span><span class="sxs-lookup"><span data-stu-id="5525a-142">An instance of <xref:System.Windows.Forms.BindingNavigator> named `customersBindingNavigator`.</span></span> <span data-ttu-id="5525a-143">Você pode excluir esse controle, pois ele não será necessária.</span><span class="sxs-lookup"><span data-stu-id="5525a-143">You can delete this control as it will not be needed.</span></span>

    -   <span data-ttu-id="5525a-144">Uma associação de dados <xref:System.Windows.Forms.ComboBox> chamado `CustomerID`.</span><span class="sxs-lookup"><span data-stu-id="5525a-144">A data-bound <xref:System.Windows.Forms.ComboBox> named `CustomerID`.</span></span>

    -   <span data-ttu-id="5525a-145">Um <xref:System.Windows.Forms.Label>.</span><span class="sxs-lookup"><span data-stu-id="5525a-145">A <xref:System.Windows.Forms.Label>.</span></span>

3.  <span data-ttu-id="5525a-146">Arraste o **pedidos** propriedade de navegação para o formulário.</span><span class="sxs-lookup"><span data-stu-id="5525a-146">Drag the **Orders** navigation property to the form.</span></span>

4.  <span data-ttu-id="5525a-147">Isso cria o `ordersBindingSource` controlar com o <xref:System.Windows.Forms.BindingSource.DataSource%2A> propriedade do controle definido como o `customersBindingSource` e o <xref:System.Windows.Forms.BindingSource.DataMember%2A> propriedade definida como `Customers`.</span><span class="sxs-lookup"><span data-stu-id="5525a-147">This creates the `ordersBindingSource` control with the <xref:System.Windows.Forms.BindingSource.DataSource%2A> property of the control set to the `customersBindingSource` and the <xref:System.Windows.Forms.BindingSource.DataMember%2A> property set to `Customers`.</span></span> <span data-ttu-id="5525a-148">Ele também cria o `ordersDataGridView` controle associado a dados no formulário, acompanhado de um controle de rótulo intitulado apropriadamente.</span><span class="sxs-lookup"><span data-stu-id="5525a-148">It also creates the `ordersDataGridView` data-bound control on the form, accompanied by an appropriately titled label control.</span></span>

5.  <span data-ttu-id="5525a-149">(Opcional) Arraste itens adicionais do **clientes** nó para o designer.</span><span class="sxs-lookup"><span data-stu-id="5525a-149">(Optional) Drag additional items from the **Customers** node to the designer.</span></span>

6.  <span data-ttu-id="5525a-150">Abra a página de código para o formulário e adicione o seguinte `using` instruções (`Imports` no Visual Basic):</span><span class="sxs-lookup"><span data-stu-id="5525a-150">Open the code page for the form and add the following `using` statements (`Imports` in Visual Basic):</span></span>

     [!code-csharp[Astoria Northwind Client#CustomersOrdersUsing](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/customerorders.cs#customersordersusing)]
     [!code-vb[Astoria Northwind Client#CustomersOrdersUsing](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/customerorders.vb#customersordersusing)]

7.  <span data-ttu-id="5525a-151">Na classe parcial que define o formulário, adicione o seguinte código que cria um <xref:System.Data.Objects.ObjectContext> da instância e define o `customerID` constante.</span><span class="sxs-lookup"><span data-stu-id="5525a-151">In the partial class that defines the form, add the following code that creates an <xref:System.Data.Objects.ObjectContext> instance and defines the `customerID` constant.</span></span>

     [!code-csharp[Astoria Northwind Client#CustomersOrdersDefinition](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/customerorders.cs#customersordersdefinition)]
     [!code-vb[Astoria Northwind Client#CustomersOrdersDefinition](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/customerorders.vb#customersordersdefinition)]

8.  <span data-ttu-id="5525a-152">No designer de formulário, clique duas vezes no formulário.</span><span class="sxs-lookup"><span data-stu-id="5525a-152">In the form designer, double-click the form.</span></span>

     <span data-ttu-id="5525a-153">Isso abre a página de código para o formulário e cria o método que manipula o `Load` evento para o formulário.</span><span class="sxs-lookup"><span data-stu-id="5525a-153">This opens the code page for the form and creates the method that handles the `Load` event for the form.</span></span>

9. <span data-ttu-id="5525a-154">No manipulador de eventos `Load`, copie e cole o código a seguir.</span><span class="sxs-lookup"><span data-stu-id="5525a-154">In the `Load` event handler, copy and paste the following code.</span></span>

     [!code-csharp[Astoria Northwind Client#CustomersOrdersDataBinding](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/customerorders.cs#customersordersdatabinding)]
     [!code-vb[Astoria Northwind Client#CustomersOrdersDataBinding](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/customerorders.vb#customersordersdatabinding)]

10. <span data-ttu-id="5525a-155">Esse código cria uma instância do <xref:System.Data.Services.Client.DataServiceCollection%601> para o `Customers` tipo com base na execução de uma <xref:System.Data.Services.Client.DataServiceQuery%601> que retorna um <xref:System.Collections.Generic.IEnumerable%601> de `Customers` o Northwind dados de serviço e os associa a `customersBindingSource`.</span><span class="sxs-lookup"><span data-stu-id="5525a-155">This code creates an instance of <xref:System.Data.Services.Client.DataServiceCollection%601> for the `Customers` type based on the execution of a <xref:System.Data.Services.Client.DataServiceQuery%601> that returns an <xref:System.Collections.Generic.IEnumerable%601> of `Customers` from the Northwind data service and binds it to the `customersBindingSource`.</span></span>

## <a name="see-also"></a><span data-ttu-id="5525a-156">Consulte também</span><span class="sxs-lookup"><span data-stu-id="5525a-156">See Also</span></span>

- <span data-ttu-id="5525a-157">[WCF Data Services Client Library](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md) (Biblioteca de clientes do WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="5525a-157">[WCF Data Services Client Library](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)</span></span>
- <span data-ttu-id="5525a-158">[How to: Bind Data to Windows Presentation Foundation Elements](../../../../docs/framework/data/wcf/bind-data-to-wpf-elements-wcf-data-services.md) (Como associar dados aos elementos do Windows Presentation Foundation)</span><span class="sxs-lookup"><span data-stu-id="5525a-158">[How to: Bind Data to Windows Presentation Foundation Elements](../../../../docs/framework/data/wcf/bind-data-to-wpf-elements-wcf-data-services.md)</span></span>
