---
title: Gerenciando o contexto do serviço de dados (WCF Data Services)
ms.date: 03/30/2017
ms.assetid: 15b19d09-7de7-4638-9556-6ef396cc45ec
ms.openlocfilehash: 33e7ce17eea5d534b941d778fd13144ad51b4094
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/18/2019
ms.locfileid: "59184737"
---
# <a name="managing-the-data-service-context-wcf-data-services"></a><span data-ttu-id="b6594-102">Gerenciando o contexto do serviço de dados (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="b6594-102">Managing the Data Service Context (WCF Data Services)</span></span>
<span data-ttu-id="b6594-103">A classe <xref:System.Data.Services.Client.DataServiceContext> encapsula as operações que têm suporte em um serviço de dados especificado.</span><span class="sxs-lookup"><span data-stu-id="b6594-103">The <xref:System.Data.Services.Client.DataServiceContext> class encapsulates operations that are supported against a specified data service.</span></span> <span data-ttu-id="b6594-104">Embora os serviços do [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] sejam sem estado, o contexto não é.</span><span class="sxs-lookup"><span data-stu-id="b6594-104">Although [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] services are stateless, the context is not.</span></span> <span data-ttu-id="b6594-105">Portanto, você pode usar o <xref:System.Data.Services.Client.DataServiceContext> classe para manter o estado no cliente entre interações com o serviço de dados para dar suporte a recursos como o gerenciamento de alterações.</span><span class="sxs-lookup"><span data-stu-id="b6594-105">Therefore, you can use the <xref:System.Data.Services.Client.DataServiceContext> class to maintain state on the client between interactions with the data service in order to support features such as change management.</span></span> <span data-ttu-id="b6594-106">Essa classe também gerencia identidades e rastreia alterações.</span><span class="sxs-lookup"><span data-stu-id="b6594-106">This class also manages identities and tracks changes.</span></span>  
  
## <a name="merge-options-and-identity-resolution"></a><span data-ttu-id="b6594-107">Opções de mesclagem e resolução de identidade</span><span class="sxs-lookup"><span data-stu-id="b6594-107">Merge Options and Identity Resolution</span></span>  
 <span data-ttu-id="b6594-108">Quando um <xref:System.Data.Services.Client.DataServiceQuery%601> é executado, as entidades no feed de resposta são materializadas em objetos.</span><span class="sxs-lookup"><span data-stu-id="b6594-108">When a <xref:System.Data.Services.Client.DataServiceQuery%601> is executed, the entities in the response feed are materialized into objects.</span></span> <span data-ttu-id="b6594-109">Para obter mais informações, consulte [Materialization de objeto](../../../../docs/framework/data/wcf/object-materialization-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="b6594-109">For more information, see [Object Materialization](../../../../docs/framework/data/wcf/object-materialization-wcf-data-services.md).</span></span> <span data-ttu-id="b6594-110">A maneira na qual as entradas em uma mensagem de resposta são materializadas em objetos é executada com base na resolução de identidade e depende da opção de mesclagem na qual a consulta foi executada.</span><span class="sxs-lookup"><span data-stu-id="b6594-110">The way in which entries in a response message are materialized into objects is performed based on identity resolution and depends on the merge option under which the query was executed.</span></span> <span data-ttu-id="b6594-111">Quando várias consultas ou carga de solicitações são executadas no escopo de uma única <xref:System.Data.Services.Client.DataServiceContext>, o [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client monitora apenas uma única instância de um objeto que tem um valor de chave específico.</span><span class="sxs-lookup"><span data-stu-id="b6594-111">When multiple queries or load requests are executed in the scope of a single <xref:System.Data.Services.Client.DataServiceContext>, the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client only tracks a single instance of an object that has a specific key value.</span></span> <span data-ttu-id="b6594-112">Essa chave, que é usado para executar a resolução de identidade, identifica exclusivamente uma entidade.</span><span class="sxs-lookup"><span data-stu-id="b6594-112">This key, which is used to perform identity resolution, uniquely identifies an entity.</span></span>  
  
 <span data-ttu-id="b6594-113">Por padrão, o cliente só materializa uma entrada na resposta de feed em um objeto para entidades que já não estão sendo acompanhados pelo <xref:System.Data.Services.Client.DataServiceContext>.</span><span class="sxs-lookup"><span data-stu-id="b6594-113">By default, the client only materializes an entry in the response feed into an object for entities that are not already being tracked by the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="b6594-114">Isso significa que as alterações nos objetos já está em cache não serão substituídas.</span><span class="sxs-lookup"><span data-stu-id="b6594-114">This means that changes to objects already in the cache are not overwritten.</span></span> <span data-ttu-id="b6594-115">Esse comportamento é controlado pela especificação de um <xref:System.Data.Services.Client.MergeOption> de valor para consultas e operações de carregamento.</span><span class="sxs-lookup"><span data-stu-id="b6594-115">This behavior is controlled by specifying a <xref:System.Data.Services.Client.MergeOption> value for queries and load operations.</span></span> <span data-ttu-id="b6594-116">Essa opção for especificada, definindo o <xref:System.Data.Services.Client.DataServiceContext.MergeOption%2A> propriedade no <xref:System.Data.Services.Client.DataServiceContext>.</span><span class="sxs-lookup"><span data-stu-id="b6594-116">This option is specified by setting the <xref:System.Data.Services.Client.DataServiceContext.MergeOption%2A> property on the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="b6594-117">O valor de opção de mesclagem padrão é <xref:System.Data.Services.Client.MergeOption.AppendOnly>.</span><span class="sxs-lookup"><span data-stu-id="b6594-117">The default merge option value is <xref:System.Data.Services.Client.MergeOption.AppendOnly>.</span></span> <span data-ttu-id="b6594-118">Isso apenas materializa objetos para entidades que não já estão sendo rastreadas, o que significa que os objetos existentes não serão substituídos.</span><span class="sxs-lookup"><span data-stu-id="b6594-118">This only materializes objects for entities that are not already being tracked, which means that existing objects are not overwritten.</span></span> <span data-ttu-id="b6594-119">Outra maneira de impedir alterações em objetos no cliente que não sejam substituídos pelas atualizações do serviço de dados é especificar <xref:System.Data.Services.Client.MergeOption.PreserveChanges>.</span><span class="sxs-lookup"><span data-stu-id="b6594-119">Another way to prevent changes to objects on the client from being overwritten by updates from the data service is to specify <xref:System.Data.Services.Client.MergeOption.PreserveChanges>.</span></span> <span data-ttu-id="b6594-120">Quando você especifica <xref:System.Data.Services.Client.MergeOption.OverwriteChanges>, valores de objetos no cliente são substituídos pelos valores mais recentes das entradas no feed de resposta, mesmo que já foram feitas alterações a esses objetos.</span><span class="sxs-lookup"><span data-stu-id="b6594-120">When you specify <xref:System.Data.Services.Client.MergeOption.OverwriteChanges>, values of objects on the client are replaced by the latest values from the entries in the response feed, even if changes have already been made to these objects.</span></span> <span data-ttu-id="b6594-121">Quando um <xref:System.Data.Services.Client.MergeOption.NoTracking> opção de mesclagem for usada, o <xref:System.Data.Services.Client.DataServiceContext> não é possível enviar as alterações feitas em objetos de cliente para o serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="b6594-121">When a <xref:System.Data.Services.Client.MergeOption.NoTracking> merge option is used, the <xref:System.Data.Services.Client.DataServiceContext> cannot send changes made on client objects to the data service.</span></span> <span data-ttu-id="b6594-122">Com essa opção, as alterações sempre são substituídas pelos valores do serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="b6594-122">With this option, changes are always overwritten with values from the data service.</span></span>  
  
## <a name="managing-concurrency"></a><span data-ttu-id="b6594-123">Gerenciando a simultaneidade</span><span class="sxs-lookup"><span data-stu-id="b6594-123">Managing Concurrency</span></span>  
 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] <span data-ttu-id="b6594-124">dá suporte à simultaneidade otimista que permite que o serviço de dados detectar conflitos de atualização.</span><span class="sxs-lookup"><span data-stu-id="b6594-124">supports optimistic concurrency that enables the data service to detect update conflicts.</span></span> <span data-ttu-id="b6594-125">O provedor de serviços de dados pode ser configurado de forma que o serviço de dados verifica alterações em entidades usando um token de simultaneidade.</span><span class="sxs-lookup"><span data-stu-id="b6594-125">The data service provider can be configured in such a way that the data service checks for changes to entities by using a concurrency token.</span></span> <span data-ttu-id="b6594-126">Esse token inclui um ou mais propriedades de um tipo de entidade que são validadas pelo serviço de dados para determinar se um recurso foi alterado.</span><span class="sxs-lookup"><span data-stu-id="b6594-126">This token includes one or more properties of an entity type that are validated by the data service to determine whether a resource has changed.</span></span> <span data-ttu-id="b6594-127">Tokens de simultaneidade, que são incluídos no cabeçalho de eTag de solicitações e respostas do serviço de dados, são gerenciados para você pelo [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] cliente.</span><span class="sxs-lookup"><span data-stu-id="b6594-127">Concurrency tokens, which are included in the eTag header of requests to and responses from the data service, are managed for you by the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client.</span></span> <span data-ttu-id="b6594-128">Para obter mais informações, consulte [atualização do serviço de dados](../../../../docs/framework/data/wcf/updating-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="b6594-128">For more information, see [Updating the Data Service](../../../../docs/framework/data/wcf/updating-the-data-service-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="b6594-129">O <xref:System.Data.Services.Client.DataServiceContext> rastreia as alterações feitas nos objetos que foram relatados manualmente, usando <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A>, <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A>, e <xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A>, ou por um <xref:System.Data.Services.Client.DataServiceCollection%601>.</span><span class="sxs-lookup"><span data-stu-id="b6594-129">The <xref:System.Data.Services.Client.DataServiceContext> tracks changes made to objects that have been reported manually by using <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A>, <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A>, and <xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A>, or by a <xref:System.Data.Services.Client.DataServiceCollection%601>.</span></span> <span data-ttu-id="b6594-130">Quando o <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> método é chamado, o cliente envia as alterações de volta para o serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="b6594-130">When the <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> method is called, the client sends changes back to the data service.</span></span> <span data-ttu-id="b6594-131"><xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> pode falhar quando as alterações de dados no cliente em conflito com as alterações no serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="b6594-131"><xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> can fail when data changes in the client conflict with changes in the data service.</span></span> <span data-ttu-id="b6594-132">Quando isso ocorrer, você deve consultar o recurso de entidade novamente receber os dados de atualização.</span><span class="sxs-lookup"><span data-stu-id="b6594-132">When this occurs, you must query for the entity resource again to receive the update data.</span></span> <span data-ttu-id="b6594-133">Para substituir as alterações no serviço de dados, execute a consulta usando o <xref:System.Data.Services.Client.MergeOption.PreserveChanges> opção de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="b6594-133">To overwrite changes in the data service, execute the query using the <xref:System.Data.Services.Client.MergeOption.PreserveChanges> merge option.</span></span> <span data-ttu-id="b6594-134">Quando você chama <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> novamente, as alterações que preservados no cliente serão mantidas para o serviço de dados, enquanto outras alterações que não já foram feitas para o recurso no serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="b6594-134">When you call <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> again, the changes preserved on the client are persisted to the data service, as long as other changes have not already been made to the resource in the data service.</span></span>  
  
## <a name="saving-changes"></a><span data-ttu-id="b6594-135">Salvando alterações</span><span class="sxs-lookup"><span data-stu-id="b6594-135">Saving Changes</span></span>  
 <span data-ttu-id="b6594-136">As alterações são rastreadas no <xref:System.Data.Services.Client.DataServiceContext> da instância, mas não são enviadas para o servidor imediatamente.</span><span class="sxs-lookup"><span data-stu-id="b6594-136">Changes are tracked in the <xref:System.Data.Services.Client.DataServiceContext> instance but not sent to the server immediately.</span></span> <span data-ttu-id="b6594-137">Depois que você tiver concluído as alterações necessárias para uma atividade especificada, chame <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> para enviar todas as alterações ao serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="b6594-137">After you are finished with the required changes for a specified activity, call <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> to submit all the changes to the data service.</span></span> <span data-ttu-id="b6594-138">Um <xref:System.Data.Services.Client.DataServiceResponse> objeto é retornado após o <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> operação é concluída.</span><span class="sxs-lookup"><span data-stu-id="b6594-138">A <xref:System.Data.Services.Client.DataServiceResponse> object is returned after the <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> operation is complete.</span></span> <span data-ttu-id="b6594-139">O <xref:System.Data.Services.Client.DataServiceResponse> objeto inclui uma sequência de <xref:System.Data.Services.Client.OperationResponse> objetos que, por sua vez, contêm uma sequência de <xref:System.Data.Services.Client.EntityDescriptor> ou <xref:System.Data.Services.Client.LinkDescriptor> tentativa ou persistentes de instâncias que representam as alterações.</span><span class="sxs-lookup"><span data-stu-id="b6594-139">The <xref:System.Data.Services.Client.DataServiceResponse> object includes a sequence of <xref:System.Data.Services.Client.OperationResponse> objects that, in turn, contain a sequence of <xref:System.Data.Services.Client.EntityDescriptor> or <xref:System.Data.Services.Client.LinkDescriptor> instances that represent the changes persisted or attempted.</span></span> <span data-ttu-id="b6594-140">Quando uma entidade é criada ou modificada no serviço de dados, o <xref:System.Data.Services.Client.EntityDescriptor> inclui uma referência para a entidade atualizada, incluindo quaisquer valores de propriedade gerada pelo servidor, como o gerado `ProductID` valor no exemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="b6594-140">When an entity is created or modified in the data service, the <xref:System.Data.Services.Client.EntityDescriptor> includes a reference to the updated entity, including any server-generated property values, such as the generated `ProductID` value in the previous example.</span></span> <span data-ttu-id="b6594-141">A biblioteca de cliente atualizará automaticamente o [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] objeto tenha esses novos valores.</span><span class="sxs-lookup"><span data-stu-id="b6594-141">The client library automatically updates the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] object to have these new values.</span></span>  
  
 <span data-ttu-id="b6594-142">Para inserção bem-sucedida e operações de atualização, a propriedade state do <xref:System.Data.Services.Client.EntityDescriptor> ou <xref:System.Data.Services.Client.LinkDescriptor> associado à operação do objeto é definido como <xref:System.Data.Services.Client.EntityStates.Unchanged> e os novos valores são mesclados usando <xref:System.Data.Services.Client.MergeOption.OverwriteChanges>.</span><span class="sxs-lookup"><span data-stu-id="b6594-142">For successful insert and update operations, the state property of the <xref:System.Data.Services.Client.EntityDescriptor> or <xref:System.Data.Services.Client.LinkDescriptor> object associated with the operation is set to <xref:System.Data.Services.Client.EntityStates.Unchanged> and the new values are merged by using <xref:System.Data.Services.Client.MergeOption.OverwriteChanges>.</span></span> <span data-ttu-id="b6594-143">Quando uma inserção, atualização ou operação de exclusão falhar no serviço de dados, o estado da entidade permanece a mesma como era antes <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> foi chamado e o <xref:System.Data.Services.Client.OperationResponse.Error%2A> propriedade da <xref:System.Data.Services.Client.OperationResponse> é definido como um <xref:System.Data.Services.Client.DataServiceRequestException> que contém informações sobre o erro.</span><span class="sxs-lookup"><span data-stu-id="b6594-143">When an insert, update, or delete operation fails in the data service, the entity state remains the same as it was before <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> was called, and the <xref:System.Data.Services.Client.OperationResponse.Error%2A> property of the <xref:System.Data.Services.Client.OperationResponse> is set to an <xref:System.Data.Services.Client.DataServiceRequestException> that contains information about the error.</span></span> <span data-ttu-id="b6594-144">Para obter mais informações, consulte [atualização do serviço de dados](../../../../docs/framework/data/wcf/updating-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="b6594-144">For more information, see [Updating the Data Service](../../../../docs/framework/data/wcf/updating-the-data-service-wcf-data-services.md).</span></span>  
  
### <a name="setting-the-http-method-for-updates"></a><span data-ttu-id="b6594-145">Definir o método HTTP para atualizações</span><span class="sxs-lookup"><span data-stu-id="b6594-145">Setting the HTTP Method for Updates</span></span>  
 <span data-ttu-id="b6594-146">Por padrão, a biblioteca de cliente do .NET Framework envia atualizações para entidades existentes como solicitações de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="b6594-146">By default, the .NET Framework client library sends updates to existing entities as MERGE requests.</span></span> <span data-ttu-id="b6594-147">Uma solicitação de mesclagem atualiza as propriedades selecionadas da entidade. No entanto o cliente sempre inclui todas as propriedades na solicitação de mesclagem, até mesmo as propriedades que não foram alterados.</span><span class="sxs-lookup"><span data-stu-id="b6594-147">A MERGE request updates selected properties of the entity; however the client always includes all properties in the MERGE request, even properties that have not changed.</span></span> <span data-ttu-id="b6594-148">O [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocolo também dá suporte a enviar solicitações PUT para atualizar entidades.</span><span class="sxs-lookup"><span data-stu-id="b6594-148">The [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol also supports sending PUT requests to update entities.</span></span> <span data-ttu-id="b6594-149">Em uma solicitação PUT, uma entidade existente, essencialmente, é substituída por uma nova instância da entidade com valores de propriedade do cliente.</span><span class="sxs-lookup"><span data-stu-id="b6594-149">In a PUT request, an existing entity is essentially replaced with a new instance of the entity with property values from the client.</span></span> <span data-ttu-id="b6594-150">Para usar solicitações PUT, defina as <xref:System.Data.Services.Client.SaveChangesOptions.ReplaceOnUpdate> sinalizador na <xref:System.Data.Services.Client.SaveChangesOptions> enumeração ao chamar <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="b6594-150">To use PUT requests, set the <xref:System.Data.Services.Client.SaveChangesOptions.ReplaceOnUpdate> flag on the <xref:System.Data.Services.Client.SaveChangesOptions> enumeration when calling <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b6594-151">Uma solicitação PUT irá se comportar de maneira diferente de uma solicitação de mesclagem quando o cliente não souber sobre todas as propriedades da entidade.</span><span class="sxs-lookup"><span data-stu-id="b6594-151">A PUT request will behave differently than a MERGE request when the client does not know about all properties of the entity.</span></span> <span data-ttu-id="b6594-152">Isso pode ocorrer ao projetar um tipo de entidade em um novo tipo no cliente.</span><span class="sxs-lookup"><span data-stu-id="b6594-152">This might occur when projecting an entity type into a new type on the client.</span></span> <span data-ttu-id="b6594-153">Ele também pode ocorrer quando foram adicionadas novas propriedades à entidade no modelo de dados de serviço e o <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> propriedade no <xref:System.Data.Services.Client.DataServiceContext> é definido como `true` para ignorar esses erros de mapeamento do cliente.</span><span class="sxs-lookup"><span data-stu-id="b6594-153">It might also occur when new properties have been added to the entity in the service data model and the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property on the <xref:System.Data.Services.Client.DataServiceContext> is set to `true` to ignore such client mapping errors.</span></span> <span data-ttu-id="b6594-154">Nesses casos, uma solicitação PUT redefinirá quaisquer propriedades que são desconhecidas para o cliente para seus valores padrão.</span><span class="sxs-lookup"><span data-stu-id="b6594-154">In these cases, a PUT request will reset any properties that are unknown to the client to their default values.</span></span>  
  
### <a name="post-tunneling"></a><span data-ttu-id="b6594-155">Túnel de POSTAGEM</span><span class="sxs-lookup"><span data-stu-id="b6594-155">POST Tunneling</span></span>  
 <span data-ttu-id="b6594-156">Por padrão, o cliente envia de biblioteca criar, ler, atualizar e excluir solicitações para um [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] de serviço usando os métodos HTTP correspondentes de POST, GET, PUT, MERGE/PATCH e excluir.</span><span class="sxs-lookup"><span data-stu-id="b6594-156">By default, the client library sends create, read, update, and delete requests to an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] service by using the corresponding HTTP methods of POST, GET, PUT/MERGE/PATCH, and DELETE.</span></span> <span data-ttu-id="b6594-157">Isso mantém os princípios básicos do REST Representational State Transfer ().</span><span class="sxs-lookup"><span data-stu-id="b6594-157">This upholds the basic principles of Representational State Transfer (REST).</span></span> <span data-ttu-id="b6594-158">No entanto, nem toda implementação do servidor Web dá suporte ao conjunto completo de métodos HTTP.</span><span class="sxs-lookup"><span data-stu-id="b6594-158">However, not every Web server implementation supports the full set of HTTP methods.</span></span> <span data-ttu-id="b6594-159">Em alguns casos, os métodos com suporte podem ser restritos a apenas GET e POST.</span><span class="sxs-lookup"><span data-stu-id="b6594-159">In some cases, the supported methods might be restricted to just GET and POST.</span></span> <span data-ttu-id="b6594-160">Isso pode acontecer quando um intermediário, como um firewall bloqueia solicitações com determinados métodos.</span><span class="sxs-lookup"><span data-stu-id="b6594-160">This can happen when an intermediary, like a firewall, blocks requests with certain methods.</span></span> <span data-ttu-id="b6594-161">Porque os métodos GET e POST têm suporte com mais frequência, [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] prescreve uma maneira de executar métodos HTTP sem suporte por meio de uma solicitação POST.</span><span class="sxs-lookup"><span data-stu-id="b6594-161">Because the GET and POST methods are most often supported, [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] prescribes a way to execute any unsupported HTTP methods by using a POST request.</span></span> <span data-ttu-id="b6594-162">Conhecido como *método túnel* ou *túnel de POSTAGEM*, isso permite que um cliente envie uma solicitação POST com o método real especificado na personalizado `X-HTTP-Method` cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="b6594-162">Known as *method tunneling* or *POST tunneling*, this enables a client to send a POST request with the actual method specified in the custom `X-HTTP-Method` header.</span></span> <span data-ttu-id="b6594-163">Para habilitar o túnel de POSTAGEM para solicitações, defina as <xref:System.Data.Services.Client.DataServiceContext.UsePostTunneling%2A> propriedade no <xref:System.Data.Services.Client.DataServiceContext> da instância para `true`.</span><span class="sxs-lookup"><span data-stu-id="b6594-163">To enable POST tunneling for requests, set the <xref:System.Data.Services.Client.DataServiceContext.UsePostTunneling%2A> property on the <xref:System.Data.Services.Client.DataServiceContext> instance to `true`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b6594-164">Consulte também</span><span class="sxs-lookup"><span data-stu-id="b6594-164">See also</span></span>

- <span data-ttu-id="b6594-165">[WCF Data Services Client Library](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md) (Biblioteca de clientes do WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="b6594-165">[WCF Data Services Client Library](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)</span></span>
- [<span data-ttu-id="b6594-166">Atualizando o serviço de dados</span><span class="sxs-lookup"><span data-stu-id="b6594-166">Updating the Data Service</span></span>](../../../../docs/framework/data/wcf/updating-the-data-service-wcf-data-services.md)
- [<span data-ttu-id="b6594-167">Operações assíncronas</span><span class="sxs-lookup"><span data-stu-id="b6594-167">Asynchronous Operations</span></span>](../../../../docs/framework/data/wcf/asynchronous-operations-wcf-data-services.md)
- [<span data-ttu-id="b6594-168">Operações de envio em lote</span><span class="sxs-lookup"><span data-stu-id="b6594-168">Batching Operations</span></span>](../../../../docs/framework/data/wcf/batching-operations-wcf-data-services.md)
