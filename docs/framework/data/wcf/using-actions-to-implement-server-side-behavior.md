---
title: "Usando as ações implementar o comportamento do lado do servidor"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework-oob
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 11a372db-7168-498b-80d2-9419ff557ba5
caps.latest.revision: "3"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 7879a600ec0ecfebc96b18476121f2ad205ece8f
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/02/2017
---
# <a name="using-actions-to-implement-server-side-behavior"></a><span data-ttu-id="50267-102">Usando as ações implementar o comportamento do lado do servidor</span><span class="sxs-lookup"><span data-stu-id="50267-102">Using actions to implement server-side behavior</span></span>
<span data-ttu-id="50267-103">As ações OData fornecem uma maneira de implementar um comportamento que age mediante um recurso recuperado de um serviço OData.</span><span class="sxs-lookup"><span data-stu-id="50267-103">OData Actions provide a way to implement a behavior that acts upon a resource retrieved from an OData service.</span></span>  <span data-ttu-id="50267-104">Por exemplo, considere um filme como um recurso. Há muitas coisas que você pode fazer com um filme: check-out, avaliar/comentar ou check-in.</span><span class="sxs-lookup"><span data-stu-id="50267-104">For example consider a digital movie as a resource, there are many things you may do with a digital movie: check-out, rate/comment, or check-in.</span></span> <span data-ttu-id="50267-105">Estes são exemplos de Ações que podem ser implementadas por um WCF Data Service que gerencia filmes.</span><span class="sxs-lookup"><span data-stu-id="50267-105">These are all examples of Actions that may be implemented by a WCF Data Service that manages digital movies.</span></span> <span data-ttu-id="50267-106">As ações são descritas em uma resposta OData que contém um recurso no qual a Ação pode ser invocada.</span><span class="sxs-lookup"><span data-stu-id="50267-106">Actions are described in an OData response that contains a resource on which the Action can be invoked.</span></span> <span data-ttu-id="50267-107">Quando um usuário solicita um recurso que representa um filme, a resposta retornada do WCF Data Service contém informações sobre as Ações disponíveis para esse recurso.</span><span class="sxs-lookup"><span data-stu-id="50267-107">When a user requests a resource that represents a digital movie the response returned from the WCF Data Service contains information about the Actions that are available for that resource.</span></span> <span data-ttu-id="50267-108">A disponibilidade de uma Ação pode depender do estado do serviço de dados ou recurso.</span><span class="sxs-lookup"><span data-stu-id="50267-108">The availability of an Action can depend on the state of the data service or resource.</span></span> <span data-ttu-id="50267-109">Por exemplo, quando um filme fez o check-out, ele não pode ter o check-out feito por outro usuário.</span><span class="sxs-lookup"><span data-stu-id="50267-109">For example once a digital movie is checked out it cannot be checked out by another user.</span></span> <span data-ttu-id="50267-110">Os clientes podem invocar uma ação somente especificando uma URL.</span><span class="sxs-lookup"><span data-stu-id="50267-110">Clients can invoke an action simply by specifying a URL.</span></span> <span data-ttu-id="50267-111">Por exemplo, http://MyServer/MovieService.svc/Movies(6) identificaria um filme digital específico e http://MyServer/MovieService.svc/Movies(6)/Checkout chamaria a ação do filme específico.</span><span class="sxs-lookup"><span data-stu-id="50267-111">For example http://MyServer/MovieService.svc/Movies(6) would identify a specific digital movie and http://MyServer/MovieService.svc/Movies(6)/Checkout would invoke the action on the specific movie.</span></span> <span data-ttu-id="50267-112">As ações permitem que você exponha o modelo de serviço sem expor o modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="50267-112">Actions allow you to expose you service model without exposing your data model.</span></span> <span data-ttu-id="50267-113">Continuando o exemplo do serviço de filmes, talvez você queira permitir que um usuário avalie um filme, mas não expor os dados de avaliação diretamente como um recurso.</span><span class="sxs-lookup"><span data-stu-id="50267-113">Continuing with the movie service example, you may wish to allow a user to rate a movie, but not directly expose the rating data as a resource.</span></span> <span data-ttu-id="50267-114">Você pode implementar uma Ação de Avaliação para permitir que o usuário avalie um filme, mas não acessar os dados de avaliação diretamente como um recurso.</span><span class="sxs-lookup"><span data-stu-id="50267-114">You could implement a Rate Action to allow the user to rate a movie but not directly access the rating data as a resource.</span></span>  
  
## <a name="implementing-an-action"></a><span data-ttu-id="50267-115">Implementando uma ação</span><span class="sxs-lookup"><span data-stu-id="50267-115">Implementing an action</span></span>  
 <span data-ttu-id="50267-116">Para implementar uma ação de serviço, você deve implementar o <xref:System.IServiceProvider>, [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx), e [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) interfaces.</span><span class="sxs-lookup"><span data-stu-id="50267-116">To implement a service action you must implement the <xref:System.IServiceProvider>, [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx), and [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) interfaces.</span></span> <span data-ttu-id="50267-117"><xref:System.IServiceProvider>permite que o WCF Data Services obter sua implementação de [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx).</span><span class="sxs-lookup"><span data-stu-id="50267-117"><xref:System.IServiceProvider> allows WCF Data Services to get your implementation of [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx).</span></span> <span data-ttu-id="50267-118">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) permite que o WCF Data Services para criar, localizar, descrever e invocar ações de serviço.</span><span class="sxs-lookup"><span data-stu-id="50267-118">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) allows WCF Data Services to create, find, describe and invoke service actions.</span></span> <span data-ttu-id="50267-119">[IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) permite que você invocar o código que implementa o comportamento de ações de serviço e obter os resultados, se houver.</span><span class="sxs-lookup"><span data-stu-id="50267-119">[IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) allows you to invoke the code that implements the service actions’ behavior and get the results, if any.</span></span> <span data-ttu-id="50267-120">Lembre-se de que o WCF Data Services são Serviços do WCF por chamada, uma nova instância do serviço será criada cada vez que o serviço for chamado.</span><span class="sxs-lookup"><span data-stu-id="50267-120">Keep in mind that WCF Data Services are Per-Call WCF Services, a new instance of the service will be created each time the service is called.</span></span>  <span data-ttu-id="50267-121">Verifique se nenhum trabalho desnecessário é feito quando o serviço é criado.</span><span class="sxs-lookup"><span data-stu-id="50267-121">Make sure no unnecessary work is done when the service is created.</span></span>  
  
### <a name="iserviceprovider"></a><span data-ttu-id="50267-122">IServiceProvider</span><span class="sxs-lookup"><span data-stu-id="50267-122">IServiceProvider</span></span>  
 <span data-ttu-id="50267-123">O <xref:System.IServiceProvider> contém um método chamado <xref:System.IServiceProvider.GetService%2A>.</span><span class="sxs-lookup"><span data-stu-id="50267-123"><xref:System.IServiceProvider> contains a method called <xref:System.IServiceProvider.GetService%2A>.</span></span> <span data-ttu-id="50267-124">Este método é chamado pelo WCF Data Services para recuperar um número de provedores de serviços, inclusive provedores de serviços de metadados e provedores de ação de serviço de dados.</span><span class="sxs-lookup"><span data-stu-id="50267-124">This method is called by WCF Data Services to retrieve a number of service providers, including metadata service providers and data service action providers.</span></span> <span data-ttu-id="50267-125">Quando for solicitado para um provedor de ação do serviço de dados, retornar o [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) implementação.</span><span class="sxs-lookup"><span data-stu-id="50267-125">When asked for a data service action provider, return your [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) implementation.</span></span>  
  
### <a name="idataserviceactionprovider"></a><span data-ttu-id="50267-126">IDataServiceActionProvider</span><span class="sxs-lookup"><span data-stu-id="50267-126">IDataServiceActionProvider</span></span>  
 <span data-ttu-id="50267-127">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) contém métodos que permitem que você recupere informações sobre as ações disponíveis.</span><span class="sxs-lookup"><span data-stu-id="50267-127">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) contains methods that allow you to retrieve information about the available actions.</span></span> <span data-ttu-id="50267-128">Quando você implementa [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) você está aumentando os metadados para o serviço que é definido pela implementação do serviço de [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) com ações e manipulação de expedição para as ações conforme apropriado.</span><span class="sxs-lookup"><span data-stu-id="50267-128">When you implement [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) you are augmenting the metadata for your service which is defined by your service’s implementation of [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) with Actions and handling dispatch to those actions as appropriate.</span></span>  
  
#### <a name="advertiseserviceaction"></a><span data-ttu-id="50267-129">AdvertiseServiceAction</span><span class="sxs-lookup"><span data-stu-id="50267-129">AdvertiseServiceAction</span></span>  
 <span data-ttu-id="50267-130">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider.advertiseserviceaction(v=vs.113).aspx) é chamado para determinar quais ações estão disponíveis para o recurso especificado.</span><span class="sxs-lookup"><span data-stu-id="50267-130">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider.advertiseserviceaction(v=vs.113).aspx) is called to determine what actions are available for the specified resource.</span></span> <span data-ttu-id="50267-131">Este método é chamado apenas para as ações que não estão sempre disponíveis.</span><span class="sxs-lookup"><span data-stu-id="50267-131">This method is only called for actions that are not always available.</span></span> <span data-ttu-id="50267-132">É usado para verificar se a ação deve ser incluída na resposta OData com base no estado do recurso que está sendo solicitado ou no estado do serviço.</span><span class="sxs-lookup"><span data-stu-id="50267-132">It is used to check if the action should be included in the OData response based upon the state of the resource being requested or the state of the service.</span></span> <span data-ttu-id="50267-133">Como essa verificação é feita cabe completamente a você.</span><span class="sxs-lookup"><span data-stu-id="50267-133">How this check is accomplished is completely up to you.</span></span> <span data-ttu-id="50267-134">Se é caro calcular a disponibilidade e o recurso atual estiver em um feed, é aceitável ignorar a verificação e divulgar a ação.</span><span class="sxs-lookup"><span data-stu-id="50267-134">If it is an expensive to calculate availability and the current resource is in a feed, it is acceptable to skip the check and advertise the action.</span></span> <span data-ttu-id="50267-135">O parâmetro `inFeed` estará definido como `true` se o recurso atual que está sendo retornado fizer parte de um feed.</span><span class="sxs-lookup"><span data-stu-id="50267-135">The `inFeed` parameter is set to `true` if the current resource being returned is part of a feed.</span></span>  
  
#### <a name="createinvokable"></a><span data-ttu-id="50267-136">CreateInvokable</span><span class="sxs-lookup"><span data-stu-id="50267-136">CreateInvokable</span></span>  
 <span data-ttu-id="50267-137">[CreateInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider.createinvokable(v=vs.113).aspx) é chamado para criar um [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) que contém um delegado que encapsula o código que implementa o comportamento da ação.</span><span class="sxs-lookup"><span data-stu-id="50267-137">[CreateInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider.createinvokable(v=vs.113).aspx) is called to create a [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) that contains a delegate that encapsulates the code that implements the action’s behavior.</span></span> <span data-ttu-id="50267-138">Isso cria o [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) de instância, mas não chama a ação.</span><span class="sxs-lookup"><span data-stu-id="50267-138">This creates the [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) instance but does not invoke the action.</span></span> <span data-ttu-id="50267-139">As ações do WCF Data Service têm efeitos colaterais e precisam trabalhar junto com o Provedor de Atualização para salvar essas alterações no disco.</span><span class="sxs-lookup"><span data-stu-id="50267-139">WCF Data Service Actions have side effects and need to work in conjunction with the Update Provider to save those changes to disk.</span></span> <span data-ttu-id="50267-140">O [IDataServiceInvokable.Invoke](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable.invoke(v=vs.113).aspx) método é chamado de SaveChanges () atualização do provedor é chamado de método.</span><span class="sxs-lookup"><span data-stu-id="50267-140">The [IDataServiceInvokable.Invoke](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable.invoke(v=vs.113).aspx) method is called from the Update Provider’s SaveChanges() method is called.</span></span>  
  
#### <a name="getserviceactions"></a><span data-ttu-id="50267-141">GetServiceActions</span><span class="sxs-lookup"><span data-stu-id="50267-141">GetServiceActions</span></span>  
 <span data-ttu-id="50267-142">Esse método retorna uma coleção de [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) instâncias que representam todas as ações que expõe um WCF Data Services.</span><span class="sxs-lookup"><span data-stu-id="50267-142">This method returns a collection of [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) instances that represent all of the actions a WCF Data Service exposes.</span></span> <span data-ttu-id="50267-143">[ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) é a representação de metadados de uma ação, que inclui informações como o nome da ação, seus parâmetros e seu tipo de retorno.</span><span class="sxs-lookup"><span data-stu-id="50267-143">[ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) is the metadata representation of an Action, that includes information like the Action name, its parameters, and its return type.</span></span>  
  
#### <a name="getserviceactionsbybindingparametertype"></a><span data-ttu-id="50267-144">GetServiceActionsByBindingParameterType</span><span class="sxs-lookup"><span data-stu-id="50267-144">GetServiceActionsByBindingParameterType</span></span>  
 <span data-ttu-id="50267-145">Esse método retorna uma coleção de todos os [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) instâncias que podem ser associadas para o tipo de parâmetro de associação especificada.</span><span class="sxs-lookup"><span data-stu-id="50267-145">This method returns a collection of all [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) instances that can be bound to the specified binding parameter type.</span></span> <span data-ttu-id="50267-146">Em outras palavras, todos os [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx)s que pode agir sobre o tipo de recurso especificado (também chamado de tipo de parâmetro de associação). Isso é usado quando o serviço retorna um recurso para incluir informações sobre as ações que podem ser invocadas em relação a esse recurso.</span><span class="sxs-lookup"><span data-stu-id="50267-146">In other words, all [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx)s that can act on the specified resource type (also called binding parameter type).This is used when the service returns a resource in order to include information about Actions that can be invoked against that resource.</span></span> <span data-ttu-id="50267-147">Esse método deve retornar apenas as ações que podem ser associadas ao tipo de parâmetro de associação exato (sem tipo derivado).</span><span class="sxs-lookup"><span data-stu-id="50267-147">This method should only return actions that can bind to the exact binding parameter type (no derived types).</span></span> <span data-ttu-id="50267-148">Este método é chamado uma vez por solicitação por tipo encontrado e o resultado é armazenado em cache pelo WCF Data Services.</span><span class="sxs-lookup"><span data-stu-id="50267-148">This method is called once per request per type encountered and the result is cached by WCF Data Services.</span></span>  
  
#### <a name="tryresolveserviceaction"></a><span data-ttu-id="50267-149">TryResolveServiceAction</span><span class="sxs-lookup"><span data-stu-id="50267-149">TryResolveServiceAction</span></span>  
 <span data-ttu-id="50267-150">Este método pesquisa especificada [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) e retorna `true` se o [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) foi encontrado.</span><span class="sxs-lookup"><span data-stu-id="50267-150">This method searches for a specified [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) and returns `true` if the [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) is found.</span></span> <span data-ttu-id="50267-151">Se encontrado, o [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) é retornado no `serviceAction``out` parâmetro.</span><span class="sxs-lookup"><span data-stu-id="50267-151">If found, the [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) is returned in the `serviceAction``out` parameter.</span></span>  
  
### <a name="idataserviceinvokable"></a><span data-ttu-id="50267-152">IDataServiceInvokable</span><span class="sxs-lookup"><span data-stu-id="50267-152">IDataServiceInvokable</span></span>  
 <span data-ttu-id="50267-153">Essa interface oferece um modo de executar uma ação do WCF Data Service.</span><span class="sxs-lookup"><span data-stu-id="50267-153">This interface provides a way to execute a WCF Data Service Action.</span></span> <span data-ttu-id="50267-154">Ao implementar IDataServiceInvokable, você é responsável por 3 coisas:</span><span class="sxs-lookup"><span data-stu-id="50267-154">When implementing IDataServiceInvokable you are responsible for 3 things:</span></span>  
  
1.  <span data-ttu-id="50267-155">Capturar e potencialmente fazer o marshaling dos parâmetros</span><span class="sxs-lookup"><span data-stu-id="50267-155">Capturing and potentially marshaling the parameters</span></span>  
  
2.  <span data-ttu-id="50267-156">Distribuir os parâmetros para o código que realmente implementa a Ação quando Invoke() é chamado</span><span class="sxs-lookup"><span data-stu-id="50267-156">Dispatching the parameters to the code that actually implements the Action when Invoke() is called</span></span>  
  
3.  <span data-ttu-id="50267-157">Armazenar os resultados de Invoke() para que eles possam ser recuperados usando GetResult()</span><span class="sxs-lookup"><span data-stu-id="50267-157">Storing any results from Invoke() so they can be retrieved using GetResult()</span></span>  
  
 <span data-ttu-id="50267-158">Os parâmetros podem ser passados como tokens.</span><span class="sxs-lookup"><span data-stu-id="50267-158">The parameters may be passed as tokens.</span></span> <span data-ttu-id="50267-159">Isso ocorre porque é possível escrever um provedor de serviços de dados que funcione com os tokens que representam recursos. Se for esse o caso, você precisará converter (realizar marshaling) esses tokens em recursos reais antes de distribuir para a ação real.</span><span class="sxs-lookup"><span data-stu-id="50267-159">This is because it is possible to write a Data Service Provider that works with tokens that represent resources, if this is the case you may need to convert (marshal) these tokens into actual resources before dispatching to the actual action.</span></span> <span data-ttu-id="50267-160">Depois que tiver sido realizado o marshaling do parâmetro, ele deverá estar em um estado editável de forma que as alterações ao recurso que ocorram quando a ação é invocada sejam salvas e gravadas em disco.</span><span class="sxs-lookup"><span data-stu-id="50267-160">After the parameter has been marshalled, it must be in an editable state so that any changes to the resource that occur when the action is invoked will be saved and written to disk.</span></span>  
  
 <span data-ttu-id="50267-161">Essa interface requer dois métodos: Invoke e GetResult.</span><span class="sxs-lookup"><span data-stu-id="50267-161">This interface requires two methods: Invoke and GetResult.</span></span> <span data-ttu-id="50267-162">Invoke chama o representante que implementa o comportamento da ação e GetResult retorna o resultado da ação.</span><span class="sxs-lookup"><span data-stu-id="50267-162">Invoke invokes the delegate that implements the action’s behavior and GetResult returns the result of the action.</span></span>  
  
## <a name="invoking-a-wcf-data-service-action"></a><span data-ttu-id="50267-163">Chamar uma ação do WCF Data Service</span><span class="sxs-lookup"><span data-stu-id="50267-163">Invoking a WCF Data Service Action</span></span>  
 <span data-ttu-id="50267-164">As ações são chamadas usando uma solicitação HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="50267-164">Actions are invoked using an HTTP POST request.</span></span> <span data-ttu-id="50267-165">O URL especifica o recurso seguido pelo nome da ação.</span><span class="sxs-lookup"><span data-stu-id="50267-165">The URL specifies the resource followed by the action name.</span></span> <span data-ttu-id="50267-166">Os parâmetros são passados no corpo da solicitação.</span><span class="sxs-lookup"><span data-stu-id="50267-166">Parameters are passed in the body of the request.</span></span> <span data-ttu-id="50267-167">Por exemplo, se houve um serviço chamado MovieService que expôs uma ação chamada Avaliar.</span><span class="sxs-lookup"><span data-stu-id="50267-167">For example if there was a service called MovieService which exposed an action called Rate.</span></span> <span data-ttu-id="50267-168">Você pode usar a seguinte URL para chamar a ação Avaliar em um filme específico:</span><span class="sxs-lookup"><span data-stu-id="50267-168">You could use the following URL to invoke the Rate action on a specific movie:</span></span>  
  
 <span data-ttu-id="50267-169">http://MovieServer/MovieService.svc/Movies(1)/Rate</span><span class="sxs-lookup"><span data-stu-id="50267-169">http://MovieServer/MovieService.svc/Movies(1)/Rate</span></span>  
  
 <span data-ttu-id="50267-170">Movies(1) especifica o filme que você deseja avaliar e Avaliar especifica a ação.</span><span class="sxs-lookup"><span data-stu-id="50267-170">Movies(1) specifies the movie you wish to rate and Rate specifies the Rate action.</span></span> <span data-ttu-id="50267-171">O valor real da avaliação estará no corpo da solicitação de HTTP conforme mostrado no seguinte exemplo:</span><span class="sxs-lookup"><span data-stu-id="50267-171">The actual value of the rating will be in the body of the HTTP request as shown in the following example:</span></span>  
  
```  
POST http://MovieServer/MoviesService.svc/Movies(1)/Rate HTTP/1.1   
Content-Type: application/json   
Content-Length: 20   
Host: localhost:15238  
{   
   "rating": 4   
}  
```  
  
> [!WARNING]
>  <span data-ttu-id="50267-172">O código de exemplo acima somente funcionará com o WCF Data Services 5.2 e posterior que tem o suporte para JSON light.</span><span class="sxs-lookup"><span data-stu-id="50267-172">The above sample code will work only with WCF Data Services 5.2 and later which has support for JSON light.</span></span> <span data-ttu-id="50267-173">Se estiver usando uma versão anterior do WCF Data Services, você deverá especificar o tipo de conteúdo detalhado de json da seguinte maneira: `application/json;odata=verbose`.</span><span class="sxs-lookup"><span data-stu-id="50267-173">If using an earlier version of WCF Data Services, you must specify the json verbose content-type as follows: `application/json;odata=verbose`.</span></span>  
  
 <span data-ttu-id="50267-174">Como alternativa, você pode chamar uma ação usando o cliente do WCF Data Services conforme mostrado no seguinte trecho de código.</span><span class="sxs-lookup"><span data-stu-id="50267-174">Alternatively you can invoke an action using the WCF Data Services Client as shown in the following code snippet.</span></span>  
  
```  
MoviesModel context = new MoviesModel (new Uri("http://MyServer/MoviesService.svc/"));  
            //...  
            context.Execute(new Uri("http://MyServer/MoviesService.svc/Movies(1)/Rate"), "POST", new BodyOperationParameter("rating",4) );           
```  
  
 <span data-ttu-id="50267-175">No trecho de código acima, a classe `MoviesModel` foi gerada com o Visual Studio para Adicionar a Referência de Serviço a um WCF Data Service.</span><span class="sxs-lookup"><span data-stu-id="50267-175">In the code snippet above, the `MoviesModel` class was generated by using Visual Studio to Add Service Reference to a WCF Data Service.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="50267-176">Consulte também</span><span class="sxs-lookup"><span data-stu-id="50267-176">See Also</span></span>  
 [<span data-ttu-id="50267-177">WCF Data Services 4.5</span><span class="sxs-lookup"><span data-stu-id="50267-177">WCF Data Services 4.5</span></span>](../../../../docs/framework/data/wcf/index.md)  
 <span data-ttu-id="50267-178">[Defining WCF Data Services](../../../../docs/framework/data/wcf/defining-wcf-data-services.md) (Definindo o WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="50267-178">[Defining WCF Data Services](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)</span></span>  
 [<span data-ttu-id="50267-179">Desenvolvendo e implantando WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="50267-179">Developing and Deploying WCF Data Services</span></span>](../../../../docs/framework/data/wcf/developing-and-deploying-wcf-data-services.md)  
 [<span data-ttu-id="50267-180">Provedores de serviços de dados personalizados</span><span class="sxs-lookup"><span data-stu-id="50267-180">Custom Data Service Providers</span></span>](../../../../docs/framework/data/wcf/custom-data-service-providers-wcf-data-services.md)
