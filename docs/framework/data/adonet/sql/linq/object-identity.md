---
title: Identidade do objeto
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: c788f2f9-65cc-4455-9907-e8388a268e00
ms.openlocfilehash: 053c861bae951f044d30d048951aa072b3d85a42
ms.sourcegitcommit: d2e1dfa7ef2d4e9ffae3d431cf6a4ffd9c8d378f
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/07/2019
ms.locfileid: "70792945"
---
# <a name="object-identity"></a><span data-ttu-id="33ca4-102">Identidade do objeto</span><span class="sxs-lookup"><span data-stu-id="33ca4-102">Object Identity</span></span>
<span data-ttu-id="33ca4-103">Os objetos em tempo de execução têm identidades exclusivas.</span><span class="sxs-lookup"><span data-stu-id="33ca4-103">Objects in the runtime have unique identities.</span></span> <span data-ttu-id="33ca4-104">Duas variáveis que referem-se ao mesmo objeto realmente referem-se à mesma instância de objeto.</span><span class="sxs-lookup"><span data-stu-id="33ca4-104">Two variables that refer to the same object actually refer to the same instance of the object.</span></span> <span data-ttu-id="33ca4-105">Devido ao fato, as alterações feitas por um caminho com uma variável imediatamente são visíveis com o outro.</span><span class="sxs-lookup"><span data-stu-id="33ca4-105">Because of this fact, changes that you make by way of a path through one variable are immediately visible through the other.</span></span>  
  
 <span data-ttu-id="33ca4-106">As linhas em uma tabela de base de dados relacional não têm identidades exclusivas.</span><span class="sxs-lookup"><span data-stu-id="33ca4-106">Rows in a relational database table do not have unique identities.</span></span> <span data-ttu-id="33ca4-107">Porque cada linha tem uma chave primária exclusivo, não há duas linhas compartilham o mesmo valor principal.</span><span class="sxs-lookup"><span data-stu-id="33ca4-107">Because each row has a unique primary key, no two rows share the same key value.</span></span> <span data-ttu-id="33ca4-108">No entanto, esse fato restringe somente o conteúdo da tabela de base de dados.</span><span class="sxs-lookup"><span data-stu-id="33ca4-108">However, this fact constrains only the contents of the database table.</span></span>  
  
 <span data-ttu-id="33ca4-109">Na realidade, os dados são trazidos freqüêntemente fora de base de dados e uma camada diferente, onde o aplicativo funciona com ele.</span><span class="sxs-lookup"><span data-stu-id="33ca4-109">In reality, data is most often brought out of the database and into a different tier, where an application works with it.</span></span> <span data-ttu-id="33ca4-110">Esse é o modelo que [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] suporta.</span><span class="sxs-lookup"><span data-stu-id="33ca4-110">This is the model that [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] supports.</span></span> <span data-ttu-id="33ca4-111">Quando dados são trazidos fora de base de dados como linhas, você não tem nenhuma expectativa que duas linhas que representam os mesmos dados realmente correspondem às mesmas instâncias de linha.</span><span class="sxs-lookup"><span data-stu-id="33ca4-111">When data is brought out of the database as rows, you have no expectation that two rows that represent the same data actually correspond to the same row instances.</span></span> <span data-ttu-id="33ca4-112">Se você consultar um cliente específico duas vezes, obterá duas linhas de dados.</span><span class="sxs-lookup"><span data-stu-id="33ca4-112">If you query for a specific customer two times, you get two rows of data.</span></span> <span data-ttu-id="33ca4-113">Cada linha contém as mesmas informações.</span><span class="sxs-lookup"><span data-stu-id="33ca4-113">Each row contains the same information.</span></span>  
  
 <span data-ttu-id="33ca4-114">Com objetos você espera algo muito diferentes.</span><span class="sxs-lookup"><span data-stu-id="33ca4-114">With objects you expect something very different.</span></span> <span data-ttu-id="33ca4-115">Você espera que se você solicitar <xref:System.Data.Linq.DataContext> a mesma informações repetidamente, dará de fato a mesma instância de objeto.</span><span class="sxs-lookup"><span data-stu-id="33ca4-115">You expect that if you ask the <xref:System.Data.Linq.DataContext> for the same information repeatedly, it will in fact give you the same object instance.</span></span> <span data-ttu-id="33ca4-116">Você espera esse comportamento como os objetos têm significado especial para seu aplicativo e os você espera se comportem como objetos.</span><span class="sxs-lookup"><span data-stu-id="33ca4-116">You expect this behavior because objects have special meaning for your application and you expect them to behave like objects.</span></span> <span data-ttu-id="33ca4-117">Você os criou como hierarquias ou grafos.</span><span class="sxs-lookup"><span data-stu-id="33ca4-117">You designed them as hierarchies or graphs.</span></span> <span data-ttu-id="33ca4-118">Você espera recuperá-los como esta'n e não receber multidões de instâncias replicadas exatamente como você solicitou a mesma coisa mais de uma vez.</span><span class="sxs-lookup"><span data-stu-id="33ca4-118">You expect to retrieve them as such and not to receive multitudes of replicated instances just because you asked for the same thing more than one time.</span></span>  
  
 <span data-ttu-id="33ca4-119">Em [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)], <xref:System.Data.Linq.DataContext> gerencia a identidade do objeto.</span><span class="sxs-lookup"><span data-stu-id="33ca4-119">In [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)], the <xref:System.Data.Linq.DataContext> manages object identity.</span></span> <span data-ttu-id="33ca4-120">Sempre que você recupera uma nova linha de base de dados, a linha é entrada uma tabela de identidade por sua chave primária, e um novo objeto é criado.</span><span class="sxs-lookup"><span data-stu-id="33ca4-120">Whenever you retrieve a new row from the database, the row is logged in an identity table by its primary key, and a new object is created.</span></span> <span data-ttu-id="33ca4-121">Sempre que você mesmo que recupera linhas, a instância original de objeto é entregada de volta para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="33ca4-121">Whenever you retrieve that same row, the original object instance is handed back to the application.</span></span> <span data-ttu-id="33ca4-122">Assim <xref:System.Data.Linq.DataContext> converte o conceito de identidade como mostrado por base de dados (isto é, chaves primárias) no conceito de identidade consultado pela linguagem (isto é, instâncias).</span><span class="sxs-lookup"><span data-stu-id="33ca4-122">In this manner the <xref:System.Data.Linq.DataContext> translates the concept of identity as seen by the database (that is, primary keys) into the concept of identity seen by the language (that is, instances).</span></span> <span data-ttu-id="33ca4-123">O aplicativo considera apenas o objeto no estado que foi recuperado primeiro.</span><span class="sxs-lookup"><span data-stu-id="33ca4-123">The application only sees the object in the state that it was first retrieved.</span></span> <span data-ttu-id="33ca4-124">Novos dados, se diferentes, são descartados.</span><span class="sxs-lookup"><span data-stu-id="33ca4-124">The new data, if different, is discarded.</span></span> <span data-ttu-id="33ca4-125">Para obter mais informações, consulte [recuperando objetos do cache de identidade](retrieving-objects-from-the-identity-cache.md).</span><span class="sxs-lookup"><span data-stu-id="33ca4-125">For more information, see [Retrieving Objects from the Identity Cache](retrieving-objects-from-the-identity-cache.md).</span></span>  
  
 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="33ca4-126">o usa essa abordagem para gerenciar a integridade de objetos locais a fim de oferecer suporte a atualizações otimistas.</span><span class="sxs-lookup"><span data-stu-id="33ca4-126">uses this approach to manage the integrity of local objects in order to support optimistic updates.</span></span> <span data-ttu-id="33ca4-127">Porque as únicas alterações que ocorrem após o objeto é criado no início essas são feitas pelo aplicativo, a intenção de aplicativo são claras.</span><span class="sxs-lookup"><span data-stu-id="33ca4-127">Because the only changes that occur after the object is at first created are those made by the application, the intent of the application is clear.</span></span> <span data-ttu-id="33ca4-128">Se as alterações por uma parte externo ocorreram em ínterim, são identificadas em `SubmitChanges()` é chamado.</span><span class="sxs-lookup"><span data-stu-id="33ca4-128">If changes by an outside party have occurred in the interim, they are identified at the time `SubmitChanges()` is called.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="33ca4-129">Se o objeto solicitado pela consulta é facilmente identificável porque se já recuperado, nenhuma consulta é executada.</span><span class="sxs-lookup"><span data-stu-id="33ca4-129">If the object requested by the query is easily identifiable as one already retrieved, no query is executed.</span></span> <span data-ttu-id="33ca4-130">A tabela de identidade atua como um cache de todos os objetos anteriormente recuperados.</span><span class="sxs-lookup"><span data-stu-id="33ca4-130">The identity table acts as a cache of all previously retrieved objects.</span></span>  
  
## <a name="examples"></a><span data-ttu-id="33ca4-131">Exemplos</span><span class="sxs-lookup"><span data-stu-id="33ca4-131">Examples</span></span>  
  
### <a name="object-caching-example-1"></a><span data-ttu-id="33ca4-132">Exemplo de cache de objeto 1</span><span class="sxs-lookup"><span data-stu-id="33ca4-132">Object Caching Example 1</span></span>  
 <span data-ttu-id="33ca4-133">Nesse exemplo, se você executa a mesma consulta duas vezes, você receberá uma referência ao mesmo objeto na memória todas as vezes.</span><span class="sxs-lookup"><span data-stu-id="33ca4-133">In this example, if you execute the same query two times, you receive a reference to the same object in memory every time.</span></span>  
  
 [!code-csharp[DLinqObjectIdentity#1](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqObjectIdentity/cs/Program.cs#1)]
 [!code-vb[DLinqObjectIdentity#1](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqObjectIdentity/vb/Module1.vb#1)]  
  
### <a name="object-caching-example-2"></a><span data-ttu-id="33ca4-134">Objeto que armazena em cachê o exemplo 2</span><span class="sxs-lookup"><span data-stu-id="33ca4-134">Object Caching Example 2</span></span>  
 <span data-ttu-id="33ca4-135">Nesse exemplo, se você executa as diferentes consultas que retornam a mesma linha de base de dados, você receberá uma referência ao mesmo objeto na memória todas as vezes.</span><span class="sxs-lookup"><span data-stu-id="33ca4-135">In this example, if you execute different queries that return the same row from the database, you receive a reference to the same object in memory every time.</span></span>  
  
 [!code-csharp[DLinqObjectIdentity#2](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DLinqObjectIdentity/cs/Program.cs#2)]
 [!code-vb[DLinqObjectIdentity#2](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DLinqObjectIdentity/vb/Module1.vb#2)]  
  
## <a name="see-also"></a><span data-ttu-id="33ca4-136">Consulte também</span><span class="sxs-lookup"><span data-stu-id="33ca4-136">See also</span></span>

- [<span data-ttu-id="33ca4-137">Informações gerais</span><span class="sxs-lookup"><span data-stu-id="33ca4-137">Background Information</span></span>](background-information.md)
