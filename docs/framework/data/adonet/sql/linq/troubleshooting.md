---
title: "Solução de problemas"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-ado
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 8cd4401c-b12c-4116-a421-f3dcffa65670
caps.latest.revision: "3"
author: JennieHubbard
ms.author: jhubbard
manager: jhubbard
ms.workload: dotnet
ms.openlocfilehash: 7aba9aca61497b9b3efd1419d0565bdcfcd7ee7e
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/22/2017
---
# <a name="troubleshooting"></a><span data-ttu-id="685f5-102">Solução de problemas</span><span class="sxs-lookup"><span data-stu-id="685f5-102">Troubleshooting</span></span>
<span data-ttu-id="685f5-103">As seguintes informações expostas alguns problemas que você pode encontrar em seus aplicativos de [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] , e oferece sugestões para evitar ou reduzir de outra maneira o efeito desses problemas.</span><span class="sxs-lookup"><span data-stu-id="685f5-103">The following information exposes some issues you might encounter in your [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] applications, and provides suggestions to avoid or otherwise reduce the effect of these issues.</span></span>  
  
 <span data-ttu-id="685f5-104">Problemas adicionais serão tratados nas [Frequently Asked Questions](../../../../../../docs/framework/data/adonet/sql/linq/frequently-asked-questions.md).</span><span class="sxs-lookup"><span data-stu-id="685f5-104">Additional issues are addressed in [Frequently Asked Questions](../../../../../../docs/framework/data/adonet/sql/linq/frequently-asked-questions.md).</span></span>  
  
## <a name="unsupported-standard-query-operators"></a><span data-ttu-id="685f5-105">Operadores padrões sem suporte de consulta</span><span class="sxs-lookup"><span data-stu-id="685f5-105">Unsupported Standard Query Operators</span></span>  
 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="685f5-106"> não suporta todos os métodos padrão de operador de consulta (por exemplo, <xref:System.Linq.Enumerable.ElementAt%2A>).</span><span class="sxs-lookup"><span data-stu-id="685f5-106"> does not support all standard query operator methods (for example, <xref:System.Linq.Enumerable.ElementAt%2A>).</span></span> <span data-ttu-id="685f5-107">Como resultado, os projetos que compilam ainda podem gerar erros em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="685f5-107">As a result, projects that compile can still produce run-time errors.</span></span> <span data-ttu-id="685f5-108">Para obter mais informações, consulte [conversão de operador de consulta padrão](../../../../../../docs/framework/data/adonet/sql/linq/standard-query-operator-translation.md).</span><span class="sxs-lookup"><span data-stu-id="685f5-108">For more information, see [Standard Query Operator Translation](../../../../../../docs/framework/data/adonet/sql/linq/standard-query-operator-translation.md).</span></span>  
  
## <a name="memory-issues"></a><span data-ttu-id="685f5-109">Problemas de memória</span><span class="sxs-lookup"><span data-stu-id="685f5-109">Memory Issues</span></span>  
 <span data-ttu-id="685f5-110">Se uma consulta envolve uma coleção em memória e [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <xref:System.Data.Linq.Table%601>, a consulta pode ser executada na memória, dependendo da ordem na qual as duas coleções são especificadas.</span><span class="sxs-lookup"><span data-stu-id="685f5-110">If a query involves an in-memory collection and [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <xref:System.Data.Linq.Table%601>, the query might be executed in memory, depending on the order in which the two collections are specified.</span></span> <span data-ttu-id="685f5-111">Se a consulta deve ser executada na memória, os dados da tabela de base de dados deverão ser recuperados.</span><span class="sxs-lookup"><span data-stu-id="685f5-111">If the query must be executed in memory, then the data from the database table will need to be retrieved.</span></span>  
  
 <span data-ttu-id="685f5-112">Essa abordagem é ineficiente e pode resultar em uso significativa de memória e do processador.</span><span class="sxs-lookup"><span data-stu-id="685f5-112">This approach is inefficient and could result in significant memory and processor usage.</span></span> <span data-ttu-id="685f5-113">Tente evitar esses consultas do domínio.</span><span class="sxs-lookup"><span data-stu-id="685f5-113">Try to avoid such multi-domain queries.</span></span>  
  
## <a name="file-names-and-sqlmetal"></a><span data-ttu-id="685f5-114">Nomes de arquivo e SQLMetal</span><span class="sxs-lookup"><span data-stu-id="685f5-114">File Names and SQLMetal</span></span>  
 <span data-ttu-id="685f5-115">Para especificar um nome do arquivo de entrada, adicione o nome do arquivo à linha de comando como o arquivo de entrada.</span><span class="sxs-lookup"><span data-stu-id="685f5-115">To specify an input file name, add the name to the command line as the input file.</span></span> <span data-ttu-id="685f5-116">Não há suporte para a inclusão do nome de arquivo na cadeia de conexão (usando a opção **/conn**).</span><span class="sxs-lookup"><span data-stu-id="685f5-116">Including the file name in the connection string (using the **/conn** option) is not supported.</span></span> <span data-ttu-id="685f5-117">Para obter mais informações, consulte [SqlMetal.exe (ferramenta de geração de código)](../../../../../../docs/framework/tools/sqlmetal-exe-code-generation-tool.md).</span><span class="sxs-lookup"><span data-stu-id="685f5-117">For more information, see [SqlMetal.exe (Code Generation Tool)](../../../../../../docs/framework/tools/sqlmetal-exe-code-generation-tool.md).</span></span>  
  
## <a name="class-library-projects"></a><span data-ttu-id="685f5-118">Projetos de biblioteca de classe</span><span class="sxs-lookup"><span data-stu-id="685f5-118">Class Library Projects</span></span>  
 <span data-ttu-id="685f5-119">[!INCLUDE[vs_ordesigner_long](../../../../../../includes/vs-ordesigner-long-md.md)] cria uma cadeia de conexão no arquivo de `app.config` do projeto.</span><span class="sxs-lookup"><span data-stu-id="685f5-119">The [!INCLUDE[vs_ordesigner_long](../../../../../../includes/vs-ordesigner-long-md.md)] creates a connection string in the `app.config` file of the project.</span></span> <span data-ttu-id="685f5-120">Em projetos de biblioteca de classes, o arquivo de `app.config` não é usado.</span><span class="sxs-lookup"><span data-stu-id="685f5-120">In class library projects, the `app.config` file is not used.</span></span> [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="685f5-121"> usa a cadeia de conexão fornecida em arquivos em tempo de design.</span><span class="sxs-lookup"><span data-stu-id="685f5-121"> uses the Connection String provided in the design-time files.</span></span> <span data-ttu-id="685f5-122">Altere o valor em `app.config` não altera a base de dados que conecta seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="685f5-122">Changing the value in `app.config` does not change the database to which your application connects.</span></span>  
  
## <a name="cascade-delete"></a><span data-ttu-id="685f5-123">Excluir em cascata</span><span class="sxs-lookup"><span data-stu-id="685f5-123">Cascade Delete</span></span>  
 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="685f5-124">não dá suporte ou reconhece as operações de exclusão em cascata.</span><span class="sxs-lookup"><span data-stu-id="685f5-124"> does not support or recognize cascade-delete operations.</span></span> <span data-ttu-id="685f5-125">Se você deseja excluir uma linha em uma tabela que possui restrições nele, você deve fazer:</span><span class="sxs-lookup"><span data-stu-id="685f5-125">If you want to delete a row in a table that has constraints against it, you must do either of the following:</span></span>  
  
-   <span data-ttu-id="685f5-126">Defina a regra `ON DELETE CASCADE` na restrição de chave estrangeira no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="685f5-126">Set the `ON DELETE CASCADE` rule in the foreign-key constraint in the database.</span></span>  
  
-   <span data-ttu-id="685f5-127">Use seu próprio código para excluir primeiro os objetos filho que impedem que o objeto pai seja excluído.</span><span class="sxs-lookup"><span data-stu-id="685f5-127">Use your own code to first delete the child objects that prevent the parent object from being deleted.</span></span>  
  
 <span data-ttu-id="685f5-128">Se não, uma exceção é lançada de <xref:System.Data.SqlClient.SqlException> .</span><span class="sxs-lookup"><span data-stu-id="685f5-128">Otherwise, a <xref:System.Data.SqlClient.SqlException> exception is thrown.</span></span>  
  
 <span data-ttu-id="685f5-129">Para obter mais informações, consulte [como: excluir linhas do banco de dados](../../../../../../docs/framework/data/adonet/sql/linq/how-to-delete-rows-from-the-database.md).</span><span class="sxs-lookup"><span data-stu-id="685f5-129">For more information, see [How to: Delete Rows From the Database](../../../../../../docs/framework/data/adonet/sql/linq/how-to-delete-rows-from-the-database.md).</span></span>  
  
## <a name="expression-not-queryable"></a><span data-ttu-id="685f5-130">Expressão não Queryable</span><span class="sxs-lookup"><span data-stu-id="685f5-130">Expression Not Queryable</span></span>  
 <span data-ttu-id="685f5-131">Se você receber a "expressão [expressão] não é passível de consulta; está faltando uma referência de assembly?"</span><span class="sxs-lookup"><span data-stu-id="685f5-131">If you get the "Expression [expression] is not queryable; are you missing an assembly reference?"</span></span> <span data-ttu-id="685f5-132">erro, verifique o seguinte:</span><span class="sxs-lookup"><span data-stu-id="685f5-132">error, make sure of the following:</span></span>  
  
-   <span data-ttu-id="685f5-133">Seu aplicativo está definido [!INCLUDE[compact_v35_short](../../../../../../includes/compact-v35-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="685f5-133">Your application is targeting [!INCLUDE[compact_v35_short](../../../../../../includes/compact-v35-short-md.md)].</span></span>  
  
-   <span data-ttu-id="685f5-134">Você tem uma referência a `System.Core.dll` e a `System.Data.Linq.dll`.</span><span class="sxs-lookup"><span data-stu-id="685f5-134">You have a reference to `System.Core.dll` and `System.Data.Linq.dll`.</span></span>  
  
-   <span data-ttu-id="685f5-135">Você tem uma política de `Imports` ([!INCLUDE[vbprvb](../../../../../../includes/vbprvb-md.md)]) ou de `using` (C#) para <xref:System.Linq> e <xref:System.Data.Linq>.</span><span class="sxs-lookup"><span data-stu-id="685f5-135">You have an `Imports` ([!INCLUDE[vbprvb](../../../../../../includes/vbprvb-md.md)]) or `using` (C#) directive for <xref:System.Linq> and <xref:System.Data.Linq>.</span></span>  
  
## <a name="duplicatekeyexception"></a><span data-ttu-id="685f5-136">DuplicateKeyException</span><span class="sxs-lookup"><span data-stu-id="685f5-136">DuplicateKeyException</span></span>  
 <span data-ttu-id="685f5-137">Durante a depuração de um [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] projeto, você pode percorrer relações da entidade.</span><span class="sxs-lookup"><span data-stu-id="685f5-137">In the course of debugging a [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] project, you might traverse an entity's relations.</span></span> <span data-ttu-id="685f5-138">Isso coloca esses itens no cache, e [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] torna-se atento a sua presença.</span><span class="sxs-lookup"><span data-stu-id="685f5-138">Doing so brings these items into the cache, and [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] becomes aware of their presence.</span></span> <span data-ttu-id="685f5-139">Se você tentar então executar <xref:System.Data.Linq.Table%601.Attach%2A> ou <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A> ou método semelhante que gerencia as várias linhas que têm a mesma chave, <xref:System.Data.Linq.DuplicateKeyException> é lançada.</span><span class="sxs-lookup"><span data-stu-id="685f5-139">If you then try to execute <xref:System.Data.Linq.Table%601.Attach%2A> or <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A> or a similar method that produces multiple rows that have the same key, a <xref:System.Data.Linq.DuplicateKeyException> is thrown.</span></span>  
  
## <a name="string-concatenation-exceptions"></a><span data-ttu-id="685f5-140">Exceções de concatenação de cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="685f5-140">String Concatenation Exceptions</span></span>  
 <span data-ttu-id="685f5-141">Concatenação em operandos mapeou a `[n]text` e o outro `[n][var]char` não é suportado.</span><span class="sxs-lookup"><span data-stu-id="685f5-141">Concatenation on operands mapped to `[n]text` and other `[n][var]char` is not supported.</span></span> <span data-ttu-id="685f5-142">Uma exceção é lançada para concatenação de cadeias de caracteres mapeadas para dois conjuntos de diferentes tipos.</span><span class="sxs-lookup"><span data-stu-id="685f5-142">An exception is thrown for concatenation of strings mapped to the two different sets of types.</span></span> <span data-ttu-id="685f5-143">Para obter mais informações, consulte [métodos de System. String](../../../../../../docs/framework/data/adonet/sql/linq/system-string-methods.md).</span><span class="sxs-lookup"><span data-stu-id="685f5-143">For more information, see [System.String Methods](../../../../../../docs/framework/data/adonet/sql/linq/system-string-methods.md).</span></span>  
  
## <a name="skip-and-take-exceptions-in-sql-server-2000"></a><span data-ttu-id="685f5-144">Ignore e tome exceções no SQL Server 2000</span><span class="sxs-lookup"><span data-stu-id="685f5-144">Skip and Take Exceptions in SQL Server 2000</span></span>  
 <span data-ttu-id="685f5-145">Você deve usar membros de identidade (<xref:System.Data.Linq.Mapping.ColumnAttribute.IsPrimaryKey%2A>) quando você usa <xref:System.Linq.Queryable.Take%2A> ou <xref:System.Linq.Queryable.Skip%2A> em um base de dados SQL Server 2000.</span><span class="sxs-lookup"><span data-stu-id="685f5-145">You must use identity members (<xref:System.Data.Linq.Mapping.ColumnAttribute.IsPrimaryKey%2A>) when you use <xref:System.Linq.Queryable.Take%2A> or <xref:System.Linq.Queryable.Skip%2A> against a SQL Server 2000 database.</span></span> <span data-ttu-id="685f5-146">A consulta deve estar com uma única tabela (isto é, não uma união), ou seja <xref:System.Linq.Queryable.Distinct%2A>, <xref:System.Linq.Queryable.Except%2A>, <xref:System.Linq.Queryable.Intersect%2A>, ou operação de <xref:System.Linq.Queryable.Union%2A> , e não deve incluir uma operação de <xref:System.Linq.Queryable.Concat%2A> .</span><span class="sxs-lookup"><span data-stu-id="685f5-146">The query must be against a single table (that is, not a join), or be a <xref:System.Linq.Queryable.Distinct%2A>, <xref:System.Linq.Queryable.Except%2A>, <xref:System.Linq.Queryable.Intersect%2A>, or <xref:System.Linq.Queryable.Union%2A> operation, and must not include a <xref:System.Linq.Queryable.Concat%2A> operation.</span></span> <span data-ttu-id="685f5-147">Para obter mais informações, consulte a seção "Suporte do SQL Server 2000" [conversão de operador de consulta padrão](../../../../../../docs/framework/data/adonet/sql/linq/standard-query-operator-translation.md).</span><span class="sxs-lookup"><span data-stu-id="685f5-147">For more information, see the "SQL Server 2000 Support" section in [Standard Query Operator Translation](../../../../../../docs/framework/data/adonet/sql/linq/standard-query-operator-translation.md).</span></span>  
  
 <span data-ttu-id="685f5-148">Esse requisito não se aplica a [!INCLUDE[sqprsqlong](../../../../../../includes/sqprsqlong-md.md)].</span><span class="sxs-lookup"><span data-stu-id="685f5-148">This requirement does not apply to [!INCLUDE[sqprsqlong](../../../../../../includes/sqprsqlong-md.md)].</span></span>  
  
## <a name="groupby-invalidoperationexception"></a><span data-ttu-id="685f5-149">GroupBy InvalidOperationException</span><span class="sxs-lookup"><span data-stu-id="685f5-149">GroupBy InvalidOperationException</span></span>  
 <span data-ttu-id="685f5-150">Essa exceção é lançada quando um valor de coluna é zero em uma consulta de <xref:System.Linq.Enumerable.GroupBy%2A> que se agrupe por uma expressão de `boolean` , como `group x by (Phone==@phone)`.</span><span class="sxs-lookup"><span data-stu-id="685f5-150">This exception is thrown when a column value is null in a <xref:System.Linq.Enumerable.GroupBy%2A> query that groups by a `boolean` expression, such as `group x by (Phone==@phone)`.</span></span> <span data-ttu-id="685f5-151">Porque a expressão é um `boolean`, a chave é inferida para ser `boolean`, não `nullable``boolean`.</span><span class="sxs-lookup"><span data-stu-id="685f5-151">Because the expression is a `boolean`, the key is inferred to be `boolean`, not `nullable``boolean`.</span></span> <span data-ttu-id="685f5-152">Quando a comparação traduzida produz um valor nulo, é feita uma tentativa de atribuir um `nullable``boolean` para um `boolean`, e a exceção é gerada.</span><span class="sxs-lookup"><span data-stu-id="685f5-152">When the translated comparison produces a null, an attempt is made to assign a `nullable``boolean` to a `boolean`, and the exception is thrown.</span></span>  
  
 <span data-ttu-id="685f5-153">Para evitar essa situação (pressupõe que o desejar tratar nulos como false), use uma abordagem como o seguinte:</span><span class="sxs-lookup"><span data-stu-id="685f5-153">To avoid this situation (assuming you want to treat nulls as false), use an approach such as the following:</span></span>  
  
 `GroupBy="(Phone != null) && (Phone=@Phone)"`  
  
## <a name="oncreated-partial-method"></a><span data-ttu-id="685f5-154">Método parcial deOnCreated()</span><span class="sxs-lookup"><span data-stu-id="685f5-154">OnCreated() Partial Method</span></span>  
 <span data-ttu-id="685f5-155">O método gerado `OnCreated()` é chamado em cada vez que o construtor do objeto é chamado, incluindo a situação em que [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] chama o construtor para fazer uma cópia para valores originais.</span><span class="sxs-lookup"><span data-stu-id="685f5-155">The generated method `OnCreated()` is called each time the object constructor is called, including the scenario in which [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] calls the constructor to make a copy for original values.</span></span> <span data-ttu-id="685f5-156">Leve em conta esse comportamento se você implementar o método de `OnCreated()` em sua própria classe parcial.</span><span class="sxs-lookup"><span data-stu-id="685f5-156">Take this behavior into account if you implement the `OnCreated()` method in your own partial class.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="685f5-157">Consulte também</span><span class="sxs-lookup"><span data-stu-id="685f5-157">See Also</span></span>  
 [<span data-ttu-id="685f5-158">Suporte à depuração</span><span class="sxs-lookup"><span data-stu-id="685f5-158">Debugging Support</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/debugging-support.md)  
 [<span data-ttu-id="685f5-159">Perguntas frequentes</span><span class="sxs-lookup"><span data-stu-id="685f5-159">Frequently Asked Questions</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/frequently-asked-questions.md)
