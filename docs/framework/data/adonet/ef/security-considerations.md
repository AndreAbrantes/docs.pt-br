---
title: Considerações de segurança (Entity Framework)
ms.date: 03/30/2017
ms.assetid: 84758642-9b72-4447-86f9-f831fef46962
ms.openlocfilehash: 25d313f9c6f71d946ed8d9cc5db2e99dc84983b3
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/04/2018
ms.locfileid: "43534078"
---
# <a name="security-considerations-entity-framework"></a><span data-ttu-id="ac36c-102">Considerações de segurança (Entity Framework)</span><span class="sxs-lookup"><span data-stu-id="ac36c-102">Security Considerations (Entity Framework)</span></span>
<span data-ttu-id="ac36c-103">Este tópico descreve considerações de segurança específicas para desenvolver, implantar e executar aplicativos [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ac36c-103">This topic describes security considerations that are specific to developing, deploying, and running [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] applications.</span></span> <span data-ttu-id="ac36c-104">Você também deve seguir as recomendações para criar aplicativos seguros do [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ac36c-104">You should also follow recommendations for creating secure [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)] applications.</span></span> <span data-ttu-id="ac36c-105">Para obter mais informações, consulte [visão geral de segurança](../../../../../docs/framework/data/adonet/security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ac36c-105">For more information, see [Security Overview](../../../../../docs/framework/data/adonet/security-overview.md).</span></span>  
  
## <a name="general-security-considerations"></a><span data-ttu-id="ac36c-106">Considerações gerais de segurança</span><span class="sxs-lookup"><span data-stu-id="ac36c-106">General Security Considerations</span></span>  
 <span data-ttu-id="ac36c-107">As considerações de segurança a seguir se aplicam a todos os aplicativos que usam o [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ac36c-107">The following security considerations apply to all applications that use the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span></span>  
  
#### <a name="use-only-trusted-data-source-providers"></a><span data-ttu-id="ac36c-108">Use apenas provedores de fontes de dados confiáveis.</span><span class="sxs-lookup"><span data-stu-id="ac36c-108">Use only trusted data source providers.</span></span>  
 <span data-ttu-id="ac36c-109">Para se comunicar com a fonte de dados, um provedor deve fazer o seguinte:</span><span class="sxs-lookup"><span data-stu-id="ac36c-109">To communicate with the data source, a provider must do the following:</span></span>  
  
-   <span data-ttu-id="ac36c-110">Receber a cadeia de conexão do [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ac36c-110">Receive the connection string from the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span></span>  
  
-   <span data-ttu-id="ac36c-111">Converter a árvore de comandos na linguagem de consulta nativa da fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="ac36c-111">Translate the command tree to the data source's native query language.</span></span>  
  
-   <span data-ttu-id="ac36c-112">Reunir e retornar conjuntos de resultados.</span><span class="sxs-lookup"><span data-stu-id="ac36c-112">Assemble and return result sets.</span></span>  
  
 <span data-ttu-id="ac36c-113">Durante a operação de logon, as informações baseadas na senha do usuário são passadas para o servidor através das bibliotecas de rede da fonte de dados subjacente.</span><span class="sxs-lookup"><span data-stu-id="ac36c-113">During the logon operation, information that is based on the user password is passed to the server through the network libraries of the underlying data source.</span></span> <span data-ttu-id="ac36c-114">Um provedor mal-intencionado pode roubar credenciais do usuário, gerar consultas mal-intencionadas ou violar o conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="ac36c-114">A malicious provider can steal user credentials, generate malicious queries, or tamper with the result set.</span></span>  
  
#### <a name="encrypt-your-connection-to-protect-sensitive-data"></a><span data-ttu-id="ac36c-115">Criptografe sua conexão para proteger dados confidenciais.</span><span class="sxs-lookup"><span data-stu-id="ac36c-115">Encrypt your connection to protect sensitive data.</span></span>  
 <span data-ttu-id="ac36c-116">O [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] não trata diretamente da criptografia de dados.</span><span class="sxs-lookup"><span data-stu-id="ac36c-116">The [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] does not directly handle data encryption.</span></span> <span data-ttu-id="ac36c-117">Se os usuários acessam dados por uma rede pública, seu aplicativo deve estabelecer uma conexão criptografada com a fonte de dados para aumentar a segurança.</span><span class="sxs-lookup"><span data-stu-id="ac36c-117">If users access data over a public network, your application should establish an encrypted connection to the data source to increase security.</span></span> <span data-ttu-id="ac36c-118">Para obter mais informações, consulte a documentação relacionada à segurança da sua fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="ac36c-118">For more information, see the security-related documentation for your data source.</span></span> <span data-ttu-id="ac36c-119">Para uma fonte de dados do SQL Server, consulte [criptografando conexões com o SQL Server](https://go.microsoft.com/fwlink/?LinkId=119544).</span><span class="sxs-lookup"><span data-stu-id="ac36c-119">For a SQL Server data source, see [Encrypting Connections to SQL Server](https://go.microsoft.com/fwlink/?LinkId=119544).</span></span>  
  
#### <a name="secure-the-connection-string"></a><span data-ttu-id="ac36c-120">Proteja a cadeia de conexão.</span><span class="sxs-lookup"><span data-stu-id="ac36c-120">Secure the connection string.</span></span>  
 <span data-ttu-id="ac36c-121">A proteção do acesso à fonte de dados é essencial para a segurança do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ac36c-121">Protecting access to your data source is one of the most important goals when securing an application.</span></span> <span data-ttu-id="ac36c-122">Uma cadeia de conexão é potencialmente vulnerável caso não esteja protegida ou se tiver sido construída incorretamente.</span><span class="sxs-lookup"><span data-stu-id="ac36c-122">A connection string presents a potential vulnerability if it is not secured or if it is improperly constructed.</span></span> <span data-ttu-id="ac36c-123">Quando você armazena informações de conexão em texto sem formatação ou persiste essas informações na memória, corre o risco de comprometer seu sistema inteiro.</span><span class="sxs-lookup"><span data-stu-id="ac36c-123">When you store connection information in plain text or persist it in memory, you risk compromising your entire system.</span></span> <span data-ttu-id="ac36c-124">Os seguintes métodos são recomendados para proteger cadeias de conexão:</span><span class="sxs-lookup"><span data-stu-id="ac36c-124">The following are the recommended methods for securing connection strings:</span></span>  
  
-   <span data-ttu-id="ac36c-125">Usar a Autenticação do Windows com uma fonte de dados do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ac36c-125">Use Windows Authentication with a SQL Server data source.</span></span>  
  
     <span data-ttu-id="ac36c-126">Quando você usa a Autenticação do Windows para se conectar a uma fonte de dados do SQL Server, a cadeia de conexão não contém informações de logon e de senha.</span><span class="sxs-lookup"><span data-stu-id="ac36c-126">When you use Windows Authentication to connect to a SQL Server data source, the connection string does not contain logon and password information.</span></span>  
  
-   <span data-ttu-id="ac36c-127">Criptografar seções de arquivos de configuração usando configuração protegida.</span><span class="sxs-lookup"><span data-stu-id="ac36c-127">Encrypt configuration file sections using protected configuration.</span></span>  
  
     <span data-ttu-id="ac36c-128">O ASP.NET fornece um recurso chamado configuração protegida que permite criptografar informações confidenciais em um arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="ac36c-128">ASP.NET provides a feature called protected configuration that enables you to encrypt sensitive information in a configuration file.</span></span> <span data-ttu-id="ac36c-129">Embora esse recurso tenha sido basicamente projetado para ASP.NET, você também pode usá-lo para criptografar seções de arquivos de configuração em aplicativos do Windows.</span><span class="sxs-lookup"><span data-stu-id="ac36c-129">Although primarily designed for ASP.NET, you can also use protected configuration to encrypt sections of configuration files in Windows applications.</span></span> <span data-ttu-id="ac36c-130">Para obter uma descrição detalhada dos novos recursos de configuração protegida, consulte [Criptografando informações de configuração usando configuração protegida](https://msdn.microsoft.com/library/51cdfe5b-9d82-458c-94ff-c551c4f38ed1).</span><span class="sxs-lookup"><span data-stu-id="ac36c-130">For a detailed description of the new protected configuration capabilities, see [Encrypting Configuration Information Using Protected Configuration](https://msdn.microsoft.com/library/51cdfe5b-9d82-458c-94ff-c551c4f38ed1).</span></span>  
  
-   <span data-ttu-id="ac36c-131">Armazenar cadeias de conexão em arquivos de configuração protegida.</span><span class="sxs-lookup"><span data-stu-id="ac36c-131">Store connection strings in secured configuration files.</span></span>  
  
     <span data-ttu-id="ac36c-132">Você nunca deve inserir cadeias de conexão no código-fonte.</span><span class="sxs-lookup"><span data-stu-id="ac36c-132">You should never embed connection strings in your source code.</span></span> <span data-ttu-id="ac36c-133">Você pode armazenar cadeias de conexão em arquivos de configuração, o que elimina a necessidade de inseri-las no código do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ac36c-133">You can store connection strings in configuration files, which eliminates the need to embed them in your application's code.</span></span> <span data-ttu-id="ac36c-134">Por padrão, o Assistente do Modelo de Dados de Entidade armazena cadeias de conexão no arquivo de configuração do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ac36c-134">By default, the Entity Data Model Wizard stores connection strings in the application configuration file.</span></span> <span data-ttu-id="ac36c-135">É necessário proteger esse arquivo para impedir o acesso não autorizado.</span><span class="sxs-lookup"><span data-stu-id="ac36c-135">You must secure this file to prevent unauthorized access.</span></span>  
  
-   <span data-ttu-id="ac36c-136">Usar construtores de cadeias de conexão para criar conexões dinamicamente.</span><span class="sxs-lookup"><span data-stu-id="ac36c-136">Use connection string builders when dynamically creating connections.</span></span>  
  
     <span data-ttu-id="ac36c-137">Se você precisar criar cadeias de conexão em tempo de execução, use a classe <xref:System.Data.EntityClient.EntityConnectionStringBuilder>.</span><span class="sxs-lookup"><span data-stu-id="ac36c-137">If you must construct connection strings at runtime, use the <xref:System.Data.EntityClient.EntityConnectionStringBuilder> class.</span></span> <span data-ttu-id="ac36c-138">Essa classe de construtor de cadeias de caracteres ajuda a evitar ataques de injeção de cadeias de conexão validando e escapando informações de entrada inválidas.</span><span class="sxs-lookup"><span data-stu-id="ac36c-138">This string builder class helps prevent connection string injection attacks by validating and escaping invalid input information.</span></span> <span data-ttu-id="ac36c-139">Para obter mais informações, consulte [como: criar uma cadeia de caracteres de Conexão EntityConnection](../../../../../docs/framework/data/adonet/ef/how-to-build-an-entityconnection-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="ac36c-139">For more information, see [How to: Build an EntityConnection Connection String](../../../../../docs/framework/data/adonet/ef/how-to-build-an-entityconnection-connection-string.md).</span></span> <span data-ttu-id="ac36c-140">Também usar a classe de construtor de cadeia de caracteres apropriada para construir a cadeia de conexão de fonte de dados que faz parte do [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] cadeia de caracteres de conexão.</span><span class="sxs-lookup"><span data-stu-id="ac36c-140">Also use the appropriate string builder class to construct the data source connection string that is part of the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] connection string.</span></span> <span data-ttu-id="ac36c-141">Para obter informações sobre construtores de cadeia de caracteres de conexão para provedores ADO.NET, consulte [construtores de cadeia de Conexão](../../../../../docs/framework/data/adonet/connection-string-builders.md).</span><span class="sxs-lookup"><span data-stu-id="ac36c-141">For information about connection string builders for ADO.NET providers, see [Connection String Builders](../../../../../docs/framework/data/adonet/connection-string-builders.md).</span></span>  
  
 <span data-ttu-id="ac36c-142">Para obter mais informações, consulte [Protegendo informações de conexão](../../../../../docs/framework/data/adonet/protecting-connection-information.md).</span><span class="sxs-lookup"><span data-stu-id="ac36c-142">For more information, see [Protecting Connection Information](../../../../../docs/framework/data/adonet/protecting-connection-information.md).</span></span>  
  
#### <a name="do-not-expose-an-entityconnection-to-untrusted-users"></a><span data-ttu-id="ac36c-143">Não exponha um objeto EntityConnection a usuários não confiáveis.</span><span class="sxs-lookup"><span data-stu-id="ac36c-143">Do not expose an EntityConnection to untrusted users.</span></span>  
 <span data-ttu-id="ac36c-144">Um objeto <xref:System.Data.EntityClient.EntityConnection> expõe a cadeia de conexão subjacente.</span><span class="sxs-lookup"><span data-stu-id="ac36c-144">An <xref:System.Data.EntityClient.EntityConnection> object exposes the connection string of the underlying connection.</span></span> <span data-ttu-id="ac36c-145">Um usuário com acesso a um objeto <xref:System.Data.EntityClient.EntityConnection> também pode alterar o <xref:System.Data.ConnectionState> da conexão subjacente.</span><span class="sxs-lookup"><span data-stu-id="ac36c-145">A user with access to an <xref:System.Data.EntityClient.EntityConnection> object can also change the <xref:System.Data.ConnectionState> of the underlying connection.</span></span> <span data-ttu-id="ac36c-146">A classe <xref:System.Data.EntityClient.EntityConnection> não é segura para threads.</span><span class="sxs-lookup"><span data-stu-id="ac36c-146">The <xref:System.Data.EntityClient.EntityConnection> class is not thread safe.</span></span>  
  
#### <a name="do-not-pass-connections-outside-the-security-context"></a><span data-ttu-id="ac36c-147">Não passe conexões fora do contexto de segurança.</span><span class="sxs-lookup"><span data-stu-id="ac36c-147">Do not pass connections outside the security context.</span></span>  
 <span data-ttu-id="ac36c-148">Após uma conexão ser estabelecida, você não deve passá-la fora do contexto de segurança.</span><span class="sxs-lookup"><span data-stu-id="ac36c-148">After a connection has been established, you must not pass it outside the security context.</span></span> <span data-ttu-id="ac36c-149">Por exemplo, um thread com permissão para abrir uma conexão não deve armazenar a conexão em um local global.</span><span class="sxs-lookup"><span data-stu-id="ac36c-149">For example, one thread with permission to open a connection should not store the connection in a global location.</span></span> <span data-ttu-id="ac36c-150">Se a conexão estiver disponível em um local global, então outro thread mal-intencionado poderá usar a conexão aberta sem ter a permissão explícita para isso.</span><span class="sxs-lookup"><span data-stu-id="ac36c-150">If the connection is available in a global location, then another malicious thread can use the open connection without having that permission explicitly granted to it.</span></span>  
  
#### <a name="be-aware-that-logon-information-and-passwords-may-be-visible-in-a-memory-dump"></a><span data-ttu-id="ac36c-151">Esteja ciente de que informações de logon e senhas podem ser visíveis em um despejo de memória.</span><span class="sxs-lookup"><span data-stu-id="ac36c-151">Be aware that logon information and passwords may be visible in a memory dump.</span></span>  
 <span data-ttu-id="ac36c-152">Quando informações de logon e de senha da fonte de dados são especificadas na cadeia de conexão, essas informações são mantidas na memória até que a coleta de lixo recupere os recursos.</span><span class="sxs-lookup"><span data-stu-id="ac36c-152">When data source logon and password information is supplied in the connection string, this information is maintained in memory until garbage collection reclaims the resources.</span></span> <span data-ttu-id="ac36c-153">Isso impossibilita determinar quando uma cadeia de caracteres de senha não está mais na memória.</span><span class="sxs-lookup"><span data-stu-id="ac36c-153">This makes it impossible to determine when a password string is no longer in memory.</span></span> <span data-ttu-id="ac36c-154">Se um aplicativo falha, um arquivo de despejo de memória pode conter informações de segurança confidenciais, e o usuário que executa o aplicativo e qualquer usuário com acesso administrativo ao computador podem exibir o arquivo de despejo de memória.</span><span class="sxs-lookup"><span data-stu-id="ac36c-154">If an application crashes, a memory dump file may contain sensitive security information, and the user running the application and any user with administrative access to the computer can view the memory dump file.</span></span> <span data-ttu-id="ac36c-155">Use a Autenticação do Windows para conexões com o Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ac36c-155">Use Windows Authentication for connections to Microsoft SQL Server.</span></span>  
  
#### <a name="grant-users-only-the-necessary-permissions-in-the-data-source"></a><span data-ttu-id="ac36c-156">Conceda aos usuários apenas as permissões necessárias para a fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="ac36c-156">Grant users only the necessary permissions in the data source.</span></span>  
 <span data-ttu-id="ac36c-157">Um administrador de fonte de dados deve conceder somente as permissões necessárias aos usuários.</span><span class="sxs-lookup"><span data-stu-id="ac36c-157">A data source administrator should grant only the necessary permissions to users.</span></span> <span data-ttu-id="ac36c-158">Embora [!INCLUDE[esql](../../../../../includes/esql-md.md)] não dê suporte a instruções DML que modificam dados, como INSERT, UPDATE ou DELETE, os usuários ainda podem acessar a conexão com a fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="ac36c-158">Even though [!INCLUDE[esql](../../../../../includes/esql-md.md)] does not support DML statements that modify data, such as INSERT, UPDATE, or DELETE, users can still access the connection to the data source.</span></span> <span data-ttu-id="ac36c-159">Um usuário mal-intencionado pode usar essa conexão para executar instruções DML na linguagem nativa da fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="ac36c-159">A malicious user could use this connection to execute DML statements in the native language of the data source.</span></span>  
  
#### <a name="run-applications-with-the-minimum-permissions"></a><span data-ttu-id="ac36c-160">Execute aplicativos com as permissões mínimas.</span><span class="sxs-lookup"><span data-stu-id="ac36c-160">Run applications with the minimum permissions.</span></span>  
 <span data-ttu-id="ac36c-161">Quando você permite que um aplicativo gerenciado seja executado com permissão de confiança total, o [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)] não limita o acesso do aplicativo ao seu computador.</span><span class="sxs-lookup"><span data-stu-id="ac36c-161">When you allow a managed application to run with full-trust permission, the [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)] does not limit the application's access to your computer.</span></span> <span data-ttu-id="ac36c-162">Isso pode tornar vulnerável a segurança do seu aplicativo e comprometer o sistema inteiro.</span><span class="sxs-lookup"><span data-stu-id="ac36c-162">This may enable a security vulnerability in your application to compromise the entire system.</span></span> <span data-ttu-id="ac36c-163">Para usar a segurança de acesso do código e outros mecanismos de segurança no [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)], você deve executar aplicativos usando permissões de confiança parcial, com o conjunto mínimo de permissões necessárias para permitir o funcionamento do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ac36c-163">To use code access security and other security mechanisms in the [!INCLUDE[dnprdnshort](../../../../../includes/dnprdnshort-md.md)], you should run applications by using partial-trust permissions and with the minimum set of permissions that are needed to enable the application to function.</span></span> <span data-ttu-id="ac36c-164">As seguintes permissões de acesso do código são as permissões mínimas que seu aplicativo [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] precisa:</span><span class="sxs-lookup"><span data-stu-id="ac36c-164">The following code access permissions are the minimum permissions your [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] application needs:</span></span>  
  
-   <span data-ttu-id="ac36c-165"><xref:System.Security.Permissions.FileIOPermission>: <xref:System.Security.Permissions.FileIOPermissionAccess.Write> para abrir os arquivos de metadados especificados ou <xref:System.Security.Permissions.FileIOPermissionAccess.PathDiscovery> para pesquisar arquivos de metadados em um diretório.</span><span class="sxs-lookup"><span data-stu-id="ac36c-165"><xref:System.Security.Permissions.FileIOPermission>: <xref:System.Security.Permissions.FileIOPermissionAccess.Write> to open the specified metadata files or <xref:System.Security.Permissions.FileIOPermissionAccess.PathDiscovery> to search a directory for metadata files.</span></span>  
  
-   <span data-ttu-id="ac36c-166"><xref:System.Security.Permissions.ReflectionPermission>: <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess> para dar suporte a consultas LINK to Entities.</span><span class="sxs-lookup"><span data-stu-id="ac36c-166"><xref:System.Security.Permissions.ReflectionPermission>: <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess> to support LINQ to Entities queries.</span></span>  
  
-   <span data-ttu-id="ac36c-167"><xref:System.Transactions.DistributedTransactionPermission>: <xref:System.Security.Permissions.PermissionState.Unrestricted> para se inscrever em uma <xref:System.Transactions><xref:System.Transactions.Transaction>.</span><span class="sxs-lookup"><span data-stu-id="ac36c-167"><xref:System.Transactions.DistributedTransactionPermission>: <xref:System.Security.Permissions.PermissionState.Unrestricted> to enlist in a <xref:System.Transactions><xref:System.Transactions.Transaction>.</span></span>  
  
-   <span data-ttu-id="ac36c-168"><xref:System.Security.Permissions.SecurityPermission>: <xref:System.Security.Permissions.SecurityPermissionFlag.SerializationFormatter> para serializar exceções usando a interface <xref:System.Runtime.Serialization.ISerializable>.</span><span class="sxs-lookup"><span data-stu-id="ac36c-168"><xref:System.Security.Permissions.SecurityPermission>: <xref:System.Security.Permissions.SecurityPermissionFlag.SerializationFormatter> to serialize exceptions by using the <xref:System.Runtime.Serialization.ISerializable> interface.</span></span>  
  
-   <span data-ttu-id="ac36c-169">Permissão para abrir uma conexão de banco de dados e executar comandos no banco de dados, tais como <xref:System.Data.SqlClient.SqlClientPermission> para um banco de dados do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ac36c-169">Permission to open a database connection and execute commands against the database, such as <xref:System.Data.SqlClient.SqlClientPermission> for a SQL Server database.</span></span>  
  
 <span data-ttu-id="ac36c-170">Para obter mais informações, consulte [Segurança de acesso do código e ADO.NET](../../../../../docs/framework/data/adonet/code-access-security.md).</span><span class="sxs-lookup"><span data-stu-id="ac36c-170">For more information, see [Code Access Security and ADO.NET](../../../../../docs/framework/data/adonet/code-access-security.md).</span></span>  
  
#### <a name="do-not-install-untrusted-applications"></a><span data-ttu-id="ac36c-171">Não instale aplicativos não confiáveis.</span><span class="sxs-lookup"><span data-stu-id="ac36c-171">Do not install untrusted applications.</span></span>  
 <span data-ttu-id="ac36c-172">O [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] não impõe permissões de segurança e invoca qualquer código de objeto de dados fornecido pelo usuário no processo, independentemente de ser ou não confiável.</span><span class="sxs-lookup"><span data-stu-id="ac36c-172">The [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] does not enforce any security permissions and will invoke any user-supplied data object code in process regardless of whether it is trusted or not.</span></span> <span data-ttu-id="ac36c-173">Verifique se a autenticação e a autorização do cliente são executadas pelo repositório de dados e por seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ac36c-173">Ensure that authentication and authorization of the client is performed by the data store and by your application.</span></span>  
  
#### <a name="restrict-access-to-all-configuration-files"></a><span data-ttu-id="ac36c-174">Restrinja o acesso a todos os arquivos de configuração.</span><span class="sxs-lookup"><span data-stu-id="ac36c-174">Restrict access to all configuration files.</span></span>  
 <span data-ttu-id="ac36c-175">Um administrador deve restringir o acesso de gravação para o arquivo de configuração de aplicativo e de todos os arquivos que especificam a configuração de um aplicativo, incluindo Enterprisesec. config, Security. config, Machine. conf \< *aplicativo* >. exe.</span><span class="sxs-lookup"><span data-stu-id="ac36c-175">An administrator must restrict write access to all files that specify configuration for an application, including to enterprisesec.config, security.config, machine.conf, and the application configuration file \<*application*>.exe.config.</span></span>  
  
 <span data-ttu-id="ac36c-176">O nome invariável do provedor pode ser modificado no arquivo app.config. O aplicativo cliente deve assumir a responsabilidade de acessar o provedor subjacente por meio do modelo padrão de fábrica do provedor usando um nome forte.</span><span class="sxs-lookup"><span data-stu-id="ac36c-176">The provider invariant name is modifiable in the app.config. The client application must take responsibility for accessing the underlying provider through the standard provider factory model by using a strong name.</span></span>  
  
#### <a name="restrict-permissions-to-the-model-and-mapping-files"></a><span data-ttu-id="ac36c-177">Restrinja permissões aos arquivos de modelo e de mapeamento.</span><span class="sxs-lookup"><span data-stu-id="ac36c-177">Restrict permissions to the model and mapping files.</span></span>  
 <span data-ttu-id="ac36c-178">Um administrador deve restringir o acesso para gravação nos arquivos de modelo e de mapeamento (.edmx, .csdl, .ssdl e .msl) somente aos usuários que alteram o modelo ou os mapeamentos.</span><span class="sxs-lookup"><span data-stu-id="ac36c-178">An administrator must restrict write access to the model and mapping files (.edmx, .csdl, .ssdl, and .msl) to only users who modify the model or mappings.</span></span> <span data-ttu-id="ac36c-179">O [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] só requer acesso de leitura a esses arquivos em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="ac36c-179">The [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] only requires read access to these files at run time.</span></span> <span data-ttu-id="ac36c-180">Um administrador também deve restringir o acesso à camada do objeto e a arquivos de exibição de código-fonte pré-compilados que são gerados pelas ferramentas [!INCLUDE[adonet_edm](../../../../../includes/adonet-edm-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ac36c-180">An administrator should also restrict access to object layer and pre-compiled view source code files that are generated by the [!INCLUDE[adonet_edm](../../../../../includes/adonet-edm-md.md)] tools.</span></span>  
  
## <a name="security-considerations-for-queries"></a><span data-ttu-id="ac36c-181">Considerações de segurança para consultas</span><span class="sxs-lookup"><span data-stu-id="ac36c-181">Security Considerations for Queries</span></span>  
 <span data-ttu-id="ac36c-182">As considerações de segurança a seguir se aplicam em consultas a um modelo conceitual.</span><span class="sxs-lookup"><span data-stu-id="ac36c-182">The following security considerations apply when querying a conceptual model.</span></span> <span data-ttu-id="ac36c-183">Essas considerações se aplicam a consultas [!INCLUDE[esql](../../../../../includes/esql-md.md)] usando EntityClient e a consultas de objeto usando LINQ, [!INCLUDE[esql](../../../../../includes/esql-md.md)] e métodos de construtor de consultas.</span><span class="sxs-lookup"><span data-stu-id="ac36c-183">These considerations apply to [!INCLUDE[esql](../../../../../includes/esql-md.md)] queries using EntityClient and to object queries using LINQ, [!INCLUDE[esql](../../../../../includes/esql-md.md)], and query builder methods.</span></span>  
  
#### <a name="prevent-sql-injection-attacks"></a><span data-ttu-id="ac36c-184">Evite ataques de injeção de SQL.</span><span class="sxs-lookup"><span data-stu-id="ac36c-184">Prevent SQL injection attacks.</span></span>  
 <span data-ttu-id="ac36c-185">Os aplicativos normalmente obtêm entrada externa (de um usuário ou de outro agente externo) e executam ações com base nessa entrada.</span><span class="sxs-lookup"><span data-stu-id="ac36c-185">Applications frequently take external input (from a user or another external agent) and perform actions based on that input.</span></span> <span data-ttu-id="ac36c-186">Qualquer entrada que seja derivada direta ou indiretamente do usuário ou de um agente externo pode ter conteúdo que usa a sintaxe da linguagem de destino para executar ações não autorizadas.</span><span class="sxs-lookup"><span data-stu-id="ac36c-186">Any input that is directly or indirectly derived from the user or an external agent might have content that uses the syntax of the target language in order to perform unauthorized actions.</span></span> <span data-ttu-id="ac36c-187">Quando a linguagem de destino é uma linguagem SQL, como [!INCLUDE[tsql](../../../../../includes/tsql-md.md)], essa manipulação é conhecida como um ataque de injeção de SQL.</span><span class="sxs-lookup"><span data-stu-id="ac36c-187">When the target language is a Structured Query Language (SQL), such as [!INCLUDE[tsql](../../../../../includes/tsql-md.md)], this manipulation is known as a SQL injection attack.</span></span> <span data-ttu-id="ac36c-188">Um usuário mal-intencionado pode injetar comandos diretamente na consulta e remover uma tabela de banco de dados, causar uma negação de serviço ou alterar a natureza da operação que está sendo executada.</span><span class="sxs-lookup"><span data-stu-id="ac36c-188">A malicious user can inject commands directly into the query and drop a database table, cause a denial of service, or otherwise change the nature of the operation being performed.</span></span>  
  
-   <span data-ttu-id="ac36c-189">Ataques de injeção de [!INCLUDE[esql](../../../../../includes/esql-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="ac36c-189">[!INCLUDE[esql](../../../../../includes/esql-md.md)] injection attacks:</span></span>  
  
     <span data-ttu-id="ac36c-190">Os ataques de injeção de SQL podem ser executados em [!INCLUDE[esql](../../../../../includes/esql-md.md)] fornecendo entrada mal-intencionada para valores que são usados em um predicado de consulta e em nomes de parâmetro.</span><span class="sxs-lookup"><span data-stu-id="ac36c-190">SQL injection attacks can be performed in [!INCLUDE[esql](../../../../../includes/esql-md.md)] by supplying malicious input to values that are used in a query predicate and in parameter names.</span></span> <span data-ttu-id="ac36c-191">Para evitar o risco de injeção de SQL, você nunca deve combinar a entrada do usuário com o texto de comando de [!INCLUDE[esql](../../../../../includes/esql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ac36c-191">To avoid the risk of SQL injection, you should never combine user input with [!INCLUDE[esql](../../../../../includes/esql-md.md)] command text.</span></span>  
  
     <span data-ttu-id="ac36c-192">As consultas [!INCLUDE[esql](../../../../../includes/esql-md.md)] aceitam parâmetros em todas as partes onde literais são aceitos.</span><span class="sxs-lookup"><span data-stu-id="ac36c-192">[!INCLUDE[esql](../../../../../includes/esql-md.md)] queries accept parameters everywhere that literals are accepted.</span></span> <span data-ttu-id="ac36c-193">Você deve usar consultas parametrizadas, em vez de injetar literais de um agente externo diretamente na consulta.</span><span class="sxs-lookup"><span data-stu-id="ac36c-193">You should use parameterized queries instead of injecting literals from an external agent directly into the query.</span></span> <span data-ttu-id="ac36c-194">Você também deve considerar usar métodos do construtor de consulta para construir com segurança [Entity SQL](https://msdn.microsoft.com/library/05685434-05e6-41c2-8d5e-8933b88a40b0).</span><span class="sxs-lookup"><span data-stu-id="ac36c-194">You should also consider using query builder methods to safely construct [Entity SQL](https://msdn.microsoft.com/library/05685434-05e6-41c2-8d5e-8933b88a40b0).</span></span>  
  
-   <span data-ttu-id="ac36c-195">Ataques de injeção de [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="ac36c-195">[!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] injection attacks:</span></span>  
  
     <span data-ttu-id="ac36c-196">Embora a composição de consultas seja possível em [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)], ela é executada por meio da API de modelo de objeto.</span><span class="sxs-lookup"><span data-stu-id="ac36c-196">Although query composition is possible in [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)], it is performed through the object model API.</span></span> <span data-ttu-id="ac36c-197">Diferentemente [!INCLUDE[esql](../../../../../includes/esql-md.md)] consultas, [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] consultas não são compostas por meio da manipulação de cadeia de caracteres ou concatenação, e eles não são suscetíveis a tradicionais ataques de injeção de SQL.</span><span class="sxs-lookup"><span data-stu-id="ac36c-197">Unlike [!INCLUDE[esql](../../../../../includes/esql-md.md)] queries, [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] queries are not composed by using string manipulation or concatenation, and they are not susceptible to traditional SQL injection attacks.</span></span>  
  
#### <a name="prevent-very-large-result-sets"></a><span data-ttu-id="ac36c-198">Evite conjuntos de resultados muito grandes.</span><span class="sxs-lookup"><span data-stu-id="ac36c-198">Prevent very large result sets.</span></span>  
 <span data-ttu-id="ac36c-199">Um conjunto de resultados muito grande pode fazer com que o sistema cliente seja desligado se o cliente estiver executando operações que consomem recursos proporcionais ao tamanho do conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="ac36c-199">A very large result set could cause the client system to shut down if the client is performing operations that consume resources proportional to the size of the result set.</span></span> <span data-ttu-id="ac36c-200">Conjuntos de resultados inesperadamente grandes podem ocorrer nas seguintes condições:</span><span class="sxs-lookup"><span data-stu-id="ac36c-200">Unexpectedly large result sets can occur under the following conditions:</span></span>  
  
-   <span data-ttu-id="ac36c-201">Em consultas a um banco de dados grande que não incluem as condições apropriadas de filtragem.</span><span class="sxs-lookup"><span data-stu-id="ac36c-201">In queries against a large database that do not include appropriate filter conditions.</span></span>  
  
-   <span data-ttu-id="ac36c-202">Em consultas que criam junções cartesianas no servidor.</span><span class="sxs-lookup"><span data-stu-id="ac36c-202">In queries that create Cartesian joins on the server.</span></span>  
  
-   <span data-ttu-id="ac36c-203">Em consultas [!INCLUDE[esql](../../../../../includes/esql-md.md)] aninhadas.</span><span class="sxs-lookup"><span data-stu-id="ac36c-203">In nested [!INCLUDE[esql](../../../../../includes/esql-md.md)] queries.</span></span>  
  
 <span data-ttu-id="ac36c-204">Ao aceitar a entrada do usuário, verifique se a entrada não pode fazer com que os conjuntos de resultados se tornem maiores do que o sistema pode manipular.</span><span class="sxs-lookup"><span data-stu-id="ac36c-204">When accepting user input, you must make sure that the input cannot cause result sets to become larger than what the system can handle.</span></span> <span data-ttu-id="ac36c-205">Você também pode usar o <xref:System.Linq.Queryable.Take%2A> método no [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] ou o [limite](../../../../../docs/framework/data/adonet/ef/language-reference/limit-entity-sql.md) operador em [!INCLUDE[esql](../../../../../includes/esql-md.md)] para limitar o tamanho do conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="ac36c-205">You can also use the <xref:System.Linq.Queryable.Take%2A> method in [!INCLUDE[linq_entities](../../../../../includes/linq-entities-md.md)] or the [LIMIT](../../../../../docs/framework/data/adonet/ef/language-reference/limit-entity-sql.md) operator in [!INCLUDE[esql](../../../../../includes/esql-md.md)] to limit the size of the result set.</span></span>  
  
#### <a name="avoid-returning-iqueryable-results-when-exposing-methods-to-potentially-untrusted-callers"></a><span data-ttu-id="ac36c-206">Evite retornar resultados IQueryable ao expor métodos a chamadores potencialmente não confiáveis.</span><span class="sxs-lookup"><span data-stu-id="ac36c-206">Avoid Returning IQueryable Results When Exposing Methods to Potentially Untrusted Callers.</span></span>  
 <span data-ttu-id="ac36c-207">Evite retornar tipos <xref:System.Linq.IQueryable%601> de métodos expostos a chamadores potencialmente não confiáveis pelos seguintes motivos:</span><span class="sxs-lookup"><span data-stu-id="ac36c-207">Avoid returning <xref:System.Linq.IQueryable%601> types from methods that are exposed to potentially untrusted callers for the following reasons:</span></span>  
  
-   <span data-ttu-id="ac36c-208">Um consumidor de uma consulta que expõe um tipo <xref:System.Linq.IQueryable%601> pode chamar métodos no resultado que expõem dados seguros ou aumentam o tamanho do conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="ac36c-208">A consumer of a query that exposes an <xref:System.Linq.IQueryable%601> type could call methods on the result that expose secure data or increase the size of the result set.</span></span> <span data-ttu-id="ac36c-209">Por exemplo, considere a seguinte assinatura de método:</span><span class="sxs-lookup"><span data-stu-id="ac36c-209">For example, consider the following method signature:</span></span>  
  
    ```  
    public IQueryable<Customer> GetCustomer(int customerId)  
    ```  
  
     <span data-ttu-id="ac36c-210">Um consumidor dessa consulta pode chamar `.Include("Orders")` em `IQueryable<Customer>` retornado para recuperar os dados que a consulta não pretende expor.</span><span class="sxs-lookup"><span data-stu-id="ac36c-210">A consumer of this query could call `.Include("Orders")` on the returned `IQueryable<Customer>` to retrieve data that the query did not intend to expose.</span></span> <span data-ttu-id="ac36c-211">Para evitar isso, é possível alterar o tipo de retorno do método para <xref:System.Collections.Generic.IEnumerable%601> e chamar um método (como `.ToList()`) que materialize os resultados.</span><span class="sxs-lookup"><span data-stu-id="ac36c-211">This can be avoided by changing the return type of the method to <xref:System.Collections.Generic.IEnumerable%601> and calling a method (such as `.ToList()`) that materializes the results.</span></span>  
  
-   <span data-ttu-id="ac36c-212">Como as consultas <xref:System.Linq.IQueryable%601> são executadas quando os resultados são iterados, um consumidor de uma consulta que expõe um tipo <xref:System.Linq.IQueryable%601> pode capturar exceções geradas.</span><span class="sxs-lookup"><span data-stu-id="ac36c-212">Because <xref:System.Linq.IQueryable%601> queries are executed when the results are iterated over, a consumer of a query that exposes an <xref:System.Linq.IQueryable%601> type could catch exceptions that are thrown.</span></span> <span data-ttu-id="ac36c-213">As exceções podem conter informações não dirigidas ao consumidor.</span><span class="sxs-lookup"><span data-stu-id="ac36c-213">Exceptions could contain information not intended for the consumer.</span></span>  
  
## <a name="security-considerations-for-entities"></a><span data-ttu-id="ac36c-214">Considerações de segurança para entidades</span><span class="sxs-lookup"><span data-stu-id="ac36c-214">Security Considerations for Entities</span></span>  
 <span data-ttu-id="ac36c-215">As considerações de segurança a seguir se aplicam ao gerar e trabalhar com tipos de entidade.</span><span class="sxs-lookup"><span data-stu-id="ac36c-215">The following security considerations apply when generating and working with entity types.</span></span>  
  
#### <a name="do-not-share-an-objectcontext-across-application-domains"></a><span data-ttu-id="ac36c-216">Não compartilhe um ObjectContext entre domínios do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ac36c-216">Do not share an ObjectContext across application domains.</span></span>  
 <span data-ttu-id="ac36c-217">O compartilhamento de um <xref:System.Data.Objects.ObjectContext> com mais de um domínio do aplicativo pode expor informações na cadeia de conexão.</span><span class="sxs-lookup"><span data-stu-id="ac36c-217">Sharing an <xref:System.Data.Objects.ObjectContext> with more than one application domain may expose information in the connection string.</span></span> <span data-ttu-id="ac36c-218">Em vez disso, transfira objetos serializados ou grafos de objetos para o outro domínio do aplicativo e depois anexe esses objetos a um <xref:System.Data.Objects.ObjectContext> nesse domínio do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ac36c-218">Instead, you should transfer serialized objects or object graphs to the other application domain and then attach those objects to an <xref:System.Data.Objects.ObjectContext> in that application domain.</span></span> <span data-ttu-id="ac36c-219">Para obter mais informações, consulte [serializar objetos](https://msdn.microsoft.com/library/06c77f9b-5b2e-4c78-b3e3-8c148ba0ea99).</span><span class="sxs-lookup"><span data-stu-id="ac36c-219">For more information, see [Serializing Objects](https://msdn.microsoft.com/library/06c77f9b-5b2e-4c78-b3e3-8c148ba0ea99).</span></span>  
  
#### <a name="prevent-type-safety-violations"></a><span data-ttu-id="ac36c-220">Evite violações de segurança de tipos.</span><span class="sxs-lookup"><span data-stu-id="ac36c-220">Prevent type safety violations.</span></span>  
 <span data-ttu-id="ac36c-221">Se a segurança de tipo for violada, o [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] não poderá garantir a integridade dos dados em objetos.</span><span class="sxs-lookup"><span data-stu-id="ac36c-221">If type safety is violated, the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] cannot guarantee the integrity of data in objects.</span></span> <span data-ttu-id="ac36c-222">As violações de segurança de tipo podem ocorrer se você permitir que aplicativos não confiáveis sejam executados com segurança de acesso do código de confiança total.</span><span class="sxs-lookup"><span data-stu-id="ac36c-222">Type safety violations could occur if you allow untrusted applications to run with full-trust code access security.</span></span>  
  
#### <a name="handle-exceptions"></a><span data-ttu-id="ac36c-223">Trate exceções.</span><span class="sxs-lookup"><span data-stu-id="ac36c-223">Handle exceptions.</span></span>  
 <span data-ttu-id="ac36c-224">Acesse métodos e propriedades de um <xref:System.Data.Objects.ObjectContext> dentro de um bloco try-catch.</span><span class="sxs-lookup"><span data-stu-id="ac36c-224">Access methods and properties of an <xref:System.Data.Objects.ObjectContext> within a try-catch block.</span></span> <span data-ttu-id="ac36c-225">A captura de exceções impede que exceções não tratadas exponham entradas no <xref:System.Data.Objects.ObjectStateManager> ou informações de modelo (como nomes de tabela) aos usuários do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ac36c-225">Catching exceptions prevents unhandled exceptions from exposing entries in the <xref:System.Data.Objects.ObjectStateManager> or model information (such as table names) to users of your application.</span></span>  
  
## <a name="security-considerations-for-aspnet-applications"></a><span data-ttu-id="ac36c-226">Considerações de segurança para aplicativos ASP.NET</span><span class="sxs-lookup"><span data-stu-id="ac36c-226">Security Considerations for ASP.NET Applications</span></span>  
 <span data-ttu-id="ac36c-227">O tópico a seguir deve ser considerado quando você trabalha com caminhos em aplicativos [!INCLUDE[vstecasp](../../../../../includes/vstecasp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ac36c-227">The following should be considered when you work with paths in [!INCLUDE[vstecasp](../../../../../includes/vstecasp-md.md)] applications.</span></span>  
  
#### <a name="verify-whether-your-host-performs-path-checks"></a><span data-ttu-id="ac36c-228">Confira se o host executa verificações de caminho.</span><span class="sxs-lookup"><span data-stu-id="ac36c-228">Verify whether your host performs path checks.</span></span>  
 <span data-ttu-id="ac36c-229">Quando a cadeia de caracteres de substituição `|DataDirectory|` (delimitada por símbolos de pipe) é usada, o [!INCLUDE[vstecado](../../../../../includes/vstecado-md.md)] verifica se há suporte para o caminho resolvido.</span><span class="sxs-lookup"><span data-stu-id="ac36c-229">When the `|DataDirectory|` (enclosed in pipe symbols) substitution string is used, [!INCLUDE[vstecado](../../../../../includes/vstecado-md.md)] verifies that the resolved path is supported.</span></span> <span data-ttu-id="ac36c-230">Por exemplo, ".." não é permitido atrás de `DataDirectory`.</span><span class="sxs-lookup"><span data-stu-id="ac36c-230">For example, ".." is not allowed behind `DataDirectory`.</span></span> <span data-ttu-id="ac36c-231">A mesma verificação para resolver o operador raiz do aplicativo Web (`~`) é executada pelo processo que hospeda [!INCLUDE[vstecasp](../../../../../includes/vstecasp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ac36c-231">That same check for resolving the Web application root operator (`~`) is performed by the process hosting [!INCLUDE[vstecasp](../../../../../includes/vstecasp-md.md)].</span></span> <span data-ttu-id="ac36c-232">O IIS executa essa verificação; No entanto, os hosts que não seja o IIS não podem verificar que o caminho resolvido é suportado.</span><span class="sxs-lookup"><span data-stu-id="ac36c-232">IIS performs this check; however, hosts other than IIS may not verify that the resolved path is supported.</span></span> <span data-ttu-id="ac36c-233">Você deve conhecer o comportamento do host no qual implantar um aplicativo [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ac36c-233">You should know the behavior of the host on which you deploy an [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] application.</span></span>  
  
#### <a name="do-not-make-assumptions-about-resolved-path-names"></a><span data-ttu-id="ac36c-234">Não faça suposições sobre nomes de caminho resolvidos.</span><span class="sxs-lookup"><span data-stu-id="ac36c-234">Do not make assumptions about resolved path names.</span></span>  
 <span data-ttu-id="ac36c-235">Embora os valores para os quais o operador raiz (`~`) e a cadeia de caracteres de substituição `DataDirectory` são resolvidos devam permanecer constantes durante o tempo de execução do aplicativo, o [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] não impede que o host modifique esses valores.</span><span class="sxs-lookup"><span data-stu-id="ac36c-235">Although the values to which the root operator (`~`) and the `DataDirectory` substitution string resolve should remain constant during the application's runtime, the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] does not restrict the host from modifying these values.</span></span>  
  
#### <a name="verify-the-path-length-before-deployment"></a><span data-ttu-id="ac36c-236">Verifique o comprimento do caminho antes da implantação.</span><span class="sxs-lookup"><span data-stu-id="ac36c-236">Verify the path length before deployment.</span></span>  
 <span data-ttu-id="ac36c-237">Antes de implantar um aplicativo [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)], verifique se os valores do operador raiz (~) e da cadeia de caracteres de substituição `DataDirectory` não excedem os limites de comprimento de caminho no sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="ac36c-237">Before deploying an [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] application, you should ensure that the values of the root operator (~) and `DataDirectory` substitution string do not exceed the limits of the path length in the operating system.</span></span> <span data-ttu-id="ac36c-238">Os provedores de dados [!INCLUDE[vstecado](../../../../../includes/vstecado-md.md)] não garantem que o comprimento do caminho esteja dentro dos limites válidos.</span><span class="sxs-lookup"><span data-stu-id="ac36c-238">[!INCLUDE[vstecado](../../../../../includes/vstecado-md.md)] data providers do not ensure that the path length is within valid limits.</span></span>  
  
## <a name="security-considerations-for-adonet-metadata"></a><span data-ttu-id="ac36c-239">Considerações de segurança para metadados ADO.NET</span><span class="sxs-lookup"><span data-stu-id="ac36c-239">Security Considerations for ADO.NET Metadata</span></span>  
 <span data-ttu-id="ac36c-240">As considerações de segurança a seguir se aplicam ao gerar e trabalhar com arquivos de modelo e de mapeamento.</span><span class="sxs-lookup"><span data-stu-id="ac36c-240">The following security considerations apply when generating and working with model and mapping files.</span></span>  
  
#### <a name="do-not-expose-sensitive-information-through-logging"></a><span data-ttu-id="ac36c-241">Não exponha informações confidenciais em logs.</span><span class="sxs-lookup"><span data-stu-id="ac36c-241">Do not expose sensitive information through logging.</span></span>  
 <span data-ttu-id="ac36c-242">Os componentes do serviço de metadados [!INCLUDE[vstecado](../../../../../includes/vstecado-md.md)] não registram em log informações particulares.</span><span class="sxs-lookup"><span data-stu-id="ac36c-242">[!INCLUDE[vstecado](../../../../../includes/vstecado-md.md)] metadata service components do not log any private information.</span></span> <span data-ttu-id="ac36c-243">Se houver resultados que não possam ser retornados devido às restrições de acesso, os sistemas de gerenciamento de bancos de dados e os sistemas de arquivos retornarão um número zero de resultados, em vez de gerar uma exceção que possa conter informações confidenciais.</span><span class="sxs-lookup"><span data-stu-id="ac36c-243">If there are results that cannot be returned because of access restrictions, database management systems and file systems should return zero results instead of raising an exception that could contain sensitive information.</span></span>  
  
#### <a name="do-not-accept-metadataworkspace-objects-from-untrusted-sources"></a><span data-ttu-id="ac36c-244">Não aceite objetos MetadataWorkspace de fontes não confiáveis.</span><span class="sxs-lookup"><span data-stu-id="ac36c-244">Do not accept MetadataWorkspace objects from untrusted sources.</span></span>  
 <span data-ttu-id="ac36c-245">Os aplicativos não devem aceitar instâncias da classe <xref:System.Data.Metadata.Edm.MetadataWorkspace> de fontes não confiáveis.</span><span class="sxs-lookup"><span data-stu-id="ac36c-245">Applications should not accept instances of the <xref:System.Data.Metadata.Edm.MetadataWorkspace> class from untrusted sources.</span></span> <span data-ttu-id="ac36c-246">Em vez disso, você deve construir e popular explicitamente um espaço de trabalho como fonte.</span><span class="sxs-lookup"><span data-stu-id="ac36c-246">Instead, you should explicitly construct and populate a workspace from such a source.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ac36c-247">Consulte também</span><span class="sxs-lookup"><span data-stu-id="ac36c-247">See Also</span></span>  
 <span data-ttu-id="ac36c-248">[Securing ADO.NET Applications](../../../../../docs/framework/data/adonet/securing-ado-net-applications.md) (Protegendo aplicativos ADO.NET)</span><span class="sxs-lookup"><span data-stu-id="ac36c-248">[Securing ADO.NET Applications](../../../../../docs/framework/data/adonet/securing-ado-net-applications.md)</span></span>  
 [<span data-ttu-id="ac36c-249">Considerações de implantação</span><span class="sxs-lookup"><span data-stu-id="ac36c-249">Deployment Considerations</span></span>](../../../../../docs/framework/data/adonet/ef/deployment-considerations.md)  
 [<span data-ttu-id="ac36c-250">Considerações sobre migração</span><span class="sxs-lookup"><span data-stu-id="ac36c-250">Migration Considerations</span></span>](../../../../../docs/framework/data/adonet/ef/migration-considerations.md)
