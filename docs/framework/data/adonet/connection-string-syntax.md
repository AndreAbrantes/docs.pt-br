---
title: Sintaxe da cadeia de conexão
description: Saiba mais sobre a sintaxe de cadeias de conexão em ADO.NET. A sintaxe de cada provedor é documentada em sua propriedade ConnectionString.
ms.date: 05/22/2018
ms.assetid: 0977aeee-04d1-4cce-bbed-750c77fce06e
ms.openlocfilehash: bb29365a4729e731ddeffc7cfa61e379c3144a46
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/02/2020
ms.locfileid: "84287045"
---
# <a name="connection-string-syntax"></a><span data-ttu-id="2f3f2-104">Sintaxe da cadeia de conexão</span><span class="sxs-lookup"><span data-stu-id="2f3f2-104">Connection String Syntax</span></span>
<span data-ttu-id="2f3f2-105">Cada provedor de dados .NET Framework tem um objeto de `Connection` que herda de <xref:System.Data.Common.DbConnection> bem como de uma propriedade <xref:System.Data.Common.DbConnection.ConnectionString%2A> específica do provedor.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-105">Each .NET Framework data provider has a `Connection` object that inherits from <xref:System.Data.Common.DbConnection> as well as a provider-specific <xref:System.Data.Common.DbConnection.ConnectionString%2A> property.</span></span> <span data-ttu-id="2f3f2-106">A sintaxe específica da cadeia de conexão para cada provedor está documentada em sua propriedade `ConnectionString`.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-106">The specific connection string syntax for each provider is documented in its `ConnectionString` property.</span></span> <span data-ttu-id="2f3f2-107">A tabela a seguir lista os quatro provedores de dados que estão incluídos no .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-107">The following table lists the four data providers that are included in the .NET Framework.</span></span>  
  
|<span data-ttu-id="2f3f2-108">Provedor de dados .NET Framework</span><span class="sxs-lookup"><span data-stu-id="2f3f2-108">.NET Framework data provider</span></span>|<span data-ttu-id="2f3f2-109">Description</span><span class="sxs-lookup"><span data-stu-id="2f3f2-109">Description</span></span>|  
|----------------------------------|-----------------|  
|<xref:System.Data.SqlClient>|<span data-ttu-id="2f3f2-110">Fornece acesso a dados para o Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-110">Provides data access for Microsoft SQL Server.</span></span> <span data-ttu-id="2f3f2-111">Para obter mais informações sobre a sintaxe da cadeia de conexão, consulte <xref:System.Data.SqlClient.SqlConnection.ConnectionString%2A>.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-111">For more information on connection string syntax, see <xref:System.Data.SqlClient.SqlConnection.ConnectionString%2A>.</span></span>|  
|<xref:System.Data.OleDb>|<span data-ttu-id="2f3f2-112">Fornece acesso a dados para as fontes de dados expostas usando OLE DB.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-112">Provides data access for data sources exposed using OLE DB.</span></span> <span data-ttu-id="2f3f2-113">Para obter mais informações sobre a sintaxe da cadeia de conexão, consulte <xref:System.Data.OleDb.OleDbConnection.ConnectionString%2A>.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-113">For more information on connection string syntax, see <xref:System.Data.OleDb.OleDbConnection.ConnectionString%2A>.</span></span>|  
|<xref:System.Data.Odbc>|<span data-ttu-id="2f3f2-114">Fornece acesso a dados para as fontes de dados expostas usando ODBC.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-114">Provides data access for data sources exposed using ODBC.</span></span> <span data-ttu-id="2f3f2-115">Para obter mais informações sobre a sintaxe da cadeia de conexão, consulte <xref:System.Data.Odbc.OdbcConnection.ConnectionString%2A>.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-115">For more information on connection string syntax, see <xref:System.Data.Odbc.OdbcConnection.ConnectionString%2A>.</span></span>|  
|<xref:System.Data.OracleClient>|<span data-ttu-id="2f3f2-116">Fornece acesso a dados para Oracle versão 8.1.7 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-116">Provides data access for Oracle version 8.1.7 or later.</span></span> <span data-ttu-id="2f3f2-117">Para obter mais informações sobre a sintaxe da cadeia de conexão, consulte <xref:System.Data.OracleClient.OracleConnection.ConnectionString%2A>.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-117">For more information on connection string syntax, see <xref:System.Data.OracleClient.OracleConnection.ConnectionString%2A>.</span></span>|  
  
## <a name="connection-string-builders"></a><span data-ttu-id="2f3f2-118">Construtores de cadeia de conexão</span><span class="sxs-lookup"><span data-stu-id="2f3f2-118">Connection String Builders</span></span>  
 <span data-ttu-id="2f3f2-119">O ADO.NET 2.0 introduziu os seguintes construtores de cadeia de conexão para provedores de dados .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-119">ADO.NET 2.0 introduced the following connection string builders for the .NET Framework data providers.</span></span>  
  
- <xref:System.Data.SqlClient.SqlConnectionStringBuilder>  
  
- <xref:System.Data.OleDb.OleDbConnectionStringBuilder>  
  
- <xref:System.Data.Odbc.OdbcConnectionStringBuilder>  
  
- <xref:System.Data.OracleClient.OracleConnectionStringBuilder>  
  
 <span data-ttu-id="2f3f2-120">Os construtores de cadeia de conexão permitem que você construa cadeias de conexão sintaticamente válidas em tempo de execução, para que você não tenha que manualmente concatenar os valores de cadeia de conexão no seu código.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-120">The connection string builders allow you to construct syntactically valid connection strings at run time, so you do not have to manually concatenate connection string values in your code.</span></span> <span data-ttu-id="2f3f2-121">Para obter mais informações, confira [Construtores de cadeias de conexão](connection-string-builders.md).</span><span class="sxs-lookup"><span data-stu-id="2f3f2-121">For more information, see [Connection String Builders](connection-string-builders.md).</span></span>  

## <a name="windows-authentication"></a><span data-ttu-id="2f3f2-122">Autenticação do Windows</span><span class="sxs-lookup"><span data-stu-id="2f3f2-122">Windows Authentication</span></span>  
 <span data-ttu-id="2f3f2-123">É recomendável usar a autenticação do Windows (às vezes conhecida como *segurança integrada*) para se conectar a fontes de dados que dão suporte a ela.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-123">We recommend using Windows Authentication (sometimes referred to as *integrated security*) to connect to data sources that support it.</span></span> <span data-ttu-id="2f3f2-124">A sintaxe empregada na cadeia de conexão varia de acordo com o provedor.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-124">The syntax employed in the connection string varies by provider.</span></span> <span data-ttu-id="2f3f2-125">A tabela a seguir mostra a sintaxe de Autenticação do Windows usada com os provedores de dados .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-125">The following table shows the Windows Authentication syntax used with the .NET Framework data providers.</span></span>  
  
|<span data-ttu-id="2f3f2-126">Provedor</span><span class="sxs-lookup"><span data-stu-id="2f3f2-126">Provider</span></span>|<span data-ttu-id="2f3f2-127">Sintaxe</span><span class="sxs-lookup"><span data-stu-id="2f3f2-127">Syntax</span></span>|  
|--------------|------------|  
|`SqlClient`|`Integrated Security=true;`<br /><br /> `-- or --`<br /><br /> `Integrated Security=SSPI;`|  
|`OleDb`|`Integrated Security=SSPI;`|  
|`Odbc`|`Trusted_Connection=yes;`|  
|`OracleClient`|`Integrated Security=yes;`|  
  
> [!NOTE]
> <span data-ttu-id="2f3f2-128">O `Integrated Security=true` gera uma exceção quando usado com o provedor `OleDb`.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-128">`Integrated Security=true` throws an exception when used with the `OleDb` provider.</span></span>  
  
## <a name="sqlclient-connection-strings"></a><span data-ttu-id="2f3f2-129">Cadeias de conexão do SqlClient</span><span class="sxs-lookup"><span data-stu-id="2f3f2-129">SqlClient Connection Strings</span></span>  
<span data-ttu-id="2f3f2-130">A sintaxe para uma cadeia de conexão <xref:System.Data.SqlClient.SqlConnection> está documentada na propriedade <xref:System.Data.SqlClient.SqlConnection.ConnectionString%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-130">The syntax for a <xref:System.Data.SqlClient.SqlConnection> connection string is documented in the <xref:System.Data.SqlClient.SqlConnection.ConnectionString%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="2f3f2-131">Você pode usar a propriedade <xref:System.Data.SqlClient.SqlConnection.ConnectionString%2A> para obter ou definir uma cadeia de conexão para um banco de dados do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-131">You can use the <xref:System.Data.SqlClient.SqlConnection.ConnectionString%2A> property to get or set a connection string for a SQL Server database.</span></span> <span data-ttu-id="2f3f2-132">Se você precisar de conexão a uma versão anterior do SQL Server, você deve usar o provedor de dados .NET Framework para OleDb (<xref:System.Data.OleDb>).</span><span class="sxs-lookup"><span data-stu-id="2f3f2-132">If you need to connect to an earlier version of SQL Server, you must use the .NET Framework Data Provider for OleDb (<xref:System.Data.OleDb>).</span></span> <span data-ttu-id="2f3f2-133">A maioria das palavras-chave de cadeia de conexão também mapeiam para as propriedades no <xref:System.Data.SqlClient.SqlConnectionStringBuilder>.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-133">Most connection string keywords also map to properties in the <xref:System.Data.SqlClient.SqlConnectionStringBuilder>.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="2f3f2-134">A configuração padrão para a `Persist Security Info` palavra-chave é `false` .</span><span class="sxs-lookup"><span data-stu-id="2f3f2-134">The default setting for the `Persist Security Info` keyword is `false`.</span></span> <span data-ttu-id="2f3f2-135">Configurá-lo como `true` ou `yes` permite informações confidenciais de segurança, incluindo a identificação de usuário e a senha, para serem obtidas da conexão depois que ela tiver sido aberta.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-135">Setting it to `true` or `yes` allows security-sensitive information, including the user ID and password, to be obtained from the connection after the connection has been opened.</span></span> <span data-ttu-id="2f3f2-136">Mantenha `Persist Security Info` definido como `false` para garantir que uma fonte não confiável não tenha acesso às informações de cadeia de conexão confidenciais.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-136">Keep `Persist Security Info` set to `false` to ensure that an untrusted source does not have access to sensitive connection string information.</span></span>  

### <a name="windows-authentication-with-sqlclient"></a><span data-ttu-id="2f3f2-137">Autenticação do Windows com SqlClient</span><span class="sxs-lookup"><span data-stu-id="2f3f2-137">Windows authentication with SqlClient</span></span>
 <span data-ttu-id="2f3f2-138">Cada uma das formas de sintaxe a seguir usa a autenticação do Windows para se conectar ao banco de dados **AdventureWorks** em um servidor local.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-138">Each of the following forms of syntax uses Windows Authentication to connect to the **AdventureWorks** database on a local server.</span></span>  
  
```csharp  
"Persist Security Info=False;Integrated Security=true;  
    Initial Catalog=AdventureWorks;Server=MSSQL1"  
"Persist Security Info=False;Integrated Security=SSPI;  
    database=AdventureWorks;server=(local)"  
"Persist Security Info=False;Trusted_Connection=True;  
    database=AdventureWorks;server=(local)"  
```  
  
### <a name="sql-server-authentication-with-sqlclient"></a><span data-ttu-id="2f3f2-139">Autenticação de SQL Server com SqlClient</span><span class="sxs-lookup"><span data-stu-id="2f3f2-139">SQL Server authentication with SqlClient</span></span>
 <span data-ttu-id="2f3f2-140">A Autenticação do Windows é preferencial para se conectar ao SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-140">Windows Authentication is preferred for connecting to SQL Server.</span></span> <span data-ttu-id="2f3f2-141">No entanto, se a Autenticação do SQL Server for necessária, use a seguinte sintaxe para especificar um nome de usuário e uma senha.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-141">However, if SQL Server Authentication is required, use the following syntax to specify a user name and password.</span></span> <span data-ttu-id="2f3f2-142">Nesse exemplo, os asteriscos são usados para representar um nome de usuário e uma senha válidos.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-142">In this example, asterisks are used to represent a valid user name and password.</span></span>  
  
```csharp  
"Persist Security Info=False;User ID=*****;Password=*****;Initial Catalog=AdventureWorks;Server=MySqlServer"  
```  

<span data-ttu-id="2f3f2-143">Quando você se conectar ao banco de dados SQL do Azure ou ao SQL Data Warehouse do Azure e fornecer um logon no formato `user@servername` , verifique se o `servername` valor no logon corresponde ao valor fornecido para `Server=` .</span><span class="sxs-lookup"><span data-stu-id="2f3f2-143">When you connect to Azure SQL Database or to Azure SQL Data Warehouse and provide a login in the format `user@servername`, make sure that the `servername` value in the login matches the value provided for `Server=`.</span></span>

> [!NOTE]
> <span data-ttu-id="2f3f2-144">A autenticação do Windows tem precedência sobre logons do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-144">Windows authentication takes precedence over SQL Server logins.</span></span> <span data-ttu-id="2f3f2-145">Se você especificar Integrated Security=true assim como um nome de usuário e uma senha, o nome de usuário e a senha serão ignorados e a autenticação do Windows será usada.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-145">If you specify both Integrated Security=true as well as a user name and password, the user name and password will be ignored and Windows authentication will be used.</span></span>  

### <a name="connect-to-a-named-instance-of-sql-server"></a><span data-ttu-id="2f3f2-146">Conectar-se a uma instância nomeada do SQL Server</span><span class="sxs-lookup"><span data-stu-id="2f3f2-146">Connect to a named instance of SQL Server</span></span>
<span data-ttu-id="2f3f2-147">Para se conectar a uma instância nomeada do SQL Server, use a sintaxe de *nome \ instância do servidor* .</span><span class="sxs-lookup"><span data-stu-id="2f3f2-147">To connect to a named instance of SQL Server, use the *server name\instance name* syntax.</span></span>  
  
```csharp  
"Data Source=MySqlServer\MSSQL1;"  
```  

<span data-ttu-id="2f3f2-148">Você também pode definir a propriedade <xref:System.Data.SqlClient.SqlConnectionStringBuilder.DataSource%2A> de `SqlConnectionStringBuilder` para o nome da instância ao criar uma cadeia de conexão.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-148">You can also set the <xref:System.Data.SqlClient.SqlConnectionStringBuilder.DataSource%2A> property of the `SqlConnectionStringBuilder` to the instance name when building a connection string.</span></span> <span data-ttu-id="2f3f2-149">A propriedade <xref:System.Data.SqlClient.SqlConnection.DataSource%2A> de um objeto <xref:System.Data.SqlClient.SqlConnection> é somente leitura.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-149">The <xref:System.Data.SqlClient.SqlConnection.DataSource%2A> property of a <xref:System.Data.SqlClient.SqlConnection> object is read-only.</span></span>  
  
### <a name="type-system-version-changes"></a><span data-ttu-id="2f3f2-150">Alterações de versão do sistema de tipos</span><span class="sxs-lookup"><span data-stu-id="2f3f2-150">Type System Version Changes</span></span>  
 <span data-ttu-id="2f3f2-151">A `Type System Version` palavra-chave em um <xref:System.Data.SqlClient.SqlConnection.ConnectionString%2A?displayProperty=nameWithType> especifica a representação do lado do cliente de tipos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-151">The `Type System Version` keyword in a <xref:System.Data.SqlClient.SqlConnection.ConnectionString%2A?displayProperty=nameWithType> specifies the client-side representation of SQL Server types.</span></span> <span data-ttu-id="2f3f2-152">Consulte <xref:System.Data.SqlClient.SqlConnection.ConnectionString%2A?displayProperty=nameWithType> para obter mais informações sobre a palavra-chave `Type System Version`.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-152">See <xref:System.Data.SqlClient.SqlConnection.ConnectionString%2A?displayProperty=nameWithType> for more information about the `Type System Version` keyword.</span></span>  
  
## <a name="connecting-and-attaching-to-sql-server-express-user-instances"></a><span data-ttu-id="2f3f2-153">Conectando e anexando a instâncias de usuário do SQL Server Express</span><span class="sxs-lookup"><span data-stu-id="2f3f2-153">Connecting and Attaching to SQL Server Express User Instances</span></span>  
 <span data-ttu-id="2f3f2-154">As instâncias de usuário são um recurso no SQL Server Express.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-154">User instances are a feature in SQL Server Express.</span></span> <span data-ttu-id="2f3f2-155">Elas permitem que um usuário que esteja executando uma conta local do Windows com menos privilégios anexe e execute um banco de dados do SQL Server sem exigir privilégios administrativos.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-155">They allow a user running on a least-privileged local Windows account to attach and run a SQL Server database without requiring administrative privileges.</span></span> <span data-ttu-id="2f3f2-156">Uma instância de usuário é executada com as credenciais do Windows do usuário, não como um serviço.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-156">A user instance executes with the user's Windows credentials, not as a service.</span></span>  
  
 <span data-ttu-id="2f3f2-157">Para obter mais informações sobre como trabalhar com instâncias de usuário, consulte [SQL Server Express instâncias de usuário](./sql/sql-server-express-user-instances.md).</span><span class="sxs-lookup"><span data-stu-id="2f3f2-157">For more information on working with user instances, see [SQL Server Express User Instances](./sql/sql-server-express-user-instances.md).</span></span>  
  
## <a name="using-trustservercertificate"></a><span data-ttu-id="2f3f2-158">Usando TrustServerCertificate</span><span class="sxs-lookup"><span data-stu-id="2f3f2-158">Using TrustServerCertificate</span></span>  
 <span data-ttu-id="2f3f2-159">A `TrustServerCertificate` palavra-chave é válida somente ao se conectar a uma instância do SQL Server com um certificado válido.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-159">The `TrustServerCertificate` keyword is valid only when connecting to a SQL Server instance with a valid certificate.</span></span> <span data-ttu-id="2f3f2-160">Quando `TrustServerCertificate` estiver definido como `true`, a camada de transporte usará SSL para criptografar o canal e não precisar passar pela verificação da cadeia do certificado para validar a confiança.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-160">When `TrustServerCertificate` is set to `true`, the transport layer will use SSL to encrypt the channel and bypass walking the certificate chain to validate trust.</span></span>  
  
```csharp  
"TrustServerCertificate=true;"
```  
  
> [!NOTE]
> <span data-ttu-id="2f3f2-161">Se `TrustServerCertificate` estiver definido como `true` e a criptografia estiver ativada, o nível de criptografia especificado no servidor será usado mesmo que `Encrypt` esteja definido como `false` na cadeia de conexão.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-161">If `TrustServerCertificate` is set to `true` and encryption is turned on, the encryption level specified on the server will be used even if `Encrypt` is set to `false` in the connection string.</span></span> <span data-ttu-id="2f3f2-162">A conexão falhará se isso for feito de outra maneira.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-162">The connection will fail otherwise.</span></span>  
  
### <a name="enabling-encryption"></a><span data-ttu-id="2f3f2-163">Habilitando a criptografia</span><span class="sxs-lookup"><span data-stu-id="2f3f2-163">Enabling Encryption</span></span>  
 <span data-ttu-id="2f3f2-164">Para habilitar a criptografia quando um certificado não foi provisionado no servidor, as opções **forçar criptografia de protocolo** e certificado de **servidor confiável** devem ser definidas em SQL Server Configuration Manager.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-164">To enable encryption when a certificate has not been provisioned on the server, the **Force Protocol Encryption** and the **Trust Server Certificate** options must be set in SQL Server Configuration Manager.</span></span> <span data-ttu-id="2f3f2-165">Neste caso, a criptografia usará um certificado do servidor autoassinado sem validação, se nenhum certificado verificável tiver sido provisionado no servidor.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-165">In this case, encryption will use a self-signed server certificate without validation if no verifiable certificate has been provisioned on the server.</span></span>  
  
 <span data-ttu-id="2f3f2-166">As configurações do aplicativo não podem reduzir o nível de segurança configurado no SQL Server, mas podem opcionalmente reforçá-lo.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-166">Application settings cannot reduce the level of security configured in SQL Server, but can optionally strengthen it.</span></span> <span data-ttu-id="2f3f2-167">Um aplicativo pode solicitar criptografia definindo as `TrustServerCertificate` `Encrypt` palavras-chave e como `true` , garantindo que a criptografia ocorra mesmo quando um certificado de servidor não tiver sido provisionado e forçar a **criptografia de protocolo** não ter sido configurada para o cliente.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-167">An application can request encryption by setting the `TrustServerCertificate` and `Encrypt` keywords to `true`, guaranteeing that encryption takes place even when a server certificate has not been provisioned and **Force Protocol Encryption** has not been configured for the client.</span></span> <span data-ttu-id="2f3f2-168">No entanto, se `TrustServerCertificate` não estiver ativado na configuração do cliente, um certificado do servidor provisionado ainda será necessário.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-168">However, if `TrustServerCertificate` is not enabled in the client configuration, a provisioned server certificate is still required.</span></span>  
  
 <span data-ttu-id="2f3f2-169">A tabela a seguir descreve todos os casos.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-169">The following table describes all cases.</span></span>  
  
|<span data-ttu-id="2f3f2-170">Configuração do cliente Forçar Criptografia de Protocolo</span><span class="sxs-lookup"><span data-stu-id="2f3f2-170">Force Protocol Encryption client setting</span></span>|<span data-ttu-id="2f3f2-171">Configuração do cliente Confiar em Certificado do Servidor</span><span class="sxs-lookup"><span data-stu-id="2f3f2-171">Trust Server Certificate client setting</span></span>|<span data-ttu-id="2f3f2-172">Criptografar/Usar criptografia para a cadeia de conexão/atributo de dados</span><span class="sxs-lookup"><span data-stu-id="2f3f2-172">Encrypt/Use Encryption for Data connection string/attribute</span></span>|<span data-ttu-id="2f3f2-173">Cadeia de conexão/atributo do Certificado do Servidor de Confiança</span><span class="sxs-lookup"><span data-stu-id="2f3f2-173">Trust Server Certificate connection string/attribute</span></span>|<span data-ttu-id="2f3f2-174">Resultado</span><span class="sxs-lookup"><span data-stu-id="2f3f2-174">Result</span></span>|  
|----------------------------------------------|---------------------------------------------|-------------------------------------------------------------------|-----------------------------------------------------------|------------|  
|<span data-ttu-id="2f3f2-175">Não</span><span class="sxs-lookup"><span data-stu-id="2f3f2-175">No</span></span>|<span data-ttu-id="2f3f2-176">N/D</span><span class="sxs-lookup"><span data-stu-id="2f3f2-176">N/A</span></span>|<span data-ttu-id="2f3f2-177">Não (padrão)</span><span class="sxs-lookup"><span data-stu-id="2f3f2-177">No (default)</span></span>|<span data-ttu-id="2f3f2-178">Ignored</span><span class="sxs-lookup"><span data-stu-id="2f3f2-178">Ignored</span></span>|<span data-ttu-id="2f3f2-179">Não ocorre criptografia.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-179">No encryption occurs.</span></span>|  
|<span data-ttu-id="2f3f2-180">Não</span><span class="sxs-lookup"><span data-stu-id="2f3f2-180">No</span></span>|<span data-ttu-id="2f3f2-181">N/D</span><span class="sxs-lookup"><span data-stu-id="2f3f2-181">N/A</span></span>|<span data-ttu-id="2f3f2-182">Sim</span><span class="sxs-lookup"><span data-stu-id="2f3f2-182">Yes</span></span>|<span data-ttu-id="2f3f2-183">Não (padrão)</span><span class="sxs-lookup"><span data-stu-id="2f3f2-183">No (default)</span></span>|<span data-ttu-id="2f3f2-184">A criptografia só ocorrerá se houver um certificado de servidor verificável; caso contrário, a tentativa de conexão falhará.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-184">Encryption occurs only if there is a verifiable server certificate, otherwise the connection attempt fails.</span></span>|  
|<span data-ttu-id="2f3f2-185">Não</span><span class="sxs-lookup"><span data-stu-id="2f3f2-185">No</span></span>|<span data-ttu-id="2f3f2-186">N/D</span><span class="sxs-lookup"><span data-stu-id="2f3f2-186">N/A</span></span>|<span data-ttu-id="2f3f2-187">Sim</span><span class="sxs-lookup"><span data-stu-id="2f3f2-187">Yes</span></span>|<span data-ttu-id="2f3f2-188">Sim</span><span class="sxs-lookup"><span data-stu-id="2f3f2-188">Yes</span></span>|<span data-ttu-id="2f3f2-189">A criptografia sempre ocorre, mas pode usar um certificado do servidor autoassinado.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-189">Encryption always occurs, but may use a self-signed server certificate.</span></span>|  
|<span data-ttu-id="2f3f2-190">Sim</span><span class="sxs-lookup"><span data-stu-id="2f3f2-190">Yes</span></span>|<span data-ttu-id="2f3f2-191">Não</span><span class="sxs-lookup"><span data-stu-id="2f3f2-191">No</span></span>|<span data-ttu-id="2f3f2-192">Ignored</span><span class="sxs-lookup"><span data-stu-id="2f3f2-192">Ignored</span></span>|<span data-ttu-id="2f3f2-193">Ignored</span><span class="sxs-lookup"><span data-stu-id="2f3f2-193">Ignored</span></span>|<span data-ttu-id="2f3f2-194">A criptografia ocorre somente se houver um certificado de servidor verificável; caso contrário, a tentativa de conexão falhará.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-194">Encryption occurs only if there is a verifiable server certificate; otherwise, the connection attempt fails.</span></span>|  
|<span data-ttu-id="2f3f2-195">Sim</span><span class="sxs-lookup"><span data-stu-id="2f3f2-195">Yes</span></span>|<span data-ttu-id="2f3f2-196">Sim</span><span class="sxs-lookup"><span data-stu-id="2f3f2-196">Yes</span></span>|<span data-ttu-id="2f3f2-197">Não (padrão)</span><span class="sxs-lookup"><span data-stu-id="2f3f2-197">No (default)</span></span>|<span data-ttu-id="2f3f2-198">Ignored</span><span class="sxs-lookup"><span data-stu-id="2f3f2-198">Ignored</span></span>|<span data-ttu-id="2f3f2-199">A criptografia sempre ocorre, mas pode usar um certificado do servidor autoassinado.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-199">Encryption always occurs, but may use a self-signed server certificate.</span></span>|  
|<span data-ttu-id="2f3f2-200">Sim</span><span class="sxs-lookup"><span data-stu-id="2f3f2-200">Yes</span></span>|<span data-ttu-id="2f3f2-201">Sim</span><span class="sxs-lookup"><span data-stu-id="2f3f2-201">Yes</span></span>|<span data-ttu-id="2f3f2-202">Sim</span><span class="sxs-lookup"><span data-stu-id="2f3f2-202">Yes</span></span>|<span data-ttu-id="2f3f2-203">Não (padrão)</span><span class="sxs-lookup"><span data-stu-id="2f3f2-203">No (default)</span></span>|<span data-ttu-id="2f3f2-204">A criptografia ocorre somente se houver um certificado de servidor verificável; caso contrário, a tentativa de conexão falhará.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-204">Encryption occurs only if there is a verifiable server certificate; otherwise, the connection attempt fails.</span></span>|  
|<span data-ttu-id="2f3f2-205">Sim</span><span class="sxs-lookup"><span data-stu-id="2f3f2-205">Yes</span></span>|<span data-ttu-id="2f3f2-206">Sim</span><span class="sxs-lookup"><span data-stu-id="2f3f2-206">Yes</span></span>|<span data-ttu-id="2f3f2-207">Sim</span><span class="sxs-lookup"><span data-stu-id="2f3f2-207">Yes</span></span>|<span data-ttu-id="2f3f2-208">Sim</span><span class="sxs-lookup"><span data-stu-id="2f3f2-208">Yes</span></span>|<span data-ttu-id="2f3f2-209">A criptografia sempre ocorre, mas pode usar um certificado do servidor autoassinado.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-209">Encryption always occurs, but may use a self-signed server certificate.</span></span>|  
  
 <span data-ttu-id="2f3f2-210">Para obter mais informações, confira [Usando criptografia sem validação](/sql/relational-databases/native-client/features/using-encryption-without-validation).</span><span class="sxs-lookup"><span data-stu-id="2f3f2-210">For more information, see [Using Encryption Without Validation](/sql/relational-databases/native-client/features/using-encryption-without-validation).</span></span>
  
## <a name="oledb-connection-strings"></a><span data-ttu-id="2f3f2-211">Cadeias de conexão do OleDb</span><span class="sxs-lookup"><span data-stu-id="2f3f2-211">OleDb Connection Strings</span></span>  
 <span data-ttu-id="2f3f2-212">A propriedade <xref:System.Data.OleDb.OleDbConnection.ConnectionString%2A> de um <xref:System.Data.OleDb.OleDbConnection> permite que você obtenha ou defina uma cadeia de conexão para uma fonte de dados do OLE DB, como o Microsoft Access.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-212">The <xref:System.Data.OleDb.OleDbConnection.ConnectionString%2A> property of a <xref:System.Data.OleDb.OleDbConnection> allows you to get or set a connection string for an OLE DB data source, such as Microsoft Access.</span></span> <span data-ttu-id="2f3f2-213">Você também pode criar uma cadeia de conexão `OleDb` em tempo de execução usando a classe <xref:System.Data.OleDb.OleDbConnectionStringBuilder>.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-213">You can also create an `OleDb` connection string at run time by using the <xref:System.Data.OleDb.OleDbConnectionStringBuilder> class.</span></span>  
  
### <a name="oledb-connection-string-syntax"></a><span data-ttu-id="2f3f2-214">Sintaxe da cadeia de conexão OleDb</span><span class="sxs-lookup"><span data-stu-id="2f3f2-214">OleDb Connection String Syntax</span></span>  
 <span data-ttu-id="2f3f2-215">Você deve especificar um nome de provedor para uma cadeia de conexão <xref:System.Data.OleDb.OleDbConnection>.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-215">You must specify a provider name for an <xref:System.Data.OleDb.OleDbConnection> connection string.</span></span> <span data-ttu-id="2f3f2-216">A seguinte cadeia de conexão conecta-se a um banco de dados do Microsoft Access usando o provedor Jet.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-216">The following connection string connects to a Microsoft Access database using the Jet provider.</span></span> <span data-ttu-id="2f3f2-217">Observe que as palavras-chave `User ID` e `Password` serão opcionais se o banco de dados for inseguro (o padrão).</span><span class="sxs-lookup"><span data-stu-id="2f3f2-217">Note that the `User ID` and `Password` keywords are optional if the database is unsecured (the default).</span></span>  
  
```csharp
Provider=Microsoft.Jet.OLEDB.4.0; Data Source=d:\Northwind.mdb;User ID=Admin;Password=;
```  
  
 <span data-ttu-id="2f3f2-218">Se o banco de dados Jet estiver protegido usando a segurança de nível de usuário, você deverá fornecer o local do arquivo de informações do grupo de trabalho (.mdw).</span><span class="sxs-lookup"><span data-stu-id="2f3f2-218">If the Jet database is secured using user-level security, you must provide the location of the workgroup information file (.mdw).</span></span> <span data-ttu-id="2f3f2-219">O arquivo de informações do grupo de trabalho é usado para validar as credenciais apresentadas na cadeia de conexão.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-219">The workgroup information file is used to validate the credentials presented in the connection string.</span></span>  
  
```csharp
Provider=Microsoft.Jet.OLEDB.4.0;Data Source=d:\Northwind.mdb;Jet OLEDB:System Database=d:\NorthwindSystem.mdw;User ID=*****;Password=*****;  
```  
  
> [!IMPORTANT]
> <span data-ttu-id="2f3f2-220">É possível fornecer informações de conexão para uma **OleDbConnection** em um arquivo de universal data link (udl); no entanto, você deve evitar fazer isso.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-220">It is possible to supply connection information for an **OleDbConnection** in a Universal Data Link (UDL) file; however you should avoid doing so.</span></span> <span data-ttu-id="2f3f2-221">Os arquivos UDL não são criptografados e expõem as informações da cadeia de conexão em texto não criptografado.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-221">UDL files are not encrypted, and expose connection string information in clear text.</span></span> <span data-ttu-id="2f3f2-222">Como um arquivo UDL é um recurso externo com base em arquivo para o seu aplicativo, ele não poderá ser protegido usando o .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-222">Because a UDL file is an external file-based resource to your application, it cannot be secured using the .NET Framework.</span></span> <span data-ttu-id="2f3f2-223">Não há suporte para arquivos UDL para **SqlClient**.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-223">UDL files are not supported for **SqlClient**.</span></span>  
  
### <a name="using-datadirectory-to-connect-to-accessjet"></a><span data-ttu-id="2f3f2-224">Usando DataDirectory para conectar-se ao Access/Jet</span><span class="sxs-lookup"><span data-stu-id="2f3f2-224">Using DataDirectory to Connect to Access/Jet</span></span>  
 <span data-ttu-id="2f3f2-225">`DataDirectory` não é exclusivo para `SqlClient`.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-225">`DataDirectory` is not exclusive to `SqlClient`.</span></span> <span data-ttu-id="2f3f2-226">Ele também pode ser usado com os provedores de dados <xref:System.Data.OleDb> e <xref:System.Data.Odbc> do .NET.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-226">It can also be used with the <xref:System.Data.OleDb> and <xref:System.Data.Odbc> .NET data providers.</span></span> <span data-ttu-id="2f3f2-227">A cadeia de caracteres de exemplo <xref:System.Data.OleDb.OleDbConnection> a seguir demonstra a sintaxe necessária para se conectar ao Northwind.mdb localizado na pasta app_data do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-227">The following sample <xref:System.Data.OleDb.OleDbConnection> string demonstrates the syntax required to connect to the Northwind.mdb located in the application's app_data folder.</span></span> <span data-ttu-id="2f3f2-228">O banco de dados do sistema (System.mdw) também é armazenado nesse local.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-228">The system database (System.mdw) is also stored in that location.</span></span>  
  
```csharp  
"Provider=Microsoft.Jet.OLEDB.4.0;  
Data Source=|DataDirectory|\Northwind.mdb;  
Jet OLEDB:System Database=|DataDirectory|\System.mdw;"  
```  
  
> [!IMPORTANT]
> <span data-ttu-id="2f3f2-229">Especificar o local do banco de dados do sistema na cadeia de conexão não será necessário se o banco de dados Access/Jet for inseguro.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-229">Specifying the location of the system database in the connection string is not required if the Access/Jet database is unsecured.</span></span> <span data-ttu-id="2f3f2-230">A segurança é desativada por padrão, com todos os usuários que se conectam como o usuário Admin interno com uma senha em branco.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-230">Security is off by default, with all users connecting as the built-in Admin user with a blank password.</span></span> <span data-ttu-id="2f3f2-231">Mesmo quando a segurança em nível de usuário estiver implementada corretamente, um banco de dados Jet permanecerá vulnerável ao ataque.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-231">Even when user-level security is correctly implemented, a Jet database remains vulnerable to attack.</span></span> <span data-ttu-id="2f3f2-232">Portanto, armazenar informações confidenciais em um banco de dados Access/Jet não é recomendado devido à fraqueza inerente de seu esquema de segurança baseado em arquivo.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-232">Therefore, storing sensitive information in an Access/Jet database is not recommended because of the inherent weakness of its file-based security scheme.</span></span>  
  
### <a name="connecting-to-excel"></a><span data-ttu-id="2f3f2-233">Conectando ao Excel</span><span class="sxs-lookup"><span data-stu-id="2f3f2-233">Connecting to Excel</span></span>  
 <span data-ttu-id="2f3f2-234">O provedor Microsoft Jet é usado para conectar-se a uma pasta de trabalho do Excel.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-234">The Microsoft Jet provider is used to connect to an Excel workbook.</span></span> <span data-ttu-id="2f3f2-235">Na cadeia de conexão a seguir, a palavra-chave de `Extended Properties` define as propriedades que são específicas do Excel.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-235">In the following connection string, the `Extended Properties` keyword sets properties that are specific to Excel.</span></span> <span data-ttu-id="2f3f2-236">"HDR = Yes;" indica que a primeira linha contém nomes de coluna, não dados e "IMEX = 1;" instrui o driver a sempre ler colunas de dados "intermistas" como texto.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-236">"HDR=Yes;" indicates that the first row contains column names, not data, and "IMEX=1;" tells the driver to always read "intermixed" data columns as text.</span></span>  
  
```csharp
Provider=Microsoft.Jet.OLEDB.4.0;Data Source=D:\MyExcel.xls;Extended Properties=""Excel 8.0;HDR=Yes;IMEX=1""  
```  
  
 <span data-ttu-id="2f3f2-237">Observe que o caractere de aspas duplas necessário para as `Extended Properties` também deve estar entre aspas duplas.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-237">Note that the double quotation character required for the `Extended Properties` must also be enclosed in double quotation marks.</span></span>  
  
### <a name="data-shape-provider-connection-string-syntax"></a><span data-ttu-id="2f3f2-238">Sintaxe da cadeia de conexão do provedor de forma de dados</span><span class="sxs-lookup"><span data-stu-id="2f3f2-238">Data Shape Provider Connection String Syntax</span></span>  
 <span data-ttu-id="2f3f2-239">Use as palavras-chave `Provider` e `Data Provider` ao usar o provedor Microsoft Data Shape.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-239">Use both the `Provider` and the `Data Provider` keywords when using the Microsoft Data Shape provider.</span></span> <span data-ttu-id="2f3f2-240">O exemplo a seguir usa o provedor Shape para se conectar a uma instância local do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-240">The following example uses the Shape provider to connect to a local instance of SQL Server.</span></span>  
  
```csharp  
"Provider=MSDataShape;Data Provider=SQLOLEDB;Data Source=(local);Initial Catalog=pubs;Integrated Security=SSPI;"
```  
  
## <a name="odbc-connection-strings"></a><span data-ttu-id="2f3f2-241">Cadeias de conexão do Odbc</span><span class="sxs-lookup"><span data-stu-id="2f3f2-241">Odbc Connection Strings</span></span>  
 <span data-ttu-id="2f3f2-242">A propriedade <xref:System.Data.Odbc.OdbcConnection.ConnectionString%2A> de um <xref:System.Data.Odbc.OdbcConnection> permite obter ou definir uma cadeia de conexão para uma fonte de dados do OLE DB.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-242">The <xref:System.Data.Odbc.OdbcConnection.ConnectionString%2A> property of a <xref:System.Data.Odbc.OdbcConnection> allows you to get or set a connection string for an OLE DB data source.</span></span> <span data-ttu-id="2f3f2-243">As cadeias de conexão de Odbc também têm suporte pelo <xref:System.Data.Odbc.OdbcConnectionStringBuilder>.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-243">Odbc connection strings are also supported by the <xref:System.Data.Odbc.OdbcConnectionStringBuilder>.</span></span>  
  
 <span data-ttu-id="2f3f2-244">A cadeia de conexão a seguir usa o Microsoft Text Driver.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-244">The following connection string uses the Microsoft Text Driver.</span></span>  
  
```csharp  
Driver={Microsoft Text Driver (*.txt; *.csv)};DBQ=d:\bin  
```  
  
### <a name="using-datadirectory-to-connect-to-visual-foxpro"></a><span data-ttu-id="2f3f2-245">Usando DataDirectory para conectar-se ao Visual FoxPro</span><span class="sxs-lookup"><span data-stu-id="2f3f2-245">Using DataDirectory to Connect to Visual FoxPro</span></span>  
 <span data-ttu-id="2f3f2-246">O exemplo a seguir da cadeia de conexão <xref:System.Data.Odbc.OdbcConnection> demonstra o uso do `DataDirectory` para se conectar a um arquivo do Microsoft Visual FoxPro.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-246">The following <xref:System.Data.Odbc.OdbcConnection> connection string sample demonstrates using `DataDirectory` to connect to a Microsoft Visual FoxPro file.</span></span>  
  
```csharp  
"Driver={Microsoft Visual FoxPro Driver};  
SourceDB=|DataDirectory|\MyData.DBC;SourceType=DBC;"  
```  
  
## <a name="oracle-connection-strings"></a><span data-ttu-id="2f3f2-247">Cadeias de conexão do Oracle</span><span class="sxs-lookup"><span data-stu-id="2f3f2-247">Oracle Connection Strings</span></span>  
 <span data-ttu-id="2f3f2-248">A propriedade <xref:System.Data.OracleClient.OracleConnection.ConnectionString%2A> de um <xref:System.Data.OracleClient.OracleConnection> permite obter ou definir uma cadeia de conexão para uma fonte de dados do OLE DB.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-248">The <xref:System.Data.OracleClient.OracleConnection.ConnectionString%2A> property of a <xref:System.Data.OracleClient.OracleConnection> allows you to get or set a connection string for an OLE DB data source.</span></span> <span data-ttu-id="2f3f2-249">As cadeias de conexão de Oracle também têm suporte pelo <xref:System.Data.OracleClient.OracleConnectionStringBuilder>.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-249">Oracle connection strings are also supported by the <xref:System.Data.OracleClient.OracleConnectionStringBuilder> .</span></span>  
  
```csharp
Data Source=Oracle9i;User ID=*****;Password=*****;  
```  
  
 <span data-ttu-id="2f3f2-250">Para obter mais informações sobre a sintaxe da cadeia de conexão ODBC, consulte <xref:System.Data.OracleClient.OracleConnection.ConnectionString%2A>.</span><span class="sxs-lookup"><span data-stu-id="2f3f2-250">For more information on ODBC connection string syntax, see <xref:System.Data.OracleClient.OracleConnection.ConnectionString%2A>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2f3f2-251">Veja também</span><span class="sxs-lookup"><span data-stu-id="2f3f2-251">See also</span></span>

- [<span data-ttu-id="2f3f2-252">Cadeias de conexão</span><span class="sxs-lookup"><span data-stu-id="2f3f2-252">Connection Strings</span></span>](connection-strings.md)
- [<span data-ttu-id="2f3f2-253">Conectando a uma Fonte de Dados</span><span class="sxs-lookup"><span data-stu-id="2f3f2-253">Connecting to a Data Source</span></span>](connecting-to-a-data-source.md)
- [<span data-ttu-id="2f3f2-254">Visão geral do ADO.NET</span><span class="sxs-lookup"><span data-stu-id="2f3f2-254">ADO.NET Overview</span></span>](ado-net-overview.md)
