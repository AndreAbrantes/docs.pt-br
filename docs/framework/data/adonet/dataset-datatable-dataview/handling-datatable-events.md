---
title: Manipulação de eventos de DataTable
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: 62f404a5-13ea-4b93-a29f-55b74a16c9d3
ms.openlocfilehash: 4007a04bf3bd2b130e978415722b0e5b7769cc25
ms.sourcegitcommit: 68653db98c5ea7744fd438710248935f70020dfb
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/22/2019
ms.locfileid: "69953264"
---
# <a name="handling-datatable-events"></a><span data-ttu-id="010d6-102">Manipulação de eventos de DataTable</span><span class="sxs-lookup"><span data-stu-id="010d6-102">Handling DataTable Events</span></span>
<span data-ttu-id="010d6-103">O <xref:System.Data.DataTable> objeto fornece uma série de eventos que podem ser processados por um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="010d6-103">The <xref:System.Data.DataTable> object provides a series of events that can be processed by an application.</span></span> <span data-ttu-id="010d6-104">A tabela a seguir `DataTable` descreve os eventos.</span><span class="sxs-lookup"><span data-stu-id="010d6-104">The following table describes `DataTable` events.</span></span>  
  
|<span data-ttu-id="010d6-105">evento</span><span class="sxs-lookup"><span data-stu-id="010d6-105">Event</span></span>|<span data-ttu-id="010d6-106">Descrição</span><span class="sxs-lookup"><span data-stu-id="010d6-106">Description</span></span>|  
|-----------|-----------------|  
|<xref:System.Data.DataTable.Initialized>|<span data-ttu-id="010d6-107">Ocorre depois que <xref:System.Data.DataTable.EndInit%2A> o método de `DataTable` um é chamado.</span><span class="sxs-lookup"><span data-stu-id="010d6-107">Occurs after the <xref:System.Data.DataTable.EndInit%2A> method of a `DataTable` is called.</span></span> <span data-ttu-id="010d6-108">Esse evento destina-se principalmente ao suporte a cenários de tempo de design.</span><span class="sxs-lookup"><span data-stu-id="010d6-108">This event is intended primarily to support design-time scenarios.</span></span>|  
|<xref:System.Data.DataTable.ColumnChanged>|<span data-ttu-id="010d6-109">Ocorre depois que um valor é alterado com êxito em um <xref:System.Data.DataColumn>.</span><span class="sxs-lookup"><span data-stu-id="010d6-109">Occurs after a value has been successfully changed in a <xref:System.Data.DataColumn>.</span></span>|  
|<xref:System.Data.DataTable.ColumnChanging>|<span data-ttu-id="010d6-110">Ocorre quando um valor é enviado para um `DataColumn`.</span><span class="sxs-lookup"><span data-stu-id="010d6-110">Occurs when a value has been submitted for a `DataColumn`.</span></span>|  
|<xref:System.Data.DataTable.RowChanged>|<span data-ttu-id="010d6-111">Ocorre depois que `DataColumn` um valor ou <xref:System.Data.DataRow.RowState%2A> o de <xref:System.Data.DataRow> um no `DataTable` foi alterado com êxito.</span><span class="sxs-lookup"><span data-stu-id="010d6-111">Occurs after a `DataColumn` value or the <xref:System.Data.DataRow.RowState%2A> of a <xref:System.Data.DataRow> in the `DataTable` has been changed successfully.</span></span>|  
|<xref:System.Data.DataTable.RowChanging>|<span data-ttu-id="010d6-112">Ocorre quando uma alteração `DataColumn` é enviada para um valor ou o `RowState` de um `DataRow` no `DataTable`.</span><span class="sxs-lookup"><span data-stu-id="010d6-112">Occurs when a change has been submitted for a `DataColumn` value or the `RowState` of a `DataRow` in the `DataTable`.</span></span>|  
|<xref:System.Data.DataTable.RowDeleted>|<span data-ttu-id="010d6-113">Ocorre depois que `DataRow` um `DataTable` no é marcado como `Deleted`.</span><span class="sxs-lookup"><span data-stu-id="010d6-113">Occurs after a `DataRow` in the `DataTable` has been marked as `Deleted`.</span></span>|  
|<xref:System.Data.DataTable.RowDeleting>|<span data-ttu-id="010d6-114">Ocorre antes que `DataRow` um `DataTable` no seja marcado como `Deleted`.</span><span class="sxs-lookup"><span data-stu-id="010d6-114">Occurs before a `DataRow` in the `DataTable` is marked as `Deleted`.</span></span>|  
|<xref:System.Data.DataTable.TableCleared>|<span data-ttu-id="010d6-115">Ocorre depois que uma chamada para <xref:System.Data.DataTable.Clear%2A> o método `DataTable` de foi limpa com êxito a `DataRow`cada.</span><span class="sxs-lookup"><span data-stu-id="010d6-115">Occurs after a call to the <xref:System.Data.DataTable.Clear%2A> method of the `DataTable` has successfully cleared every `DataRow`.</span></span>|  
|<xref:System.Data.DataTable.TableClearing>|<span data-ttu-id="010d6-116">Ocorre depois que `Clear` o método é chamado, mas `Clear` antes do início da operação.</span><span class="sxs-lookup"><span data-stu-id="010d6-116">Occurs after the `Clear` method is called but before the `Clear` operation begins.</span></span>|  
|<xref:System.Data.DataTable.TableNewRow>|<span data-ttu-id="010d6-117">Ocorre depois que um `DataRow` novo é criado por uma chamada para `NewRow` o método do `DataTable`.</span><span class="sxs-lookup"><span data-stu-id="010d6-117">Occurs after a new `DataRow` is created by a call to the `NewRow` method of the `DataTable`.</span></span>|  
|<xref:System.ComponentModel.MarshalByValueComponent.Disposed>|<span data-ttu-id="010d6-118">Ocorre quando o `DataTable` é `Disposed`.</span><span class="sxs-lookup"><span data-stu-id="010d6-118">Occurs when the `DataTable` is `Disposed`.</span></span> <span data-ttu-id="010d6-119">Herdada de <xref:System.ComponentModel.MarshalByValueComponent>.</span><span class="sxs-lookup"><span data-stu-id="010d6-119">Inherited from <xref:System.ComponentModel.MarshalByValueComponent>.</span></span>|  
  
> [!NOTE]
> <span data-ttu-id="010d6-120">A maioria das operações que adicionam ou excluem linhas `ColumnChanged` não `ColumnChanging` geram os eventos e.</span><span class="sxs-lookup"><span data-stu-id="010d6-120">Most operations that add or delete rows do not raise the `ColumnChanged` and `ColumnChanging` events.</span></span> <span data-ttu-id="010d6-121">No entanto `ReadXml` , o método `ColumnChanged` gera `ColumnChanging` `XmlReadMode` e eventos, a menos que seja `DiffGram` definido como ou seja `Auto` definido como quando o documento XML que está `DiffGram`sendo lido for um.</span><span class="sxs-lookup"><span data-stu-id="010d6-121">However, the `ReadXml` method does raise `ColumnChanged` and `ColumnChanging` events, unless the `XmlReadMode` is set to `DiffGram` or is set to `Auto` when the XML document being read is a `DiffGram`.</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="010d6-122">Os dados corrompidos podem ocorrer se os dados são `DataSet` modificados em `RowChanged` um do qual o evento é gerado.</span><span class="sxs-lookup"><span data-stu-id="010d6-122">Data corruption can occur if data is modified in a `DataSet` from which the `RowChanged` event is raised.</span></span> <span data-ttu-id="010d6-123">Nenhuma exceção será gerada se ocorrer corrupção de dados.</span><span class="sxs-lookup"><span data-stu-id="010d6-123">No exception will be raised if such data corruption occurs.</span></span>  
  
## <a name="additional-related-events"></a><span data-ttu-id="010d6-124">Eventos relacionados adicionais</span><span class="sxs-lookup"><span data-stu-id="010d6-124">Additional Related Events</span></span>  
 <span data-ttu-id="010d6-125">A <xref:System.Data.DataTable.Constraints%2A> propriedade contém uma <xref:System.Data.ConstraintCollection> instância.</span><span class="sxs-lookup"><span data-stu-id="010d6-125">The <xref:System.Data.DataTable.Constraints%2A> property holds a <xref:System.Data.ConstraintCollection> instance.</span></span> <span data-ttu-id="010d6-126">A <xref:System.Data.ConstraintCollection> classe expõe um <xref:System.Data.ConstraintCollection.CollectionChanged> evento.</span><span class="sxs-lookup"><span data-stu-id="010d6-126">The <xref:System.Data.ConstraintCollection> class exposes a <xref:System.Data.ConstraintCollection.CollectionChanged> event.</span></span> <span data-ttu-id="010d6-127">Esse evento é acionado quando uma restrição é adicionada, modificada ou removida do `ConstraintCollection`.</span><span class="sxs-lookup"><span data-stu-id="010d6-127">This event fires when a constraint is added, modified, or removed from the `ConstraintCollection`.</span></span>  
  
 <span data-ttu-id="010d6-128">A <xref:System.Data.DataTable.Columns%2A> propriedade contém uma <xref:System.Data.DataColumnCollection> instância.</span><span class="sxs-lookup"><span data-stu-id="010d6-128">The <xref:System.Data.DataTable.Columns%2A> property holds a <xref:System.Data.DataColumnCollection> instance.</span></span> <span data-ttu-id="010d6-129">A `DataColumnCollection` classe expõe um <xref:System.Data.DataColumnCollection.CollectionChanged> evento.</span><span class="sxs-lookup"><span data-stu-id="010d6-129">The `DataColumnCollection` class exposes a <xref:System.Data.DataColumnCollection.CollectionChanged> event.</span></span> <span data-ttu-id="010d6-130">Esse evento é acionado `DataColumn` quando um é adicionado, modificado ou removido `DataColumnCollection`do.</span><span class="sxs-lookup"><span data-stu-id="010d6-130">This event fires when a `DataColumn` is added, modified, or removed from the `DataColumnCollection`.</span></span> <span data-ttu-id="010d6-131">As modificações que fazem com que o evento seja acionado incluem alterações no nome, tipo, expressão ou posição ordinal de uma coluna.</span><span class="sxs-lookup"><span data-stu-id="010d6-131">Modifications that cause the event to fire include changes to the name, type, expression or ordinal position of a column.</span></span>  
  
 <span data-ttu-id="010d6-132">A <xref:System.Data.DataSet.Tables%2A> propriedade de um <xref:System.Data.DataSet> mantém uma <xref:System.Data.DataTableCollection> instância.</span><span class="sxs-lookup"><span data-stu-id="010d6-132">The <xref:System.Data.DataSet.Tables%2A> property of a <xref:System.Data.DataSet> holds a <xref:System.Data.DataTableCollection> instance.</span></span> <span data-ttu-id="010d6-133">A `DataTableCollection` classe expõe tanto um `CollectionChanged` quanto um `CollectionChanging` evento.</span><span class="sxs-lookup"><span data-stu-id="010d6-133">The `DataTableCollection` class exposes both a `CollectionChanged` and a `CollectionChanging` event.</span></span> <span data-ttu-id="010d6-134">Esses eventos são acionados `DataTable` quando um é adicionado ou removido `DataSet`do.</span><span class="sxs-lookup"><span data-stu-id="010d6-134">These events fire when a `DataTable` is added to or removed from the `DataSet`.</span></span>  
  
 <span data-ttu-id="010d6-135">As alterações `DataRows` em também podem disparar eventos para um <xref:System.Data.DataView>associado.</span><span class="sxs-lookup"><span data-stu-id="010d6-135">Changes to `DataRows` can also trigger events for an associated <xref:System.Data.DataView>.</span></span> <span data-ttu-id="010d6-136">A `DataView` classe expõe um <xref:System.Data.DataView.ListChanged> evento que é acionado `DataColumn` quando um valor é alterado ou quando a ordem de composição ou de classificação da exibição é alterada.</span><span class="sxs-lookup"><span data-stu-id="010d6-136">The `DataView` class exposes a <xref:System.Data.DataView.ListChanged> event that fires when a `DataColumn` value changes or when the composition or sort order of the view changes.</span></span> <span data-ttu-id="010d6-137">A <xref:System.Data.DataRowView> classe expõe um <xref:System.Data.DataRowView.PropertyChanged> evento que é acionado quando `DataColumn` um valor associado é alterado.</span><span class="sxs-lookup"><span data-stu-id="010d6-137">The <xref:System.Data.DataRowView> class exposes a <xref:System.Data.DataRowView.PropertyChanged> event that fires when an associated `DataColumn` value changes.</span></span>  
  
## <a name="sequence-of-operations"></a><span data-ttu-id="010d6-138">Sequência de operações</span><span class="sxs-lookup"><span data-stu-id="010d6-138">Sequence of Operations</span></span>  
 <span data-ttu-id="010d6-139">Aqui está a sequência de operações que ocorrem quando uma `DataRow` é adicionada, modificada ou excluída:</span><span class="sxs-lookup"><span data-stu-id="010d6-139">Here is the sequence of operations that occur when a `DataRow` is added, modified, or deleted:</span></span>  
  
1. <span data-ttu-id="010d6-140">Crie o registro proposto e aplique as alterações.</span><span class="sxs-lookup"><span data-stu-id="010d6-140">Create the proposed record and apply any changes.</span></span>  
  
2. <span data-ttu-id="010d6-141">Verifique as restrições de colunas que não são de expressão.</span><span class="sxs-lookup"><span data-stu-id="010d6-141">Check constraints for non-expression columns.</span></span>  
  
3. <span data-ttu-id="010d6-142">Gere os `RowChanging` eventos `RowDeleting` ou conforme aplicável.</span><span class="sxs-lookup"><span data-stu-id="010d6-142">Raise the `RowChanging` or `RowDeleting` events as applicable.</span></span>  
  
4. <span data-ttu-id="010d6-143">Defina o registro proposto como o registro atual.</span><span class="sxs-lookup"><span data-stu-id="010d6-143">Set the proposed record to be the current record.</span></span>  
  
5. <span data-ttu-id="010d6-144">Atualize todos os índices associados.</span><span class="sxs-lookup"><span data-stu-id="010d6-144">Update any associated indexes.</span></span>  
  
6. <span data-ttu-id="010d6-145">Gerar `ListChanged` eventos para objetos `DataView` associados e `PropertyChanged` eventos para objetos `DataRowView` associados.</span><span class="sxs-lookup"><span data-stu-id="010d6-145">Raise `ListChanged` events for associated `DataView` objects and `PropertyChanged` events for associated `DataRowView` objects.</span></span>  
  
7. <span data-ttu-id="010d6-146">Avalie todas as colunas de expressão, mas adie a verificação de qualquer restrição nessas colunas.</span><span class="sxs-lookup"><span data-stu-id="010d6-146">Evaluate all expression columns, but delay checking any constraints on these columns.</span></span>  
  
8. <span data-ttu-id="010d6-147">Gerar `ListChanged` eventos para objetos `DataView` associados e `PropertyChanged` eventos para objetos `DataRowView` associados afetados pelas avaliações de coluna de expressão.</span><span class="sxs-lookup"><span data-stu-id="010d6-147">Raise `ListChanged` events for associated `DataView` objects and `PropertyChanged` events for associated `DataRowView` objects affected by the expression column evaluations.</span></span>  
  
9. <span data-ttu-id="010d6-148">Gerar `RowChanged` ou`RowDeleted` eventos conforme aplicável.</span><span class="sxs-lookup"><span data-stu-id="010d6-148">Raise `RowChanged` or `RowDeleted` events as applicable.</span></span>  
  
10. <span data-ttu-id="010d6-149">Verifique as restrições nas colunas de expressão.</span><span class="sxs-lookup"><span data-stu-id="010d6-149">Check constraints on expression columns.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="010d6-150">As alterações nas colunas de expressão `DataTable` nunca geram eventos.</span><span class="sxs-lookup"><span data-stu-id="010d6-150">Changes to expression columns never raise `DataTable` events.</span></span> <span data-ttu-id="010d6-151">As alterações nas colunas de expressão `DataView` geram e `DataRowView` apenas eventos.</span><span class="sxs-lookup"><span data-stu-id="010d6-151">Changes to expression columns only raise `DataView` and `DataRowView` events.</span></span> <span data-ttu-id="010d6-152">As colunas de expressão podem ter dependências em várias outras colunas e podem ser avaliadas várias vezes `DataRow` durante uma única operação.</span><span class="sxs-lookup"><span data-stu-id="010d6-152">Expression columns can have dependencies on multiple other columns, and can be evaluated multiple times during a single `DataRow` operation.</span></span> <span data-ttu-id="010d6-153">Cada avaliação de expressão gera eventos e uma única `DataRow` operação pode gerar vários `ListChanged` eventos `PropertyChanged` e quando as colunas de expressão são afetadas, possivelmente incluindo vários eventos para a mesma coluna de expressão.</span><span class="sxs-lookup"><span data-stu-id="010d6-153">Each expression evaluation raises events, and a single `DataRow` operation can raise multiple `ListChanged` and `PropertyChanged` events when expression columns are affected, possibly including multiple events for the same expression column.</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="010d6-154">Não lance um <xref:System.NullReferenceException> dentro do manipulador `RowChanged` de eventos.</span><span class="sxs-lookup"><span data-stu-id="010d6-154">Do not throw a <xref:System.NullReferenceException> within the `RowChanged` event handler.</span></span> <span data-ttu-id="010d6-155">Se um <xref:System.NullReferenceException> for lançado `RowChanged` no evento de a `DataTable`, o `DataTable` será corrompido.</span><span class="sxs-lookup"><span data-stu-id="010d6-155">If a <xref:System.NullReferenceException> is thrown within the `RowChanged` event of a `DataTable`, then the `DataTable` will be corrupted.</span></span>  
  
### <a name="example"></a><span data-ttu-id="010d6-156">Exemplo</span><span class="sxs-lookup"><span data-stu-id="010d6-156">Example</span></span>  
 <span data-ttu-id="010d6-157">O exemplo a seguir demonstra como criar manipuladores de eventos para `RowChanged`os `RowChanging`eventos `RowDeleted`, `RowDeleting`, `ColumnChanged`, `ColumnChanging` `TableNewRow`,, `TableCleared`,, `TableClearing` e.</span><span class="sxs-lookup"><span data-stu-id="010d6-157">The following example demonstrates how to create event handlers for the `RowChanged`, `RowChanging`, `RowDeleted`, `RowDeleting`, `ColumnChanged`, `ColumnChanging`, `TableNewRow`, `TableCleared`, and `TableClearing` events.</span></span> <span data-ttu-id="010d6-158">Cada manipulador de eventos exibe a saída na janela do console quando ela é acionada.</span><span class="sxs-lookup"><span data-stu-id="010d6-158">Each event handler displays output in the console window when it is fired.</span></span>  
  
 [!code-csharp[DataWorks DataTable.Events#1](../../../../../samples/snippets/csharp/VS_Snippets_ADO.NET/DataWorks DataTable.Events/CS/source.cs#1)]
 [!code-vb[DataWorks DataTable.Events#1](../../../../../samples/snippets/visualbasic/VS_Snippets_ADO.NET/DataWorks DataTable.Events/VB/source.vb#1)]  
  
## <a name="see-also"></a><span data-ttu-id="010d6-159">Consulte também</span><span class="sxs-lookup"><span data-stu-id="010d6-159">See also</span></span>

- [<span data-ttu-id="010d6-160">Manipulação de dados em uma DataTable</span><span class="sxs-lookup"><span data-stu-id="010d6-160">Manipulating Data in a DataTable</span></span>](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/manipulating-data-in-a-datatable.md)
- [<span data-ttu-id="010d6-161">Manipulação de eventos DataAdapter</span><span class="sxs-lookup"><span data-stu-id="010d6-161">Handling DataAdapter Events</span></span>](../../../../../docs/framework/data/adonet/handling-dataadapter-events.md)
- <span data-ttu-id="010d6-162">[Handling DataSet Events](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/handling-dataset-events.md) (Manipulando eventos do DataSet)</span><span class="sxs-lookup"><span data-stu-id="010d6-162">[Handling DataSet Events](../../../../../docs/framework/data/adonet/dataset-datatable-dataview/handling-dataset-events.md)</span></span>
- <span data-ttu-id="010d6-163">[ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917) (Central de desenvolvedores do DataSet e de provedores gerenciados do ADO.NET)</span><span class="sxs-lookup"><span data-stu-id="010d6-163">[ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)</span></span>
