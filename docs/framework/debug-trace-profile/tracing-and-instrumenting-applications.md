---
title: Rastreamento e instrumentação de aplicativos
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- tracing [.NET Framework]
- debugging [.NET Framework], instrumentation
- performance monitoring, instrumentation
- instrumentation, about instrumentation
- tracing [.NET Framework], about tracing
- performance monitoring, tracing code
- Trace class, instrumentation for .NET applications
ms.assetid: 773b6fc4-9013-4322-b728-5dec7a72e743
ms.openlocfilehash: 1dd7317e38b6bee44dda75319c9f7c2a6567e3b4
ms.sourcegitcommit: 9c54866bcbdc49dbb981dd55be9bbd0443837aa2
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/14/2020
ms.locfileid: "77216035"
---
# <a name="tracing-and-instrumenting-applications"></a><span data-ttu-id="339ec-102">Rastreamento e instrumentação de aplicativos</span><span class="sxs-lookup"><span data-stu-id="339ec-102">Tracing and Instrumenting Applications</span></span>
<span data-ttu-id="339ec-103">O rastreamento é uma maneira de você monitorar a execução de seu aplicativo enquanto ele é executado.</span><span class="sxs-lookup"><span data-stu-id="339ec-103">Tracing is a way for you to monitor the execution of your application while it is running.</span></span> <span data-ttu-id="339ec-104">É possível adicionar a instrumentação de rastreamento e depuração ao aplicativo do .NET Framework durante seu desenvolvimento e usar essa instrumentação enquanto você estiver desenvolvendo o aplicativo e depois de implantá-lo.</span><span class="sxs-lookup"><span data-stu-id="339ec-104">You can add tracing and debugging instrumentation to your .NET Framework application when you develop it, and you can use that instrumentation both while you are developing the application and after you have deployed it.</span></span> <span data-ttu-id="339ec-105">É possível usar as classes <xref:System.Diagnostics.Trace?displayProperty=nameWithType>, <xref:System.Diagnostics.Debug?displayProperty=nameWithType> e <xref:System.Diagnostics.TraceSource?displayProperty=nameWithType> para registrar informações sobre erros e a execução do aplicativo em logs, arquivos de texto ou outros dispositivos para análise posterior.</span><span class="sxs-lookup"><span data-stu-id="339ec-105">You can use the <xref:System.Diagnostics.Trace?displayProperty=nameWithType>, <xref:System.Diagnostics.Debug?displayProperty=nameWithType>, and <xref:System.Diagnostics.TraceSource?displayProperty=nameWithType> classes to record information about errors and application execution in logs, text files, or other devices for later analysis.</span></span>  
  
 <span data-ttu-id="339ec-106">O termo *instrumentação* refere-se à capacidade de monitorar ou medir o nível de desempenho de um produto e de diagnosticar erros.</span><span class="sxs-lookup"><span data-stu-id="339ec-106">The term *instrumentation* refers to an ability to monitor or measure the level of a product's performance and to diagnose errors.</span></span> <span data-ttu-id="339ec-107">Em programação, isso significa a capacidade de um aplicativo de incorporar:</span><span class="sxs-lookup"><span data-stu-id="339ec-107">In programming, this means the ability of an application to incorporate:</span></span>  
  
- <span data-ttu-id="339ec-108">**Rastreamento de código** –Recebimento de mensagens informativas sobre a execução de um aplicativo em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="339ec-108">**Code tracing** - Receiving informative messages about the execution of an application at run time.</span></span>  
  
- <span data-ttu-id="339ec-109">**Depuração** – Rastreamento e correção de erros de programação em um aplicativo em desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="339ec-109">**Debugging** - Tracking down and fixing programming errors in an application under development.</span></span> <span data-ttu-id="339ec-110">Para obter mais informações, consulte [Depurando](/visualstudio/debugger/debugger-feature-tour).</span><span class="sxs-lookup"><span data-stu-id="339ec-110">For more information, see [Debugging](/visualstudio/debugger/debugger-feature-tour).</span></span>  
  
- <span data-ttu-id="339ec-111">**Contadores de desempenho** – Componentes que permitem acompanhar o desempenho do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="339ec-111">**Performance counters** - Components that allow you to track the performance of your application.</span></span> <span data-ttu-id="339ec-112">Para obter mais informações, consulte [Performance Counters](performance-counters.md).</span><span class="sxs-lookup"><span data-stu-id="339ec-112">For more information, see [Performance Counters](performance-counters.md).</span></span>  
  
- <span data-ttu-id="339ec-113">**Logs de eventos** – Componentes que permitem receber e acompanhar os principais eventos na execução do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="339ec-113">**Event logs** - Components that allow you receive and track major events in the execution of your application.</span></span> <span data-ttu-id="339ec-114">Para obter mais informações, consulte a classe <xref:System.Diagnostics.EventLog>.</span><span class="sxs-lookup"><span data-stu-id="339ec-114">For more information, see the <xref:System.Diagnostics.EventLog> class.</span></span>  
  
 <span data-ttu-id="339ec-115">A instrumentação do aplicativo com a colocação de instruções de rastreamento em locais estratégicos no código é especialmente útil para aplicativos distribuídos.</span><span class="sxs-lookup"><span data-stu-id="339ec-115">Instrumenting your application by placing trace statements at strategic locations in your code is especially useful for distributed applications.</span></span> <span data-ttu-id="339ec-116">Usando as instruções de rastreamento, você pode instrumentar um aplicativo não apenas para exibir informações quando as coisas dão errado, mas também para monitorar o desempenho do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="339ec-116">By using trace statements you can instrument an application not only to display information when things go wrong, but also to monitor how well the application is performing.</span></span>  
  
 <span data-ttu-id="339ec-117">A classe <xref:System.Diagnostics.TraceSource> fornece recursos de rastreamento avançados e pode ser usada no lugar dos métodos estáticos das classes de rastreamento antigas <xref:System.Diagnostics.Trace> e <xref:System.Diagnostics.Debug>.</span><span class="sxs-lookup"><span data-stu-id="339ec-117">The <xref:System.Diagnostics.TraceSource> class provides enhanced tracing features and can be used in place of the static methods of the older <xref:System.Diagnostics.Trace> and <xref:System.Diagnostics.Debug> tracing classes.</span></span> <span data-ttu-id="339ec-118">As classes <xref:System.Diagnostics.Trace> e <xref:System.Diagnostics.Debug> conhecidas ainda são amplamente usadas, mas a classe <xref:System.Diagnostics.TraceSource> é recomendada para novos comandos de rastreamento, como <xref:System.Diagnostics.TraceSource.TraceEvent%2A> e <xref:System.Diagnostics.TraceSource.TraceData%2A>.</span><span class="sxs-lookup"><span data-stu-id="339ec-118">The familiar <xref:System.Diagnostics.Trace> and <xref:System.Diagnostics.Debug> classes are still widely used, but the <xref:System.Diagnostics.TraceSource> class is recommended for new tracing commands, such as <xref:System.Diagnostics.TraceSource.TraceEvent%2A> and <xref:System.Diagnostics.TraceSource.TraceData%2A>.</span></span>  
  
 <span data-ttu-id="339ec-119">As classes <xref:System.Diagnostics.Trace> e <xref:System.Diagnostics.Debug> são idênticas, exceto pelo fato de que os procedimentos e as funções da classe <xref:System.Diagnostics.Trace> são compiladas por padrão em builds de versão, ao contrário daqueles da classe <xref:System.Diagnostics.Debug>.</span><span class="sxs-lookup"><span data-stu-id="339ec-119">The <xref:System.Diagnostics.Trace> and <xref:System.Diagnostics.Debug> classes are identical, except that procedures and functions of the <xref:System.Diagnostics.Trace> class are compiled by default into release builds, but those of the <xref:System.Diagnostics.Debug> class are not.</span></span>  
  
 <span data-ttu-id="339ec-120">As classes <xref:System.Diagnostics.Trace> e <xref:System.Diagnostics.Debug> fornecem os meios para monitorar e examinar o desempenho do aplicativo durante o desenvolvimento ou após a implantação.</span><span class="sxs-lookup"><span data-stu-id="339ec-120">The <xref:System.Diagnostics.Trace> and <xref:System.Diagnostics.Debug> classes provide the means to monitor and examine application performance either during development or after deployment.</span></span> <span data-ttu-id="339ec-121">Por exemplo, é possível usar a classe <xref:System.Diagnostics.Trace> para acompanhar determinados tipos de ações em um aplicativo implantado, conforme eles ocorrem (por exemplo, criação de novas conexões de banco de dados) e, portanto, é possível monitorar a eficiência do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="339ec-121">For example, you can use the <xref:System.Diagnostics.Trace> class to track particular types of actions in a deployed application as they occur (for example, creation of new database connections), and can therefore monitor the application's efficiency.</span></span>  
  
## <a name="code-tracing-and-debugging"></a><span data-ttu-id="339ec-122">Rastreamento e depuração de código</span><span class="sxs-lookup"><span data-stu-id="339ec-122">Code Tracing and Debugging</span></span>  
 <span data-ttu-id="339ec-123">Durante o desenvolvimento, use os métodos de saída da classe <xref:System.Diagnostics.Debug> para exibir mensagens na janela de Saída do IDE (ambiente de desenvolvimento integrado) do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="339ec-123">During development, you can use the output methods of the <xref:System.Diagnostics.Debug> class to display messages in the Output window of the Visual Studio integrated development environment (IDE).</span></span> <span data-ttu-id="339ec-124">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="339ec-124">For example:</span></span>  
  
```vb  
Trace.WriteLine("Hello World!")  
Debug.WriteLine("Hello World!")  
```  
  
```csharp  
System.Diagnostics.Trace.WriteLine("Hello World!");  
System.Diagnostics.Debug.WriteLine("Hello World!");  
```  
  
 <span data-ttu-id="339ec-125">Cada um desses exemplos exibirá “Olá, Mundo!”</span><span class="sxs-lookup"><span data-stu-id="339ec-125">Each of these examples will display "Hello World!"</span></span> <span data-ttu-id="339ec-126">na janela de Saída quando o aplicativo for executado no depurador.</span><span class="sxs-lookup"><span data-stu-id="339ec-126">in the Output window when the application is run in the debugger.</span></span>  
  
 <span data-ttu-id="339ec-127">Isso permite depurar os aplicativos e otimizar seu desempenho com base em seu comportamento no ambiente de teste.</span><span class="sxs-lookup"><span data-stu-id="339ec-127">This enables you to debug your applications and optimize their performance based on their behavior in your test environment.</span></span> <span data-ttu-id="339ec-128">É possível depurar o aplicativo no build de depuração com o atributo condicional <xref:System.Diagnostics.Debug> ativado, de modo que toda a saída de depuração seja recebida.</span><span class="sxs-lookup"><span data-stu-id="339ec-128">You can debug your application in your debug build with the <xref:System.Diagnostics.Debug> conditional attribute turned on so that you receive all debugging output.</span></span> <span data-ttu-id="339ec-129">Quando o aplicativo está pronto para liberação, é possível compilar o build de versão sem ativar o atributo condicional <xref:System.Diagnostics.Debug>, de modo que o compilador não inclua o código de depuração no executável final.</span><span class="sxs-lookup"><span data-stu-id="339ec-129">When your application is ready for release, you can compile your release build without turning on the <xref:System.Diagnostics.Debug> conditional attribute, so that the compiler will not include your debugging code in the final executable.</span></span> <span data-ttu-id="339ec-130">Para obter mais informações, consulte [Como compilar condicionalmente com Trace e Debug](how-to-compile-conditionally-with-trace-and-debug.md).</span><span class="sxs-lookup"><span data-stu-id="339ec-130">For more information, see [How to: Compile Conditionally with Trace and Debug](how-to-compile-conditionally-with-trace-and-debug.md).</span></span> <span data-ttu-id="339ec-131">Para obter mais informações sobre diferentes configurações de build para o aplicativo, consulte [Compilando e criando](/visualstudio/ide/compiling-and-building-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="339ec-131">For more information on different build configurations for your application, see [Compiling and Building](/visualstudio/ide/compiling-and-building-in-visual-studio).</span></span>  
  
 <span data-ttu-id="339ec-132">Você também pode rastrear a execução de código em um aplicativo instalado, usando métodos da classe <xref:System.Diagnostics.Trace>.</span><span class="sxs-lookup"><span data-stu-id="339ec-132">You can also trace code execution in an installed application, using methods of the <xref:System.Diagnostics.Trace> class.</span></span> <span data-ttu-id="339ec-133">Incluindo [Opções de Rastreamento](trace-switches.md) em seu código, você pode controlar se o rastreamento ocorre e qual a sua extensão.</span><span class="sxs-lookup"><span data-stu-id="339ec-133">By placing [Trace Switches](trace-switches.md) in your code, you can control whether tracing occurs and how extensive it is.</span></span> <span data-ttu-id="339ec-134">Isso permite monitorar o status do aplicativo em um ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="339ec-134">This lets you monitor the status of your application in a production environment.</span></span> <span data-ttu-id="339ec-135">Isso é particularmente importante em um aplicativo de negócios que usa vários componentes executados em vários computadores.</span><span class="sxs-lookup"><span data-stu-id="339ec-135">This is especially important in a business application that uses multiple components running on multiple computers.</span></span> <span data-ttu-id="339ec-136">É possível controlar como as opções são usadas após a implantação por meio do arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="339ec-136">You can control how the switches are used after deployment through the configuration file.</span></span> <span data-ttu-id="339ec-137">Para obter mais informações, consulte [Como criar, inicializar e configurar opções de rastreamento](how-to-create-initialize-and-configure-trace-switches.md).</span><span class="sxs-lookup"><span data-stu-id="339ec-137">For more information, see [How to: Create, Initialize and Configure Trace Switches](how-to-create-initialize-and-configure-trace-switches.md).</span></span>  
  
 <span data-ttu-id="339ec-138">Quando você estiver desenvolvendo um aplicativo para o qual pretende usar o rastreamento, você geralmente incluirá mensagens de rastreamento e depuração no código do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="339ec-138">When you are developing an application for which you intend to use tracing, you usually include both tracing and debugging messages in the application code.</span></span> <span data-ttu-id="339ec-139">Quando estiver pronto para implantar o aplicativo, compile o build de versão sem ativar o atributo condicional **Debug**.</span><span class="sxs-lookup"><span data-stu-id="339ec-139">When you are ready to deploy the application, you can compile your release build without turning on the **Debug** conditional attribute.</span></span> <span data-ttu-id="339ec-140">No entanto, você pode ativar o atributo condicional **Trace**, de modo que o compilador inclua o código de rastreamento no executável.</span><span class="sxs-lookup"><span data-stu-id="339ec-140">However, you can turn on the **Trace** conditional attribute so that the compiler includes your trace code in the executable.</span></span> <span data-ttu-id="339ec-141">Para obter mais informações, consulte [Como compilar condicionalmente com Trace e Debug](how-to-compile-conditionally-with-trace-and-debug.md).</span><span class="sxs-lookup"><span data-stu-id="339ec-141">For more information, see [How to: Compile Conditionally with Trace and Debug](how-to-compile-conditionally-with-trace-and-debug.md).</span></span>  
  
### <a name="phases-of-code-tracing"></a><span data-ttu-id="339ec-142">Fases de rastreamento de código</span><span class="sxs-lookup"><span data-stu-id="339ec-142">Phases of Code Tracing</span></span>  
 <span data-ttu-id="339ec-143">Há três fases de rastreamento de código:</span><span class="sxs-lookup"><span data-stu-id="339ec-143">There are three phases of code tracing:</span></span>  
  
1. <span data-ttu-id="339ec-144">**Instrumentação** – você adiciona o código de rastreamento ao aplicativo.</span><span class="sxs-lookup"><span data-stu-id="339ec-144">**Instrumentation** — you add trace code to your application.</span></span>  
  
2. <span data-ttu-id="339ec-145">**Rastreamento** – o código de rastreamento grava as informações no destino especificado.</span><span class="sxs-lookup"><span data-stu-id="339ec-145">**Tracing** — the tracing code writes information to the specified target.</span></span>  
  
3. <span data-ttu-id="339ec-146">**Análise** – você avalia as informações de rastreamento para identificar e entender problemas no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="339ec-146">**Analysis** — you evaluate the tracing information to identify and understand problems in the application.</span></span>  
  
 <span data-ttu-id="339ec-147">Durante o desenvolvimento, todos os métodos de saída de depuração e rastreamento gravam informações na janela de Saída do Visual Studio por padrão.</span><span class="sxs-lookup"><span data-stu-id="339ec-147">During development, all debug and trace output methods write information to the Output window in Visual Studio by default.</span></span> <span data-ttu-id="339ec-148">Em um aplicativo implantado, os métodos gravam informações de rastreamento nos destinos especificados.</span><span class="sxs-lookup"><span data-stu-id="339ec-148">In a deployed application, the methods write tracing information to the targets you specify.</span></span> <span data-ttu-id="339ec-149">Para obter mais informações sobre como especificar um destino de saída de rastreamento ou de depuração, consulte [Ouvintes de rastreamento](trace-listeners.md).</span><span class="sxs-lookup"><span data-stu-id="339ec-149">For more information on specifying an output target for tracing or debugging, see [Trace Listeners](trace-listeners.md).</span></span>  
  
 <span data-ttu-id="339ec-150">Veja a seguir uma visão geral das principais etapas geralmente envolvidas no uso do rastreamento para analisar e corrigir problemas potenciais em aplicativos implantados.</span><span class="sxs-lookup"><span data-stu-id="339ec-150">The following is an overall view of the major steps typically involved in using tracing to analyze and correct potential problems in deployed applications.</span></span> <span data-ttu-id="339ec-151">Para obter mais informações sobre como executar essas etapas, consulte o link apropriado.</span><span class="sxs-lookup"><span data-stu-id="339ec-151">For more information on how to perform these steps, see the appropriate link.</span></span>  
  
##### <a name="to-use-tracing-in-an-application"></a><span data-ttu-id="339ec-152">Para usar o rastreamento em um aplicativo</span><span class="sxs-lookup"><span data-stu-id="339ec-152">To use tracing in an application</span></span>  
  
1. <span data-ttu-id="339ec-153">Considere qual saída de rastreamento você desejará receber no local depois de implantar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="339ec-153">Consider which tracing output you will want to receive onsite after you have deployed the application.</span></span>  
  
2. <span data-ttu-id="339ec-154">Crie um conjunto de opções.</span><span class="sxs-lookup"><span data-stu-id="339ec-154">Create a set of switches.</span></span> <span data-ttu-id="339ec-155">Para obter mais informações, consulte [Como: configurar opções de rastreamento](how-to-create-initialize-and-configure-trace-switches.md).</span><span class="sxs-lookup"><span data-stu-id="339ec-155">For more information, see [How to: Configure Trace Switches](how-to-create-initialize-and-configure-trace-switches.md).</span></span>  
  
3. <span data-ttu-id="339ec-156">Adicione as instruções de rastreamento ao código do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="339ec-156">Add the trace statements to the application code.</span></span>  
  
4. <span data-ttu-id="339ec-157">Determine o local em que você deseja que a saída de rastreamento seja exibida e adicione os ouvintes apropriados.</span><span class="sxs-lookup"><span data-stu-id="339ec-157">Determine where you want the tracing output to appear and add the appropriate listeners.</span></span> <span data-ttu-id="339ec-158">Para obter mais informações, consulte [Criando e inicializando ouvintes de rastreamento](how-to-create-and-initialize-trace-listeners.md).</span><span class="sxs-lookup"><span data-stu-id="339ec-158">For more information, see [Creating and Initializing Trace Listeners](how-to-create-and-initialize-trace-listeners.md).</span></span>  
  
5. <span data-ttu-id="339ec-159">Teste e depure o aplicativo e o código de rastreamento que ele contém.</span><span class="sxs-lookup"><span data-stu-id="339ec-159">Test and debug your application and the tracing code it contains.</span></span>  
  
6. <span data-ttu-id="339ec-160">Compile o aplicativo no código executável usando um dos seguintes procedimentos:</span><span class="sxs-lookup"><span data-stu-id="339ec-160">Compile the application into executable code using one of the following procedures:</span></span>  
  
    - <span data-ttu-id="339ec-161">Use o menu **Compilar** juntamente com a página **Depurar** da caixa de diálogo **Páginas de Propriedades** no **Gerenciador de Soluções**.</span><span class="sxs-lookup"><span data-stu-id="339ec-161">Use the **Build** menu along with the **Debug** page of the **Property Pages** dialog box in **Solution Explorer**.</span></span> <span data-ttu-id="339ec-162">Use essa opção quando estiver compilando no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="339ec-162">Use this when compiling in Visual Studio.</span></span>  
  
         <span data-ttu-id="339ec-163">\- ou –</span><span class="sxs-lookup"><span data-stu-id="339ec-163">\- or -</span></span>  
  
    - <span data-ttu-id="339ec-164">Use as diretivas do compilador **Trace** e **Debug** para o método de compilação de linha de comando.</span><span class="sxs-lookup"><span data-stu-id="339ec-164">Use the **Trace** and **Debug** compiler directives for the command-line method of compiling.</span></span> <span data-ttu-id="339ec-165">Para obter mais informações, consulte [Compilando condicionalmente com Trace e Debug](how-to-compile-conditionally-with-trace-and-debug.md).</span><span class="sxs-lookup"><span data-stu-id="339ec-165">For more information, see [Compiling Conditionally with Trace and Debug](how-to-compile-conditionally-with-trace-and-debug.md).</span></span> <span data-ttu-id="339ec-166">Use essa opção quando estiver compilando na linha de comando.</span><span class="sxs-lookup"><span data-stu-id="339ec-166">Use this when compiling from the command line.</span></span>  
  
7. <span data-ttu-id="339ec-167">Se ocorrer um problema durante o tempo de execução, ative a opção de rastreamento apropriada.</span><span class="sxs-lookup"><span data-stu-id="339ec-167">If a problem occurs during run time, turn on the appropriate trace switch.</span></span> <span data-ttu-id="339ec-168">Para obter mais informações, consulte [Configurando Opções de Rastreamento](how-to-create-initialize-and-configure-trace-switches.md).</span><span class="sxs-lookup"><span data-stu-id="339ec-168">For more information, see [Configuring Trace Switches](how-to-create-initialize-and-configure-trace-switches.md).</span></span>  
  
     <span data-ttu-id="339ec-169">O código de rastreamento grava mensagens de rastreamento em um destino especificado, por exemplo, uma tela, um arquivo de texto ou um log de eventos.</span><span class="sxs-lookup"><span data-stu-id="339ec-169">The tracing code writes tracing messages to a specified target, for example, a screen, a text file, or an event log.</span></span> <span data-ttu-id="339ec-170">O tipo de ouvinte incluído na coleção **Trace.Listeners** determina o destino.</span><span class="sxs-lookup"><span data-stu-id="339ec-170">The type of listener you included in the **Trace.Listeners** collection determines the target.</span></span>  
  
8. <span data-ttu-id="339ec-171">Analise as mensagens de rastreamento para identificar e entender o problema no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="339ec-171">Analyze the tracing messages to identify and understand the problem in the application.</span></span>  
  
## <a name="trace-instrumentation-and-distributed-applications"></a><span data-ttu-id="339ec-172">Instrumentação de rastreamento e aplicativos distribuídos</span><span class="sxs-lookup"><span data-stu-id="339ec-172">Trace Instrumentation and Distributed Applications</span></span>  
 <span data-ttu-id="339ec-173">Ao criar um aplicativo distribuído, talvez seja difícil testá-lo da maneira em que ele será usado.</span><span class="sxs-lookup"><span data-stu-id="339ec-173">When you create a distributed application, you might find it difficult to test the application in the manner in which it will be used.</span></span> <span data-ttu-id="339ec-174">Poucas equipes de desenvolvimento têm a capacidade de testar todas as combinações possíveis de sistemas operacionais ou navegadores da Web (incluindo todas as opções de idiomas localizados) ou de simular o grande número de usuários que acessarão o aplicativo ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="339ec-174">Few development teams have the capability to test all possible combinations of operating systems or Web browsers (including all the localized language options), or to simulate the high number of users that will access the application at the same time.</span></span> <span data-ttu-id="339ec-175">Nessas circunstâncias, não é possível testar como um aplicativo distribuído responderá a grandes volumes, diferentes configurações e comportamentos exclusivos do usuário final.</span><span class="sxs-lookup"><span data-stu-id="339ec-175">Under these circumstances, you cannot test how a distributed application will respond to high volumes, different setups, and unique end-user behaviors.</span></span> <span data-ttu-id="339ec-176">Além disso, muitas partes de um aplicativo distribuído não tem nenhuma interface do usuário com a qual é possível interagir diretamente ou exibir a atividade dessas partes.</span><span class="sxs-lookup"><span data-stu-id="339ec-176">Also, many parts of a distributed application have no user interface with which you can interact directly or view the activity of those parts.</span></span>  
  
 <span data-ttu-id="339ec-177">No entanto, é possível compensar isso permitindo que os aplicativos distribuídos descrevam determinados eventos de interesse para os administradores do sistema, especialmente, as coisas que dão errado, com a *instrumentação* do aplicativo – ou seja, colocando instruções de rastreamento em locais estratégicos no código.</span><span class="sxs-lookup"><span data-stu-id="339ec-177">However, you can compensate for this by enabling distributed applications to describe certain events of interest to system administrators, especially things that go wrong, by *instrumenting* the application — that is, by placing trace statements at strategic locations in your code.</span></span> <span data-ttu-id="339ec-178">Portanto, se algo inesperado ocorrer em tempo de execução (por exemplo, um tempo de resposta excessivamente lento), será possível determinar a provável causa.</span><span class="sxs-lookup"><span data-stu-id="339ec-178">Then if something unexpected occurs at run time (for example, excessively slow response time), you can determine the likely cause.</span></span>  
  
 <span data-ttu-id="339ec-179">Com instruções de rastreamento, você pode evitar a difícil tarefa de examinar o código-fonte original, modificá-lo, recompilá-lo e tentar produzir o erro em tempo de execução no ambiente de depuração.</span><span class="sxs-lookup"><span data-stu-id="339ec-179">With trace statements you can avoid the difficult task of examining the original source code, modifying it, recompiling, and attempting to produce the run-time error within the debugging environment.</span></span> <span data-ttu-id="339ec-180">Lembre-se de que é possível instrumentar um aplicativo não apenas para exibir erros, mas também para monitorar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="339ec-180">Remember that you can instrument an application not only to display errors, but also to monitor performance.</span></span>  
  
## <a name="strategic-placement-of-trace-statements"></a><span data-ttu-id="339ec-181">Posicionamento estratégico de instruções de rastreamento</span><span class="sxs-lookup"><span data-stu-id="339ec-181">Strategic Placement of Trace Statements</span></span>  
 <span data-ttu-id="339ec-182">Tenha cuidado especial ao colocar as instruções de rastreamento para uso durante o tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="339ec-182">You must exercise special care when placing your trace statements for use during run time.</span></span> <span data-ttu-id="339ec-183">Considere quais informações de rastreamento são provavelmente necessárias em um aplicativo implantado, para que todos os prováveis cenários de rastreamento sejam abordados de forma adequada.</span><span class="sxs-lookup"><span data-stu-id="339ec-183">You must consider what tracing information is likely to be needed in a deployed application, so that all likely tracing scenarios are adequately covered.</span></span> <span data-ttu-id="339ec-184">No entanto, como os aplicativos que usam o rastreamento variam muito, não há diretrizes gerais para o posicionamento estratégico de rastreamento.</span><span class="sxs-lookup"><span data-stu-id="339ec-184">Because applications that use tracing vary widely, however, there are no general guidelines for strategic placement of tracing.</span></span> <span data-ttu-id="339ec-185">Para obter mais informações sobre como inserir instruções de rastreamento, consulte [Como adicionar instruções de rastreamento ao código do aplicativo](how-to-add-trace-statements-to-application-code.md).</span><span class="sxs-lookup"><span data-stu-id="339ec-185">For more information on placing trace statements, see [How to: Add Trace Statements to Application Code](how-to-add-trace-statements-to-application-code.md).</span></span>  
  
## <a name="output-from-tracing"></a><span data-ttu-id="339ec-186">Saída de rastreamento</span><span class="sxs-lookup"><span data-stu-id="339ec-186">Output from Tracing</span></span>  
 <span data-ttu-id="339ec-187">A saída de rastreamento é coletada por objetos chamados *ouvintes*.</span><span class="sxs-lookup"><span data-stu-id="339ec-187">Trace output is collected by objects called *listeners*.</span></span> <span data-ttu-id="339ec-188">Um ouvinte é um objeto que recebe a saída de rastreamento e grava-a em um dispositivo de saída (geralmente, uma janela, um log ou um arquivo de texto).</span><span class="sxs-lookup"><span data-stu-id="339ec-188">A listener is an object that receives trace output and writes it to an output device (usually a window, log, or text file).</span></span> <span data-ttu-id="339ec-189">Quando um ouvinte de rastreamento é criado, normalmente, ele é adicionado à coleção <xref:System.Diagnostics.Trace.Listeners%2A?displayProperty=nameWithType>, permitindo que o ouvinte receba toda a saída de rastreamento.</span><span class="sxs-lookup"><span data-stu-id="339ec-189">When a trace listener is created, it is typically added to the <xref:System.Diagnostics.Trace.Listeners%2A?displayProperty=nameWithType> collection, allowing the listener to receive all trace output.</span></span>  
  
 <span data-ttu-id="339ec-190">As informações de rastreamento são sempre gravadas, pelo menos, no destino de saída <xref:System.Diagnostics.Trace> padrão, o <xref:System.Diagnostics.DefaultTraceListener>.</span><span class="sxs-lookup"><span data-stu-id="339ec-190">Tracing information is always written at least to the default <xref:System.Diagnostics.Trace> output target, the <xref:System.Diagnostics.DefaultTraceListener>.</span></span> <span data-ttu-id="339ec-191">Se, por algum motivo, você excluiu o <xref:System.Diagnostics.DefaultTraceListener> sem adicionar outros ouvintes à coleção <xref:System.Diagnostics.Trace.Listeners%2A>, não receberá nenhuma mensagem de rastreamento.</span><span class="sxs-lookup"><span data-stu-id="339ec-191">If for some reason you have deleted the <xref:System.Diagnostics.DefaultTraceListener> without adding any other listeners to the <xref:System.Diagnostics.Trace.Listeners%2A> collection, you will not receive any tracing messages.</span></span> <span data-ttu-id="339ec-192">Para obter mais informações, consulte [Ouvintes de rastreamento](trace-listeners.md).</span><span class="sxs-lookup"><span data-stu-id="339ec-192">For more information, see [Trace Listeners](trace-listeners.md).</span></span>  
  
 <span data-ttu-id="339ec-193">Os seis membros <xref:System.Diagnostics.Debug> e métodos <xref:System.Diagnostics.Trace> que gravam informações de rastreamento são listados na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="339ec-193">The six <xref:System.Diagnostics.Debug> members and <xref:System.Diagnostics.Trace> methods that write tracing information are listed in the following table.</span></span>  
  
|<span data-ttu-id="339ec-194">Método</span><span class="sxs-lookup"><span data-stu-id="339ec-194">Method</span></span>|<span data-ttu-id="339ec-195">Saída</span><span class="sxs-lookup"><span data-stu-id="339ec-195">Output</span></span>|  
|------------|------------|  
|<span data-ttu-id="339ec-196">**Assert**</span><span class="sxs-lookup"><span data-stu-id="339ec-196">**Assert**</span></span>|<span data-ttu-id="339ec-197">O texto especificado; ou, se nenhum for especificado, a Pilha de Chamadas.</span><span class="sxs-lookup"><span data-stu-id="339ec-197">The specified text; or, if none is specified, the Call Stack.</span></span> <span data-ttu-id="339ec-198">A saída é gravada somente se a condição especificada como um argumento na instrução **Assert** é **false**.</span><span class="sxs-lookup"><span data-stu-id="339ec-198">The output is written only if the condition specified as an argument in the **Assert** statement is **false**.</span></span>|  
|<span data-ttu-id="339ec-199">**Falha**</span><span class="sxs-lookup"><span data-stu-id="339ec-199">**Fail**</span></span>|<span data-ttu-id="339ec-200">O texto especificado; ou, se nenhum for especificado, a Pilha de Chamadas.</span><span class="sxs-lookup"><span data-stu-id="339ec-200">The specified text; or, if none is specified, the Call Stack.</span></span>|  
|<span data-ttu-id="339ec-201">**Gravar**</span><span class="sxs-lookup"><span data-stu-id="339ec-201">**Write**</span></span>|<span data-ttu-id="339ec-202">O texto especificado.</span><span class="sxs-lookup"><span data-stu-id="339ec-202">The specified text.</span></span>|  
|<span data-ttu-id="339ec-203">**WriteIf**</span><span class="sxs-lookup"><span data-stu-id="339ec-203">**WriteIf**</span></span>|<span data-ttu-id="339ec-204">O texto especificado, se a condição especificada como um argumento na instrução **WriteIf** é atendida.</span><span class="sxs-lookup"><span data-stu-id="339ec-204">The specified text, if the condition specified as an argument in the **WriteIf** statement is satisfied.</span></span>|  
|<span data-ttu-id="339ec-205">**WriteLine**</span><span class="sxs-lookup"><span data-stu-id="339ec-205">**WriteLine**</span></span>|<span data-ttu-id="339ec-206">O texto especificado e um retorno de carro.</span><span class="sxs-lookup"><span data-stu-id="339ec-206">The specified text and a carriage return.</span></span>|  
|<span data-ttu-id="339ec-207">**WriteLineIf**</span><span class="sxs-lookup"><span data-stu-id="339ec-207">**WriteLineIf**</span></span>|<span data-ttu-id="339ec-208">O texto especificado e um retorno de carro, se a condição especificada como um argumento na instrução **WriteLineIf** é atendida.</span><span class="sxs-lookup"><span data-stu-id="339ec-208">The specified text and a carriage return, if the condition specified as an argument in the **WriteLineIf** statement is satisfied.</span></span>|  
  
 <span data-ttu-id="339ec-209">Todos os ouvintes na coleção <xref:System.Diagnostics.Trace.Listeners%2A> recebem as mensagens descritas na tabela acima, mas as ações executadas podem variar, dependendo de qual tipo de ouvinte recebe a mensagem.</span><span class="sxs-lookup"><span data-stu-id="339ec-209">All listeners in the <xref:System.Diagnostics.Trace.Listeners%2A> collection receive the messages described in the above table, but the actions taken may vary depending on what kind of listener receives the message.</span></span> <span data-ttu-id="339ec-210">Por exemplo, o <xref:System.Diagnostics.DefaultTraceListener> exibe uma caixa de diálogo de declaração quando recebe um **Fail** ou uma notificação **Assert** com falha, mas um <xref:System.Diagnostics.TextWriterTraceListener> simplesmente grava a saída no fluxo.</span><span class="sxs-lookup"><span data-stu-id="339ec-210">For example, the <xref:System.Diagnostics.DefaultTraceListener> displays an assertion dialog box when it receives a **Fail** or failed **Assert** notification, but a <xref:System.Diagnostics.TextWriterTraceListener> simply writes the output to its stream.</span></span>  
  
 <span data-ttu-id="339ec-211">Produza resultados personalizados implementando seu próprio ouvinte.</span><span class="sxs-lookup"><span data-stu-id="339ec-211">You can produce custom results by implementing your own listener.</span></span> <span data-ttu-id="339ec-212">Um ouvinte de rastreamento personalizado pode, por exemplo, exibir as mensagens em uma caixa de mensagem ou se conectar a um banco de dados para adicionar mensagens a uma tabela.</span><span class="sxs-lookup"><span data-stu-id="339ec-212">A custom trace listener might, for example, display the messages to a message box, or connect to a database to add messages to a table.</span></span> <span data-ttu-id="339ec-213">Todos os ouvintes personalizados devem dar suporte aos seis métodos mencionados acima.</span><span class="sxs-lookup"><span data-stu-id="339ec-213">All custom listeners should support the six methods mentioned above.</span></span> <span data-ttu-id="339ec-214">Para obter mais informações sobre como criar ouvintes definidos pelo desenvolvedor, consulte <xref:System.Diagnostics.TraceListener> na referência do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="339ec-214">For more information on creating developer-defined listeners, see <xref:System.Diagnostics.TraceListener> in the .NET Framework reference.</span></span>  
  
 <span data-ttu-id="339ec-215">Os métodos **Write** e **WriteLine** sempre gravam o texto especificado.</span><span class="sxs-lookup"><span data-stu-id="339ec-215">The **Write** and **WriteLine** methods always write the text that you specify.</span></span> <span data-ttu-id="339ec-216">**Assert**, **WriteIf** e **WriteLineIf** exigem um argumento booliano que controla se eles gravam o texto especificado; eles gravam o texto especificado somente se a expressão é **true** (para **WriteIf** e **WriteLineIf**) ou **false** (para **Assert**).</span><span class="sxs-lookup"><span data-stu-id="339ec-216">**Assert**, **WriteIf**, and **WriteLineIf** require a Boolean argument that controls whether or not they write the specified text; they write the specified text only if the expression is **true** (for **WriteIf** and **WriteLineIf**), or **false** (for **Assert**).</span></span> <span data-ttu-id="339ec-217">O método **Fail** sempre grava o texto especificado.</span><span class="sxs-lookup"><span data-stu-id="339ec-217">The **Fail** method always writes the specified text.</span></span> <span data-ttu-id="339ec-218">Para obter mais informações, consulte [Como adicionar instruções de rastreamento ao código do aplicativo](how-to-add-trace-statements-to-application-code.md) e a referência do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="339ec-218">For more information, see [How to: Add Trace Statements to Application Code](how-to-add-trace-statements-to-application-code.md) and the .NET Framework reference.</span></span>  
  
## <a name="security-concerns"></a><span data-ttu-id="339ec-219">Problemas de segurança</span><span class="sxs-lookup"><span data-stu-id="339ec-219">Security Concerns</span></span>  
 <span data-ttu-id="339ec-220">Se você não desabilitar o rastreamento e a depuração antes de implantar um aplicativo ASP.NET, o aplicativo poderá revelar informações sobre si mesmo que podem ser exploradas por um programa mal-intencionado.</span><span class="sxs-lookup"><span data-stu-id="339ec-220">If you do not disable tracing and debugging before deploying an ASP.NET application, your application may reveal information about itself that could be exploited by a malicious program.</span></span> <span data-ttu-id="339ec-221">Para obter mais informações, consulte [Como compilar condicionalmente com Trace e Debug](how-to-compile-conditionally-with-trace-and-debug.md), [Compilando e criando](/visualstudio/ide/compiling-and-building-in-visual-studio) e [Como criar, inicializar e configurar opções de rastreamento](how-to-create-initialize-and-configure-trace-switches.md).</span><span class="sxs-lookup"><span data-stu-id="339ec-221">For more information, see [How to: Compile Conditionally with Trace and Debug](how-to-compile-conditionally-with-trace-and-debug.md), [Compiling and Building](/visualstudio/ide/compiling-and-building-in-visual-studio), and [How to: Create, Initialize and Configure Trace Switches](how-to-create-initialize-and-configure-trace-switches.md).</span></span> <span data-ttu-id="339ec-222">A depuração também é configurável por meio do IIS (Serviços de Informações da Internet).</span><span class="sxs-lookup"><span data-stu-id="339ec-222">Debugging is also configurable through Internet Information Services (IIS).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="339ec-223">Confira também</span><span class="sxs-lookup"><span data-stu-id="339ec-223">See also</span></span>

- <xref:System.Diagnostics.Trace>
- <xref:System.Diagnostics.TraceSource>
- [<span data-ttu-id="339ec-224">Contratos de código</span><span class="sxs-lookup"><span data-stu-id="339ec-224">Code Contracts</span></span>](code-contracts.md)
- [<span data-ttu-id="339ec-225">Tipos de projeto C#, F# e Visual Basic</span><span class="sxs-lookup"><span data-stu-id="339ec-225">C#, F#, and Visual Basic Project Types</span></span>](/visualstudio/debugger/debugging-preparation-csharp-f-hash-and-visual-basic-project-types)
- [<span data-ttu-id="339ec-226">Como adicionar instruções de rastreamento ao código do aplicativo</span><span class="sxs-lookup"><span data-stu-id="339ec-226">How to: Add Trace Statements to Application Code</span></span>](how-to-add-trace-statements-to-application-code.md)
- [<span data-ttu-id="339ec-227">Como compilar condicionalmente com Trace e Debug</span><span class="sxs-lookup"><span data-stu-id="339ec-227">How to: Compile Conditionally with Trace and Debug</span></span>](how-to-compile-conditionally-with-trace-and-debug.md)
- [<span data-ttu-id="339ec-228">Como criar, inicializar e configurar as opções de rastreamento</span><span class="sxs-lookup"><span data-stu-id="339ec-228">How to: Create, Initialize and Configure Trace Switches</span></span>](how-to-create-initialize-and-configure-trace-switches.md)
- [<span data-ttu-id="339ec-229">Como criar e inicializar fontes de rastreamento</span><span class="sxs-lookup"><span data-stu-id="339ec-229">How to: Create and Initialize Trace Sources</span></span>](how-to-create-and-initialize-trace-sources.md)
- [<span data-ttu-id="339ec-230">Como usar o TraceSource e filtros com ouvintes de rastreamento</span><span class="sxs-lookup"><span data-stu-id="339ec-230">How to: Use TraceSource and Filters with Trace Listeners</span></span>](how-to-use-tracesource-and-filters-with-trace-listeners.md)
- [<span data-ttu-id="339ec-231">Ouvintes de rastreamento</span><span class="sxs-lookup"><span data-stu-id="339ec-231">Trace Listeners</span></span>](trace-listeners.md)
- [<span data-ttu-id="339ec-232">Opções de rastreamento</span><span class="sxs-lookup"><span data-stu-id="339ec-232">Trace Switches</span></span>](trace-switches.md)
