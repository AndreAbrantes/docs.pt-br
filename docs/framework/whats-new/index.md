---
title: Novidades no .NET Framework
ms.custom: updateeachrelease
ms.date: 04/18/2019
dev_langs:
- csharp
- vb
helpviewer_keywords:
- what's new [.NET Framework]
ms.assetid: 1d971dd7-10fc-4692-8dac-30ca308fc0fa
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 8a9c9072c5565cf322bbf6a913255542fb46cb93
ms.sourcegitcommit: 4735bb7741555bcb870d7b42964d3774f4897a6e
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/30/2019
ms.locfileid: "66378559"
---
# <a name="whats-new-in-the-net-framework"></a><span data-ttu-id="88f5c-102">Novidades no .NET Framework</span><span class="sxs-lookup"><span data-stu-id="88f5c-102">What's new in the .NET Framework</span></span>

<span data-ttu-id="88f5c-103">Este artigo resume os novos recursos-chave e melhorias nas seguintes versões do .NET Framework:</span><span class="sxs-lookup"><span data-stu-id="88f5c-103">This article summarizes key new features and improvements in the following versions of the .NET Framework:</span></span>

- [<span data-ttu-id="88f5c-104">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="88f5c-104">.NET Framework 4.8</span></span>](#v48)
- [<span data-ttu-id="88f5c-105">.NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="88f5c-105">.NET Framework 4.7.2</span></span>](#v472)
- [<span data-ttu-id="88f5c-106">.NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="88f5c-106">.NET Framework 4.7.1</span></span>](#v471)
- [<span data-ttu-id="88f5c-107">.NET Framework 4.7</span><span class="sxs-lookup"><span data-stu-id="88f5c-107">.NET Framework 4.7</span></span>](#v47)
- [<span data-ttu-id="88f5c-108">.NET Framework 4.6.2</span><span class="sxs-lookup"><span data-stu-id="88f5c-108">.NET Framework 4.6.2</span></span>](#v462)
- [<span data-ttu-id="88f5c-109">.NET Framework 4.6.1</span><span class="sxs-lookup"><span data-stu-id="88f5c-109">.NET Framework 4.6.1</span></span>](#v461)
- [<span data-ttu-id="88f5c-110">.NET 2015 e .NET Framework 4.6</span><span class="sxs-lookup"><span data-stu-id="88f5c-110">.NET 2015 and .NET Framework 4.6</span></span>](#v46)
- [<span data-ttu-id="88f5c-111">.NET Framework 4.5.2</span><span class="sxs-lookup"><span data-stu-id="88f5c-111">.NET Framework 4.5.2</span></span>](#v452)
- [<span data-ttu-id="88f5c-112">.NET Framework 4.5.1</span><span class="sxs-lookup"><span data-stu-id="88f5c-112">.NET Framework 4.5.1</span></span>](#v451)
- [<span data-ttu-id="88f5c-113">.NET Framework 4.5</span><span class="sxs-lookup"><span data-stu-id="88f5c-113">.NET Framework 4.5</span></span>](#v45)

<span data-ttu-id="88f5c-114">Este artigo não fornece informações abrangentes sobre cada recurso novo e está sujeito a alterações.</span><span class="sxs-lookup"><span data-stu-id="88f5c-114">This article does not provide comprehensive information about each new feature and is subject to change.</span></span> <span data-ttu-id="88f5c-115">Para obter informações gerais sobre o .NET Framework, confira [Introdução](../get-started/index.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-115">For general information about the .NET Framework, see [Getting Started](../get-started/index.md).</span></span> <span data-ttu-id="88f5c-116">Para conhecer as plataformas compatíveis, confira [Requisitos do sistema](~/docs/framework/get-started/system-requirements.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-116">For supported platforms, see [System Requirements](~/docs/framework/get-started/system-requirements.md).</span></span> <span data-ttu-id="88f5c-117">Para obter links de download e instruções de instalação, confira [Guia de instalação](../install/guide-for-developers.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-117">For download links and installation instructions, see [Installation Guide](../install/guide-for-developers.md).</span></span>

> [!NOTE]
> <span data-ttu-id="88f5c-118">A equipe do .NET Framework também libera recursos fora de banda com o NuGet para expandir o suporte à plataforma e introduzir novas funcionalidades, como coleções imutáveis e tipos de vetor habilitados para SIMD.</span><span class="sxs-lookup"><span data-stu-id="88f5c-118">The .NET Framework team also releases features out of band with NuGet to expand platform support and to introduce new functionality, such as immutable collections and SIMD-enabled vector types.</span></span> <span data-ttu-id="88f5c-119">Para saber mais, confira [Bibliotecas de classes e APIs adicionais](../additional-apis/index.md) e [O .NET Framework e lançamentos fora da banda](~/docs/framework/get-started/the-net-framework-and-out-of-band-releases.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-119">For more information, see [Additional Class Libraries and APIs](../additional-apis/index.md) and [The .NET Framework and Out-of-Band Releases](~/docs/framework/get-started/the-net-framework-and-out-of-band-releases.md).</span></span> <span data-ttu-id="88f5c-120">Veja uma [lista completa de pacotes do NuGet](https://www.nuget.org/profiles/dotnetframework) para o .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="88f5c-120">See a [complete list of NuGet packages](https://www.nuget.org/profiles/dotnetframework) for the .NET Framework.</span></span>

<a name="v48" />

## <a name="introducing-net-framework-48"></a><span data-ttu-id="88f5c-121">Introdução ao .NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="88f5c-121">Introducing .NET Framework 4.8</span></span>

<span data-ttu-id="88f5c-122">O .NET Framework 4.8 baseia-se nas versões anteriores do .NET Framework 4.x, adicionando muitas correções e vários recursos novos, mas permanecendo um produto muito estável.</span><span class="sxs-lookup"><span data-stu-id="88f5c-122">.NET Framework 4.8 builds on previous versions of the .NET Framework 4.x by adding many new fixes and several new features while remaining a very stable product.</span></span>

### <a name="downloading-and-installing-net-framework-48"></a><span data-ttu-id="88f5c-123">Baixar e instalar o .NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="88f5c-123">Downloading and installing .NET Framework 4.8</span></span>

<span data-ttu-id="88f5c-124">Você pode baixar o .NET Framework 4.8 nos seguintes locais:</span><span class="sxs-lookup"><span data-stu-id="88f5c-124">You can download .NET Framework 4.8  from the following locations:</span></span>

- [<span data-ttu-id="88f5c-125">Instalador Web do .NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="88f5c-125">.NET Framework 4.8 Web Installer</span></span>](https://go.microsoft.com/fwlink/?LinkId=2085155)

- [<span data-ttu-id="88f5c-126">Instalador Offline do .NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="88f5c-126">NET Framework 4.8 Offline Installer</span></span>](https://go.microsoft.com/fwlink/?linkid=2088631)

<span data-ttu-id="88f5c-127">O .NET Framework 4.8 pode ser instalado nos sistemas operacionais Windows 10, Windows 8.1, Windows 7 SP1 e nas plataformas de servidor correspondentes, a partir do Windows Server 2008 R2 SP1.</span><span class="sxs-lookup"><span data-stu-id="88f5c-127">.NET Framework 4.8 can be installed on Windows 10, Windows 8.1, Windows 7 SP1, and the corresponding server platforms starting with Windows Server 2008 R2 SP1.</span></span> <span data-ttu-id="88f5c-128">É possível instalar o .NET Framework 4.8 usando o instalador Web ou o instalador offline.</span><span class="sxs-lookup"><span data-stu-id="88f5c-128">You can install .NET Framework 4.8 by using either the web installer or the offline installer.</span></span> <span data-ttu-id="88f5c-129">A maneira recomendada para a maioria dos usuários é usar o instalador da Web.</span><span class="sxs-lookup"><span data-stu-id="88f5c-129">The recommended way for most users is to use the web installer.</span></span>

<span data-ttu-id="88f5c-130">Para direcionar para o .NET Framework 4.8 no Visual Studio 2012 ou posterior, instale o [Pacote do Desenvolvedor do .NET Framework 4.8](https://go.microsoft.com/fwlink/?LinkId=2085167).</span><span class="sxs-lookup"><span data-stu-id="88f5c-130">You can target .NET Framework 4.8 in Visual Studio 2012 or later by installing the [.NET Framework 4.8 Developer Pack](https://go.microsoft.com/fwlink/?LinkId=2085167).</span></span>

### <a name="whats-new-in-net-framework-48"></a><span data-ttu-id="88f5c-131">Novidades no .NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="88f5c-131">What's new in .NET Framework 4.8</span></span>

<span data-ttu-id="88f5c-132">O .NET Framework 4.8 apresenta novos recursos nas seguintes áreas:</span><span class="sxs-lookup"><span data-stu-id="88f5c-132">.NET Framework 4.8 introduces new features in the following areas:</span></span>

- [<span data-ttu-id="88f5c-133">Classes base</span><span class="sxs-lookup"><span data-stu-id="88f5c-133">Base classes</span></span>](#core48)
- [<span data-ttu-id="88f5c-134">WCF (Windows Communication Foundation)</span><span class="sxs-lookup"><span data-stu-id="88f5c-134">Windows Communication Foundation (WCF)</span></span>](#wcf48)
- [<span data-ttu-id="88f5c-135">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="88f5c-135">Windows Presentation Foundation (WPF)</span></span>](#wpf48)
- [<span data-ttu-id="88f5c-136">Common Language Runtime</span><span class="sxs-lookup"><span data-stu-id="88f5c-136">Common language runtime</span></span>](#clr48)

<span data-ttu-id="88f5c-137">A melhoria na acessibilidade, que permite a um aplicativo proporcionar uma experiência adequada para os usuários da Tecnologia Assistencial, continua sendo um ponto importante do .NET Framework 4.8.</span><span class="sxs-lookup"><span data-stu-id="88f5c-137">Improved accessibility, which allows an application to provide an appropriate experience for users of Assistive Technology, continues to be a major focus of .NET Framework 4.8.</span></span> <span data-ttu-id="88f5c-138">Para saber mais sobre melhorias de acessibilidade no .NET Framework 4.8, consulte [Novidades de acessibilidade no .NET Framework](whats-new-in-accessibility.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-138">For information on accessibility improvements in .NET Framework 4.8, see [What's new in accessibility in the .NET Framework](whats-new-in-accessibility.md).</span></span>

<a name="core48" />

#### <a name="base-classes"></a><span data-ttu-id="88f5c-139">Classes base</span><span class="sxs-lookup"><span data-stu-id="88f5c-139">Base classes</span></span>

<span data-ttu-id="88f5c-140">**Redução do impacto do FIPS na criptografia**.</span><span class="sxs-lookup"><span data-stu-id="88f5c-140">**Reduced FIPS impact on Cryptography**.</span></span> <span data-ttu-id="88f5c-141">Em versões anteriores do .NET Framework, as classes do provedor criptográfico gerenciadas, como <xref:System.Security.Cryptography.SHA256Managed>, geram uma <xref:System.Security.Cryptography.CryptographicException> quando as bibliotecas criptográficas do sistema estão configuradas no "modo FIPS".</span><span class="sxs-lookup"><span data-stu-id="88f5c-141">In previous versions of the .NET Framework, managed cryptographic provider classes such as <xref:System.Security.Cryptography.SHA256Managed> throw a <xref:System.Security.Cryptography.CryptographicException> when the system cryptographic libraries are configured in “FIPS mode”.</span></span> <span data-ttu-id="88f5c-142">Essas exceções ocorrem porque as versões gerenciadas das classes do provedor criptográfico, ao contrário das bibliotecas criptográficas do sistema, não receberam a certificação 140-2 do padrão FIPS (Federal Information Processing Standards).</span><span class="sxs-lookup"><span data-stu-id="88f5c-142">These exceptions are thrown because the managed versions of the cryptographic provider classes, unlike the system cryptographic libraries, have not undergone FIPS (Federal Information Processing Standards) 140-2 certification.</span></span> <span data-ttu-id="88f5c-143">Como os computadores de desenvolvimento de alguns desenvolvedores estão no modo FIPS, as exceções geralmente ocorrem em sistemas de produção.</span><span class="sxs-lookup"><span data-stu-id="88f5c-143">Because few developers have their development machines in FIPS mode, the exceptions are commonly thrown in production systems.</span></span>

<span data-ttu-id="88f5c-144">Por padrão, em aplicativos destinados ao .NET Framework 4.8, as seguintes classes de criptografia gerenciadas não geram mais uma <xref:System.Security.Cryptography.CryptographicException>:</span><span class="sxs-lookup"><span data-stu-id="88f5c-144">By default in applications that target .NET Framework 4.8, the following managed cryptography classes no longer throw a <xref:System.Security.Cryptography.CryptographicException> in this case:</span></span>

- <xref:System.Security.Cryptography.MD5Cng>
- <xref:System.Security.Cryptography.MD5CryptoServiceProvider>
- <xref:System.Security.Cryptography.RC2CryptoServiceProvider>
- <xref:System.Security.Cryptography.RijndaelManaged>
- <xref:System.Security.Cryptography.RIPEMD160Managed>
- <xref:System.Security.Cryptography.SHA256Managed>

<span data-ttu-id="88f5c-145">Em vez disso, essas classes redirecionam as operações criptográficas para uma biblioteca de criptografia do sistema.</span><span class="sxs-lookup"><span data-stu-id="88f5c-145">Instead, these classes redirect cryptographic operations to a system cryptography library.</span></span> <span data-ttu-id="88f5c-146">Essa alteração elimina efetivamente uma diferença potencialmente confusa entre os ambientes do desenvolvedor e os ambientes de produção, fazendo com que componentes nativos e componentes gerenciados operem sob a mesma política criptográfica.</span><span class="sxs-lookup"><span data-stu-id="88f5c-146">This change effectively removes a potentially confusing difference between developer environments and production environments and makes native components and managed components operate under the same cryptographic policy.</span></span> <span data-ttu-id="88f5c-147">Os aplicativos que dependem dessas exceções podem restaurar o comportamento anterior configurando o comutador `Switch.System.Security.Cryptography.UseLegacyFipsThrow` para `true`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-147">Applications that depend on these exceptions can restore the previous behavior by setting the AppContext switch `Switch.System.Security.Cryptography.UseLegacyFipsThrow` to `true`.</span></span> <span data-ttu-id="88f5c-148">Para saber mais, consulte [Classes de criptografia gerenciadas não geram uma CryptographyException no modo FIPS](../migration-guide/retargeting/4.7.2-4.8.md#managed-cryptography-classes-do-not-throw-a-cryptographyexception-in-fips-mode).</span><span class="sxs-lookup"><span data-stu-id="88f5c-148">For more information, see [Managed cryptography classes do not throw a CryptographyException in FIPS mode](../migration-guide/retargeting/4.7.2-4.8.md#managed-cryptography-classes-do-not-throw-a-cryptographyexception-in-fips-mode).</span></span>

<span data-ttu-id="88f5c-149">**Uso da versão atualizada do ZLib**</span><span class="sxs-lookup"><span data-stu-id="88f5c-149">**Use of updated version of ZLib**</span></span>

<span data-ttu-id="88f5c-150">Começando no .NET Framework 4.5, o assembly clrcompression.dll usa [ZLib](https://www.zlib.net), uma biblioteca externa nativa para a compactação de dados, a fim de fornecer uma implementação para o algoritmo deflate.</span><span class="sxs-lookup"><span data-stu-id="88f5c-150">Starting with .NET Framework 4.5, the clrcompression.dll assembly uses [ZLib](https://www.zlib.net), a native external library for data compression, in order to provide an implementation for the deflate algorithm.</span></span> <span data-ttu-id="88f5c-151">No .NET Framework 4.8, o clrcompression.dll foi atualizado para usar a versão 1.2.11 do ZLib, que inclui várias melhorias e correções importantes.</span><span class="sxs-lookup"><span data-stu-id="88f5c-151">The .NET Framework 4.8, clrcompression.dll is updated to use ZLib Version 1.2.11, which includes several key improvements and fixes.</span></span>

<a name="wcf48" />

#### <a name="windows-communication-foundation-wcf"></a><span data-ttu-id="88f5c-152">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="88f5c-152">Windows Communication Foundation (WCF)</span></span>

<span data-ttu-id="88f5c-153">**Introdução do ServiceHealthBehavior**</span><span class="sxs-lookup"><span data-stu-id="88f5c-153">**Introduction of ServiceHealthBehavior**</span></span>

<span data-ttu-id="88f5c-154">Os pontos de extremidade de integridade são amplamente usados pelas ferramentas de orquestração para gerenciar os serviços com base em seu status de integridade.</span><span class="sxs-lookup"><span data-stu-id="88f5c-154">Health endpoints are widely used by orchestration tools to manage services based on their health status.</span></span> <span data-ttu-id="88f5c-155">As verificações de integridade também podem ser usadas pelas ferramentas de monitoramento para rastrear e fornecer notificações sobre a disponibilidade e o desempenho de um serviço.</span><span class="sxs-lookup"><span data-stu-id="88f5c-155">Health checks can also be used by monitoring tools to track and provide notifications about the availability and performance of a service.</span></span>

<span data-ttu-id="88f5c-156">O **ServiceHealthBehavior** é um comportamento de serviço de aplicativo do Windows Communication Foundation que estende o <xref:System.ServiceModel.Description.IServiceBehavior>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-156">**ServiceHealthBehavior** is a WCF service behavior that extends <xref:System.ServiceModel.Description.IServiceBehavior>.</span></span>  <span data-ttu-id="88f5c-157">Quando adicionado à coleção <xref:System.ServiceModel.Description.ServiceDescription.Behaviors?displayProperty=nameWithType>, um comportamento de serviço executa estas tarefas:</span><span class="sxs-lookup"><span data-stu-id="88f5c-157">When added to the <xref:System.ServiceModel.Description.ServiceDescription.Behaviors?displayProperty=nameWithType> collection, a service behavior does the following:</span></span>

- <span data-ttu-id="88f5c-158">Retorna um status de integridade do serviço com códigos de resposta HTTP.</span><span class="sxs-lookup"><span data-stu-id="88f5c-158">Returns service health status with HTTP response codes.</span></span> <span data-ttu-id="88f5c-159">Em uma cadeia de consulta, você pode especificar o código de status HTTP para uma solicitação de investigação de integridade HTTP/GET.</span><span class="sxs-lookup"><span data-stu-id="88f5c-159">You can specify in a query string the HTTP status code for a HTTP/GET health probe request.</span></span>

- <span data-ttu-id="88f5c-160">Publica informações sobre a integridade do serviço.</span><span class="sxs-lookup"><span data-stu-id="88f5c-160">Publishes information about service health.</span></span> <span data-ttu-id="88f5c-161">Os detalhes específicos do serviço, incluindo o estado do serviço, contagens de aceleração e capacidade, podem ser exibidos usando uma solicitação HTTP/GET com a cadeia de consulta `?health`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-161">Service-specific details, including service state, throttle counts, and capacity can be displayed by using an HTTP/GET request with the `?health` query string.</span></span> <span data-ttu-id="88f5c-162">A facilidade de acesso a essas informações é importante ao solucionar problemas de um serviço WCF com comportamento inadequado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-162">Ease of access to such information is important when troubleshooting a misbehaving WCF service.</span></span>

<span data-ttu-id="88f5c-163">Há duas maneiras de expor o ponto de extremidade da integridade e publicar informações de integridade do serviço WCF:</span><span class="sxs-lookup"><span data-stu-id="88f5c-163">There are two ways to expose the health endpoint and publish WCF service health information:</span></span>

- <span data-ttu-id="88f5c-164">Percorrer o código.</span><span class="sxs-lookup"><span data-stu-id="88f5c-164">Through code.</span></span> <span data-ttu-id="88f5c-165">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="88f5c-165">For example:</span></span>

  ```csharp
  ServiceHost host = new ServiceHost(typeof(Service1),
                     new Uri("http://contoso:81/Service1"));
  ServiceHealthBehavior healthBehavior =
      host.Description.Behaviors.Find<ServiceHealthBehavior>();
  if (healthBehavior == null)
  {
     healthBehavior = new ServiceHealthBehavior();
  }
   host.Description.Behaviors.Add(healthBehavior);
  ```

  ```vb
  Dim host As New ServiceHost(GetType(Service1),
              New Uri("http://contoso:81/Service1"))
  Dim healthBehavior As ServiceHealthBehavior = 
     host.Description.Behaviors.Find(Of ServiceHealthBehavior)()
  If healthBehavior Is Nothing Then
     healthBehavior = New ServiceHealthBehavior()
  End If
  host.Description.Behaviors.Add(healthBehavior) 
  ```

- <span data-ttu-id="88f5c-166">Usando um arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="88f5c-166">By using a configuration file.</span></span> <span data-ttu-id="88f5c-167">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="88f5c-167">For example:</span></span>

  ```xml
  <behaviors>
    <serviceBehaviors>
      <behavior name="DefaultBehavior">
        <serviceHealth httpsGetEnabled="true"/>
      </behavior>
    </serviceBehaviors>
  </behaviors>
  ```

<span data-ttu-id="88f5c-168">O status de integridade de um serviço pode ser consultado usando parâmetros de consulta como `OnServiceFailure`, `OnDispatcherFailure`, `OnListenerFailure`, `OnThrottlePercentExceeded`, e um código de resposta HTTP pode ser especificado para cada parâmetro de consulta.</span><span class="sxs-lookup"><span data-stu-id="88f5c-168">A service's health status can be queried by using query parameters such as `OnServiceFailure`, `OnDispatcherFailure`, `OnListenerFailure`, `OnThrottlePercentExceeded`), and an HTTP response code can be specified for each query parameter.</span></span> <span data-ttu-id="88f5c-169">Se o código de resposta HTTP for omitido para um parâmetro de consulta, será usado um código de resposta HTTP 503 por padrão.</span><span class="sxs-lookup"><span data-stu-id="88f5c-169">If the HTTP response code is omitted for a query parameter, a 503 HTTP response code is used by default.</span></span> <span data-ttu-id="88f5c-170">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="88f5c-170">For example:</span></span>

- <span data-ttu-id="88f5c-171">OnServiceFailure: `https://contoso:81/Service1?health&OnServiceFailure=450`</span><span class="sxs-lookup"><span data-stu-id="88f5c-171">OnServiceFailure: `https://contoso:81/Service1?health&OnServiceFailure=450`</span></span>

  <span data-ttu-id="88f5c-172">Retorna um código de status de resposta HTTP 450 quando [ServiceHost.State](xref:System.ServiceModel.Channels.CommunicationObject.State) é maior que <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-172">A 450 HTTP response status code is returned when [ServiceHost.State](xref:System.ServiceModel.Channels.CommunicationObject.State) is greater than <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType>.</span></span>
<span data-ttu-id="88f5c-173">Parâmetros de consulta e exemplos:</span><span class="sxs-lookup"><span data-stu-id="88f5c-173">Query parameters and examples:</span></span>

- <span data-ttu-id="88f5c-174">OnDispatcherFailure: `https://contoso:81/Service1?health&OnDispatcherFailure=455`</span><span class="sxs-lookup"><span data-stu-id="88f5c-174">OnDispatcherFailure: `https://contoso:81/Service1?health&OnDispatcherFailure=455`</span></span>

  <span data-ttu-id="88f5c-175">Retorna um código de status de resposta HTTP 455 quando o estado de qualquer um dos dispatchers de canal é maior que <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-175">A 455 HTTP response status code is returned when the state of any of the channel dispatchers is greater than <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType>.</span></span>

- <span data-ttu-id="88f5c-176">OnListenerFailure: `https://contoso:81/Service1?health&OnListenerFailure=465`</span><span class="sxs-lookup"><span data-stu-id="88f5c-176">OnListenerFailure: `https://contoso:81/Service1?health&OnListenerFailure=465`</span></span>

  <span data-ttu-id="88f5c-177">Retorna um código de status de resposta HTTP 465 quando o estado de qualquer um dos ouvintes de canais é maior que <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-177">A 465 HTTP response status code is returned when the state of any of the channel listeners is greater than <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType>.</span></span>

- <span data-ttu-id="88f5c-178">OnThrottlePercentExceeded: `https://contoso:81/Service1?health&OnThrottlePercentExceeded= 70:350,95:500`</span><span class="sxs-lookup"><span data-stu-id="88f5c-178">OnThrottlePercentExceeded: `https://contoso:81/Service1?health&OnThrottlePercentExceeded= 70:350,95:500`</span></span>

  <span data-ttu-id="88f5c-179">Especifica a porcentagem {1 a 100} que dispara a resposta e seu código de resposta HTTP {200 a 599}.</span><span class="sxs-lookup"><span data-stu-id="88f5c-179">Specifies the percentage {1 – 100} that triggers the response and its HTTP response code {200 – 599}.</span></span> <span data-ttu-id="88f5c-180">Neste exemplo:</span><span class="sxs-lookup"><span data-stu-id="88f5c-180">In this example:</span></span>

    - <span data-ttu-id="88f5c-181">Se a porcentagem é maior que 95, retorna um código de resposta HTTP 500.</span><span class="sxs-lookup"><span data-stu-id="88f5c-181">If the percentage is greater than 95, a 500 HTTP response code is returned.</span></span>

    - <span data-ttu-id="88f5c-182">Se a porcentagem está entre 70 e 95, retorna 350.</span><span class="sxs-lookup"><span data-stu-id="88f5c-182">If the percentage or between 70 and 95, 350 is returned.</span></span>

    - <span data-ttu-id="88f5c-183">Caso contrário, retorna 200.</span><span class="sxs-lookup"><span data-stu-id="88f5c-183">Otherwise, 200 is returned.</span></span>

<span data-ttu-id="88f5c-184">O status da integridade do serviço pode ser exibido em HTML com a especificação de uma cadeia de consulta como `https://contoso:81/Service1?health` ou em XML com a especificação de uma cadeia de consulta como `https://contoso:81/Service1?health&Xml`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-184">The service health status can be displayed either in HTML by specifying a query string like `https://contoso:81/Service1?health` or in XML by specifying a query string like `https://contoso:81/Service1?health&Xml`.</span></span> <span data-ttu-id="88f5c-185">Uma cadeia de consulta como `https://contoso:81/Service1?health&NoContent` retorna uma página HTML vazia.</span><span class="sxs-lookup"><span data-stu-id="88f5c-185">A query string like `https://contoso:81/Service1?health&NoContent` returns an empty HTML page.</span></span>

<a name="wpf48" />

#### <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="88f5c-186">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="88f5c-186">Windows Presentation Foundation (WPF)</span></span>

<span data-ttu-id="88f5c-187">**Aprimoramentos de alto DPI**</span><span class="sxs-lookup"><span data-stu-id="88f5c-187">**High DPI enhancements**</span></span>

<span data-ttu-id="88f5c-188">No .NET Framework 4.8, o WPF adiciona suporte para Reconhecimento de DPI V2 por Monitor e ajuste de DPI no Modo Misto.</span><span class="sxs-lookup"><span data-stu-id="88f5c-188">In .NET Framework 4.8, WPF adds support for Per-Monitor V2 DPI Awareness and Mixed-Mode DPI scaling.</span></span> <span data-ttu-id="88f5c-189">Consulte [Desenvolvimento de aplicativo de área de trabalho com alto DPI no Windows](/desktop/hidpi/high-dpi-desktop-application-development-on-windows) para saber mais sobre o desenvolvimento com alto DPI.</span><span class="sxs-lookup"><span data-stu-id="88f5c-189">See [High DPI Desktop Application Development on Windows](/desktop/hidpi/high-dpi-desktop-application-development-on-windows) for additional information about high DPI development.</span></span>

<span data-ttu-id="88f5c-190">O .NET Framework 4.8 melhora o suporte para interoperação hospedada de HWNDs e do Windows Forms em aplicativos WPF com alto DPI em plataformas compatíveis com o ajuste do DPI no Modo Misto (começando com a Atualização de abril de 2018 do Windows 10).</span><span class="sxs-lookup"><span data-stu-id="88f5c-190">.NET Framework 4.8 improves support for hosted HWNDs and Windows Forms interoperation in High-DPI WPF applications on platforms that support Mixed-Mode DPI scaling (starting with Windows 10 April 2018 Update).</span></span> <span data-ttu-id="88f5c-191">Quando os controles hospedados de HWNDs ou do Windows Forms são criados como janelas em escala de DPI no Modo Misto chamando [SetThreadDpiHostingBehavior](/windows/desktop/api/winuser/nf-winuser-setthreaddpihostingbehavior) e [SetThreadDpiAwarenessContext](/windows/desktop/api/winuser/nf-winuser-setthreaddpiawarenesscontext), eles podem ser hospedados em um aplicativo WPF V2 por Monitor e são dimensionados adequadamente.</span><span class="sxs-lookup"><span data-stu-id="88f5c-191">When hosted HWNDs or Windows Forms controls are created as Mixed-Mode DPI-scaled windows by calling [SetThreadDpiHostingBehavior](/windows/desktop/api/winuser/nf-winuser-setthreaddpihostingbehavior) and [SetThreadDpiAwarenessContext](/windows/desktop/api/winuser/nf-winuser-setthreaddpiawarenesscontext), they can be hosted in a Per-Monitor V2 WPF application and are sized and scaled appropriately.</span></span> <span data-ttu-id="88f5c-192">Tal conteúdo hospedado não é processado no DPI nativo; em vez disso, o sistema operacional ajusta o conteúdo hospedado para o tamanho apropriado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-192">Such hosted content is not rendered at the native DPI; instead, the operating system scales the hosted content to the appropriate size.</span></span> <span data-ttu-id="88f5c-193">O suporte para o modo de reconhecimento de DPI V2 por Monitor também permite que os controles WPF sejam hospedados (isto é, tenham pai) em uma janela nativa em um aplicativo com alto DPI.</span><span class="sxs-lookup"><span data-stu-id="88f5c-193">The support for Per-Monitor v2 DPI awareness mode also allows WPF controls to be hosted (i.e., parented) in a native window in a high-DPI application.</span></span>

<span data-ttu-id="88f5c-194">Para habilitar o suporte para ajuste de Alto DPI no Modo Misto, você pode definir os seguintes parâmetros [AppContext](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) no arquivo de configuração de aplicativo:</span><span class="sxs-lookup"><span data-stu-id="88f5c-194">To enable support for Mixed-Mode High DPI scaling, you can set the following [AppContext](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) switches the application configuration file:</span></span>

```xml
<runtime>
   <AppContextSwitchOverrides value = "Switch.System.Windows.DoNotScaleForDpiChanges=false; Switch.System.Windows.DoNotUsePresentationDpiCapabilityTier2OrGreater=false"/>
</runtime>
```

<a name="clr48" />

#### <a name="common-language-runtime"></a><span data-ttu-id="88f5c-195">Common Language Runtime</span><span class="sxs-lookup"><span data-stu-id="88f5c-195">Common language runtime</span></span>

<span data-ttu-id="88f5c-196">O tempo de execução no .NET Framework 4.8 inclui as seguintes mudanças e melhorias:</span><span class="sxs-lookup"><span data-stu-id="88f5c-196">The runtime in .NET Framework 4.8 includes the following changes and improvements:</span></span>

<span data-ttu-id="88f5c-197">**Melhorias no compilador JIT**.</span><span class="sxs-lookup"><span data-stu-id="88f5c-197">**Improvements to the JIT compiler**.</span></span> <span data-ttu-id="88f5c-198">O compilador JIT (Just-in-time) no .NET Framework 4.8 baseia-se no compilador JIT do .NET Core 2.1.</span><span class="sxs-lookup"><span data-stu-id="88f5c-198">The Just-in-time (JIT) compiler in .NET Framework 4.8 is based on the JIT compiler in .NET Core 2.1.</span></span> <span data-ttu-id="88f5c-199">Muitas das otimizações e todas as correções de bugs feitas no compilador JIT do .NET Core 2.1 estão inclusas no compilador JIT do .NET Framework 4.8.</span><span class="sxs-lookup"><span data-stu-id="88f5c-199">Many of the optimizations and all of the bug fixes made to the .NET Core 2.1 JIT compiler are included in the .NET Framework 4.8 JIT compiler.</span></span>

<span data-ttu-id="88f5c-200">**Aprimoramentos do NGEN**.</span><span class="sxs-lookup"><span data-stu-id="88f5c-200">**NGEN improvements**.</span></span> <span data-ttu-id="88f5c-201">O tempo de execução melhorou o gerenciamento de memória para imagens NGEN ([Gerador de Imagem Nativa](../tools/ngen-exe-native-image-generator.md)) para que os dados mapeados das imagens NGEN não residam na memória.</span><span class="sxs-lookup"><span data-stu-id="88f5c-201">The runtime has improved its memory management for [Native Image Generator](../tools/ngen-exe-native-image-generator.md) (NGEN) images so that data mapped from NGEN images are not memory-resident.</span></span> <span data-ttu-id="88f5c-202">Isso reduz a área de superfície disponível para ataques que tentam executar código arbitrário modificando a memória a ser executada.</span><span class="sxs-lookup"><span data-stu-id="88f5c-202">This reduces the surface area available to attacks that attempt to execute arbitrary code by modifying memory that will be executed.</span></span>

<span data-ttu-id="88f5c-203">**Verificação antimalware em todos os assemblies**.</span><span class="sxs-lookup"><span data-stu-id="88f5c-203">**Antimalware scanning for all assemblies**.</span></span> <span data-ttu-id="88f5c-204">Em versões anteriores do .NET Framework, o tempo de execução examina todos os assemblies carregados do disco usando o Windows Defender ou software antimalware de terceiros.</span><span class="sxs-lookup"><span data-stu-id="88f5c-204">In previous versions of the .NET Framework, the runtime scans all assemblies loaded from disk using either Windows Defender or third-party antimalware software.</span></span> <span data-ttu-id="88f5c-205">No entanto, os assemblies carregados de outras fontes, como pelo método <xref:System.Reflection.Assembly.Load(System.Byte[])?displayProperty=nameWithType>, não são examinados e podem conter malware não detectado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-205">However, assemblies loaded from other sources, such as by the <xref:System.Reflection.Assembly.Load(System.Byte[])?displayProperty=nameWithType> method, are not scanned and can potentially contain undetected malware.</span></span> <span data-ttu-id="88f5c-206">A partir do .NET Framework 4.8 em execução no Windows 10, o tempo de execução dispara uma verificação por soluções antimalware que implementam a [AMSI (Interface de Verificação Antimalware)](/windows/desktop/AMSI/antimalware-scan-interface-portal).</span><span class="sxs-lookup"><span data-stu-id="88f5c-206">Starting with .NET Framework 4.8 running on Windows 10, the runtime triggers a scan by antimalware solutions that implement the [Antimalware Scan Interface (AMSI)](/windows/desktop/AMSI/antimalware-scan-interface-portal).</span></span>

<a name="v472" />

## <a name="whats-new-in-net-framework-472"></a><span data-ttu-id="88f5c-207">Novidades no .NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="88f5c-207">What's new in .NET Framework 4.7.2</span></span>

<span data-ttu-id="88f5c-208">O .NET Framework 4.7.2 inclui novos recursos nas seguintes áreas:</span><span class="sxs-lookup"><span data-stu-id="88f5c-208">.NET Framework 4.7.2 includes new features in the following areas:</span></span>

- [<span data-ttu-id="88f5c-209">Classes base</span><span class="sxs-lookup"><span data-stu-id="88f5c-209">Base classes</span></span>](#core-472)
- [<span data-ttu-id="88f5c-210">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="88f5c-210">ASP.NET</span></span>](#asp-net472)
- [<span data-ttu-id="88f5c-211">Rede</span><span class="sxs-lookup"><span data-stu-id="88f5c-211">Networking</span></span>](#net472)
- [<span data-ttu-id="88f5c-212">SQL</span><span class="sxs-lookup"><span data-stu-id="88f5c-212">SQL</span></span>](#sql472)
- [<span data-ttu-id="88f5c-213">WPF</span><span class="sxs-lookup"><span data-stu-id="88f5c-213">WPF</span></span>](#wpf472)
- [<span data-ttu-id="88f5c-214">ClickOnce</span><span class="sxs-lookup"><span data-stu-id="88f5c-214">ClickOnce</span></span>](#clickonce)

<span data-ttu-id="88f5c-215">Um dos principais objetivos do .NET Framework 4.7.2 é a melhoria de acessibilidade, que permite a um aplicativo fornecer uma experiência apropriada para os usuários da Tecnologia Assistencial.</span><span class="sxs-lookup"><span data-stu-id="88f5c-215">A continuing focus in .NET Framework 4.7.2 is improved accessibility, which allows an application to provide an appropriate experience for users of Assistive Technology.</span></span> <span data-ttu-id="88f5c-216">Para saber mais sobre melhorias de acessibilidade no .NET Framework 4.7.2,consulte [Novidades de acessibilidade no .NET Framework](whats-new-in-accessibility.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-216">For information on accessibility improvements in .NET Framework 4.7.2, see [What's new in accessibility in the .NET Framework](whats-new-in-accessibility.md).</span></span>

<a name="core-472" />

#### <a name="base-classes"></a><span data-ttu-id="88f5c-217">Classes base</span><span class="sxs-lookup"><span data-stu-id="88f5c-217">Base classes</span></span>

<span data-ttu-id="88f5c-218">O .NET Framework 4.7.2 apresenta um grande número de aperfeiçoamentos de criptografia, melhor suporte à descompactação de arquivos ZIP e APIs de coleção adicionais.</span><span class="sxs-lookup"><span data-stu-id="88f5c-218">.NET Framework 4.7.2 features a large number of cryptographic enhancements, better decompression support for ZIP archives, and additional collection APIs.</span></span>

<span data-ttu-id="88f5c-219">**Novas sobrecargas de RSA.Create e DSA.Create**</span><span class="sxs-lookup"><span data-stu-id="88f5c-219">**New overloads of RSA.Create and DSA.Create**</span></span>

<span data-ttu-id="88f5c-220">Os métodos <xref:System.Security.Cryptography.DSA.Create(System.Security.Cryptography.DSAParameters)?displayProperty=nameWithType> e <xref:System.Security.Cryptography.RSA.Create(System.Security.Cryptography.RSAParameters)?displayProperty=nameWithType> permitem fornecer parâmetros de chave ao instanciar uma nova chave <xref:System.Security.Cryptography.DSA> ou <xref:System.Security.Cryptography.RSA>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-220">The <xref:System.Security.Cryptography.DSA.Create(System.Security.Cryptography.DSAParameters)?displayProperty=nameWithType> and <xref:System.Security.Cryptography.RSA.Create(System.Security.Cryptography.RSAParameters)?displayProperty=nameWithType> methods let you supply key parameters when instantiating a new <xref:System.Security.Cryptography.DSA> or <xref:System.Security.Cryptography.RSA> key.</span></span> <span data-ttu-id="88f5c-221">Elas permitem substituir o código desta forma:</span><span class="sxs-lookup"><span data-stu-id="88f5c-221">They allow you to replace code like the following:</span></span>

```csharp
// Before .NET Framework 4.7.2
using (RSA rsa = RSA.Create())
{
   rsa.ImportParameters(rsaParameters);
   // Other code to execute using the RSA instance.
}
```

```vb
' Before .NET Framework 4.7.2
Using rsa = RSA.Create()
   rsa.ImportParameters(rsaParameters)
   ' Other code to execute using the rsa instance.
End Using
```

<span data-ttu-id="88f5c-222">com este código:</span><span class="sxs-lookup"><span data-stu-id="88f5c-222">with code like this:</span></span>

```csharp
// Starting with .NET Framework 4.7.2
using (RSA rsa = RSA.Create(rsaParameters))
{
   // Other code to execute using the rsa instance.
}
```

```vb
' Starting with .NET Framework 4.7.2
Using rsa = RSA.Create(rsaParameters)
   ' Other code to execute using the rsa instance.
End Using
```

<span data-ttu-id="88f5c-223">Os métodos <xref:System.Security.Cryptography.DSA.Create(System.Int32)?displayProperty=nameWithType> e <xref:System.Security.Cryptography.RSA.Create(System.Int32)?displayProperty=nameWithType> permitem gerar chaves <xref:System.Security.Cryptography.DSA> ou <xref:System.Security.Cryptography.RSA> novas, com um tamanho específico.</span><span class="sxs-lookup"><span data-stu-id="88f5c-223">The <xref:System.Security.Cryptography.DSA.Create(System.Int32)?displayProperty=nameWithType> and <xref:System.Security.Cryptography.RSA.Create(System.Int32)?displayProperty=nameWithType> methods let you generate new <xref:System.Security.Cryptography.DSA> or <xref:System.Security.Cryptography.RSA> keys with a specific key size.</span></span> <span data-ttu-id="88f5c-224">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="88f5c-224">For example:</span></span>

```csharp
using (DSA dsa = DSA.Create(2048))
{
   // Other code to execute using the dsa instance.
}
```

```vb
Using dsa = DSA.Create(2048)
   ' Other code to execute using the dsa instance.
End Using
```

<span data-ttu-id="88f5c-225">**Construtores Rfc2898DeriveBytes aceitam um nome de algoritmo de hash**</span><span class="sxs-lookup"><span data-stu-id="88f5c-225">**Rfc2898DeriveBytes constructors accept a hash algorithm name**</span></span>

<span data-ttu-id="88f5c-226">A classe <xref:System.Security.Cryptography.Rfc2898DeriveBytes> tem três novos construtores com um parâmetro <xref:System.Security.Cryptography.HashAlgorithmName> que identifica o algoritmo HMAC a ser usado na derivação de chaves.</span><span class="sxs-lookup"><span data-stu-id="88f5c-226">The <xref:System.Security.Cryptography.Rfc2898DeriveBytes> class has three new constructors with a <xref:System.Security.Cryptography.HashAlgorithmName> parameter that identifies the HMAC algorithm to use when deriving keys.</span></span> <span data-ttu-id="88f5c-227">Em vez de usar o SHA-1, os desenvolvedores devem usar um HMAC baseado em SHA-2, como o SHA-256, conforme mostrado no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="88f5c-227">Instead of using SHA-1, developers should use a SHA-2-based HMAC like SHA-256, as shown in the following example:</span></span>

```csharp
private static byte[] DeriveKey(string password, out int iterations, out byte[] salt,
                                out HashAlgorithmName algorithm)
{
   iterations = 100000;
   algorithm = HashAlgorithmName.SHA256;

   const int SaltSize = 32;
   const int DerivedValueSize = 32;

   using (Rfc2898DeriveBytes pbkdf2 = new Rfc2898DeriveBytes(password, SaltSize,
                                                             iterations, algorithm))
   {
      salt = pbkdf2.Salt;
      return pbkdf2.GetBytes(DerivedValueSize);
   }
}
```

```vb
Private Shared Function DeriveKey(password As String, ByRef iterations As Integer,
                                  ByRef salt AS Byte(), ByRef algorithm As HashAlgorithmName) As Byte()
   iterations = 100000
   algorithm = HashAlgorithmName.SHA256

   Const SaltSize As Integer = 32
   Const  DerivedValueSize As Integer = 32

   Using pbkdf2 = New Rfc2898DeriveBytes(password, SaltSize, iterations, algorithm)
      salt = pbkdf2.Salt
      Return pbkdf2.GetBytes(DerivedValueSize)
   End Using
End Function
```

<span data-ttu-id="88f5c-228">**Compatibilidade com chaves efêmeras**</span><span class="sxs-lookup"><span data-stu-id="88f5c-228">**Support for ephemeral keys**</span></span>

<span data-ttu-id="88f5c-229">Opcionalmente, a importação PFX pode carregar chave privada direto da memória, ignorando o disco rígido.</span><span class="sxs-lookup"><span data-stu-id="88f5c-229">PFX import can optionally load private keys directly from memory, bypassing the hard drive.</span></span><span data-ttu-id="88f5c-230"> Quando o novo sinalizador <xref:System.Security.Cryptography.X509Certificates.X509KeyStorageFlags.EphemeralKeySet?displayProperty=nameWithType> é especificado em um construtor <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> ou uma das sobrecargas do método <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.Import%2A?displayProperty=nameWithType>, as chaves privadas serão carregadas como chaves efêmeras.</span><span class="sxs-lookup"><span data-stu-id="88f5c-230"> When the new <xref:System.Security.Cryptography.X509Certificates.X509KeyStorageFlags.EphemeralKeySet?displayProperty=nameWithType> flag is specified in an <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> constructor or one of the overloads of the <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.Import%2A?displayProperty=nameWithType> method, the private keys will be loaded as ephemeral keys.</span></span> <span data-ttu-id="88f5c-231">Isso impede as chaves de ficarem visíveis no disco.</span><span class="sxs-lookup"><span data-stu-id="88f5c-231">This prevents the keys from being visible on the disk.</span></span> <span data-ttu-id="88f5c-232">No entanto:</span><span class="sxs-lookup"><span data-stu-id="88f5c-232">However:</span></span>

- <span data-ttu-id="88f5c-233">Como as chaves não são persistidas no disco, os certificados carregados com esse sinalizador não são bons candidatos para serem adicionados a um X509Store.</span><span class="sxs-lookup"><span data-stu-id="88f5c-233">Since the keys are not persisted to disk, certificates loaded with this flag are not good candidates to add to an X509Store.</span></span>

- <span data-ttu-id="88f5c-234">As chaves carregadas dessa maneira são quase sempre carregadas pelo CNG do Windows.</span><span class="sxs-lookup"><span data-stu-id="88f5c-234">Keys loaded in this manner are almost always loaded via Windows CNG.</span></span> <span data-ttu-id="88f5c-235">Portanto, os chamadores precisam acessar a chave privada chamando métodos de extensão, como [cert.GetRSAPrivateKey()](xref:System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPrivateKey%2A).</span><span class="sxs-lookup"><span data-stu-id="88f5c-235">Therefore, callers must access the private key by calling extension methods, such as [cert.GetRSAPrivateKey()](xref:System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPrivateKey%2A).</span></span> <span data-ttu-id="88f5c-236">A propriedade <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.PrivateKey?displayProperty=nameWithType> não funciona.</span><span class="sxs-lookup"><span data-stu-id="88f5c-236">The <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.PrivateKey?displayProperty=nameWithType> property does not function.</span></span>

- <span data-ttu-id="88f5c-237">Como a propriedade herdada <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.PrivateKey?displayProperty=nameWithType> não funciona com certificados, os desenvolvedores precisam executar testes rigorosos antes de alternar para chaves efêmeras.</span><span class="sxs-lookup"><span data-stu-id="88f5c-237">Since the legacy <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.PrivateKey?displayProperty=nameWithType> property does not work with certificates, developers should perform rigorous testing before switching to ephemeral keys.</span></span>

<span data-ttu-id="88f5c-238">**Criação programática de solicitações de assinatura de certificado PKCS#10 e certificados de chave pública X.509**</span><span class="sxs-lookup"><span data-stu-id="88f5c-238">**Programmatic creation of PKCS#10 certification signing requests and X.509 public key certificates**</span></span>

<span data-ttu-id="88f5c-239">A partir do .NET Framework 4.7.2, as cargas de trabalho podem gerar CSRs (solicitações de assinatura de certificado), o que permite que a geração de solicitação de certificados seja realizada nas ferramentas existentes.</span><span class="sxs-lookup"><span data-stu-id="88f5c-239">Starting with .NET Framework 4.7.2, workloads can generate certificate signing requests (CSRs), which allows certificate request generation to be staged into existing tooling.</span></span> <span data-ttu-id="88f5c-240">Frequentemente, isso é útil em cenários de teste.</span><span class="sxs-lookup"><span data-stu-id="88f5c-240">This is frequently useful in test scenarios.</span></span>

<span data-ttu-id="88f5c-241">Para saber mais e obter exemplos de código, veja "Criação programática de solicitações de assinatura de certificado PKCS#10 e certificados de chave pública X.509" no [Blog do .NET](https://devblogs.microsoft.com/dotnet/net-framework-4-7-2-developer-pack-early-access-build-3056-is-available/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-241">For more information and code examples, see "Programmatic creation of PKCS#10 certification signing requests and X.509 public key certificates" in the [.NET Blog](https://devblogs.microsoft.com/dotnet/net-framework-4-7-2-developer-pack-early-access-build-3056-is-available/).</span></span>

<span data-ttu-id="88f5c-242">**Novos membros do SignerInfo**</span><span class="sxs-lookup"><span data-stu-id="88f5c-242">**New SignerInfo members**</span></span>

<span data-ttu-id="88f5c-243">A partir do .NET Framework 4.7.2, a classe <xref:System.Security.Cryptography.Pkcs.SignerInfo> expõe mais informações sobre a assinatura.</span><span class="sxs-lookup"><span data-stu-id="88f5c-243">Starting with .NET Framework 4.7.2, the <xref:System.Security.Cryptography.Pkcs.SignerInfo> class exposes more information about the signature.</span></span> <span data-ttu-id="88f5c-244">É possível recuperar o valor da propriedade <xref:System.Security.Cryptography.Pkcs.SignerInfo.SignatureAlgorithm?displayProperty=fullName> para determinar o algoritmo de assinatura usado pelo signatário.</span><span class="sxs-lookup"><span data-stu-id="88f5c-244">You can retrieve the value of the <xref:System.Security.Cryptography.Pkcs.SignerInfo.SignatureAlgorithm?displayProperty=fullName> property to determine the signature algorithm used by the signer.</span></span> <span data-ttu-id="88f5c-245"><xref:System.Security.Cryptography.Pkcs.SignerInfo.GetSignature%2A?displayProperty=nameWithType> pode ser chamado para obter uma cópia da assinatura de criptografia desse signatário.</span><span class="sxs-lookup"><span data-stu-id="88f5c-245"><xref:System.Security.Cryptography.Pkcs.SignerInfo.GetSignature%2A?displayProperty=nameWithType> can be called to get a copy of the cryptographic signature for this signer.</span></span>

<span data-ttu-id="88f5c-246">**Deixar um fluxo encapsulado aberto depois de descartar CryptoStream**</span><span class="sxs-lookup"><span data-stu-id="88f5c-246">**Leaving a wrapped stream open after CryptoStream is disposed**</span></span>

<span data-ttu-id="88f5c-247">A partir do .NET Framework 4.7.2, a classe <xref:System.Security.Cryptography.CryptoStream> tem um construtor adicional que permite que <xref:System.Security.Cryptography.CryptoStream.Dispose%2A> não feche o fluxo encapsulado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-247">Starting with .NET Framework 4.7.2, the <xref:System.Security.Cryptography.CryptoStream> class has an additional constructor that allows <xref:System.Security.Cryptography.CryptoStream.Dispose%2A> to not close the wrapped stream.</span></span><span data-ttu-id="88f5c-248"> Para manter o fluxo encapsulado aberto após o descarte da instância <xref:System.Security.Cryptography.CryptoStream>, chame o novo construtor <xref:System.Security.Cryptography.CryptoStream> da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="88f5c-248"> To leave the wrapped stream open after the <xref:System.Security.Cryptography.CryptoStream> instance is disposed, call the new <xref:System.Security.Cryptography.CryptoStream> constructor as follows:</span></span>

```csharp
var cStream = new CryptoStream(stream, transform, mode, leaveOpen: true);
```

```vb
Dim cStream = New CryptoStream(stream, transform, mode, leaveOpen:=true)
```

<span data-ttu-id="88f5c-249">**Alterações de descompactação em DeflateStream**</span><span class="sxs-lookup"><span data-stu-id="88f5c-249">**Decompression changes in DeflateStream**</span></span>

<span data-ttu-id="88f5c-250">A partir do .NET Framework 4.7.2, a implementação de operações de descompactação na classe <xref:System.IO.Compression.DeflateStream> foi alterada para usar APIs nativas do Windows por padrão.</span><span class="sxs-lookup"><span data-stu-id="88f5c-250">Starting with .NET Framework 4.7.2, the implementation of decompression operations in the <xref:System.IO.Compression.DeflateStream> class has changed to use native Windows APIs by default.</span></span> <span data-ttu-id="88f5c-251">Normalmente, isso resulta em uma melhoria significativa de desempenho.</span><span class="sxs-lookup"><span data-stu-id="88f5c-251">Typically, this results in a substantial performance improvement.</span></span>

<span data-ttu-id="88f5c-252">A compatibilidade para descompactação por meio das APIs do Windows está habilitada por padrão em aplicativos direcionados ao .NET Framework 4.7.2.</span><span class="sxs-lookup"><span data-stu-id="88f5c-252">Support for decompression by using Windows APIs is enabled by default for applications that target .NET Framework 4.7.2.</span></span> <span data-ttu-id="88f5c-253">Os aplicativos direcionados a versões anteriores do .NET Framework, mas que são executados no .NET Framework 4.7.2 podem aceitar esse comportamento adicionando a [opção AppContext](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) ao arquivo de configuração de aplicativo:</span><span class="sxs-lookup"><span data-stu-id="88f5c-253">Applications that target earlier versions of .NET Framework but are running under .NET Framework 4.7.2 can opt into this behavior by adding the following [AppContext switch](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) to the application configuration file:</span></span>

```xml
<AppContextSwitchOverrides value="Switch.System.IO.Compression.DoNotUseNativeZipLibraryForDecompression=false" />
```

<span data-ttu-id="88f5c-254">**APIs de coleção adicionais**</span><span class="sxs-lookup"><span data-stu-id="88f5c-254">**Additional collection APIs**</span></span>

<span data-ttu-id="88f5c-255">O .NET Framework 4.7.2 adiciona uma série de novas APIs aos tipos <xref:System.Collections.Generic.SortedSet%601> e <xref:System.Collections.Generic.HashSet%601>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-255">.NET Framework 4.7.2 adds a number of new APIs to the <xref:System.Collections.Generic.SortedSet%601> and <xref:System.Collections.Generic.HashSet%601> types.</span></span> <span data-ttu-id="88f5c-256">Elas incluem:</span><span class="sxs-lookup"><span data-stu-id="88f5c-256">These include:</span></span>

- <span data-ttu-id="88f5c-257">métodos `TryGetValue`, o que estende o padrão try usado em outros tipos de coleção.</span><span class="sxs-lookup"><span data-stu-id="88f5c-257">`TryGetValue` methods, which extend the try pattern used in other collection types to these two types.</span></span> <span data-ttu-id="88f5c-258">Os métodos são:</span><span class="sxs-lookup"><span data-stu-id="88f5c-258">The methods are:</span></span>

   - [<span data-ttu-id="88f5c-259">public bool HashSet\<T>.TryGetValue(T equalValue, out T actualValue)</span><span class="sxs-lookup"><span data-stu-id="88f5c-259">public bool HashSet\<T>.TryGetValue(T equalValue, out T actualValue)</span></span>](xref:System.Collections.Generic.SortedSet%601.TryGetValue%2A)
   - [<span data-ttu-id="88f5c-260">public bool SortedSet\<T>.TryGetValue(T equalValue, out T actualValue)</span><span class="sxs-lookup"><span data-stu-id="88f5c-260">public bool SortedSet\<T>.TryGetValue(T equalValue, out T actualValue)</span></span>](xref:System.Collections.Generic.SortedSet%601.TryGetValue%2A)

- <span data-ttu-id="88f5c-261">Métodos de extensão `Enumerable.To*`, o que converte uma coleção em <xref:System.Collections.Generic.HashSet%601>:</span><span class="sxs-lookup"><span data-stu-id="88f5c-261">`Enumerable.To*` extension methods, which convert a collection to a <xref:System.Collections.Generic.HashSet%601>:</span></span>

   - [<span data-ttu-id="88f5c-262">public static HashSet\<TSource> ToHashSet\<TSource>(this IEnumerable\<TSource> source)</span><span class="sxs-lookup"><span data-stu-id="88f5c-262">public static HashSet\<TSource> ToHashSet\<TSource>(this IEnumerable\<TSource> source)</span></span>](xref:System.Linq.Enumerable.ToHashSet%2A)
   - [<span data-ttu-id="88f5c-263">public static HashSet\<TSource> ToHashSet\<TSource>(this IEnumerable\<TSource> source, IEqualityComparer\<TSource> comparer)</span><span class="sxs-lookup"><span data-stu-id="88f5c-263">public static HashSet\<TSource> ToHashSet\<TSource>(this IEnumerable\<TSource> source, IEqualityComparer\<TSource> comparer)</span></span>](xref:System.Linq.Enumerable.ToHashSet%2A)

- <span data-ttu-id="88f5c-264">Novos construtores <xref:System.Collections.Generic.HashSet%601> que permitem definir a capacidade da coleção, o que gera um benefício de desempenho quando o tamanho de <xref:System.Collections.Generic.HashSet%601> é conhecido com antecedência:</span><span class="sxs-lookup"><span data-stu-id="88f5c-264">New <xref:System.Collections.Generic.HashSet%601> constructors that let you set the collection's capacity, which yields a performance benefit when you know the size of the <xref:System.Collections.Generic.HashSet%601> in advance:</span></span>

   - <span data-ttu-id="88f5c-265">[HashSet(int capacity) público](xref:System.Collections.Generic.HashSet%601.%23ctor(System.Int32))</span><span class="sxs-lookup"><span data-stu-id="88f5c-265">[public HashSet(int capacity)](xref:System.Collections.Generic.HashSet%601.%23ctor(System.Int32))</span></span>
   - <span data-ttu-id="88f5c-266">[HashSet público (capacity de int, IEqualityComparer\<T> comparador)](xref:System.Collections.Generic.HashSet%601.%23ctor(System.Int32,System.Collections.Generic.IEqualityComparer%7B%600%7D))</span><span class="sxs-lookup"><span data-stu-id="88f5c-266">[public HashSet(int capacity, IEqualityComparer\<T> comparer)](xref:System.Collections.Generic.HashSet%601.%23ctor(System.Int32,System.Collections.Generic.IEqualityComparer%7B%600%7D))</span></span>

<span data-ttu-id="88f5c-267">A classe <xref:System.Collections.Concurrent.ConcurrentDictionary%602> inclui novas sobrecargas dos métodos <xref:System.Collections.Concurrent.ConcurrentDictionary%602.AddOrUpdate%2A> e <xref:System.Collections.Concurrent.ConcurrentDictionary%602.GetOrAdd%2A> para recuperar um valor do dicionário ou adicioná-lo caso ele não seja encontrado e para adicionar um valor ao dicionário ou atualizá-lo caso ele já exista.</span><span class="sxs-lookup"><span data-stu-id="88f5c-267">The <xref:System.Collections.Concurrent.ConcurrentDictionary%602> class includes new overloads of the <xref:System.Collections.Concurrent.ConcurrentDictionary%602.AddOrUpdate%2A> and <xref:System.Collections.Concurrent.ConcurrentDictionary%602.GetOrAdd%2A> methods to retrieve a value from the dictionary or to add it if it is not found, and to add a value to the dictionary or to update it if it already exists.</span></span>

```csharp
public TValue AddOrUpdate<TArg>(TKey key, Func<TKey, TArg, TValue> addValueFactory, Func<TKey, TValue, TArg, TValue> updateValueFactory, TArg factoryArgument)

public TValue GetOrAdd<TArg>(TKey key, Func<TKey, TArg, TValue> valueFactory, TArg factoryArgument)
```

```vb
Public AddOrUpdate(Of TArg)(key As TKey, addValueFactory As Func(Of TKey, TArg, TValue), updateValueFactory As Func(Of TKey, TValue, TArg, TValue), factoryArgument As TArg) As TValue

Public GetOrAdd(Of TArg)(key As TKey, valueFactory As Func(Of TKey, TArg, TValue), factoryArgument As TArg) As TValue
```

<a name="asp-net472" />

#### <a name="aspnet"></a><span data-ttu-id="88f5c-268">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="88f5c-268">ASP.NET</span></span>

<span data-ttu-id="88f5c-269">**Compatibilidade com injeção de dependência no Web Forms**</span><span class="sxs-lookup"><span data-stu-id="88f5c-269">**Support for dependency injection in Web Forms**</span></span>

<span data-ttu-id="88f5c-270">A [DI (injeção de dependência)](/aspnet/core/fundamentals/dependency-injection#overview-of-dependency-injection) separa os objetos de suas dependências para que o código do objeto não precise mais ser alterado somente porque uma dependência foi modificada.</span><span class="sxs-lookup"><span data-stu-id="88f5c-270">[Dependency injection (DI)](/aspnet/core/fundamentals/dependency-injection#overview-of-dependency-injection) decouples objects and their dependencies so that an object's code no longer needs to be changed just because a dependency has changed.</span></span> <span data-ttu-id="88f5c-271">Ao desenvolver aplicativos ASP.NET direcionados para o .NET Framework 4.7.2, é possível:</span><span class="sxs-lookup"><span data-stu-id="88f5c-271">When developing ASP.NET applications that target .NET Framework 4.7.2, you can:</span></span>

- <span data-ttu-id="88f5c-272">Use uma injeção baseada em setter, interfaces e construtores nos [manipuladores e módulos](https://docs.microsoft.com/previous-versions/aspnet/bb398986(v=vs.100)), [instâncias Página](xref:System.Web.UI.Page) e [controles de usuário](https://docs.microsoft.com/previous-versions/aspnet/y6wb1a0e(v=vs.100)) de projetos de aplicativo Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="88f5c-272">Use setter-based, interface-based, and constructor-based injection in [handlers and modules](https://docs.microsoft.com/previous-versions/aspnet/bb398986(v=vs.100)), [Page instances](xref:System.Web.UI.Page), and [user controls](https://docs.microsoft.com/previous-versions/aspnet/y6wb1a0e(v=vs.100)) of ASP.NET web application projects.</span></span>

- <span data-ttu-id="88f5c-273">Use uma injeção baseada em setter e interface nos [manipuladores e módulos](https://docs.microsoft.com/previous-versions/aspnet/bb398986(v=vs.100)), [instâncias Página](xref:System.Web.UI.Page) e [controles de usuário](https://docs.microsoft.com/previous-versions/aspnet/y6wb1a0e(v=vs.100)) de projetos de site da Web do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="88f5c-273">Use setter-based and interface-based injection in [handlers and modules](https://docs.microsoft.com/previous-versions/aspnet/bb398986(v=vs.100)), [Page instances](xref:System.Web.UI.Page), and [user controls](https://docs.microsoft.com/previous-versions/aspnet/y6wb1a0e(v=vs.100)) of ASP.NET web site projects.</span></span>

- <span data-ttu-id="88f5c-274">Conecte estruturas de injeção de dependência diferentes.</span><span class="sxs-lookup"><span data-stu-id="88f5c-274">Plug in different dependency injection frameworks.</span></span>

<span data-ttu-id="88f5c-275">**Compatibilidade com cookies do mesmo site**</span><span class="sxs-lookup"><span data-stu-id="88f5c-275">**Support for same-site cookies**</span></span>

<span data-ttu-id="88f5c-276">O [SameSite](https://tools.ietf.org/html/draft-west-first-party-cookies-07) impede que o navegador envie um cookie junto com a solicitação entre sites.</span><span class="sxs-lookup"><span data-stu-id="88f5c-276">[SameSite](https://tools.ietf.org/html/draft-west-first-party-cookies-07) prevents a browser from sending a cookie along with a cross-site request.</span></span> <span data-ttu-id="88f5c-277">O .NET Framework 4.7.2 adiciona uma propriedade <xref:System.Web.HttpCookie.SameSite?displayProperty=nameWithType> cujo valor é um membro da enumeração <xref:System.Web.SameSiteMode?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-277">.NET Framework 4.7.2 adds a <xref:System.Web.HttpCookie.SameSite?displayProperty=nameWithType> property whose value is a <xref:System.Web.SameSiteMode?displayProperty=nameWithType> enumeration member.</span></span> <span data-ttu-id="88f5c-278">Se o valor for <xref:System.Web.SameSiteMode.Strict?displayProperty=nameWithType> ou <xref:System.Web.SameSiteMode.Lax?displayProperty=nameWithType>, o ASP.NET adicionará o atributo `SameSite` ao cabeçalho set-cookie.</span><span class="sxs-lookup"><span data-stu-id="88f5c-278">If its value is <xref:System.Web.SameSiteMode.Strict?displayProperty=nameWithType> or <xref:System.Web.SameSiteMode.Lax?displayProperty=nameWithType>, ASP.NET adds the `SameSite` attribute to the set-cookie header.</span></span> <span data-ttu-id="88f5c-279">A compatibilidade com o SameSite se aplica aos objetos <xref:System.Web.HttpCookie>, bem como aos cookies <xref:System.Web.Security.FormsAuthentication> e <xref:System.Web.SessionState>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-279">SameSite support applies to <xref:System.Web.HttpCookie> objects, as well as to <xref:System.Web.Security.FormsAuthentication> and <xref:System.Web.SessionState> cookies.</span></span>

<span data-ttu-id="88f5c-280">É possível definir o SameSite para um objeto <xref:System.Web.HttpCookie> da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="88f5c-280">You can set SameSite for an <xref:System.Web.HttpCookie> object as follows:</span></span>

```csharp
var c = new HttpCookie("secureCookie", "same origin");
c.SameSite = SameSiteMode.Lax;
```

```vb
Dim c As New HttpCookie("secureCookie", "same origin")
c.SameSite = SameSiteMode.Lax
```

<span data-ttu-id="88f5c-281">Também é possível configurar cookies SameSite no nível do aplicativo modificando o arquivo web.config:</span><span class="sxs-lookup"><span data-stu-id="88f5c-281">You can also configure SameSite cookies at the application level by modifying the web.config file:</span></span>

```xml
<system.web>
   <httpCookies sameSite="Strict" />
</system.web>
```

<span data-ttu-id="88f5c-282">É possível adicionar SameSite a cookies <xref:System.Web.Security.FormsAuthentication> e <xref:System.Web.SessionState> modificando o arquivo de configuração Web:</span><span class="sxs-lookup"><span data-stu-id="88f5c-282">You can add SameSite for <xref:System.Web.Security.FormsAuthentication> and <xref:System.Web.SessionState> cookies by modifying the web config file:</span></span>

```xml
<system.web>
   <authentication mode="Forms">
      <forms cookieSameSite="Lax">
         <!-- ...   -->
      </forms>
   <authentication />
   <sessionSate cookieSameSite="Lax"></sessionState>
</system.web>
```

<a name="net472" />

#### <a name="networking"></a><span data-ttu-id="88f5c-283">Rede</span><span class="sxs-lookup"><span data-stu-id="88f5c-283">Networking</span></span>

<span data-ttu-id="88f5c-284">**Implementação de propriedades HttpClientHandler**</span><span class="sxs-lookup"><span data-stu-id="88f5c-284">**Implementation of HttpClientHandler properties**</span></span>

<span data-ttu-id="88f5c-285">O .NET Framework 4.7.1 adicionou oito propriedades à classe <xref:System.Net.Http.HttpClientHandler?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-285">.NET Framework 4.7.1 added eight properties to the <xref:System.Net.Http.HttpClientHandler?displayProperty=nameWithType> class.</span></span> <span data-ttu-id="88f5c-286">No entanto, duas geraram um <xref:System.PlatformNotSupportedException>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-286">However, two threw a <xref:System.PlatformNotSupportedException>.</span></span> <span data-ttu-id="88f5c-287">Agora, o .NET Framework 4.7.2 fornece uma implementação dessas propriedades.</span><span class="sxs-lookup"><span data-stu-id="88f5c-287">.NET Framework 4.7.2 now provides an implementation for these properties.</span></span> <span data-ttu-id="88f5c-288">As propriedades são:</span><span class="sxs-lookup"><span data-stu-id="88f5c-288">The properties are:</span></span>

- <xref:System.Net.Http.HttpClientHandler.CheckCertificateRevocationList>
- <xref:System.Net.Http.HttpClientHandler.SslProtocols>

<a name="sql472" />

#### <a name="sqlclient"></a><span data-ttu-id="88f5c-289">SQLClient</span><span class="sxs-lookup"><span data-stu-id="88f5c-289">SQLClient</span></span>

<span data-ttu-id="88f5c-290">**Compatibilidade com a Autenticação Universal e Autenticação Multifator do Azure Active Directory**</span><span class="sxs-lookup"><span data-stu-id="88f5c-290">**Support for Azure Active Directory Universal Authentication and Multi-Factor authentication**</span></span>

<span data-ttu-id="88f5c-291">Demandas crescente de conformidade e segurança exigem que muitos clientes usem a MFA (autenticação multifator).</span><span class="sxs-lookup"><span data-stu-id="88f5c-291">Growing compliance and security demands require that many customers use multi-factor authentication (MFA).</span></span> <span data-ttu-id="88f5c-292">Além disso, as melhores práticas atuais não incentivam a inclusão de senhas do usuário diretamente em cadeias de conexão.</span><span class="sxs-lookup"><span data-stu-id="88f5c-292">In addition, current best practices discourage including user passwords directly in connection strings.</span></span> <span data-ttu-id="88f5c-293">Para dar suporte a essas alterações, o .NET Framework 4.7.2 estende as [cadeias de conexão SQLClient](xref:System.Data.SqlClient.SqlConnection.ConnectionString) adicionando um novo valor, "Active Directory Interactive", à palavra-chave "Authentication" existente, para ser compatível com a MFA e a [Autenticação do Azure Active Directory](/azure/sql-database/sql-database-aad-authentication-configure).</span><span class="sxs-lookup"><span data-stu-id="88f5c-293">To support these changes, .NET Framework 4.7.2 extends [SQLClient connection strings](xref:System.Data.SqlClient.SqlConnection.ConnectionString) by adding a new value, "Active Directory Interactive", for the existing "Authentication" keyword to support MFA and [Azure AD Authentication](/azure/sql-database/sql-database-aad-authentication-configure).</span></span> <span data-ttu-id="88f5c-294">O novo método interativo é compatível com usuários nativos e federados do Azure AD, bem como os usuários convidados do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="88f5c-294">The new interactive method supports native and federated Azure AD users as well as Azure AD guest users.</span></span> <span data-ttu-id="88f5c-295">Quando esse método é usado, a MFA imposta pelo Azure AD é compatível com bancos de dados SQL.</span><span class="sxs-lookup"><span data-stu-id="88f5c-295">When this method is used, the MFA authentication imposed by Azure AD is supported for SQL databases.</span></span> <span data-ttu-id="88f5c-296">Além disso, o processo de autenticação solicita uma senha de usuário para aderir às melhores práticas de segurança.</span><span class="sxs-lookup"><span data-stu-id="88f5c-296">In addition, the authentication process requests a user password to adhere to security best practices.</span></span>

<span data-ttu-id="88f5c-297">Em versões anteriores do .NET Framework, conectividade SQL é compatível apenas com as opções <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryPassword?displayProperty=nameWithType> e <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryIntegrated?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-297">In previous versions of the .NET Framework, SQL connectivity supported only the <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryPassword?displayProperty=nameWithType> and <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryIntegrated?displayProperty=nameWithType> options.</span></span> <span data-ttu-id="88f5c-298">Ambos são parte do [protocolo ADAL](/azure/active-directory/develop/active-directory-authentication-libraries) não interativo, que não é compatível com o MFA.</span><span class="sxs-lookup"><span data-stu-id="88f5c-298">Both of these are part of the non-interactive [ADAL protocol](/azure/active-directory/develop/active-directory-authentication-libraries), which does not support MFA.</span></span> <span data-ttu-id="88f5c-299">Com a nova opção <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryInteractive?displayProperty=nameWithType>, a conectividade SQL é compatível com a MFA, bem como com métodos de autenticação existentes (senha e autenticação integrada), o que permite que os usuários insiram senhas de forma interativa, sem persistir senhas na cadeia de conexão.</span><span class="sxs-lookup"><span data-stu-id="88f5c-299">With the new <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryInteractive?displayProperty=nameWithType> option, SQL connectivity supports MFA as well as existing authentication methods (password and integrated authentication), which allows users to enter user passwords interactively without persisting passwords in the connection string.</span></span>

<span data-ttu-id="88f5c-300">Para obter mais informações e um exemplo, veja "Suporte Universal e de Autenticação Multifator para SQL – Azure AD", no [Blog do .NET](https://devblogs.microsoft.com/dotnet/net-framework-4-7-2-developer-pack-early-access-build-3056-is-available/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-300">For more information and an example, see "SQL -- Azure AD Universal and Multi-factor Authentication Support" in the [.NET Blog](https://devblogs.microsoft.com/dotnet/net-framework-4-7-2-developer-pack-early-access-build-3056-is-available/).</span></span>

<span data-ttu-id="88f5c-301">**Compatibilidade com a versão 2 do Always Encrypted**</span><span class="sxs-lookup"><span data-stu-id="88f5c-301">**Support for Always Encrypted version 2**</span></span>

<span data-ttu-id="88f5c-302">O NET Framework 4.7.2 acrescenta suporte para o Always Encrypted com base em enclave.</span><span class="sxs-lookup"><span data-stu-id="88f5c-302">NET Framework 4.7.2 adds supports for enclave-based Always Encrypted.</span></span> <span data-ttu-id="88f5c-303">A versão original do Always Encrypted é uma tecnologia de criptografia do lado do cliente em que as chaves de criptografia nunca deixam o cliente.</span><span class="sxs-lookup"><span data-stu-id="88f5c-303">The original version of Always Encrypted is a client-side encryption technology in which encryption keys never leave the client.</span></span> <span data-ttu-id="88f5c-304">No Always Encrypted com base em enclave, o cliente tem a opção de enviar as chaves de criptografia para um enclave seguro, que é uma entidade computacional segura que pode ser considerada parte do SQL Server, mas que o código do SQL Server não pode modificar.</span><span class="sxs-lookup"><span data-stu-id="88f5c-304">In enclave-based Always Encrypted, the client can optionally send the encryption keys to a secure enclave, which is a secure computational entity that can be considered part of SQL Server but that SQL Server code cannot tamper with.</span></span> <span data-ttu-id="88f5c-305">Para ser compatível com o Always Encrypted com base em enclave, o .NET Framework 4.7.2 acrescenta os seguintes tipos e membros ao namespace <xref:System.Data.SqlClient>:</span><span class="sxs-lookup"><span data-stu-id="88f5c-305">To support enclave-based Always Encrypted, .NET Framework 4.7.2 adds the following types and members to the <xref:System.Data.SqlClient> namespace:</span></span>

- <span data-ttu-id="88f5c-306"><xref:System.Data.SqlClient.SqlConnectionStringBuilder.EnclaveAttestationUrl?displayProperty=nameWithType>, que especifica o URI para o Always Encrypted com base em enclave.</span><span class="sxs-lookup"><span data-stu-id="88f5c-306"><xref:System.Data.SqlClient.SqlConnectionStringBuilder.EnclaveAttestationUrl?displayProperty=nameWithType>, which specifies the Uri for enclave-based Always Encrypted.</span></span>

- <span data-ttu-id="88f5c-307"><xref:System.Data.SqlClient.SqlColumnEncryptionEnclaveProvider>, que é uma classe abstrata da qual todos os provedores de enclave são derivados.</span><span class="sxs-lookup"><span data-stu-id="88f5c-307"><xref:System.Data.SqlClient.SqlColumnEncryptionEnclaveProvider>, which is an abstract class from which all enclave providers are derived.</span></span>

- <span data-ttu-id="88f5c-308"><xref:System.Data.SqlClient.SqlEnclaveSession>, que encapsula o estado de uma determinada sessão de enclave.</span><span class="sxs-lookup"><span data-stu-id="88f5c-308"><xref:System.Data.SqlClient.SqlEnclaveSession>, which encapsulates the state for a given enclave session.</span></span>

- <span data-ttu-id="88f5c-309"><xref:System.Data.SqlClient.SqlEnclaveAttestationParameters>, que fornece os parâmetros de atestado usados pelo SQL Server para obter as informações necessárias para executar um determinado Protocolo de Atestado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-309"><xref:System.Data.SqlClient.SqlEnclaveAttestationParameters>, which provides the attestation parameters used by SQL Server to get information required to execute a particular Attestation Protocol.</span></span>

<span data-ttu-id="88f5c-310">O arquivo de configuração de aplicativo, em seguida, especifica uma implementação concreta da classe abstrata <xref:System.Data.SqlClient.SqlColumnEncryptionEnclaveProvider?displayProperty=nameWithType> que fornece a funcionalidade para o provedor de enclave.</span><span class="sxs-lookup"><span data-stu-id="88f5c-310">The application configuration file then specifies a concrete implementation of the abstract <xref:System.Data.SqlClient.SqlColumnEncryptionEnclaveProvider?displayProperty=nameWithType> class that provides the functionality for the enclave provider.</span></span> <span data-ttu-id="88f5c-311">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="88f5c-311">For example:</span></span>

```xml
<configuration>
  <configSections>
    <section name="SqlColumnEncryptionEnclaveProviders" type="System.Data.SqlClient.SqlColumnEncryptionEnclaveProviderConfigurationSection,System.Data,Version=4.0.0.0,Culture=neutral,PublicKeyToken=b77a5c561934e089"/> 
  </configSections>
  <SqlColumnEncryptionEnclaveProviders>
    <providers>
      <add name="Azure" type="Microsoft.SqlServer.Management.AlwaysEncrypted.AzureEnclaveProvider,MyApp"/>
      <add name="HGS" type="Microsoft.SqlServer.Management.AlwaysEncrypted.HGSEnclaveProvider,MyApp" />
    </providers>
  </SqlColumnEncryptionEnclaveProviders >
</configuration>
```

<span data-ttu-id="88f5c-312">O fluxo básico do Always Encrypted com base em enclave é:</span><span class="sxs-lookup"><span data-stu-id="88f5c-312">The basic flow of enclave-based Always Encrypted is:</span></span>

1. <span data-ttu-id="88f5c-313">O usuário cria uma conexão do AlwaysEncrypted com o SQL Server compatível com o Always Encrypted com base em enclave.</span><span class="sxs-lookup"><span data-stu-id="88f5c-313">The user creates an AlwaysEncrypted connection to SQL Server that supported enclave-based Always Encrypted.</span></span> <span data-ttu-id="88f5c-314">O driver entra em contato com o serviço de atestado para garantir que ele está se conectando ao enclave correto.</span><span class="sxs-lookup"><span data-stu-id="88f5c-314">The driver contacts the attestation service to ensure that it is connecting to right enclave.</span></span>

1. <span data-ttu-id="88f5c-315">Depois da confirmação do enclave, o driver estabelece um canal seguro com o enclave seguro hospedado no SQL Server.</span><span class="sxs-lookup"><span data-stu-id="88f5c-315">Once the enclave has been attested, the driver establishes a secure channel with the secure enclave hosted on SQL Server.</span></span>

1. <span data-ttu-id="88f5c-316">O driver compartilha as chaves de criptografia autorizadas pelo cliente com o enclave seguro durante a conexão do SQL.</span><span class="sxs-lookup"><span data-stu-id="88f5c-316">The driver shares encryption keys authorized by the client with the secure enclave for the duration of the SQL connection.</span></span>

<a name="wpf472" />

#### <a name="windows-presentation-foundation"></a><span data-ttu-id="88f5c-317">Windows Presentation Foundation</span><span class="sxs-lookup"><span data-stu-id="88f5c-317">Windows Presentation Foundation</span></span>

<span data-ttu-id="88f5c-318">**Localizar ResourceDictionaries por origem**</span><span class="sxs-lookup"><span data-stu-id="88f5c-318">**Finding ResourceDictionaries by Source**</span></span>

<span data-ttu-id="88f5c-319">A partir do .NET Framework 4.7.2, um assistente de diagnóstico pode localizar o  <xref:System.Windows.Xps.Packaging.IXpsFixedPageReader.ResourceDictionaries> criado de um determinado URI de origem.</span><span class="sxs-lookup"><span data-stu-id="88f5c-319">Starting with .NET Framework 4.7.2, a diagnostic assistant can locate the <xref:System.Windows.Xps.Packaging.IXpsFixedPageReader.ResourceDictionaries> that have been created from a given source Uri.</span></span><span data-ttu-id="88f5c-320"> (Esse recurso é para o uso de assistentes de diagnóstico, e não por aplicativos de produção.) Um assistente de diagnóstico como o recurso "Editar e continuar" do Visual Studio permite ao usuário editar um ResourceDictionary com a intenção de que as alterações sejam aplicadas ao aplicativo em execução.</span><span class="sxs-lookup"><span data-stu-id="88f5c-320"> (This feature is for use by diagnostic assistants, not by production applications.) A diagnostic assistant such as Visual Studio’s “Edit-and-Continue” facility lets its user edit a ResourceDictionary with the intent that the changes be applied to the running application.</span></span> <span data-ttu-id="88f5c-321">Uma etapa para conseguir isso é localizar todos os ResourceDictionaries que o aplicativo em execução criou com base no dicionário que está sendo editado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-321">One step in achieving this is finding all the ResourceDictionaries that the running application has created from the dictionary that’s being edited.</span></span> <span data-ttu-id="88f5c-322">Por exemplo, um aplicativo pode declarar um ResourceDictionary cujo conteúdo é copiado de um determinado URI de origem:</span><span class="sxs-lookup"><span data-stu-id="88f5c-322">For example, an application can declare a ResourceDictionary whose content is copied from a given source URI:</span></span>

```xml
<ResourceDictionary Source="MyRD.xaml">
```

<span data-ttu-id="88f5c-323">Um assistente de diagnóstico que edita a marcação original em *MyRD.xaml*  pode usar o novo recurso para localizar o dicionário.</span><span class="sxs-lookup"><span data-stu-id="88f5c-323">A diagnostic assistant that edits the original markup in *MyRD.xaml* can use the new feature to locate the dictionary.</span></span><span data-ttu-id="88f5c-324"> O recurso é implementado por um novo método estático, <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.GetResourceDictionariesForSource%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-324"> The feature is implemented by a new static method, <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.GetResourceDictionariesForSource%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="88f5c-325">O assistente de diagnóstico chama o novo método usando um URI absoluto que identifica a marcação original, conforme ilustrado pelo código a seguir:</span><span class="sxs-lookup"><span data-stu-id="88f5c-325">The diagnostic assistant calls the new method using an absolute Uri that identifies the original markup, as illustrated by the following code:</span></span>

```csharp
IEnumerable<ResourceDictionary> dictionaries = ResourceDictionaryDiagnostics.GetResourceDictionariesForSource(new Uri("pack://application:,,,/MyApp;component/MyRD.xaml"));
```

```vb
Dim dictionaries As IEnumerable(Of ResourceDictionary) = ResourceDictionaryDiagnostics.GetResourceDictionariesForSource(New Uri("pack://application:,,,/MyApp;component/MyRD.xaml"))
```

<span data-ttu-id="88f5c-326">O método retornará um enumerável vazio, a menos que  <xref:System.Windows.Diagnostics.VisualDiagnostics> esteja habilitado e a variável de ambiente [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A)  esteja definida.</span><span class="sxs-lookup"><span data-stu-id="88f5c-326">The method returns an empty enumerable unless <xref:System.Windows.Diagnostics.VisualDiagnostics> is enabled and the [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) environment variable is set.</span></span>

<span data-ttu-id="88f5c-327">**Localizar os proprietários de ResourceDictionary**</span><span class="sxs-lookup"><span data-stu-id="88f5c-327">**Finding ResourceDictionary owners**</span></span>

<span data-ttu-id="88f5c-328">A partir do .NET Framework 4.7.2, um assistente de diagnóstico pode localizar os proprietários de um determinado <xref:Windows.UI.Xaml.ResourceDictionary>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-328">Starting with .NET Framework 4.7.2, a diagnostic assistant can locate the owners of a given <xref:Windows.UI.Xaml.ResourceDictionary>.</span></span><span data-ttu-id="88f5c-329"> O recurso é para o uso de assistentes de diagnóstico, e não por aplicativos de produção. Sempre que uma alteração for feita em um <xref:Windows.UI.Xaml.ResourceDictionary>, o WPF encontra automaticamente todos as referências [DynamicResource](../wpf/advanced/dynamicresource-markup-extension.md) que podem ser afetadas pela alteração.</span><span class="sxs-lookup"><span data-stu-id="88f5c-329"> (The feature is for use by diagnostic assistants and not by production applications.) Whenever a change is made to a <xref:Windows.UI.Xaml.ResourceDictionary>, WPF automatically finds all [DynamicResource](../wpf/advanced/dynamicresource-markup-extension.md) references that might be affected by the change.</span></span>

<span data-ttu-id="88f5c-330">Um assistente de diagnóstico, como o recurso de "Editar e continuar" do Visual Studio pode desejar estendê-lo para tratar as referências [StaticResource](../wpf/advanced/staticresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-330">A diagnostic assistant such as Visual Studio’s “Edit-and-Continue” facility may want extend this to handle [StaticResource](../wpf/advanced/staticresource-markup-extension.md) references.</span></span> <span data-ttu-id="88f5c-331">A primeira etapa nesse processo é localizar os proprietários do dicionário; ou seja, para localizar todos os objetos cuja propriedade `Resources` se refere ao dicionário (direta ou indiretamente por meio da propriedade <xref:System.Windows.ResourceDictionary.MergedDictionaries?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="88f5c-331">The first step in this process is to find the owners of the dictionary; that is, to find all the objects whose `Resources` property refers to the dictionary (either directly, or indirectly via the <xref:System.Windows.ResourceDictionary.MergedDictionaries?displayProperty=nameWithType> property).</span></span> <span data-ttu-id="88f5c-332">Três novos métodos estáticos implementados na classe <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics?displayProperty=nameWithType>, um para cada um dos tipos base que tem uma propriedade `Resources`, compatível com esta etapa:</span><span class="sxs-lookup"><span data-stu-id="88f5c-332">Three new static methods implemented on the <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics?displayProperty=nameWithType> class, one for each of the base types that has a `Resources` property, support this step:</span></span>

- [`public static IEnumerable<FrameworkElement> GetFrameworkElementOwners(ResourceDictionary dictionary);`](xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.GetFrameworkElementOwners%2A)

- [`public static IEnumerable<FrameworkContentElement> GetFrameworkContentElementOwners(ResourceDictionary dictionary);`](xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.GetFrameworkContentElementOwners%2A)

- [`public static IEnumerable<Application> GetApplicationOwners(ResourceDictionary dictionary);`](xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.GetApplicationOwners%2A)

<span data-ttu-id="88f5c-333">Esses métodos retornarão um enumerável vazio, a menos que  <xref:System.Windows.Diagnostics.VisualDiagnostics> esteja habilitado e a variável de ambiente [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A)  esteja definida.</span><span class="sxs-lookup"><span data-stu-id="88f5c-333">These methods return an empty enumerable unless <xref:System.Windows.Diagnostics.VisualDiagnostics> is enabled and the [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) environment variable is set.</span></span>

<span data-ttu-id="88f5c-334">**Localizar referências StaticResource**</span><span class="sxs-lookup"><span data-stu-id="88f5c-334">**Finding StaticResource references**</span></span>

<span data-ttu-id="88f5c-335">Agora, um assistente de diagnóstico pode receber uma notificação sempre que uma referência [StaticResource](../wpf/advanced/staticresource-markup-extension.md) for resolvida.</span><span class="sxs-lookup"><span data-stu-id="88f5c-335">A diagnostic assistant can now receive a notification whenever a [StaticResource](../wpf/advanced/staticresource-markup-extension.md) reference is resolved.</span></span><span data-ttu-id="88f5c-336"> O recurso é para o uso de assistentes de diagnóstico, e não por aplicativos de produção. Um assistente de diagnóstico como o recurso de "Editar e continuar" do Visual Studio pode querer atualizar todos os usos de um recurso quando seu valor em um <xref:Windows.UI.Xaml.ResourceDictionary> é alterado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-336"> (The feature is for use by diagnostic assistants, not by production applications.) A diagnostic assistant such as Visual Studio’s “Edit-and-Continue” facility may want to update all uses of a resource when its value in a <xref:Windows.UI.Xaml.ResourceDictionary> changes.</span></span> <span data-ttu-id="88f5c-337">O WPF faz isso automaticamente para referências [DynamicResource](../wpf/advanced/dynamicresource-markup-extension.md), mas ele intencionalmente não o faz para referências [StaticResource](../wpf/advanced/staticresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-337">WPF does this automatically for [DynamicResource](../wpf/advanced/dynamicresource-markup-extension.md) references, but it intentionally does not do so for [StaticResource](../wpf/advanced/staticresource-markup-extension.md) references.</span></span> <span data-ttu-id="88f5c-338">A partir do .NET Framework 4.7.2, o assistente de diagnóstico pode usar essas notificações para localizar os usos do recurso estático.</span><span class="sxs-lookup"><span data-stu-id="88f5c-338">Starting with .NET Framework 4.7.2, the diagnostic assistant can use these notifications to locate those uses of the static resource.</span></span>

<span data-ttu-id="88f5c-339">A notificação é implementada pelo novo evento <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.StaticResourceResolved?displayProperty=nameWithType>:</span><span class="sxs-lookup"><span data-stu-id="88f5c-339">The notification is implemented by the new <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.StaticResourceResolved?displayProperty=nameWithType> event:</span></span>

```csharp
public static event EventHandler<StaticResourceResolvedEventArgs> StaticResourceResolved;
```

```vb
Public Shared Event StaticResourceResolved As EventHandler(Of StaticResourceResolvedEventArgs)
```

<span data-ttu-id="88f5c-340">Esse evento é gerado sempre que o tempo de execução resolve uma referência [StaticResource](../wpf/advanced/staticresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-340">This event is raised whenever the runtime resolves a [StaticResource](../wpf/advanced/staticresource-markup-extension.md) reference.</span></span><span data-ttu-id="88f5c-341"> Os argumentos <xref:System.Windows.Diagnostics.StaticResourceResolvedEventArgs> descrevem a resolução e indicam o objeto e a propriedade que hospedam a referência [StaticResource](../wpf/advanced/staticresource-markup-extension.md), o  <xref:Windows.UI.Xaml.ResourceDictionary> e a chave usada para a resolução:</span><span class="sxs-lookup"><span data-stu-id="88f5c-341"> The <xref:System.Windows.Diagnostics.StaticResourceResolvedEventArgs> arguments describe the resolution, and indicate the object and property that host the [StaticResource](../wpf/advanced/staticresource-markup-extension.md) reference and the <xref:Windows.UI.Xaml.ResourceDictionary> and key used for the resolution:</span></span>

```csharp
public class StaticResourceResolvedEventArgs : EventArgs
{
   public Object TargetObject { get; }

   public Object TargetProperty { get; }

   public ResourceDictionary ResourceDictionary { get; }

   public object ResourceKey { get; }
}
```

```vb
Public Class StaticResourceResolvedEvcentArgs : Inherits EventArgs
   Public ReadOnly Property TargetObject As Object
   Public ReadOnly Property TargetProperty As Object
   Public ReadOnly Property ResourceDictionary As ResourceDictionary
   Public ReadOnly Property ResourceKey As Object
End Class
```

<span data-ttu-id="88f5c-342">O evento não é gerado (e seu acessador `add` é ignorado), a menos que  <xref:System.Windows.Diagnostics.VisualDiagnostics> esteja habilitado e a variável de ambiente [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) esteja definida.</span><span class="sxs-lookup"><span data-stu-id="88f5c-342">The event is not raised (and its `add` accessor is ignored) unless <xref:System.Windows.Diagnostics.VisualDiagnostics> is enabled and the [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) environment variable is set.</span></span>

#### <a name="clickonce"></a><span data-ttu-id="88f5c-343">ClickOnce</span><span class="sxs-lookup"><span data-stu-id="88f5c-343">ClickOnce</span></span>

<span data-ttu-id="88f5c-344">Todos os aplicativos com reconhecimento de HDPI para Windows Forms, WPF (Windows Presentation Foundation) e VSTO (Visual Studio Tools para Office) podem ser implantados usando o ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="88f5c-344">HDPI-aware applications for Windows Forms, Windows Presentation Foundation (WPF), and Visual Studio Tools for Office (VSTO) can all be deployed by using ClickOnce.</span></span> <span data-ttu-id="88f5c-345">Se a entrada a seguir for encontrada no manifesto do aplicativo, a implantação será bem-sucedida no .NET Framework 4.7.2:</span><span class="sxs-lookup"><span data-stu-id="88f5c-345">If the following entry is found in the application manifest, deployment will succeed under .NET Framework 4.7.2:</span></span>

```xml
<windowsSettings>
   <dpiAware xmlns="http://schemas.microsoft.com/SMI/2005/WindowsSettings">true</dpiAware>
</windowsSettings>
```

<span data-ttu-id="88f5c-346">Para o aplicativo do Windows Forms, a solução anterior de definir o reconhecimento de DPI no arquivo de configuração de aplicativo em vez de no manifesto do aplicativo não é mais necessária para a implantação pelo ClickOnce ser bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="88f5c-346">For Windows Forms application, the previous workaround of setting DPI awareness in the application configuration file rather than the application manifest is no longer necessary for ClickOnce deployment to succeed.</span></span>

<a name="v471" />

## <a name="whats-new-in-net-framework-471"></a><span data-ttu-id="88f5c-347">Novidades no .NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="88f5c-347">What's new in .NET Framework 4.7.1</span></span>

<span data-ttu-id="88f5c-348">O .NET Framework 4.7.1 inclui novos recursos nas seguintes áreas:</span><span class="sxs-lookup"><span data-stu-id="88f5c-348">.NET Framework 4.7.1 includes new features in the following areas:</span></span>

- [<span data-ttu-id="88f5c-349">Classes base</span><span class="sxs-lookup"><span data-stu-id="88f5c-349">Base classes</span></span>](#core471)
- [<span data-ttu-id="88f5c-350">CLR (Common language runtime)</span><span class="sxs-lookup"><span data-stu-id="88f5c-350">Common language runtime (CLR)</span></span>](#clr)
- [<span data-ttu-id="88f5c-351">Rede</span><span class="sxs-lookup"><span data-stu-id="88f5c-351">Networking</span></span>](#net471)
- [<span data-ttu-id="88f5c-352">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="88f5c-352">ASP.NET</span></span>](#asp-net471)

<span data-ttu-id="88f5c-353">Além disso, um dos objetivos principais do .NET Framework 4.7.1 é a melhoria de acessibilidade, que permite a um aplicativo fornecer uma experiência apropriada para os usuários da Tecnologia Assistencial.</span><span class="sxs-lookup"><span data-stu-id="88f5c-353">In addition, a major focus in .NET Framework 4.7.1 is improved accessibility, which allows an application to provide an appropriate experience for users of Assistive Technology.</span></span> <span data-ttu-id="88f5c-354">Para saber mais sobre melhorias de acessibilidade no .NET Framework 4.7.1,consulte [Novidades de acessibilidade no .NET Framework](whats-new-in-accessibility.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-354">For information on accessibility improvements in .NET Framework 4.7.1, see [What's new in accessibility in the .NET Framework](whats-new-in-accessibility.md).</span></span>

<a name="core471" />

#### <a name="base-classes"></a><span data-ttu-id="88f5c-355">Classes base</span><span class="sxs-lookup"><span data-stu-id="88f5c-355">Base classes</span></span>

<span data-ttu-id="88f5c-356">**Compatível com o .NET Standard 2.0**</span><span class="sxs-lookup"><span data-stu-id="88f5c-356">**Support for .NET Standard 2.0**</span></span>

<span data-ttu-id="88f5c-357">O [.NET Standard](~/docs/standard/net-standard.md) define um conjunto das APIs que precisam estar disponíveis em todas as implementações do .NET compatíveis com a versão do standard.</span><span class="sxs-lookup"><span data-stu-id="88f5c-357">[.NET Standard](~/docs/standard/net-standard.md) defines a set of APIs that must be available on each .NET implementation that supports that version of the standard.</span></span> <span data-ttu-id="88f5c-358">O .NET Framework 4.7.1 dá suporte total ao .NET Standard 2.0 e adiciona [cerca de 200 APIs](https://github.com/dotnet/standard/blob/master/netstandard/src/ApiCompatBaseline.net461.txt) que são definidas no .NET Standard 2.0 e não estão presentes nas versões 4.6.1, 4.6.2 e 4.7 do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="88f5c-358">.NET Framework 4.7.1 fully supports .NET Standard 2.0 and adds [about 200 APIs](https://github.com/dotnet/standard/blob/master/netstandard/src/ApiCompatBaseline.net461.txt) that are defined in .NET Standard 2.0 and are missing from .NET Framework 4.6.1, 4.6.2, and 4.7.</span></span> <span data-ttu-id="88f5c-359">(Observe que essas versões do .NET Framework são compatíveis com o .NET Standard 2.0 somente se os arquivos de suporte do .NET Standard estiverem implantados no sistema de destino.) Para obter mais informações, consulte “BLC – Suporte ao .NET Standard 2.0” na postagem de blog [Tempo de execução e recursos do compilador do .NET Framework 4.7.1](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-359">(Note that these versions of the .NET Framework support .NET Standard 2.0 only if additional .NET Standard support files are also deployed on the target system.) For more information, see "BCL - .NET Standard 2.0 Support" in the [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) blog post.</span></span>

<span data-ttu-id="88f5c-360">**Suporte para construtores de configuração**</span><span class="sxs-lookup"><span data-stu-id="88f5c-360">**Support for configuration builders**</span></span>

<span data-ttu-id="88f5c-361">Construtores de configuração permitem aos desenvolvedores injetar e compilar definições de configuração para aplicativos dinamicamente no tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="88f5c-361">Configuration builders allow developers to inject and build configuration settings for applications dynamically at run time.</span></span> <span data-ttu-id="88f5c-362">Construtores de configuração personalizada podem ser usados para modificar os dados existentes em uma seção de configuração ou criar uma seção de configuração do zero.</span><span class="sxs-lookup"><span data-stu-id="88f5c-362">Custom configuration builders can be used to modify existing data in a configuration section or to build a configuration section entirely from scratch.</span></span> <span data-ttu-id="88f5c-363">Sem construtores de configuração, arquivos .config são estáticos e suas configurações são definidas algum tempo antes de um aplicativo ser lançado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-363">Without configuration builders, .config files are static, and their settings are defined some time before an application is launched.</span></span>

<span data-ttu-id="88f5c-364">Para criar um construtor de configuração personalizado, derive seu construtor da classe abstrata <xref:System.Configuration.ConfigurationBuilder> e substitua os <xref:System.Configuration.ConfigurationBuilder.ProcessConfigurationSection%2A?displayProperty=nameWithType> e <xref:System.Configuration.ConfigurationBuilder.ProcessRawXml%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-364">To create a custom configuration builder, you derive your builder from the abstract <xref:System.Configuration.ConfigurationBuilder> class and override its <xref:System.Configuration.ConfigurationBuilder.ProcessConfigurationSection%2A?displayProperty=nameWithType> and <xref:System.Configuration.ConfigurationBuilder.ProcessRawXml%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="88f5c-365">Você também pode definir seus construtores no arquivo .config.</span><span class="sxs-lookup"><span data-stu-id="88f5c-365">You also define your builders in your .config file.</span></span> <span data-ttu-id="88f5c-366">Para obter mais informações, consulte a seção “Construtores de configuração” na postagem de blog [ASP.NET e recursos de configuração do .NET Framework 4.7.1](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-366">For more information, see the "Configuration Builders" section in the [.NET Framework 4.7.1 ASP.NET and Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) blog post.</span></span>

<span data-ttu-id="88f5c-367">**Detecção de recurso de tempo de execução**</span><span class="sxs-lookup"><span data-stu-id="88f5c-367">**Run-time feature detection**</span></span>

<span data-ttu-id="88f5c-368">A classe <xref:System.Runtime.CompilerServices.RuntimeFeature?displayProperty=nameWithType> fornece um mecanismo para determinar se há suporte para um recurso predefinido em determinada implementação .NET no tempo de compilação ou no tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="88f5c-368">The <xref:System.Runtime.CompilerServices.RuntimeFeature?displayProperty=nameWithType> class provides a mechanism for determine whether a predefined feature is supported on a given .NET implementation at compile time or run time.</span></span> <span data-ttu-id="88f5c-369">No tempo de compilação, um compilador pode verificar se um campo especificado existe para determinar se há suporte para o recurso; se houver, ele pode emitir um código que aproveita tal recurso.</span><span class="sxs-lookup"><span data-stu-id="88f5c-369">At compile time, a compiler can check whether a specified field exists to determine whether the feature is supported; if so, it can emit code that takes advantage of that feature.</span></span> <span data-ttu-id="88f5c-370">No tempo de execução, um aplicativo pode chamar o método <xref:System.Runtime.CompilerServices.RuntimeFeature.IsSupported%2A?displayProperty=nameWithType> antes de emitir o código no tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="88f5c-370">At run time, an application can call the <xref:System.Runtime.CompilerServices.RuntimeFeature.IsSupported%2A?displayProperty=nameWithType> method before emitting code at runtime.</span></span> <span data-ttu-id="88f5c-371">Para obter mais informações, consulte [Adicionar método auxiliar para descrever os recursos com suporte no tempo de execução](https://github.com/dotnet/corefx/issues/17116).</span><span class="sxs-lookup"><span data-stu-id="88f5c-371">For more information, see [Add helper method to describe features supported by the runtime](https://github.com/dotnet/corefx/issues/17116).</span></span>

<span data-ttu-id="88f5c-372">**Tipos de tupla de valor são serializáveis**</span><span class="sxs-lookup"><span data-stu-id="88f5c-372">**Value tuple types are serializable**</span></span>

<span data-ttu-id="88f5c-373">A partir do .NET Framework 4.7.1, <xref:System.ValueTuple?displayProperty=nameWithType> e seus tipos genéricos associados são marcados como [Serializable](xref:System.SerializableAttribute), o que permite a serialização binária.</span><span class="sxs-lookup"><span data-stu-id="88f5c-373">Starting with .NET Framework 4.7.1, <xref:System.ValueTuple?displayProperty=nameWithType> and its associated generic types are marked as [Serializable](xref:System.SerializableAttribute), which allows binary serialization.</span></span> <span data-ttu-id="88f5c-374">Isso deve facilitar bastante a migração de tipos de Tupla, como <xref:System.Tuple%603> e <xref:System.Tuple%604>, em tipos de tupla de valor.</span><span class="sxs-lookup"><span data-stu-id="88f5c-374">This should make migrating Tuple types, such as <xref:System.Tuple%603> and <xref:System.Tuple%604>, to value tuple types easier.</span></span> <span data-ttu-id="88f5c-375">Para obter mais informações, consulte “Compilador -- ValueTuple é serializável” na postagem de blog [Tempo de execução e recursos do compilador do .NET Framework 4.7.1](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-375">For more information, see "Compiler -- ValueTuple is Serializable" in the [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) blog post.</span></span>

<span data-ttu-id="88f5c-376">**Suporte para referências somente leitura**</span><span class="sxs-lookup"><span data-stu-id="88f5c-376">**Support for read-only references**</span></span>

<span data-ttu-id="88f5c-377">O .NET Framework 4.7.1 adiciona o <xref:System.Runtime.CompilerServices.IsReadOnlyAttribute?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-377">.NET Framework 4.7.1 adds the <xref:System.Runtime.CompilerServices.IsReadOnlyAttribute?displayProperty=nameWithType>.</span></span> <span data-ttu-id="88f5c-378">Este atributo é usado por compiladores de linguagem para marcar membros que têm parâmetros ou tipos de retorno somente leitura de referência.</span><span class="sxs-lookup"><span data-stu-id="88f5c-378">This attribute is used by language compilers to mark members that have read-only ref return types or parameters.</span></span> <span data-ttu-id="88f5c-379">Para obter mais informações, consulte “Compilador -- Suporte a ReadOnlyReferences” na postagem de blog [Tempo de execução e recursos do compilador do .NET Framework 4.7.1](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-379">For more information, see "Compiler -- Support for ReadOnlyReferences" in the [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) blog post.</span></span> <span data-ttu-id="88f5c-380">Para saber mais sobre valores retornados de referência, consulte [Valores retornados de referência e locais de referência (Guia de C#)](~/docs/csharp/programming-guide/classes-and-structs/ref-returns.md) e [Valores retornados de referência (Visual Basic)](../../visual-basic/programming-guide/language-features/procedures/ref-return-values.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-380">For information on ref return values, see [Ref return values and ref locals (C# Guide)](~/docs/csharp/programming-guide/classes-and-structs/ref-returns.md) and [Ref return values (Visual Basic)](../../visual-basic/programming-guide/language-features/procedures/ref-return-values.md).</span></span>

<a name="clr" />

#### <a name="common-language-runtime-clr"></a><span data-ttu-id="88f5c-381">CLR (Common Language Runtime)</span><span class="sxs-lookup"><span data-stu-id="88f5c-381">Common language runtime (CLR)</span></span>

<span data-ttu-id="88f5c-382">**Melhorias de desempenho de coleta de lixo**</span><span class="sxs-lookup"><span data-stu-id="88f5c-382">**Garbage collection performance improvements**</span></span>

<span data-ttu-id="88f5c-383">As alterações na GC (coleta de lixo) no .NET Framework 4.7.1 melhoram o desempenho geral, especialmente para alocações de LOH (Heap de Objeto Grande).</span><span class="sxs-lookup"><span data-stu-id="88f5c-383">Changes to garbage collection (GC) in .NET Framework 4.7.1 improve overall performance, especially for Large Object Heap (LOH) allocations.</span></span> <span data-ttu-id="88f5c-384">No .NET Framework 4.7.1, bloqueios separados são usados para alocações de SOH (Heap de Objeto Pequeno) e LOH, permitindo que alocações de LOH ocorram quando a BGC (coleta de lixo em segundo plano) está limpando o SOH.</span><span class="sxs-lookup"><span data-stu-id="88f5c-384">In .NET Framework 4.7.1, separate locks are used for Small Object Heap (SOH) and LOH allocations, which allows LOH allocations to occur when Background GC (BGC) is sweeping the SOH.</span></span> <span data-ttu-id="88f5c-385">Como resultado, os aplicativos que compõem um grande número de alocações de LOH devem observar uma redução na contenção de bloqueio de alocação e melhoria no desempenho.</span><span class="sxs-lookup"><span data-stu-id="88f5c-385">As a result, applications that make a large number of LOH allocations should see a reduction in allocation lock contention and improved performance.</span></span> <span data-ttu-id="88f5c-386">Para obter mais informações, consulte a seção “Tempo de execução -- Melhorias de desempenho do GC” na postagem de blog [Tempo de execução e recursos do compilador do .NET Framework 4.7.1](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-386">For more information, see the "Runtime -- GC Performance Improvements" section in the [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) blog post.</span></span>

<a name="net471"/>

#### <a name="networking"></a><span data-ttu-id="88f5c-387">Rede</span><span class="sxs-lookup"><span data-stu-id="88f5c-387">Networking</span></span>

<span data-ttu-id="88f5c-388">**Suporte a SHA-2 Message.HashAlgorithm**</span><span class="sxs-lookup"><span data-stu-id="88f5c-388">**SHA-2 support for Message.HashAlgorithm**</span></span>

<span data-ttu-id="88f5c-389">No .NET Framework 4.7 e versões anteriores, a propriedade <xref:System.Messaging.Message.HashAlgorithm%2A?displayProperty=nameWithType> era compatível somente com os valores <xref:System.Messaging.HashAlgorithm.Md5?displayProperty=nameWithType> e <xref:System.Messaging.HashAlgorithm.Sha?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-389">In .NET Framework 4.7 and earlier versions, the <xref:System.Messaging.Message.HashAlgorithm%2A?displayProperty=nameWithType> property supported values of <xref:System.Messaging.HashAlgorithm.Md5?displayProperty=nameWithType> and <xref:System.Messaging.HashAlgorithm.Sha?displayProperty=nameWithType> only.</span></span> <span data-ttu-id="88f5c-390">A partir do .NET Framework 4.7.1, <xref:System.Messaging.HashAlgorithm.Sha256?displayProperty=nameWithType>, <xref:System.Messaging.HashAlgorithm.Sha384?displayProperty=nameWithType> e <xref:System.Messaging.HashAlgorithm.Sha512?displayProperty=nameWithType> também são compatíveis.</span><span class="sxs-lookup"><span data-stu-id="88f5c-390">Starting with .NET Framework 4.7.1, <xref:System.Messaging.HashAlgorithm.Sha256?displayProperty=nameWithType>, <xref:System.Messaging.HashAlgorithm.Sha384?displayProperty=nameWithType>, and <xref:System.Messaging.HashAlgorithm.Sha512?displayProperty=nameWithType> are also supported.</span></span> <span data-ttu-id="88f5c-391">Se esse valor será realmente usado depende de MSMQ, visto que a própria instância <xref:System.Messaging.Message> não faz nenhum hash, passando simplesmente os valores para o MSMQ.</span><span class="sxs-lookup"><span data-stu-id="88f5c-391">Whether this value is actually used depends on MSMQ, since the <xref:System.Messaging.Message> instance itself does no hashing but simply passes on values to MSMQ.</span></span> <span data-ttu-id="88f5c-392">Para obter mais informações, consulte a seção “Suporte de SHA-2 para Message.HashAlgorithm” na postagem de blog [ASP.NET e recursos de configuração do .NET Framework 4.7.1](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-392">For more information, see the "SHA-2 support for Message.HashAlgorithm" section in the [.NET Framework 4.7.1 ASP.NET and Configuration features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) blog post.</span></span>

<a name="asp-net471" />

#### <a name="aspnet"></a><span data-ttu-id="88f5c-393">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="88f5c-393">ASP.NET</span></span>

<span data-ttu-id="88f5c-394">**Etapas de execução em aplicativos ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="88f5c-394">**Execution steps in ASP.NET applications**</span></span>

<span data-ttu-id="88f5c-395">O ASP.NET processa as solicitações em um pipeline predefinido que inclui 23 eventos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-395">ASP.NET processes requests in a predefined pipeline that includes 23 events.</span></span> <span data-ttu-id="88f5c-396">O ASP.NET executa cada manipulador de eventos como uma etapa de execução.</span><span class="sxs-lookup"><span data-stu-id="88f5c-396">ASP.NET executes each event handler as an execution step.</span></span> <span data-ttu-id="88f5c-397">Em versões do ASP.NET até o .NET Framework 4.7, o ASP.NET não podia dar vazão ao fluxo do contexto de execução devido à alternância entre os threads nativos e gerenciados.</span><span class="sxs-lookup"><span data-stu-id="88f5c-397">In versions of ASP.NET up to .NET Framework 4.7, ASP.NET can't flow the execution context due to switching between native and managed threads.</span></span> <span data-ttu-id="88f5c-398">Em vez disso, o ASP.NET dá vazão seletivamente somente ao fluxo do <xref:System.Web.HttpContext>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-398">Instead, ASP.NET selectively flows only the <xref:System.Web.HttpContext>.</span></span> <span data-ttu-id="88f5c-399">A partir do .NET Framework 4.7.1, o método <xref:System.Web.HttpApplication.OnExecuteRequestStep(System.Action{System.Web.HttpContextBase,System.Action})?displayProperty=nameWithType> também permite que os módulos restaurem dados do ambiente.</span><span class="sxs-lookup"><span data-stu-id="88f5c-399">Starting with .NET Framework 4.7.1, the <xref:System.Web.HttpApplication.OnExecuteRequestStep(System.Action{System.Web.HttpContextBase,System.Action})?displayProperty=nameWithType> method also allows modules to restore ambient data.</span></span> <span data-ttu-id="88f5c-400">Esse recurso é destinado a bibliotecas preocupadas com o rastreamento, criação de perfil, diagnóstico ou transações, como por exemplo, aquelas que se preocupam com o fluxo de execução do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-400">This feature is targeted at libraries concerned with tracing, profiling, diagnostics, or transactions, for example, that care about the execution flow of the application.</span></span> <span data-ttu-id="88f5c-401">Para obter mais informações, consulte “Recurso de etapa de execução do ASP.NET” na postagem de blog [ASP.NET e recursos de configuração do .NET Framework 4.7.1](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-401">For more information, see the "ASP.NET Execution Step Feature" in the [.NET Framework 4.7.1 ASP.NET and Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) blog post.</span></span>

<span data-ttu-id="88f5c-402">**Análise de HttpCookie do ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="88f5c-402">**ASP.NET HttpCookie parsing**</span></span>

<span data-ttu-id="88f5c-403">O .NET Framework 4.7.1 inclui um novo método, <xref:System.Web.HttpCookie.TryParse%2A?displayProperty=nameWithType>, que fornece uma maneira padronizada para criar um objeto <xref:System.Web.HttpCookie> com base em uma cadeia de caracteres e atribuir com precisão valores de cookie como data de validade e caminho.</span><span class="sxs-lookup"><span data-stu-id="88f5c-403">.NET Framework 4.7.1 includes a new method, <xref:System.Web.HttpCookie.TryParse%2A?displayProperty=nameWithType>, that provides a standardized way to create an <xref:System.Web.HttpCookie> object from a string and accurately assign cookie values such as expiration date and path.</span></span> <span data-ttu-id="88f5c-404">Para obter mais informações, consulte “Análise do ASP.NET HttpCookie” na postagem de blog [ASP.NET e recursos de configuração do .NET Framework 4.7.1](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-404">For more information, see "ASP.NET HttpCookie parsing" in the [.NET Framework 4.7.1 ASP.NET and Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) blog post.</span></span>

<span data-ttu-id="88f5c-405">**Opções de hash SHA-2 para credenciais de autenticação de formulários do ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="88f5c-405">**SHA-2 hash options for ASP.NET forms authentication credentials**</span></span>

<span data-ttu-id="88f5c-406">No .NET Framework 4.7 e versões anteriores, o ASP.NET permitia aos desenvolvedores armazenar credenciais de usuário com as senhas com hash nos arquivos de configuração usando MD5 ou SHA1.</span><span class="sxs-lookup"><span data-stu-id="88f5c-406">In .NET Framework 4.7 and earlier versions, ASP.NET allowed developers to store user credentials with hashed passwords in configuration files using either MD5 or SHA1.</span></span> <span data-ttu-id="88f5c-407">A partir do .NET Framework 4.7.1, o ASP.NET também dá suporte a novas opções de hash SHA-2 seguras como SHA256, SHA384 e SHA512.</span><span class="sxs-lookup"><span data-stu-id="88f5c-407">Starting with .NET Framework 4.7.1, ASP.NET also supports new secure SHA-2 hash options such as SHA256, SHA384, and SHA512.</span></span> <span data-ttu-id="88f5c-408">O SHA1 continua sendo o padrão e um algoritmo de hash não padrão pode ser definido no arquivo de configuração da Web.</span><span class="sxs-lookup"><span data-stu-id="88f5c-408">SHA1 remains the default, and a non-default hash algorithm can be defined in the web configuration file.</span></span> <span data-ttu-id="88f5c-409">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="88f5c-409">For example:</span></span>

```xml
<system.web>
    <authentication mode="Forms">
        <forms loginUrl="~/login.aspx">
          <credentials passwordFormat="SHA512">
            <user name="jdoe" password="6D003E98EA1C7F04ABF8FCB375388907B7F3EE06F278DB966BE960E7CBBD103DF30CA6D61F7E7FD981B2E4E3A64D43C836A4BEDCA165C33B163E6BCDC538A664" />
          </credentials>
        </forms>
    </authentication>
</system.web>
```

<a name="v47" />

## <a name="whats-new-in-net-framework-47"></a><span data-ttu-id="88f5c-410">Novidades no .NET Framework 4.7</span><span class="sxs-lookup"><span data-stu-id="88f5c-410">What's new in .NET Framework 4.7</span></span>

<span data-ttu-id="88f5c-411">O .NET Framework 4.7 inclui novos recursos nas seguintes áreas:</span><span class="sxs-lookup"><span data-stu-id="88f5c-411">.NET Framework 4.7 includes new features in the following areas:</span></span>

- [<span data-ttu-id="88f5c-412">Classes base</span><span class="sxs-lookup"><span data-stu-id="88f5c-412">Base classes</span></span>](#Core47)
- [<span data-ttu-id="88f5c-413">Rede</span><span class="sxs-lookup"><span data-stu-id="88f5c-413">Networking</span></span>](#net47)
- [<span data-ttu-id="88f5c-414">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="88f5c-414">ASP.NET</span></span>](#ASP-NET47)
- [<span data-ttu-id="88f5c-415">WCF (Windows Communication Foundation)</span><span class="sxs-lookup"><span data-stu-id="88f5c-415">Windows Communication Foundation (WCF)</span></span>](#wcf47)
- [<span data-ttu-id="88f5c-416">Windows Forms</span><span class="sxs-lookup"><span data-stu-id="88f5c-416">Windows Forms</span></span>](#wf47)
- [<span data-ttu-id="88f5c-417">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="88f5c-417">Windows Presentation Foundation (WPF)</span></span>](#WPF47)

<span data-ttu-id="88f5c-418">Para obter uma lista das novas APIs adicionadas ao .NET Framework 4.7, consulte [Alterações na API do .NET Framework 4.7](https://github.com/Microsoft/dotnet/blob/master/releases/net47/dotnet47-api-changes.md) no GitHub.</span><span class="sxs-lookup"><span data-stu-id="88f5c-418">For a list of new APIs added to .NET Framework 4.7, see [.NET Framework 4.7 API Changes](https://github.com/Microsoft/dotnet/blob/master/releases/net47/dotnet47-api-changes.md) on GitHub.</span></span> <span data-ttu-id="88f5c-419">Para obter uma lista de aprimoramentos de recursos e correções de bugs no .NET Framework 4.7, consulte [Lista de alterações do .NET Framework 4.7](https://github.com/Microsoft/dotnet/blob/master/releases/net47/dotnet47-changes.md) no GitHub.</span><span class="sxs-lookup"><span data-stu-id="88f5c-419">For a list of feature improvements and bug fixes in .NET Framework 4.7, see [.NET Framework 4.7 List of Changes](https://github.com/Microsoft/dotnet/blob/master/releases/net47/dotnet47-changes.md) on GitHub.</span></span>  <span data-ttu-id="88f5c-420">Para saber mais, confira o artigo [Anunciando o .NET Framework 4.7](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-7/) no blog do .NET.</span><span class="sxs-lookup"><span data-stu-id="88f5c-420">For additional information, see [Announcing the .NET Framework 4.7](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-7/) in the .NET blog.</span></span>

<a name="Core47" />

#### <a name="base-classes"></a><span data-ttu-id="88f5c-421">Classes base</span><span class="sxs-lookup"><span data-stu-id="88f5c-421">Base classes</span></span>

<span data-ttu-id="88f5c-422">O .NET Framework 4.7 melhora a serialização pelo <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer>:</span><span class="sxs-lookup"><span data-stu-id="88f5c-422">.NET Framework 4.7 improves serialization by the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer>:</span></span>

<span data-ttu-id="88f5c-423">**Funcionalidade aprimorada com ECC (Criptografia de curva elíptica)** \*</span><span class="sxs-lookup"><span data-stu-id="88f5c-423">**Enhanced functionality with Elliptic Curve Cryptography (ECC)**\*</span></span>

<span data-ttu-id="88f5c-424">No .NET Framework 4.7, os métodos `ImportParameters(ECParameters)` foram adicionados às classes <xref:System.Security.Cryptography.ECDsa> e <xref:System.Security.Cryptography.ECDiffieHellman> para permitir que um objeto representasse uma chave já estabelecida.</span><span class="sxs-lookup"><span data-stu-id="88f5c-424">In .NET Framework 4.7, `ImportParameters(ECParameters)` methods were added to the <xref:System.Security.Cryptography.ECDsa> and <xref:System.Security.Cryptography.ECDiffieHellman> classes to allow for an object to represent an already-established key.</span></span> <span data-ttu-id="88f5c-425">Também foi adicionado um método `ExportParameters(Boolean)` à exportação da chave usando parâmetros de curva explícita.</span><span class="sxs-lookup"><span data-stu-id="88f5c-425">An `ExportParameters(Boolean)` method was also added for exporting the key using explicit curve parameters.</span></span>

<span data-ttu-id="88f5c-426">O .NET Framework 4.7 também adiciona suporte para curvas adicionais (incluindo o conjunto de curvas Brainpool) e adicionou definições predefinidas para facilitar a criação por meio dos novos métodos de fábrica <xref:System.Security.Cryptography.ECDsa.Create%2A> e <xref:System.Security.Cryptography.ECDiffieHellman.Create%2A>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-426">.NET Framework 4.7 also adds support for additional curves (including the Brainpool curve suite), and has added predefined definitions for ease-of-creation through the new <xref:System.Security.Cryptography.ECDsa.Create%2A> and <xref:System.Security.Cryptography.ECDiffieHellman.Create%2A> factory methods.</span></span>

<span data-ttu-id="88f5c-427">Veja um [exemplo dos aprimoramentos de criptografia do .NET Framework 4.7](https://gist.github.com/richlander/5a182899895a87a296c21ada97f7a54e) no GitHub.</span><span class="sxs-lookup"><span data-stu-id="88f5c-427">You can see an [example of .NET Framework 4.7 cryptography improvements](https://gist.github.com/richlander/5a182899895a87a296c21ada97f7a54e) on GitHub.</span></span>

<span data-ttu-id="88f5c-428">**Suporte aprimorado para caracteres de controle do DataContractJsonSerializer**</span><span class="sxs-lookup"><span data-stu-id="88f5c-428">**Better support for control characters by the DataContractJsonSerializer**</span></span>

<span data-ttu-id="88f5c-429">No Framework .NET 4.7, o <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> serializa os caracteres de controle de acordo com o padrão ECMAScript 6.</span><span class="sxs-lookup"><span data-stu-id="88f5c-429">In .NET Framework 4.7, the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> serializes control characters in conformity with the ECMAScript 6 standard.</span></span> <span data-ttu-id="88f5c-430">Esse comportamento está habilitado por padrão para aplicativos direcionados ao .NET Framework 4.7 e é uma escolha de recurso para aplicativos que são executados no .NET Framework 4.7, mas que são direcionados a uma versão anterior do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="88f5c-430">This behavior is enabled by default for applications that target .NET Framework 4.7, and is an opt-in feature for applications that are running under .NET Framework 4.7 but target a previous version of the .NET Framework.</span></span> <span data-ttu-id="88f5c-431">Para saber mais, confira [Alterações de redirecionamento no .NET Framework 4.7](../migration-guide/retargeting-changes-in-the-net-framework-4-7.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-431">For more information, see [Retargeting Changes in the .NET Framework 4.7](../migration-guide/retargeting-changes-in-the-net-framework-4-7.md).</span></span>

<a name="net47" />

#### <a name="networking"></a><span data-ttu-id="88f5c-432">Rede</span><span class="sxs-lookup"><span data-stu-id="88f5c-432">Networking</span></span>

<span data-ttu-id="88f5c-433">O .NET Framework 4.7 adiciona os seguintes recursos de rede:</span><span class="sxs-lookup"><span data-stu-id="88f5c-433">.NET Framework 4.7 adds the following network-related feature:</span></span>

<span data-ttu-id="88f5c-434">**Suporte do sistema operacional padrão para protocolos TLS**\*</span><span class="sxs-lookup"><span data-stu-id="88f5c-434">**Default operating system support for TLS protocols**\*</span></span>

<span data-ttu-id="88f5c-435">A pilha de TLS, que é usada por <xref:System.Net.Security.SslStream?displayProperty=nameWithType> e por componentes de início de pilha, como HTTP, FTP e SMTP, permite que os desenvolvedores usem protocolos TLS padrão com suporte do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="88f5c-435">The TLS stack, which is used by <xref:System.Net.Security.SslStream?displayProperty=nameWithType> and up-stack components such as HTTP, FTP, and SMTP, allows developers to use the default TLS protocols supported by the operating system.</span></span> <span data-ttu-id="88f5c-436">Os desenvolvedores não precisam mais codificar uma versão de TLS.</span><span class="sxs-lookup"><span data-stu-id="88f5c-436">Developers need no longer hard-code a TLS version.</span></span>

<a name="ASP-NET47" />

#### <a name="aspnet"></a><span data-ttu-id="88f5c-437">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="88f5c-437">ASP.NET</span></span>

<span data-ttu-id="88f5c-438">No .NET Framework 4.7, o ASP.NET inclui os seguintes recursos novos:</span><span class="sxs-lookup"><span data-stu-id="88f5c-438">In .NET Framework 4.7, ASP.NET includes the following new features:</span></span>

<span data-ttu-id="88f5c-439">**Extensibilidade de cache do objeto**</span><span class="sxs-lookup"><span data-stu-id="88f5c-439">**Object Cache Extensibility**</span></span>

<span data-ttu-id="88f5c-440">A partir do .NET Framework 4.7, o ASP.NET adiciona um novo conjunto de APIs que permitem aos desenvolvedores substituir as implementações padrão de ASP.NET para o armazenamento em cache de objeto na memória e o monitoramento da memória.</span><span class="sxs-lookup"><span data-stu-id="88f5c-440">Starting with .NET Framework 4.7, ASP.NET adds a new set of APIs that allow developers to replace the default ASP.NET implementations for in-memory object caching and memory monitoring.</span></span> <span data-ttu-id="88f5c-441">Agora, os desenvolvedores podem substituir qualquer um dos três componentes a seguir se a implementação do ASP.NET não for adequada:</span><span class="sxs-lookup"><span data-stu-id="88f5c-441">Developers can now replace any of the following three components if the ASP.NET implementation is not adequate:</span></span>

- <span data-ttu-id="88f5c-442">**Armazenamento de cache de objeto**.</span><span class="sxs-lookup"><span data-stu-id="88f5c-442">**Object Cache Store**.</span></span> <span data-ttu-id="88f5c-443">Na nova seção de configuração de provedores de cache, os desenvolvedores podem conectar novas implementações de um cache de objeto para um aplicativo ASP.NET usando a nova interface **ICacheStoreProvider**.</span><span class="sxs-lookup"><span data-stu-id="88f5c-443">By using the new cache providers configuration section, developers can plug in new implementations of an object cache for an ASP.NET application by using the new **ICacheStoreProvider** interface.</span></span>

- <span data-ttu-id="88f5c-444">**Monitoramento da memória**.</span><span class="sxs-lookup"><span data-stu-id="88f5c-444">**Memory monitoring**.</span></span> <span data-ttu-id="88f5c-445">O monitor de memória padrão no ASP.NET notifica os aplicativos quando eles estiverem se aproximando do limite configurado de bytes particulares para o processo, ou quando o computador estiver com pouca RAM física total disponível.</span><span class="sxs-lookup"><span data-stu-id="88f5c-445">The default memory monitor in ASP.NET notifies applications when they are running close to the configured private bytes limit for the process, or when the machine is low on total available physical RAM.</span></span> <span data-ttu-id="88f5c-446">Quando esses limites estiverem próximos, as notificações serão disparadas.</span><span class="sxs-lookup"><span data-stu-id="88f5c-446">When these limits are near, notifications are fired.</span></span> <span data-ttu-id="88f5c-447">Para alguns aplicativos, as notificações são disparadas muito próximas aos limites configurados a fim de permitir reações úteis.</span><span class="sxs-lookup"><span data-stu-id="88f5c-447">For some applications, notifications are fired too close to the configured limits to allow for useful reactions.</span></span> <span data-ttu-id="88f5c-448">Agora, os desenvolvedores podem criar seus próprios monitores de memória para substituir o padrão usando a propriedade <xref:System.Web.Hosting.ApplicationMonitors.MemoryMonitor%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-448">Developers can now write their own memory monitors to replace the default by using the <xref:System.Web.Hosting.ApplicationMonitors.MemoryMonitor%2A?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="88f5c-449">**Reações de limite de memória**.</span><span class="sxs-lookup"><span data-stu-id="88f5c-449">**Memory Limit Reactions**.</span></span> <span data-ttu-id="88f5c-450">Por padrão, o ASP.NET tenta aparar o cache de objetos e chamar periodicamente <xref:System.GC.Collect%2A?displayProperty=nameWithType> quando o limite do processo de bytes particulares está próximo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-450">By default, ASP.NET attempts to trim the object cache and periodically call <xref:System.GC.Collect%2A?displayProperty=nameWithType> when the private byte process limit is near.</span></span> <span data-ttu-id="88f5c-451">Para alguns aplicativos, a frequência de chamadas para <xref:System.GC.Collect%2A?displayProperty=nameWithType> ou a quantidade aparada do cache é ineficaz.</span><span class="sxs-lookup"><span data-stu-id="88f5c-451">For some applications, the frequency of calls to <xref:System.GC.Collect%2A?displayProperty=nameWithType> or the amount of cache that is trimmed are inefficient.</span></span> <span data-ttu-id="88f5c-452">Agora, os desenvolvedores podem substituir ou complementar o comportamento padrão incluindo implementações do **IObserver** no monitor de memória do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-452">Developers can now replace or supplement the default behavior by subscribing **IObserver** implementations to the application's memory monitor.</span></span>

<a name="wcf47" />

#### <a name="windows-communication-foundation-wcf"></a><span data-ttu-id="88f5c-453">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="88f5c-453">Windows Communication Foundation (WCF)</span></span>

<span data-ttu-id="88f5c-454">O Windows Communication Foundation (WCF) adiciona os seguintes recursos e alterações:</span><span class="sxs-lookup"><span data-stu-id="88f5c-454">Windows Communication Foundation (WCF) adds the following features and changes:</span></span>

<span data-ttu-id="88f5c-455">**Capacidade de definir configurações de segurança de mensagem padrão para TLS 1.1 ou TLS 1.2**</span><span class="sxs-lookup"><span data-stu-id="88f5c-455">**Ability to configure the default message security settings to TLS 1.1 or TLS 1.2**</span></span>

<span data-ttu-id="88f5c-456">A partir do .NET Framework 4.7, o WCF permite que você configure o TSL 1.1 ou o TLS 1.2, além do SSL 3.0 e TSL 1.0, como o protocolo de segurança de mensagem padrão.</span><span class="sxs-lookup"><span data-stu-id="88f5c-456">Starting with .NET Framework 4.7, WCF allows you to configure TSL 1.1 or TLS 1.2 in addition to SSL 3.0 and TSL 1.0 as the default message security protocol.</span></span> <span data-ttu-id="88f5c-457">Esta é uma configuração baseada no consentimento; para habilitá-la, você deve adicionar a seguinte entrada ao arquivo de configuração do aplicativo:</span><span class="sxs-lookup"><span data-stu-id="88f5c-457">This is an opt-in setting; to enable it, you must add the following entry to your application configuration file:</span></span>

```xml
<runtime>
   <AppContextSwitchOverrides value="Switch.System.ServiceModel.DisableUsingServicePointManagerSecurityProtocols=false;Switch.System.Net.DontEnableSchUseStrongCrypto=false" />
</runtime>
```

<span data-ttu-id="88f5c-458">**Confiabilidade aprimorada de aplicativos WCF e serialização do WCF**</span><span class="sxs-lookup"><span data-stu-id="88f5c-458">**Improved reliability of WCF applications and WCF serialization**</span></span>

<span data-ttu-id="88f5c-459">O WCF inclui diversas alterações de código que eliminam as condições de corrida, melhorando o desempenho e a confiabilidade das opções de serialização.</span><span class="sxs-lookup"><span data-stu-id="88f5c-459">WCF includes a number of code changes that eliminate race conditions, thereby improving performance and the reliability of serialization options.</span></span> <span data-ttu-id="88f5c-460">Elas incluem:</span><span class="sxs-lookup"><span data-stu-id="88f5c-460">These include:</span></span>

- <span data-ttu-id="88f5c-461">Suporte aprimorado para combinação de código síncrono e assíncrono em chamadas para **SocketConnection.BeginRead** e **SocketConnection.Read**.</span><span class="sxs-lookup"><span data-stu-id="88f5c-461">Better support for mixing asynchronous and synchronous code in calls to **SocketConnection.BeginRead** and **SocketConnection.Read**.</span></span>
- <span data-ttu-id="88f5c-462">Confiabilidade aprimorada ao anular uma conexão com **SharedConnectionListener** e **DuplexChannelBinder**.</span><span class="sxs-lookup"><span data-stu-id="88f5c-462">Improved reliability when aborting a connection with **SharedConnectionListener** and **DuplexChannelBinder**.</span></span>
- <span data-ttu-id="88f5c-463">Aumento da confiabilidade das operações de serialização ao chamar o método <xref:System.Runtime.Serialization.FormatterServices.GetSerializableMembers%28System.Type%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-463">Improved reliability of serialization operations when calling the <xref:System.Runtime.Serialization.FormatterServices.GetSerializableMembers%28System.Type%29?displayProperty=nameWithType> method.</span></span>
- <span data-ttu-id="88f5c-464">Confiabilidade aprimorada ao remover um waiter chamando o método **ChannelSynchronizer.RemoveWaiter**.</span><span class="sxs-lookup"><span data-stu-id="88f5c-464">Improved reliability when removing a waiter by calling the **ChannelSynchronizer.RemoveWaiter** method.</span></span>

<a name="wf47" />

#### <a name="windows-forms"></a><span data-ttu-id="88f5c-465">Windows Forms</span><span class="sxs-lookup"><span data-stu-id="88f5c-465">Windows Forms</span></span>

<span data-ttu-id="88f5c-466">No .NET Framework 4.7, o Windows Forms melhora o suporte para monitores com alto DPI.</span><span class="sxs-lookup"><span data-stu-id="88f5c-466">In .NET Framework 4.7, Windows Forms improves support for high DPI monitors.</span></span>

<span data-ttu-id="88f5c-467">**Suporte para DPI alto**</span><span class="sxs-lookup"><span data-stu-id="88f5c-467">**High DPI support**</span></span>

<span data-ttu-id="88f5c-468">A partir dos aplicativos direcionados ao .NET Framework 4.7, o .NET Framework apresenta suporte para alto DPI e DPI dinâmico em aplicativos do Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="88f5c-468">Starting with applications that target .NET Framework 4.7, the .NET Framework features high DPI and dynamic DPI support for Windows Forms applications.</span></span> <span data-ttu-id="88f5c-469">O suporte para DPI alto melhora o layout e a aparência de formulários e controles em monitores com alto DPI.</span><span class="sxs-lookup"><span data-stu-id="88f5c-469">High DPI support improves the layout and appearance of forms and controls on high DPI monitors.</span></span> <span data-ttu-id="88f5c-470">O DPI dinâmico altera o layout e a aparência de formulários e controles quando o usuário altera o DPI ou o fator de escala de exibição de um aplicativo em execução.</span><span class="sxs-lookup"><span data-stu-id="88f5c-470">Dynamic DPI changes the layout and appearance of forms and controls when the user changes the DPI or display scale factor of a running application.</span></span>

<span data-ttu-id="88f5c-471">O suporte ao DPI alto é um recurso baseado no consentimento que você configura definindo uma seção [\<System.Windows.Forms.ConfigurationSection>](../configure-apps/file-schema/winforms/index.md) no arquivo de configuração do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-471">High DPI support is an opt-in feature that you configure by defining a [\<System.Windows.Forms.ConfigurationSection>](../configure-apps/file-schema/winforms/index.md) section in your application configuration file.</span></span> <span data-ttu-id="88f5c-472">Para saber mais sobre como adicionar suporte ao DPI alto e suporte ao DPI dinâmico para seu aplicativo Windows Forms, confira [Suporte a DPI alto no Windows Forms](../winforms/high-dpi-support-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-472">For more information on adding high DPI support and dynamic DPI support to your Windows Forms application, see [High DPI Support in Windows Forms](../winforms/high-dpi-support-in-windows-forms.md).</span></span>

<a name="WPF47" />

#### <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="88f5c-473">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="88f5c-473">Windows Presentation Foundation (WPF)</span></span>

<span data-ttu-id="88f5c-474">No .NET Framework 4.7, o WPF inclui os seguintes aprimoramentos:</span><span class="sxs-lookup"><span data-stu-id="88f5c-474">In .NET Framework 4.7, WPF includes the following enhancements:</span></span>

<span data-ttu-id="88f5c-475">**Suporte para uma pilha de toque/caneta com base em mensagens WM_POINTER do Windows**</span><span class="sxs-lookup"><span data-stu-id="88f5c-475">**Support for a touch/stylus stack based on Windows WM_POINTER messages**</span></span>

<span data-ttu-id="88f5c-476">Agora você tem a opção de usar uma pilha de toque/caneta com base em [mensagens WM_POINTER](https://docs.microsoft.com/previous-versions/windows/desktop/InputMsg/messages) em vez de WISP (Plataforma de Serviços do Windows Ink).</span><span class="sxs-lookup"><span data-stu-id="88f5c-476">You now have the option of using a touch/stylus stack based on [WM_POINTER messages](https://docs.microsoft.com/previous-versions/windows/desktop/InputMsg/messages) instead of the Windows Ink Services Platform (WISP).</span></span> <span data-ttu-id="88f5c-477">Esse é um recurso do .NET Framework baseado no consentimento.</span><span class="sxs-lookup"><span data-stu-id="88f5c-477">This is an opt-in feature in the .NET Framework.</span></span> <span data-ttu-id="88f5c-478">Para saber mais, confira [Alterações de redirecionamento no .NET Framework 4.7](../migration-guide/retargeting-changes-in-the-net-framework-4-7.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-478">For more information, see [Retargeting Changes in the .NET Framework 4.7](../migration-guide/retargeting-changes-in-the-net-framework-4-7.md).</span></span>

<span data-ttu-id="88f5c-479">**Nova implementação para APIs de impressão do WPF**</span><span class="sxs-lookup"><span data-stu-id="88f5c-479">**New implementation for WPF printing APIs**</span></span>

<span data-ttu-id="88f5c-480">As APIs de impressão do WPF na classe <xref:System.Printing.PrintQueue?displayProperty=nameWithType> chamam a [Print Document Package API (API de Impressão pacote de documentos)](/windows/desktop/printdocs/tailored-app-printing-api) do Windows em vez da [XPS Print API (API de impressão XPS)](/windows/desktop/printdocs/xps-printing), que foi preterida.</span><span class="sxs-lookup"><span data-stu-id="88f5c-480">WPF's printing APIs in the <xref:System.Printing.PrintQueue?displayProperty=nameWithType> class call the Windows [Print Document Package API](/windows/desktop/printdocs/tailored-app-printing-api) instead of the deprecated [XPS Print API](/windows/desktop/printdocs/xps-printing).</span></span> <span data-ttu-id="88f5c-481">Para saber o impacto dessa alteração na compatibilidade do aplicativo, consulte [Alterações de redirecionamento do .NET Framework 4.7](../migration-guide/retargeting-changes-in-the-net-framework-4-7.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-481">For the impact of this change on application compatibility, see [Retargeting Changes in the .NET Framework 4.7](../migration-guide/retargeting-changes-in-the-net-framework-4-7.md).</span></span>

<a name="v462" />

## <a name="whats-new-in-net-framework-462"></a><span data-ttu-id="88f5c-482">Novidades no .NET Framework 4.6.2</span><span class="sxs-lookup"><span data-stu-id="88f5c-482">What's new in .NET Framework 4.6.2</span></span>

<span data-ttu-id="88f5c-483">O .NET Framework 4.6.2 inclui novos recursos nas seguintes áreas:</span><span class="sxs-lookup"><span data-stu-id="88f5c-483">The .NET Framework 4.6.2 includes new features in the following areas:</span></span>

- [<span data-ttu-id="88f5c-484">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="88f5c-484">ASP.NET</span></span>](#ASPNET462)

- [<span data-ttu-id="88f5c-485">Categorias de caractere</span><span class="sxs-lookup"><span data-stu-id="88f5c-485">Character categories</span></span>](#Strings)

- [<span data-ttu-id="88f5c-486">Criptografia</span><span class="sxs-lookup"><span data-stu-id="88f5c-486">Cryptography</span></span>](#Crypto462)

- [<span data-ttu-id="88f5c-487">SqlClient</span><span class="sxs-lookup"><span data-stu-id="88f5c-487">SqlClient</span></span>](#SQLClient)

- [<span data-ttu-id="88f5c-488">Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="88f5c-488">Windows Communication Foundation</span></span>](#WCF)

- [<span data-ttu-id="88f5c-489">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="88f5c-489">Windows Presentation Foundation (WPF)</span></span>](#WPF462)

- [<span data-ttu-id="88f5c-490">Windows Workflow Foundation (WF)</span><span class="sxs-lookup"><span data-stu-id="88f5c-490">Windows Workflow Foundation (WF)</span></span>](#WF462)

- [<span data-ttu-id="88f5c-491">ClickOnce</span><span class="sxs-lookup"><span data-stu-id="88f5c-491">ClickOnce</span></span>](#clickonce-1)

- [<span data-ttu-id="88f5c-492">Converter aplicativos do Windows Forms e do WPF em aplicativos UWP</span><span class="sxs-lookup"><span data-stu-id="88f5c-492">Converting Windows Forms and WPF apps to UWP apps</span></span>](#UWPConvert)

- [<span data-ttu-id="88f5c-493">Melhorias na depuração</span><span class="sxs-lookup"><span data-stu-id="88f5c-493">Debugging improvements</span></span>](#Debug462)

<span data-ttu-id="88f5c-494">Para obter uma lista das novas APIs adicionadas ao .NET Framework 4.6.2, consulte [Alterações na API do .NET Framework 4.6.2](https://github.com/Microsoft/dotnet/blob/master/releases/net462/dotnet462-api-changes.md) no GitHub.</span><span class="sxs-lookup"><span data-stu-id="88f5c-494">For a list of new APIs added to .NET Framework 4.6.2, see [.NET Framework 4.6.2 API Changes](https://github.com/Microsoft/dotnet/blob/master/releases/net462/dotnet462-api-changes.md) on GitHub.</span></span> <span data-ttu-id="88f5c-495">Para obter uma lista de aprimoramentos de recursos e correções de bugs no .NET Framework 4.6.2, consulte o artigo [Lista de alterações do .NET Framework 4.6.2](https://go.microsoft.com/fwlink/?LinkId=708778) no GitHub.</span><span class="sxs-lookup"><span data-stu-id="88f5c-495">For a list of feature improvements and bug fixes in .NET Framework 4.6.2, see [.NET Framework 4.6.2 List of Changes](https://go.microsoft.com/fwlink/?LinkId=708778) on GitHub.</span></span>  <span data-ttu-id="88f5c-496">Para saber mais, confira [Anunciando o .NET Framework 4.6.2](https://devblogs.microsoft.com/dotnet/announcing-net-framework-4-6-2/) no Blog do .NET.</span><span class="sxs-lookup"><span data-stu-id="88f5c-496">For additional information, see [Announcing .NET Framework 4.6.2](https://devblogs.microsoft.com/dotnet/announcing-net-framework-4-6-2/) in the .NET blog.</span></span>

<a name="ASPNET462" />

### <a name="aspnet"></a><span data-ttu-id="88f5c-497">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="88f5c-497">ASP.NET</span></span>

<span data-ttu-id="88f5c-498">No .NET Framework 4.6.2, o ASP.NET inclui os seguintes aprimoramentos:</span><span class="sxs-lookup"><span data-stu-id="88f5c-498">In the .NET Framework 4.6.2, ASP.NET includes the following enhancements:</span></span>

<span data-ttu-id="88f5c-499">**Suporte aprimorado para mensagens de erro localizadas em validadores de anotação de dados**</span><span class="sxs-lookup"><span data-stu-id="88f5c-499">**Improved support for localized error messages in data annotation validators**</span></span>

<span data-ttu-id="88f5c-500">Os validadores de anotação de dados permitem que você execute a validação adicionando um ou mais atributos a uma propriedade de classe.</span><span class="sxs-lookup"><span data-stu-id="88f5c-500">Data annotation validators enable you to perform validation by adding one or more attributes to a class property.</span></span> <span data-ttu-id="88f5c-501">O elemento <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> do atributo define o texto da mensagem de erro se a validação falhar.</span><span class="sxs-lookup"><span data-stu-id="88f5c-501">The attribute's <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> element defines the text of the error message if validation fails.</span></span> <span data-ttu-id="88f5c-502">A partir do .NET Framework 4.6.2, o ASP.NET facilita a localização de mensagens de erro.</span><span class="sxs-lookup"><span data-stu-id="88f5c-502">Starting with the .NET Framework 4.6.2, ASP.NET makes it easy to localize error messages.</span></span> <span data-ttu-id="88f5c-503">Mensagens de erro serão localizadas se:</span><span class="sxs-lookup"><span data-stu-id="88f5c-503">Error messages will be localized if:</span></span>

1. <span data-ttu-id="88f5c-504">O <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> é fornecido no atributo de validação.</span><span class="sxs-lookup"><span data-stu-id="88f5c-504">The <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> is provided in the validation attribute.</span></span>

2. <span data-ttu-id="88f5c-505">O arquivo de recurso é armazenado na pasta App_LocalResources.</span><span class="sxs-lookup"><span data-stu-id="88f5c-505">The resource file is stored in the App_LocalResources folder.</span></span>

3. <span data-ttu-id="88f5c-506">O nome do arquivo de recursos localizado tem o formato `DataAnnotation.Localization.{`*nome*`}.resx`, em que *nome* é um nome de cultura no formato *código do Idioma*`-`*Código do país/região* ou *código do Idioma*.</span><span class="sxs-lookup"><span data-stu-id="88f5c-506">The name of the localized resources file has the form `DataAnnotation.Localization.{`*name*`}.resx`, where *name* is a culture name in the format *languageCode*`-`*country/regionCode* or *languageCode*.</span></span>

4. <span data-ttu-id="88f5c-507">O nome da chave do recurso é a cadeia de caracteres atribuída ao atributo <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> e seu valor é a mensagem de erro localizada.</span><span class="sxs-lookup"><span data-stu-id="88f5c-507">The key name of the resource is the string assigned to the <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> attribute,  and its value is the localized error message.</span></span>

<span data-ttu-id="88f5c-508">Por exemplo, o atributo de anotação de dados a seguir define a mensagem de erro da cultura padrão para uma classificação inválida.</span><span class="sxs-lookup"><span data-stu-id="88f5c-508">For example, the following data annotation attribute defines the default culture's error message for an invalid rating.</span></span>

```csharp
public class RatingInfo
{
   [Required(ErrorMessage = "The rating must be between 1 and 10.")]
   [Display(Name = "Your Rating")]
   public int Rating { get; set; }
}
```

```vb
Public Class RatingInfo
   <Required(ErrorMessage = "The rating must be between 1 and 10.")>
   <Display(Name = "Your Rating")>
   Public Property Rating As Integer = 1
End Class
```

<span data-ttu-id="88f5c-509">Você pode criar um arquivo de recurso, DataAnnotation.Localization.fr.resx, cuja chave é a cadeia de caracteres da mensagem de erro e cujo valor é a mensagem de erro localizada.</span><span class="sxs-lookup"><span data-stu-id="88f5c-509">You can then create a resource file, DataAnnotation.Localization.fr.resx, whose key is the error message string and whose value is the localized error message.</span></span> <span data-ttu-id="88f5c-510">O arquivo deve ser encontrado na pasta `App.LocalResources`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-510">The file must be found in the `App.LocalResources` folder.</span></span> <span data-ttu-id="88f5c-511">Por exemplo, veja a seguir a chave e seu valor em uma mensagem de erro localizada no idioma francês (fr):</span><span class="sxs-lookup"><span data-stu-id="88f5c-511">For example, the following is the key and its value in a localized French (fr) language error message:</span></span>

| <span data-ttu-id="88f5c-512">Nome</span><span class="sxs-lookup"><span data-stu-id="88f5c-512">Name</span></span>                                 | <span data-ttu-id="88f5c-513">Valor</span><span class="sxs-lookup"><span data-stu-id="88f5c-513">Value</span></span>                                     |
| ------------------------------------ | ----------------------------------------- |
| <span data-ttu-id="88f5c-514">A classificação deve estar entre 1 e 10.</span><span class="sxs-lookup"><span data-stu-id="88f5c-514">The rating must be between 1 and 10.</span></span> | <span data-ttu-id="88f5c-515">La note doit être comprise entre 1 et 10.</span><span class="sxs-lookup"><span data-stu-id="88f5c-515">La note doit être comprise entre 1 et 10.</span></span> |

 <span data-ttu-id="88f5c-516">Além disso, a localização de anotação de dados é extensível.</span><span class="sxs-lookup"><span data-stu-id="88f5c-516">In addition, data annotation localization is extensible.</span></span> <span data-ttu-id="88f5c-517">Os desenvolvedores podem conectar seu próprio provedor de localizador de cadeia de caracteres implementando a interface <xref:System.Web.Globalization.IStringLocalizerProvider> para armazenar a cadeia de localização em algum lugar diferente de um arquivo de recurso.</span><span class="sxs-lookup"><span data-stu-id="88f5c-517">Developers can plug in their own string localizer provider by implementing the <xref:System.Web.Globalization.IStringLocalizerProvider> interface to store localization string somewhere other than in a resource file.</span></span>

 <span data-ttu-id="88f5c-518">**Suporte assíncrono com provedores de armazenamento de estado de sessão**</span><span class="sxs-lookup"><span data-stu-id="88f5c-518">**Async support with session-state store providers**</span></span>

 <span data-ttu-id="88f5c-519">Agora, o ASP.NET permite o uso de métodos de retorno de tarefas com provedores de armazenamento de estado da sessão, permitindo assim que os aplicativos ASP.NET obtenham os benefícios de escalabilidade do modo assíncrono.</span><span class="sxs-lookup"><span data-stu-id="88f5c-519">ASP.NET now allows task-returning methods to be used with session-state store providers, thereby allowing ASP.NET apps to get the scalability benefits of async.</span></span> <span data-ttu-id="88f5c-520">Para dar suporte às operações assíncronas com provedores de armazenamento de estado de sessão, o ASP.NET inclui uma nova interface, <xref:System.Web.SessionState.ISessionStateModule?displayProperty=nameWithType>, que herda de <xref:System.Web.IHttpModule> e permite aos desenvolvedores implementar seus próprios módulo de estado de sessão e provedores de estado de sessão assíncrona.</span><span class="sxs-lookup"><span data-stu-id="88f5c-520">To supports asynchronous operations with session state store providers, ASP.NET includes  a new interface, <xref:System.Web.SessionState.ISessionStateModule?displayProperty=nameWithType>, which inherits from <xref:System.Web.IHttpModule> and allows developers to implement their own session-state module and async session store providers.</span></span> <span data-ttu-id="88f5c-521">A interface é definida assim:</span><span class="sxs-lookup"><span data-stu-id="88f5c-521">The interface is defined as follows:</span></span>

```csharp
public interface ISessionStateModule : IHttpModule {
    void ReleaseSessionState(HttpContext context);
    Task ReleaseSessionStateAsync(HttpContext context);
}
```

```vb
Public Interface ISessionStateModule : Inherits IHttpModule
   Sub ReleaseSessionState(context As HttpContext)
   Function ReleaseSessionStateAsync(context As HttpContext) As Task
End Interface
```

 <span data-ttu-id="88f5c-522">Além disso, a classe <xref:System.Web.SessionState.SessionStateUtility> inclui dois métodos novos, <xref:System.Web.SessionState.SessionStateUtility.IsSessionStateReadOnly%2A> e <xref:System.Web.SessionState.SessionStateUtility.IsSessionStateRequired%2A>, que podem ser usados para oferecer suporte a operações assíncronas.</span><span class="sxs-lookup"><span data-stu-id="88f5c-522">In addition, the <xref:System.Web.SessionState.SessionStateUtility> class includes two new methods, <xref:System.Web.SessionState.SessionStateUtility.IsSessionStateReadOnly%2A> and <xref:System.Web.SessionState.SessionStateUtility.IsSessionStateRequired%2A>, that can be used to support asynchronous operations.</span></span>

 <span data-ttu-id="88f5c-523">**Suporte assíncrono para provedores de cache de saída**</span><span class="sxs-lookup"><span data-stu-id="88f5c-523">**Async support for output-cache providers**</span></span>

 <span data-ttu-id="88f5c-524">A partir do .NET Framework 4.6.2, os métodos de retorno de tarefa podem ser usados com provedores de cache de saída a fim de oferecer os benefícios de escalabilidade do modo assíncrono.</span><span class="sxs-lookup"><span data-stu-id="88f5c-524">Starting with the .NET Framework 4.6.2, task-returning methods can be used with output-cache providers to provide the scalability benefits of async.</span></span>  <span data-ttu-id="88f5c-525">Provedores que implementam esses métodos reduzem o bloqueio de thread em um servidor Web e melhoram a escalabilidade de um serviço ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="88f5c-525">Providers that implement these methods reduce thread-blocking on a web server and improve the scalability of an ASP.NET service.</span></span>

 <span data-ttu-id="88f5c-526">As seguintes APIs foram adicionadas para oferecer suporte a provedores de cache de saída assíncronos:</span><span class="sxs-lookup"><span data-stu-id="88f5c-526">The following APIs have been added to support asynchronous output-cache providers:</span></span>

- <span data-ttu-id="88f5c-527">A classe <xref:System.Web.Caching.OutputCacheProviderAsync?displayProperty=nameWithType>, que herda de <xref:System.Web.Caching.OutputCacheProvider?displayProperty=nameWithType> e permite aos desenvolvedores implementar um provedor de cache de saída assíncrono.</span><span class="sxs-lookup"><span data-stu-id="88f5c-527">The <xref:System.Web.Caching.OutputCacheProviderAsync?displayProperty=nameWithType> class, which inherits from <xref:System.Web.Caching.OutputCacheProvider?displayProperty=nameWithType> and allows developers to implement an asynchronous output-cache provider.</span></span>

- <span data-ttu-id="88f5c-528">A classe <xref:System.Web.Caching.OutputCacheUtility>, que fornece métodos auxiliares para configuração do cache de saída.</span><span class="sxs-lookup"><span data-stu-id="88f5c-528">The <xref:System.Web.Caching.OutputCacheUtility> class, which provides helper methods for configuring the output cache.</span></span>

- <span data-ttu-id="88f5c-529">18 métodos novos na classe <xref:System.Web.HttpCachePolicy?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-529">18 new methods in the <xref:System.Web.HttpCachePolicy?displayProperty=nameWithType> class.</span></span> <span data-ttu-id="88f5c-530">Entre eles <xref:System.Web.HttpCachePolicy.GetCacheability%2A>, <xref:System.Web.HttpCachePolicy.GetCacheExtensions%2A>, <xref:System.Web.HttpCachePolicy.GetETag%2A>, <xref:System.Web.HttpCachePolicy.GetETagFromFileDependencies%2A>, <xref:System.Web.HttpCachePolicy.GetMaxAge%2A>, <xref:System.Web.HttpCachePolicy.GetMaxAge%2A>, <xref:System.Web.HttpCachePolicy.GetNoStore%2A>, <xref:System.Web.HttpCachePolicy.GetNoTransforms%2A>, <xref:System.Web.HttpCachePolicy.GetOmitVaryStar%2A>, <xref:System.Web.HttpCachePolicy.GetProxyMaxAge%2A>, <xref:System.Web.HttpCachePolicy.GetRevalidation%2A>, <xref:System.Web.HttpCachePolicy.GetUtcLastModified%2A>, <xref:System.Web.HttpCachePolicy.GetVaryByCustom%2A>, <xref:System.Web.HttpCachePolicy.HasSlidingExpiration%2A> e <xref:System.Web.HttpCachePolicy.IsValidUntilExpires%2A>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-530">These include <xref:System.Web.HttpCachePolicy.GetCacheability%2A>, <xref:System.Web.HttpCachePolicy.GetCacheExtensions%2A>, <xref:System.Web.HttpCachePolicy.GetETag%2A>, <xref:System.Web.HttpCachePolicy.GetETagFromFileDependencies%2A>, <xref:System.Web.HttpCachePolicy.GetMaxAge%2A>, <xref:System.Web.HttpCachePolicy.GetMaxAge%2A>, <xref:System.Web.HttpCachePolicy.GetNoStore%2A>, <xref:System.Web.HttpCachePolicy.GetNoTransforms%2A>, <xref:System.Web.HttpCachePolicy.GetOmitVaryStar%2A>, <xref:System.Web.HttpCachePolicy.GetProxyMaxAge%2A>, <xref:System.Web.HttpCachePolicy.GetRevalidation%2A>, <xref:System.Web.HttpCachePolicy.GetUtcLastModified%2A>, <xref:System.Web.HttpCachePolicy.GetVaryByCustom%2A>, <xref:System.Web.HttpCachePolicy.HasSlidingExpiration%2A>, and <xref:System.Web.HttpCachePolicy.IsValidUntilExpires%2A>.</span></span>

- <span data-ttu-id="88f5c-531">2 métodos novos na classe <xref:System.Web.HttpCacheVaryByContentEncodings?displayProperty=nameWithType>: <xref:System.Web.HttpCacheVaryByContentEncodings.GetContentEncodings%2A> e <xref:System.Web.HttpCacheVaryByContentEncodings.SetContentEncodings%2A>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-531">2 new methods in the <xref:System.Web.HttpCacheVaryByContentEncodings?displayProperty=nameWithType> class:  <xref:System.Web.HttpCacheVaryByContentEncodings.GetContentEncodings%2A> and <xref:System.Web.HttpCacheVaryByContentEncodings.SetContentEncodings%2A>.</span></span>

- <span data-ttu-id="88f5c-532">2 métodos novos na classe <xref:System.Web.HttpCacheVaryByHeaders?displayProperty=nameWithType>: <xref:System.Web.HttpCacheVaryByHeaders.GetHeaders%2A> e <xref:System.Web.HttpCacheVaryByHeaders.SetHeaders%2A>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-532">2 new methods in the <xref:System.Web.HttpCacheVaryByHeaders?displayProperty=nameWithType> class: <xref:System.Web.HttpCacheVaryByHeaders.GetHeaders%2A> and <xref:System.Web.HttpCacheVaryByHeaders.SetHeaders%2A>.</span></span>

- <span data-ttu-id="88f5c-533">2 métodos novos na classe <xref:System.Web.HttpCacheVaryByParams?displayProperty=nameWithType>: <xref:System.Web.HttpCacheVaryByParams.GetParams%2A> e <xref:System.Web.HttpCacheVaryByParams.SetParams%2A>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-533">2 new methods in the <xref:System.Web.HttpCacheVaryByParams?displayProperty=nameWithType> class: <xref:System.Web.HttpCacheVaryByParams.GetParams%2A> and <xref:System.Web.HttpCacheVaryByParams.SetParams%2A>.</span></span>

- <span data-ttu-id="88f5c-534">Na classe <xref:System.Web.Caching.AggregateCacheDependency?displayProperty=nameWithType>, o método <xref:System.Web.Caching.AggregateCacheDependency.GetFileDependencies%2A>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-534">In the <xref:System.Web.Caching.AggregateCacheDependency?displayProperty=nameWithType> class, the <xref:System.Web.Caching.AggregateCacheDependency.GetFileDependencies%2A> method.</span></span>

- <span data-ttu-id="88f5c-535">Na <xref:System.Web.Caching.CacheDependency>, o método <xref:System.Web.Caching.CacheDependency.GetFileDependencies%2A>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-535">In the <xref:System.Web.Caching.CacheDependency>, the <xref:System.Web.Caching.CacheDependency.GetFileDependencies%2A> method.</span></span>

<a name="Strings" />

### <a name="character-categories"></a><span data-ttu-id="88f5c-536">Categorias de caractere</span><span class="sxs-lookup"><span data-stu-id="88f5c-536">Character categories</span></span>

<span data-ttu-id="88f5c-537">Os caracteres no .NET Framework 4.6.2 são classificados com base no [Padrão Unicode, versão 8.0.0](https://www.unicode.org/versions/Unicode8.0.0/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-537">Characters in the .NET Framework 4.6.2 are classified based on the [Unicode Standard, Version 8.0.0](https://www.unicode.org/versions/Unicode8.0.0/).</span></span> <span data-ttu-id="88f5c-538">No .NET Framework 4.6 e no .NET Framework 4.6.1, os caracteres foram classificados com base nas categorias de caracteres do Unicode 6.3.</span><span class="sxs-lookup"><span data-stu-id="88f5c-538">In .NET Framework 4.6 and .NET Framework 4.6.1, characters were classified based on Unicode 6.3 character categories.</span></span>

<span data-ttu-id="88f5c-539">O suporte para o Unicode 8.0 é limitado à classificação de caracteres pela classe <xref:System.Globalization.CharUnicodeInfo> e para tipos e métodos que dependem dela.</span><span class="sxs-lookup"><span data-stu-id="88f5c-539">Support for Unicode 8.0 is limited to the classification of characters by the <xref:System.Globalization.CharUnicodeInfo> class and to types and methods that rely on it.</span></span> <span data-ttu-id="88f5c-540">Entre elas está a classe <xref:System.Globalization.StringInfo>, o método <xref:System.Char.GetUnicodeCategory%2A?displayProperty=nameWithType> sobrecarregado e as [classes de caracteres](../../standard/base-types/character-classes-in-regular-expressions.md) reconhecidas pelo mecanismo de expressões regulares do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="88f5c-540">These include the <xref:System.Globalization.StringInfo> class, the overloaded <xref:System.Char.GetUnicodeCategory%2A?displayProperty=nameWithType> method, and the [character classes](../../standard/base-types/character-classes-in-regular-expressions.md) recognized by the .NET Framework regular expression engine.</span></span>  <span data-ttu-id="88f5c-541">A comparação e a classificação de caracteres e cadeia de caracteres não são afetadas por essa alteração e continuam a depender do sistema operacional subjacente ou, em sistemas com Windows 7, em dados de caracteres fornecidos pelo .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="88f5c-541">Character and string comparison and sorting is unaffected by this change and continues to rely on the underlying operating system or, on Windows 7 systems, on character data provided by the .NET Framework.</span></span>

<span data-ttu-id="88f5c-542">Para alterações nas categorias de caracteres do Unicode 6.0 para Unicode 7.0, confira [O padrão Unicode, versão 7.0.0](https://www.unicode.org/versions/Unicode7.0.0/) no site The Unicode Consortium.</span><span class="sxs-lookup"><span data-stu-id="88f5c-542">For changes in character categories from Unicode 6.0 to Unicode 7.0, see [The Unicode Standard, Version 7.0.0](https://www.unicode.org/versions/Unicode7.0.0/) at The Unicode Consortium website.</span></span> <span data-ttu-id="88f5c-543">Para alterações do Unicode 7.0 para Unicode 8.0, confira [O padrão Unicode, versão 8.0.0](https://www.unicode.org/versions/Unicode8.0.0/) no site The Unicode Consortium.</span><span class="sxs-lookup"><span data-stu-id="88f5c-543">For changes from Unicode 7.0 to Unicode 8.0, see [The Unicode Standard, Version 8.0.0](https://www.unicode.org/versions/Unicode8.0.0/) at The Unicode Consortium website.</span></span>

<a name="Crypto462" />

### <a name="cryptography"></a><span data-ttu-id="88f5c-544">Criptografia</span><span class="sxs-lookup"><span data-stu-id="88f5c-544">Cryptography</span></span>

<span data-ttu-id="88f5c-545">**Suporte para certificados X509 contendo um DSA FIPS 186-3**</span><span class="sxs-lookup"><span data-stu-id="88f5c-545">**Support for X509 certificates containing FIPS 186-3 DSA**</span></span>

<span data-ttu-id="88f5c-546">O .NET Framework 4.6.2 adiciona suporte a certificados DSA (Algoritmo de Assinatura Digital) X509 cujas chaves ultrapassam o limite de 1024 bits do FIPS 186-2.</span><span class="sxs-lookup"><span data-stu-id="88f5c-546">The .NET Framework 4.6.2 adds support for DSA (Digital Signature Algorithm) X509 certificates whose keys exceed the FIPS 186-2 1024-bit limit.</span></span>

<span data-ttu-id="88f5c-547">Além de oferecer suporte a chaves maiores de FIPS 186-3, o .NET Framework 4.6.2 permite assinaturas de computação com a família SHA-2 de algoritmos de hash (SHA256, SHA384 e SHA512).</span><span class="sxs-lookup"><span data-stu-id="88f5c-547">In addition to supporting the larger key sizes of FIPS 186-3, the .NET Framework 4.6.2 allows computing signatures with the SHA-2 family of hash algorithms (SHA256, SHA384, and SHA512).</span></span> <span data-ttu-id="88f5c-548">O suporte a FIPS 186-3 é fornecido pela nova classe <xref:System.Security.Cryptography.DSACng?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-548">FIPS 186-3 support is provided by the new <xref:System.Security.Cryptography.DSACng?displayProperty=nameWithType> class.</span></span>

<span data-ttu-id="88f5c-549">Para acompanhar as alterações recentes na classe <xref:System.Security.Cryptography.RSA> do .NET Framework 4.6 e na classe <xref:System.Security.Cryptography.ECDsa> do .NET Framework 4.6.1, a classe base abstrata <xref:System.Security.Cryptography.DSA> do .NET Framework 4.6.2 tem métodos adicionais que permitem aos chamadores usar essa funcionalidade sem conversão.</span><span class="sxs-lookup"><span data-stu-id="88f5c-549">In keeping with recent changes to the <xref:System.Security.Cryptography.RSA> class in .NET Framework 4.6 and the <xref:System.Security.Cryptography.ECDsa> class in .NET Framework 4.6.1, the <xref:System.Security.Cryptography.DSA> abstract base class in .NET Framework 4.6.2 has additional methods to allow callers to use this functionality without casting.</span></span> <span data-ttu-id="88f5c-550">Você pode chamar o método de extensão <xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPrivateKey%2A?displayProperty=nameWithType> para assinar dados, como mostra o exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="88f5c-550">You can call the <xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPrivateKey%2A?displayProperty=nameWithType> extension method to sign data, as the following example shows.</span></span>

```csharp
public static byte[] SignDataDsaSha384(byte[] data, X509Certificate2 cert)
{
    using (DSA dsa = cert.GetDSAPrivateKey())
    {
        return dsa.SignData(data, HashAlgorithmName.SHA384);
    }
}
```

```vb
Public Shared Function SignDataDsaSha384(data As Byte(), cert As X509Certificate2) As Byte()
    Using DSA As DSA = cert.GetDSAPrivateKey()
        Return DSA.SignData(data, HashAlgorithmName.SHA384)
    End Using
End Function
```

<span data-ttu-id="88f5c-551">E você pode chamar o método de extensão <xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPublicKey%2A?displayProperty=nameWithType> para verificar os dados assinados, como mostra o exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="88f5c-551">And you can call the <xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPublicKey%2A?displayProperty=nameWithType> extension method to verify signed data, as the following example shows.</span></span>

```csharp
public static bool VerifyDataDsaSha384(byte[] data, byte[] signature, X509Certificate2 cert)
{
    using (DSA dsa = cert.GetDSAPublicKey())
    {
        return dsa.VerifyData(data, signature, HashAlgorithmName.SHA384);
    }
}
```

```vb
 Public Shared Function VerifyDataDsaSha384(data As Byte(), signature As Byte(), cert As X509Certificate2) As Boolean
    Using dsa As DSA = cert.GetDSAPublicKey()
        Return dsa.VerifyData(data, signature, HashAlgorithmName.SHA384)
    End Using
End Function
```

<span data-ttu-id="88f5c-552">**Maior clareza para as entradas nas rotinas de derivação de chaves ECDiffieHellman**</span><span class="sxs-lookup"><span data-stu-id="88f5c-552">**Increased clarity for inputs to ECDiffieHellman key derivation routines**</span></span>

<span data-ttu-id="88f5c-553">O .NET Framework 3.5 adicionou suporte para o Contrato de chave Diffie-Hellman de curva elíptica com três rotinas KDF (Função de Derivação de Chaves) diferentes.</span><span class="sxs-lookup"><span data-stu-id="88f5c-553">.NET Framework 3.5 added support for Elliptic Curve Diffie-Hellman Key Agreement with three different Key Derivation Function (KDF) routines.</span></span> <span data-ttu-id="88f5c-554">As entradas para as rotinas, e as próprias rotinas, foram configuradas por meio de propriedades no objeto <xref:System.Security.Cryptography.ECDiffieHellmanCng>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-554">The inputs to the routines, and the routines themselves, were configured via properties on the <xref:System.Security.Cryptography.ECDiffieHellmanCng> object.</span></span> <span data-ttu-id="88f5c-555">Mas como nem toda rotina lia cada propriedade de entrada, havia muita margem para confusão do desenvolvedor.</span><span class="sxs-lookup"><span data-stu-id="88f5c-555">But since not every routine read every input property, there was ample room for confusion on the past of the developer.</span></span>

<span data-ttu-id="88f5c-556">Para lidar com isso no .NET Framework 4.6.2, os três métodos a seguir foram adicionados à classe base <xref:System.Security.Cryptography.ECDiffieHellman> para representar mais claramente essas rotinas KDF e suas entradas:</span><span class="sxs-lookup"><span data-stu-id="88f5c-556">To address this in the .NET Framework 4.6.2, the following three methods have been added to the  <xref:System.Security.Cryptography.ECDiffieHellman> base class to more clearly represent these KDF routines and their inputs:</span></span>

|<span data-ttu-id="88f5c-557">Método ECDiffieHellman</span><span class="sxs-lookup"><span data-stu-id="88f5c-557">ECDiffieHellman method</span></span>|<span data-ttu-id="88f5c-558">Descrição</span><span class="sxs-lookup"><span data-stu-id="88f5c-558">Description</span></span>|
|----------------------------|-----------------|
|<xref:System.Security.Cryptography.ECDiffieHellman.DeriveKeyFromHash%28System.Security.Cryptography.ECDiffieHellmanPublicKey%2CSystem.Security.Cryptography.HashAlgorithmName%2CSystem.Byte%5B%5D%2CSystem.Byte%5B%5D%29>|<span data-ttu-id="88f5c-559">Deriva o material da chave usando a fórmula</span><span class="sxs-lookup"><span data-stu-id="88f5c-559">Derives key material using the formula</span></span><br /><br /> <span data-ttu-id="88f5c-560">HASH(secretPrepend &#124;&#124; *x* &#124;&#124; secretAppend)</span><span class="sxs-lookup"><span data-stu-id="88f5c-560">HASH(secretPrepend &#124;&#124; *x* &#124;&#124; secretAppend)</span></span><br /><br /> <span data-ttu-id="88f5c-561">HASH(secretPrepend OrElse *x* OrElse secretAppend)</span><span class="sxs-lookup"><span data-stu-id="88f5c-561">HASH(secretPrepend OrElse *x* OrElse secretAppend)</span></span><br /><br /> <span data-ttu-id="88f5c-562">em que *x* é o resultado calculado do algoritmo EC Diffie-Hellman.</span><span class="sxs-lookup"><span data-stu-id="88f5c-562">where *x* is the computed result of the EC Diffie-Hellman algorithm.</span></span>|
|<xref:System.Security.Cryptography.ECDiffieHellman.DeriveKeyFromHmac%28System.Security.Cryptography.ECDiffieHellmanPublicKey%2CSystem.Security.Cryptography.HashAlgorithmName%2CSystem.Byte%5B%5D%2CSystem.Byte%5B%5D%2CSystem.Byte%5B%5D%29>|<span data-ttu-id="88f5c-563">Deriva o material da chave usando a fórmula</span><span class="sxs-lookup"><span data-stu-id="88f5c-563">Derives key material using the formula</span></span><br /><br /> <span data-ttu-id="88f5c-564">HMAC(hmacKey, secretPrepend &#124;&#124; *x* &#124;&#124; secretAppend)</span><span class="sxs-lookup"><span data-stu-id="88f5c-564">HMAC(hmacKey, secretPrepend &#124;&#124; *x* &#124;&#124; secretAppend)</span></span><br /><br /> <span data-ttu-id="88f5c-565">HMAC(hmacKey, secretPrepend OrElse *x* OrElse secretAppend)</span><span class="sxs-lookup"><span data-stu-id="88f5c-565">HMAC(hmacKey, secretPrepend OrElse *x* OrElse secretAppend)</span></span><br /><br /> <span data-ttu-id="88f5c-566">em que *x* é o resultado calculado do algoritmo EC Diffie-Hellman.</span><span class="sxs-lookup"><span data-stu-id="88f5c-566">where *x* is the computed result of the EC Diffie-Hellman algorithm.</span></span>|
|<xref:System.Security.Cryptography.ECDiffieHellman.DeriveKeyTls%28System.Security.Cryptography.ECDiffieHellmanPublicKey%2CSystem.Byte%5B%5D%2CSystem.Byte%5B%5D%29>|<span data-ttu-id="88f5c-567">Deriva o material da chave usando o algoritmo de derivação PRF (Função pseudoaleatória) TLS.</span><span class="sxs-lookup"><span data-stu-id="88f5c-567">Derives key material using the TLS pseudo-random function (PRF) derivation algorithm.</span></span>|

<span data-ttu-id="88f5c-568">**Suporte para criptografia simétrica de chave persistida**</span><span class="sxs-lookup"><span data-stu-id="88f5c-568">**Support for persisted-key symmetric encryption**</span></span>

<span data-ttu-id="88f5c-569">A biblioteca de criptografia do Windows (CNG) adicionou suporte para o armazenamento de chaves simétricas persistidas e para o uso de chaves simétricas armazenadas em hardware, e o .NET Framework 4.6.2 possibilita aos desenvolvedores o uso desse recurso.</span><span class="sxs-lookup"><span data-stu-id="88f5c-569">The Windows cryptography library (CNG) added support for storing persisted symmetric keys and using hardware-stored symmetric keys, and the .NET Framework 4.6.2 made it possible for developers to make use of this feature.</span></span>  <span data-ttu-id="88f5c-570">Como a noção de nomes e provedores de chave é específica à implementação, o uso desse recurso exige a utilização do construtor dos tipos de implementação concreta em vez da abordagem preferencial de fábrica (por exemplo, chamar `Aes.Create`).</span><span class="sxs-lookup"><span data-stu-id="88f5c-570">Since the notion of key names and key providers is implementation-specific, using this feature requires utilizing the constructor of the concrete implementation types instead of the preferred factory approach (such as calling `Aes.Create`).</span></span>

<span data-ttu-id="88f5c-571">O suporte à criptografia simétrica de chave persistente existe para os algoritmos AES (<xref:System.Security.Cryptography.AesCng>) e 3DES (<xref:System.Security.Cryptography.TripleDESCng>).</span><span class="sxs-lookup"><span data-stu-id="88f5c-571">Persisted-key symmetric encryption support exists for the AES (<xref:System.Security.Cryptography.AesCng>) and 3DES (<xref:System.Security.Cryptography.TripleDESCng>) algorithms.</span></span> <span data-ttu-id="88f5c-572">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="88f5c-572">For example:</span></span>

```csharp
public static byte[] EncryptDataWithPersistedKey(byte[] data, byte[] iv)
{
    using (Aes aes = new AesCng("AesDemoKey", CngProvider.MicrosoftSoftwareKeyStorageProvider))
    {
        aes.IV = iv;

        // Using the zero-argument overload is required to make use of the persisted key
        using (ICryptoTransform encryptor = aes.CreateEncryptor())
        {
            if (!encryptor.CanTransformMultipleBlocks)
            {
                throw new InvalidOperationException("This is a sample, this case wasn’t handled...");
            }

            return encryptor.TransformFinalBlock(data, 0, data.Length);
        }
    }
}
```

```vb
Public Shared Function EncryptDataWithPersistedKey(data As Byte(), iv As Byte()) As Byte()
    Using Aes As Aes = New AesCng("AesDemoKey", CngProvider.MicrosoftSoftwareKeyStorageProvider)
        Aes.IV = iv

        ' Using the zero-argument overload Is required to make use of the persisted key
        Using encryptor As ICryptoTransform = Aes.CreateEncryptor()
            If Not encryptor.CanTransformMultipleBlocks Then
                Throw New InvalidOperationException("This is a sample, this case wasn’t handled...")
            End If
            Return encryptor.TransformFinalBlock(data, 0, data.Length)
        End Using
    End Using
End Function
```

<span data-ttu-id="88f5c-573">**Suporte a SignedXml para hash SHA-2**</span><span class="sxs-lookup"><span data-stu-id="88f5c-573">**SignedXml support for SHA-2 hashing**</span></span>

<span data-ttu-id="88f5c-574">O .NET Framework 4.6.2 adiciona o suporte à classe <xref:System.Security.Cryptography.Xml.SignedXml> para os métodos de assinatura PKCS#1 RSA-SHA256, RSA-SHA384 e RSA-SHA512, e os algoritmos de resumo de referência SHA256, SHA384 e SHA512.</span><span class="sxs-lookup"><span data-stu-id="88f5c-574">The .NET Framework 4.6.2 adds support to  the <xref:System.Security.Cryptography.Xml.SignedXml> class for RSA-SHA256, RSA-SHA384, and RSA-SHA512 PKCS#1 signature methods, and SHA256, SHA384, and SHA512 reference digest algorithms.</span></span>

<span data-ttu-id="88f5c-575">As constantes de URI são expostas em <xref:System.Security.Cryptography.Xml.SignedXml>:</span><span class="sxs-lookup"><span data-stu-id="88f5c-575">The URI constants are all exposed on <xref:System.Security.Cryptography.Xml.SignedXml>:</span></span>

|<span data-ttu-id="88f5c-576">Campo SignedXml</span><span class="sxs-lookup"><span data-stu-id="88f5c-576">SignedXml field</span></span>|<span data-ttu-id="88f5c-577">Constante</span><span class="sxs-lookup"><span data-stu-id="88f5c-577">Constant</span></span>|
|---------------------|--------------|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigSHA256Url>|<span data-ttu-id="88f5c-578">"http://www.w3.org/2001/04/xmlenc#sha256"</span><span class="sxs-lookup"><span data-stu-id="88f5c-578">"http://www.w3.org/2001/04/xmlenc#sha256"</span></span>|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigRSASHA256Url>|<span data-ttu-id="88f5c-579">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"</span><span class="sxs-lookup"><span data-stu-id="88f5c-579">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"</span></span>|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigSHA384Url>|<span data-ttu-id="88f5c-580">"http://www.w3.org/2001/04/xmldsig-more#sha384"</span><span class="sxs-lookup"><span data-stu-id="88f5c-580">"http://www.w3.org/2001/04/xmldsig-more#sha384"</span></span>|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigRSASHA384Url>|<span data-ttu-id="88f5c-581">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha384"</span><span class="sxs-lookup"><span data-stu-id="88f5c-581">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha384"</span></span>|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigSHA512Url>|<span data-ttu-id="88f5c-582">"http://www.w3.org/2001/04/xmlenc#sha512"</span><span class="sxs-lookup"><span data-stu-id="88f5c-582">"http://www.w3.org/2001/04/xmlenc#sha512"</span></span>|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigRSASHA512Url>|<span data-ttu-id="88f5c-583">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"</span><span class="sxs-lookup"><span data-stu-id="88f5c-583">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"</span></span>|

 <span data-ttu-id="88f5c-584">Todos os programas que registraram um manipulador <xref:System.Security.Cryptography.SignatureDescription> personalizado em <xref:System.Security.Cryptography.CryptoConfig> para adicionar suporte a esses algoritmos continuarão a funcionar como antes, mas como agora há padrões de plataforma, o registro de <xref:System.Security.Cryptography.CryptoConfig> não é mais necessário.</span><span class="sxs-lookup"><span data-stu-id="88f5c-584">Any programs that have registered a custom <xref:System.Security.Cryptography.SignatureDescription> handler into <xref:System.Security.Cryptography.CryptoConfig> to add support for these algorithms will continue to function as they did in the past, but since there are now platform defaults, the <xref:System.Security.Cryptography.CryptoConfig> registration is no longer necessary.</span></span>

<a name="SQLClient" />

### <a name="sqlclient"></a><span data-ttu-id="88f5c-585">SqlClient</span><span class="sxs-lookup"><span data-stu-id="88f5c-585">SqlClient</span></span>

<span data-ttu-id="88f5c-586">O provedor de dados do .NET Framework para SQL Server (<xref:System.Data.SqlClient?displayProperty=nameWithType>) inclui os seguintes recursos novos no .NET Framework 4.6.2:</span><span class="sxs-lookup"><span data-stu-id="88f5c-586">.NET Framework Data Provider for SQL Server (<xref:System.Data.SqlClient?displayProperty=nameWithType>) includes the following new features in the .NET Framework 4.6.2:</span></span>

<span data-ttu-id="88f5c-587">**Pooling de conexão e tempos limite com bancos de dados SQL do Azure**</span><span class="sxs-lookup"><span data-stu-id="88f5c-587">**Connection pooling and timeouts with Azure SQL databases**</span></span>

<span data-ttu-id="88f5c-588">Quando o pooling de conexão estiver habilitado e ocorrer um tempo limite ou outro erro de logon, uma exceção será armazenada em cache, e a exceção em cache será lançada em qualquer tentativa de conexão subsequentes nos próximos cinco segundos a um minuto.</span><span class="sxs-lookup"><span data-stu-id="88f5c-588">When connection pooling is enabled and a timeout or other login error occurs, an exception is cached, and the cached exception is thrown on any subsequent connection attempt for the next 5 seconds  to 1 minute.</span></span>  <span data-ttu-id="88f5c-589">Para obter mais detalhes, confira [Pooling de conexão do SQL Server (ADO.NET)](../data/adonet/sql-server-connection-pooling.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-589">For more details, see [SQL Server Connection Pooling (ADO.NET)](../data/adonet/sql-server-connection-pooling.md).</span></span>

<span data-ttu-id="88f5c-590">Esse comportamento não é desejável ao se conectar a Bancos de Dados SQL do Azure, uma vez que as tentativas de conexão podem falhar com erros transitórios que normalmente são recuperados rapidamente.</span><span class="sxs-lookup"><span data-stu-id="88f5c-590">This behavior is not desirable when connecting to Azure SQL Databases, since connection attempts can fail with transient errors that are typically recovered quickly.</span></span> <span data-ttu-id="88f5c-591">Para otimizar melhor a experiência de repetição de conexão, o comportamento do período de bloqueio do pool conexão é removido quando as conexões com os Bancos de Dados SQL do Azure falham.</span><span class="sxs-lookup"><span data-stu-id="88f5c-591">To better optimize the connection retry experience, the connection pool blocking period behavior is removed when connections to Azure SQL Databases fail.</span></span>

<span data-ttu-id="88f5c-592">A adição da nova palavra-chave `PoolBlockingPeriod` permite que você selecione o período de bloqueio mais adequado para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-592">The addition of the new `PoolBlockingPeriod` keyword lets you to select the blocking period best suited for your app.</span></span> <span data-ttu-id="88f5c-593">Os valores são:</span><span class="sxs-lookup"><span data-stu-id="88f5c-593">Values include:</span></span>

<xref:System.Data.SqlClient.PoolBlockingPeriod.Auto>

<span data-ttu-id="88f5c-594">O período de bloqueio do pool de conexão de um aplicativo que se conecta a um Banco de Dados SQL do Azure está desabilitado, e período de bloqueio do pool de conexão de um aplicativo que se conecta a qualquer outra instância do SQL Server está habilitado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-594">The connection pool blocking period for an application that connects to an Azure SQL Database is disabled, and the connection pool blocking period for an application that connects to any other SQL Server instance is enabled.</span></span> <span data-ttu-id="88f5c-595">Este é o valor padrão.</span><span class="sxs-lookup"><span data-stu-id="88f5c-595">This is the default value.</span></span> <span data-ttu-id="88f5c-596">Se o nome de ponto de extremidade do Servidor terminar com qualquer uma das seguintes opções, será considerado um Banco de Dado SQL do Azure:</span><span class="sxs-lookup"><span data-stu-id="88f5c-596">If the Server endpoint name ends with any of the following, they are considered Azure SQL Databases:</span></span>

- <span data-ttu-id="88f5c-597">.database.windows.net</span><span class="sxs-lookup"><span data-stu-id="88f5c-597">.database.windows.net</span></span>

- <span data-ttu-id="88f5c-598">.database.chinacloudapi.cn</span><span class="sxs-lookup"><span data-stu-id="88f5c-598">.database.chinacloudapi.cn</span></span>

- <span data-ttu-id="88f5c-599">.database.usgovcloudapi.net</span><span class="sxs-lookup"><span data-stu-id="88f5c-599">.database.usgovcloudapi.net</span></span>

- <span data-ttu-id="88f5c-600">.database.cloudapi.de</span><span class="sxs-lookup"><span data-stu-id="88f5c-600">.database.cloudapi.de</span></span>

<xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock>

<span data-ttu-id="88f5c-601">O período de bloqueio do pool de conexão está sempre habilitado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-601">The connection pool blocking period is always enabled.</span></span>

<xref:System.Data.SqlClient.PoolBlockingPeriod.NeverBlock>

<span data-ttu-id="88f5c-602">O período de bloqueio do pool de conexão está sempre desabilitado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-602">The connection pool blocking period is always disabled.</span></span>

<span data-ttu-id="88f5c-603">**Aprimoramentos para Always Encrypted**</span><span class="sxs-lookup"><span data-stu-id="88f5c-603">**Enhancements for Always Encrypted**</span></span>

<span data-ttu-id="88f5c-604">O SQLClient apresenta dois aprimoramentos para Always Encrypted:</span><span class="sxs-lookup"><span data-stu-id="88f5c-604">SQLClient introduces two enhancements for Always Encrypted:</span></span>

- <span data-ttu-id="88f5c-605">Agora, para melhorar o desempenho de consultas parametrizadas em colunas de banco de dados criptografadas, os metadados de criptografia para parâmetros de consulta são armazenado em cache.</span><span class="sxs-lookup"><span data-stu-id="88f5c-605">To improve performance of parameterized queries against encrypted database columns, encryption metadata for query parameters is now cached.</span></span> <span data-ttu-id="88f5c-606">Com a propriedade <xref:System.Data.SqlClient.SqlConnection.ColumnEncryptionQueryMetadataCacheEnabled%2A?displayProperty=nameWithType> definida como `true` (que é o valor padrão), se a mesma consulta for chamada várias vezes, o cliente recuperará metadados de parâmetro do servidor somente uma vez.</span><span class="sxs-lookup"><span data-stu-id="88f5c-606">With the <xref:System.Data.SqlClient.SqlConnection.ColumnEncryptionQueryMetadataCacheEnabled%2A?displayProperty=nameWithType> property set to `true` (which is the default value), if the same query is called multiple times, the client retrieves parameter metadata from the server only once.</span></span>

- <span data-ttu-id="88f5c-607">As entradas de chave de criptografia da coluna no cache de chave são removidas após um intervalo de tempo configurável, definido usando a propriedade <xref:System.Data.SqlClient.SqlConnection.ColumnEncryptionKeyCacheTtl%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-607">Column encryption key entries in the key cache are now evicted after a configurable time interval, set using the <xref:System.Data.SqlClient.SqlConnection.ColumnEncryptionKeyCacheTtl%2A?displayProperty=nameWithType> property.</span></span>

<a name="WCF" />

### <a name="windows-communication-foundation"></a><span data-ttu-id="88f5c-608">Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="88f5c-608">Windows Communication Foundation</span></span>

<span data-ttu-id="88f5c-609">No .NET Framework 4.6.2, o Windows Communication Foundation foi aprimorado nas seguintes áreas:</span><span class="sxs-lookup"><span data-stu-id="88f5c-609">In the .NET Framework 4.6.2, Windows Communication Foundation has been enhanced in the following areas:</span></span>

<span data-ttu-id="88f5c-610">**Suporte à segurança de transporte do WCF para certificados armazenados usando CNG**</span><span class="sxs-lookup"><span data-stu-id="88f5c-610">**WCF transport security support for certificates stored using CNG**</span></span>

<span data-ttu-id="88f5c-611">A segurança de transporte do WCF dá suporte a certificados armazenados usando a biblioteca de criptografia do Windows (CNG).</span><span class="sxs-lookup"><span data-stu-id="88f5c-611">WCF transport security supports certificates stored using the Windows cryptography library (CNG).</span></span> <span data-ttu-id="88f5c-612">No .NET Framework 4.6.2, esse suporte é limitado ao uso de certificados com uma chave pública que tenha um expoente não superior a 32 bits de comprimento.</span><span class="sxs-lookup"><span data-stu-id="88f5c-612">In the .NET Framework 4.6.2, this support is limited to using certificates with a public key that has an exponent no more than 32 bits in length.</span></span> <span data-ttu-id="88f5c-613">Quando um aplicativo é direcionado ao .NET Framework 4.6.2, esse recurso é ativado por padrão.</span><span class="sxs-lookup"><span data-stu-id="88f5c-613">When an application targets the .NET Framework 4.6.2, this feature is on by default.</span></span>

<span data-ttu-id="88f5c-614">Para aplicativos direcionados ao .NET Framework 4.6.1 e versões anteriores, mas que são executados no .NET Framework 4.6.2, esse recurso pode ser habilitado adicionando a seguinte linha à seção [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) do arquivo app.config ou web.config.</span><span class="sxs-lookup"><span data-stu-id="88f5c-614">For applications that target the .NET Framework 4.6.1 and earlier but are running on the .NET Framework 4.6.2, this feature can be enabled by adding the following line to the [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) section of the app.config or web.config file.</span></span>

```xml
<AppContextSwitchOverrides
    value="Switch.System.ServiceModel.DisableCngCertificates=false"
/>
```

<span data-ttu-id="88f5c-615">Isso também pode ser feito de modo programático com um código como o seguinte:</span><span class="sxs-lookup"><span data-stu-id="88f5c-615">This can also be done programmatically with code like the following:</span></span>

```csharp
private const string DisableCngCertificates = @"Switch.System.ServiceModel.DisableCngCertificates";
AppContext.SetSwitch(disableCngCertificates, false);
```

```vb
Const DisableCngCertificates As String = "Switch.System.ServiceModel.DisableCngCertificates"
AppContext.SetSwitch(disableCngCertificates, False)
```

<span data-ttu-id="88f5c-616">**Melhor suporte para várias regras de ajuste de horário de verão pela classe DataContractJsonSerializer**</span><span class="sxs-lookup"><span data-stu-id="88f5c-616">**Better support for multiple daylight saving time adjustment rules by the DataContractJsonSerializer class**</span></span>

<span data-ttu-id="88f5c-617">Os clientes podem usar uma configuração de aplicativo para determinar se a classe<xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> dá suporte a várias regras de ajuste para um único fuso horário.</span><span class="sxs-lookup"><span data-stu-id="88f5c-617">Customers can use an application configuration setting to determine whether the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> class supports multiple adjustment rules for a single time zone.</span></span> <span data-ttu-id="88f5c-618">Esse é um recurso de opção de aceitação.</span><span class="sxs-lookup"><span data-stu-id="88f5c-618">This is an opt-in feature.</span></span> <span data-ttu-id="88f5c-619">Para habilitá-lo, adicione a seguinte configuração ao arquivo app.config:</span><span class="sxs-lookup"><span data-stu-id="88f5c-619">To enable it, add the following setting to your app.config file:</span></span>

```xml
<runtime>
     <AppContextSwitchOverrides value="Switch.System.Runtime.Serialization.DoNotUseTimeZoneInfo=false" />
</runtime>
```

<span data-ttu-id="88f5c-620">Quando esse recurso estiver habilitado, um objeto <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> usará o tipo <xref:System.TimeZoneInfo> em vez do <xref:System.TimeZone> para desserializar dados de data e hora.</span><span class="sxs-lookup"><span data-stu-id="88f5c-620">When this feature is enabled, a <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> object uses the <xref:System.TimeZoneInfo> type instead of the <xref:System.TimeZone> type to deserialize date and time data.</span></span> <span data-ttu-id="88f5c-621">O <xref:System.TimeZoneInfo> oferece suporte a várias regras de ajuste, o que possibilita o trabalho com dados históricos fuso horário; o <xref:System.TimeZone> não oferece.</span><span class="sxs-lookup"><span data-stu-id="88f5c-621"><xref:System.TimeZoneInfo> supports multiple adjustment rules, which makes it possible to work with historic time zone data;   <xref:System.TimeZone> does not.</span></span>

<span data-ttu-id="88f5c-622">Para saber mais sobre a estrutura <xref:System.TimeZoneInfo> e ajustes de fuso horário, confira [Visão geral do fuso horário](../../standard/datetime/time-zone-overview.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-622">For more information on the <xref:System.TimeZoneInfo> structure and time zone adjustments, see [Time Zone Overview](../../standard/datetime/time-zone-overview.md).</span></span>

<span data-ttu-id="88f5c-623">**Melhor correspondência de NetNamedPipeBinding**</span><span class="sxs-lookup"><span data-stu-id="88f5c-623">**NetNamedPipeBinding best match**</span></span>

<span data-ttu-id="88f5c-624">O WCF possui uma nova configuração de aplicativo que pode ser definida em aplicativos cliente para garantir que eles sempre se conectem ao serviço escutando no URI mais próximo ao solicitado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-624">WCF has a new app setting that can be set on client applications to ensure they always connect to the service listening on the URI that best matches the one that they request.</span></span> <span data-ttu-id="88f5c-625">Com essa configuração de aplicativo definida como `false` (padrão), os clientes podem usar <xref:System.ServiceModel.NetNamedPipeBinding> para tentar se conectar a um serviço escutando em um URI que é uma subcadeia de caracteres do URI solicitado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-625">With this app setting set to `false` (the default), it is possible for clients using <xref:System.ServiceModel.NetNamedPipeBinding> to attempt to connect to a service listening on a URI that is a substring of the requested URI.</span></span>

<span data-ttu-id="88f5c-626">Por exemplo, um cliente tenta se conectar a um serviço escutando em `net.pipe://localhost/Service1`, mas um serviço diferente nessa máquina que está executando com privilégios de administrador está escutando em `net.pipe://localhost`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-626">For example, a client tries to connect to a service listening at `net.pipe://localhost/Service1`, but a different service on that machine running with administrator privilege is listening at `net.pipe://localhost`.</span></span> <span data-ttu-id="88f5c-627">Com essa configuração de aplicativo definida como `false`, o cliente tentaria se conectar ao serviço errado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-627">With this app setting set to `false`, the client would attempt to connect to the wrong service.</span></span> <span data-ttu-id="88f5c-628">Depois de definir a configuração do aplicativo como `true`, o cliente sempre se conectará ao serviço com correspondência mais próxima.</span><span class="sxs-lookup"><span data-stu-id="88f5c-628">After setting the app setting to `true`, the client will always connect to the best matching service.</span></span>

> [!NOTE]
> <span data-ttu-id="88f5c-629">Os clientes que usam <xref:System.ServiceModel.NetNamedPipeBinding> localizam serviços com base no endereço base do serviço (se ele existir) em vez do endereço de ponto de extremidade completo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-629">Clients using <xref:System.ServiceModel.NetNamedPipeBinding> find services based on the service's base address (if it exists) rather than the full endpoint address.</span></span> <span data-ttu-id="88f5c-630">Para garantir sempre o funcionamento dessa configuração o serviço deve usar um endereço base exclusivo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-630">To ensure this setting always works the service should use a unique base address.</span></span>

<span data-ttu-id="88f5c-631">Para habilitar essa alteração, adicione a seguinte configuração de aplicativo ao arquivo app.config ou web.config de seu aplicativo cliente:</span><span class="sxs-lookup"><span data-stu-id="88f5c-631">To enable this change, add the following app setting to your client application's App.config or Web.config file:</span></span>

```xml
<configuration>
    <appSettings>
        <add key="wcf:useBestMatchNamedPipeUri" value="true" />
    </appSettings>
</configuration>
```

<span data-ttu-id="88f5c-632">**SSL 3.0 não é um protocolo padrão**</span><span class="sxs-lookup"><span data-stu-id="88f5c-632">**SSL 3.0 is not a default protocol**</span></span>

<span data-ttu-id="88f5c-633">Ao usar NetTcp com segurança de transporte e um tipo de credencial de certificado, o SSL 3.0 não é mais um protocolo padrão usado para negociar uma conexão segura.</span><span class="sxs-lookup"><span data-stu-id="88f5c-633">When using NetTcp with transport security and a credential type of certificate, SSL 3.0 is no longer a default protocol used for negotiating a secure connection.</span></span> <span data-ttu-id="88f5c-634">Na maioria dos casos, não deve haver impacto nos aplicativos existentes, pois o TLS 1.0 está incluído na lista de protocolos para NetTcp.</span><span class="sxs-lookup"><span data-stu-id="88f5c-634">In most cases, there should be no impact to existing apps, because TLS 1.0 is included in the protocol list for NetTcp.</span></span> <span data-ttu-id="88f5c-635">Todos os clientes existentes devem ser capazes de negociar uma conexão usando no mínimo o TLS 1.0.</span><span class="sxs-lookup"><span data-stu-id="88f5c-635">All existing clients should be able to negotiate a connection using at least TLS 1.0.</span></span> <span data-ttu-id="88f5c-636">Se Ssl3 for exigido, use um dos seguintes mecanismos de configuração para adicioná-lo à lista de protocolos negociados.</span><span class="sxs-lookup"><span data-stu-id="88f5c-636">If Ssl3 is required, use one of the following configuration mechanisms to add it to the list of negotiated protocols.</span></span>

- <span data-ttu-id="88f5c-637">A propriedade <xref:System.ServiceModel.Channels.SslStreamSecurityBindingElement.SslProtocols%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="88f5c-637">The <xref:System.ServiceModel.Channels.SslStreamSecurityBindingElement.SslProtocols%2A?displayProperty=nameWithType> property</span></span>

- <span data-ttu-id="88f5c-638">A propriedade <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="88f5c-638">The <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols%2A?displayProperty=nameWithType> property</span></span>

- <span data-ttu-id="88f5c-639">A seção [\<transport>](../configure-apps/file-schema/wcf/transport-of-nettcpbinding.md) da seção [\<netTcpBinding>](../configure-apps/file-schema/wcf/nettcpbinding.md)</span><span class="sxs-lookup"><span data-stu-id="88f5c-639">The [\<transport>](../configure-apps/file-schema/wcf/transport-of-nettcpbinding.md) section of the [\<netTcpBinding>](../configure-apps/file-schema/wcf/nettcpbinding.md) section</span></span>

- <span data-ttu-id="88f5c-640">A seção [\<sslStreamSecurity>](../configure-apps/file-schema/wcf/sslstreamsecurity.md) da seção [\<customBinding>](../configure-apps/file-schema/wcf/custombinding.md)</span><span class="sxs-lookup"><span data-stu-id="88f5c-640">The [\<sslStreamSecurity>](../configure-apps/file-schema/wcf/sslstreamsecurity.md) section of the [\<customBinding>](../configure-apps/file-schema/wcf/custombinding.md) section</span></span>

<a name="WPF462" />

### <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="88f5c-641">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="88f5c-641">Windows Presentation Foundation (WPF)</span></span>

<span data-ttu-id="88f5c-642">No .NET Framework 4.6.2, o Windows Presentation Foundation foi aprimorado nas seguintes áreas:</span><span class="sxs-lookup"><span data-stu-id="88f5c-642">In the .NET Framework 4.6.2, Windows Presentation Foundation has been enhanced in the following areas:</span></span>

<span data-ttu-id="88f5c-643">**Classificação de grupo**</span><span class="sxs-lookup"><span data-stu-id="88f5c-643">**Group sorting**</span></span>

<span data-ttu-id="88f5c-644">Um aplicativo que usa um objeto <xref:System.Windows.Data.CollectionView> para agrupar dados agora pode declarar explicitamente como classificar os grupos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-644">An application that uses a <xref:System.Windows.Data.CollectionView> object to group data can now explicitly declare how to  sort the groups.</span></span> <span data-ttu-id="88f5c-645">A classificação explícita resolve o problema de ordens não intuitivas que ocorrem quando um aplicativo adiciona ou remove grupos dinamicamente, ou quando ele altera o valor das propriedades do item envolvidas no agrupamento.</span><span class="sxs-lookup"><span data-stu-id="88f5c-645">Explicit sorting addresses the problem of non-intuitive ordering that occurs when an app dynamically adds or removes groups, or when it changes the value of item properties involved in grouping.</span></span> <span data-ttu-id="88f5c-646">Ela também pode melhorar o desempenho do processo de criação de grupo mudando comparações das propriedades de agrupamento da classificação da coleção inteira para a classificação dos grupos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-646">It can also improve the performance of the group creation process by moving comparisons of the grouping properties from the sort of the full collection to the sort of the groups.</span></span>

<span data-ttu-id="88f5c-647">Para oferecer suporte à classificação de grupo, as novas propriedades <xref:System.ComponentModel.GroupDescription.SortDescriptions%2A?displayProperty=nameWithType> e <xref:System.ComponentModel.GroupDescription.CustomSort%2A?displayProperty=nameWithType> descrevem como classificar a coleção de grupos produzida pelo objeto <xref:System.ComponentModel.GroupDescription>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-647">To support group sorting, the new <xref:System.ComponentModel.GroupDescription.SortDescriptions%2A?displayProperty=nameWithType> and <xref:System.ComponentModel.GroupDescription.CustomSort%2A?displayProperty=nameWithType> properties describe how to sort the collection of groups produced by the <xref:System.ComponentModel.GroupDescription> object.</span></span> <span data-ttu-id="88f5c-648">Isso é semelhante à forma como as propriedades <xref:System.Windows.Data.ListCollectionView> de nome idêntico descrevem como classificar os itens de dados.</span><span class="sxs-lookup"><span data-stu-id="88f5c-648">This is analogous to the way the identically named <xref:System.Windows.Data.ListCollectionView> properties describe how to sort the data items.</span></span>

<span data-ttu-id="88f5c-649">As duas novas propriedades estáticas da classe <xref:System.Windows.Data.PropertyGroupDescription>, <xref:System.Windows.Data.PropertyGroupDescription.CompareNameAscending%2A> e <xref:System.Windows.Data.PropertyGroupDescription.CompareNameDescending%2A>, podem ser usadas para os casos mais comuns.</span><span class="sxs-lookup"><span data-stu-id="88f5c-649">Two new static properties of the <xref:System.Windows.Data.PropertyGroupDescription> class,  <xref:System.Windows.Data.PropertyGroupDescription.CompareNameAscending%2A> and <xref:System.Windows.Data.PropertyGroupDescription.CompareNameDescending%2A>, can be used for the most common cases.</span></span>

<span data-ttu-id="88f5c-650">Por exemplo, os seguintes dados de grupos XAML por idade, classificam as faixas etárias em ordem crescente, e agrupam os itens dentro de cada faixa etária por sobrenome.</span><span class="sxs-lookup"><span data-stu-id="88f5c-650">For example, the following XAML groups data by age, sort the age groups in ascending order, and group the items within each age group by last name.</span></span>

```xaml
<GroupDescriptions>
     <PropertyGroupDescription
         PropertyName="Age"
         CustomSort=
              "{x:Static PropertyGroupDescription.CompareNamesAscending}"/>
     </PropertyGroupDescription>
</GroupDescriptions>

<SortDescriptions>
     <SortDescription PropertyName="LastName"/>
</SortDescriptions>
```

<span data-ttu-id="88f5c-651">**Suporte ao teclado virtual**</span><span class="sxs-lookup"><span data-stu-id="88f5c-651">**Soft keyboard support**</span></span>

<span data-ttu-id="88f5c-652">O suporte ao teclado virtual permite o acompanhamento de foco em aplicativos WPF invocando e ignorando automaticamente o novo Teclado Virtual no Windows 10 quando a entrada de toque for recebida por um controle que aceita entrada textual.</span><span class="sxs-lookup"><span data-stu-id="88f5c-652">Soft Keyboard support enables focus tracking in a WPF applications by automatically invoking and dismissing the new Soft Keyboard in Windows 10 when the touch input is received by a control that can take textual input.</span></span>

<span data-ttu-id="88f5c-653">Nas versões anteriores do .NET Framework, os aplicativos WPF não podiam aceitar o acompanhamento de foco sem desabilitar o suporte a gestos caneta/toque do WPF.</span><span class="sxs-lookup"><span data-stu-id="88f5c-653">In previous versions of the .NET Framework, WPF applications cannot opt into the focus tracking without disabling WPF pen/touch gesture support.</span></span>  <span data-ttu-id="88f5c-654">Como resultado, os aplicativos WPF devem escolher entre o suporte total a toque do WPF ou depender da promoção de mouse do Windows.</span><span class="sxs-lookup"><span data-stu-id="88f5c-654">As a result, WPF applications must choose between full WPF touch support or rely on Windows mouse promotion.</span></span>

<span data-ttu-id="88f5c-655">**DPI por monitor**</span><span class="sxs-lookup"><span data-stu-id="88f5c-655">**Per-monitor DPI**</span></span>

<span data-ttu-id="88f5c-656">Para dar suporte à recente proliferação de ambientes com alto DPI e DPI híbrido para aplicativos WPF, o WPF no .NET Framework 4.6.2 permite o reconhecimento por monitor.</span><span class="sxs-lookup"><span data-stu-id="88f5c-656">To support the recent proliferation of high-DPI and hybrid-DPI environments for WPF apps, WPF in the .NET Framework 4.6.2 enables per-monitor awareness.</span></span> <span data-ttu-id="88f5c-657">Confira [Exemplos e guia do desenvolvedor](https://github.com/Microsoft/WPF-Samples/tree/master/PerMonitorDPI) no GitHub para saber mais sobre como habilitar seu aplicativo WPF para ter o reconhecimento do DPI por monitor.</span><span class="sxs-lookup"><span data-stu-id="88f5c-657">See the [samples and developer guide](https://github.com/Microsoft/WPF-Samples/tree/master/PerMonitorDPI) on GitHub for more information about how to enable your WPF app to become per-monitor DPI aware.</span></span>

<span data-ttu-id="88f5c-658">Nas versões anteriores do .NET Framework, os aplicativos WPF tinha reconhecimento de DPI do sistema.</span><span class="sxs-lookup"><span data-stu-id="88f5c-658">In previous versions of the .NET Framework, WPF apps are system-DPI aware.</span></span> <span data-ttu-id="88f5c-659">Em outras palavras, a interface do usuário do aplicativo é dimensionado adequadamente pelo sistema operacional, dependendo do DPI do monitor no qual o aplicativo é renderizado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-659">In other words, the application's UI is scaled by the OS as appropriate, depending on the DPI of the monitor on which the app is rendered.</span></span> <span data-ttu-id="88f5c-660">,</span><span class="sxs-lookup"><span data-stu-id="88f5c-660">,</span></span>

<span data-ttu-id="88f5c-661">Para aplicativos em execução no .NET Framework 4.6.2, você pode desabilitar as alterações de DPI por monitor em aplicativos WPF adicionando uma instrução de configuração à seção [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) do arquivo de configuração do aplicativo, da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="88f5c-661">For apps running under the .NET Framework 4.6.2, you can disable per-monitor DPI changes in WPF apps by adding a configuration statement to the [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) section of your application configuration file, as follows:</span></span>

```xml
<runtime>
   <AppContextSwitchOverrides value="Switch.System.Windows.DoNotScaleForDpiChanges=false"/>
</runtime>
```

<a name="WF462" />

### <a name="windows-workflow-foundation-wf"></a><span data-ttu-id="88f5c-662">Windows Workflow Foundation (WF)</span><span class="sxs-lookup"><span data-stu-id="88f5c-662">Windows Workflow Foundation (WF)</span></span>

<span data-ttu-id="88f5c-663">No .NET Framework 4.6.2, o Windows Workflow Foundation foi aprimorado na seguinte área:</span><span class="sxs-lookup"><span data-stu-id="88f5c-663">In the .NET Framework 4.6.2, Windows Workflow Foundation has been enhanced in the following area:</span></span>

<span data-ttu-id="88f5c-664">**Suporte para expressões em C# e IntelliSense no Designer do WF hospedado novamente**</span><span class="sxs-lookup"><span data-stu-id="88f5c-664">**Support for C# expressions and IntelliSense in the Re-hosted WF Designer**</span></span>

<span data-ttu-id="88f5c-665">A partir do .NET Framework 4.5, o WF oferece suporte a expressões em C# no Designer do Visual Studio e em fluxos de trabalho de código.</span><span class="sxs-lookup"><span data-stu-id="88f5c-665">Starting with the .NET Framework 4.5, WF supports C# expressions in both the Visual Studio Designer and in code workflows.</span></span> <span data-ttu-id="88f5c-666">O Designer de Fluxo de Trabalho hospedado novamente é um recurso fundamental do WF que permite ao Designer de Fluxo de Trabalho estar em um aplicativo fora do Visual Studio (por exemplo, no WPF).</span><span class="sxs-lookup"><span data-stu-id="88f5c-666">The Re-hosted Workflow Designer is a key feature of WF that allows for the Workflow Designer to be in an application outside Visual Studio (for example, in WPF).</span></span>  <span data-ttu-id="88f5c-667">O Windows Workflow Foundation permite o suporte às expressões em C# e ao IntelliSense no Designer de Fluxo de Trabalho hospedado novamente.</span><span class="sxs-lookup"><span data-stu-id="88f5c-667">Windows Workflow Foundation provides the ability to support C# expressions and IntelliSense in the Re-hosted Workflow Designer.</span></span> <span data-ttu-id="88f5c-668">Para saber mais, confira o [blog do Windows Workflow Foundation](https://go.microsoft.com/fwlink/?LinkID=809042&clcid=0x409).</span><span class="sxs-lookup"><span data-stu-id="88f5c-668">For more information, see the [Windows Workflow Foundation blog](https://go.microsoft.com/fwlink/?LinkID=809042&clcid=0x409).</span></span>

<span data-ttu-id="88f5c-669">`Availability of IntelliSense when a customer rebuilds a workflow project from Visual Studio` Nas versões do .NET Framework anteriores ao .NET Framework 4.6.2, o IntelliSense de Designer do WF é interrompido quando um cliente recompila um projeto de fluxo de trabalho no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="88f5c-669">`Availability of IntelliSense when a customer rebuilds a workflow project from Visual Studio` In versions of the .NET Framework prior to the .NET Framework 4.6.2, WF Designer IntelliSense is broken when a customer rebuilds a workflow project from Visual Studio.</span></span> <span data-ttu-id="88f5c-670">Embora a compilação do projeto seja bem-sucedida, os tipos de fluxo de trabalho não são encontrados no designer, e surgem avisos do IntelliSense para os tipos de fluxo de trabalho ausentes na janela **Lista de Erros**.</span><span class="sxs-lookup"><span data-stu-id="88f5c-670">While the project build is successful, the workflow types are not found on the designer, and warnings from IntelliSense for the missing workflow types appear in the **Error List** window.</span></span> <span data-ttu-id="88f5c-671">O .NET Framework 4.6.2 resolve esse problema e disponibiliza o IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="88f5c-671">The .NET Framework 4.6.2 addresses this issue and makes IntelliSense available.</span></span>

<span data-ttu-id="88f5c-672">**Agora, os aplicativos do Fluxo de Trabalho V1 com Acompanhamento de Fluxo de Trabalho ativado são executados no modo FIPS**</span><span class="sxs-lookup"><span data-stu-id="88f5c-672">**Workflow V1 applications with Workflow Tracking on now run under FIPS-mode**</span></span>

<span data-ttu-id="88f5c-673">Máquinas com o Modo de Conformidade FIPS habilitado podem executar um aplicativo no estilo Fluxo de trabalho versão 1 com o acompanhamento de Fluxo de trabalho ativado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-673">Machines with FIPS Compliance Mode enabled can now successfully run a workflow Version 1-style application with Workflow tracking on.</span></span> <span data-ttu-id="88f5c-674">Para habilitar esse cenário, faça a seguinte alteração em seu arquivo app.config:</span><span class="sxs-lookup"><span data-stu-id="88f5c-674">To enable this scenario, you must make the following change to your app.config file:</span></span>

```xml
<add key="microsoft:WorkflowRuntime:FIPSRequired" value="true" />
```

<span data-ttu-id="88f5c-675">Se esse cenário não estiver habilitado, a execução do aplicativo continuará a gerar uma exceção com a mensagem "Esta implementação não faz parte dos algoritmos criptográficos validados por FIPS da Plataforma Windows".</span><span class="sxs-lookup"><span data-stu-id="88f5c-675">If this scenario is not enabled, running the application continues to generate an exception with the message, "This implementation is not part of the Windows Platform FIPS validated cryptographic algorithms."</span></span>

<span data-ttu-id="88f5c-676">**Aprimoramentos de fluxo de trabalho ao usar a Atualização Dinâmica com o Designer de Fluxo de Trabalho do Visual Studio**</span><span class="sxs-lookup"><span data-stu-id="88f5c-676">**Workflow Improvements when using Dynamic Update with Visual Studio Workflow Designer**</span></span>

<span data-ttu-id="88f5c-677">Agora, o Designer de Fluxo de Trabalho, o Designer de Atividade do Fluxograma e outros Designers de Atividade de Fluxo de Trabalho carregam e exibem com êxito os fluxos de trabalho que foram salvos depois de chamar o método <xref:System.Activities.DynamicUpdate.DynamicUpdateServices.PrepareForUpdate%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-677">The Workflow Designer, FlowChart Activity Designer, and other Workflow Activity Designers now successfully load and display workflows that have been saved after calling  the <xref:System.Activities.DynamicUpdate.DynamicUpdateServices.PrepareForUpdate%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="88f5c-678">Nas versões do .NET Framework anteriores ao .NET Framework 4.6.2, carregar um arquivo XAML no Visual Studio para um fluxo de trabalho que foi salvo após chamar <xref:System.Activities.DynamicUpdate.DynamicUpdateServices.PrepareForUpdate%2A?displayProperty=nameWithType> poderá resultar nos seguintes problemas:</span><span class="sxs-lookup"><span data-stu-id="88f5c-678">In versions of the .NET Framework before .NET Framework 4.6.2, loading a XAML file in Visual Studio for a workflow that has been saved after calling <xref:System.Activities.DynamicUpdate.DynamicUpdateServices.PrepareForUpdate%2A?displayProperty=nameWithType> can result in the following issues:</span></span>

- <span data-ttu-id="88f5c-679">O Designer de Fluxo de Trabalho não consegue carregar o arquivo XAML corretamente (quando <xref:System.Activities.Presentation.ViewState.ViewStateData.Id%2A?displayProperty=nameWithType> está no final da linha).</span><span class="sxs-lookup"><span data-stu-id="88f5c-679">The Workflow Designer can't load the XAML file correctly (when the <xref:System.Activities.Presentation.ViewState.ViewStateData.Id%2A?displayProperty=nameWithType> is at the end of the line).</span></span>

- <span data-ttu-id="88f5c-680">O Designer de Atividades do Fluxograma ou outros Designers de Atividade de Fluxo de Trabalho podem exibir todos os objetos em seus locais padrão em vez de valores de propriedade anexados.</span><span class="sxs-lookup"><span data-stu-id="88f5c-680">Flowchart Activity Designer or other Workflow Activity Designers may display all objects in their default locations as opposed to attached property values.</span></span>

<a name="clickonce-1" />

### <a name="clickonce"></a><span data-ttu-id="88f5c-681">ClickOnce</span><span class="sxs-lookup"><span data-stu-id="88f5c-681">ClickOnce</span></span>

<span data-ttu-id="88f5c-682">O ClickOnce foi atualizado para oferecer suporte a TLS 1.1 e o TLS 1.2, além do protocolo 1.0, para o qual ele já oferece suporte.</span><span class="sxs-lookup"><span data-stu-id="88f5c-682">ClickOnce has been updated to support TLS 1.1 and TLS 1.2 in addition to the 1.0 protocol, which it already supports.</span></span> <span data-ttu-id="88f5c-683">O ClickOnce detecta automaticamente qual protocolo é necessário; não é necessário executar nenhuma etapa adicional dentro do aplicativo ClickOnce para habilitar o suporte ao TLS 1.1 e 1.2.</span><span class="sxs-lookup"><span data-stu-id="88f5c-683">ClickOnce automatically detects which protocol is required; no extra steps within the ClickOnce application are required to enable TLS 1.1 and 1.2 support.</span></span>

<a name="UWPConvert" />

### <a name="converting-windows-forms-and-wpf-apps-to--uwp-apps"></a><span data-ttu-id="88f5c-684">Converter aplicativos do Windows Forms e do WPF em aplicativos UWP</span><span class="sxs-lookup"><span data-stu-id="88f5c-684">Converting Windows Forms and WPF apps to  UWP apps</span></span>

<span data-ttu-id="88f5c-685">Agora, o Windows oferece recursos para levar aplicativos existentes da área de trabalho do Windows, incluindo aplicativos do Windows Forms e WPF, para a plataforma Universal do Windows (UWP).</span><span class="sxs-lookup"><span data-stu-id="88f5c-685">Windows now offers capabilities to bring existing Windows desktop apps, including WPF and Windows Forms apps, to the Universal Windows Platform (UWP).</span></span> <span data-ttu-id="88f5c-686">Essa tecnologia age como uma ponte, permitindo que você migre gradualmente sua base de código existente para a UWP, levando seu aplicativo para todos os dispositivos com Windows 10.</span><span class="sxs-lookup"><span data-stu-id="88f5c-686">This technology acts as a bridge by enabling you to gradually migrate your existing code base to UWP, thereby bringing your app to all Windows 10 devices.</span></span>

<span data-ttu-id="88f5c-687">Os aplicativos da área de trabalho convertidos ganham uma identidade de aplicativo semelhante à identidade de aplicativo de aplicativos da UWP, o que torna as APIs da UWP acessíveis para habilitar recursos como Blocos Dinâmicos e notificações.</span><span class="sxs-lookup"><span data-stu-id="88f5c-687">Converted desktop apps gain an app identity similar to the app identity of UWP apps, which makes UWP APIs accessible to enable features such as Live Tiles and notifications.</span></span> <span data-ttu-id="88f5c-688">O aplicativo continua a se comportar como antes e é executado como um aplicativo de confiança total.</span><span class="sxs-lookup"><span data-stu-id="88f5c-688">The app continues to behave as before and runs as a full trust app.</span></span> <span data-ttu-id="88f5c-689">Após a conversão do aplicativo, um processo de contêiner do aplicativo pode ser adicionado ao processo de confiança total existente a fim de adicionar uma interface do usuário adaptável.</span><span class="sxs-lookup"><span data-stu-id="88f5c-689">Once the app is converted, an app container process can be added to the existing full trust process to add an adaptive user interface.</span></span> <span data-ttu-id="88f5c-690">Quando toda a funcionalidade for movida para o processo de contêiner do aplicativo, o processo de confiança total poderá ser removido, e o novo aplicativo UWP poderá ser disponibilizado para todos os dispositivos com Windows 10.</span><span class="sxs-lookup"><span data-stu-id="88f5c-690">When all functionality is moved to the app container process, the full trust process can be removed and the new UWP app can be made available to all Windows 10 devices.</span></span>

<a name="Debug462" />

### <a name="debugging-improvements"></a><span data-ttu-id="88f5c-691">Melhorias na depuração</span><span class="sxs-lookup"><span data-stu-id="88f5c-691">Debugging improvements</span></span>

<span data-ttu-id="88f5c-692">A *API de depuração não gerenciada* foi aprimorada no .NET Framework 4.6.2 para executar análises adicionais quando um <xref:System.NullReferenceException> for gerado, para que seja possível determinar qual variável em uma única linha do código-fonte é `null`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-692">The *unmanaged debugging API* has been enhanced in the .NET Framework 4.6.2 to perform additional analysis when a <xref:System.NullReferenceException> is thrown so that it is possible to determine which variable in a single line of source code is `null`.</span></span>   <span data-ttu-id="88f5c-693">Para oferecer suporte a esse cenário, as seguintes APIs foram adicionadas à API de depuração não gerenciada.</span><span class="sxs-lookup"><span data-stu-id="88f5c-693">To support this scenario, the following APIs have been added to the unmanaged debugging API.</span></span>

- <span data-ttu-id="88f5c-694">As interfaces [ICorDebugCode4](../unmanaged-api/debugging/icordebugcode4-interface.md), [ICorDebugVariableHome](../unmanaged-api/debugging/icordebugvariablehome-interface.md) e [ICorDebugVariableHomeEnum](../unmanaged-api/debugging/icordebugvariablehomeenum-interface.md), que expõem os locais nativos das variáveis gerenciadas.</span><span class="sxs-lookup"><span data-stu-id="88f5c-694">The [ICorDebugCode4](../unmanaged-api/debugging/icordebugcode4-interface.md), [ICorDebugVariableHome](../unmanaged-api/debugging/icordebugvariablehome-interface.md), and [ICorDebugVariableHomeEnum](../unmanaged-api/debugging/icordebugvariablehomeenum-interface.md) interfaces, which expose the native homes of managed variables.</span></span> <span data-ttu-id="88f5c-695">Isso permite que os depuradores façam algumas análises de fluxo de código quando uma <xref:System.NullReferenceException> ocorrer e trabalhem com versões anteriores para determinar a variável gerenciada que corresponde ao local nativo no qual estava `null`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-695">This enables debuggers to do some code flow analysis when a  <xref:System.NullReferenceException> occurs and to work backwards to determine the managed variable that corresponds to the native location that was `null`.</span></span>

- <span data-ttu-id="88f5c-696">O método [ICorDebugType2::GetTypeID](../unmanaged-api/debugging/icordebugtype2-gettypeid-method.md) fornece um mapeamento para ICorDebugType para [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md), que permite que o depurador obtenha um [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md) sem uma instância do ICorDebugType.</span><span class="sxs-lookup"><span data-stu-id="88f5c-696">The [ICorDebugType2::GetTypeID](../unmanaged-api/debugging/icordebugtype2-gettypeid-method.md) method provides a mapping for ICorDebugType to [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md), which allows the debugger to obtain a [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md) without an instance of the ICorDebugType.</span></span> <span data-ttu-id="88f5c-697">APIs existentes em [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md) podem ser usadas para determinar o layout de classe do tipo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-697">Existing APIs on [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md) can then be used to determine the class layout of the type.</span></span>

<a name="v461" />

## <a name="whats-new-in-net-framework-461"></a><span data-ttu-id="88f5c-698">Novidades no .NET Framework 4.6.1</span><span class="sxs-lookup"><span data-stu-id="88f5c-698">What's new in .NET Framework 4.6.1</span></span>

<span data-ttu-id="88f5c-699">O .NET Framework 4.6.1 inclui novos recursos nas seguintes áreas:</span><span class="sxs-lookup"><span data-stu-id="88f5c-699">The .NET Framework 4.6.1 includes new features in the following areas:</span></span>

- [<span data-ttu-id="88f5c-700">Criptografia</span><span class="sxs-lookup"><span data-stu-id="88f5c-700">Cryptography</span></span>](#Crypto)

- [<span data-ttu-id="88f5c-701">ADO.NET</span><span class="sxs-lookup"><span data-stu-id="88f5c-701">ADO.NET</span></span>](#ADO.NET461)

- [<span data-ttu-id="88f5c-702">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="88f5c-702">Windows Presentation Foundation (WPF)</span></span>](#WPF461)

- [<span data-ttu-id="88f5c-703">Windows Workflow Foundation</span><span class="sxs-lookup"><span data-stu-id="88f5c-703">Windows Workflow Foundation</span></span>](#WWF461)

- [<span data-ttu-id="88f5c-704">Criação de perfil</span><span class="sxs-lookup"><span data-stu-id="88f5c-704">Profiling</span></span>](#Profile461)

- [<span data-ttu-id="88f5c-705">NGen</span><span class="sxs-lookup"><span data-stu-id="88f5c-705">NGen</span></span>](#NGEN461)

<span data-ttu-id="88f5c-706">Para saber mais sobre o .NET Framework 4.6.1, consulte os seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="88f5c-706">For more information on the .NET Framework 4.6.1, see the following topics:</span></span>

- [<span data-ttu-id="88f5c-707">Lista de alterações do .NET Framework 4.6.1</span><span class="sxs-lookup"><span data-stu-id="88f5c-707">.NET Framework 4.6.1 list of changes</span></span>](https://go.microsoft.com/fwlink/?LinkId=622964)

- [<span data-ttu-id="88f5c-708">Compatibilidade de aplicativos na versão 4.6.1</span><span class="sxs-lookup"><span data-stu-id="88f5c-708">Application Compatibility in 4.6.1</span></span>](../migration-guide/application-compatibility-in-the-net-framework-4-6-1.md)

- <span data-ttu-id="88f5c-709">[Comparação da API do .NET Framework](https://go.microsoft.com/fwlink/?LinkId=622989) (no GitHub)</span><span class="sxs-lookup"><span data-stu-id="88f5c-709">[.NET Framework API diff](https://go.microsoft.com/fwlink/?LinkId=622989) (on GitHub)</span></span>

<a name="Crypto" />

### <a name="cryptography-support-for-x509-certificates-containing-ecdsa"></a><span data-ttu-id="88f5c-710">Criptografia: Suporte aos certificados X509 contendo ECDSA</span><span class="sxs-lookup"><span data-stu-id="88f5c-710">Cryptography: Support for X509 certificates containing ECDSA</span></span>

<span data-ttu-id="88f5c-711">O .NET Framework 4.6 adicionou suporte a RSACng para certificados X509.</span><span class="sxs-lookup"><span data-stu-id="88f5c-711">.NET Framework 4.6 added RSACng support for X509 certificates.</span></span> <span data-ttu-id="88f5c-712">O .NET Framework 4.6.1 adiciona suporte para certificados X509 ECDSA (Algoritmo de Assinatura Digital de Curva Elíptica).</span><span class="sxs-lookup"><span data-stu-id="88f5c-712">The .NET Framework 4.6.1 adds support for ECDSA (Elliptic Curve Digital Signature Algorithm) X509 certificates.</span></span>

<span data-ttu-id="88f5c-713">O ECDSA oferece melhor desempenho e é um algoritmo de criptografia mais seguro do que o RSA, fornecendo uma excelente opção quando o desempenho e a escalabilidade de TLS (Transport Layer Security) forem uma preocupação.</span><span class="sxs-lookup"><span data-stu-id="88f5c-713">ECDSA offers better performance and is a more secure cryptography algorithm than RSA, providing an excellent choice where Transport Layer Security (TLS) performance and scalability is a concern.</span></span> <span data-ttu-id="88f5c-714">A implementação do .NET Framework envolve chamadas para funcionalidades existentes do Windows.</span><span class="sxs-lookup"><span data-stu-id="88f5c-714">The .NET Framework implementation wraps calls into existing Windows functionality.</span></span>

<span data-ttu-id="88f5c-715">O exemplo de código a seguir mostra como é fácil gerar uma assinatura para um fluxo de bytes usando o novo suporte para certificados X509 ECDSA incluídos no .NET Framework 4.6.1.</span><span class="sxs-lookup"><span data-stu-id="88f5c-715">The following example code shows how easy it is to generate a signature for a byte stream by using the new  support for ECDSA  X509 certificates included in the .NET Framework 4.6.1.</span></span>

[!code-csharp[whatsnew.461.crypto#1](~/samples/snippets/csharp/VS_Snippets_CLR/whatsnew.461.crypto/cs/Code46.cs#1)]
[!code-vb[whatsnew.461.crypto#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/whatsnew.461.crypto/vb/Code461.vb#1)]

<span data-ttu-id="88f5c-716">Isso oferece um contraste evidente ao código necessário para gerar uma assinatura no .NET Framework 4.6.</span><span class="sxs-lookup"><span data-stu-id="88f5c-716">This offers a marked contrast to the code needed to generate a signature in .NET Framework 4.6.</span></span>

[!code-csharp[whatsnew.461.crypto#2](~/samples/snippets/csharp/VS_Snippets_CLR/whatsnew.461.crypto/cs/Code46.cs#2)]
[!code-vb[whatsnew.461.crypto#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/whatsnew.461.crypto/vb/Code46.vb#2)]

<a name="ADO.NET461" />

### <a name="adonet"></a><span data-ttu-id="88f5c-717">ADO.NET</span><span class="sxs-lookup"><span data-stu-id="88f5c-717">ADO.NET</span></span>

<span data-ttu-id="88f5c-718">Os itens a seguir foram adicionados ao ADO.NET:</span><span class="sxs-lookup"><span data-stu-id="88f5c-718">The following have been added to ADO.NET:</span></span>

<span data-ttu-id="88f5c-719">**Suporte a Always Encrypted para chaves protegidas por hardware**</span><span class="sxs-lookup"><span data-stu-id="88f5c-719">**Always Encrypted support for hardware protected keys**</span></span>

<span data-ttu-id="88f5c-720">Agora, o ADO.NET oferece suporte ao armazenamento nativo de chaves mestras de coluna do Always Encrypted em HSMs (Módulos de segurança de Hardware).</span><span class="sxs-lookup"><span data-stu-id="88f5c-720">ADO.NET now supports storing Always Encrypted column master keys natively in Hardware Security Modules (HSMs).</span></span> <span data-ttu-id="88f5c-721">Com esse suporte, os clientes podem aproveitar as chaves assimétricas armazenadas em HSMs sem ter que escrever provedores de armazenamento de chave mestra de coluna personalizados e registrá-los nos aplicativos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-721">With this support, customers can leverage asymmetric keys stored in HSMs without having to write custom column master key store providers and registering them in applications.</span></span>

<span data-ttu-id="88f5c-722">Os clientes precisam instalar o provedor de CSP fornecido pelo fornecedor de HSM ou provedores de armazenamento de chaves CNG em servidores de aplicativos ou computadores cliente para acessar dados do Always Encrypted protegidos com chaves mestras de coluna armazenadas em um HSM.</span><span class="sxs-lookup"><span data-stu-id="88f5c-722">Customers need to install the HSM vendor-provided CSP provider or CNG key store providers on the app servers or client computers in order to access Always Encrypted data protected with column master keys stored in a HSM.</span></span>

<span data-ttu-id="88f5c-723">**Comportamento de conexão <xref:System.Data.SqlClient.SqlConnectionStringBuilder.MultiSubnetFailover%2A> aprimorado para AlwaysOn**</span><span class="sxs-lookup"><span data-stu-id="88f5c-723">**Improved <xref:System.Data.SqlClient.SqlConnectionStringBuilder.MultiSubnetFailover%2A> connection behavior for AlwaysOn**</span></span>

<span data-ttu-id="88f5c-724">Agora, o SqlClient fornece automaticamente uma conexão mais rápida para um AG (Grupo de Disponibilidade) do AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="88f5c-724">SqlClient now automatically provides faster connections to an AlwaysOn Availability Group (AG).</span></span> <span data-ttu-id="88f5c-725">Ele detecta de forma transparente se o seu aplicativo está se conectando a um grupo de disponibilidade (AG) do AlwaysOn em uma sub-rede diferente e descobre rapidamente o servidor ativo atual e fornece uma conexão ao servidor.</span><span class="sxs-lookup"><span data-stu-id="88f5c-725">It transparently detects whether your application is connecting to an AlwaysOn availability group (AG) on a different subnet and quickly discovers the current active server and provides a connection to the server.</span></span> <span data-ttu-id="88f5c-726">Antes dessa versão, um aplicativo tinha que definir a cadeia de conexão para incluir `"MultisubnetFailover=true"` a fim de indicar que ele estava se conectando a um Grupo de disponibilidade do AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="88f5c-726">Prior to this release, an application had to set the connection string to include `"MultisubnetFailover=true"` to indicate that it was connecting to an AlwaysOn Availability Group.</span></span> <span data-ttu-id="88f5c-727">Sem definir a palavra-chave de conexão como `true`, um aplicativo pode enfrentar um tempo limite ao se conectar a um Grupo de disponibilidade AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="88f5c-727">Without setting the connection keyword to `true`, an application might experience a timeout while connecting to an AlwaysOn Availability Group.</span></span> <span data-ttu-id="88f5c-728">Com esta versão, um aplicativo *não* precisa mais definir <xref:System.Data.SqlClient.SqlConnectionStringBuilder.MultiSubnetFailover%2A> como `true`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-728">With this release, an application does *not* need to set <xref:System.Data.SqlClient.SqlConnectionStringBuilder.MultiSubnetFailover%2A> to `true` anymore.</span></span> <span data-ttu-id="88f5c-729">Para saber mais sobre o suporte ao SqlClient para Grupos de Disponibilidade AlwaysOn, confira [Suporte do SqlClient para alta disponibilidade e recuperação de desastres](../data/adonet/sql/sqlclient-support-for-high-availability-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-729">For more information about SqlClient support for Always On Availability Groups, see [SqlClient Support for High Availability, Disaster Recovery](../data/adonet/sql/sqlclient-support-for-high-availability-disaster-recovery.md).</span></span>

<a name="WPF461" />

### <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="88f5c-730">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="88f5c-730">Windows Presentation Foundation (WPF)</span></span>

<span data-ttu-id="88f5c-731">Windows Presentation Foundation inclui diversos aprimoramentos e alterações.</span><span class="sxs-lookup"><span data-stu-id="88f5c-731">Windows Presentation Foundation includes a number of improvements and changes.</span></span>

<span data-ttu-id="88f5c-732">**Desempenho de aprimorado**</span><span class="sxs-lookup"><span data-stu-id="88f5c-732">**Improved performance**</span></span>

<span data-ttu-id="88f5c-733">O atraso em disparar eventos de toque foi corrigido no .NET Framework 4.6.1.</span><span class="sxs-lookup"><span data-stu-id="88f5c-733">The delay in firing touch events has been fixed in the .NET Framework 4.6.1.</span></span> <span data-ttu-id="88f5c-734">Além disso, a digitação de controle <xref:System.Windows.Controls.RichTextBox> não ocupa mais o thread de renderização durante a entrada rápida.</span><span class="sxs-lookup"><span data-stu-id="88f5c-734">In addition, typing in a <xref:System.Windows.Controls.RichTextBox> control no longer ties up the render thread during fast input.</span></span>

<span data-ttu-id="88f5c-735">**Aprimoramentos na verificação ortográfica**</span><span class="sxs-lookup"><span data-stu-id="88f5c-735">**Spell checking improvements**</span></span>

<span data-ttu-id="88f5c-736">O verificador ortográfico do WPF foi atualizado no Windows 8.1 e em versões posteriores para aproveitar o suporte ao sistema operacional para verificação ortográfica de outros idiomas.</span><span class="sxs-lookup"><span data-stu-id="88f5c-736">The spell checker in WPF has been updated on Windows 8.1 and later versions to leverage operating system support for spell-checking additional languages.</span></span>  <span data-ttu-id="88f5c-737">Não há nenhuma alteração na funcionalidade em versões do Windows anteriores ao Windows 8.1.</span><span class="sxs-lookup"><span data-stu-id="88f5c-737">There is no change in functionality on Windows versions prior to Windows 8.1.</span></span>

<span data-ttu-id="88f5c-738">Como nas versões anteriores do .NET Framework, o idioma para um controle <xref:System.Windows.Controls.TextBox> ou um bloco <xref:System.Windows.Controls.RichTextBox> é detectado procurando por informações na seguinte ordem:</span><span class="sxs-lookup"><span data-stu-id="88f5c-738">As in previous versions of the .NET Framework, the language for a <xref:System.Windows.Controls.TextBox> control ora <xref:System.Windows.Controls.RichTextBox> block is detected by looking for information in the following order:</span></span>

- <span data-ttu-id="88f5c-739">`xml:lang`, se estiver presente.</span><span class="sxs-lookup"><span data-stu-id="88f5c-739">`xml:lang`, if it is present.</span></span>

- <span data-ttu-id="88f5c-740">Idioma de entrada atual.</span><span class="sxs-lookup"><span data-stu-id="88f5c-740">Current input language.</span></span>

- <span data-ttu-id="88f5c-741">Cultura do thread atual.</span><span class="sxs-lookup"><span data-stu-id="88f5c-741">Current thread culture.</span></span>

<span data-ttu-id="88f5c-742">Para saber mais sobre o suporte de idiomas no WPF, confira a [postagem de blog do WPF sobre recursos do .NET Framework 4.6.1](https://go.microsoft.com/fwlink/?LinkID=691819).</span><span class="sxs-lookup"><span data-stu-id="88f5c-742">For additional information on language support in WPF, see the [WPF blog post on .NET Framework 4.6.1 features](https://go.microsoft.com/fwlink/?LinkID=691819).</span></span>

<span data-ttu-id="88f5c-743">**Suporte adicional para dicionários personalizados por usuário**</span><span class="sxs-lookup"><span data-stu-id="88f5c-743">**Additional support for per-user custom dictionaries**</span></span>

<span data-ttu-id="88f5c-744">No .NET Framework 4.6.1, o WPF reconhece os dicionários personalizados registrados globalmente.</span><span class="sxs-lookup"><span data-stu-id="88f5c-744">In .NET Framework 4.6.1, WPF recognizes custom dictionaries that are registered globally.</span></span> <span data-ttu-id="88f5c-745">Esse recurso está disponível além da capacidade de registrá-los por controle.</span><span class="sxs-lookup"><span data-stu-id="88f5c-745">This capability is available in addition to the ability to register them per-control.</span></span>

<span data-ttu-id="88f5c-746">Nas versões anteriores do WPF, os dicionários personalizados não reconheciam as listas de Palavras Excluídas e de Autocorreção.</span><span class="sxs-lookup"><span data-stu-id="88f5c-746">In previous versions of WPF, custom dictionaries did not recognize Excluded Words and AutoCorrect lists.</span></span> <span data-ttu-id="88f5c-747">Elas têm suporte no Windows 8.1 e no Windows 10 com o uso de arquivos que podem ser colocados no diretório `%AppData%\Microsoft\Spelling\<language tag>`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-747">They are supported on Windows 8.1 and Windows 10 through the use of files that can be placed under the `%AppData%\Microsoft\Spelling\<language tag>` directory.</span></span>  <span data-ttu-id="88f5c-748">As regras a seguir se aplicam a estes arquivos:</span><span class="sxs-lookup"><span data-stu-id="88f5c-748">The following rules apply to these files:</span></span>

- <span data-ttu-id="88f5c-749">Os arquivos devem ter extensões .dic (para palavras adicionadas), .exc (para palavras excluídas) ou .acl (para Autocorreção).</span><span class="sxs-lookup"><span data-stu-id="88f5c-749">The files should have extensions of .dic (for added words), .exc (for excluded words), or .acl (for AutoCorrect).</span></span>

- <span data-ttu-id="88f5c-750">Os arquivos devem ser em texto sem formatação UTF-16 LE que começa com a marca de ordem de Byte (BOM).</span><span class="sxs-lookup"><span data-stu-id="88f5c-750">The files should be UTF-16 LE plaintext that starts with the Byte Order Mark (BOM).</span></span>

- <span data-ttu-id="88f5c-751">Cada linha deve conter uma palavra (nas listas de palavras adicionadas e excluídas) ou um par de autocorreção com as palavras separadas por uma barra vertical ("&#124;") (na lista de palavras de Autocorreção).</span><span class="sxs-lookup"><span data-stu-id="88f5c-751">Each line should consist of a word (in the added and excluded word lists), or an autocorrect pair with the words separated by a vertical bar ("&#124;") (in the AutoCorrect word list).</span></span>

- <span data-ttu-id="88f5c-752">Esses arquivos são considerados somente leitura e não são modificados pelo sistema.</span><span class="sxs-lookup"><span data-stu-id="88f5c-752">These files are considered read-only and are not modified by the system.</span></span>

> [!NOTE]
> <span data-ttu-id="88f5c-753">Esses novos formatos de arquivo não recebem suporte diretamente das APIs de verificação ortográfica do WPF, e os dicionários personalizados fornecidos ao WPF nos aplicativos devem continuar usando arquivos .lex.</span><span class="sxs-lookup"><span data-stu-id="88f5c-753">These new file-formats are not directly supported by the WPF spell checking APIs, and the custom dictionaries supplied to WPF in applications should continue to use .lex files.</span></span>

<span data-ttu-id="88f5c-754">**Amostras**</span><span class="sxs-lookup"><span data-stu-id="88f5c-754">**Samples**</span></span>

<span data-ttu-id="88f5c-755">Há um número de amostras WPF no repositório do GitHub [de amostras Microsoft/WPF](https://github.com/Microsoft/WPF-Samples).</span><span class="sxs-lookup"><span data-stu-id="88f5c-755">There are a number of WPF samples on the [Microsoft/WPF-Samples](https://github.com/Microsoft/WPF-Samples) GitHub repository.</span></span> <span data-ttu-id="88f5c-756">Ajude-nos a melhorar nossos exemplos enviando-nos uma solicitação pull ou abrindo um [problema no GitHub](https://github.com/Microsoft/WPF-Samples/issues).</span><span class="sxs-lookup"><span data-stu-id="88f5c-756">Help us improve our samples by sending us a pull-request or opening a [GitHub issue](https://github.com/Microsoft/WPF-Samples/issues).</span></span>

<span data-ttu-id="88f5c-757">**Extensões do DirectX**</span><span class="sxs-lookup"><span data-stu-id="88f5c-757">**DirectX extensions**</span></span>

<span data-ttu-id="88f5c-758">O WPF inclui um [pacote do NuGet](https://go.microsoft.com/fwlink/?LinkID=691342) que fornece novas implementações de <xref:System.Windows.Interop.D3DImage> que facilitam a interoperação com o conteúdo do DX10 e Dx11.</span><span class="sxs-lookup"><span data-stu-id="88f5c-758">WPF includes a [NuGet package](https://go.microsoft.com/fwlink/?LinkID=691342) that provides new implementations of <xref:System.Windows.Interop.D3DImage> that make it easy for you to interoperate with DX10 and Dx11 content.</span></span> <span data-ttu-id="88f5c-759">O código para esse pacote foi aberto e está disponível [no GitHub](https://github.com/Microsoft/WPFDXInterop).</span><span class="sxs-lookup"><span data-stu-id="88f5c-759">The code for this package has been open sourced and is available [on GitHub](https://github.com/Microsoft/WPFDXInterop).</span></span>

<a name="WWF461" />

### <a name="windows-workflow-foundation-transactions"></a><span data-ttu-id="88f5c-760">Windows Workflow Foundation: Transações</span><span class="sxs-lookup"><span data-stu-id="88f5c-760">Windows Workflow Foundation: Transactions</span></span>

<span data-ttu-id="88f5c-761">Agora, o método <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A?displayProperty=nameWithType> pode usar um gerenciador de transação distribuída diferente do MSDTC para promover a transação.</span><span class="sxs-lookup"><span data-stu-id="88f5c-761">The <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A?displayProperty=nameWithType> method can now use a distributed transaction manager other than MSDTC to promote the transaction.</span></span> <span data-ttu-id="88f5c-762">Você pode fazer isso especificando um identificador de promotor de transação de GUID para a nova sobrecarga <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%28System.Transactions.IPromotableSinglePhaseNotification%2CSystem.Guid%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-762">You do this by specifying a GUID transaction promoter identifier to the  new <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%28System.Transactions.IPromotableSinglePhaseNotification%2CSystem.Guid%29?displayProperty=nameWithType> overload .</span></span> <span data-ttu-id="88f5c-763">Se essa operação for bem-sucedida, haverá limitações nos recursos da transação.</span><span class="sxs-lookup"><span data-stu-id="88f5c-763">If this operation is successful, there are limitations placed on the capabilities of the transaction.</span></span> <span data-ttu-id="88f5c-764">Após a inscrição do um promotor de transação não MSDTC, os métodos a seguir geram uma <xref:System.Transactions.TransactionPromotionException>, pois esses métodos exigem promoção para MSDTC:</span><span class="sxs-lookup"><span data-stu-id="88f5c-764">Once a non-MSDTC transaction promoter is enlisted, the following methods throw a <xref:System.Transactions.TransactionPromotionException> because these methods require promotion to MSDTC:</span></span>

- <xref:System.Transactions.Transaction.EnlistDurable%2A?displayProperty=nameWithType>

- <xref:System.Transactions.TransactionInterop.GetDtcTransaction%2A?displayProperty=nameWithType>

- <xref:System.Transactions.TransactionInterop.GetExportCookie%2A?displayProperty=nameWithType>

- <xref:System.Transactions.TransactionInterop.GetTransmitterPropagationToken%2A?displayProperty=nameWithType>

<span data-ttu-id="88f5c-765">Após a inscrição do um promotor de transação não MSDTC, ele deverá ser usado para futuras inscrições duráveis usando os protocolos que definidos por ele.</span><span class="sxs-lookup"><span data-stu-id="88f5c-765">Once a non-MSDTC transaction promoter is enlisted, it must be used for future durable enlistments by using protocols that it defines.</span></span> <span data-ttu-id="88f5c-766">O <xref:System.Guid> do promotor de transação pode ser obtido usando a propriedade <xref:System.Transactions.Transaction.PromoterType%2A>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-766">The <xref:System.Guid> of the transaction promoter can be obtained by using the <xref:System.Transactions.Transaction.PromoterType%2A> property.</span></span> <span data-ttu-id="88f5c-767">Quando transação promove, o promotor da transação fornece uma matriz <xref:System.Byte> que representa o token promovido.</span><span class="sxs-lookup"><span data-stu-id="88f5c-767">When the transaction promotes, the transaction promoter provides a <xref:System.Byte> array that represents the promoted token.</span></span> <span data-ttu-id="88f5c-768">Um aplicativo pode obter o token promovido para uma transação promovida não MSDTC com o método <xref:System.Transactions.Transaction.GetPromotedToken%2A>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-768">An application can obtain the promoted token for a non-MSDTC promoted transaction with the <xref:System.Transactions.Transaction.GetPromotedToken%2A> method.</span></span>

<span data-ttu-id="88f5c-769">Os usuários da nova sobrecarga <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%28System.Transactions.IPromotableSinglePhaseNotification%2CSystem.Guid%29?displayProperty=nameWithType> devem seguir uma sequência de chamadas específica para que a operação de promoção seja concluída com êxito.</span><span class="sxs-lookup"><span data-stu-id="88f5c-769">Users of the new <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%28System.Transactions.IPromotableSinglePhaseNotification%2CSystem.Guid%29?displayProperty=nameWithType> overload must follow a specific call sequence in order for the promotion operation to complete successfully.</span></span> <span data-ttu-id="88f5c-770">Essas regras estão na documentação do método.</span><span class="sxs-lookup"><span data-stu-id="88f5c-770">These rules are documented in the method's documentation.</span></span>

<a name="Profile461" />

### <a name="profiling"></a><span data-ttu-id="88f5c-771">Criação de perfil</span><span class="sxs-lookup"><span data-stu-id="88f5c-771">Profiling</span></span>

<span data-ttu-id="88f5c-772">A API de criação de perfil não gerenciado foi aprimorada da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="88f5c-772">The unmanaged profiling API has been enhanced as follows:</span></span>

- <span data-ttu-id="88f5c-773">Melhor suporte para acessar PDBs na interface [ICorProfilerInfo7](../unmanaged-api/profiling/icorprofilerinfo7-interface.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-773">Better support for accessing PDBs in the [ICorProfilerInfo7](../unmanaged-api/profiling/icorprofilerinfo7-interface.md) interface.</span></span>

   <span data-ttu-id="88f5c-774">No ASP.NET Core, está se tornando cada vez mais comum a compilação de assemblies na memória pelo Roslyn.</span><span class="sxs-lookup"><span data-stu-id="88f5c-774">In ASP.NET Core, it is becoming much more common for assemblies to be compiled in-memory by Roslyn.</span></span> <span data-ttu-id="88f5c-775">Para os desenvolvedores que estão criando ferramentas de criação de perfil, isso significa que os PDBs que eram serializados historicamente no disco talvez não estejam mais presentes.</span><span class="sxs-lookup"><span data-stu-id="88f5c-775">For developers making profiling tools, this means that PDBs that historically were serialized on disk may no longer be present.</span></span> <span data-ttu-id="88f5c-776">Normalmente, as ferramentas de criação de perfil usam PDBs para mapear o código de volta para as linhas de origem para tarefas como cobertura de código ou análise de desempenho de linha por linha.</span><span class="sxs-lookup"><span data-stu-id="88f5c-776">Profiler tools often use PDBs to map code back to source lines for tasks such as code coverage or line-by-line performance analysis.</span></span> <span data-ttu-id="88f5c-777">A interface [ICorProfilerInfo7](../unmanaged-api/profiling/icorprofilerinfo7-interface.md) agora inclui dois métodos novos, [ICorProfilerInfo7::GetInMemorySymbolsLength](../unmanaged-api/profiling/icorprofilerinfo7-getinmemorysymbolslength-method.md) e [ICorProfilerInfo7::ReadInMemorySymbols](../unmanaged-api/profiling/icorprofilerinfo7-readinmemorysymbols.md), a fim de fornecer essas ferramentas de criação de perfil com acesso aos dados de PDB na memória. Com as novas APIs, um criador de perfil pode obter o conteúdo de um PDB na memória como uma matriz de bytes e, em seguida, processá-lo ou serializá-lo no disco.</span><span class="sxs-lookup"><span data-stu-id="88f5c-777">The [ICorProfilerInfo7](../unmanaged-api/profiling/icorprofilerinfo7-interface.md) interface now includes two new methods, [ICorProfilerInfo7::GetInMemorySymbolsLength](../unmanaged-api/profiling/icorprofilerinfo7-getinmemorysymbolslength-method.md) and [ICorProfilerInfo7::ReadInMemorySymbols](../unmanaged-api/profiling/icorprofilerinfo7-readinmemorysymbols.md), to provide these profiler tools with access to the in-memory PDB data, By using the new APIs, a profiler can obtain the contents of an in-memory PDB as a byte array and then process it or serialize it to disk.</span></span>

- <span data-ttu-id="88f5c-778">Instrumentação com mais qualidade com a interface ICorProfiler.</span><span class="sxs-lookup"><span data-stu-id="88f5c-778">Better instrumentation with the ICorProfiler interface.</span></span>

   <span data-ttu-id="88f5c-779">Agora, os criadores de perfil que usam a funcionalidade ReJit da API `ICorProfiler` para instrumentação dinâmica podem modificar alguns metadados.</span><span class="sxs-lookup"><span data-stu-id="88f5c-779">Profilers that are using the `ICorProfiler` APIs ReJit functionality for dynamic instrumentation can now modify some metadata.</span></span> <span data-ttu-id="88f5c-780">Anteriormente, essas ferramentas podiam instrumentar IL a qualquer momento, mas os metadados só podiam ser modificados no tempo de carregamento do módulo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-780">Previously such tools could instrument IL at any time, but metadata could only be modified at module load time.</span></span> <span data-ttu-id="88f5c-781">Como IL faz referência aos metadados, isso limitou os tipos de instrumentação possíveis.</span><span class="sxs-lookup"><span data-stu-id="88f5c-781">Because IL refers to metadata, this limited the kinds of instrumentation that could be done.</span></span> <span data-ttu-id="88f5c-782">Retirados alguns desses limites adicionando o método [ICorProfilerInfo7::ApplyMetaData](../unmanaged-api/profiling/icorprofilerinfo7-applymetadata-method.md) a fim de oferecer suporte a um subconjunto de edições de metadados após o carregamento do módulo, em particular, adicionando novos registros `AssemblyRef`, `TypeRef`, `TypeSpec`, `MemberRef`, `MemberSpec` e `UserString`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-782">We have lifted some of those limits by adding the [ICorProfilerInfo7::ApplyMetaData](../unmanaged-api/profiling/icorprofilerinfo7-applymetadata-method.md) method to support a subset of metadata edits after the module loads, in particular by adding new `AssemblyRef`, `TypeRef`, `TypeSpec`, `MemberRef`, `MemberSpec`, and `UserString` records.</span></span> <span data-ttu-id="88f5c-783">Essa alteração possibilita um intervalo mais amplo de instrumentação dinâmica possível.</span><span class="sxs-lookup"><span data-stu-id="88f5c-783">This change makes a much broader range of on-the-fly instrumentation possible.</span></span>

<a name="NGEN461" />

### <a name="native-image-generator-ngen-pdbs"></a><span data-ttu-id="88f5c-784">PDBs do NGEN (Gerador de Imagens Nativas)</span><span class="sxs-lookup"><span data-stu-id="88f5c-784">Native Image Generator (NGEN) PDBs</span></span>

<span data-ttu-id="88f5c-785">O rastreamento de eventos entre máquinas permite aos clientes criar o perfil de um programa na Máquina A e examinar os dados de criação de perfil com mapeamento de linha de origem na Máquina B. Com as versões anteriores do .NET Framework, o usuário copiaria todos os módulos e imagens nativas da máquina com perfil para a máquina de análise que contém o PDB IL para criar o mapeamento da fonte para a nativa.</span><span class="sxs-lookup"><span data-stu-id="88f5c-785">Cross-machine event tracing allows customers to profile a program on Machine A and look at the profiling data with source line mapping on Machine B. Using previous versions of the .NET Framework, the user would copy all the modules and native images from the profiled machine to the analysis machine that contains the IL PDB to create the source-to-native mapping.</span></span> <span data-ttu-id="88f5c-786">Embora esse processo funcione bem quando os arquivos são relativamente pequenos, por exemplo, para aplicativos de telefone, os arquivos podem ser muito grandes em sistemas do desktop e a cópia exige um tempo considerável.</span><span class="sxs-lookup"><span data-stu-id="88f5c-786">While this process may work well when the files are relatively small, such as for phone applications, the files can be very large on desktop systems and require significant time to copy.</span></span>

<span data-ttu-id="88f5c-787">Com PDBs do Ngen, o NGen pode criar um PDB que contém o mapeamento do IL para a nativa sem uma dependência do PDB do IL.</span><span class="sxs-lookup"><span data-stu-id="88f5c-787">With Ngen PDBs, NGen can create a PDB that contains the IL-to-native mapping without a dependency on the IL PDB.</span></span> <span data-ttu-id="88f5c-788">Em nosso cenário de rastreamento de eventos entre máquinas, basta copiar o PDB da imagem nativa gerado pela Máquina A para a Máquina B e usar as [APIs de acesso à interface de depuração](/visualstudio/debugger/debug-interface-access/debug-interface-access-sdk-reference) para ler o mapeamento da fonte ao IL do PDB de IL e o mapeamento de IL para nativa do PDB da imagem nativa.</span><span class="sxs-lookup"><span data-stu-id="88f5c-788">In our cross-machine event tracing scenario, all that is needed is to copy the native image PDB that is generated by Machine A to Machine B and to use [Debug Interface Access APIs](/visualstudio/debugger/debug-interface-access/debug-interface-access-sdk-reference) to read the IL PDB's source-to-IL mapping and the native image PDB's IL-to-native mapping.</span></span> <span data-ttu-id="88f5c-789">A combinação dos dois mapeamentos fornece um mapeamento da fonte para nativa.</span><span class="sxs-lookup"><span data-stu-id="88f5c-789">Combining both mappings provides a source-to-native mapping.</span></span> <span data-ttu-id="88f5c-790">Como o PDB da imagem nativa é muito menor do que todos os módulos e imagens nativas, o processo de cópia da Máquina A para a Máquina B é muito mais rápido.</span><span class="sxs-lookup"><span data-stu-id="88f5c-790">Since the native image PDB is much smaller than all the modules and native images, the process of copying from Machine A to Machine B is much faster.</span></span>

<a name="v46" />

## <a name="whats-new-in-net-2015"></a><span data-ttu-id="88f5c-791">Novidades do .NET 2015</span><span class="sxs-lookup"><span data-stu-id="88f5c-791">What's new in .NET 2015</span></span>

<span data-ttu-id="88f5c-792">O .NET 2015 apresenta o .NET Framework 4.6 e o .NET Core.</span><span class="sxs-lookup"><span data-stu-id="88f5c-792">.NET 2015 introduces the .NET Framework 4.6 and .NET Core.</span></span> <span data-ttu-id="88f5c-793">Alguns recursos novos se aplicam aos dois, enquanto outros recursos são específicos ao .NET Framework 4.6 ou .NET Core.</span><span class="sxs-lookup"><span data-stu-id="88f5c-793">Some new features apply to both, and other features are specific to .NET Framework 4.6 or .NET Core.</span></span>

- <span data-ttu-id="88f5c-794">**ASP.NET Core**</span><span class="sxs-lookup"><span data-stu-id="88f5c-794">**ASP.NET Core**</span></span>

     <span data-ttu-id="88f5c-795">O .NET 2015 inclui o ASP.NET Core, que é uma implementação enxuta do .NET para a compilação de modernos aplicativos baseados em nuvem.</span><span class="sxs-lookup"><span data-stu-id="88f5c-795">.NET 2015 includes ASP.NET Core, which is a lean .NET implementation for building modern cloud-based apps.</span></span> <span data-ttu-id="88f5c-796">O ASP.NET Core é modular para que você possa incluir somente os recursos necessários em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-796">ASP.NET Core is modular so you can include only those features that are needed in your application.</span></span> <span data-ttu-id="88f5c-797">Pode ser hospedada no IIS ou auto-hospedada em um processo personalizado, e você pode executar aplicativos com diferentes versões do .NET Framework no mesmo servidor.</span><span class="sxs-lookup"><span data-stu-id="88f5c-797">It can be hosted on IIS or self-hosted in a custom process, and you can run apps with different versions of the .NET Framework on the same server.</span></span> <span data-ttu-id="88f5c-798">Ela inclui um novo sistema de configuração do ambiente projetado para implantação na nuvem.</span><span class="sxs-lookup"><span data-stu-id="88f5c-798">It includes a new environment configuration system that is designed for cloud deployment.</span></span>

     <span data-ttu-id="88f5c-799">MVC, API da Web e Páginas da Web são unificados em uma única estrutura chamada MVC 6.</span><span class="sxs-lookup"><span data-stu-id="88f5c-799">MVC, Web API, and Web Pages are unified into a single framework called MVC 6.</span></span> <span data-ttu-id="88f5c-800">Você cria aplicativos ASP.NET Core por meio de ferramentas no Visual Studio 2015 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="88f5c-800">You build ASP.NET Core apps through tools in Visual Studio 2015 or later.</span></span> <span data-ttu-id="88f5c-801">Os aplicativos existentes funcionarão no novo .NET Framework; no entanto, para compilar um aplicativo que usa o MVC 6 ou SignalR 3, use o sistema de projetos no Visual Studio 2015 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="88f5c-801">Your existing applications will work on the new .NET Framework; however to build an app that uses MVC 6 or SignalR 3, you must use the project system in Visual Studio 2015 or later.</span></span>

     <span data-ttu-id="88f5c-802">Para obter informações, veja [ASP.NET Core](/aspnet/core/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-802">For information, see [ASP.NET Core](/aspnet/core/).</span></span>

- <span data-ttu-id="88f5c-803">**Atualizações do ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="88f5c-803">**ASP.NET Updates**</span></span>

    - <span data-ttu-id="88f5c-804">**API baseada em tarefas para a liberação de resposta assíncrona**</span><span class="sxs-lookup"><span data-stu-id="88f5c-804">**Task-based API for Asynchronous Response Flushing**</span></span>

         <span data-ttu-id="88f5c-805">Agora, o ASP.NET fornece uma API simples baseada em tarefas para liberação de resposta assíncrona, <xref:System.Web.HttpResponse.FlushAsync%2A?displayProperty=nameWithType>, que permite a liberação das respostas de modo assíncrono usando o suporte a `async/await` de sua linguagem.</span><span class="sxs-lookup"><span data-stu-id="88f5c-805">ASP.NET now provides a simple task-based API for asynchronous response flushing, <xref:System.Web.HttpResponse.FlushAsync%2A?displayProperty=nameWithType>, that allows responses to be flushed asynchronously by using your language's `async/await` support.</span></span>

    - <span data-ttu-id="88f5c-806">**O model binding dá suporte a métodos de retorno de tarefa**</span><span class="sxs-lookup"><span data-stu-id="88f5c-806">**Model binding supports task-returning methods**</span></span>

         <span data-ttu-id="88f5c-807">No .NET Framework 4.5, o ASP.NET adicionou o recurso de Model Binding, que permitiu uma abordagem extensível e focada no código para operações de dados com base em CRUD em páginas de Web Forms e controles de usuário.</span><span class="sxs-lookup"><span data-stu-id="88f5c-807">In the .NET Framework 4.5, ASP.NET added the Model Binding feature that enabled an extensible, code-focused approach to CRUD-based data operations in Web Forms pages and user controls.</span></span> <span data-ttu-id="88f5c-808">Agora, o sistema de Model Binding oferece suporte a métodos de model binding que retornam <xref:System.Threading.Tasks.Task>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-808">The Model Binding system now supports <xref:System.Threading.Tasks.Task>-returning model binding methods.</span></span> <span data-ttu-id="88f5c-809">Esse recurso permite aos desenvolvedores de Web Forms obter os benefícios de escalabilidade do modo assíncrono com a facilidade do sistema de associação de dados ao usar versões mais recentes dos ORMs, incluindo o Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="88f5c-809">This feature allows Web Forms developers to get the scalability benefits of async with the ease of the data-binding system when using newer versions of ORMs, including the Entity Framework.</span></span>

         <span data-ttu-id="88f5c-810">O model binding assíncrono é controlado pela configuração `aspnet:EnableAsyncModelBinding`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-810">Async model binding is controlled by the `aspnet:EnableAsyncModelBinding` configuration setting.</span></span>

        ```xml
        <appSettings>
           <add key=" aspnet:EnableAsyncModelBinding" value="true|false" />
        </appSettings>
        ```

         <span data-ttu-id="88f5c-811">Em aplicativos direcionados ao .NET Framework 4.6, o padrão é `true`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-811">On apps the target the .NET Framework 4.6, it defaults to `true`.</span></span> <span data-ttu-id="88f5c-812">Em aplicativos em execução no .NET Framework 4.6 direcionados a uma versão anterior do .NET Framework, o padrão é `false`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-812">On apps running on the .NET Framework 4.6 that target an earlier version of the .NET Framework, it is `false` by default.</span></span> <span data-ttu-id="88f5c-813">Isso pode ser habilitado ao definir a configuração como `true`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-813">It can be enabled by setting the configuration setting to `true`.</span></span>

    - <span data-ttu-id="88f5c-814">**Suporte a HTTP/2 (Windows 10)**</span><span class="sxs-lookup"><span data-stu-id="88f5c-814">**HTTP/2 Support (Windows 10)**</span></span>

         <span data-ttu-id="88f5c-815">[HTTP/2](https://www.wikipedia.org/wiki/HTTP/2) é uma nova versão do protocolo HTTP que fornece uma utilização de conexão muito melhor (menos viagens entre cliente e servidor), resultando em um carregamento de página da Web com menor latência para os usuários.</span><span class="sxs-lookup"><span data-stu-id="88f5c-815">[HTTP/2](https://www.wikipedia.org/wiki/HTTP/2) is a new version of the HTTP protocol that provides much better connection utilization (fewer round-trips between client and server), resulting in lower latency web page loading for users.</span></span>  <span data-ttu-id="88f5c-816">As páginas da Web (em vez de serviços) são as mais beneficiados com o HTTP/2, pois o protocolo otimiza para solicitação de vários artefatos como parte de uma experiência única.</span><span class="sxs-lookup"><span data-stu-id="88f5c-816">Web pages (as opposed to services) benefit the most from HTTP/2, since the protocol optimizes for multiple artifacts being requested as part of a single experience.</span></span> <span data-ttu-id="88f5c-817">O suporte a HTTP/2 foi adicionado ao ASP.NET no .NET Framework 4.6.</span><span class="sxs-lookup"><span data-stu-id="88f5c-817">HTTP/2 support has been added to ASP.NET in .NET Framework 4.6.</span></span> <span data-ttu-id="88f5c-818">Como a funcionalidade de rede existe em várias camadas, havia a necessidade de novos recursos no Windows, no IIS e no ASP.NET para habilitar o HTTP/2.</span><span class="sxs-lookup"><span data-stu-id="88f5c-818">Because networking functionality exists at multiple layers, new features were required in Windows, in IIS, and in ASP.NET to enable HTTP/2.</span></span> <span data-ttu-id="88f5c-819">Você deve estar executando o Windows 10 para usar o HTTP/2 com o ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="88f5c-819">You must be running on Windows 10 to use HTTP/2 with ASP.NET.</span></span>

         <span data-ttu-id="88f5c-820">O HTTP/2 também é compatível e ativado por padrão em aplicativos UWP (Plataforma Universal do Windows) do Windows 10 que usam a API <xref:System.Net.Http.HttpClient?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-820">HTTP/2 is also supported and on by default for Windows 10 Universal Windows Platform (UWP) apps that use the <xref:System.Net.Http.HttpClient?displayProperty=nameWithType> API.</span></span>

         <span data-ttu-id="88f5c-821">Para fornecer uma maneira de usar o recurso [PUSH_PROMISE](https://http2.github.io/http2-spec/#PUSH_PROMISE) em aplicativos ASP.NET, um novo método com duas sobrecargas, <xref:System.Web.HttpResponse.PushPromise%28System.String%29> e <xref:System.Web.HttpResponse.PushPromise%28System.String%2CSystem.String%2CSystem.Collections.Specialized.NameValueCollection%29>, foi adicionado à classe <xref:System.Web.HttpResponse>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-821">In order to provide a way to use the [PUSH_PROMISE](https://http2.github.io/http2-spec/#PUSH_PROMISE) feature in ASP.NET applications, a new method with two overloads, <xref:System.Web.HttpResponse.PushPromise%28System.String%29> and <xref:System.Web.HttpResponse.PushPromise%28System.String%2CSystem.String%2CSystem.Collections.Specialized.NameValueCollection%29>, has been added to the <xref:System.Web.HttpResponse> class.</span></span>

        > [!NOTE]
        > <span data-ttu-id="88f5c-822">Embora o ASP.NET Core dê suporte ao HTTP/2, o suporte para o recurso PUSH PROMISE ainda não foi adicionado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-822">While ASP.NET Core supports HTTP/2, support for the PUSH PROMISE feature has not yet been added.</span></span>

         <span data-ttu-id="88f5c-823">O navegador e o servidor Web (IIS no Windows) fazem todo o trabalho.</span><span class="sxs-lookup"><span data-stu-id="88f5c-823">The browser and the web server (IIS on Windows) do all the work.</span></span> <span data-ttu-id="88f5c-824">Você não precisa fazer qualquer trabalho pesado para seus usuários.</span><span class="sxs-lookup"><span data-stu-id="88f5c-824">You don't have to do any heavy-lifting for your users.</span></span>

         <span data-ttu-id="88f5c-825">A maioria dos [principais navegadores oferece suporte a HTTP/2](https://www.wikipedia.org/wiki/HTTP/2), portanto, é provável que seus usuários se beneficiem do suporte a HTTP/2 se o servidor oferecer suporte a ele.</span><span class="sxs-lookup"><span data-stu-id="88f5c-825">Most of the [major browsers support HTTP/2](https://www.wikipedia.org/wiki/HTTP/2), so it's likely that your users will benefit from HTTP/2 support if your server supports it.</span></span>

    - <span data-ttu-id="88f5c-826">**Suporte para o protocolo de associação de token**</span><span class="sxs-lookup"><span data-stu-id="88f5c-826">**Support for the Token Binding Protocol**</span></span>

         <span data-ttu-id="88f5c-827">A Microsoft e o Google colaboraram em uma nova abordagem para autenticação chamada de [Protocolo de associação de token](https://github.com/TokenBinding/Internet-Drafts).</span><span class="sxs-lookup"><span data-stu-id="88f5c-827">Microsoft and Google have been collaborating on a new approach to authentication, called the [Token Binding Protocol](https://github.com/TokenBinding/Internet-Drafts).</span></span> <span data-ttu-id="88f5c-828">A premissa é que tokens de autenticação (no cache do navegador) podem ser roubados e usados por criminosos para acessar recursos seguros (por exemplo, sua conta bancária) sem a necessidade de sua senha ou de qualquer outro conhecimento privilegiado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-828">The premise is that authentication tokens (in your browser cache) can be stolen and used by criminals to access otherwise secure resources (e.g. your bank account) without requiring your password or any other privileged knowledge.</span></span> <span data-ttu-id="88f5c-829">O novo protocolo tem como objetivo atenuar esse problema.</span><span class="sxs-lookup"><span data-stu-id="88f5c-829">The new protocol aims to mitigate this problem.</span></span>

         <span data-ttu-id="88f5c-830">O Protocolo de associação de token será implementado no Windows 10 como um recurso do navegador.</span><span class="sxs-lookup"><span data-stu-id="88f5c-830">The Token Binding Protocol will be implemented in Windows 10 as a browser feature.</span></span> <span data-ttu-id="88f5c-831">Aplicativos ASP.NET participarão do protocolo, para que os tokens de autenticação sejam validados como legítimos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-831">ASP.NET apps will participate in the protocol, so that authentication tokens are validated to be legitimate.</span></span> <span data-ttu-id="88f5c-832">As implementações do cliente e do servidor estabelecem a proteção de ponta a ponta especificada pelo protocolo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-832">The client and the server implementations establish the end-to-end protection specified by the protocol.</span></span>

    - <span data-ttu-id="88f5c-833">**Algoritmos de hash da cadeia de caracteres aleatória**</span><span class="sxs-lookup"><span data-stu-id="88f5c-833">**Randomized string hash algorithms**</span></span>

         <span data-ttu-id="88f5c-834">O .NET Framework 4.5 introduziu um [algoritmo de hash de cadeia de caracteres aleatória](../configure-apps/file-schema/runtime/userandomizedstringhashalgorithm-element.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-834">.NET Framework 4.5 introduced a [randomized string hash algorithm](../configure-apps/file-schema/runtime/userandomizedstringhashalgorithm-element.md).</span></span> <span data-ttu-id="88f5c-835">No entanto, ele não tinha suporte do ASP.NET porque alguns recursos do ASP.NET dependem de um código hash estável.</span><span class="sxs-lookup"><span data-stu-id="88f5c-835">However, it was not supported by ASP.NET because of some ASP.NET features depended on a stable hash code.</span></span> <span data-ttu-id="88f5c-836">No .NET Framework 4.6, já há suporte para os algoritmos de hash da cadeia de caracteres aleatória.</span><span class="sxs-lookup"><span data-stu-id="88f5c-836">In .NET Framework 4.6, randomized string hash algorithms are now supported.</span></span> <span data-ttu-id="88f5c-837">Para habilitar esse recurso, use a configuração `aspnet:UseRandomizedStringHashAlgorithm`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-837">To enable this feature, use the `aspnet:UseRandomizedStringHashAlgorithm` config setting.</span></span>

        ```xml
        <appSettings>
           <add key="aspnet:UseRandomizedStringHashAlgorithm" value="true|false" />
        </appSettings>
        ```

- <span data-ttu-id="88f5c-838">**ADO.NET**</span><span class="sxs-lookup"><span data-stu-id="88f5c-838">**ADO.NET**</span></span>

     <span data-ttu-id="88f5c-839">O ADO.NET agora oferece suporte ao recurso Always Encrypted disponível no SQL Server 2016 Community Technology Preview 2 (CTP2).</span><span class="sxs-lookup"><span data-stu-id="88f5c-839">ADO .NET now supports the Always Encrypted feature available in SQL Server 2016 Community Technology Preview 2 (CTP2).</span></span> <span data-ttu-id="88f5c-840">Com o Always Encrypted, o SQL Server pode executar operações em dados criptografados e, acima de tudo, a chave de criptografia reside com o aplicativo no ambiente de confiança do cliente, e não no servidor.</span><span class="sxs-lookup"><span data-stu-id="88f5c-840">With Always Encrypted, SQL Server can perform operations on encrypted data, and best of all the encryption key resides with the application inside the customer’s trusted environment and not on the server.</span></span> <span data-ttu-id="88f5c-841">O Always Encrypted protege os dados do cliente para que DBAs não tenham acesso aos dados de texto sem formatação.</span><span class="sxs-lookup"><span data-stu-id="88f5c-841">Always Encrypted secures customer data so DBAs do not have access to plain text data.</span></span> <span data-ttu-id="88f5c-842">A criptografia e a descriptografia de dados ocorre de forma transparente no nível do driver, minimizando as alterações que precisam ser feitas nos aplicativos atuais.</span><span class="sxs-lookup"><span data-stu-id="88f5c-842">Encryption and decryption of data happens transparently at the driver level, minimizing changes that have to be made to existing applications.</span></span> <span data-ttu-id="88f5c-843">Para obter detalhes, confira [Always Encrypted (Mecanismo de banco de dados)](/sql/relational-databases/security/encryption/always-encrypted-database-engine) e [Always Encrypted (desenvolvimento do cliente)](/sql/relational-databases/security/encryption/always-encrypted-client-development).</span><span class="sxs-lookup"><span data-stu-id="88f5c-843">For details, see [Always Encrypted (Database Engine)](/sql/relational-databases/security/encryption/always-encrypted-database-engine) and [Always Encrypted (client development)](/sql/relational-databases/security/encryption/always-encrypted-client-development).</span></span>

- <span data-ttu-id="88f5c-844">**Compilador JIT de 64 bits para código gerenciado**</span><span class="sxs-lookup"><span data-stu-id="88f5c-844">**64-bit JIT Compiler for managed code**</span></span>

     <span data-ttu-id="88f5c-845">O .NET Framework 4.6 apresenta uma nova versão do compilador JIT de 64 bits (cujo codinome original é RyuJIT).</span><span class="sxs-lookup"><span data-stu-id="88f5c-845">.NET Framework 4.6 features a new version of the 64-bit JIT compiler (originally code-named RyuJIT).</span></span> <span data-ttu-id="88f5c-846">O novo compilador de 64 bits fornece melhorias consideráveis de desempenho em relação ao compilador JIT de 64 bits mais antigo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-846">The new 64-bit compiler provides significant performance improvements over the older 64-bit JIT compiler.</span></span> <span data-ttu-id="88f5c-847">O novo compilador de 64 bits está habilitado para processos de 64 bits em execução sobre o .NET Framework 4.6.</span><span class="sxs-lookup"><span data-stu-id="88f5c-847">The new 64-bit compiler is enabled for 64-bit processes running on top of .NET Framework 4.6.</span></span> <span data-ttu-id="88f5c-848">Seu aplicativo será executado em um processo de 64 bits se for compilado como 64 bits ou AnyCPU e será executado em um sistema operacional de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="88f5c-848">Your app will run in a 64-bit process if it is compiled as 64-bit or AnyCPU and is running on a 64-bit operating system.</span></span> <span data-ttu-id="88f5c-849">Apesar de nossos esforços para fazer a transição para o novo compilador a mais transparente possível, ainda é possível perceber mudanças no comportamento.</span><span class="sxs-lookup"><span data-stu-id="88f5c-849">While care has been taken to make the transition to the new compiler as transparent as possible, changes in behavior are possible.</span></span> <span data-ttu-id="88f5c-850">Gostaríamos de saber sobre quaisquer problemas encontrados ao usar o novo compilador JIT.</span><span class="sxs-lookup"><span data-stu-id="88f5c-850">We would like to hear directly about any issues encountered when using the new JIT compiler.</span></span> <span data-ttu-id="88f5c-851">Entre em contato conosco por meio do [Microsoft Connect](https://connect.microsoft.com/) se você encontrar um problema que possa estar relacionado ao novo compilador JIT de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="88f5c-851">Please contact us through [Microsoft Connect](https://connect.microsoft.com/) if you encounter an issue that may be related to the new 64-bit JIT compiler.</span></span>

     <span data-ttu-id="88f5c-852">O novo compilador JIT de 64 bits também inclui recursos de aceleração de hardware SIMD quando combinado com tipos habilitados para SIMD no namespace <xref:System.Numerics>, o que pode suspender aprimoramentos no desempenho.</span><span class="sxs-lookup"><span data-stu-id="88f5c-852">The new 64-bit JIT compiler also includes hardware SIMD acceleration features when coupled with SIMD-enabled types in the <xref:System.Numerics> namespace, which can yield good performance improvements.</span></span>

- <span data-ttu-id="88f5c-853">**Aperfeiçoamentos no carregador de assembly**</span><span class="sxs-lookup"><span data-stu-id="88f5c-853">**Assembly loader improvements**</span></span>

     <span data-ttu-id="88f5c-854">Agora, o carregador de assembly usa a memória de forma mais eficiente ao descarregar assemblies de nível de integridade após uma imagem NGEN correspondente ser carregada.</span><span class="sxs-lookup"><span data-stu-id="88f5c-854">The assembly loader now uses memory more efficiently by unloading IL assemblies after a corresponding NGEN image is loaded.</span></span> <span data-ttu-id="88f5c-855">Essa mudança reduz a memória virtual, o que é particularmente benéfico para aplicativos de 32 bits grandes (como o Visual Studio) e também poupa memória física.</span><span class="sxs-lookup"><span data-stu-id="88f5c-855">This change decreases virtual memory, which is particularly beneficial for large 32-bit apps (such as Visual Studio), and also saves physical memory.</span></span>

- <span data-ttu-id="88f5c-856">**Mudanças na biblioteca de classes base**</span><span class="sxs-lookup"><span data-stu-id="88f5c-856">**Base class library changes**</span></span>

     <span data-ttu-id="88f5c-857">Várias APIs novas foram adicionadas ao .NET Framework 4.6 para habilitar cenários-chave.</span><span class="sxs-lookup"><span data-stu-id="88f5c-857">Many new APIs have been added around to .NET Framework 4.6 to enable key scenarios.</span></span> <span data-ttu-id="88f5c-858">As seguintes alterações e adições foram incluídas:</span><span class="sxs-lookup"><span data-stu-id="88f5c-858">These include the following changes and additions:</span></span>

    - <span data-ttu-id="88f5c-859">Implementações **IReadOnlyCollection\<T>**</span><span class="sxs-lookup"><span data-stu-id="88f5c-859">**IReadOnlyCollection\<T> implementations**</span></span>

         <span data-ttu-id="88f5c-860">As coleções adicionais implementam <xref:System.Collections.Generic.IReadOnlyCollection%601> como <xref:System.Collections.Generic.Queue%601> e <xref:System.Collections.Generic.Stack%601>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-860">Additional collections implement <xref:System.Collections.Generic.IReadOnlyCollection%601> such as <xref:System.Collections.Generic.Queue%601> and <xref:System.Collections.Generic.Stack%601>.</span></span>

    - <span data-ttu-id="88f5c-861">**CultureInfo.CurrentCulture e CultureInfo.CurrentUICulture**</span><span class="sxs-lookup"><span data-stu-id="88f5c-861">**CultureInfo.CurrentCulture and CultureInfo.CurrentUICulture**</span></span>

         <span data-ttu-id="88f5c-862">Agora, as propriedades <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> e <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> são leitura / gravação em vez de somente leitura.</span><span class="sxs-lookup"><span data-stu-id="88f5c-862">The <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> and <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> properties are now read-write rather than read-only.</span></span> <span data-ttu-id="88f5c-863">Se você atribuir um novo objeto <xref:System.Globalization.CultureInfo> a essas propriedades, a cultura do thread atual definida pela propriedade `Thread.CurrentThread.CurrentCulture`, e a cultura do thread de interface do usuário atual definida pela propriedade `Thread.CurrentThread.CurrentUICulture` também mudarão.</span><span class="sxs-lookup"><span data-stu-id="88f5c-863">If you assign a new <xref:System.Globalization.CultureInfo> object to these properties, the current thread culture defined by the `Thread.CurrentThread.CurrentCulture` property and the current UI thread culture defined by the `Thread.CurrentThread.CurrentUICulture` properties also change.</span></span>

    - <span data-ttu-id="88f5c-864">**Aprimoramentos na coleta de lixo (GC)**</span><span class="sxs-lookup"><span data-stu-id="88f5c-864">**Enhancements to garbage collection (GC)**</span></span>

         <span data-ttu-id="88f5c-865">Agora, a classe <xref:System.GC> inclui os métodos <xref:System.GC.TryStartNoGCRegion%2A> e <xref:System.GC.EndNoGCRegion%2A> que permitem o cancelamento da permissão da coleta de lixo durante a execução de um caminho crítico.</span><span class="sxs-lookup"><span data-stu-id="88f5c-865">The <xref:System.GC> class now includes <xref:System.GC.TryStartNoGCRegion%2A> and <xref:System.GC.EndNoGCRegion%2A> methods that allow you to disallow garbage collection during the execution of a critical path.</span></span>

         <span data-ttu-id="88f5c-866">Uma nova sobrecarga do método <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%2CSystem.Boolean%29?displayProperty=nameWithType> lhe permite controlar se o heap de objetos pequeno e o heap de objetos grande são limpos e compactadas ou somente limpos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-866">A new overload of the <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%2CSystem.Boolean%29?displayProperty=nameWithType> method allows you to control whether both the small object heap and the large object heap are swept and compacted or swept only.</span></span>

    - <span data-ttu-id="88f5c-867">**Tipos habilitados para SIMD**</span><span class="sxs-lookup"><span data-stu-id="88f5c-867">**SIMD-enabled types**</span></span>

         <span data-ttu-id="88f5c-868">O namespace <xref:System.Numerics> agora inclui uma série de tipos habilitados para SIMD, como <xref:System.Numerics.Matrix3x2>, <xref:System.Numerics.Matrix4x4>, <xref:System.Numerics.Plane>, <xref:System.Numerics.Quaternion>, <xref:System.Numerics.Vector2>, <xref:System.Numerics.Vector3> e <xref:System.Numerics.Vector4>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-868">The <xref:System.Numerics> namespace now includes a number of SIMD-enabled types, such as <xref:System.Numerics.Matrix3x2>, <xref:System.Numerics.Matrix4x4>, <xref:System.Numerics.Plane>, <xref:System.Numerics.Quaternion>, <xref:System.Numerics.Vector2>, <xref:System.Numerics.Vector3>, and <xref:System.Numerics.Vector4>.</span></span>

         <span data-ttu-id="88f5c-869">Como o novo compilador JIT de 64 bits também inclui recursos de aceleração de hardware SIMD, há melhorias de desempenho consideráveis, especialmente ao usar os tipos habilitados para SIMD com o novo compilador JIT de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="88f5c-869">Because the new 64-bit JIT compiler also includes hardware SIMD acceleration features, there are especially significant performance improvements when using the SIMD-enabled types with the new 64-bit JIT compiler.</span></span>

    - <span data-ttu-id="88f5c-870">**Atualizações de criptografia**</span><span class="sxs-lookup"><span data-stu-id="88f5c-870">**Cryptography updates**</span></span>

         <span data-ttu-id="88f5c-871">A API <xref:System.Security.Cryptography?displayProperty=nameWithType> está sendo atualizada para oferecer suporte às [APIs de criptografia CNG do Windows](/windows/desktop/SecCNG/cng-reference).</span><span class="sxs-lookup"><span data-stu-id="88f5c-871">The <xref:System.Security.Cryptography?displayProperty=nameWithType> API is being updated to support the [Windows CNG cryptography APIs](/windows/desktop/SecCNG/cng-reference).</span></span> <span data-ttu-id="88f5c-872">As versões anteriores do .NET Framework dependiam inteiramente de uma [versão anterior das APIs de criptografia do Windows](/windows/desktop/SecCrypto/cryptography-portal) como a base para a implementação de <xref:System.Security.Cryptography?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-872">Previous versions of the .NET Framework have relied entirely on an [earlier version of the Windows Cryptography APIs](/windows/desktop/SecCrypto/cryptography-portal) as the basis for the <xref:System.Security.Cryptography?displayProperty=nameWithType> implementation.</span></span> <span data-ttu-id="88f5c-873">Recebemos solicitações para o suporte a API de CNG, uma vez que ela dá suporte a [algoritmos de criptografia modernos](/windows/desktop/SecCNG/cng-features#suite-b-support), que são importantes para determinadas categorias de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-873">We have had requests to support the CNG API, since it supports [modern cryptography algorithms](/windows/desktop/SecCNG/cng-features#suite-b-support), which are important for certain categories of apps.</span></span>

         <span data-ttu-id="88f5c-874">O .NET Framework 4.6 inclui os seguintes aprimoramentos novos para compatibilidade com as APIs de criptografia CNG do Windows:</span><span class="sxs-lookup"><span data-stu-id="88f5c-874">.NET Framework 4.6 includes the following new enhancements to support the Windows CNG cryptography APIs:</span></span>

        - <span data-ttu-id="88f5c-875">Um conjunto de métodos de extensão para Certificados X509, `System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPublicKey(System.Security.Cryptography.X509Certificates.X509Certificate2)` e `System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPrivateKey(System.Security.Cryptography.X509Certificates.X509Certificate2)`, que retornam uma implementação baseada em CNG, em vez de uma implementação baseada em CAPI, quando for possível.</span><span class="sxs-lookup"><span data-stu-id="88f5c-875">A set of extension methods for X509 Certificates, `System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPublicKey(System.Security.Cryptography.X509Certificates.X509Certificate2)` and `System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPrivateKey(System.Security.Cryptography.X509Certificates.X509Certificate2)`, that return a CNG-based implementation rather than a CAPI-based implementation when possible.</span></span> <span data-ttu-id="88f5c-876">(Alguns cartões inteligentes etc., ainda exigirão CAPI, e as APIs tratam do fallback).</span><span class="sxs-lookup"><span data-stu-id="88f5c-876">(Some smartcards, etc., still require CAPI, and the APIs handle the fallback).</span></span>

        - <span data-ttu-id="88f5c-877">A classe <xref:System.Security.Cryptography.RSACng?displayProperty=nameWithType>, que fornece uma implementação CNG do algoritmo RSA.</span><span class="sxs-lookup"><span data-stu-id="88f5c-877">The <xref:System.Security.Cryptography.RSACng?displayProperty=nameWithType> class, which provides a CNG implementation of the RSA algorithm.</span></span>

        - <span data-ttu-id="88f5c-878">Aprimoramentos à API do RSA para que as ações comuns não exijam mais a conversão.</span><span class="sxs-lookup"><span data-stu-id="88f5c-878">Enhancements to the RSA API so that common actions no longer require casting.</span></span> <span data-ttu-id="88f5c-879">Por exemplo, a criptografia de dados usando um objeto <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> exige um código semelhante ao seguinte em versões anteriores do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="88f5c-879">For example, encrypting data using an <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> object requires code like the following in previous versions of the .NET Framework.</span></span>

             [!code-csharp[WhatsNew.Casting#1](~/samples/snippets/csharp/VS_Snippets_CLR/whatsnew.casting/cs/program.cs#1)]
             [!code-vb[WhatsNew.Casting#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/whatsnew.casting/vb/module1.vb#1)]

             <span data-ttu-id="88f5c-880">O código que usa as novas APIs de criptografia no .NET Framework 4.6 pode ser reescrito como se segue para evitar a conversão.</span><span class="sxs-lookup"><span data-stu-id="88f5c-880">Code that uses the new cryptography APIs in .NET Framework 4.6 can be rewritten as follows to avoid the cast.</span></span>

             [!code-csharp[WhatsNew.Casting#2](~/samples/snippets/csharp/VS_Snippets_CLR/whatsnew.casting/cs/program.cs#2)]
             [!code-vb[WhatsNew.Casting#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/whatsnew.casting/vb/module1.vb#2)]

    - <span data-ttu-id="88f5c-881">**Suporte para conversão de datas e horas para ou do horário Unix**</span><span class="sxs-lookup"><span data-stu-id="88f5c-881">**Support for converting dates and times to or from Unix time**</span></span>

         <span data-ttu-id="88f5c-882">Os novos métodos a seguir foram adicionados à estrutura <xref:System.DateTimeOffset> para oferecer suporte à conversão de valores de data e hora para ou de horário Unix:</span><span class="sxs-lookup"><span data-stu-id="88f5c-882">The following new methods have been added to the <xref:System.DateTimeOffset> structure to support converting date and time values to or from Unix time:</span></span>

        - <xref:System.DateTimeOffset.FromUnixTimeSeconds%2A?displayProperty=nameWithType>

        - <xref:System.DateTimeOffset.FromUnixTimeMilliseconds%2A?displayProperty=nameWithType>

        - <xref:System.DateTimeOffset.ToUnixTimeSeconds%2A?displayProperty=nameWithType>

        - <xref:System.DateTimeOffset.ToUnixTimeMilliseconds%2A?displayProperty=nameWithType>

    - <span data-ttu-id="88f5c-883">**Opções de compatibilidade**</span><span class="sxs-lookup"><span data-stu-id="88f5c-883">**Compatibility switches**</span></span>

         <span data-ttu-id="88f5c-884">A nova classe <xref:System.AppContext> adiciona um novo recurso de compatibilidade que permite aos escritores de biblioteca fornecer aos seus usuários um mecanismo de recusa uniforme para a nova funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="88f5c-884">The new <xref:System.AppContext> class adds a new compatibility feature that enables library writers to provide a uniform opt-out mechanism for new functionality for their users.</span></span> <span data-ttu-id="88f5c-885">Ela estabelece um contrato flexível entre componentes a fim de comunicar uma solicitação de recusa.</span><span class="sxs-lookup"><span data-stu-id="88f5c-885">It establishes a loosely-coupled contract between components in order to communicate an opt-out request.</span></span> <span data-ttu-id="88f5c-886">Normalmente, essa funcionalidade é importante quando uma alteração é feita na funcionalidade existente.</span><span class="sxs-lookup"><span data-stu-id="88f5c-886">This capability is typically important when a change is made to existing functionality.</span></span> <span data-ttu-id="88f5c-887">Por outro lado, já existe uma aceitação implícita da nova funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="88f5c-887">Conversely, there is already an implicit opt-in for new functionality.</span></span>

         <span data-ttu-id="88f5c-888">Com o <xref:System.AppContext>, as bibliotecas definem e expõem as opções de compatibilidade, enquanto o código que depende delas podem definir essas opções a fim de afetar o comportamento da biblioteca.</span><span class="sxs-lookup"><span data-stu-id="88f5c-888">With <xref:System.AppContext>, libraries define and expose compatibility switches, while code that depends on them can set those switches to affect the library behavior.</span></span> <span data-ttu-id="88f5c-889">Por padrão, as bibliotecas fornecem a nova funcionalidade, e apenas a alteram (ou seja, eles fornecem a funcionalidade anterior) se a opção for definida.</span><span class="sxs-lookup"><span data-stu-id="88f5c-889">By default, libraries provide the new functionality, and they only alter it (that is, they provide the previous functionality) if the switch is set.</span></span>

         <span data-ttu-id="88f5c-890">Um aplicativo (ou uma biblioteca) pode declarar o valor de uma opção (que é sempre um valor <xref:System.Boolean>) definida pela biblioteca dependente.</span><span class="sxs-lookup"><span data-stu-id="88f5c-890">An application (or a library) can declare the value of a switch (which is always a <xref:System.Boolean> value) that a dependent library defines.</span></span> <span data-ttu-id="88f5c-891">A opção é sempre implicitamente `false`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-891">The switch is always implicitly `false`.</span></span> <span data-ttu-id="88f5c-892">A definição da opção como `true` a habilita.</span><span class="sxs-lookup"><span data-stu-id="88f5c-892">Setting the switch to `true` enables it.</span></span> <span data-ttu-id="88f5c-893">A definição explícita da opção `false` fornece o novo comportamento.</span><span class="sxs-lookup"><span data-stu-id="88f5c-893">Explicitly setting the switch to `false` provides the new behavior.</span></span>

        ```csharp
        AppContext.SetSwitch("Switch.AmazingLib.ThrowOnException", true);
        ```

        ```vb
        AppContext.SetSwitch("Switch.AmazingLib.ThrowOnException", True)
        ```

         <span data-ttu-id="88f5c-894">A biblioteca deve verificar se um consumidor declarou o valor da opção e, em seguida, agir adequadamente.</span><span class="sxs-lookup"><span data-stu-id="88f5c-894">The library must check if a consumer has declared the value of the switch and then appropriately act on it.</span></span>

        ```csharp
        if (!AppContext.TryGetSwitch("Switch.AmazingLib.ThrowOnException", out shouldThrow))
        {
           // This is the case where the switch value was not set by the application.
           // The library can choose to get the value of shouldThrow by other means.
           // If no overrides nor default values are specified, the value should be 'false'.
           // A false value implies the latest behavior.
        }

        // The library can use the value of shouldThrow to throw exceptions or not.
        if (shouldThrow)
        {
           // old code
        }
        else 
        {
           // new code
        }
        ```

        ```vb
        If Not AppContext.TryGetSwitch("Switch.AmazingLib.ThrowOnException", shouldThrow) Then
           ' This is the case where the switch value was not set by the application.
           ' The library can choose to get the value of shouldThrow by other means.
           ' If no overrides nor default values are specified, the value should be 'false'.
           ' A false value implies the latest behavior.
        End If

        ' The library can use the value of shouldThrow to throw exceptions or not.
        If shouldThrow Then
           ' old code
        Else 
           ' new code
        End If
        ```

         <span data-ttu-id="88f5c-895">É útil usar um formato consistente para opções, já que elas são um contrato formal exposto por uma biblioteca.</span><span class="sxs-lookup"><span data-stu-id="88f5c-895">It's beneficial to use a consistent format for switches, since they are a formal contract exposed by a library.</span></span> <span data-ttu-id="88f5c-896">Veja a seguir dois formatos óbvios.</span><span class="sxs-lookup"><span data-stu-id="88f5c-896">The following are two obvious formats.</span></span>

        - <span data-ttu-id="88f5c-897">*Opção*.*namespace*.*nomedaopção*</span><span class="sxs-lookup"><span data-stu-id="88f5c-897">*Switch*.*namespace*.*switchname*</span></span>

        - <span data-ttu-id="88f5c-898">*Opção*.*biblioteca*.*nomedaopção*</span><span class="sxs-lookup"><span data-stu-id="88f5c-898">*Switch*.*library*.*switchname*</span></span>

    - <span data-ttu-id="88f5c-899">**Mudanças no TAP (padrão assíncrono baseado em tarefas)**</span><span class="sxs-lookup"><span data-stu-id="88f5c-899">**Changes to the task-based asynchronous pattern (TAP)**</span></span>

         <span data-ttu-id="88f5c-900">Para aplicativos direcionados aos objetos <xref:System.Threading.Tasks.Task> e <xref:System.Threading.Tasks.Task%601> do NET Framework 4.6 herdam a cultura e a cultura da interface do usuário do thread de chamada.</span><span class="sxs-lookup"><span data-stu-id="88f5c-900">For apps that target the .NET Framework 4.6, <xref:System.Threading.Tasks.Task> and <xref:System.Threading.Tasks.Task%601> objects inherit the culture and UI culture of the calling thread.</span></span> <span data-ttu-id="88f5c-901">O comportamento de aplicativos direcionados a versões anteriores do .NET Framework, ou que não são direcionados a uma versão específica do .NET Framework, não é afetado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-901">The behavior of apps that target previous versions of the .NET Framework, or that do not target a specific version of the .NET Framework, is unaffected.</span></span> <span data-ttu-id="88f5c-902">Para saber mais, confira a seção "Cultura e operações assíncronas baseadas em tarefas" do tópico da classe <xref:System.Globalization.CultureInfo>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-902">For more information, see the "Culture and task-based asynchronous operations" section of the <xref:System.Globalization.CultureInfo> class topic.</span></span>

         <span data-ttu-id="88f5c-903">A classe <xref:System.Threading.AsyncLocal%601?displayProperty=nameWithType> permite a representação dos dados do ambiente que sejam locais a um fluxo determinado de controle assíncrono, como um método `async`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-903">The <xref:System.Threading.AsyncLocal%601?displayProperty=nameWithType> class allows you to represent ambient data that is local to a given asynchronous control flow, such as an `async` method.</span></span> <span data-ttu-id="88f5c-904">Ele pode ser usado para persistir dados entre threads.</span><span class="sxs-lookup"><span data-stu-id="88f5c-904">It can be used to persist data across threads.</span></span> <span data-ttu-id="88f5c-905">Você também pode definir um método de retorno de chamada que será notificado sempre que os dados do ambiente mudarem, pois a propriedade <xref:System.Threading.AsyncLocal%601.Value%2A?displayProperty=nameWithType> foi alterada explicitamente, ou porque o thread encontrou uma transição de contexto.</span><span class="sxs-lookup"><span data-stu-id="88f5c-905">You can also define a callback method that is notified whenever the ambient data changes either because the <xref:System.Threading.AsyncLocal%601.Value%2A?displayProperty=nameWithType> property was explicitly changed, or because the thread encountered a context transition.</span></span>

         <span data-ttu-id="88f5c-906">Os três métodos de conveniência, <xref:System.Threading.Tasks.Task.CompletedTask%2A?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Task.FromCanceled%2A?displayProperty=nameWithType> e <xref:System.Threading.Tasks.Task.FromException%2A?displayProperty=nameWithType>, foram adicionados ao TAP (padrão assíncrono baseado em tarefa) para retornar as tarefas concluídas em um estado específico.</span><span class="sxs-lookup"><span data-stu-id="88f5c-906">Three convenience methods, <xref:System.Threading.Tasks.Task.CompletedTask%2A?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Task.FromCanceled%2A?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Task.FromException%2A?displayProperty=nameWithType>, have been added to the task-based asynchronous pattern (TAP) to return completed tasks in a particular state.</span></span>

         <span data-ttu-id="88f5c-907">Agora, a classe <xref:System.IO.Pipes.NamedPipeClientStream> dá suporte à comunicação assíncrona com seu novo <xref:System.IO.Pipes.NamedPipeClientStream.ConnectAsync%2A>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-907">The <xref:System.IO.Pipes.NamedPipeClientStream> class now supports asynchronous communication with its new <xref:System.IO.Pipes.NamedPipeClientStream.ConnectAsync%2A>.</span></span> <span data-ttu-id="88f5c-908">método.</span><span class="sxs-lookup"><span data-stu-id="88f5c-908">method.</span></span>

    - <span data-ttu-id="88f5c-909">**O EventSource agora oferece suporte à gravação no Log de eventos**</span><span class="sxs-lookup"><span data-stu-id="88f5c-909">**EventSource now supports writing to the Event log**</span></span>

         <span data-ttu-id="88f5c-910">Agora, você pode usar a classe <xref:System.Diagnostics.Tracing.EventSource> para registrar mensagens administrativas ou operacionais no log de eventos, além de quaisquer sessões ETW existentes criadas na máquina.</span><span class="sxs-lookup"><span data-stu-id="88f5c-910">You now can use the <xref:System.Diagnostics.Tracing.EventSource> class to log administrative or operational messages to the event log, in addition to any existing ETW sessions created on the machine.</span></span> <span data-ttu-id="88f5c-911">No passado, era necessário usar o pacote Microsoft.Diagnostics.Tracing.EventSource NuGet para essa funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="88f5c-911">In the past, you had to use the Microsoft.Diagnostics.Tracing.EventSource NuGet package for this functionality.</span></span> <span data-ttu-id="88f5c-912">Agora, essa funcionalidade está integrada ao .NET Framework 4.6.</span><span class="sxs-lookup"><span data-stu-id="88f5c-912">This functionality is now built-into .NET Framework 4.6.</span></span>

         <span data-ttu-id="88f5c-913">O pacote do NuGet e o .NET Framework 4.6 foram atualizados com os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="88f5c-913">Both the NuGet package and .NET Framework 4.6 have been updated with the following features:</span></span>

        - <span data-ttu-id="88f5c-914">**Eventos dinâmicos**</span><span class="sxs-lookup"><span data-stu-id="88f5c-914">**Dynamic events**</span></span>

             <span data-ttu-id="88f5c-915">Permite eventos definidos como "dinâmicos" sem a criação de métodos de evento.</span><span class="sxs-lookup"><span data-stu-id="88f5c-915">Allows events defined "on the fly" without creating event methods.</span></span>

        - <span data-ttu-id="88f5c-916">**Cargas avançadas**</span><span class="sxs-lookup"><span data-stu-id="88f5c-916">**Rich payloads**</span></span>

             <span data-ttu-id="88f5c-917">Permite que classes atribuídas especialmente e matrizes, bem como tipos primitivos, sejam passados como uma carga</span><span class="sxs-lookup"><span data-stu-id="88f5c-917">Allows specially attributed classes and arrays as well as primitive types to be passed as a payload</span></span>

        - <span data-ttu-id="88f5c-918">**Acompanhamento de atividade**</span><span class="sxs-lookup"><span data-stu-id="88f5c-918">**Activity tracking**</span></span>

             <span data-ttu-id="88f5c-919">Faz com que os eventos Iniciar e Parar marquem eventos entre eles com uma ID que representa todas as atividades ativas no momento.</span><span class="sxs-lookup"><span data-stu-id="88f5c-919">Causes Start and Stop events to tag events between them with an ID that represents all currently active activities.</span></span>

         <span data-ttu-id="88f5c-920">Para oferecer suporte a esses recursos, o método sobrecarregado <xref:System.Diagnostics.Tracing.EventSource.Write%2A> foi adicionado à classe <xref:System.Diagnostics.Tracing.EventSource>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-920">To support these features, the overloaded <xref:System.Diagnostics.Tracing.EventSource.Write%2A> method has been added to the <xref:System.Diagnostics.Tracing.EventSource> class.</span></span>

- <span data-ttu-id="88f5c-921">**Windows Presentation Foundation (WPF)**</span><span class="sxs-lookup"><span data-stu-id="88f5c-921">**Windows Presentation Foundation (WPF)**</span></span>

    - <span data-ttu-id="88f5c-922">**Aprimoramentos de HDPI**</span><span class="sxs-lookup"><span data-stu-id="88f5c-922">**HDPI improvements**</span></span>

         <span data-ttu-id="88f5c-923">Agora, o suporte ao HDPI no WPF é melhor no .NET Framework 4.6.</span><span class="sxs-lookup"><span data-stu-id="88f5c-923">HDPI support in WPF is now better in the .NET Framework 4.6.</span></span> <span data-ttu-id="88f5c-924">Foram feitas alterações no layout para reduzir as ocorrências de distorção em controles com bordas.</span><span class="sxs-lookup"><span data-stu-id="88f5c-924">Changes have been made to layout rounding to reduce instances of clipping in controls with borders.</span></span> <span data-ttu-id="88f5c-925">Por padrão, esse recurso será habilitado somente se <xref:System.Runtime.Versioning.TargetFrameworkAttribute> estiver definido para o .NET 4.6.</span><span class="sxs-lookup"><span data-stu-id="88f5c-925">By default, this feature is enabled only if your <xref:System.Runtime.Versioning.TargetFrameworkAttribute> is set to .NET 4.6.</span></span>  <span data-ttu-id="88f5c-926">Os aplicativos direcionados a versões anteriores do Framework, mas que são executados no .NET Framework 4.6 podem aceitar o novo comportamento adicionando o seguinte à seção [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) do arquivo app.config:</span><span class="sxs-lookup"><span data-stu-id="88f5c-926">Applications that target earlier versions of the framework but are running on the .NET Framework 4.6 can opt in to the new behavior by adding the following line to the [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) section of the app.config file:</span></span>

        ```xml
        <AppContextSwitchOverrides
        value="Switch.MS.Internal.DoNotApplyLayoutRoundingToMarginsAndBorderThickness=false"
        />
        ```

         <span data-ttu-id="88f5c-927">Janelas do WPF invadindo vários monitores com configurações de DPI diferentes (configuração de DPI múltiplo) agora são renderizadas completamente sem regiões escurecidas.</span><span class="sxs-lookup"><span data-stu-id="88f5c-927">WPF windows straddling multiple monitors with different DPI settings (Multi-DPI setup) are now completely rendered without blacked-out regions.</span></span> <span data-ttu-id="88f5c-928">Você pode desativar esse comportamento adicionando a seguinte linha à seção `<appSettings>` do arquivo app.config:</span><span class="sxs-lookup"><span data-stu-id="88f5c-928">You can opt out of this behavior by adding the following line to the `<appSettings>` section of the app.config file to disable this new behavior:</span></span>

        ```xml
        <add key="EnableMultiMonitorDisplayClipping" value="true"/>
        ```

         <span data-ttu-id="88f5c-929">O suporte ao carregamento automático do cursor à direita com base na configuração de DPI foi adicionado a <xref:System.Windows.Input.Cursor?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-929">Support for automatically loading the right cursor based on DPI setting has been added to  <xref:System.Windows.Input.Cursor?displayProperty=nameWithType>.</span></span>

    - <span data-ttu-id="88f5c-930">**O toque está melhor**</span><span class="sxs-lookup"><span data-stu-id="88f5c-930">**Touch is better**</span></span>

         <span data-ttu-id="88f5c-931">Os comentários de clientes no [Connect](https://connect.microsoft.com/VisualStudio/feedback/details/903760/) informando que o toque produz um comportamento imprevisível foram resolvidos no .NET Framework 4.6.</span><span class="sxs-lookup"><span data-stu-id="88f5c-931">Customer reports on [Connect](https://connect.microsoft.com/VisualStudio/feedback/details/903760/) that touch produces unpredictable behavior have been addressed in the .NET Framework 4.6.</span></span> <span data-ttu-id="88f5c-932">O limite de toque duplo para aplicativos da Windows Store e aplicativos do WPF agora é o mesmo no Windows 8.1 e em versões posteriores.</span><span class="sxs-lookup"><span data-stu-id="88f5c-932">The double tap threshold for Windows Store applications and WPF applications is now the same in Windows 8.1 and above.</span></span>

    - <span data-ttu-id="88f5c-933">**Suporte para janela filho transparente**</span><span class="sxs-lookup"><span data-stu-id="88f5c-933">**Transparent child window support**</span></span>

         <span data-ttu-id="88f5c-934">O WPF no .NET Framework 4.6 oferece suporte a janelas filho transparente no Windows 8.1 e versões posteriores.</span><span class="sxs-lookup"><span data-stu-id="88f5c-934">WPF in the .NET Framework 4.6 supports transparent child windows in Windows 8.1 and above.</span></span> <span data-ttu-id="88f5c-935">Isso permite a criação de janelas filho não retangulares e janelas filho transparente em suas janelas de nível superior.</span><span class="sxs-lookup"><span data-stu-id="88f5c-935">This allows you to create non-rectangular and transparent child windows in your top-level windows.</span></span> <span data-ttu-id="88f5c-936">Você pode habilitar esse recurso configurando a propriedade <xref:System.Windows.Interop.HwndSourceParameters.UsesPerPixelTransparency%2A?displayProperty=nameWithType> como `true`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-936">You can enable this feature by setting the <xref:System.Windows.Interop.HwndSourceParameters.UsesPerPixelTransparency%2A?displayProperty=nameWithType> property to `true`.</span></span>

- <span data-ttu-id="88f5c-937">**WCF (Windows Communication Foundation)**</span><span class="sxs-lookup"><span data-stu-id="88f5c-937">**Windows Communication Foundation (WCF)**</span></span>

    - <span data-ttu-id="88f5c-938">**Suporte a SSL**</span><span class="sxs-lookup"><span data-stu-id="88f5c-938">**SSL support**</span></span>

         <span data-ttu-id="88f5c-939">Agora, o WCF oferece suporte ao TLS 1.1 e TLS 1.2 versão SSL, além do SSL 3.0 e TLS 1.0, ao usar o NetTcp com autenticação de cliente e segurança de transporte.</span><span class="sxs-lookup"><span data-stu-id="88f5c-939">WCF now supports SSL version TLS 1.1 and TLS 1.2, in addition to SSL 3.0 and TLS 1.0, when using NetTcp with transport security and client authentication.</span></span> <span data-ttu-id="88f5c-940">Agora é possível selecionar qual protocolo usar, ou desabilitar protocolos antigos e menos seguros.</span><span class="sxs-lookup"><span data-stu-id="88f5c-940">It is now possible to select which protocol to use, or to disable old lesser secure protocols.</span></span> <span data-ttu-id="88f5c-941">Isso pode ser feito definindo a propriedade <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols%2A> ou adicionando o seguinte ao arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="88f5c-941">This can be done either by setting the <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols%2A> property or by adding the following to a configuration file.</span></span>

        ```xml
        <netTcpBinding>
           <binding>
              <security mode= "None|Transport|Message|TransportWithMessageCredential" >
                 <transport clientCredentialType="None|Windows|Certificate"
                            protectionLevel="None|Sign|EncryptAndSign"
                            sslProtocols="Ssl3|Tls1|Tls11|Tls12">
                    </transport>
              </security>
           </binding>
        </netTcpBinding>
        ```

    - <span data-ttu-id="88f5c-942">**Enviar mensagens usando conexões HTTP diferentes**</span><span class="sxs-lookup"><span data-stu-id="88f5c-942">**Sending messages using different HTTP connections**</span></span>

         <span data-ttu-id="88f5c-943">Agora, o WCF permite que os usuários garantam o envio de determinadas mensagens usando conexões HTTP subjacentes diferentes.</span><span class="sxs-lookup"><span data-stu-id="88f5c-943">WCF now allows users to ensure certain messages are sent using different underlying HTTP connections.</span></span> <span data-ttu-id="88f5c-944">Há duas formas de fazer isso:</span><span class="sxs-lookup"><span data-stu-id="88f5c-944">There are two ways to do this:</span></span>

        - <span data-ttu-id="88f5c-945">**Usar um prefixo de nome de grupo de conexão**</span><span class="sxs-lookup"><span data-stu-id="88f5c-945">**Using a connection group name prefix**</span></span>

             <span data-ttu-id="88f5c-946">Os usuários podem especificar uma cadeia de caracteres que o WCF usará como obtenção de prefixo para o nome do grupo de conexão.</span><span class="sxs-lookup"><span data-stu-id="88f5c-946">Users can specify a string that WCF will use as a prefix for the connection group name.</span></span> <span data-ttu-id="88f5c-947">Duas mensagens com prefixos diferentes são enviadas usando conexões HTTP subjacentes diferentes.</span><span class="sxs-lookup"><span data-stu-id="88f5c-947">Two messages with different prefixes are sent using different underlying HTTP connections.</span></span> <span data-ttu-id="88f5c-948">Defina o prefixo adicionando um par de chave/valor à propriedade <xref:System.ServiceModel.Channels.Message.Properties%2A?displayProperty=nameWithType> da mensagem.</span><span class="sxs-lookup"><span data-stu-id="88f5c-948">You set the prefix by adding a key/value pair to the message's <xref:System.ServiceModel.Channels.Message.Properties%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="88f5c-949">A chave é "HttpTransportConnectionGroupNamePrefix"; o valor é o prefixo desejado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-949">The key is "HttpTransportConnectionGroupNamePrefix"; the value is the desired prefix.</span></span>

        - <span data-ttu-id="88f5c-950">**Usar fábricas de canal diferente**</span><span class="sxs-lookup"><span data-stu-id="88f5c-950">**Using different channel factories**</span></span>

             <span data-ttu-id="88f5c-951">Os usuários também podem habilitar um recurso que garante que as mensagens enviadas usando canais criados por fábricas de canal diferentes usarão conexões HTTP subjacentes diferentes.</span><span class="sxs-lookup"><span data-stu-id="88f5c-951">Users can also enable a feature that ensures that messages sent using channels created by different channel factories will use different underlying HTTP connections.</span></span> <span data-ttu-id="88f5c-952">Para habilitar esse recurso, os usuários devem definir o seguinte `appSetting` como `true`:</span><span class="sxs-lookup"><span data-stu-id="88f5c-952">To enable this feature, users must set the following `appSetting` to `true`:</span></span>

            ```xml
            <appSettings>
               <add key="wcf:httpTransportBinding:useUniqueConnectionPoolPerFactory" value="true" />
            </appSettings>
            ```

- <span data-ttu-id="88f5c-953">**Windows Workflow Foundation (WWF)**</span><span class="sxs-lookup"><span data-stu-id="88f5c-953">**Windows Workflow Foundation (WWF)**</span></span>

     <span data-ttu-id="88f5c-954">Agora você pode especificar o número de segundos que um serviço de fluxo de trabalho manterá uma solicitação de operação fora de ordem quando houver um indicador de "não protocolo" pendentes antes do tempo limite da solicitação.</span><span class="sxs-lookup"><span data-stu-id="88f5c-954">You can now specify the number of seconds a workflow service will hold on to an out-of-order operation request when there is an outstanding "non-protocol" bookmark before timing out the request.</span></span> <span data-ttu-id="88f5c-955">Um indicador de "não protocolo" é um indicador que não está relacionado a atividades de Recebimento pendentes.</span><span class="sxs-lookup"><span data-stu-id="88f5c-955">A "non-protocol" bookmark is a bookmark that is not related to outstanding Receive activities.</span></span> <span data-ttu-id="88f5c-956">Algumas atividades criam indicadores de não protocolo dentro de sua implementação, portanto, talvez a existência de um indicador não protocolo não seja óbvia.</span><span class="sxs-lookup"><span data-stu-id="88f5c-956">Some activities create non-protocol bookmarks within their implementation, so it may not be obvious that a non-protocol bookmark exists.</span></span> <span data-ttu-id="88f5c-957">Entre elas estão Estado e Seleção.</span><span class="sxs-lookup"><span data-stu-id="88f5c-957">These include State and Pick.</span></span> <span data-ttu-id="88f5c-958">Então, se você tiver um serviço de fluxo de trabalho implementado com uma máquina de estado, ou que contenha uma atividade de Seleção, provavelmente você terá indicadores de não protocolo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-958">So if you have a workflow service implemented with a state machine or containing a Pick activity, you will most likely have non-protocol bookmarks.</span></span> <span data-ttu-id="88f5c-959">Especifique o intervalo adicionando uma linha semelhante à seguinte à seção `appSettings` do arquivo app.config:</span><span class="sxs-lookup"><span data-stu-id="88f5c-959">You specify the interval by adding a line like the following to the `appSettings` section of your app.config file:</span></span>

    ```xml
    <add key="microsoft:WorkflowServices:FilterResumeTimeoutInSeconds" value="60"/>
    ```

     <span data-ttu-id="88f5c-960">O valor padrão é 60 segundos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-960">The default value is 60 seconds.</span></span> <span data-ttu-id="88f5c-961">Se `value` estiver definido como 0, as solicitações de fora de ordem serão imediatamente rejeitadas com uma falha e o seguinte texto:</span><span class="sxs-lookup"><span data-stu-id="88f5c-961">If `value` is set to 0, out-of-order requests are immediately rejected with a fault with text that looks like this:</span></span>

    ```
    Operation 'Request3|{http://tempuri.org/}IService' on service instance with identifier '2b0667b6-09c8-4093-9d02-f6c67d534292' cannot be performed at this time. Please ensure that the operations are performed in the correct order and that the binding in use provides ordered delivery guarantees.
    ```

     <span data-ttu-id="88f5c-962">Essa é a mesma mensagem recebida se uma mensagem de operação fora de ordem for recebida e não houver nenhum indicador de não protocolo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-962">This is the same message that you receive if an out-of-order operation message is received and there are no non-protocol bookmarks.</span></span>

     <span data-ttu-id="88f5c-963">Se o valor do elemento `FilterResumeTimeoutInSeconds` for diferente de zero, houver indicadores de não protocolo e o intervalo de tempo limite expirar, a operação falhará com uma mensagem de tempo limite.</span><span class="sxs-lookup"><span data-stu-id="88f5c-963">If the value of the `FilterResumeTimeoutInSeconds` element is non-zero, there are non-protocol bookmarks, and the timeout interval expires, the operation fails with a timeout message.</span></span>

- <span data-ttu-id="88f5c-964">**Transações**</span><span class="sxs-lookup"><span data-stu-id="88f5c-964">**Transactions**</span></span>

     <span data-ttu-id="88f5c-965">Agora você pode incluir o identificador de transação distribuída para a transação que causou uma exceção derivada de <xref:System.Transactions.TransactionException>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-965">You can now include the distributed transaction identifier for the transaction that has caused an exception derived from <xref:System.Transactions.TransactionException> to be thrown.</span></span> <span data-ttu-id="88f5c-966">Faça isso adicionando a seguinte chave à seção `appSettings` do arquivo app.config:</span><span class="sxs-lookup"><span data-stu-id="88f5c-966">You do this by adding the following key to the `appSettings` section of your app.config file:</span></span>

    ```xml
    <add key="Transactions:IncludeDistributedTransactionIdInExceptionMessage" value="true"/>
    ```

     <span data-ttu-id="88f5c-967">O valor padrão é `false`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-967">The default value is `false`.</span></span>

- <span data-ttu-id="88f5c-968">**Rede**</span><span class="sxs-lookup"><span data-stu-id="88f5c-968">**Networking**</span></span>

    - <span data-ttu-id="88f5c-969">**Reutilização de soquete**</span><span class="sxs-lookup"><span data-stu-id="88f5c-969">**Socket reuse**</span></span>

         <span data-ttu-id="88f5c-970">O Windows 10 inclui um novo algoritmo de rede de alta escalabilidade que utiliza melhor os recursos da máquina reutilizando portas locais para conexões TCP de saída.</span><span class="sxs-lookup"><span data-stu-id="88f5c-970">Windows 10 includes a new high-scalability networking algorithm that makes better use of machine resources by reusing local ports for outbound TCP connections.</span></span> <span data-ttu-id="88f5c-971">O .NET Framework 4.6 oferece suporte ao novo algoritmo, permitindo que aplicativos .NET aproveitem o novo comportamento.</span><span class="sxs-lookup"><span data-stu-id="88f5c-971">.NET Framework 4.6 supports the new algorithm, enabling .NET apps to take advantage of the new behavior.</span></span> <span data-ttu-id="88f5c-972">Em versões anteriores do Windows, havia um limite de conexão simultânea artificial (normalmente 16.384, o tamanho padrão do intervalo de porta dinâmica), que pode limitar a escalabilidade de um serviço causando o esgotamento de porta sob carga.</span><span class="sxs-lookup"><span data-stu-id="88f5c-972">In previous versions of Windows, there was an artificial concurrent connection limit (typically 16,384, the default size of the dynamic port range), which could limit the scalability of a service by causing port exhaustion when under load.</span></span>

         <span data-ttu-id="88f5c-973">No .NET Framework 4.6, duas novas APIs foram adicionadas para permitir a reutilização de porta, o que remove efetivamente o limite de 64 mil conexões simultâneas:</span><span class="sxs-lookup"><span data-stu-id="88f5c-973">In the .NET Framework 4.6, two new APIs have been added to enable port reuse, which effectively removes the 64K limit on concurrent connections:</span></span>

        - <span data-ttu-id="88f5c-974">O valor de enumeração <xref:System.Net.Sockets.SocketOptionName?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-974">The <xref:System.Net.Sockets.SocketOptionName?displayProperty=nameWithType> enumeration value.</span></span>

        - <span data-ttu-id="88f5c-975">A propriedade de <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="88f5c-975">The <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> property.</span></span>

         <span data-ttu-id="88f5c-976">Por padrão, a propriedade <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> é `false`, a menos que o valor `HWRPortReuseOnSocketBind` da chave do Registro `HKLM\SOFTWARE\Microsoft\.NETFramework\v4.0.30319` seja definido como 0x1.</span><span class="sxs-lookup"><span data-stu-id="88f5c-976">By default, the <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> property is `false` unless the `HWRPortReuseOnSocketBind` value of the `HKLM\SOFTWARE\Microsoft\.NETFramework\v4.0.30319` registry key is set to 0x1.</span></span> <span data-ttu-id="88f5c-977">Para habilitar a reutilização de porta local em conexões HTTP, defina a propriedade <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> como `true`.</span><span class="sxs-lookup"><span data-stu-id="88f5c-977">To enable local port reuse on HTTP connections, set the <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> property to `true`.</span></span> <span data-ttu-id="88f5c-978">Isso faz com que todas as conexões de soquete TCP externa do <xref:System.Net.Http.HttpClient> e <xref:System.Net.HttpWebRequest> usem uma nova opção de soquete do Windows 10 [SO_REUSE_UNICASTPORT](/windows/desktop/WinSock/sol-socket-socket-options), que permite a reutilização de porta local.</span><span class="sxs-lookup"><span data-stu-id="88f5c-978">This causes all outgoing TCP socket connections from <xref:System.Net.Http.HttpClient> and <xref:System.Net.HttpWebRequest> to use a new Windows 10 socket option, [SO_REUSE_UNICASTPORT](/windows/desktop/WinSock/sol-socket-socket-options), that enables local port reuse.</span></span>

         <span data-ttu-id="88f5c-979">Os desenvolvedores que criam um aplicativo somente para soquetes podem especificar a opção <xref:System.Net.Sockets.SocketOptionName?displayProperty=nameWithType> ao chamar um método, como <xref:System.Net.Sockets.Socket.SetSocketOption%2A?displayProperty=nameWithType>, para que os soquetes de saídas reutilizem portas locais durante a associação.</span><span class="sxs-lookup"><span data-stu-id="88f5c-979">Developers writing a sockets-only application can specify the <xref:System.Net.Sockets.SocketOptionName?displayProperty=nameWithType> option when calling a method such as <xref:System.Net.Sockets.Socket.SetSocketOption%2A?displayProperty=nameWithType> so that outbound sockets reuse local ports during binding.</span></span>

    - <span data-ttu-id="88f5c-980">**Suporte para nomes de domínio internacionais e PunyCode**</span><span class="sxs-lookup"><span data-stu-id="88f5c-980">**Support for international domain names and PunyCode**</span></span>

         <span data-ttu-id="88f5c-981">Uma nova propriedade, <xref:System.Uri.IdnHost%2A>, foi adicionada à classe <xref:System.Uri> para oferecer melhor suporte a nomes de domínio internacionais e PunyCode.</span><span class="sxs-lookup"><span data-stu-id="88f5c-981">A new property, <xref:System.Uri.IdnHost%2A>, has been added to the <xref:System.Uri> class to better support international domain names and PunyCode.</span></span>

- <span data-ttu-id="88f5c-982">**Redimensionamento em controles do Windows Forms.**</span><span class="sxs-lookup"><span data-stu-id="88f5c-982">**Resizing in Windows Forms controls.**</span></span>

     <span data-ttu-id="88f5c-983">Esse recurso foi expandido no NET Framework 4.6 para incluir os tipos <xref:System.Windows.Forms.DomainUpDown>, <xref:System.Windows.Forms.NumericUpDown>, <xref:System.Windows.Forms.DataGridViewComboBoxColumn>, <xref:System.Windows.Forms.DataGridViewColumn> e <xref:System.Windows.Forms.ToolStripSplitButton>, e o retângulo especificado pela propriedade <xref:System.Drawing.Design.PaintValueEventArgs.Bounds%2A> usada ao desenhar um <xref:System.Drawing.Design.UITypeEditor>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-983">This feature has been expanded in .NET Framework 4.6 to include the <xref:System.Windows.Forms.DomainUpDown>, <xref:System.Windows.Forms.NumericUpDown>, <xref:System.Windows.Forms.DataGridViewComboBoxColumn>, <xref:System.Windows.Forms.DataGridViewColumn> and <xref:System.Windows.Forms.ToolStripSplitButton> types and the rectangle specified by the <xref:System.Drawing.Design.PaintValueEventArgs.Bounds%2A> property used when drawing a <xref:System.Drawing.Design.UITypeEditor>.</span></span>

     <span data-ttu-id="88f5c-984">Esse é um recurso de opção de aceitação.</span><span class="sxs-lookup"><span data-stu-id="88f5c-984">This is an opt-in feature.</span></span> <span data-ttu-id="88f5c-985">Para habilitá-lo, defina o elemento `EnableWindowsFormsHighDpiAutoResizing` como `true` no arquivo de configuração do aplicativo (app.config):</span><span class="sxs-lookup"><span data-stu-id="88f5c-985">To enable it, set the `EnableWindowsFormsHighDpiAutoResizing` element to `true` in the application configuration (app.config) file:</span></span>

    ```xml
    <appSettings>
       <add key="EnableWindowsFormsHighDpiAutoResizing" value="true" />
    </appSettings>
    ```

- <span data-ttu-id="88f5c-986">**Suporte para codificações de página de código**</span><span class="sxs-lookup"><span data-stu-id="88f5c-986">**Support for code page encodings**</span></span>

     <span data-ttu-id="88f5c-987">O .NET Core oferece suporte principalmente a codificações Unicode, e por padrão fornece suporte limitado a codificações de página de código.</span><span class="sxs-lookup"><span data-stu-id="88f5c-987">.NET Core primarily supports the Unicode encodings and by default provides limited support for code page encodings.</span></span> <span data-ttu-id="88f5c-988">É possível adicionar suporte a codificações de página de código disponíveis no .NET Framework, mas que não sejam compatíveis ao .NET Core ao registrar codificações de página de código com o método <xref:System.Text.Encoding.RegisterProvider%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-988">You can add support for code page encodings available in .NET Framework but unsupported in .NET Core by registering code page encodings with the <xref:System.Text.Encoding.RegisterProvider%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="88f5c-989">Para obter mais informações, consulte <xref:System.Text.CodePagesEncodingProvider?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-989">For more information, see <xref:System.Text.CodePagesEncodingProvider?displayProperty=nameWithType>.</span></span>

- <span data-ttu-id="88f5c-990">**.NET Nativo**</span><span class="sxs-lookup"><span data-stu-id="88f5c-990">**.NET Native**</span></span>

     <span data-ttu-id="88f5c-991">Aplicativos do Windows para Windows 10 direcionados ao .NET Core e escritos em C# ou Visual Basic podem tirar proveito de uma nova tecnologia que compila aplicativos para código nativo em vez de IL.</span><span class="sxs-lookup"><span data-stu-id="88f5c-991">Windows apps for Windows 10 that target .NET Core and are written in C# or Visual Basic can take advantage of a new technology that compiles apps to native code rather than IL.</span></span> <span data-ttu-id="88f5c-992">Ela produz aplicativos caracterizados por inicialização e tempos de execução mais rápidos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-992">They produce apps characterized by faster startup and execution times.</span></span> <span data-ttu-id="88f5c-993">Para saber mais, confira [Compilação de aplicativos com .NET Nativo](../net-native/index.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-993">For more information, see [Compiling Apps with .NET Native](../net-native/index.md).</span></span> <span data-ttu-id="88f5c-994">Para obter uma visão geral do .NET Nativo, examinando qual é a diferente dele para a compilação JIT e o NGEN e o que isso significa para seu código, confira [.NET Nativo e compilação](../net-native/net-native-and-compilation.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-994">For an overview of .NET Native that examines how it differs from both JIT compilation and NGEN and what that means for your code, see [.NET Native and Compilation](../net-native/net-native-and-compilation.md).</span></span>

     <span data-ttu-id="88f5c-995">Seus aplicativos são compilados por padrão para código nativo quando você os compila com o Visual Studio 2015 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="88f5c-995">Your apps are compiled to native code by default when you compile them with Visual Studio 2015 or later.</span></span> <span data-ttu-id="88f5c-996">Para saber mais, confira [Introdução ao .NET Nativo](../net-native/getting-started-with-net-native.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-996">For more information, see [Getting Started with .NET Native](../net-native/getting-started-with-net-native.md).</span></span>

     <span data-ttu-id="88f5c-997">Para oferecer suporte à depuração de aplicativos do .NET Nativo, foram adicionadas diversas interfaces e enumerações novas à API de depuração não gerenciada.</span><span class="sxs-lookup"><span data-stu-id="88f5c-997">To support debugging .NET Native apps, a number of new interfaces and enumerations have been added to the unmanaged debugging API.</span></span> <span data-ttu-id="88f5c-998">Para saber mais, confira o tópico [Depuração (Referência de API não gerenciada)](../unmanaged-api/debugging/index.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-998">For more information, see the [Debugging (Unmanaged API Reference)](../unmanaged-api/debugging/index.md) topic.</span></span>

- <span data-ttu-id="88f5c-999">**Pacotes do código-fonte aberto do .NET Framework**</span><span class="sxs-lookup"><span data-stu-id="88f5c-999">**Open-source .NET Framework packages**</span></span>

     <span data-ttu-id="88f5c-1000">Os pacotes do .NET Core, como as coleções imutáveis, as [APIs SIMD](https://go.microsoft.com/fwlink/?LinkID=518639) e as APIs de rede, como as encontradas no namespace <xref:System.Net.Http>, agora estão disponíveis como pacotes de software livre no [GitHub](https://github.com/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1000">.NET Core packages such as the immutable collections, [SIMD APIs](https://go.microsoft.com/fwlink/?LinkID=518639), and networking APIs such as those found in the <xref:System.Net.Http> namespace are now available as open source packages on [GitHub](https://github.com/).</span></span> <span data-ttu-id="88f5c-1001">Para acessar o código, confira [CoreFx no GitHub](https://github.com/dotnet/corefx).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1001">To access the code, see [CoreFx on GitHub](https://github.com/dotnet/corefx).</span></span> <span data-ttu-id="88f5c-1002">Para saber mais e saber como contribuir com esses pacotes, confira [.NET Core e código-fonte aberto](../get-started/net-core-and-open-source.md), [Home Page do .NET no GitHub](https://github.com/dotnet/home).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1002">For more information and how to contribute to these packages, see [.NET Core and Open-Source](../get-started/net-core-and-open-source.md), [.NET Home Page on GitHub](https://github.com/dotnet/home).</span></span>

<a name="v452" />

## <a name="whats-new-in-net-framework-452"></a><span data-ttu-id="88f5c-1003">Novidades no .NET Framework 4.5.2</span><span class="sxs-lookup"><span data-stu-id="88f5c-1003">What's new in .NET Framework 4.5.2</span></span>

- <span data-ttu-id="88f5c-1004">**Novas APIs para aplicativos do ASP.NET.**</span><span class="sxs-lookup"><span data-stu-id="88f5c-1004">**New APIs for ASP.NET apps.**</span></span> <span data-ttu-id="88f5c-1005">Os novos métodos <xref:System.Web.HttpResponse.AddOnSendingHeaders%2A?displayProperty=nameWithType> e <xref:System.Web.HttpResponseBase.AddOnSendingHeaders%2A?displayProperty=nameWithType> permitem inspecionar e modificar os cabeçalhos de resposta e o código de status à medida que a resposta é liberada para o aplicativo do cliente.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1005">The new <xref:System.Web.HttpResponse.AddOnSendingHeaders%2A?displayProperty=nameWithType> and <xref:System.Web.HttpResponseBase.AddOnSendingHeaders%2A?displayProperty=nameWithType> methods let you inspect and modify response headers and status code as the response is being flushed to the client app.</span></span> <span data-ttu-id="88f5c-1006">Sugerimos usar esses métodos ao invés dos eventos <xref:System.Web.HttpApplication.PreSendRequestHeaders> e <xref:System.Web.HttpApplication.PreSendRequestContent>; eles são mais eficientes e confiáveis.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1006">Consider using these methods instead of the <xref:System.Web.HttpApplication.PreSendRequestHeaders> and <xref:System.Web.HttpApplication.PreSendRequestContent> events; they are more efficient and reliable.</span></span>

     <span data-ttu-id="88f5c-1007">O método <xref:System.Web.Hosting.HostingEnvironment.QueueBackgroundWorkItem%2A?displayProperty=nameWithType> permite agendar pequenos itens de trabalho em segundo plano.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1007">The <xref:System.Web.Hosting.HostingEnvironment.QueueBackgroundWorkItem%2A?displayProperty=nameWithType> method lets you schedule small background work items.</span></span> <span data-ttu-id="88f5c-1008">ASP.NET rastreia esses itens e evita que IIS termine abruptamente o processo de trabalho até que todos os itens de trabalho em segundo plano tenham sido concluídos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1008">ASP.NET tracks these items and prevents IIS from abruptly terminating the worker process until all background work items have completed.</span></span> <span data-ttu-id="88f5c-1009">Esse método não pode ser chamado fora de um domínio de aplicativo gerenciado pelo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1009">This method can't be called outside an ASP.NET managed app domain.</span></span>

     <span data-ttu-id="88f5c-1010">As novas propriedades <xref:System.Web.HttpResponse.HeadersWritten?displayProperty=nameWithType> e <xref:System.Web.HttpResponseBase.HeadersWritten?displayProperty=nameWithType> retornam valores boolianos que indicam se os cabeçalhos de resposta foram gravados.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1010">The new <xref:System.Web.HttpResponse.HeadersWritten?displayProperty=nameWithType> and <xref:System.Web.HttpResponseBase.HeadersWritten?displayProperty=nameWithType> properties return Boolean values that indicate whether the response headers have been written.</span></span> <span data-ttu-id="88f5c-1011">É possível usar essas propriedades para certificar-se de que as chamadas para APIs como <xref:System.Web.HttpResponse.StatusCode%2A?displayProperty=nameWithType> (que geram exceções se os cabeçalhos foram gravados) tiveram êxito.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1011">You can use these properties to make sure that calls to APIs such as <xref:System.Web.HttpResponse.StatusCode%2A?displayProperty=nameWithType> (which throw exceptions if the headers have been written) will succeed.</span></span>

- <span data-ttu-id="88f5c-1012">**Redimensionamento em controles do Windows Forms.**</span><span class="sxs-lookup"><span data-stu-id="88f5c-1012">**Resizing in Windows Forms controls.**</span></span> <span data-ttu-id="88f5c-1013">Esse recurso foi expandido.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1013">This feature has been expanded.</span></span> <span data-ttu-id="88f5c-1014">É possível usar a configuração do sistema DPI para redimensionar os componentes dos seguintes controles adicionais (por exemplo, a seta suspensa nas caixas de combinação):</span><span class="sxs-lookup"><span data-stu-id="88f5c-1014">You can now use the system DPI setting to resize components of the following additional controls (for example, the drop-down arrow in combo boxes):</span></span>

    - <xref:System.Windows.Forms.ComboBox>
    - <xref:System.Windows.Forms.ToolStripComboBox>
    - <xref:System.Windows.Forms.ToolStripMenuItem>
    - <xref:System.Windows.Forms.Cursor>
    - <xref:System.Windows.Forms.DataGridView>
    - <xref:System.Windows.Forms.DataGridViewComboBoxColumn>

     <span data-ttu-id="88f5c-1015">Esse é um recurso de opção de aceitação.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1015">This is an opt-in feature.</span></span> <span data-ttu-id="88f5c-1016">Para habilitá-lo, defina o elemento `EnableWindowsFormsHighDpiAutoResizing` como `true` no arquivo de configuração do aplicativo (app.config):</span><span class="sxs-lookup"><span data-stu-id="88f5c-1016">To enable it, set the `EnableWindowsFormsHighDpiAutoResizing` element to `true` in the application configuration (app.config) file:</span></span>

    ```xml
    <appSettings>
       <add key="EnableWindowsFormsHighDpiAutoResizing" value="true" />
    </appSettings>
    ```

- <span data-ttu-id="88f5c-1017">**Novo recurso de fluxo de trabalho.**</span><span class="sxs-lookup"><span data-stu-id="88f5c-1017">**New workflow feature.**</span></span> <span data-ttu-id="88f5c-1018">Um gerenciador de recursos que usa o método <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> (e, portanto, implementa a interface <xref:System.Transactions.IPromotableSinglePhaseNotification>) pode usar o novo método <xref:System.Transactions.Transaction.PromoteAndEnlistDurable%2A?displayProperty=nameWithType> para requisitar o seguinte:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1018">A resource manager that's using the <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> method (and therefore implementing the <xref:System.Transactions.IPromotableSinglePhaseNotification> interface) can use the new <xref:System.Transactions.Transaction.PromoteAndEnlistDurable%2A?displayProperty=nameWithType> method to request the following:</span></span>

    - <span data-ttu-id="88f5c-1019">Promover a transação para um Coordenador de transações distribuídas da Microsoft (MSDTC).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1019">Promote the transaction to a Microsoft Distributed Transaction Coordinator (MSDTC) transaction.</span></span>

    - <span data-ttu-id="88f5c-1020">Substitua <xref:System.Transactions.IPromotableSinglePhaseNotification> por <xref:System.Transactions.ISinglePhaseNotification>, que é uma inscrição durável que é compatível com a confirmação de uma única fase.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1020">Replace <xref:System.Transactions.IPromotableSinglePhaseNotification> with an <xref:System.Transactions.ISinglePhaseNotification>, which is a durable enlistment that supports single phase commits.</span></span>

     <span data-ttu-id="88f5c-1021">Isso pode ser feito dentro do mesmo domínio do aplicativo e não requer nenhum código extra não gerado para interagir com o MSDTC para executar a promoção.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1021">This can be done within the same app domain, and doesn't require any extra unmanaged code to interact with MSDTC to perform the promotion.</span></span> <span data-ttu-id="88f5c-1022">O novo método pode ser chamado apenas quando há uma chamada pendente do método <xref:System.Transactions?displayProperty=nameWithType> para o <xref:System.Transactions.IPromotableSinglePhaseNotification>`Promote` implementado por uma inscrição que pode ser promovida.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1022">The new method can be called only when there's an outstanding call from <xref:System.Transactions?displayProperty=nameWithType> to the <xref:System.Transactions.IPromotableSinglePhaseNotification>`Promote` method that's implemented by the promotable enlistment.</span></span>

- <span data-ttu-id="88f5c-1023">**Melhorias na criação de perfis**</span><span class="sxs-lookup"><span data-stu-id="88f5c-1023">**Profiling improvements.**</span></span> <span data-ttu-id="88f5c-1024">As seguintes novas APIs não gerenciadas de criação de perfis fornecem uma criação de perfil mais robusta:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1024">The following new unmanaged profiling APIs provide more robust profiling:</span></span>

    - [<span data-ttu-id="88f5c-1025">Estrutura COR_PRF_ASSEMBLY_REFERENCE_INFO</span><span class="sxs-lookup"><span data-stu-id="88f5c-1025">COR_PRF_ASSEMBLY_REFERENCE_INFO Structure</span></span>](../unmanaged-api/profiling/cor-prf-assembly-reference-info-structure.md)
    - [<span data-ttu-id="88f5c-1026">Enumeração COR_PRF_HIGH_MONITOR</span><span class="sxs-lookup"><span data-stu-id="88f5c-1026">COR_PRF_HIGH_MONITOR Enumeration</span></span>](../unmanaged-api/profiling/cor-prf-high-monitor-enumeration.md)
    - [<span data-ttu-id="88f5c-1027">Método GetAssemblyReferences</span><span class="sxs-lookup"><span data-stu-id="88f5c-1027">GetAssemblyReferences Method</span></span>](../unmanaged-api/profiling/icorprofilercallback6-getassemblyreferences-method.md)
    - [<span data-ttu-id="88f5c-1028">Método GetEventMask2</span><span class="sxs-lookup"><span data-stu-id="88f5c-1028">GetEventMask2 Method</span></span>](../unmanaged-api/profiling/icorprofilerinfo5-geteventmask2-method.md)
    - [<span data-ttu-id="88f5c-1029">Método SetEventMask2</span><span class="sxs-lookup"><span data-stu-id="88f5c-1029">SetEventMask2 Method</span></span>](../unmanaged-api/profiling/icorprofilerinfo5-seteventmask2-method.md)
    - [<span data-ttu-id="88f5c-1030">Método AddAssemblyReference</span><span class="sxs-lookup"><span data-stu-id="88f5c-1030">AddAssemblyReference Method</span></span>](../unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-addassemblyreference-method.md)

     <span data-ttu-id="88f5c-1031">Implementações anteriores de `ICorProfiler` compatíveis com carregamento lento de montagens pendentes.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1031">Previous `ICorProfiler` implementations supported lazy loading of dependent assemblies.</span></span> <span data-ttu-id="88f5c-1032">As novas APIs de criação de perfis requerem montagens dependentes que são injetadas pelo criador de perfil a ser carregado imediatamente, em vez de ser carregado depois que o aplicativo for totalmente inicializado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1032">The new profiling APIs require dependent assemblies that are injected by the profiler to be loadable immediately, instead of being loaded after the app is fully initialized.</span></span> <span data-ttu-id="88f5c-1033">Essa mudança não afeta os usuários das APIs `ICorProfiler` existentes.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1033">This change doesn't affect users of the existing `ICorProfiler` APIs.</span></span>

- <span data-ttu-id="88f5c-1034">**Melhorias na depuração.**</span><span class="sxs-lookup"><span data-stu-id="88f5c-1034">**Debugging improvements.**</span></span> <span data-ttu-id="88f5c-1035">As seguintes APIs de depuração novas não gerenciadas fornecem uma melhor integração com um criador de perfil.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1035">The following new unmanaged debugging APIs provide better integration with a profiler.</span></span> <span data-ttu-id="88f5c-1036">Agora é possível acessar metadados inseridos por um criador de perfil bem como variáveis locais e código produzido por pedidos do ReJIT compilador quando despejo do depurador.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1036">You can now access metadata inserted by the profiler as well as local variables and code produced by compiler ReJIT requests when dump debugging.</span></span>

    - [<span data-ttu-id="88f5c-1037">Método SetWriteableMetadataUpdateMode</span><span class="sxs-lookup"><span data-stu-id="88f5c-1037">SetWriteableMetadataUpdateMode Method</span></span>](../unmanaged-api/debugging/icordebugprocess7-setwriteablemetadataupdatemode-method.md)
    - [<span data-ttu-id="88f5c-1038">Método EnumerateLocalVariablesEx</span><span class="sxs-lookup"><span data-stu-id="88f5c-1038">EnumerateLocalVariablesEx Method</span></span>](../unmanaged-api/debugging/icordebugilframe4-enumeratelocalvariablesex-method.md)
    - [<span data-ttu-id="88f5c-1039">Método GetLocalVariableEx</span><span class="sxs-lookup"><span data-stu-id="88f5c-1039">GetLocalVariableEx Method</span></span>](../unmanaged-api/debugging/icordebugilframe4-getlocalvariableex-method.md)
    - [<span data-ttu-id="88f5c-1040">Método GetCodeEx</span><span class="sxs-lookup"><span data-stu-id="88f5c-1040">GetCodeEx Method</span></span>](../unmanaged-api/debugging/icordebugilframe4-getcodeex-method.md)
    - [<span data-ttu-id="88f5c-1041">Método GetActiveReJitRequestILCode</span><span class="sxs-lookup"><span data-stu-id="88f5c-1041">GetActiveReJitRequestILCode Method</span></span>](../unmanaged-api/debugging/icordebugfunction3-getactiverejitrequestilcode-method.md)
    - [<span data-ttu-id="88f5c-1042">Método GetInstrumentedILMap</span><span class="sxs-lookup"><span data-stu-id="88f5c-1042">GetInstrumentedILMap Method</span></span>](../unmanaged-api/debugging/icordebugilcode2-getinstrumentedilmap-method.md)

- <span data-ttu-id="88f5c-1043">**Mudanças no rastreamento de eventos.**</span><span class="sxs-lookup"><span data-stu-id="88f5c-1043">**Event tracing changes.**</span></span> <span data-ttu-id="88f5c-1044">O .NET Framework 4.5.2 permite o rastreamento fora do processo para atividades baseadas no ETW (Rastreamento de Eventos para Windows) em uma área de superfície maior.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1044">.NET Framework 4.5.2 enables out-of-process, Event Tracing for Windows (ETW)-based activity tracing for a larger surface area.</span></span> <span data-ttu-id="88f5c-1045">Isso permite que fornecedores de Gerenciamento Avançado de Energia (APM) forneçam ferramentas que rastreiam com precisão os custos de pedidos individuais e atividades entre threads.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1045">This enables Advanced Power Management (APM) vendors to provide lightweight tools that accurately track the costs of individual requests and activities that cross threads.</span></span>  <span data-ttu-id="88f5c-1046">Esses eventos são gerados apenas quando os controladores ETW permitem e, portanto, as mudanças não afetam o código ETW gravado anteriormente ou o código executado com o ETW desabilitado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1046">These events are raised only when ETW controllers enable them; therefore, the changes don't affect previously written ETW code or code that runs with ETW disabled.</span></span>

- <span data-ttu-id="88f5c-1047">**Promover uma transação e convertê-la em uma inscrição durável**</span><span class="sxs-lookup"><span data-stu-id="88f5c-1047">**Promoting a transaction and converting it to a durable enlistment**</span></span>

     <span data-ttu-id="88f5c-1048"><xref:System.Transactions.Transaction.PromoteAndEnlistDurable%2A?displayProperty=nameWithType> é uma nova API adicionada ao .NET Framework 4.5.2 e 4.6:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1048"><xref:System.Transactions.Transaction.PromoteAndEnlistDurable%2A?displayProperty=nameWithType> is a new API added to .NET Framework 4.5.2 and 4.6:</span></span>

    ```csharp
    [System.Security.Permissions.PermissionSetAttribute(System.Security.Permissions.SecurityAction.LinkDemand, Name = "FullTrust")]
    public Enlistment PromoteAndEnlistDurable(Guid resourceManagerIdentifier,
                                              IPromotableSinglePhaseNotification promotableNotification,
                                              ISinglePhaseNotification enlistmentNotification,
                                              EnlistmentOptions enlistmentOptions)
    ```

    ```vb
    <System.Security.Permissions.PermissionSetAttribute(System.Security.Permissions.SecurityAction.LinkDemand, Name:="FullTrust")>
    public Function PromoteAndEnlistDurable(GresourceManagerIdentifier As Guid,
                                            promotableNotification As IPromotableSinglePhaseNotification,
                                            enlistmentNotification As ISinglePhaseNotification,
                                            enlistmentOptions As EnlistmentOptions) As Enlistment
    ```

     <span data-ttu-id="88f5c-1049">O método pode ser usado por uma inscrição criada anteriormente por <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A?displayProperty=nameWithType> em resposta ao método <xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1049">The method may be used by an enlistment that was previously created by <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A?displayProperty=nameWithType> in response to the <xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="88f5c-1050">Ele pede que `System.Transactions` promova a transação a uma transação MSDTC e "converta" a inscrição passível de promoção em uma inscrição durável.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1050">It asks `System.Transactions` to promote the transaction to an MSDTC transaction and to "convert" the promotable enlistment to a durable enlistment.</span></span> <span data-ttu-id="88f5c-1051">Após a conclusão desse método, a interface <xref:System.Transactions.IPromotableSinglePhaseNotification> não será mais referenciada por `System.Transactions`, e quaisquer notificações futuras chegarão na interface <xref:System.Transactions.ISinglePhaseNotification> fornecida.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1051">After this method completes successfully, the <xref:System.Transactions.IPromotableSinglePhaseNotification> interface will no longer be referenced by `System.Transactions`, and any future notifications will arrive on the provided <xref:System.Transactions.ISinglePhaseNotification> interface.</span></span> <span data-ttu-id="88f5c-1052">A inscrição em questão deve agir como uma inscrição durável, oferecendo suporte à ao registro em log e recuperação da transação.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1052">The enlistment in question must act as a durable enlistment, supporting transaction logging and recovery.</span></span> <span data-ttu-id="88f5c-1053">Veja <xref:System.Transactions.Transaction.EnlistDurable%2A?displayProperty=nameWithType> para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1053">Refer to <xref:System.Transactions.Transaction.EnlistDurable%2A?displayProperty=nameWithType> for details.</span></span> <span data-ttu-id="88f5c-1054">Além disso, a inscrição deve oferecer suporte a <xref:System.Transactions.ISinglePhaseNotification>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1054">In addition, the enlistment must support <xref:System.Transactions.ISinglePhaseNotification>.</span></span>  <span data-ttu-id="88f5c-1055">Esse método *só* pode ser chamado durante o processamento de uma chamada <xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1055">This method can *only* be called while processing an <xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=nameWithType> call.</span></span> <span data-ttu-id="88f5c-1056">Se esse não for o caso, uma exceção <xref:System.Transactions.TransactionException> será gerada.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1056">If that is not the case, a <xref:System.Transactions.TransactionException> exception is thrown.</span></span>

<a name="v451" />

## <a name="whats-new-in-net-framework-451"></a><span data-ttu-id="88f5c-1057">Novidades no .NET Framework 4.5.1</span><span class="sxs-lookup"><span data-stu-id="88f5c-1057">What's new in .NET Framework 4.5.1</span></span>

<span data-ttu-id="88f5c-1058">**Atualizações de abril de 2014**:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1058">**April 2014 updates**:</span></span>

- <span data-ttu-id="88f5c-1059">[Atualização 2 do Visual Studio 2013](https://go.microsoft.com/fwlink/p/?LinkId=393658) inclui atualizações para modelos de Biblioteca de Classes Portátil para suporte destes cenários:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1059">[Visual Studio 2013 Update 2](https://go.microsoft.com/fwlink/p/?LinkId=393658) includes updates to the Portable Class Library templates to support these scenarios:</span></span>

    - <span data-ttu-id="88f5c-1060">É possível usar as APIs do Tempo de Execução do Windows em bibliotecas portáteis que tenham como destino Windows 8.1, Windows Phone 8.1 e Windows Phone Silverlight 8.1.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1060">You can use Windows Runtime APIs in portable libraries that target Windows 8.1, Windows Phone 8.1, and Windows Phone Silverlight 8.1.</span></span>

    - <span data-ttu-id="88f5c-1061">Você pode incluir XAML (Windows.UI.XAML types) em bibliotecas portáteis quando o destino for Windows 8.1 ou Windows Phone 8.1.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1061">You can include XAML (Windows.UI.XAML types) in portable libraries when you target Windows 8.1 or Windows Phone 8.1.</span></span> <span data-ttu-id="88f5c-1062">Há suporte para os seguintes modelos XAML:  Página em Branco, Dicionário de Recursos, Controle Modelo e Controle de Usuário.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1062">The following XAML templates are supported:  Blank Page, Resource Dictionary, Templated Control, and User Control.</span></span>

    - <span data-ttu-id="88f5c-1063">Você pode criar um componente de Tempo de Execução do Windows portátil (.winmd file) para uso em Store apps cujo destino seja Windows 8.1 e Windows Phone 8.1.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1063">You can create a portable Windows Runtime component (.winmd file) for use in Store apps that target Windows 8.1 and Windows Phone 8.1.</span></span>

    - <span data-ttu-id="88f5c-1064">É possível redirecionar uma biblioteca de classes Windows Store ou Windows Phone Store novamente como uma Biblioteca de Classes Portátil.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1064">You can retarget a Windows Store or Windows Phone Store class library like a Portable Class Library.</span></span>

     <span data-ttu-id="88f5c-1065">Para saber mais sobre essas mudanças, confira [Biblioteca de classes portátil](../../standard/cross-platform/cross-platform-development-with-the-portable-class-library.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1065">For more information about these changes, see [Portable Class Library](../../standard/cross-platform/cross-platform-development-with-the-portable-class-library.md).</span></span>

- <span data-ttu-id="88f5c-1066">O conjunto de conteúdo do .NET Framework agora inclui documentação para .NET Native, que é uma tecnologia de pré-compilação para construção e implantação dos aplicativos do Windows.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1066">The .NET Framework content set now includes documentation for .NET Native, which is a precompilation technology for building and deploying Windows apps.</span></span> <span data-ttu-id="88f5c-1067">Para melhorar o desempenho, o .NET Native compila seus aplicativos diretamente para o código nativo, ao invés de usar uma linguagem intermediária (IL).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1067">.NET Native compiles your apps directly to native code, rather than to intermediate language (IL), for better performance.</span></span> <span data-ttu-id="88f5c-1068">Para obter detalhes, confira [Compilação de aplicativos com o .NET Nativo](../net-native/index.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1068">For details, see [Compiling Apps with .NET Native](../net-native/index.md).</span></span>

- <span data-ttu-id="88f5c-1069">O [.NET Framework Reference Source](https://referencesource.microsoft.com/) fornece experiências de navegação e de funcionalidade, novas e aprimoradas.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1069">The [.NET Framework Reference Source](https://referencesource.microsoft.com/) provides a new browsing experience and enhanced functionality.</span></span> <span data-ttu-id="88f5c-1070">É possível navegar através do código-fonte online do .NET Framework, [baixar a referência](https://referencesource.microsoft.com/download.html) para visualização offline e percorrer as fontes (incluindo correções e atualizações) durante a depuração.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1070">You can now browse through the .NET Framework source code online, [download the reference](https://referencesource.microsoft.com/download.html) for offline viewing, and step through the sources (including patches and updates) during debugging.</span></span> <span data-ttu-id="88f5c-1071">Para saber mais, confira a postagem no blog [A new look for .NET Reference Source](https://devblogs.microsoft.com/dotnet/a-new-look-for-net-reference-source/) (Um novo olhar sobre a fonte de referência do .NET).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1071">For more information, see the blog entry [A new look for .NET Reference Source](https://devblogs.microsoft.com/dotnet/a-new-look-for-net-reference-source/).</span></span>

<span data-ttu-id="88f5c-1072">Os novos recursos e aprimoramentos nas classes base do .NET Framework 4.5.1 incluem:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1072">New features and enhancements in the base classes in .NET Framework 4.5.1 include:</span></span>

- <span data-ttu-id="88f5c-1073">Redirecionamento de associação automático de assemblies.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1073">Automatic binding redirection for assemblies.</span></span> <span data-ttu-id="88f5c-1074">Desde o Visual Studio 2013, quando você compilar um aplicativo destinado ao .NET Framework 4.5.1, os redirecionamentos de associação poderão ser adicionados ao arquivo de configuração do aplicativo se o aplicativo ou seus componentes referenciarem várias versões do mesmo assembly.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1074">Starting with Visual Studio 2013, when you compile an app that targets the .NET Framework 4.5.1, binding redirects may be added to the app configuration file if your app or its components reference multiple versions of the same assembly.</span></span> <span data-ttu-id="88f5c-1075">Você também pode habilitar esse recurso para projetos que se destinam a versões anteriores do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1075">You can also enable this feature for projects that target older versions of the .NET Framework.</span></span> <span data-ttu-id="88f5c-1076">Para obter mais informações, confira [Como: Habilitar e desabilitar o redirecionamento automático de associação](../configure-apps/how-to-enable-and-disable-automatic-binding-redirection.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1076">For more information, see [How to: Enable and Disable Automatic Binding Redirection](../configure-apps/how-to-enable-and-disable-automatic-binding-redirection.md).</span></span>

- <span data-ttu-id="88f5c-1077">Capacidade de coletar informações de diagnóstico para ajudar desenvolvedores na melhoria do desempenho dos aplicativos de servidor e de nuvem.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1077">Ability to collect diagnostics information to help developers improve the performance of server and cloud applications.</span></span> <span data-ttu-id="88f5c-1078">Para obter mais informações, consulte os métodos <xref:System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityId%2A> e <xref:System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore%2A> na classe <xref:System.Diagnostics.Tracing.EventSource>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1078">For more information, see the <xref:System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityId%2A> and <xref:System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore%2A> methods in the <xref:System.Diagnostics.Tracing.EventSource> class.</span></span>

- <span data-ttu-id="88f5c-1079">Capacidade de compactar explicitamente a LOH (pilha de objetos grandes) durante a coleta de lixo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1079">Ability to explicitly compact the large object heap (LOH) during garbage collection.</span></span> <span data-ttu-id="88f5c-1080">Para obter mais informações, consulte a propriedade <xref:System.Runtime.GCSettings.LargeObjectHeapCompactionMode%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1080">For more information, see the <xref:System.Runtime.GCSettings.LargeObjectHeapCompactionMode%2A?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="88f5c-1081">Aperfeiçoamentos de desempenho adicionais como a suspensão do aplicativo ASP.NET, aperfeiçoamentos JIT multicore e inicialização mais rápida do aplicativo após uma atualização do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1081">Additional performance improvements such as ASP.NET app suspension, multi-core JIT improvements, and faster app startup after a .NET Framework update.</span></span> <span data-ttu-id="88f5c-1082">Para obter detalhes, confira o [Comunicado do .NET Framework 4.5.1](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/) e a postagem de blog [Suspensão de aplicativos ASP.NET](https://devblogs.microsoft.com/dotnet/asp-net-app-suspend-responsive-shared-net-web-hosting/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1082">For details, see the [.NET Framework 4.5.1 announcement](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/) and the [ASP.NET app suspend](https://devblogs.microsoft.com/dotnet/asp-net-app-suspend-responsive-shared-net-web-hosting/) blog post.</span></span>

<span data-ttu-id="88f5c-1083">Os aprimoramentos para Windows Forms incluem:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1083">Improvements to Windows Forms include:</span></span>

- <span data-ttu-id="88f5c-1084">Redimensionamento em controles do Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1084">Resizing in Windows Forms controls.</span></span> <span data-ttu-id="88f5c-1085">É possível usar a configuração do sistema DPI para redimensionar os componentes de controle (por exemplo, os ícones que aparecem na grade de propriedade) optando por uma entrada no arquivo de configuração de aplicativo (app.config) do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1085">You can use the system DPI setting to resize components of controls (for example, the icons that appear in a property grid) by opting in with an entry in the application configuration file (app.config) for your app.</span></span> <span data-ttu-id="88f5c-1086">Atualmente, esse recurso é compatível com os seguintes controles do Windows Forms:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1086">This feature is currently supported in the following Windows Forms controls:</span></span>

    - <xref:System.Windows.Forms.PropertyGrid>
    - <xref:System.Windows.Forms.TreeView>
    - <span data-ttu-id="88f5c-1087">Alguns aspectos do <xref:System.Windows.Forms.DataGridView> (confira [novos recursos em 4.5.2](#v452) para obter controles adicionais compatíveis)</span><span class="sxs-lookup"><span data-stu-id="88f5c-1087">Some aspects of the <xref:System.Windows.Forms.DataGridView> (see [new features in 4.5.2](#v452) for additional controls supported)</span></span>

     <span data-ttu-id="88f5c-1088">Para habilitar esse recurso, adicione um novo elemento \<appSettings> ao arquivo de configuração (app.config) e defina o elemento `EnableWindowsFormsHighDpiAutoResizing` como `true`:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1088">To enable this feature, add a new \<appSettings> element to the configuration file (app.config) and set the `EnableWindowsFormsHighDpiAutoResizing` element to `true`:</span></span>

    ```xml
    <appSettings>
       <add key="EnableWindowsFormsHighDpiAutoResizing" value="true" />
    </appSettings>
    ```

<span data-ttu-id="88f5c-1089">Entre os aperfeiçoamentos durante a depuração de seus aplicativos do .NET Framework no Visual Studio 2013 estão:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1089">Improvements when debugging your .NET Framework apps in Visual Studio 2013 include:</span></span>

- <span data-ttu-id="88f5c-1090">Valores de retorno no depurador do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1090">Return values in the Visual Studio debugger.</span></span> <span data-ttu-id="88f5c-1091">Quando você depura um aplicativo gerenciado no Visual Studio 2013, a janela Autos exibe valores e tipos de retorno para os métodos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1091">When you debug a managed app in Visual Studio 2013, the Autos window displays return types and values for methods.</span></span> <span data-ttu-id="88f5c-1092">Essas informações estão disponíveis para aplicativos de área de trabalho, Windows Store e Windows Phone.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1092">This information is available for desktop, Windows Store, and Windows Phone apps.</span></span> <span data-ttu-id="88f5c-1093">Confira mais informações em [Examinar valores de retorno de chamadas de método](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2013/dn323257(v=vs.120)).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1093">For more information, see [Examine return values of method calls](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2013/dn323257(v=vs.120)).</span></span>

- <span data-ttu-id="88f5c-1094">Editar e continuar para aplicativos 64 bits.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1094">Edit and Continue for 64-bit apps.</span></span> <span data-ttu-id="88f5c-1095">O Visual Studio 2013 dá suporte ao recurso Editar e continuar para aplicativos gerenciados de 64 bits para área de trabalho, Windows Store e Windows Phone.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1095">Visual Studio 2013 supports the Edit and Continue feature for 64-bit managed apps for desktop, Windows Store, and Windows Phone.</span></span> <span data-ttu-id="88f5c-1096">As limitações existentes permanecem em vigor para aplicativos 32 e 64 bits (confira a última seção do artigo [Alterações de código compatíveis (C#)](/visualstudio/debugger/supported-code-changes-csharp)).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1096">The existing limitations remain in effect for both 32-bit and 64-bit apps (see the last section of the [Supported Code Changes (C#)](/visualstudio/debugger/supported-code-changes-csharp) article).</span></span>

- <span data-ttu-id="88f5c-1097">Depuração async-aware.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1097">Async-aware debugging.</span></span> <span data-ttu-id="88f5c-1098">Para facilitar a depuração de aplicativos assíncronos no Visual Studio 2013, a pilha de chamadas oculta o código de infraestrutura fornecido por compiladores para dar suporte à programação assíncrona e também as cadeias em quadros pai lógicos para que você possa acompanhar a execução lógica do programa com mais clareza.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1098">To make it easier to debug asynchronous apps in Visual Studio 2013, the call stack hides the infrastructure code provided by compilers to support asynchronous programming, and also chains in logical parent frames so you can follow logical program execution more clearly.</span></span> <span data-ttu-id="88f5c-1099">Uma janela Tarefas substitui a janela Tarefas Paralelas e exibe tarefas relacionadas a um ponto de interrupção específico e também exibe outras tarefas que estão ativas ou agendadas no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1099">A Tasks window replaces the Parallel Tasks window and displays tasks that relate to a particular breakpoint, and also displays any other tasks that are currently active or scheduled in the app.</span></span> <span data-ttu-id="88f5c-1100">Leia sobre esse recurso na seção "Depuração async-aware" do [Comunicado do .NET Framework 4.5.1](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1100">You can read about this feature in the "Async-aware debugging" section of the [.NET Framework 4.5.1 announcement](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/).</span></span>

- <span data-ttu-id="88f5c-1101">Melhor suporte à exceção para componentes do Tempo de Execução do Windows.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1101">Better exception support for Windows Runtime components.</span></span> <span data-ttu-id="88f5c-1102">No [!INCLUDE[win81](../../../includes/win81-md.md)], as exceções surgidas de aplicativos da Windows Store preservam as informações sobre o erro que causou a exceção, mesmo entre os limites de linguagem.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1102">In [!INCLUDE[win81](../../../includes/win81-md.md)], exceptions that arise from Windows Store apps preserve information about the error that caused the exception, even across language boundaries.</span></span> <span data-ttu-id="88f5c-1103">Leia sobre esse recurso na seção "Desenvolvimento de aplicativos para a Windows Store" do [Comunicado do .NET Framework 4.5.1](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1103">You can read about this feature in the "Windows Store app development" section of the [.NET Framework 4.5.1 announcement](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/).</span></span>

<span data-ttu-id="88f5c-1104">A partir do Visual Studio 2013, você pode usar a [Ferramenta de Otimização Orientada de Perfil Gerenciado (Mpgo.exe)](../tools/mpgo-exe-managed-profile-guided-optimization-tool.md) para otimizar aplicativos da [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)], bem como aplicativos da área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1104">Starting with Visual Studio 2013, you can use the [Managed Profile Guided Optimization Tool (Mpgo.exe)](../tools/mpgo-exe-managed-profile-guided-optimization-tool.md) to optimize [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] apps as well as desktop apps.</span></span>

<span data-ttu-id="88f5c-1105">Para novos recursos no ASP.NET 4.5.1, confira [Notas sobre a versão do ASP.NET and Web Tools para Visual Studio 2013](/aspnet/visual-studio/overview/2013/release-notes).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1105">For new features in ASP.NET 4.5.1, see [ASP.NET and Web Tools for Visual Studio 2013 Release Notes](/aspnet/visual-studio/overview/2013/release-notes).</span></span>

<a name="v45" />

## <a name="whats-new-in-net-framework-45"></a><span data-ttu-id="88f5c-1106">Novidades no .NET Framework 4.5</span><span class="sxs-lookup"><span data-stu-id="88f5c-1106">What's new in .NET Framework 4.5</span></span>

### <a name="base-classes"></a><span data-ttu-id="88f5c-1107">Classes base</span><span class="sxs-lookup"><span data-stu-id="88f5c-1107">Base classes</span></span>

- <span data-ttu-id="88f5c-1108">Capacidade de reduzir as reinicializações do sistema detectando e fechando-se os aplicativos do .NET Framework 4 durante a implantação.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1108">Ability to reduce system restarts by detecting and closing .NET Framework 4 applications during deployment.</span></span> <span data-ttu-id="88f5c-1109">Confira [Redução de reinicializações do sistema durante instalações do .NET Framework 4.5](../deployment/reducing-system-restarts.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1109">See [Reducing System Restarts During .NET Framework 4.5 Installations](../deployment/reducing-system-restarts.md).</span></span>

- <span data-ttu-id="88f5c-1110">Suporte para matrizes maiores que 2 gigabytes (GB) em plataformas 64 bits.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1110">Support for arrays that are larger than 2 gigabytes (GB) on 64-bit platforms.</span></span> <span data-ttu-id="88f5c-1111">Esse recurso pode ser habilitado no arquivo de configuração do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1111">This feature can be enabled in the application configuration file.</span></span> <span data-ttu-id="88f5c-1112">Confira o elemento [\<gcAllowVeryLargeObjects>](../configure-apps/file-schema/runtime/gcallowverylargeobjects-element.md) que também lista outras restrições ao tamanho do objeto e da matriz.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1112">See the [\<gcAllowVeryLargeObjects> element](../configure-apps/file-schema/runtime/gcallowverylargeobjects-element.md), which also lists other restrictions on object size and array size.</span></span>

- <span data-ttu-id="88f5c-1113">Melhor desempenho por meio de coleta de lixo em segundo plano para servidores.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1113">Better performance through background garbage collection for servers.</span></span> <span data-ttu-id="88f5c-1114">Quando você usa a coleta de lixo do servidor no .NET Framework 4.5, a coleta de lixo em segundo plano é automaticamente ativada.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1114">When you use server garbage collection in the .NET Framework 4.5, background garbage collection is automatically enabled.</span></span> <span data-ttu-id="88f5c-1115">Confira a seção Coleta de lixo de servidor em segundo plano do tópico [Noções básicas da coleta de lixo](../../standard/garbage-collection/fundamentals.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1115">See the Background Server Garbage Collection section of the [Fundamentals of Garbage Collection](../../standard/garbage-collection/fundamentals.md) topic.</span></span>

- <span data-ttu-id="88f5c-1116">Compilação JIT (just-in-time) em segundo plano, disponível como opção em vários processadores multicore para melhorar o desempenho do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1116">Background just-in-time (JIT) compilation, which is optionally available on multi-core processors to improve application performance.</span></span> <span data-ttu-id="88f5c-1117">Consulte <xref:System.Runtime.ProfileOptimization>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1117">See <xref:System.Runtime.ProfileOptimization>.</span></span>

- <span data-ttu-id="88f5c-1118">Capacidade de limitar por quanto tempo o mecanismo de expressões regulares tentará resolver uma expressão regular antes de expirar. Consulte a propriedade <xref:System.Text.RegularExpressions.Regex.MatchTimeout%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1118">Ability to limit how long the regular expression engine will attempt to resolve a regular expression before it times out. See the <xref:System.Text.RegularExpressions.Regex.MatchTimeout%2A?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="88f5c-1119">Capacidade de definir a cultura padrão para um domínio de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1119">Ability to define the default culture for an application domain.</span></span> <span data-ttu-id="88f5c-1120">Consulte a classe <xref:System.Globalization.CultureInfo>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1120">See the <xref:System.Globalization.CultureInfo> class.</span></span>

- <span data-ttu-id="88f5c-1121">Suporte de console para a codificação Unicode (UTF-16).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1121">Console support for Unicode (UTF-16) encoding.</span></span> <span data-ttu-id="88f5c-1122">Consulte a classe <xref:System.Console>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1122">See the <xref:System.Console> class.</span></span>

- <span data-ttu-id="88f5c-1123">Suporte para controle de versão da ordenação de cadeia de caracteres culturais e dados de comparação.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1123">Support for versioning of cultural string ordering and comparison data.</span></span> <span data-ttu-id="88f5c-1124">Consulte a classe <xref:System.Globalization.SortVersion>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1124">See the <xref:System.Globalization.SortVersion> class.</span></span>

- <span data-ttu-id="88f5c-1125">Melhor desempenho durante a recuperação de recursos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1125">Better performance when retrieving resources.</span></span> <span data-ttu-id="88f5c-1126">Confira [Empacotar e implantar recursos](../resources/packaging-and-deploying-resources-in-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1126">See [Packaging and Deploying Resources](../resources/packaging-and-deploying-resources-in-desktop-apps.md).</span></span>

- <span data-ttu-id="88f5c-1127">Aperfeiçoamentos na compactação para reduzir o tamanho de um arquivo compactado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1127">Zip compression improvements to reduce the size of a compressed file.</span></span> <span data-ttu-id="88f5c-1128">Consulte o namespace <xref:System.IO.Compression?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1128">See the <xref:System.IO.Compression?displayProperty=nameWithType> namespace.</span></span>

- <span data-ttu-id="88f5c-1129">Capacidade de personalizar um contexto de reflexão para substituir o comportamento de reflexão padrão por meio da classe <xref:System.Reflection.Context.CustomReflectionContext>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1129">Ability to customize a reflection context to override default reflection behavior through the <xref:System.Reflection.Context.CustomReflectionContext> class.</span></span>

- <span data-ttu-id="88f5c-1130">Suporte para a versão 2008 do padrão IDNA (Internationalized Domain Names in Applications) quando a classe <xref:System.Globalization.IdnMapping?displayProperty=nameWithType> é usada no [!INCLUDE[win8](../../../includes/win8-md.md)].</span><span class="sxs-lookup"><span data-stu-id="88f5c-1130">Support for the 2008 version of the Internationalized Domain Names in Applications (IDNA) standard when the <xref:System.Globalization.IdnMapping?displayProperty=nameWithType> class is used  on [!INCLUDE[win8](../../../includes/win8-md.md)].</span></span>

- <span data-ttu-id="88f5c-1131">A delegação da comparação de cadeia de caracteres para o sistema operacional, que implementa o Unicode 6.0, quando o .NET Framework é usado no [!INCLUDE[win8](../../../includes/win8-md.md)].</span><span class="sxs-lookup"><span data-stu-id="88f5c-1131">Delegation of string comparison to the operating system, which implements Unicode 6.0, when the .NET Framework is used on [!INCLUDE[win8](../../../includes/win8-md.md)].</span></span> <span data-ttu-id="88f5c-1132">Ao executar em outras plataformas, o .NET Framework inclui seus próprios dados de comparação da cadeia de caracteres, o que implementa o Unicode 5.x.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1132">When running on other platforms, the .NET Framework includes its own string comparison data, which implements Unicode 5.x.</span></span> <span data-ttu-id="88f5c-1133">Consulte a classe <xref:System.String> e a seção Comentários da classe <xref:System.Globalization.SortVersion>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1133">See the <xref:System.String> class and the Remarks section of the <xref:System.Globalization.SortVersion> class.</span></span>

- <span data-ttu-id="88f5c-1134">Capacidade de computar os códigos de hash para cadeias de caracteres com base no domínio do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1134">Ability to compute the hash codes for strings on a per application domain basis.</span></span> <span data-ttu-id="88f5c-1135">Confira o elemento [\<UseRandomizedStringHashAlgorithm>](../configure-apps/file-schema/runtime/userandomizedstringhashalgorithm-element.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1135">See [\<UseRandomizedStringHashAlgorithm> Element](../configure-apps/file-schema/runtime/userandomizedstringhashalgorithm-element.md).</span></span>

- <span data-ttu-id="88f5c-1136">Suporte à reflexão de tipo dividido entre as classes <xref:System.Type> e <xref:System.Reflection.TypeInfo>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1136">Type reflection support split between <xref:System.Type> and <xref:System.Reflection.TypeInfo> classes.</span></span> <span data-ttu-id="88f5c-1137">Confira [Reflexão no .NET Framework para aplicativos da Windows Store](../reflection-and-codedom/reflection-for-windows-store-apps.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1137">See [Reflection in the .NET Framework for Windows Store Apps](../reflection-and-codedom/reflection-for-windows-store-apps.md).</span></span>

### <a name="managed-extensibility-framework-mef"></a><span data-ttu-id="88f5c-1138">MEF (Managed Extensibility Framework)</span><span class="sxs-lookup"><span data-stu-id="88f5c-1138">Managed Extensibility Framework (MEF)</span></span>

<span data-ttu-id="88f5c-1139">No .NET Framework 4.5, a MEF (Managed Extensibility Framework) fornece os seguintes recursos novos:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1139">In the .NET Framework 4.5, the Managed Extensibility Framework (MEF) provides the following new features:</span></span>

- <span data-ttu-id="88f5c-1140">Suporte para tipos genéricos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1140">Support for generic types.</span></span>

- <span data-ttu-id="88f5c-1141">O modelo de programação baseado na convenção permite criar partes com base em convenções de nomenclatura, em vez de atributos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1141">Convention-based programming model that enables you to create parts based on naming conventions rather than attributes.</span></span>

- <span data-ttu-id="88f5c-1142">Vários escopos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1142">Multiple scopes.</span></span>

- <span data-ttu-id="88f5c-1143">Um subconjunto da MEF que você pode usar ao criar aplicativos [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)].</span><span class="sxs-lookup"><span data-stu-id="88f5c-1143">A subset of MEF that you can use when you create [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] apps.</span></span> <span data-ttu-id="88f5c-1144">Esse subconjunto está disponível como um [pacote baixável](https://go.microsoft.com/fwlink/?LinkId=256238) da Galeria NuGet.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1144">This subset is available as a [downloadable package](https://go.microsoft.com/fwlink/?LinkId=256238) from the NuGet Gallery.</span></span> <span data-ttu-id="88f5c-1145">Para instalar o pacote, abra o projeto no Visual Studio, escolha **Gerenciar Pacotes NuGet** no menu **Projeto** e procure o pacote `Microsoft.Composition` online.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1145">To install the package, open your project in Visual Studio, choose **Manage NuGet Packages** from the **Project** menu, and search online for the `Microsoft.Composition` package.</span></span>

<span data-ttu-id="88f5c-1146">Para saber mais, confira [Managed Extensibility Framework (MEF)](../mef/index.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1146">For more information, see [Managed Extensibility Framework (MEF)](../mef/index.md).</span></span>

### <a name="asynchronous-file-operations"></a><span data-ttu-id="88f5c-1147">Operações de arquivo assíncronas</span><span class="sxs-lookup"><span data-stu-id="88f5c-1147">Asynchronous file operations</span></span>

<span data-ttu-id="88f5c-1148">No .NET Framework 4.5, os novos recursos assíncronos foram adicionados às linguagens C# e Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1148">In the .NET Framework 4.5, new asynchronous features were added to the C# and Visual Basic languages.</span></span> <span data-ttu-id="88f5c-1149">Esses recursos adicionam um modelo com base na tarefa para executar operações assíncronas.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1149">These features add a task-based model for performing asynchronous operations.</span></span> <span data-ttu-id="88f5c-1150">Para usar esse novo modelo, use os métodos assíncronos nas classes de E/S.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1150">To use this new model, use the asynchronous methods in the I/O classes.</span></span> <span data-ttu-id="88f5c-1151">Confira [E/S de arquivo assíncrona](../../standard/io/asynchronous-file-i-o.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1151">See [Asynchronous File I/O](../../standard/io/asynchronous-file-i-o.md).</span></span>

<a name="tools" />

### <a name="tools"></a><span data-ttu-id="88f5c-1152">Ferramentas</span><span class="sxs-lookup"><span data-stu-id="88f5c-1152">Tools</span></span>

<span data-ttu-id="88f5c-1153">No .NET Framework 4.5, o Gerador de Arquivos de Recurso (Resgen.exe) permite criar um arquivo .resw a ser usado em aplicativos [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] com base em um arquivo .resources inserido em um assembly do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1153">In the .NET Framework 4.5, Resource File Generator (Resgen.exe) enables you to create a .resw file for use in [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] apps from a .resources file embedded in a .NET Framework assembly.</span></span> <span data-ttu-id="88f5c-1154">Para saber mais, confira [Resgen.exe (Gerador de arquivo de recurso)](../tools/resgen-exe-resource-file-generator.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1154">For more information, see [Resgen.exe (Resource File Generator)](../tools/resgen-exe-resource-file-generator.md).</span></span>

<span data-ttu-id="88f5c-1155">A Ferramenta de Otimização Orientada de Perfil Gerenciado (Mpgo.exe) permite melhorar o tempo de inicialização do aplicativo, a utilização da memória (tamanho do conjunto de trabalho) e a produtividade otimizando-se assemblies de imagem nativa.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1155">Managed Profile Guided Optimization (Mpgo.exe) enables you to improve application startup time, memory utilization (working set size), and throughput by optimizing native image assemblies.</span></span> <span data-ttu-id="88f5c-1156">A ferramenta de linha de comando gera dados de perfil para assemblies de aplicativo de imagem nativa.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1156">The command-line tool generates profile data for native image application assemblies.</span></span> <span data-ttu-id="88f5c-1157">Confira [Mpgo.exe (Ferramenta de Otimização Guiada por Perfil Gerenciado)](../tools/mpgo-exe-managed-profile-guided-optimization-tool.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1157">See [Mpgo.exe (Managed Profile Guided Optimization Tool)](../tools/mpgo-exe-managed-profile-guided-optimization-tool.md).</span></span> <span data-ttu-id="88f5c-1158">A partir do Visual Studio 2013, você pode usar a Mpgo.exe para otimizar aplicativos da [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)], bem como aplicativos da área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1158">Starting with Visual Studio 2013, you can use Mpgo.exe to optimize [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] apps as well as desktop apps.</span></span>

<a name="parallel" />

### <a name="parallel-computing"></a><span data-ttu-id="88f5c-1159">Computação paralela</span><span class="sxs-lookup"><span data-stu-id="88f5c-1159">Parallel computing</span></span>

<span data-ttu-id="88f5c-1160">O .NET Framework 4.5 fornece vários recursos e aperfeiçoamentos novos para computação paralela.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1160">The .NET Framework 4.5 provides several new features and improvements for parallel computing.</span></span> <span data-ttu-id="88f5c-1161">Entre eles estão melhor desempenho, mais controle, maior suporte para programação assíncrona, uma nova biblioteca de fluxo de dados e o melhor suporte para a depuração paralela e a análise de desempenho.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1161">These include improved performance, increased control, improved support for asynchronous programming, a new dataflow library, and improved support for parallel debugging and performance analysis.</span></span> <span data-ttu-id="88f5c-1162">Confira a entrada [Novidades sobre paralelismo no .NET 4.5](https://go.microsoft.com/fwlink/?LinkId=235061) no blog Parallel Programming with .NET.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1162">See the entry [What’s New for Parallelism in .NET 4.5](https://go.microsoft.com/fwlink/?LinkId=235061) in the Parallel Programming with .NET blog.</span></span>

<a name="web" />

### <a name="web"></a><span data-ttu-id="88f5c-1163">Web</span><span class="sxs-lookup"><span data-stu-id="88f5c-1163">Web</span></span>

<span data-ttu-id="88f5c-1164">ASP.NET 4.5 e 4.5.1 adicionam model binding para formulários da Web, suporte WebSocket, manipuladores assíncronos, aperfeiçoamentos de desempenho e muitos outros recursos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1164">ASP.NET 4.5 and 4.5.1 add model binding for Web Forms, WebSocket support, asynchronous handlers, performance enhancements, and many other features.</span></span> <span data-ttu-id="88f5c-1165">Para obter mais informações, consulte os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1165">For more information, see the following resources:</span></span>

- <span data-ttu-id="88f5c-1166">[ASP.NET 4.5 e Visual Studio 2012](https://docs.microsoft.com/previous-versions/aspnet/hh420390(v=vs.110))</span><span class="sxs-lookup"><span data-stu-id="88f5c-1166">[ASP.NET 4.5 and Visual Studio 2012](https://docs.microsoft.com/previous-versions/aspnet/hh420390(v=vs.110))</span></span>

- [<span data-ttu-id="88f5c-1167">Notas de versão do ASP.NET and Web Tools para Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="88f5c-1167">ASP.NET and Web Tools for Visual Studio 2013 Release Notes</span></span>](/aspnet/visual-studio/overview/2013/release-notes)

### <a name="networking-a-namenetworking-"></a><span data-ttu-id="88f5c-1168">Rede <a name="networking" /></span><span class="sxs-lookup"><span data-stu-id="88f5c-1168">Networking <a name="networking" /></span></span>

<span data-ttu-id="88f5c-1169">O .NET Framework 4.5 fornece uma nova interface de programação para aplicativos HTTP.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1169">The .NET Framework 4.5 provides a new programming interface for HTTP applications.</span></span> <span data-ttu-id="88f5c-1170">Para obter mais informações, consulte os novos namespaces <xref:System.Net.Http?displayProperty=nameWithType> e <xref:System.Net.Http.Headers?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1170">For more information, see the new <xref:System.Net.Http?displayProperty=nameWithType> and <xref:System.Net.Http.Headers?displayProperty=nameWithType> namespaces.</span></span>

<span data-ttu-id="88f5c-1171">O suporte também está incluído para uma nova interface de programação para aceitar e interagir com uma conexão WebSocket usando-se a classe <xref:System.Net.HttpListener> existente e as classes relacionadas.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1171">Support is also included for a new programming interface for accepting and interacting with a WebSocket connection by using the existing <xref:System.Net.HttpListener> and related classes.</span></span> <span data-ttu-id="88f5c-1172">Para obter mais informações, consulte o novo namespace <xref:System.Net.WebSockets> e a classe <xref:System.Net.HttpListener>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1172">For more information, see the new <xref:System.Net.WebSockets> namespace and the <xref:System.Net.HttpListener> class.</span></span>

<span data-ttu-id="88f5c-1173">Além disso, o .NET Framework 4.5 inclui os seguintes aperfeiçoamentos de rede:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1173">In addition, the .NET Framework 4.5 includes the following networking improvements:</span></span>

- <span data-ttu-id="88f5c-1174">Suporte ao URI compatível com RFC.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1174">RFC-compliant URI support.</span></span> <span data-ttu-id="88f5c-1175">Para obter mais informações, consulte <xref:System.Uri> e as classes relacionadas.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1175">For more information, see <xref:System.Uri> and related classes.</span></span>

- <span data-ttu-id="88f5c-1176">Suporte para análise IDN.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1176">Support for Internationalized Domain Name (IDN) parsing.</span></span> <span data-ttu-id="88f5c-1177">Para obter mais informações, consulte <xref:System.Uri> e as classes relacionadas.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1177">For more information, see <xref:System.Uri> and related classes.</span></span>

- <span data-ttu-id="88f5c-1178">Suporte para EAI (Email Address Internationalization).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1178">Support for Email Address Internationalization (EAI).</span></span> <span data-ttu-id="88f5c-1179">Para obter mais informações, consulte o namespace de <xref:System.Net.Mail>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1179">For more information, see the <xref:System.Net.Mail> namespace.</span></span>

- <span data-ttu-id="88f5c-1180">Suporte a IPv6 melhorado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1180">Improved IPv6 support.</span></span> <span data-ttu-id="88f5c-1181">Para obter mais informações, consulte o namespace de <xref:System.Net.NetworkInformation>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1181">For more information, see the <xref:System.Net.NetworkInformation> namespace.</span></span>

- <span data-ttu-id="88f5c-1182">Suporte a soquete de modo duplo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1182">Dual-mode socket support.</span></span> <span data-ttu-id="88f5c-1183">Para obter mais informações, consulte as classes <xref:System.Net.Sockets.Socket> e <xref:System.Net.Sockets.TcpListener>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1183">For more information, see the <xref:System.Net.Sockets.Socket> and <xref:System.Net.Sockets.TcpListener> classes.</span></span>

<a name="client" />

### <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="88f5c-1184">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="88f5c-1184">Windows Presentation Foundation (WPF)</span></span>

<span data-ttu-id="88f5c-1185">No .NET Framework 4.5, o Windows Presentation Foundation (WPF) contém modificações e aperfeiçoamentos nas seguintes áreas:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1185">In the .NET Framework 4.5, Windows Presentation Foundation (WPF) contains changes and improvements in the following areas:</span></span>

- <span data-ttu-id="88f5c-1186">O novo controle <xref:System.Windows.Controls.Ribbon.Ribbon>, que permite que você implemente uma interface de usuário da faixa de opções que hospeda uma Barra de Ferramentas de Acesso Rápido, um menu do aplicativo e guias.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1186">The new <xref:System.Windows.Controls.Ribbon.Ribbon> control, which enables you to implement a ribbon user interface that hosts a Quick Access Toolbar, Application Menu, and tabs.</span></span>

- <span data-ttu-id="88f5c-1187">A nova interface <xref:System.ComponentModel.INotifyDataErrorInfo>, que dá suporte à validação de dados síncronos e assíncronos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1187">The new <xref:System.ComponentModel.INotifyDataErrorInfo> interface, which supports synchronous and asynchronous data validation.</span></span>

- <span data-ttu-id="88f5c-1188">Novos recursos para as classes <xref:System.Windows.Controls.VirtualizingPanel> e <xref:System.Windows.Threading.Dispatcher>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1188">New features for the <xref:System.Windows.Controls.VirtualizingPanel> and <xref:System.Windows.Threading.Dispatcher> classes.</span></span>

- <span data-ttu-id="88f5c-1189">Desempenho melhorado durante a exibição de grandes conjuntos de dados agrupados e o acesso a coleções em threads que não sejam de IU.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1189">Improved performance when displaying large sets of grouped data, and by accessing collections on non-UI threads.</span></span>

- <span data-ttu-id="88f5c-1190">Associação de dados a propriedades estáticas, associação de dados a tipos personalizados que implementam a interface <xref:System.Reflection.ICustomTypeProvider> e a recuperação de informações de associação de dados de uma expressão de associação.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1190">Data binding to static properties, data binding to custom types that implement the <xref:System.Reflection.ICustomTypeProvider> interface, and retrieval of data binding information from a binding expression.</span></span>

- <span data-ttu-id="88f5c-1191">Reposicionamento de dados à medida que os valores mudam (shaping dinâmico).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1191">Repositioning of data as the values change (live shaping).</span></span>

- <span data-ttu-id="88f5c-1192">Capacidade de verificar se o contexto de dados de um contêiner de itens está desconectado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1192">Ability to check whether the data context for an item container is disconnected.</span></span>

- <span data-ttu-id="88f5c-1193">Capacidade de definir o tempo que deve decorrer entre as alterações de propriedade e as atualizações da fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1193">Ability to set the amount of time that should elapse between property changes and data source updates.</span></span>

- <span data-ttu-id="88f5c-1194">Suporte melhorado para implementar padrões de evento fracos.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1194">Improved support for implementing weak event patterns.</span></span> <span data-ttu-id="88f5c-1195">Além disso, os eventos agora podem aceitar extensões de marcação.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1195">Also, events can now accept markup extensions.</span></span>

<a name="windows_communication_foundation" />

### <a name="windows-communication-foundation-wcf"></a><span data-ttu-id="88f5c-1196">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="88f5c-1196">Windows Communication Foundation (WCF)</span></span>

<span data-ttu-id="88f5c-1197">No .NET Framework 4.5, os seguintes recursos foram adicionados para simplificar a gravação e a manutenção de aplicativos do Windows Communication Foundation (WCF):</span><span class="sxs-lookup"><span data-stu-id="88f5c-1197">In the .NET Framework 4.5, the following features have been added to make it simpler to write and maintain Windows Communication Foundation (WCF) applications:</span></span>

- <span data-ttu-id="88f5c-1198">Simplificação de arquivos de configuração gerados.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1198">Simplification of generated configuration files.</span></span>

- <span data-ttu-id="88f5c-1199">Suporte para desenvolvimento de primeiro contrato.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1199">Support for contract-first development.</span></span>

- <span data-ttu-id="88f5c-1200">Capacidade de configurar o modo de compatibilidade do ASP.NET mais facilmente.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1200">Ability to configure ASP.NET compatibility mode more easily.</span></span>

- <span data-ttu-id="88f5c-1201">Alterações em valores de propriedade de transporte padrão para reduzir a probabilidade de você defini-los.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1201">Changes in default transport property values to reduce the likelihood that you will have to set them.</span></span>

- <span data-ttu-id="88f5c-1202">Atualizações feitas na classe <xref:System.Xml.XmlDictionaryReaderQuotas> reduzem a probabilidade de você precisar configurar manualmente as cotas para leitores de dicionário XML.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1202">Updates to the <xref:System.Xml.XmlDictionaryReaderQuotas> class to reduce the likelihood that you will have to manually configure quotas for XML dictionary readers.</span></span>

- <span data-ttu-id="88f5c-1203">Validação de arquivos de configuração WCF pelo Visual Studio como parte do processo de compilação, de forma que você possa detectar erros de configuração antes de executar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1203">Validation of WCF configuration files by Visual Studio as part of the build process, so you can detect configuration errors before you run your application.</span></span>

- <span data-ttu-id="88f5c-1204">Novo suporte de streaming assíncrono.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1204">New asynchronous streaming support.</span></span>

- <span data-ttu-id="88f5c-1205">Novo mapeamento de protocolo HTTPS para facilitar a exposição de um ponto de extremidade em HTTPS com o IIS (Serviços de Informações da Internet).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1205">New HTTPS protocol mapping to make it easier to expose an endpoint over HTTPS with Internet Information Services (IIS).</span></span>

- <span data-ttu-id="88f5c-1206">Capacidade de gerar metadados em um único documento WSDL acrescentando `?singleWSDL` à URL de serviço.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1206">Ability to generate metadata in a single WSDL document by appending `?singleWSDL` to the service URL.</span></span>

- <span data-ttu-id="88f5c-1207">Suporte de Websockets para habilitar comunicação bidirecional real em portas 80 e 443 com as características de desempenho semelhantes ao transporte TCP.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1207">Websockets support to enable true bidirectional communication over ports 80 and 443 with performance characteristics similar to the TCP transport.</span></span>

- <span data-ttu-id="88f5c-1208">Suporte para configurar serviços no código.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1208">Support for configuring services in code.</span></span>

- <span data-ttu-id="88f5c-1209">Dicas de ferramenta do Editor de XML</span><span class="sxs-lookup"><span data-stu-id="88f5c-1209">XML Editor tooltips.</span></span>

- <span data-ttu-id="88f5c-1210">Suporte ao armazenamento em cache <xref:System.ServiceModel.ChannelFactory>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1210"><xref:System.ServiceModel.ChannelFactory> caching support.</span></span>

- <span data-ttu-id="88f5c-1211">Suporte à compactação de codificador binário.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1211">Binary encoder compression support.</span></span>

- <span data-ttu-id="88f5c-1212">Suporte para um transporte UDP que permite que os desenvolvedores gravem serviços que usem o sistema de mensagens "acionar e esquecer".</span><span class="sxs-lookup"><span data-stu-id="88f5c-1212">Support for a UDP transport that enables developers to write services that use "fire and forget" messaging.</span></span> <span data-ttu-id="88f5c-1213">Um cliente envia uma mensagem para um serviço e não espera nenhuma resposta do serviço.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1213">A client sends a message to a service and expects no response from the service.</span></span>

- <span data-ttu-id="88f5c-1214">Capacidade de dar suporte a vários modos de autenticação em um único ponto de extremidade WCF durante o uso do transporte HTTP e da segurança de transporte.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1214">Ability to support multiple authentication modes on a single WCF endpoint when using the HTTP transport and transport security.</span></span>

- <span data-ttu-id="88f5c-1215">Suporte para serviços WCF que usam IDNs (nomes de domínio internacionalizados).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1215">Support for WCF services that use internationalized domain names (IDNs).</span></span>

<span data-ttu-id="88f5c-1216">Para saber mais, confira [Novidades no Windows Communication Foundation](https://go.microsoft.com/fwlink/?LinkId=228173).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1216">For more information, see [What's New in Windows Communication Foundation](https://go.microsoft.com/fwlink/?LinkId=228173).</span></span>

<a name="windows_workflow_foundation" />

### <a name="windows-workflow-foundation-wf"></a><span data-ttu-id="88f5c-1217">Windows Workflow Foundation (WF)</span><span class="sxs-lookup"><span data-stu-id="88f5c-1217">Windows Workflow Foundation (WF)</span></span>

<span data-ttu-id="88f5c-1218">No .NET Framework 4.5, vários recursos novos foram adicionados ao Windows Workflow Foundation (WF), incluindo:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1218">In the .NET Framework 4.5, several new features were added to Windows Workflow Foundation (WF), including:</span></span>

- <span data-ttu-id="88f5c-1219">Os fluxos de trabalho da máquina de estado, que foram introduzidos pela primeira vez como parte do .NET Framework 4.0.1 ([Atualização 1 da Plataforma .NET Framework 4](https://go.microsoft.com/fwlink/?LinkID=215092)).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1219">State machine workflows, which were first introduced as part of .NET Framework 4.0.1 ([.NET Framework 4 Platform Update 1](https://go.microsoft.com/fwlink/?LinkID=215092)).</span></span> <span data-ttu-id="88f5c-1220">Essa atualização incluiu várias classes e atividades novas que permitiram que os desenvolvedores criassem fluxos de trabalho de computador do estado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1220">This update included several new classes and activities that enabled developers to create state machine workflows.</span></span> <span data-ttu-id="88f5c-1221">Essas classes e atividades foram atualizadas para que o .NET Framework 4.5 inclua:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1221">These classes and activities were updated for the .NET Framework 4.5 to include:</span></span>

    - <span data-ttu-id="88f5c-1222">A capacidade de definir pontos de interrupção em estados.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1222">The ability to set breakpoints on states.</span></span>

    - <span data-ttu-id="88f5c-1223">A capacidade de copiar e colar transições no designer de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1223">The ability to copy and paste transitions in the workflow designer.</span></span>

    - <span data-ttu-id="88f5c-1224">Suporte de designer para criação de transição do disparador compartilhado.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1224">Designer support for shared trigger transition creation.</span></span>

    - <span data-ttu-id="88f5c-1225">Atividades para criar fluxos de trabalho de computador de estado, incluindo: <xref:System.Activities.Statements.StateMachine>, <xref:System.Activities.Statements.State> e <xref:System.Activities.Statements.Transition>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1225">Activities for creating state machine workflows, including: <xref:System.Activities.Statements.StateMachine>, <xref:System.Activities.Statements.State>, and <xref:System.Activities.Statements.Transition>.</span></span>

- <span data-ttu-id="88f5c-1226">Recursos do Designer de Fluxo de Trabalho aperfeiçoados, como o seguinte:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1226">Enhanced Workflow Designer features such as the following:</span></span>

    - <span data-ttu-id="88f5c-1227">Capacidades de pesquisa do fluxo de trabalho aperfeiçoado no Visual Studio, incluindo **Localização Rápida** e **Localizar nos Arquivos**.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1227">Enhanced workflow search capabilities in Visual Studio, including **Quick Find** and **Find in Files**.</span></span>

    - <span data-ttu-id="88f5c-1228">Capacidade de criar automaticamente uma atividade de Sequência quando uma segunda atividade filho é adicionada a uma atividade de contêiner e de incluir ambas as atividades na atividade de Sequência.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1228">Ability to automatically create a Sequence activity when a second child activity is added to a container activity, and to include both activities in the Sequence activity.</span></span>

    - <span data-ttu-id="88f5c-1229">Suporte a movimento panorâmico, o que permite que a parte visível de um fluxo de trabalho seja alterada sem o uso das barras de rolagem.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1229">Panning support, which enables the visible portion of a workflow to be changed without using the scroll bars.</span></span>

    - <span data-ttu-id="88f5c-1230">Uma nova exibição **Estrutura de Tópicos de Documentos** mostra os componentes de um fluxo de trabalho em uma exibição de contorno em estilo árvore e permite selecionar um componente na exibição **Estrutura de Tópicos de Documentos**.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1230">A new **Document Outline** view that shows the components of a workflow in a tree-style outline view and lets you select a component in the **Document Outline** view.</span></span>

    - <span data-ttu-id="88f5c-1231">Capacidade de adicionar anotações a atividades.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1231">Ability to add annotations to activities.</span></span>

    - <span data-ttu-id="88f5c-1232">Capacidade de definir e consumir representantes de atividade usando-se o designer de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1232">Ability to define and consume activity delegates by using the workflow designer.</span></span>

    - <span data-ttu-id="88f5c-1233">Conexão e inserção automática para atividades e transições na máquina de estado e fluxos de trabalho do fluxograma.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1233">Auto-connect and auto-insert for activities and transitions in state machine and flowchart workflows.</span></span>

- <span data-ttu-id="88f5c-1234">Armazenamento das informações do estado de exibição para um fluxo de trabalho em um único elemento no arquivo XAML, logo, você pode localizar e editar facilmente as informações de estado de exibição.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1234">Storage of the view state information for a workflow in a single element in the XAML file, so you can easily locate and edit the view state information.</span></span>

- <span data-ttu-id="88f5c-1235">Uma atividade de contêiner NoPersistScope para impedir que as atividades filho persistam.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1235">A NoPersistScope container activity to prevent child activities from persisting.</span></span>

- <span data-ttu-id="88f5c-1236">Suporte para expressões do C#:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1236">Support for C# expressions:</span></span>

    - <span data-ttu-id="88f5c-1237">Os projetos de fluxo de trabalho que usam o Visual Basic usarão expressões do Visual Basic e os projetos de fluxo de trabalho do C# usarão as expressões do C#.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1237">Workflow projects that use Visual Basic will use Visual Basic expressions, and C# workflow projects will use C# expressions.</span></span>

    - <span data-ttu-id="88f5c-1238">Projetos de fluxo de trabalho do C# criados no Visual Studio 2010 e com expressões do Visual Basic são compatíveis com projetos do fluxo de trabalho do C# que usem expressões do C#.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1238">C# workflow projects that were created in Visual Studio 2010 and that have Visual Basic expressions are compatible with C# workflow projects that use C# expressions.</span></span>

- <span data-ttu-id="88f5c-1239">Aperfeiçoamentos do controle de versão:</span><span class="sxs-lookup"><span data-stu-id="88f5c-1239">Versioning enhancements:</span></span>

    - <span data-ttu-id="88f5c-1240">A nova classe <xref:System.Activities.WorkflowIdentity>, que fornece um mapeamento entre uma instância mantida de fluxo de trabalho e sua definição de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1240">The new  <xref:System.Activities.WorkflowIdentity> class, which provides a mapping between a persisted workflow instance and its workflow definition.</span></span>

    - <span data-ttu-id="88f5c-1241">Execução lado a lado de várias versões de fluxo de trabalho no mesmo host, incluindo <xref:System.ServiceModel.Activities.WorkflowServiceHost>.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1241">Side-by-side execution of multiple workflow versions in the same host, including <xref:System.ServiceModel.Activities.WorkflowServiceHost>.</span></span>

    - <span data-ttu-id="88f5c-1242">Na Atualização Dinâmica, a capacidade de modificar a definição de uma instância do fluxo de trabalho persistente.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1242">In Dynamic Update, the ability to modify the definition of a persisted workflow instance.</span></span>

- <span data-ttu-id="88f5c-1243">Implantação do serviço de fluxo de trabalho de primeiro contrato, que fornece suporte para gerar automaticamente atividades para corresponder um contrato de serviço existente.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1243">Contract-first workflow service development, which provides support for automatically generating activities to match an existing service contract.</span></span>

 <span data-ttu-id="88f5c-1244">Para saber mais, confira [Novidades no Windows Workflow Foundation](https://go.microsoft.com/fwlink/?LinkId=228176).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1244">For more information, see [What's New in Windows Workflow Foundation](https://go.microsoft.com/fwlink/?LinkId=228176).</span></span>

<a name="tailored" />

### [!INCLUDE[net_win8_profile](../../../includes/net-win8-profile-md.md)]

<span data-ttu-id="88f5c-1245">Os aplicativos [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] foram projetados para fatores forma específicos e aproveitam a capacidade do sistema operacional Windows.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1245">[!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] apps are designed for specific form factors and leverage the power of the Windows operating system.</span></span> <span data-ttu-id="88f5c-1246">Um subconjunto do .NET Framework 4.5 ou 4.5.1 está disponível para compilar aplicativos [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] para o Windows usando o C# ou o Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1246">A subset of the .NET Framework 4.5 or 4.5.1 is available for building [!INCLUDE[win8_appname_long](../../../includes/win8-appname-long-md.md)] apps for Windows by using C# or Visual Basic.</span></span> <span data-ttu-id="88f5c-1247">Esse subconjunto é chamado de [!INCLUDE[net_win8_profile](../../../includes/net-win8-profile-md.md)] e abordado em uma [visão geral](https://go.microsoft.com/fwlink/?LinkId=228491) no Windows Dev Center.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1247">This subset is called [!INCLUDE[net_win8_profile](../../../includes/net-win8-profile-md.md)] and is discussed in an [overview](https://go.microsoft.com/fwlink/?LinkId=228491) in the Windows Dev Center.</span></span>

### <a name="portable-class-libraries-a-nameportable-"></a><span data-ttu-id="88f5c-1248">Bibliotecas de Classe Portáteis <a name="portable" /></span><span class="sxs-lookup"><span data-stu-id="88f5c-1248">Portable Class Libraries <a name="portable" /></span></span>

<span data-ttu-id="88f5c-1249">O projeto Biblioteca de Classes Portátil no Visual Studio 2012 (e em versões posteriores) permite gravar e compilar assemblies gerenciados que funcionem em várias plataformas do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1249">The Portable Class Library project in Visual Studio 2012 (and later versions) enables you to write and build managed assemblies that work on multiple .NET Framework platforms.</span></span> <span data-ttu-id="88f5c-1250">Ao usar um projeto Biblioteca de Classes Portátil, você escolhe as plataformas (como o Windows Phone e o [!INCLUDE[net_win8_profile](../../../includes/net-win8-profile-md.md)]) para direcionar.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1250">Using a Portable Class Library project, you choose the platforms (such as Windows Phone and [!INCLUDE[net_win8_profile](../../../includes/net-win8-profile-md.md)]) to target.</span></span> <span data-ttu-id="88f5c-1251">Os tipos e membros disponíveis em seu projeto são restritos automaticamente aos tipos e membros comuns através dessas plataformas.</span><span class="sxs-lookup"><span data-stu-id="88f5c-1251">The available types and members in your project are automatically restricted to the common types and members across these platforms.</span></span> <span data-ttu-id="88f5c-1252">Para saber mais, confira [Biblioteca de Classes Portátil](../../standard/cross-platform/cross-platform-development-with-the-portable-class-library.md).</span><span class="sxs-lookup"><span data-stu-id="88f5c-1252">For more information, see [Portable Class Library](../../standard/cross-platform/cross-platform-development-with-the-portable-class-library.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="88f5c-1253">Consulte também</span><span class="sxs-lookup"><span data-stu-id="88f5c-1253">See also</span></span>

- [<span data-ttu-id="88f5c-1254">O .NET Framework e lançamentos fora da banda</span><span class="sxs-lookup"><span data-stu-id="88f5c-1254">The .NET Framework and Out-of-Band Releases</span></span>](../get-started/the-net-framework-and-out-of-band-releases.md)
- [<span data-ttu-id="88f5c-1255">Novidades na acessibilidade do .NET Framework</span><span class="sxs-lookup"><span data-stu-id="88f5c-1255">What's new in accessibility in the .NET Framework</span></span>](whats-new-in-accessibility.md)
- [<span data-ttu-id="88f5c-1256">Novidades no Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="88f5c-1256">What's New in Visual Studio 2017</span></span>](/visualstudio/ide/whats-new-in-visual-studio)
- [<span data-ttu-id="88f5c-1257">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="88f5c-1257">ASP.NET</span></span>](/aspnet)
- [<span data-ttu-id="88f5c-1258">Novidades no Visual C++</span><span class="sxs-lookup"><span data-stu-id="88f5c-1258">What’s New in Visual C++</span></span>](/cpp/what-s-new-for-visual-cpp-in-visual-studio)
