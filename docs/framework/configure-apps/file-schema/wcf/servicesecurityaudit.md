---
title: '&lt;serviceSecurityAudit&gt;'
ms.date: 03/30/2017
ms.assetid: ba517369-a034-4f8e-a2c4-66517716062b
ms.openlocfilehash: 36215709f0ede32c25739ea47f2f285e4122f098
ms.sourcegitcommit: ccd8c36b0d74d99291d41aceb14cf98d74dc9d2b
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/10/2018
ms.locfileid: "53144423"
---
# <a name="ltservicesecurityauditgt"></a><span data-ttu-id="6cbf3-102">&lt;serviceSecurityAudit&gt;</span><span class="sxs-lookup"><span data-stu-id="6cbf3-102">&lt;serviceSecurityAudit&gt;</span></span>
<span data-ttu-id="6cbf3-103">Especifica configurações que habilitem a auditoria de eventos de segurança durante as operações de serviço.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-103">Specifies settings that enable auditing of security events during service operations.</span></span>  
  
 <span data-ttu-id="6cbf3-104">\<system.ServiceModel></span><span class="sxs-lookup"><span data-stu-id="6cbf3-104">\<system.ServiceModel></span></span>  
<span data-ttu-id="6cbf3-105">\<comportamentos ></span><span class="sxs-lookup"><span data-stu-id="6cbf3-105">\<behaviors></span></span>  
<span data-ttu-id="6cbf3-106">\<serviceBehaviors ></span><span class="sxs-lookup"><span data-stu-id="6cbf3-106">\<serviceBehaviors></span></span>  
<span data-ttu-id="6cbf3-107">\<comportamento de ></span><span class="sxs-lookup"><span data-stu-id="6cbf3-107">\<behavior></span></span>  
<span data-ttu-id="6cbf3-108">\<serviceSecurityAudit></span><span class="sxs-lookup"><span data-stu-id="6cbf3-108">\<serviceSecurityAudit></span></span>  
  
## <a name="syntax"></a><span data-ttu-id="6cbf3-109">Sintaxe</span><span class="sxs-lookup"><span data-stu-id="6cbf3-109">Syntax</span></span>  
  
```xml  
<serviceSecurityAudit   
   auditLogLocation="Default/Application/Security"  
   messageAuthenticationAuditLevel= None/Success/Failure/SuccessOrFailure"   serviceAuthorizationAuditLevel="None/Success/Failure/SuccessOrFailure"  
   suppressAuditFailure="Boolean"  
/>  
```  
  
## <a name="attributes-and-elements"></a><span data-ttu-id="6cbf3-110">Atributos e elementos</span><span class="sxs-lookup"><span data-stu-id="6cbf3-110">Attributes and Elements</span></span>  
 <span data-ttu-id="6cbf3-111">As seções a seguir descrevem atributos, elementos filho e elementos pai.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-111">The following sections describe attributes, child elements, and parent elements.</span></span>  
  
### <a name="attributes"></a><span data-ttu-id="6cbf3-112">Atributos</span><span class="sxs-lookup"><span data-stu-id="6cbf3-112">Attributes</span></span>  
  
|<span data-ttu-id="6cbf3-113">Atributo</span><span class="sxs-lookup"><span data-stu-id="6cbf3-113">Attribute</span></span>|<span data-ttu-id="6cbf3-114">Descrição</span><span class="sxs-lookup"><span data-stu-id="6cbf3-114">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="6cbf3-115">auditLogLocation</span><span class="sxs-lookup"><span data-stu-id="6cbf3-115">auditLogLocation</span></span>|<span data-ttu-id="6cbf3-116">Especifica o local do log de auditoria.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-116">Specifies the location of the audit log.</span></span> <span data-ttu-id="6cbf3-117">Os valores válidos incluem o seguinte:</span><span class="sxs-lookup"><span data-stu-id="6cbf3-117">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="6cbf3-118">-Padrão: Eventos de segurança são gravados no log de aplicativo no Windows XP e no Log de eventos no Windows Server 2003 e Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-118">-   Default: Security events are written to the application log on Windows XP, and to the Event Log on Windows Server 2003 and Windows Vista.</span></span><br /><span data-ttu-id="6cbf3-119">-Aplicativo: Eventos de auditoria são gravados no Log de eventos do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-119">-   Application: Audit events are written to the Application Event Log.</span></span><br /><span data-ttu-id="6cbf3-120">-Segurança: Eventos de auditoria são gravados no Log de eventos de segurança.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-120">-   Security: Audit events are written to the Security Event Log.</span></span><br /><br /> <span data-ttu-id="6cbf3-121">O valor padrão é o padrão.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-121">The default value is Default.</span></span> <span data-ttu-id="6cbf3-122">Para obter mais informações, consulte <xref:System.ServiceModel.AuditLogLocation>.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-122">For more information, see <xref:System.ServiceModel.AuditLogLocation>.</span></span>|  
|<span data-ttu-id="6cbf3-123">suppressAuditFailure</span><span class="sxs-lookup"><span data-stu-id="6cbf3-123">suppressAuditFailure</span></span>|<span data-ttu-id="6cbf3-124">Um valor booliano que especifica o comportamento para suprimir falhas de gravação no log de auditoria.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-124">A Boolean value that specifies the behavior for suppressing failures of writing to the audit log.</span></span><br /><br /> <span data-ttu-id="6cbf3-125">Aplicativos devem ser notificados para falhas de gravação no log de auditoria.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-125">Applications should be notified for failures of writing to the audit log.</span></span> <span data-ttu-id="6cbf3-126">Se seu aplicativo não foi projetado para lidar com falhas de auditoria, você deve usar esse atributo para suprimir falhas na gravação no log de auditoria.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-126">If your application is not designed to handle audit failures, you should use this attribute to suppress failures in writing to the audit log.</span></span><br /><br /> <span data-ttu-id="6cbf3-127">Se esse atributo for `true`, as exceções que não seja a OutOfMemoryException, StackOverFlowException, ThreadAbortException e ArgumentException resultantes de tentativas de gravar eventos de auditoria são manipuladas pelo sistema e não são propagadas para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-127">If this attribute is `true`, exceptions other than OutOfMemoryException, StackOverFlowException, ThreadAbortException, and ArgumentException that result from attempts to write audit events are handled by the system, and are not propagated to the application.</span></span> <span data-ttu-id="6cbf3-128">Se esse atributo for `false`, todas as exceções que resultam de tentativas de gravar eventos de auditoria serão passadas para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-128">If this attribute is `false`, all exceptions that result from attempts to write audit events are passed up to the application.</span></span><br /><br /> <span data-ttu-id="6cbf3-129">O padrão é `true`.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-129">The default is `true`.</span></span>|  
|<span data-ttu-id="6cbf3-130">serviceAuthorizationAuditLevel</span><span class="sxs-lookup"><span data-stu-id="6cbf3-130">serviceAuthorizationAuditLevel</span></span>|<span data-ttu-id="6cbf3-131">Especifica os tipos de eventos de autorização que são registrados no log de auditoria.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-131">Specifies the types of authorization events that are recorded in the audit log.</span></span> <span data-ttu-id="6cbf3-132">Os valores válidos incluem o seguinte:</span><span class="sxs-lookup"><span data-stu-id="6cbf3-132">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="6cbf3-133">-None: Sem auditoria de eventos de autorização de serviço é executado.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-133">-   None: No auditing of service authorization events is performed.</span></span><br /><span data-ttu-id="6cbf3-134">-Êxito: Somente eventos de autorização de serviço bem-sucedida são auditados.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-134">-   Success: Only successful service authorization events are audited.</span></span><br /><span data-ttu-id="6cbf3-135">-Falha: Somente serviço autorização eventos de falha são auditados.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-135">-   Failure: Only failure service authorization events are audited.</span></span><br /><span data-ttu-id="6cbf3-136">-SuccessOrFailure: Eventos de autorização do serviço de êxito e falha são auditados.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-136">-   SuccessOrFailure: Both success and failure service authorization events are audited.</span></span><br /><br /> <span data-ttu-id="6cbf3-137">O valor padrão é None.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-137">The default value is None.</span></span> <span data-ttu-id="6cbf3-138">Para obter mais informações, consulte <xref:System.ServiceModel.AuditLevel>.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-138">For more information, see <xref:System.ServiceModel.AuditLevel>.</span></span>|  
|<span data-ttu-id="6cbf3-139">messageAuthenticationAuditLevel</span><span class="sxs-lookup"><span data-stu-id="6cbf3-139">messageAuthenticationAuditLevel</span></span>|<span data-ttu-id="6cbf3-140">Especifica o tipo de eventos de auditoria de autenticação de mensagem registrados.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-140">Specifies the type of message authentication audit events logged.</span></span> <span data-ttu-id="6cbf3-141">Os valores válidos incluem o seguinte:</span><span class="sxs-lookup"><span data-stu-id="6cbf3-141">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="6cbf3-142">-None: Nenhum evento de auditoria é gerado.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-142">-   None: No audit events are generated.</span></span><br /><span data-ttu-id="6cbf3-143">-Êxito: Somente eventos de (incluindo a validação de token, criptografia e validação de assinatura de mensagem de validação completo) de segurança com êxito são registrados.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-143">-   Success: Only successful security (full validation including message signature validation, cipher, and token validation) events are logged.</span></span><br /><span data-ttu-id="6cbf3-144">-Falha: Somente eventos de falha são registrados.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-144">-   Failure: Only failure events are logged.</span></span><br /><span data-ttu-id="6cbf3-145">-SuccessOrFailure: Eventos de êxito e falha são registrados.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-145">-   SuccessOrFailure: Both success and failure events are logged.</span></span><br /><br /> <span data-ttu-id="6cbf3-146">O valor padrão é None.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-146">The default value is None.</span></span> <span data-ttu-id="6cbf3-147">Para obter mais informações, consulte <xref:System.ServiceModel.AuditLevel>.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-147">For more information, see <xref:System.ServiceModel.AuditLevel>.</span></span>|  
  
### <a name="child-elements"></a><span data-ttu-id="6cbf3-148">Elementos filho</span><span class="sxs-lookup"><span data-stu-id="6cbf3-148">Child Elements</span></span>  
 <span data-ttu-id="6cbf3-149">nenhuma.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-149">None.</span></span>  
  
### <a name="parent-elements"></a><span data-ttu-id="6cbf3-150">Elementos pai</span><span class="sxs-lookup"><span data-stu-id="6cbf3-150">Parent Elements</span></span>  
  
|<span data-ttu-id="6cbf3-151">Elemento</span><span class="sxs-lookup"><span data-stu-id="6cbf3-151">Element</span></span>|<span data-ttu-id="6cbf3-152">Descrição</span><span class="sxs-lookup"><span data-stu-id="6cbf3-152">Description</span></span>|  
|-------------|-----------------|  
|[<span data-ttu-id="6cbf3-153">\<comportamento de ></span><span class="sxs-lookup"><span data-stu-id="6cbf3-153">\<behavior></span></span>](../../../../../docs/framework/configure-apps/file-schema/wcf/behavior-of-endpointbehaviors.md)|<span data-ttu-id="6cbf3-154">Especifica um elemento de comportamento.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-154">Specifies a behavior element.</span></span>|  
  
## <a name="remarks"></a><span data-ttu-id="6cbf3-155">Comentários</span><span class="sxs-lookup"><span data-stu-id="6cbf3-155">Remarks</span></span>  
 <span data-ttu-id="6cbf3-156">Este elemento de configuração é usado para auditoria de eventos de autenticação do Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="6cbf3-156">This configuration element is used to audit Windows Communication Foundation (WCF) authentication events.</span></span> <span data-ttu-id="6cbf3-157">Quando a auditoria estiver habilitada, a autenticação com êxito ou falha tentativas (ou ambos) podem ser auditados.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-157">When auditing is enabled, either successful or failed authentication attempts (or both) can be audited.</span></span> <span data-ttu-id="6cbf3-158">Os eventos são gravados em um dos três logs de eventos: aplicativo, segurança ou o log padrão para a versão do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-158">The events are written to one of three event logs: application, security, or the default log for the operating system version.</span></span> <span data-ttu-id="6cbf3-159">Os logs de eventos podem todas ser exibidos usando o Visualizador de eventos do Windows.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-159">The event logs can all be viewed using the Windows Event viewer.</span></span>  
  
 <span data-ttu-id="6cbf3-160">Para obter um exemplo detalhado de como usar este elemento de configuração, consulte [comportamento de auditoria de serviço](../../../../../docs/framework/wcf/samples/service-auditing-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="6cbf3-160">For a detailed example of using this configuration element, see [Service Auditing Behavior](../../../../../docs/framework/wcf/samples/service-auditing-behavior.md).</span></span>  
  
 <span data-ttu-id="6cbf3-161">Por padrão, no Windows XP dos eventos de auditoria podem ser vistos no Log do aplicativo; no Windows Server 2003 e Windows Vista, os eventos de auditoria podem ser vistos no Log de segurança.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-161">By default, on Windows XP the audit events can be seen in the Application Log; while on Windows Server 2003 and Windows Vista, the audit events can be seen in the Security Log.</span></span> <span data-ttu-id="6cbf3-162">O local dos eventos de auditoria pode ser especificado definindo o `auditLogLocation` de atributo para 'Application' ou 'Segurança'.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-162">The location of audit events can be specified by setting the `auditLogLocation` attribute to 'Application' or 'Security'.</span></span> <span data-ttu-id="6cbf3-163">Para obter mais informações, consulte [como: Auditar eventos de segurança](../../../../../docs/framework/wcf/feature-details/how-to-audit-wcf-security-events.md).</span><span class="sxs-lookup"><span data-stu-id="6cbf3-163">For more information, see [How to: Audit Security Events](../../../../../docs/framework/wcf/feature-details/how-to-audit-wcf-security-events.md).</span></span> <span data-ttu-id="6cbf3-164">Se os eventos são gravados no Log de segurança, o LocalSecurityPolicy -> Habilitar o acesso ao objeto deve ser definido para "Êxito" e "Falha".</span><span class="sxs-lookup"><span data-stu-id="6cbf3-164">If the events are written in the Security Log, the LocalSecurityPolicy-> Enable Object Access should be set for "Success" and "Failure".</span></span>  
  
 <span data-ttu-id="6cbf3-165">Ao examinar o log de eventos, a origem dos eventos de auditoria é "Auditoria de ServiceModel 3.0.0.0".</span><span class="sxs-lookup"><span data-stu-id="6cbf3-165">When looking at the event log, the source of the audit events is "ServiceModel Audit 3.0.0.0".</span></span> <span data-ttu-id="6cbf3-166">Registros de auditoria de autenticação de mensagem tem uma categoria de "MessageAuthentication", enquanto os registros de auditoria de autorização de serviço têm uma categoria de 'ServiceAuthorization'.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-166">Message authentication audit records have a category of "MessageAuthentication" while service authorization audit records have a category of 'ServiceAuthorization'.</span></span>  
  
 <span data-ttu-id="6cbf3-167">Eventos de auditoria de autenticação de mensagem abrangem se a mensagem foi violada, se a mensagem expirou e se o cliente pode se autenticar no serviço.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-167">Message authentication audit events cover whether the message was tampered with, whether the message has expired and whether the client can authenticate to the service.</span></span> <span data-ttu-id="6cbf3-168">Eles fornecem informações sobre se a autenticação com êxito ou falha, juntamente com a identidade do cliente e o ponto de extremidade a mensagem foi enviado ao junto com a ação associada à mensagem.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-168">They provide information about whether the authentication succeeded or failed along with the identity of the client and the endpoint the message was sent to along with the action associated with the message.</span></span>  
  
 <span data-ttu-id="6cbf3-169">Eventos de auditoria de autorização de serviço abrangem a decisão de autorização feita por um Gerenciador de autorização de serviço.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-169">Service authorization audit events cover the authorization decision made by a service authorization manager.</span></span> <span data-ttu-id="6cbf3-170">Eles fornecem informações sobre se a autorização com êxito ou falha, juntamente com a identidade do cliente, o ponto de extremidade a mensagem foi enviado para a ação associada à mensagem, o identificador do contexto de autorização que foi gerado a partir de mensagem de entrada e o tipo do Gerenciador de autorização que tomou a decisão de acesso.</span><span class="sxs-lookup"><span data-stu-id="6cbf3-170">They provide information about whether authorization succeeded or failed along with the identity of the client, the endpoint the message was sent to, the action associated with the message, the identifier of the authorization context that was generated from the incoming message and the type of the authorization manager that made the access decision.</span></span>  
  
## <a name="example"></a><span data-ttu-id="6cbf3-171">Exemplo</span><span class="sxs-lookup"><span data-stu-id="6cbf3-171">Example</span></span>  
  
```xml  
<system.serviceModel>  
   <serviceBehaviors>  
      <behavior name="NewBehavior">  
         <serviceSecurityAudit auditLogLocation="Application"   
             suppressAuditFailure="true"  
             serviceAuthorizationAuditLevel="Success"   
             messageAuthenticationAuditLevel="Success" />  
      </behavior>  
   </serviceBehaviors>  
</behaviors>  
```  
  
## <a name="see-also"></a><span data-ttu-id="6cbf3-172">Consulte também</span><span class="sxs-lookup"><span data-stu-id="6cbf3-172">See Also</span></span>  
 <xref:System.ServiceModel.Configuration.ServiceSecurityAuditElement>  
 <xref:System.ServiceModel.Description.ServiceSecurityAuditBehavior>  
 [<span data-ttu-id="6cbf3-173">Comportamentos de segurança</span><span class="sxs-lookup"><span data-stu-id="6cbf3-173">Security Behaviors</span></span>](../../../../../docs/framework/wcf/feature-details/security-behaviors-in-wcf.md)  
 [<span data-ttu-id="6cbf3-174">Auditoria</span><span class="sxs-lookup"><span data-stu-id="6cbf3-174">Auditing</span></span>](../../../../../docs/framework/wcf/feature-details/auditing-security-events.md)  
 [<span data-ttu-id="6cbf3-175">Como: Eventos de auditoria de segurança</span><span class="sxs-lookup"><span data-stu-id="6cbf3-175">How to: Audit Security Events</span></span>](../../../../../docs/framework/wcf/feature-details/how-to-audit-wcf-security-events.md)  
 [<span data-ttu-id="6cbf3-176">Comportamento de auditoria de serviço</span><span class="sxs-lookup"><span data-stu-id="6cbf3-176">Service Auditing Behavior</span></span>](../../../../../docs/framework/wcf/samples/service-auditing-behavior.md)
