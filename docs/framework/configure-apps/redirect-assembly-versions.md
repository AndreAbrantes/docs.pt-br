---
title: Redirecionando versões de assembly
ms.date: 03/30/2017
helpviewer_keywords:
- assembly binding, redirection
- redirecting assembly binding to earlier version
- configuration [.NET Framework], applications
- application configuration [.NET Framework]
- assemblies [.NET Framework], binding redirection
ms.assetid: 88fb1a17-6ac9-4b57-8028-193aec1f727c
ms.openlocfilehash: c9670b00ea4a6b552469b7f33e924b8ab128d9d0
ms.sourcegitcommit: 68653db98c5ea7744fd438710248935f70020dfb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/22/2019
ms.locfileid: "69948022"
---
# <a name="redirecting-assembly-versions"></a><span data-ttu-id="8cef2-102">Redirecionando versões de assembly</span><span class="sxs-lookup"><span data-stu-id="8cef2-102">Redirecting Assembly Versions</span></span>

<span data-ttu-id="8cef2-103">Você pode redirecionar referências de associação de tempo de compilação para .NET Framework assemblies, assemblies de terceiros ou assemblies de seu próprio aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8cef2-103">You can redirect compile-time binding references to .NET Framework assemblies, third-party assemblies, or your own app's assemblies.</span></span> <span data-ttu-id="8cef2-104">Você pode redirecionar seu aplicativo para usar uma versão diferente de um assembly de várias maneiras: por meio da política de editor, por meio de um arquivo de configuração de aplicativo; ou por meio do arquivo de configuração do computador.</span><span class="sxs-lookup"><span data-stu-id="8cef2-104">You can redirect your app to use a different version of an assembly in a number of ways: through publisher policy, through an app configuration file; or through the machine configuration file.</span></span> <span data-ttu-id="8cef2-105">Este artigo discute como a associação de assembly funciona no .NET Framework e como ela pode ser configurada.</span><span class="sxs-lookup"><span data-stu-id="8cef2-105">This article discusses how assembly binding works in the .NET Framework and how it can be configured.</span></span>

<a name="BKMK_Assemblyunificationanddefaultbinding"></a>
## <a name="assembly-unification-and-default-binding"></a><span data-ttu-id="8cef2-106">Unificação de assembly e associação padrão</span><span class="sxs-lookup"><span data-stu-id="8cef2-106">Assembly unification and default binding</span></span>
 <span data-ttu-id="8cef2-107">Associações a .NET Framework assemblies são, às vezes, redirecionadas por meio de um processo chamado Unificação de *assembly*.</span><span class="sxs-lookup"><span data-stu-id="8cef2-107">Bindings to .NET Framework assemblies are sometimes redirected through a process called *assembly unification*.</span></span> <span data-ttu-id="8cef2-108">O .NET Framework consiste em uma versão do Common Language Runtime e cerca de duas dúzias de .NET Framework assemblies que compõem a biblioteca de tipos.</span><span class="sxs-lookup"><span data-stu-id="8cef2-108">The .NET Framework consists of a version of the common language runtime and about two dozen .NET Framework assemblies that make up the type library.</span></span> <span data-ttu-id="8cef2-109">Esses .NET Framework assemblies são tratados pelo tempo de execução como uma única unidade.</span><span class="sxs-lookup"><span data-stu-id="8cef2-109">These .NET Framework assemblies are treated by the runtime as a single unit.</span></span> <span data-ttu-id="8cef2-110">Por padrão, quando um aplicativo é iniciado, todas as referências a tipos no código são executadas pelo tempo de execução são direcionadas para .NET Framework assemblies que têm o mesmo número de versão que o tempo de execução que é carregado em um processo.</span><span class="sxs-lookup"><span data-stu-id="8cef2-110">By default, when an app is launched, all references to types in code run by the runtime are directed to .NET Framework assemblies that have the same version number as the runtime that is loaded in a process.</span></span> <span data-ttu-id="8cef2-111">Os redirecionamentos que ocorrem com esse modelo são o comportamento padrão para o tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="8cef2-111">The redirections that occur with this model are the default behavior for the runtime.</span></span>

 <span data-ttu-id="8cef2-112">Por exemplo, se seu aplicativo referencia tipos no namespace System. XML e foi criado usando o .NET Framework 4,5, ele contém referências estáticas ao assembly System. XML que é fornecido com a versão 4,5 do tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="8cef2-112">For example, if your app references types in the System.XML namespace and was built by using the .NET Framework 4.5, it contains static references to the System.XML assembly that ships with runtime version 4.5.</span></span> <span data-ttu-id="8cef2-113">Se você quiser redirecionar a referência de associação para apontar para o assembly System. XML que acompanha o .NET Framework 4, você pode colocar as informações de redirecionamento no arquivo de configuração do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8cef2-113">If you want to redirect the binding reference to point to the System.XML assembly that ship with the .NET Framework 4, you can put redirect information in the app configuration file.</span></span> <span data-ttu-id="8cef2-114">Um redirecionamento de associação em um arquivo de configuração para um assembly de .NET Framework unificado cancela a unificação desse assembly.</span><span class="sxs-lookup"><span data-stu-id="8cef2-114">A binding redirection in a configuration file for a unified .NET Framework assembly cancels the unification for that assembly.</span></span>

 <span data-ttu-id="8cef2-115">Além disso, talvez você queira redirecionar manualmente a associação de assembly para assemblies de terceiros se houver várias versões disponíveis.</span><span class="sxs-lookup"><span data-stu-id="8cef2-115">In addition, you may want to manually redirect assembly binding for third-party assemblies if there are multiple versions available.</span></span>

<a name="BKMK_Redirectingassemblyversionsbyusingpublisherpolicy"></a>
## <a name="redirecting-assembly-versions-by-using-publisher-policy"></a><span data-ttu-id="8cef2-116">Redirecionando versões de assembly usando a política do Publicador</span><span class="sxs-lookup"><span data-stu-id="8cef2-116">Redirecting assembly versions by using publisher policy</span></span>
 <span data-ttu-id="8cef2-117">Os fornecedores de assemblies podem direcionar aplicativos para uma versão mais recente de um assembly, incluindo um arquivo de política do Publicador com o novo assembly.</span><span class="sxs-lookup"><span data-stu-id="8cef2-117">Vendors of assemblies can direct apps to a newer version of an assembly by including a publisher policy file with the new assembly.</span></span> <span data-ttu-id="8cef2-118">O arquivo de política do Publicador, localizado no cache de assembly global, contém configurações de redirecionamento de assembly.</span><span class="sxs-lookup"><span data-stu-id="8cef2-118">The publisher policy file, which is located in the global assembly cache, contains assembly redirection settings.</span></span>

 <span data-ttu-id="8cef2-119">Cada uma das *principais*. a versão *secundária* de um assembly tem seu próprio arquivo de política de editor.</span><span class="sxs-lookup"><span data-stu-id="8cef2-119">Each *major*.*minor* version of an assembly has its own publisher policy file.</span></span> <span data-ttu-id="8cef2-120">Por exemplo, redirecionamentos da versão 2.0.2.222 para 2.0.3.000 e da versão 2.0.2.321 para a versão 2.0.3.000 vão para o mesmo arquivo, pois eles estão associados à versão 2,0.</span><span class="sxs-lookup"><span data-stu-id="8cef2-120">For example, redirections from version 2.0.2.222 to 2.0.3.000 and from version 2.0.2.321 to version 2.0.3.000 both go into the same file, because they are associated with version 2.0.</span></span> <span data-ttu-id="8cef2-121">No entanto, um redirecionamento da versão 3.0.0.999 para a versão 4.0.0.000 entra no arquivo para a versão 3.0.999.</span><span class="sxs-lookup"><span data-stu-id="8cef2-121">However, a redirection from version 3.0.0.999 to version 4.0.0.000 goes into the file for version 3.0.999.</span></span> <span data-ttu-id="8cef2-122">Cada versão principal do .NET Framework tem seu próprio arquivo de política de editor.</span><span class="sxs-lookup"><span data-stu-id="8cef2-122">Each major version of the .NET Framework has its own publisher policy file.</span></span>

 <span data-ttu-id="8cef2-123">Se um arquivo de política do Publicador existir para um assembly, o tempo de execução verificará esse arquivo depois de verificar o manifesto do assembly e o arquivo de configuração do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8cef2-123">If a publisher policy file exists for an assembly, the runtime checks this file after checking the assembly's manifest and app configuration file.</span></span> <span data-ttu-id="8cef2-124">Os fornecedores devem usar arquivos de política do Publicador somente quando o novo assembly for compatível com versões anteriores com o assembly sendo redirecionado.</span><span class="sxs-lookup"><span data-stu-id="8cef2-124">Vendors should use publisher policy files only when the new assembly is backward compatible with the assembly being redirected.</span></span>

 <span data-ttu-id="8cef2-125">Você pode ignorar a política do Publicador para seu aplicativo especificando as configurações no arquivo de configuração do aplicativo, conforme discutido na [seção ignorando a política do editor](#bypass_PP).</span><span class="sxs-lookup"><span data-stu-id="8cef2-125">You can bypass publisher policy for your app by specifying settings in the app configuration file, as discussed in the [Bypassing publisher policy section](#bypass_PP).</span></span>

<a name="BKMK_Redirectingassemblyversionsattheapplevel"></a>
## <a name="redirecting-assembly-versions-at-the-app-level"></a><span data-ttu-id="8cef2-126">Redirecionando versões de assembly no nível do aplicativo</span><span class="sxs-lookup"><span data-stu-id="8cef2-126">Redirecting assembly versions at the app level</span></span>
 <span data-ttu-id="8cef2-127">Há algumas técnicas diferentes para alterar o comportamento de associação para seu aplicativo por meio do arquivo de configuração de aplicativo: você pode editar o arquivo manualmente, você pode contar com o redirecionamento de associação automática ou pode especificar o comportamento de associação ignorando a política do Publicador.</span><span class="sxs-lookup"><span data-stu-id="8cef2-127">There are a few different techniques for changing the binding behavior for your app through the app configuration file: you can manually edit the file, you can rely on automatic binding redirection, or you can specify binding behavior by bypassing publisher policy.</span></span>

### <a name="manually-editing-the-app-config-file"></a><span data-ttu-id="8cef2-128">Editando manualmente o arquivo de configuração do aplicativo</span><span class="sxs-lookup"><span data-stu-id="8cef2-128">Manually editing the app config file</span></span>
 <span data-ttu-id="8cef2-129">Você pode editar manualmente o arquivo de configuração de aplicativo para resolver problemas de assembly.</span><span class="sxs-lookup"><span data-stu-id="8cef2-129">You can manually edit the app configuration file to resolve assembly issues.</span></span> <span data-ttu-id="8cef2-130">Por exemplo, se um fornecedor puder liberar uma versão mais recente de um assembly que seu aplicativo usa sem fornecer uma política de Publicador, porque eles não garantem a compatibilidade com versões anteriores, você pode direcionar seu aplicativo para usar a versão mais recente do assembly colocando assembly associando informações no arquivo de configuração do aplicativo da seguinte maneira.</span><span class="sxs-lookup"><span data-stu-id="8cef2-130">For example, if a vendor might release a newer version of an assembly that your app uses without supplying a publisher policy, because they do not guarantee backward compatibility, you can direct your app to use the newer version of the assembly by putting assembly binding information in your app's configuration file as follows.</span></span>

```xml
<dependentAssembly>
  <assemblyIdentity name="someAssembly"
    publicKeyToken="32ab4ba45e0a69a1"
    culture="en-us" />
  <bindingRedirect oldVersion="7.0.0.0" newVersion="8.0.0.0" />
</dependentAssembly>
```

### <a name="relying-on-automatic-binding-redirection"></a><span data-ttu-id="8cef2-131">Contando com o redirecionamento de associação automática</span><span class="sxs-lookup"><span data-stu-id="8cef2-131">Relying on automatic binding redirection</span></span>

<span data-ttu-id="8cef2-132">Quando você cria um aplicativo de área de trabalho no Visual Studio que tem como alvo o .NET Framework 4.5.1 ou uma versão posterior, o aplicativo usa o redirecionamento de associação automática.</span><span class="sxs-lookup"><span data-stu-id="8cef2-132">When you create a desktop app in Visual Studio that targets the .NET Framework 4.5.1 or a later version, the app uses automatic binding redirection.</span></span> <span data-ttu-id="8cef2-133">Isso significa que, se dois componentes fizerem referência a versões diferentes do mesmo assembly de nome forte, o tempo de execução adicionará automaticamente um redirecionamento de associação à versão mais recente do assembly no arquivo de configuração do aplicativo de saída (App. config).</span><span class="sxs-lookup"><span data-stu-id="8cef2-133">This means that if two components reference different versions of the same strong-named assembly, the runtime automatically adds a binding redirection to the newer version of the assembly in the output app configuration (app.config) file.</span></span> <span data-ttu-id="8cef2-134">Esse redirecionamento substitui a Unificação de assembly que, de outra forma, poderia ocorrer.</span><span class="sxs-lookup"><span data-stu-id="8cef2-134">This redirection overrides the assembly unification that might otherwise take place.</span></span> <span data-ttu-id="8cef2-135">O arquivo de origem app.config não é modificado.</span><span class="sxs-lookup"><span data-stu-id="8cef2-135">The source app.config file is not modified.</span></span> <span data-ttu-id="8cef2-136">Por exemplo, digamos que seu aplicativo faça referência diretamente a um componente de .NET Framework fora de banda, mas usa uma biblioteca de terceiros que se destina a uma versão mais antiga do mesmo componente.</span><span class="sxs-lookup"><span data-stu-id="8cef2-136">For example, let's say that your app directly references an out-of-band .NET Framework component but uses a third-party library that targets an older version of the same component.</span></span> <span data-ttu-id="8cef2-137">Quando você compila o aplicativo, o arquivo de configuração do aplicativo de saída é modificado para conter um redirecionamento de associação para a versão mais recente do componente.</span><span class="sxs-lookup"><span data-stu-id="8cef2-137">When you compile the app, the output app configuration file is modified to contain a binding redirection to the newer version of the component.</span></span> <span data-ttu-id="8cef2-138">Se você criar um aplicativo Web, receberá um aviso de compilação sobre o conflito de associação que, por sua vez, oferecerá a opção de adicionar o redirecionamento de associação necessário ao arquivo de configuração da Web de origem.</span><span class="sxs-lookup"><span data-stu-id="8cef2-138">If you create a web app, you receive a build warning regarding the binding conflict, which in turn, gives you the option to add the necessary binding redirect to the source web configuration file.</span></span>

<span data-ttu-id="8cef2-139">Se você adicionar manualmente os redirecionamentos de associação ao arquivo app. config de origem, no momento da compilação, o Visual Studio tentará unificar os assemblies com base nos redirecionamentos de associação adicionados.</span><span class="sxs-lookup"><span data-stu-id="8cef2-139">If you manually add binding redirects to the source app.config file, at compile time, Visual Studio tries to unify the assemblies based on the binding redirects you added.</span></span> <span data-ttu-id="8cef2-140">Por exemplo, digamos que você insira o redirecionamento de associação a seguir para um assembly:</span><span class="sxs-lookup"><span data-stu-id="8cef2-140">For example, let's say you insert the following binding redirect for an assembly:</span></span>

`<bindingRedirect oldVersion="3.0.0.0" newVersion="2.0.0.0" />`

<span data-ttu-id="8cef2-141">Se outro projeto em seu aplicativo fizer referência à versão 1.0.0.0 do mesmo assembly, o redirecionamento de associação automático adicionará a seguinte entrada ao arquivo app. config de saída para que o aplicativo seja unificado na versão 2.0.0.0 deste assembly:</span><span class="sxs-lookup"><span data-stu-id="8cef2-141">If another project in your app references version 1.0.0.0 of the same assembly, automatic binding redirection adds the following entry to the output app.config file so that the app is unified on version 2.0.0.0 of this assembly:</span></span>

`<bindingRedirect oldVersion="1.0.0.0" newVersion="2.0.0.0" />`

<span data-ttu-id="8cef2-142">Você pode habilitar o redirecionamento de associação automática se seu aplicativo for destinado a versões mais antigas do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8cef2-142">You can enable automatic binding redirection if your app targets older versions of the .NET Framework.</span></span> <span data-ttu-id="8cef2-143">Você pode substituir esse comportamento padrão fornecendo informações de redirecionamento de associação no arquivo app. config para qualquer assembly ou desativando o recurso de redirecionamento de associação.</span><span class="sxs-lookup"><span data-stu-id="8cef2-143">You can override this default behavior by providing binding redirection information in the app.config file for any assembly, or by turning off the binding redirection feature.</span></span> <span data-ttu-id="8cef2-144">Para obter informações sobre como ativar ou desativar esse recurso, consulte [como: Habilitar e desabilitar o redirecionamento automático de associação](how-to-enable-and-disable-automatic-binding-redirection.md).</span><span class="sxs-lookup"><span data-stu-id="8cef2-144">For information about how to turn this feature on or off, see [How to: Enable and Disable Automatic Binding Redirection](how-to-enable-and-disable-automatic-binding-redirection.md).</span></span>

<a name="bypass_PP"></a>
### <a name="bypassing-publisher-policy"></a><span data-ttu-id="8cef2-145">Ignorando a política do Publicador</span><span class="sxs-lookup"><span data-stu-id="8cef2-145">Bypassing publisher policy</span></span>
 <span data-ttu-id="8cef2-146">Você pode substituir a política do Publicador no arquivo de configuração do aplicativo, se necessário.</span><span class="sxs-lookup"><span data-stu-id="8cef2-146">You can override publisher policy in the app configuration file if necessary.</span></span> <span data-ttu-id="8cef2-147">Por exemplo, novas versões de assemblies que alegam ser compatíveis com versões anteriores ainda podem interromper um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8cef2-147">For example, new versions of assemblies that claim to be backward compatible can still break an app.</span></span> <span data-ttu-id="8cef2-148">Se você quiser ignorar a política do editor, adicione um [ \<elemento publisherPolicy Apply >](./file-schema/runtime/publisherpolicy-element.md) ao [ \<elemento dependentAssembly >](./file-schema/runtime/dependentassembly-element.md) no arquivo de configuração do aplicativo e defina o atributo **aplicar** como **não**, que Substitui as configurações **Sim** anteriores.</span><span class="sxs-lookup"><span data-stu-id="8cef2-148">If you want to bypass publisher policy, add a [\<publisherPolicy>](./file-schema/runtime/publisherpolicy-element.md) element to the [\<dependentAssembly>](./file-schema/runtime/dependentassembly-element.md) element in the app configuration file, and set the **apply** attribute to **no**, which overrides any previous **yes** settings.</span></span>

 `<publisherPolicy apply="no" />`

 <span data-ttu-id="8cef2-149">Ignore a política do editor para manter seu aplicativo em execução para seus usuários, mas certifique-se de relatar o problema para o fornecedor do assembly.</span><span class="sxs-lookup"><span data-stu-id="8cef2-149">Bypass publisher policy to keep your app running for your users, but make sure you report the problem to the assembly vendor.</span></span> <span data-ttu-id="8cef2-150">Se um assembly tiver um arquivo de política do Publicador, o fornecedor deverá garantir que o assembly seja compatível com versões anteriores e que os clientes possam usar a nova versão o máximo possível.</span><span class="sxs-lookup"><span data-stu-id="8cef2-150">If an assembly has a publisher policy file, the vendor should make sure that the assembly is backward compatible and that clients can use the new version as much as possible.</span></span>

<a name="BKMK_Redirectingassemblyversionsatthemachinelevel"></a>
## <a name="redirecting-assembly-versions-at-the-machine-level"></a><span data-ttu-id="8cef2-151">Redirecionando versões de assembly no nível do computador</span><span class="sxs-lookup"><span data-stu-id="8cef2-151">Redirecting assembly versions at the machine level</span></span>
 <span data-ttu-id="8cef2-152">Pode haver casos raros em que um administrador de máquina deseja que todos os aplicativos em um computador usem uma versão específica de um assembly.</span><span class="sxs-lookup"><span data-stu-id="8cef2-152">There might be rare cases when a machine administrator wants all apps on a computer to use a specific version of an assembly.</span></span> <span data-ttu-id="8cef2-153">Por exemplo, o administrador pode querer que todos os aplicativos usem uma versão de assembly específica, pois essa versão corrige uma brecha de segurança.</span><span class="sxs-lookup"><span data-stu-id="8cef2-153">For example, the administrator might want every app to use a particular assembly version, because that version fixes a security hole.</span></span> <span data-ttu-id="8cef2-154">Se um assembly for redirecionado no arquivo de configuração da máquina, todos os aplicativos nesse computador que usam a versão antiga serão direcionados para usar a nova versão.</span><span class="sxs-lookup"><span data-stu-id="8cef2-154">If an assembly is redirected in the machine's configuration file, all apps on that machine that use the old version will be directed to use the new version.</span></span> <span data-ttu-id="8cef2-155">O arquivo de configuração do computador substitui o arquivo de configuração do aplicativo e o arquivo de política do Publicador.</span><span class="sxs-lookup"><span data-stu-id="8cef2-155">The machine configuration file overrides the app configuration file and the publisher policy file.</span></span> <span data-ttu-id="8cef2-156">Esse arquivo está localizado no diretório %*runtime install path*%\Config.</span><span class="sxs-lookup"><span data-stu-id="8cef2-156">This file is located in the %*runtime install path*%\Config directory.</span></span> <span data-ttu-id="8cef2-157">Normalmente, o .NET Framework é instalado no diretório%drive%\Windows\Microsoft.NET\Framework</span><span class="sxs-lookup"><span data-stu-id="8cef2-157">Typically, the .NET Framework is installed in the %drive%\Windows\Microsoft.NET\Framework directory.</span></span>

<a name="BKMK_Specifyingassemblybindinginconfigurationfiles"></a>
## <a name="specifying-assembly-binding-in-configuration-files"></a><span data-ttu-id="8cef2-158">Especificando a associação de assembly em arquivos de configuração</span><span class="sxs-lookup"><span data-stu-id="8cef2-158">Specifying assembly binding in configuration files</span></span>
 <span data-ttu-id="8cef2-159">Você usa o mesmo formato XML para especificar redirecionamentos de associação, seja no arquivo de configuração do aplicativo, no arquivo de configuração do computador ou no arquivo de política do Publicador.</span><span class="sxs-lookup"><span data-stu-id="8cef2-159">You use the same XML format to specify binding redirects whether it’s in the app configuration file, the machine configuration file, or the publisher policy file.</span></span> <span data-ttu-id="8cef2-160">Para redirecionar uma versão de assembly para outra, use o [ \<elemento bindingRedirect >](./file-schema/runtime/bindingredirect-element.md) .</span><span class="sxs-lookup"><span data-stu-id="8cef2-160">To redirect one assembly version to another, use the [\<bindingRedirect>](./file-schema/runtime/bindingredirect-element.md) element.</span></span> <span data-ttu-id="8cef2-161">O atributo **OldVersion** pode especificar uma única versão de assembly ou um intervalo de versões.</span><span class="sxs-lookup"><span data-stu-id="8cef2-161">The **oldVersion** attribute can specify a single assembly version or a range of versions.</span></span> <span data-ttu-id="8cef2-162">O `newVersion` atributo deve especificar uma única versão.</span><span class="sxs-lookup"><span data-stu-id="8cef2-162">The `newVersion` attribute should specify a single version.</span></span>  <span data-ttu-id="8cef2-163">Por exemplo, `<bindingRedirect oldVersion="1.1.0.0-1.2.0.0" newVersion="2.0.0.0"/>` especifica que o tempo de execução deve usar a versão 2.0.0.0 em vez das versões de assembly entre 1.1.0.0 e 1.2.0.0.</span><span class="sxs-lookup"><span data-stu-id="8cef2-163">For example, `<bindingRedirect oldVersion="1.1.0.0-1.2.0.0" newVersion="2.0.0.0"/>` specifies that the runtime should use version 2.0.0.0 instead of the assembly versions between 1.1.0.0 and 1.2.0.0.</span></span>

 <span data-ttu-id="8cef2-164">O exemplo de código a seguir demonstra uma variedade de cenários de redirecionamento de associação.</span><span class="sxs-lookup"><span data-stu-id="8cef2-164">The following code example demonstrates a variety of binding redirect scenarios.</span></span> <span data-ttu-id="8cef2-165">O exemplo especifica um redirecionamento para um intervalo de `myAssembly`versões para, e um único redirecionamento de associação para. `mySecondAssembly`</span><span class="sxs-lookup"><span data-stu-id="8cef2-165">The example specifies a redirect for a range of versions for `myAssembly`, and a single binding redirect for `mySecondAssembly`.</span></span> <span data-ttu-id="8cef2-166">O exemplo também especifica que o arquivo de política do Publicador não substituirá os redirecionamentos de associação para `myThirdAssembly`.</span><span class="sxs-lookup"><span data-stu-id="8cef2-166">The example also specifies that publisher policy file will not override the binding redirects for `myThirdAssembly`.</span></span>

 <span data-ttu-id="8cef2-167">Para associar um assembly, você deve especificar a cadeia de caracteres "urn: schemas-microsoft-com: asm. v1" com o atributo **xmlns** na marca de [ \<> assemblyBinding](./file-schema/runtime/assemblybinding-element-for-runtime.md) .</span><span class="sxs-lookup"><span data-stu-id="8cef2-167">To bind an assembly, you must specify the string "urn:schemas-microsoft-com:asm.v1" with the **xmlns** attribute in the [\<assemblyBinding>](./file-schema/runtime/assemblybinding-element-for-runtime.md) tag.</span></span>

```xml
<configuration>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="myAssembly"
          publicKeyToken="32ab4ba45e0a69a1"
          culture="en-us" />
        <!-- Assembly versions can be redirected in app,
          publisher policy, or machine configuration files. -->
        <bindingRedirect oldVersion="1.0.0.0-2.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
  <dependentAssembly>
        <assemblyIdentity name="mySecondAssembly"
          publicKeyToken="32ab4ba45e0a69a1"
          culture="en-us" />
             <bindingRedirect oldVersion="1.0.0.0" newVersion="2.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
      <assemblyIdentity name="myThirdAssembly"
        publicKeyToken="32ab4ba45e0a69a1"
        culture="en-us" />
        <!-- Publisher policy can be set only in the app
          configuration file. -->
        <publisherPolicy apply="no" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
</configuration>
```

### <a name="limiting-assembly--bindings-to-a-specific-version"></a><span data-ttu-id="8cef2-168">Limitando associações de assembly a uma versão específica</span><span class="sxs-lookup"><span data-stu-id="8cef2-168">Limiting assembly  bindings to a specific version</span></span>
 <span data-ttu-id="8cef2-169">Você pode usar o atributo **AppliesTo** no [ \<](./file-schema/runtime/assemblybinding-element-for-runtime.md) elemento de > assemblyBinding em um arquivo de configuração de aplicativo para redirecionar referências de associação de assembly para uma versão específica do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8cef2-169">You can use the **appliesTo** attribute on the [\<assemblyBinding>](./file-schema/runtime/assemblybinding-element-for-runtime.md) element in an app configuration file to redirect assembly binding references to a specific version of the .NET Framework.</span></span> <span data-ttu-id="8cef2-170">Esse atributo opcional usa um número de versão .NET Framework para indicar a qual versão ele se aplica.</span><span class="sxs-lookup"><span data-stu-id="8cef2-170">This optional attribute uses a .NET Framework version number to indicate what version it applies to.</span></span> <span data-ttu-id="8cef2-171">Se nenhum atributo **appliesTo** for especificado, o elemento [\<assemblyBinding>](./file-schema/runtime/assemblybinding-element-for-runtime.md) se aplica a todas as versões do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8cef2-171">If no **appliesTo** attribute is specified, the [\<assemblyBinding>](./file-schema/runtime/assemblybinding-element-for-runtime.md) element applies to all versions of the .NET Framework.</span></span>

 <span data-ttu-id="8cef2-172">Por exemplo, para redirecionar a associação de assembly para um assembly .NET Framework 3,5, você incluiria o seguinte código XML em seu arquivo de configuração de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8cef2-172">For example, to redirect assembly binding for a .NET Framework 3.5 assembly, you would include the following XML code in your app configuration file.</span></span>

```xml
<runtime>
  <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1"
    appliesTo="v3.5">
    <dependentAssembly>
      <!-- assembly information goes here -->
    </dependentAssembly>
  </assemblyBinding>
</runtime>
```

 <span data-ttu-id="8cef2-173">Você deve inserir informações de redirecionamento na ordem de versão.</span><span class="sxs-lookup"><span data-stu-id="8cef2-173">You should enter redirection information in version order.</span></span> <span data-ttu-id="8cef2-174">Por exemplo, insira informações de redirecionamento de associação de assembly para assemblies .NET Framework 3,5 seguidos por assemblies de .NET Framework 4,5.</span><span class="sxs-lookup"><span data-stu-id="8cef2-174">For example, enter assembly binding redirection information for .NET Framework 3.5 assemblies followed by .NET Framework 4.5 assemblies.</span></span> <span data-ttu-id="8cef2-175">Por fim, insira as informações de redirecionamento de associação de assembly para qualquer redirecionamento de assembly do .NET Framework que não use o atributo **appliesTo** e, portanto, se aplica a todas as versões do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8cef2-175">Finally, enter assembly binding redirection information for any .NET Framework assembly redirection that does not use the **appliesTo** attribute and therefore applies to all versions of the .NET Framework.</span></span> <span data-ttu-id="8cef2-176">Se houver um conflito no redirecionamento, a primeira instrução de redirecionamento correspondente no arquivo de configuração será usada.</span><span class="sxs-lookup"><span data-stu-id="8cef2-176">If there is a conflict in redirection, the first matching redirection statement in the configuration file is used.</span></span>

 <span data-ttu-id="8cef2-177">Por exemplo, para redirecionar uma referência a um assembly .NET Framework 3,5 e outra referência a um assembly .NET Framework 4, use o padrão mostrado no pseudocódigo a seguir.</span><span class="sxs-lookup"><span data-stu-id="8cef2-177">For example, to redirect one reference to a .NET Framework 3.5 assembly and another reference to a .NET Framework 4 assembly, use the pattern shown in the following pseudocode.</span></span>

```xml
<assemblyBinding xmlns="..." appliesTo="v3.5 ">
  <!--.NET Framework version 3.5 redirects here -->
</assemblyBinding>

<assemblyBinding xmlns="..." appliesTo="v4.0.30319">
  <!--.NET Framework version 4.0 redirects here -->
</assemblyBinding>

<assemblyBinding xmlns="...">
  <!-- redirects meant for all versions of the runtime -->
</assemblyBinding>
```

## <a name="see-also"></a><span data-ttu-id="8cef2-178">Consulte também</span><span class="sxs-lookup"><span data-stu-id="8cef2-178">See also</span></span>

- [<span data-ttu-id="8cef2-179">Como: Habilitar e desabilitar o redirecionamento automático de associações</span><span class="sxs-lookup"><span data-stu-id="8cef2-179">How to: Enable and Disable Automatic Binding Redirection</span></span>](how-to-enable-and-disable-automatic-binding-redirection.md)
- [<span data-ttu-id="8cef2-180">\<Elemento > bindingRedirect</span><span class="sxs-lookup"><span data-stu-id="8cef2-180">\<bindingRedirect> Element</span></span>](./file-schema/runtime/bindingredirect-element.md)
- [<span data-ttu-id="8cef2-181">Permissão de segurança para redirecionamento de associações de assemblies</span><span class="sxs-lookup"><span data-stu-id="8cef2-181">Assembly Binding Redirection Security Permission</span></span>](assembly-binding-redirection-security-permission.md)
- [<span data-ttu-id="8cef2-182">Assemblies no Common Language Runtime</span><span class="sxs-lookup"><span data-stu-id="8cef2-182">Assemblies in the Common Language Runtime</span></span>](../app-domains/assemblies-in-the-common-language-runtime.md)
- [<span data-ttu-id="8cef2-183">Programação com assemblies</span><span class="sxs-lookup"><span data-stu-id="8cef2-183">Programming with Assemblies</span></span>](../app-domains/programming-with-assemblies.md)
- [<span data-ttu-id="8cef2-184">Como o tempo de execução localiza assemblies</span><span class="sxs-lookup"><span data-stu-id="8cef2-184">How the Runtime Locates Assemblies</span></span>](../deployment/how-the-runtime-locates-assemblies.md)
- [<span data-ttu-id="8cef2-185">Configurando aplicativos</span><span class="sxs-lookup"><span data-stu-id="8cef2-185">Configuring Apps</span></span>](index.md)
- [<span data-ttu-id="8cef2-186">Esquema de configurações do tempo de execução</span><span class="sxs-lookup"><span data-stu-id="8cef2-186">Runtime Settings Schema</span></span>](./file-schema/runtime/index.md)
- [<span data-ttu-id="8cef2-187">Esquema de arquivos de configuração</span><span class="sxs-lookup"><span data-stu-id="8cef2-187">Configuration File Schema</span></span>](./file-schema/index.md)
- [<span data-ttu-id="8cef2-188">Como: Criar uma política de Publicador</span><span class="sxs-lookup"><span data-stu-id="8cef2-188">How to: Create a Publisher Policy</span></span>](how-to-create-a-publisher-policy.md)
