---
title: Diretrizes para migrar um aplicativo criado usando o WIF 3.5 para o WIF 4.5
ms.date: 03/30/2017
ms.assetid: 7a32fe6e-5f68-4693-9371-19411fa8063c
author: BrucePerlerMS
manager: mbaldwin
ms.openlocfilehash: 60e9dd96824b2c9bef81d236bab8f577f9fb2062
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/04/2018
ms.locfileid: "33399288"
---
# <a name="guidelines-for-migrating-an-application-built-using-wif-35-to-wif-45"></a><span data-ttu-id="558f2-102">Diretrizes para migrar um aplicativo criado usando o WIF 3.5 para o WIF 4.5</span><span class="sxs-lookup"><span data-stu-id="558f2-102">Guidelines for Migrating an Application Built Using WIF 3.5 to WIF 4.5</span></span>
## <a name="applies-to"></a><span data-ttu-id="558f2-103">Aplica-se a</span><span class="sxs-lookup"><span data-stu-id="558f2-103">Applies To</span></span>  
  
-   <span data-ttu-id="558f2-104">Microsoft® Windows® Identity Foundation (WIF) 3.5 e 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-104">Microsoft® Windows® Identity Foundation (WIF) 3.5 and 4.5.</span></span>  
  
## <a name="overview"></a><span data-ttu-id="558f2-105">Visão geral</span><span class="sxs-lookup"><span data-stu-id="558f2-105">Overview</span></span>  
 <span data-ttu-id="558f2-106">O Windows Identity Foundation (WIF) foi originalmente lançado no período de tempo do .NET 3.5 SP1.</span><span class="sxs-lookup"><span data-stu-id="558f2-106">Windows Identity Foundation (WIF) was originally released in the .NET 3.5 SP1 timeframe.</span></span> <span data-ttu-id="558f2-107">Essa versão do WIF é conhecida como WIF 3.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-107">That version of WIF is referred to as WIF 3.5.</span></span> <span data-ttu-id="558f2-108">Ele foi lançado como um tempo de execução e SDK separados, o que significa que cada computador no qual um aplicativo habilitado para o WIF estava em execução precisava ter o tempo de execução WIF instalado e os desenvolvedores precisavam baixar e instalar o SDK do WIF para obter os modelos do Visual Studio e as ferramentas que habilitavam o desenvolvimento de aplicativos habilitados para o WIF.</span><span class="sxs-lookup"><span data-stu-id="558f2-108">It was released as a separate runtime and SDK, which meant that every computer on which a WIF-enabled application ran had to have the WIF runtime installed and developers had to download and install the WIF SDK to get the Visual Studio templates and tooling that enabled development of WIF-enabled applications.</span></span> <span data-ttu-id="558f2-109">A partir do .NET 4.5 o WIF foi totalmente integrado ao .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="558f2-109">Beginning with .NET 4.5, WIF has been fully integrated into the .NET Framework.</span></span> <span data-ttu-id="558f2-110">Um tempo de execução separado não é mais necessário e as ferramentas do WIF podem ser instaladas no Visual Studio 2012 usando o Visual Studio Extensions Manager.</span><span class="sxs-lookup"><span data-stu-id="558f2-110">A separate runtime is no longer needed and the WIF tooling can be installed in Visual Studio 2012 by using the Visual Studio Extensions Manager.</span></span> <span data-ttu-id="558f2-111">Esta versão do WIF é conhecida como WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-111">This version of WIF is referred to as WIF 4.5.</span></span>  
  
 <span data-ttu-id="558f2-112">A integração do WIF no .NET precisava de várias alterações na superfície da API do WIF.</span><span class="sxs-lookup"><span data-stu-id="558f2-112">The integration of WIF into .NET necessitated several changes in the WIF API surface.</span></span> <span data-ttu-id="558f2-113">O WIF 4.5 inclui novos namespaces, algumas alterações em elementos de configuração e novas ferramentas para Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="558f2-113">WIF 4.5 includes new namespaces, some changes to configuration elements, and new tooling for Visual Studio.</span></span> <span data-ttu-id="558f2-114">Este tópico fornece diretrizes que você pode usar para ajudá-lo a migrar aplicativos criados usando o WIF 3.5 para o WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-114">This topic provides guidance that you can use to help you migrate applications built using WIF 3.5 to WIF 4.5.</span></span> <span data-ttu-id="558f2-115">Podem haver situações nas quais você precisa executar aplicativos herdados, criados usando o WIF 3.5 em computadores que executam o Windows 8 ou o Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="558f2-115">There may be scenarios in which you need to run legacy applications built using WIF 3.5 on computers that are running Windows 8 or Windows Server 2012.</span></span> <span data-ttu-id="558f2-116">Este tópico também fornece orientação sobre como habilitar o WIF 3.5 para esses sistemas operacionais.</span><span class="sxs-lookup"><span data-stu-id="558f2-116">This topic also provides guidance about how to enable WIF 3.5 for these operating systems.</span></span>  
  
## <a name="changes-required-for-wif-45"></a><span data-ttu-id="558f2-117">Alterações necessárias para o WIF 4.5</span><span class="sxs-lookup"><span data-stu-id="558f2-117">Changes Required for WIF 4.5</span></span>  
 <span data-ttu-id="558f2-118">Esta seção descreve as alterações que são necessárias para migrar um aplicativo WIF 3.5 para o WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-118">This section describes the changes that are required to migrate a WIF 3.5 application to WIF 4.5.</span></span>  
  
### <a name="assembly-and-namespace-changes"></a><span data-ttu-id="558f2-119">Alterações de namespace e assembly</span><span class="sxs-lookup"><span data-stu-id="558f2-119">Assembly and Namespace Changes</span></span>  
 <span data-ttu-id="558f2-120">O WIF 3.5, todas as classes do WIF estavam contidas no assembly `Microsoft.IdentityModel` (microsoft.identitymicrosoft.identitymodel.dll).</span><span class="sxs-lookup"><span data-stu-id="558f2-120">In WIF 3.5, all of the WIF classes were contained in the `Microsoft.IdentityModel` assembly (microsoft.identitymicrosoft.identitymodel.dll).</span></span> <span data-ttu-id="558f2-121">No WIF 4.5, as classes WIF foram divididas entre os seguintes assemblies: `mscorlib` (mscorlib. dll), `System.IdentityModel` (System.IdentityModel.dll) `System.IdentityModel.Services` (System.IdentityModel.Services.dll) e `System.ServiceModel` (System.ServiceModel.dll).</span><span class="sxs-lookup"><span data-stu-id="558f2-121">In WIF 4.5, the WIF classes have been split across the following assemblies: `mscorlib` (mscorlib.dll), `System.IdentityModel` (System.IdentityModel.dll), `System.IdentityModel.Services` (System.IdentityModel.Services.dll), and `System.ServiceModel` (System.ServiceModel.dll).</span></span>  
  
 <span data-ttu-id="558f2-122">As classes do WIF 3.5 estavam contidas em um dos namespaces `Microsoft.IdentityModel`; por exemplo, `Microsoft.IdentityModel`, `Microsoft.IdentityModel.Tokens`, `Microsoft.IdentityModel.Web` e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="558f2-122">The WIF 3.5 classes were all contained in one of the `Microsoft.IdentityModel` namespaces; for example, `Microsoft.IdentityModel`, `Microsoft.IdentityModel.Tokens`, `Microsoft.IdentityModel.Web`, and so on.</span></span> <span data-ttu-id="558f2-123">No WIF 4.5, as classes do WIF agora são distribuídas entre o namespaces [System.IdentityModel](http://go.microsoft.com/fwlink/?LinkId=272004), o namespace <xref:System.Security.Claims?displayProperty=nameWithType> e o namespace <xref:System.ServiceModel.Security?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="558f2-123">In WIF 4.5, the WIF classes are now spread across the [System.IdentityModel](http://go.microsoft.com/fwlink/?LinkId=272004) namespaces, the <xref:System.Security.Claims?displayProperty=nameWithType> namespace, and the <xref:System.ServiceModel.Security?displayProperty=nameWithType> namespace.</span></span> <span data-ttu-id="558f2-124">Além dessa reorganização, algumas classes do WIF 3.5 foram descartadas no WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-124">In addition to this reorganization, some WIF 3.5 classes have been dropped in WIF 4.5.</span></span>  
  
 <span data-ttu-id="558f2-125">A tabela a seguir mostra alguns dos mais importantes namespaces do WIF 4.5 e o tipo de classes que eles contêm.</span><span class="sxs-lookup"><span data-stu-id="558f2-125">The following table shows some of the more important WIF 4.5 namespaces and the kind of classes they contain.</span></span> <span data-ttu-id="558f2-126">Para obter mais informações sobre como os namespaces fazem o mapeamento entre o WIF 3.5 e o WIF 4.5 e sobre namespaces e classes que foram descartados no WIF 4.5, consulte [Mapeamento de namespace entre WIF 3.5 e WIF 4.5](../../../docs/framework/security/namespace-mapping-between-wif-3-5-and-wif-4-5.md).</span><span class="sxs-lookup"><span data-stu-id="558f2-126">For more detailed information about how namespaces map between WIF 3.5 and WIF 4.5 and about namespaces and classes that have been dropped in WIF 4.5, see [Namespace Mapping between WIF 3.5 and WIF 4.5](../../../docs/framework/security/namespace-mapping-between-wif-3-5-and-wif-4-5.md).</span></span>  
  
|<span data-ttu-id="558f2-127">Namespace do WIF 4.5</span><span class="sxs-lookup"><span data-stu-id="558f2-127">WIF 4.5 Namespace</span></span>|<span data-ttu-id="558f2-128">Descrição</span><span class="sxs-lookup"><span data-stu-id="558f2-128">Description</span></span>|  
|-----------------------|-----------------|  
|<xref:System.IdentityModel?displayProperty=nameWithType>|<span data-ttu-id="558f2-129">Contém classes que representam as transformações de cookie, serviços de token de segurança e leitores de dicionário XML especializados.</span><span class="sxs-lookup"><span data-stu-id="558f2-129">Contains classes that represent cookie transforms, security token services, and specialized XML dictionary readers.</span></span> <span data-ttu-id="558f2-130">Contém classes dos seguintes namespaces do WIF 3.5: `Microsoft.IdentityModel`, `Microsoft.IdentityModel.SecurityTokenService` e `Microsoft.IdentityModel.Threading`.</span><span class="sxs-lookup"><span data-stu-id="558f2-130">Contains classes from the following WIF 3.5 namespaces: `Microsoft.IdentityModel`, `Microsoft.IdentityModel.SecurityTokenService`, and `Microsoft.IdentityModel.Threading`.</span></span>|  
|<xref:System.Security.Claims?displayProperty=nameWithType>|<span data-ttu-id="558f2-131">Contém classes que representam declarações, identidades baseada em declarações, entidades de segurança baseadas em declarações e outros artefatos de modelo de identidade baseado em declarações.</span><span class="sxs-lookup"><span data-stu-id="558f2-131">Contains classes that represent claims, claims-based identities, claims based principals, and other claims based identity model artifacts.</span></span> <span data-ttu-id="558f2-132">Contém classes do namespace `Microsoft.IdentityModel.Claims`.</span><span class="sxs-lookup"><span data-stu-id="558f2-132">Contains classes from the `Microsoft.IdentityModel.Claims` namespace.</span></span>|  
|<xref:System.IdentityModel.Tokens?displayProperty=nameWithType>|<span data-ttu-id="558f2-133">Contém classes que representam os tokens de segurança, manipuladores de token de segurança e outros artefatos de token de segurança.</span><span class="sxs-lookup"><span data-stu-id="558f2-133">Contains classes that represent security tokens, security token handlers, and other security token artifacts.</span></span> <span data-ttu-id="558f2-134">Contém classes dos seguintes namespaces do WIF 3.5: `Microsoft.IdentityModel.Tokens`, `Microsoft.IdentityModel.Tokens.Saml11` e `Microsoft.IdentityModel.Tokens.Saml2`.</span><span class="sxs-lookup"><span data-stu-id="558f2-134">Contains classes from the following WIF 3.5 namespaces: `Microsoft.IdentityModel.Tokens`, `Microsoft.IdentityModel.Tokens.Saml11`, and `Microsoft.IdentityModel.Tokens.Saml2`.</span></span>|  
|<xref:System.IdentityModel.Services?displayProperty=nameWithType>|<span data-ttu-id="558f2-135">Contém classes que são usadas nos cenários passivos do (WS-Federation).</span><span class="sxs-lookup"><span data-stu-id="558f2-135">Contains classes that are used in passive (WS-Federation) scenarios.</span></span> <span data-ttu-id="558f2-136">Contém classes do namespace `Microsoft.IdentityModel.Web`.</span><span class="sxs-lookup"><span data-stu-id="558f2-136">Contains classes from the `Microsoft.IdentityModel.Web` namespace.</span></span>|  
|<xref:System.ServiceModel.Security?displayProperty=nameWithType>|<span data-ttu-id="558f2-137">Classes que representam os contratos WCF, canais, hosts de serviço e outros artefatos que são usados em cenários de ativos (WS-Trust) agora estão neste namespace.</span><span class="sxs-lookup"><span data-stu-id="558f2-137">Classes that represent WCF contracts, channels, service hosts and other artifacts that are used in active (WS-Trust) scenarios are now in this namespace.</span></span> <span data-ttu-id="558f2-138">No WIF 3.5, essas classes estavam no namespace `Microsoft.IdentityModel.Protocols.WSTrust`.</span><span class="sxs-lookup"><span data-stu-id="558f2-138">In WIF 3.5 , these classes were in the `Microsoft.IdentityModel.Protocols.WSTrust` namespace.</span></span>|  
  
> [!IMPORTANT]
>  <span data-ttu-id="558f2-139">Os seguintes namespaces `System.IdentityModel` contêm classes que implementam o modelo de identidade baseada em declarações do WCF: <xref:System.IdentityModel.Claims?displayProperty=nameWithType>, <xref:System.IdentityModel.Policy?displayProperty=nameWithType> e <xref:System.IdentityModel.Selectors?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="558f2-139">The following `System.IdentityModel` namespaces contain classes that implement the WCF claims-based identity model: <xref:System.IdentityModel.Claims?displayProperty=nameWithType>, <xref:System.IdentityModel.Policy?displayProperty=nameWithType>, and <xref:System.IdentityModel.Selectors?displayProperty=nameWithType>.</span></span> <span data-ttu-id="558f2-140">O modelo de identidade baseada em declarações do WCF é substituído pelo do WIF.</span><span class="sxs-lookup"><span data-stu-id="558f2-140">The WCF claims-based identity model is superseded by WIF.</span></span> <span data-ttu-id="558f2-141">Você não deve usar as classes nesses três namespaces ao criar soluções com base no WIF.</span><span class="sxs-lookup"><span data-stu-id="558f2-141">You should not use classes in these three namespaces when building solutions based on WIF.</span></span>  
  
### <a name="changes-due-to-net-integration"></a><span data-ttu-id="558f2-142">Alterações devido à integração do .NET</span><span class="sxs-lookup"><span data-stu-id="558f2-142">Changes Due to .NET Integration</span></span>  
 <span data-ttu-id="558f2-143">O WIF agora está integrado ao .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="558f2-143">WIF is now integrated into the .NET Framework.</span></span> <span data-ttu-id="558f2-144">A maioria das classes de identidade e de entidade de segurança do .NET agora é derivada <xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> e <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="558f2-144">Most .NET identity and principal classes now derive from <xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> and <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType>.</span></span> <span data-ttu-id="558f2-145">Isso resultados nas seguintes alterações no WIF 4.5:</span><span class="sxs-lookup"><span data-stu-id="558f2-145">The results in the following changes in WIF 4.5:</span></span>  
  
-   <span data-ttu-id="558f2-146">Agora existem classes do WIF que representam declarações, identidades e entidades de segurança no namespace <xref:System.Security.Claims?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="558f2-146">WIF classes that represent claims, identities, and principals now exist in the <xref:System.Security.Claims?displayProperty=nameWithType> namespace.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="558f2-147">O namespace <xref:System.IdentityModel.Claims?displayProperty=nameWithType> contém classes que representam artefatos no modelo de identidade baseada em declarações do WCF.</span><span class="sxs-lookup"><span data-stu-id="558f2-147">The <xref:System.IdentityModel.Claims?displayProperty=nameWithType> namespace contains classes that represent artifacts in the WCF claims-based identity model.</span></span> <span data-ttu-id="558f2-148">Muitas dessas classes possuem nomes que são os mesmos das classes do WIF; por exemplo, `Claims`.</span><span class="sxs-lookup"><span data-stu-id="558f2-148">Many of these classes have names that are the same as WIF classes; for example, `Claims`.</span></span> <span data-ttu-id="558f2-149">Não use essas classes ao criar soluções com base no WIF.</span><span class="sxs-lookup"><span data-stu-id="558f2-149">Do not use these classes when building solutions based on WIF.</span></span>  
  
-   <span data-ttu-id="558f2-150">As classes de identidade e de entidade de segurança do .NET agora são derivadas diretamente de <xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> e <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType>, que representam identidades baseadas em declarações e entidades de segurança.</span><span class="sxs-lookup"><span data-stu-id="558f2-150">.NET identity and principal classes now derive directly from <xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> and <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType>, which represent claims-based identities and principals.</span></span> <span data-ttu-id="558f2-151">Por esse motivo, as interfaces `IClaimsIdentity` e `IClaimsPrincipal` do WIF 3.5 não são mais necessárias e não estão disponíveis no WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-151">For this reason, the WIF 3.5 interfaces `IClaimsIdentity` and `IClaimsPrincipal` are no longer needed and are not available in WIF 4.5.</span></span>  
  
-   <span data-ttu-id="558f2-152">Como as classes de identidade e de entidade de segurança do .NET, como <xref:System.Security.Principal.WindowsIdentity?displayProperty=nameWithType> e <xref:System.Security.Principal.WindowsPrincipal?displayProperty=nameWithType> agora são derivadas de <xref:System.Security.Claims.ClaimsIdentity> e <xref:System.Security.Claims.ClaimsPrincipal>, têm funcionalidade interna de declarações.</span><span class="sxs-lookup"><span data-stu-id="558f2-152">Because.NET identity and principal classes such as <xref:System.Security.Principal.WindowsIdentity?displayProperty=nameWithType> and <xref:System.Security.Principal.WindowsPrincipal?displayProperty=nameWithType> now derive from <xref:System.Security.Claims.ClaimsIdentity> and <xref:System.Security.Claims.ClaimsPrincipal>, they have claims functionality built-in.</span></span> <span data-ttu-id="558f2-153">Por este motivo, as classes de entidade de segurança e de identidade específicas de declarações como `WindowsClaimsIdentity` e `WindowsClaimsPrincipal` que estavam presentes no WIF 3.5 não são mais necessárias e não existem no WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-153">For this reason, claims-specific identity and principal classes such as `WindowsClaimsIdentity` and `WindowsClaimsPrincipal` that were present in WIF 3.5 are no longer needed and do not exist in WIF 4.5.</span></span>  
  
### <a name="other-changes-to-wif-functionality"></a><span data-ttu-id="558f2-154">Outras alterações de funcionalidade do WIF</span><span class="sxs-lookup"><span data-stu-id="558f2-154">Other Changes to WIF Functionality</span></span>  
 <span data-ttu-id="558f2-155">Além das alterações de namespace e as alterações devido à integração com o .NET, ocorrem as seguintes alterações gerais na funcionalidade do WIF no WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-155">In addition to the namespace changes and the changes due to integration with .NET, the following general changes to WIF functionality occur in WIF 4.5.</span></span>  
  
-   <span data-ttu-id="558f2-156">A classe `Microsoft.IdentityModel.ExceptionMapper`, que oferecia a funcionalidade que permitia mapear exceções para falhas de SOAP específicas, foi removida.</span><span class="sxs-lookup"><span data-stu-id="558f2-156">The `Microsoft.IdentityModel.ExceptionMapper` class, which provided functionality that enabled you to map exceptions to specific SOAP Faults, is removed.</span></span>  
  
-   <span data-ttu-id="558f2-157">A superfície de exceção foi reduzida consideravelmente.</span><span class="sxs-lookup"><span data-stu-id="558f2-157">The exception surface has been greatly reduced.</span></span>  
  
-   <span data-ttu-id="558f2-158">Muitas das classes que definiam constantes específicas de WS-\* ou protocolo foram removidas; por exemplo, a classe `Microsoft.IdentityModel.WSAddressing10Constants`, que definia constantes relacionadas ao WS-Addressing 1.0.</span><span class="sxs-lookup"><span data-stu-id="558f2-158">Many of the classes that defined protocol or WS-\* specific constants have been removed; for example, the `Microsoft.IdentityModel.WSAddressing10Constants` class, which defined constants related to WS-Addressing 1.0.</span></span>  
  
-   <span data-ttu-id="558f2-159">O Claims to Windows Token Service (c2wts) e suas classes associadas no namespace `Microsoft.IdentityModel.WindowsTokenService` foram removidos.</span><span class="sxs-lookup"><span data-stu-id="558f2-159">The Claims to Windows Token Service (c2wts) and its associated classes in the `Microsoft.IdentityModel.WindowsTokenService` namespace are removed.</span></span>  
  
### <a name="wif-configuration-changes"></a><span data-ttu-id="558f2-160">Alterações de configuração do WIF</span><span class="sxs-lookup"><span data-stu-id="558f2-160">WIF Configuration Changes</span></span>  
 <span data-ttu-id="558f2-161">Muitas das alterações no arquivo de configuração foram causadas por atualizações de namespace no WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-161">Many of the changes in the configuration file have been caused by namespace updates in WIF 4.5.</span></span> <span data-ttu-id="558f2-162">Por exemplo, considere a seguinte entrada do WIF 3.5 na seção `<httpModules>` para adicionar o WS-Federation Authentication Manager para um aplicativo:</span><span class="sxs-lookup"><span data-stu-id="558f2-162">For example, consider the following WIF 3.5 entry in the `<httpModules>` section to add the WS-Federation Authentication Manager to an application:</span></span>  
  
```xml  
<add name="WSFederationAuthenticationModule" type="Microsoft.IdentityModel.Web.WSFederationAuthenticationModule, Microsoft.IdentityModel, Version=3.5.0.0, Culture=neutral, PublicKeyToken=abcd … 5678" />  
```  
  
 <span data-ttu-id="558f2-163">Esta entrada foi atualizada no WIF 4.5 para incluir os novos namespaces e a versão do assembly:</span><span class="sxs-lookup"><span data-stu-id="558f2-163">This entry has been updated in WIF 4.5 to include the new namespaces and assembly version:</span></span>  
  
```xml  
<add name="WSFederationAuthenticationModule" type="System.IdentityModel.Services.WSFederationAuthenticationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=abcd … 5678"/>  
```  
  
 <span data-ttu-id="558f2-164">A lista a seguir enumera as principais alterações no arquivo de configuração para o WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-164">The following list enumerates the major changes to the configuration file for WIF 4.5.</span></span>  
  
-   <span data-ttu-id="558f2-165">A seção `<microsoft.identityModel>` agora é a seção [\<System. identityModel >](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md).</span><span class="sxs-lookup"><span data-stu-id="558f2-165">The `<microsoft.identityModel>` section is now the [\<system.identityModel>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) section.</span></span>  
  
-   <span data-ttu-id="558f2-166">O elemento `<service>` agora é o elemento [\<identityConfiguration >](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md).</span><span class="sxs-lookup"><span data-stu-id="558f2-166">The `<service>` element is now the [\<identityConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element.</span></span>  
  
-   <span data-ttu-id="558f2-167">Uma nova seção, [\<system.identityModel.services >](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel-services.md), foi adicionada para especificar as configurações que controlam o comportamento em cenários passivos (WS-Federation).</span><span class="sxs-lookup"><span data-stu-id="558f2-167">A new section, [\<system.identityModel.services>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel-services.md), has been added to specify settings that control behavior in passive (WS-Federation) scenarios.</span></span>  
  
-   <span data-ttu-id="558f2-168">O elemento [\<federationConfiguration >](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) e seus elementos filho foram movidos do elemento `<service>` no WIF 3.5 para o novo elemento `<system.identityModel.services>`.</span><span class="sxs-lookup"><span data-stu-id="558f2-168">The [\<federationConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) element and its child elements have been moved from the `<service>` element in WIF 3.5 to the new `<system.identityModel.services>` element .</span></span>  
  
-   <span data-ttu-id="558f2-169">Vários elementos que podem ser especificados no nível de serviço-diretamente sob o elemento `<service>` no WIF 3.5 agora estão restritos e devem ser especificados no elemento [\<securityTokenHandlerConfiguration >](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md).</span><span class="sxs-lookup"><span data-stu-id="558f2-169">Several elements that could be specified at the service-level directly under the `<service>` element in WIF 3.5 have been restricted to being specified under the [\<securityTokenHandlerConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md) element.</span></span> <span data-ttu-id="558f2-170">(Eles ainda podem ser especificados sob o elemento [\<identityConfiguration >](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) no WIF 4.5 para compatibilidade com versões anteriores.)</span><span class="sxs-lookup"><span data-stu-id="558f2-170">(They may still be specified under the [\<identityConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element in WIF 4.5 for backward compatibility.)</span></span>  
  
 <span data-ttu-id="558f2-171">Para obter uma lista completa dos elementos de configuração do WIF 4.5, consulte [Esquema de configuração do WIF](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/index.md).</span><span class="sxs-lookup"><span data-stu-id="558f2-171">For a complete list of the WIF 4.5 configuration elements, see [WIF Configuration Schema](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/index.md).</span></span>  
  
### <a name="visual-studio-tooling-changes"></a><span data-ttu-id="558f2-172">Alterações de ferramentas do Visual Studio</span><span class="sxs-lookup"><span data-stu-id="558f2-172">Visual Studio Tooling Changes</span></span>  
 <span data-ttu-id="558f2-173">O SDK do WIF 3.5 oferecia um utilitário de federação autônomo, FedUtil.exe (FedUtil), que você podia usar para terceirizar o gerenciamento de identidades em aplicativos habilitados para WIF para um serviço de token de segurança (STS).</span><span class="sxs-lookup"><span data-stu-id="558f2-173">The WIF 3.5 SDK offered a stand-alone federation utility, FedUtil.exe (FedUtil), that you could use to outsource identity management in WIF-enabled applications to a security token service (STS).</span></span> <span data-ttu-id="558f2-174">Essa ferramenta adicionava configurações do WIF ao arquivo de configuração do aplicativo e permitia ao aplicativo obter tokens de segurança de um ou mais STSs e apareceu no Visual Studio por meio do botão **Adicionar referência de serviço do STS**.</span><span class="sxs-lookup"><span data-stu-id="558f2-174">This tool added WIF settings to the application configuration file to enable the application to get security tokens from one or more STSs, and was surfaced in Visual Studio through the **Add STS Service Reference** button.</span></span> <span data-ttu-id="558f2-175">O FedUtil não é fornecido com o WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-175">FedUtil does not ship with WIF 4.5.</span></span> <span data-ttu-id="558f2-176">Em vez disso, o WIF 4.5 oferece suporte a uma nova extensão do Visual Studio chamada ferramenta de identidade e acesso para o Visual Studio 2012 que você pode usar para modificar o arquivo de configuração do aplicativo com as configurações do WIF necessárias para terceirizar o gerenciamento de identidade para um STS.</span><span class="sxs-lookup"><span data-stu-id="558f2-176">Instead, WIF 4.5 supports a new Visual Studio extension named the Identity and Access Tool for Visual Studio 2012 that you can use to modify your application’s configuration file with the WIF settings required to outsource identity management to an STS.</span></span> <span data-ttu-id="558f2-177">A ferramenta de acesso e identidade também implementa um STS chamado STS Local que você pode usar para testar seus aplicativos habilitados para o WIF.</span><span class="sxs-lookup"><span data-stu-id="558f2-177">The Identity and Access Tool also implements an STS called Local STS that you can use to test your WIF-enabled applications.</span></span> <span data-ttu-id="558f2-178">Em muitos casos, este recurso elimina a necessidade de criar STSs personalizados que geralmente eram necessários no WIF 3.5 para testar soluções em desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="558f2-178">In many cases, this feature obviates the need to build custom STSs that were often necessary in WIF 3.5 to test solutions under development.</span></span> <span data-ttu-id="558f2-179">Por esse motivo, os modelos de STS não são mais suportados no Visual Studio 2012; no entanto, as classes que oferecem suporte ao desenvolvimento de STSs ainda estão disponíveis no WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-179">For this reason, the STS templates are no longer supported in Visual Studio 2012; however, the classes that support the development of STSs are still available in WIF 4.5.</span></span>  
  
 <span data-ttu-id="558f2-180">Você pode instalar a ferramenta de acesso e identidade do gerenciador de atualizações e extensões do Visual Studio ou você pode baixá-lo na seguinte página na Galeria de Código: [Ferramenta de identidade e acesso para o Visual Studio 2012 na Galeria de Código](http://go.microsoft.com/fwlink/?LinkID=245849).</span><span class="sxs-lookup"><span data-stu-id="558f2-180">You can install the Identity and Access Tool from the Extensions and Updates Manager in Visual Studio or you can download it from the following page on Code Gallery: [Identity and Access Tool for Visual Studio 2012 on Code Gallery](http://go.microsoft.com/fwlink/?LinkID=245849).</span></span> <span data-ttu-id="558f2-181">As alterações de ferramentas do Visual Studio são resumidas na lista a seguir:</span><span class="sxs-lookup"><span data-stu-id="558f2-181">The Visual Studio tooling changes are summarized in the following list:</span></span>  
  
-   <span data-ttu-id="558f2-182">A funcionalidade Adicionar referência de serviço do STS foi removida.</span><span class="sxs-lookup"><span data-stu-id="558f2-182">The Add STS Service Reference functionality is removed.</span></span> <span data-ttu-id="558f2-183">Essa funcionalidade foi substituída pela ferramenta de acesso e identidade.</span><span class="sxs-lookup"><span data-stu-id="558f2-183">The replacement is the Identity and Access Tool.</span></span>  
  
-   <span data-ttu-id="558f2-184">Os modelos do Visual Studio STS foram removidos.</span><span class="sxs-lookup"><span data-stu-id="558f2-184">The Visual Studio STS templates are removed.</span></span> <span data-ttu-id="558f2-185">Você pode usar o STS Local disponível por meio da ferramenta de identidade e acesso para testar soluções de identidade que você desenvolve com o WIF.</span><span class="sxs-lookup"><span data-stu-id="558f2-185">You can use the Local STS that is available through the Identity and Access Tool to test identity solutions that you develop with WIF.</span></span> <span data-ttu-id="558f2-186">A configuração do STS Local pode ser modificada para personalizar as declarações que ele serve.</span><span class="sxs-lookup"><span data-stu-id="558f2-186">The Local STS configuration can be modified to customize the claims that it serves.</span></span>  
  
-   <span data-ttu-id="558f2-187">O utilitário autônomo de Federação (FedUtil) não está disponível no WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-187">The stand-alone Federation Utility (FedUtil) is not available in WIF 4.5.</span></span> <span data-ttu-id="558f2-188">Você pode usar a ferramenta de acesso e identidade para modificar os arquivos de configuração para terceirizar o gerenciamento de identidade para um STS.</span><span class="sxs-lookup"><span data-stu-id="558f2-188">You can use the Identity and Access Tool to modify your configuration files to outsource identity management to an STS.</span></span>  
  
 <span data-ttu-id="558f2-189">Para obter mais informações, consulte [Ferramenta de identidade e acesso para o Visual Studio 2012](../../../docs/framework/security/identity-and-access-tool-for-vs.md)</span><span class="sxs-lookup"><span data-stu-id="558f2-189">For more information about the Identity and Access Tool, see [Identity and Access Tool for Visual Studio 2012](../../../docs/framework/security/identity-and-access-tool-for-vs.md)</span></span>  
  
<a name="BKMK_ToolingChanges"></a>   
### <a name="passive-ws-federation-scenarios"></a><span data-ttu-id="558f2-190">Cenários passivos (WS-Federation):</span><span class="sxs-lookup"><span data-stu-id="558f2-190">Passive (WS-Federation) Scenarios:</span></span>  
  
-   <span data-ttu-id="558f2-191">As classes que dão suporte a cenários passivos foram movidas para o namespace <xref:System.IdentityModel.Services?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="558f2-191">Classes that support passive scenarios have been moved to the <xref:System.IdentityModel.Services?displayProperty=nameWithType> namespace.</span></span> <span data-ttu-id="558f2-192">No WIF 3.5, essas classes estavam no namespace `Microsoft.IdentityModel.Web`.</span><span class="sxs-lookup"><span data-stu-id="558f2-192">In WIF 3.5 these classes were in the `Microsoft.IdentityModel.Web` namespace.</span></span>  
  
-   <span data-ttu-id="558f2-193">As classes do namespace `Microsoft.IdentityModel.Web.Configuration` foram movidas para <xref:System.IdentityModel.Services.Configuration?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="558f2-193">The classes in the `Microsoft.IdentityModel.Web.Configuration` namespace have been moved to <xref:System.IdentityModel.Services.Configuration?displayProperty=nameWithType>.</span></span> <span data-ttu-id="558f2-194">Essas classes representam objetos específicos para configuração em cenários passivos.</span><span class="sxs-lookup"><span data-stu-id="558f2-194">These classes represent objects specific to configuration in passive scenarios.</span></span>  
  
-   <span data-ttu-id="558f2-195">O `FederatedPasssiveSignInControl` não é mais suportado; todas as classes no namespace `Microsoft.IdentityModel.Web.Controls` foram removidos do WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-195">The `FederatedPasssiveSignInControl` is no longer supported; all classes in the `Microsoft.IdentityModel.Web.Controls` namespace have been removed from WIF 4.5.</span></span>  
  
-   <span data-ttu-id="558f2-196">A funcionalidade de saída do módulo de autenticação da Web Services Federation (<xref:System.IdentityModel.Services.WSFederationAuthenticationModule>) é diferente do WIF 3.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-196">The WS-Federation Authentication Module (<xref:System.IdentityModel.Services.WSFederationAuthenticationModule>) sign-out functionality is different than WIF 3.5.</span></span> <span data-ttu-id="558f2-197">Para obter mais detalhes sobre como a saída do serviço funciona no WIF 4.5, consulte o tópico sobre a classe <xref:System.IdentityModel.Services.WSFederationAuthenticationModule>.</span><span class="sxs-lookup"><span data-stu-id="558f2-197">For more details about how sign-out works in WIF 4.5, see the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule> class topic.</span></span>  
  
### <a name="active-wcfws-trust-scenarios"></a><span data-ttu-id="558f2-198">Cenários ativos (WCF/WS-Trust):</span><span class="sxs-lookup"><span data-stu-id="558f2-198">Active (WCF/WS-Trust) Scenarios:</span></span>  
  
-   <span data-ttu-id="558f2-199">O namespace `Microsoft.IdentityModel.Protocols.WSTrust` foi dividido principalmente em dois namespaces no WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-199">The `Microsoft.IdentityModel.Protocols.WSTrust` namespace has been split mainly into two namespaces in WIF 4.5.</span></span> <span data-ttu-id="558f2-200">As classes que representam artefatos que são específicos ao protocolo WS-Trust agora estão na <xref:System.IdentityModel.Protocols.WSTrust?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="558f2-200">Classes that represent artifacts that are specific to the WS-Trust protocol are now in <xref:System.IdentityModel.Protocols.WSTrust?displayProperty=nameWithType>.</span></span> <span data-ttu-id="558f2-201">Isso inclui classes como <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken>.</span><span class="sxs-lookup"><span data-stu-id="558f2-201">This includes classes like <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken>.</span></span> <span data-ttu-id="558f2-202">As classes que representam contratos de serviço, canais, hosts de serviço e outros artefatos que estão envolvidos no uso do WS-Trust em aplicativos do WCF foram movidas para a <xref:System.ServiceModel.Security?displayProperty=nameWithType>; por exemplo, a interface <xref:System.ServiceModel.Security.IWSTrust13AsyncContract>.</span><span class="sxs-lookup"><span data-stu-id="558f2-202">Classes that represent service contracts, channels, service hosts and other artifacts that are involved in using WS-Trust in WCF applications have been moved to <xref:System.ServiceModel.Security?displayProperty=nameWithType>; for example, the <xref:System.ServiceModel.Security.IWSTrust13AsyncContract> interface.</span></span>  
  
-   <span data-ttu-id="558f2-203">Configurar um aplicativo WCF para usar o WIF foi bastante simplificado.</span><span class="sxs-lookup"><span data-stu-id="558f2-203">Configuring a WCF application to use WIF has been greatly simplified.</span></span> <span data-ttu-id="558f2-204">Anteriormente a `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement` precisava ser adicionada como uma extensão de comportamento e essa funcionalidade foi usada para incluir WIF no comportamento de serviço especificando um elemento `<federatedServiceHostConfiguration>`.</span><span class="sxs-lookup"><span data-stu-id="558f2-204">Previously the `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement` had to be added as a behavior extension and this functionality was then used to wedge WIF into the service behavior by specifying a `<federatedServiceHostConfiguration>` element.</span></span> <span data-ttu-id="558f2-205">O WIF 4.5 está mais integrado com o WCF.</span><span class="sxs-lookup"><span data-stu-id="558f2-205">WIF 4.5 has been more tightly integrated with WCF.</span></span> <span data-ttu-id="558f2-206">Agora você pode habilitar o WIF em um serviço WCF especificando o atributo `useIdentityConfiguration` no elemento `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>` conforme o XML a seguir:</span><span class="sxs-lookup"><span data-stu-id="558f2-206">Now you enable WIF on a WCF service by specifying the `useIdentityConfiguration` attribute on the `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>` element as in the following XML:</span></span>  
  
    ```xml  
    <serviceCredentials useIdentityConfiguration="true">  
        <!--Certificate added by Identity And Access VS Package.  Subject='CN=localhost', Issuer='CN=localhost'. Make sure you have this certificate installed. The Identity and Access tool does not install this certificate.-->  
        <serviceCertificate findValue="CN=localhost" storeLocation="LocalMachine" storeName="My" x509FindType="FindBySubjectDistinguishedName" />  
    </serviceCredentials>  
    ```  
  
-   <span data-ttu-id="558f2-207">No WIF 4.5 o serviço de certificado usado por um serviço (WCF) ativo deve ser especificado no host de serviço.</span><span class="sxs-lookup"><span data-stu-id="558f2-207">In WIF 4.5 the service certificate used by an active (WCF) service must be specified on the service host.</span></span> <span data-ttu-id="558f2-208">Nessa configuração, você pode fazer isso por meio do elemento `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>`/`<serviceCertificate>`, conforme mostrado no exemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="558f2-208">In configuration, you can do this through the `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>`/`<serviceCertificate>` element as shown in the preceding example.</span></span> <span data-ttu-id="558f2-209">No WIF 3.5, o certificado de serviço pode ser especificado por meio do elemento filho `<serviceCertificate>` do elemento `<service>` do WIF.</span><span class="sxs-lookup"><span data-stu-id="558f2-209">In WIF 3.5 the service certificate could be specified through the `<serviceCertificate>` child element of the WIF `<service>` element.</span></span> <span data-ttu-id="558f2-210">Essa funcionalidade não existe no WIF 4.5; em vez disso, especifique o elemento `<serviceCertificate>` sob o elemento `<serviceCredentials>`.</span><span class="sxs-lookup"><span data-stu-id="558f2-210">This functionality does not exist in WIF 4.5; specify the `<serviceCertificate>` element under the `<serviceCredentials>` element instead.</span></span>  
  
-   <span data-ttu-id="558f2-211">As classes usadas para integrar o WIF 3.5 ao WCF não existem mais.</span><span class="sxs-lookup"><span data-stu-id="558f2-211">The classes used to wedge WIF 3.5 into WCF no longer exist.</span></span> <span data-ttu-id="558f2-212">Isso inclui as seguintes classes no namespace `Microsoft.IdentityModel.Tokens`: `FederatedSecurityTokenManager`, `FederatedServiceCredentials` e `IdentityModelServiceAuthorizationManager`, bem como a classe `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement`.</span><span class="sxs-lookup"><span data-stu-id="558f2-212">This includes the following classes in the `Microsoft.IdentityModel.Tokens` namespace: `FederatedSecurityTokenManager`, `FederatedServiceCredentials`, and `IdentityModelServiceAuthorizationManager`, as well as the `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement` class.</span></span>  
  
## <a name="enabling-wif-35-in-windows-8"></a><span data-ttu-id="558f2-213">Habilitar o WIF 3.5 no Windows 8</span><span class="sxs-lookup"><span data-stu-id="558f2-213">Enabling WIF 3.5 in Windows 8</span></span>  
 <span data-ttu-id="558f2-214">Como o WIF 4.5 é parte do .NET 4.5, ele é habilitado automaticamente em computadores que executam o Windows 8 e o Windows Server 2012 e aplicativos que são criados usando o WIF 4.5 serão executados no Windows 8 ou no Windows Server 2012 por padrão.</span><span class="sxs-lookup"><span data-stu-id="558f2-214">Because WIF 4.5 is part of .NET 4.5, it is automatically enabled on computers running Windows 8 and Windows Server 2012 and applications that are built using WIF 4.5 will run under Windows 8 or Windows Server 2012 by default.</span></span> <span data-ttu-id="558f2-215">No entanto, talvez seja necessário executar aplicativos que foram criados usando o WIF 3.5 em um computador que esteja executando o Windows 8 ou o Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="558f2-215">However, you may need to run applications that were built using WIF 3.5 on a computer that is running Windows 8 or Windows Server 2012.</span></span> <span data-ttu-id="558f2-216">Nesse caso, você precisa habilitar o WIF 3.5 no computador de destino.</span><span class="sxs-lookup"><span data-stu-id="558f2-216">In this case, you need to enable WIF 3.5 on the target computer.</span></span> <span data-ttu-id="558f2-217">Em um computador executando o Windows 8, você pode fazer isso usando a ferramenta de Gerenciamento e Manutenção de Imagens de Implantação (DISM).</span><span class="sxs-lookup"><span data-stu-id="558f2-217">On a computer running Windows 8, you can do this by using the Deployment Image Servicing and Management (DISM) tool.</span></span> <span data-ttu-id="558f2-218">Em um computador executando o Windows Server 2012, você pode usar a ferramenta DISM ou você pode usar o cmdlet `Add-WindowsFeature` do Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="558f2-218">On a computer running Windows Server 2012, you can use the DISM tool or you can use the Windows PowerShell `Add-WindowsFeature` cmdlet.</span></span> <span data-ttu-id="558f2-219">Em ambos os casos, os comandos apropriados podem ser chamados na linha de comando ou de dentro do ambiente do Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="558f2-219">In both cases, the appropriate commands can be invoked either at the command line or from inside the Windows PowerShell environment.</span></span>  
  
 <span data-ttu-id="558f2-220">Os comandos a seguir mostram como usar a ferramenta DISM a partir da linha de comando ou de dentro do ambiente do Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="558f2-220">The following commands show how to use the DISM tool from either the command line or from inside the Windows PowerShell environment.</span></span> <span data-ttu-id="558f2-221">Por padrão, o módulo do PowerShell do DISM está incluído no Windows 8 e no Windows Server 2012 e não precisa ser importado.</span><span class="sxs-lookup"><span data-stu-id="558f2-221">By default, the DISM PowerShell module is included in Windows 8 and Windows Server 2012 and does not need to be imported.</span></span> <span data-ttu-id="558f2-222">Para obter mais informações sobre como usar o DISM com o Windows PowerShell, consulte [Como usar o DISM no Windows PowerShell](http://go.microsoft.com/fwlink/?LinkId=254419).</span><span class="sxs-lookup"><span data-stu-id="558f2-222">For more information about using DISM with Windows PowerShell, see [How to Use DISM in Windows PowerShell](http://go.microsoft.com/fwlink/?LinkId=254419).</span></span>  
  
 <span data-ttu-id="558f2-223">Para habilitar o WIF 3.5 usando o DISM:</span><span class="sxs-lookup"><span data-stu-id="558f2-223">To enable WIF 3.5 using DISM:</span></span>  
  
```  
dism /online /enable-feature:windows-identity-foundation  
```  
  
 <span data-ttu-id="558f2-224">Para desabilitar o WIF 3.5 usando o DISM:</span><span class="sxs-lookup"><span data-stu-id="558f2-224">To disable WIF 3.5 using DISM:</span></span>  
  
```  
dism /online /disable-feature:windows-identity-foundation  
```  
  
 <span data-ttu-id="558f2-225">Para verificar quais recursos estão habilitados ou desabilitados usando o DISM:</span><span class="sxs-lookup"><span data-stu-id="558f2-225">To check which features are enabled or disabled using DISM:</span></span>  
  
```  
dism /online /get-features  
```  
  
 <span data-ttu-id="558f2-226">Como alternativa, em computadores que executam o Windows Server 2012, você pode habilitar o WIF 3.5 usando o cmdlet `Add-WindowsFeature` do Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="558f2-226">Alternatively, on computers running Windows Server 2012, you can enable WIF 3.5 by using the Windows PowerShell `Add-WindowsFeature` cmdlet.</span></span> <span data-ttu-id="558f2-227">Para fazer isso a partir da linha de comando, você pode inserir o seguinte comando:</span><span class="sxs-lookup"><span data-stu-id="558f2-227">To do so from the command line, you can enter the following command:</span></span>  
  
```  
powershell "add-windowsfeature windows-identity-foundation"  
```  
  
 <span data-ttu-id="558f2-228">A partir do ambiente do Windows PowerShell, você pode inserir o comando diretamente:</span><span class="sxs-lookup"><span data-stu-id="558f2-228">From inside the Windows PowerShell environment, you can enter the command directly:</span></span>  
  
```  
add-windowsfeature windows-identity-foundation  
```  
  
> [!NOTE]
>  <span data-ttu-id="558f2-229">Como muitas das classes no WIF 3.5 e WIF 4.5 compartilham os mesmos nomes, quando você estiver usando o WIF 3.5 e o WIF 4.5 juntos, certifique-se de usar nomes de classe totalmente qualificados ou usar um alias de namespace para distinguir entre classes no WIF 3.5 e no WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="558f2-229">Because many of the classes in WIF 3.5 and WIF 4.5 share the same names, when you are using both WIF 3.5 and WIF 4.5 together, be sure to either use fully qualified class names or use namespace aliases to distinguish between classes in WIF 3.5 and WIF 4.5.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="558f2-230">Consulte também</span><span class="sxs-lookup"><span data-stu-id="558f2-230">See Also</span></span>  
 [<span data-ttu-id="558f2-231">Esquema de configuração do WIF</span><span class="sxs-lookup"><span data-stu-id="558f2-231">WIF Configuration Schema</span></span>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/index.md)  
 [<span data-ttu-id="558f2-232">Mapeamento de namespace entre o WIF 3.5 e o WIF 4.5</span><span class="sxs-lookup"><span data-stu-id="558f2-232">Namespace Mapping between WIF 3.5 and WIF 4.5</span></span>](../../../docs/framework/security/namespace-mapping-between-wif-3-5-and-wif-4-5.md)  
 [<span data-ttu-id="558f2-233">Novidades no Windows Identity Foundation 4.5</span><span class="sxs-lookup"><span data-stu-id="558f2-233">What's New in Windows Identity Foundation 4.5</span></span>](../../../docs/framework/security/whats-new-in-wif.md)  
 [<span data-ttu-id="558f2-234">Ferramenta de identidade e acesso para o Visual Studio 2012</span><span class="sxs-lookup"><span data-stu-id="558f2-234">Identity and Access Tool for Visual Studio 2012</span></span>](../../../docs/framework/security/identity-and-access-tool-for-vs.md)
