---
title: Considerações sobre segurança XAML
ms.date: 03/30/2017
helpviewer_keywords:
- security [XAML Services], .NET XAML services
- XAML security [XAML Services]
ms.assetid: 544296d4-f38e-4498-af49-c9f4dad28964
ms.openlocfilehash: ef47e7e370082a2050406710edcb62d0967df8ef
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/04/2018
ms.locfileid: "33562356"
---
# <a name="xaml-security-considerations"></a><span data-ttu-id="56d0c-102">Considerações sobre segurança XAML</span><span class="sxs-lookup"><span data-stu-id="56d0c-102">XAML Security Considerations</span></span>
<span data-ttu-id="56d0c-103">Este tópico descreve as práticas recomendadas de segurança em aplicativos quando você usar o XAML e API de serviços XAML do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="56d0c-103">This topic describes best practices for security in applications when you use XAML and .NET Framework XAML Services API.</span></span>  
  
## <a name="untrusted-xaml-in-applications"></a><span data-ttu-id="56d0c-104">XAML não confiável em aplicativos</span><span class="sxs-lookup"><span data-stu-id="56d0c-104">Untrusted XAML in Applications</span></span>  
 <span data-ttu-id="56d0c-105">No sentido mais geral, o XAML não confiável é qualquer fonte XAML que seu aplicativo não especificamente não incluem ou emitir.</span><span class="sxs-lookup"><span data-stu-id="56d0c-105">In the most general sense, untrusted XAML is any XAML source that your application did not specifically include or emit.</span></span>  
  
 <span data-ttu-id="56d0c-106">XAML que é compilado em ou armazenado como um `resx`-tipo de recurso dentro de um assembly assinado e não confiáveis não é inerentemente confiável.</span><span class="sxs-lookup"><span data-stu-id="56d0c-106">XAML that is compiled into or stored as a `resx`-type resource within a trusted and signed assembly is not inherently untrusted.</span></span> <span data-ttu-id="56d0c-107">Você pode confiar em XAML quanto você confia que o assembly como um todo.</span><span class="sxs-lookup"><span data-stu-id="56d0c-107">You can trust the XAML as much as you trust the assembly as a whole.</span></span> <span data-ttu-id="56d0c-108">Na maioria dos casos, você só estiver preocupado com os aspectos de confiança XAML flexível, que é uma fonte XAML carregados a partir de um fluxo ou outras e/s.</span><span class="sxs-lookup"><span data-stu-id="56d0c-108">In most cases, you are only concerned with the trust aspects of loose XAML, which is a XAML source that you load from a stream or other I/O.</span></span> <span data-ttu-id="56d0c-109">XAML livre não é um componente específico ou um recurso de um modelo de aplicativo com uma infra-estrutura de empacotamento e implantação.</span><span class="sxs-lookup"><span data-stu-id="56d0c-109">Loose XAML is not a specific component or feature of an application model with a deployment and packaging infrastructure.</span></span> <span data-ttu-id="56d0c-110">No entanto, um assembly pode implementar um comportamento que envolve o carregamento XAML flexível.</span><span class="sxs-lookup"><span data-stu-id="56d0c-110">However, an assembly might implement a behavior that involves loading loose XAML.</span></span>  
  
 <span data-ttu-id="56d0c-111">Para XAML não confiável, você deve tratá-lo geralmente o mesmo como se fosse o código não confiável.</span><span class="sxs-lookup"><span data-stu-id="56d0c-111">For untrusted XAML, you should treat it generally the same as if it were untrusted code.</span></span> <span data-ttu-id="56d0c-112">Usar modo seguro ou outros metáforas para evitar XAML possivelmente não confiável acessem seu código confiável.</span><span class="sxs-lookup"><span data-stu-id="56d0c-112">Use sandboxing or other metaphors to prevent possibly untrusted XAML from accessing your trusted code.</span></span>  
  
 <span data-ttu-id="56d0c-113">A natureza de recursos XAML dá o direito de construir objetos e definir suas propriedades XAML.</span><span class="sxs-lookup"><span data-stu-id="56d0c-113">The nature of XAML capabilities gives the XAML the right to construct objects and set their properties.</span></span> <span data-ttu-id="56d0c-114">Esses recursos também incluem o acesso a conversores de tipo de mapeamento e acessando assemblies no domínio do aplicativo, usando as extensões de marcação, `x:Code` blocos e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="56d0c-114">These capabilities also include accessing type converters, mapping and accessing assemblies in the application domain, using markup extensions, `x:Code` blocks, and so on.</span></span>  
  
 <span data-ttu-id="56d0c-115">Além de seus recursos de nível de linguagem XAML é usado para definição de interface do usuário em várias tecnologias.</span><span class="sxs-lookup"><span data-stu-id="56d0c-115">In addition to its language-level capabilities, XAML is used for UI definition in many technologies.</span></span> <span data-ttu-id="56d0c-116">Carregamento XAML não confiável pode significar que carregar uma interface de usuário mal-intencionado falsificação.</span><span class="sxs-lookup"><span data-stu-id="56d0c-116">Loading untrusted XAML might mean loading a malicious spoofing UI.</span></span>  
  
## <a name="sharing-context-between-readers-and-writers"></a><span data-ttu-id="56d0c-117">Compartilhamento de contexto entre leitores e gravadores</span><span class="sxs-lookup"><span data-stu-id="56d0c-117">Sharing Context Between Readers and Writers</span></span>  
 <span data-ttu-id="56d0c-118">A arquitetura de serviços XAML do .NET Framework para leitores XAML e gravadores XAML geralmente requer o compartilhamento de um leitor de XAML para um gravador XAML ou um contexto de esquema XAML compartilhado.</span><span class="sxs-lookup"><span data-stu-id="56d0c-118">The .NET Framework XAML Services architecture for XAML readers and XAML writers often requires sharing a XAML reader to a XAML writer, or a shared XAML schema context.</span></span> <span data-ttu-id="56d0c-119">Compartilhamento de objetos ou contextos pode ser necessário se você estiver escrevendo uma lógica de loop do nó XAML ou fornecendo um personalizado salvar caminho.</span><span class="sxs-lookup"><span data-stu-id="56d0c-119">Sharing objects or contexts might be required if you are writing XAML node loop logic, or providing a custom save path.</span></span> <span data-ttu-id="56d0c-120">Você não deve compartilhar as instâncias de leitor XAML, contexto de esquema XAML não padrão ou configurações para classes de leitor/gravador XAML entre o código confiável e não confiáveis.</span><span class="sxs-lookup"><span data-stu-id="56d0c-120">You should not share XAML reader instances, nondefault XAML schema context, or settings for XAML reader/writer classes between trusted and untrusted code.</span></span>  
  
 <span data-ttu-id="56d0c-121">A maioria dos cenários e as operações que envolvem o objeto XAML escrevendo para um tipo de CLR fazendo poderá usar o contexto do esquema XAML padrão.</span><span class="sxs-lookup"><span data-stu-id="56d0c-121">Most scenarios and operations involving XAML object writing for a CLR-based type backing can just use default XAML schema context.</span></span> <span data-ttu-id="56d0c-122">O contexto do esquema XAML padrão não inclui configurações que possam comprometer a confiança total explicitamente.</span><span class="sxs-lookup"><span data-stu-id="56d0c-122">The default XAML schema context does not explicitly include settings that could compromise full trust.</span></span> <span data-ttu-id="56d0c-123">Portanto, é seguro compartilhar contexto entre componentes de leitor/gravador XAML confiáveis e não confiáveis.</span><span class="sxs-lookup"><span data-stu-id="56d0c-123">It is thus safe to share context between trusted and untrusted XAML reader/writer components.</span></span> <span data-ttu-id="56d0c-124">No entanto, se você fizer isso, ele ainda é uma prática recomendada para manter esses leitores e gravadores em separado <xref:System.AppDomain> escopos, com um deles especificamente pretendido/área restrita de confiança parcial.</span><span class="sxs-lookup"><span data-stu-id="56d0c-124">However, if you do this, it is still a best practice to keep such readers and writers in separate <xref:System.AppDomain> scopes, with one of them specifically intended/sandboxed for partial trust.</span></span>  
  
## <a name="xaml-namespaces-and-assembly-trust"></a><span data-ttu-id="56d0c-125">Namespaces XAML e a confiança do Assembly</span><span class="sxs-lookup"><span data-stu-id="56d0c-125">XAML Namespaces and Assembly Trust</span></span>  
 <span data-ttu-id="56d0c-126">A sintaxe básica de não-qualificado e definição como XAML interpreta um mapeamento de namespace XAML personalizado a um assembly não faz distinção entre um assembly confiável e como carregados para o domínio de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="56d0c-126">The basic unqualified syntax and definition for how XAML interprets a custom XAML namespace mapping to an assembly does not distinguish between a trusted and untrusted assembly as loaded into the application domain.</span></span> <span data-ttu-id="56d0c-127">Assim, é tecnicamente possível para um assembly não confiável falsificar o mapeamento de namespace XAML desejado de um assembly confiável e capturar um XAML declarado objeto de origem e informações de propriedade.</span><span class="sxs-lookup"><span data-stu-id="56d0c-127">Thus, it is technically possible for an untrusted assembly to spoof a trusted assembly's intended XAML namespace mapping and capture a XAML source's declared object and property information.</span></span> <span data-ttu-id="56d0c-128">Se você tiver requisitos de segurança para evitar essa situação, o mapeamento de namespace XAML desejado deve ser criado usando uma das seguintes técnicas:</span><span class="sxs-lookup"><span data-stu-id="56d0c-128">If you have security requirements to avoid this situation, your intended XAML namespace mapping should be made using one of the following techniques:</span></span>  
  
-   <span data-ttu-id="56d0c-129">Use um nome totalmente qualificado do assembly com nome forte em qualquer mapeamento de namespace XAML feito pelo XAML do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="56d0c-129">Use a fully qualified assembly name with strong name in any XAML namespace mapping made by your application's XAML.</span></span>  
  
-   <span data-ttu-id="56d0c-130">Restringir o assembly de mapeamento para um conjunto fixo de assemblies de referência, criando um determinado <xref:System.Xaml.XamlSchemaContext> para que o XAML leitores e XAML gravadores de objeto.</span><span class="sxs-lookup"><span data-stu-id="56d0c-130">Restrict assembly mapping to a fixed set of reference assemblies, by constructing a specific <xref:System.Xaml.XamlSchemaContext> for your XAML readers and XAML object writers.</span></span> <span data-ttu-id="56d0c-131">Consulte <xref:System.Xaml.XamlSchemaContext.%23ctor%28System.Collections.Generic.IEnumerable%7BSystem.Reflection.Assembly%7D%29>.</span><span class="sxs-lookup"><span data-stu-id="56d0c-131">See <xref:System.Xaml.XamlSchemaContext.%23ctor%28System.Collections.Generic.IEnumerable%7BSystem.Reflection.Assembly%7D%29>.</span></span>  
  
## <a name="xaml-type-mapping-and-type-system-access"></a><span data-ttu-id="56d0c-132">Mapeamento de tipo XAML e acesso de sistema de tipo</span><span class="sxs-lookup"><span data-stu-id="56d0c-132">XAML Type Mapping and Type System Access</span></span>  
 <span data-ttu-id="56d0c-133">XAML dá suporte a seu próprio sistema de tipo, que é um par de como o CLR implementa o sistema básico de tipo CLR de várias maneiras.</span><span class="sxs-lookup"><span data-stu-id="56d0c-133">XAML supports its own type system, which in many ways is a peer to how CLR implements the basic CLR type system.</span></span> <span data-ttu-id="56d0c-134">No entanto, para determinados aspectos de reconhecimento de tipo em que você decidir confiança sobre um tipo com base em suas informações de tipo, você deve adiar as informações de tipo CLR fazendo tipos.</span><span class="sxs-lookup"><span data-stu-id="56d0c-134">However, for certain aspects of type awareness where you are making trust decisions about a type based on its type information, you should defer to the type information in the CLR backing types.</span></span> <span data-ttu-id="56d0c-135">Isso ocorre porque alguns dos recursos de relatório específicos do sistema de tipo XAML são deixados abertos como métodos virtuais e, portanto, não são totalmente sob o controle das implementações de serviços XAML do .NET Framework do originais.</span><span class="sxs-lookup"><span data-stu-id="56d0c-135">This is because some of the specific reporting capabilities of the XAML type system are left open as virtual methods and are therefore, not fully under the control of the original .NET Framework XAML Services implementations.</span></span> <span data-ttu-id="56d0c-136">Esses pontos de extensibilidade existem porque o sistema de tipo XAML é extensível, para corresponder a extensibilidade do próprio XAML e seus possíveis estratégias alternativas de mapeamento de tipo versus a implementação do padrão baseado em CLR e o contexto do esquema XAML padrão.</span><span class="sxs-lookup"><span data-stu-id="56d0c-136">These extensibility points exist because the XAML type system is extensible, to match the extensibility of XAML itself and its possible alternative type-mapping strategies versus the default CLR-backed implementation and default XAML schema context.</span></span> <span data-ttu-id="56d0c-137">Para obter mais informações, consulte as notas de específicas em várias das propriedades de <xref:System.Xaml.XamlType> e <xref:System.Xaml.XamlMember>.</span><span class="sxs-lookup"><span data-stu-id="56d0c-137">For more information, see the specific notes on several of the properties of <xref:System.Xaml.XamlType> and <xref:System.Xaml.XamlMember>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="56d0c-138">Consulte também</span><span class="sxs-lookup"><span data-stu-id="56d0c-138">See Also</span></span>  
 <xref:System.Xaml.Permissions.XamlAccessLevel>
