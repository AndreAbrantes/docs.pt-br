---
title: Coleções e tipos de coleção para XAML
ms.date: 03/30/2017
ms.assetid: 58f8e7c6-9a41-4f25-8551-c042f1315baa
ms.openlocfilehash: 63f6346837f77dbdbdcb4a90ec5af725be69ee02
ms.sourcegitcommit: 30a83efb57c468da74e9e218de26cf88d3254597
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/20/2019
ms.locfileid: "68364331"
---
# <a name="collections-and-collection-types-for-xaml"></a><span data-ttu-id="a0ef3-102">Coleções e tipos de coleção para XAML</span><span class="sxs-lookup"><span data-stu-id="a0ef3-102">Collections and Collection Types for XAML</span></span>

<span data-ttu-id="a0ef3-103">Este tópico descreve como definir propriedades de tipos que se destinam a dar suporte a uma coleção e para dar suporte à sintaxe XAML para criar uma instância de itens de coleção como filhos de elemento de um elemento de objeto pai ou elemento de propriedade.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-103">This topic describes how to define properties of types that are intended to support a collection, and to support the XAML syntax for instantiating collection items as element children of a parent object element or property element.</span></span>

## <a name="xaml-collection-concepts"></a><span data-ttu-id="a0ef3-104">Conceitos da coleção XAML</span><span class="sxs-lookup"><span data-stu-id="a0ef3-104">XAML Collection Concepts</span></span>

<span data-ttu-id="a0ef3-105">Conceitualmente, qualquer relação em XAML em que há vários itens filho dentro do escopo de um elemento de objeto XAML ou elemento de propriedade XAML deve ser implementado como uma coleção.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-105">Conceptually, any relationship in XAML where there are multiple child items within the scope of a XAML object element or XAML property element must be implemented as a collection.</span></span> <span data-ttu-id="a0ef3-106">Essa coleção deve ser associada a uma propriedade XAML específica do tipo XAML que é o pai nessa relação.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-106">That collection must be associated with a particular XAML property of the XAML type that is the parent in that relationship.</span></span> <span data-ttu-id="a0ef3-107">A propriedade deve ser uma coleção porque um processador XAML espera atribuir cada item na marcação a ser um item recém-adicionado da propriedade de coleção de backup.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-107">The property must be a collection because a XAML processor expects to assign each item in markup to be a newly added item of the backing collection property.</span></span>

<span data-ttu-id="a0ef3-108">No nível da linguagem XAML, os requisitos exatos do suporte à coleta não estão totalmente definidos.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-108">At the XAML language level, the exact requirements of collection support are not fully defined.</span></span> <span data-ttu-id="a0ef3-109">O conceito de que uma coleção pode ser uma lista ou um dicionário (mas não ambos) é definido no nível de linguagem XAML, mas os tipos de suporte que representam listas ou dicionários não são definidos pela linguagem XAML.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-109">The concept that a collection can be either a list or a dictionary(but not both) is defined at the XAML language level, but which backing types represent either lists or dictionaries is not defined by the XAML language.</span></span>

<span data-ttu-id="a0ef3-110">Em .NET Framework serviços XAML, o conceito de suporte à coleção XAML é definido mais claramente em termos de .NET Framework tipos de backup.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-110">In .NET Framework XAML Services, the concept of XAML collection support is more clearly defined in terms of .NET Framework backing types.</span></span> <span data-ttu-id="a0ef3-111">Especificamente, o suporte a XAML para coleções baseia-se em vários conceitos .NET Framework e APIs que são usadas para listas e dicionários em geral .NET Framework programação.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-111">Specifically, the XAML support for collections is based on several .NET Framework concepts and APIs that are used for lists and dictionaries in general .NET Framework programming.</span></span>

1. <span data-ttu-id="a0ef3-112">A <xref:System.Collections.IList> interface indica uma coleção de listas.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-112">The <xref:System.Collections.IList> interface indicates a list collection.</span></span>

2. <span data-ttu-id="a0ef3-113">A <xref:System.Collections.IDictionary> interface indica uma coleção de dicionário.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-113">The <xref:System.Collections.IDictionary> interface indicates a dictionary collection.</span></span>

3. <span data-ttu-id="a0ef3-114"><xref:System.Array>representa uma matriz e uma matriz dá suporte <xref:System.Collections.IList> a métodos.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-114"><xref:System.Array> represents an array, and an array supports <xref:System.Collections.IList> methods.</span></span>

<span data-ttu-id="a0ef3-115">Em cada um desses conceitos de coleção, um processador XAML .NET Framework serviços XAML espera chamar o `Add` método em uma instância específica do tipo da propriedade de coleção.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-115">In each of these collection concepts, a .NET Framework XAML Services XAML processor expects to call the `Add` method on a specific instance of the collection property's type.</span></span> <span data-ttu-id="a0ef3-116">Ou, em um cenário de serialização, um processador XAML produz instâncias de tipo XAML discretas para cada item encontrado na lista, no dicionário ou na matriz com base no conceito específico da coleção de "itens".</span><span class="sxs-lookup"><span data-stu-id="a0ef3-116">Or, in a serialization scenario, a XAML processor produces discrete XAML-type instances for each item found in the list, dictionary or array based on each collection's specific concept of "Items".</span></span> <span data-ttu-id="a0ef3-117">Estes são: <xref:System.Collections.IList.Item%2A>; ; o explícito <xref:System.Array.System%23Collections%23IList%23Item%2A> para <xref:System.Array>. <xref:System.Collections.IDictionary.Item%2A></span><span class="sxs-lookup"><span data-stu-id="a0ef3-117">These are : <xref:System.Collections.IList.Item%2A>; <xref:System.Collections.IDictionary.Item%2A>; the explicit <xref:System.Array.System%23Collections%23IList%23Item%2A> for <xref:System.Array>.</span></span>

## <a name="generic-collections"></a><span data-ttu-id="a0ef3-118">Coleções genéricas</span><span class="sxs-lookup"><span data-stu-id="a0ef3-118">Generic Collections</span></span>

<span data-ttu-id="a0ef3-119">As coleções genéricas podem ser úteis para programação de .NET Framework geral e também podem ser usadas para propriedades da coleção XAML.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-119">Generic collections can be useful for general .NET Framework programming, and can also be used for XAML collection properties.</span></span> <span data-ttu-id="a0ef3-120">No entanto, as <xref:System.Collections.Generic.IList%601> interfaces <xref:System.Collections.Generic.IDictionary%602> genéricas e não são identificadas por .NET Framework processadores XAML serviços XAML como sendo equivalentes ao <xref:System.Collections.IList> não <xref:System.Collections.IDictionary>genérico ou.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-120">However, the generic interfaces <xref:System.Collections.Generic.IList%601> and <xref:System.Collections.Generic.IDictionary%602> are not identified by .NET Framework XAML Services XAML processors as being equivalent to the non-generic <xref:System.Collections.IList> or <xref:System.Collections.IDictionary>.</span></span> <span data-ttu-id="a0ef3-121">Em vez de implementar as interfaces, uma abordagem recomendada para tipos de propriedade de coleção genérica é derivar <xref:System.Collections.Generic.List%601> das <xref:System.Collections.Generic.Dictionary%602>classes ou.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-121">Rather than implementing the interfaces, a recommended approach for generic collection property types is to derive from the classes <xref:System.Collections.Generic.List%601> or <xref:System.Collections.Generic.Dictionary%602>.</span></span> <span data-ttu-id="a0ef3-122">Essas classes implementam as interfaces não genéricas e, portanto, incluem o suporte esperado para coleções XAML na implementação de base.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-122">These classes implement the non-generic interfaces and thus include the expected support for XAML collections in the base implementation.</span></span>

## <a name="read-only-collections-and-initialization-logic"></a><span data-ttu-id="a0ef3-123">Coleções somente leitura e lógica de inicialização</span><span class="sxs-lookup"><span data-stu-id="a0ef3-123">Read-Only Collections and Initialization Logic</span></span>

<span data-ttu-id="a0ef3-124">Em .NET Framework programação, é um padrão de design comum fazer qualquer propriedade que contenha um valor de uma coleção como uma coleção somente leitura.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-124">In .NET Framework programming, it is a common design pattern to make any property that holds a value of a collection as a read-only collection.</span></span> <span data-ttu-id="a0ef3-125">Esse padrão permite que a instância proprietária da propriedade de coleção controle melhor o que acontece com a coleção.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-125">This pattern permits the instance that owns the collection property to better control what happens to the collection..</span></span> <span data-ttu-id="a0ef3-126">Especificamente, o padrão impede a substituição acidental de toda a coleção preexistente, definindo a propriedade.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-126">Specifically, the pattern prevents accidental replacement of the entire pre-existing collection by setting the property.</span></span> <span data-ttu-id="a0ef3-127">Nesse padrão, qualquer acesso à coleção por chamadores deve ser feito chamando métodos ou propriedades com suporte pelo tipo de coleção e/ou pelas interfaces de coleção relevantes, <xref:System.Collections.IList>como.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-127">In this pattern, any access to the collection by callers should instead be made by calling methods or properties as supported by the collection type and/or the relevant collection interfaces such as <xref:System.Collections.IList>.</span></span>

<span data-ttu-id="a0ef3-128">O uso desse padrão implica que qualquer classe que expõe uma propriedade de coleção somente leitura deve primeiro inicializar essa propriedade para manter uma coleção vazia.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-128">Using this pattern implies that any class that exposes a read-only collection property must first initialize that property to hold an empty collection.</span></span> <span data-ttu-id="a0ef3-129">Normalmente, a inicialização é executada como parte do comportamento de construção da classe.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-129">Typically the initialization is performed as part of the construction behavior for the class.</span></span> <span data-ttu-id="a0ef3-130">Para ser útil para XAML, é importante que essa lógica seja sempre referenciada pelo construtor sem parâmetros, porque o XAML geralmente chama o construtor sem parâmetros antes de processar as propriedades (Propriedades de coleção ou de outra forma).</span><span class="sxs-lookup"><span data-stu-id="a0ef3-130">To be useful for XAML, it is important that such logic is always referenced by the parameterless constructor, because XAML generally calls the parameterless constructor prior to processing the properties (collection properties or otherwise).</span></span>

## <a name="xaml-type-system-support-and-collections"></a><span data-ttu-id="a0ef3-131">Suporte e coleções do sistema de tipos XAML</span><span class="sxs-lookup"><span data-stu-id="a0ef3-131">XAML Type System Support and Collections</span></span>

<span data-ttu-id="a0ef3-132">Além da mecânica básica de análise de XAML e preenchimento ou serialização de propriedades de coleção, o sistema de tipos XAML conforme implementado em .NET Framework serviços XAML inclui vários recursos de design que pertencem a coleções em XAML.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-132">Beyond the basic mechanics of parsing XAML and populating or serializing collection properties, the XAML type system as implemented in .NET Framework XAML Services includes several design features that pertain to collections in XAML.</span></span>

1. <span data-ttu-id="a0ef3-133"><xref:System.Xaml.XamlType.IsCollection%2A>retornará true se o tipo XAML for apoiado por um tipo que fornece suporte à coleção XAML.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-133"><xref:System.Xaml.XamlType.IsCollection%2A> returns true if the XAML type is backed by a type that provides XAML collection support.</span></span>

2. <span data-ttu-id="a0ef3-134"><xref:System.Xaml.XamlType.IsDictionary%2A>e <xref:System.Xaml.XamlType.IsArray%2A> pode identificar ainda mais qual modo de coleta o tipo XAML dá suporte.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-134"><xref:System.Xaml.XamlType.IsDictionary%2A> and <xref:System.Xaml.XamlType.IsArray%2A> can further identify which collection mode the XAML type supports.</span></span> <span data-ttu-id="a0ef3-135">Para processadores XAML personalizados baseados em .NET Framework serviços XAML e o sistema de tipos XAML, mas não com base em <xref:System.Xaml.XamlWriter> implementações existentes, saber qual modo de coleta é usado pode ser necessário para saber qual método invocar processamento da coleção.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-135">For custom XAML processors that are based on .NET Framework XAML Services and the XAML type system but not based on existing <xref:System.Xaml.XamlWriter> implementations, knowing which collection mode is used might be necessary in order to know which method to invoke for collection processing.</span></span>

3. <span data-ttu-id="a0ef3-136">Cada um dos valores de propriedade anteriores é potencialmente influenciado por <xref:System.Xaml.XamlType.LookupCollectionKind%2A> substituições de em um tipo XAML.</span><span class="sxs-lookup"><span data-stu-id="a0ef3-136">Each of the previous property values are potentially influenced by overrides of <xref:System.Xaml.XamlType.LookupCollectionKind%2A> on a XAML type.</span></span>
