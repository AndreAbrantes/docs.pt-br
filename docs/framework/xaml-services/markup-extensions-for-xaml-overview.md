---
title: Visão geral das extensões de marcação para XAML
ms.date: 03/30/2017
helpviewer_keywords:
- markup extensions [XAML Services], custom
- XAML [XAML Services], markup extensions
ms.assetid: 261b2b11-2dc0-462f-8c66-55b8c9c6e436
ms.openlocfilehash: 29cf4e03c1e4f91cd4390b84dd62c07268fe0189
ms.sourcegitcommit: 30a83efb57c468da74e9e218de26cf88d3254597
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/20/2019
ms.locfileid: "68364323"
---
# <a name="markup-extensions-for-xaml-overview"></a><span data-ttu-id="d82b6-102">Visão geral das extensões de marcação para XAML</span><span class="sxs-lookup"><span data-stu-id="d82b6-102">Markup Extensions for XAML Overview</span></span>
<span data-ttu-id="d82b6-103">As extensões de marcação são uma técnica XAML para obter um valor que não seja um tipo de XAML primitivo nem um específico.</span><span class="sxs-lookup"><span data-stu-id="d82b6-103">Markup extensions are a XAML technique for obtaining a value that is neither a primitive nor a specific XAML type.</span></span> <span data-ttu-id="d82b6-104">Para o uso do atributo, as extensões de marcação usam a sequência de caracteres conhecida `{` de uma chave de abertura para inserir o escopo da extensão de `}` marcação e uma chave de fechamento a ser encerrada.</span><span class="sxs-lookup"><span data-stu-id="d82b6-104">For attribute usage, markup extensions use the known character sequence of an opening curly brace `{` to enter the markup extension scope, and a closing curly brace `}` to exit.</span></span> <span data-ttu-id="d82b6-105">Ao usar .NET Framework serviços XAML, você pode usar algumas das extensões de marcação de linguagem XAML predefinidas do assembly System. XAML.</span><span class="sxs-lookup"><span data-stu-id="d82b6-105">When using .NET Framework XAML Services, you can use some of the predefined XAML language markup extensions from the System.Xaml assembly.</span></span> <span data-ttu-id="d82b6-106">Você também pode subclasse da <xref:System.Windows.Markup.MarkupExtension> classe, definida em System. XAML, e definir suas próprias extensões de marcação.</span><span class="sxs-lookup"><span data-stu-id="d82b6-106">You can also subclass from the <xref:System.Windows.Markup.MarkupExtension> class, defined in System.Xaml, and define your own markup extensions.</span></span> <span data-ttu-id="d82b6-107">Ou você pode usar extensões de marcação definidas por uma estrutura específica se já estiver fazendo referência a essa estrutura.</span><span class="sxs-lookup"><span data-stu-id="d82b6-107">Or you can use markup extensions defined by a particular framework if you are already referencing that framework .</span></span>  
  
 <span data-ttu-id="d82b6-108">Quando um uso de extensão de marcação é acessado, o gravador de objeto XAML pode <xref:System.Windows.Markup.MarkupExtension> fornecer serviços a uma classe personalizada por meio <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A?displayProperty=nameWithType> de um ponto de conexão de serviço na substituição.</span><span class="sxs-lookup"><span data-stu-id="d82b6-108">When a markup extension usage is accessed, the XAML object writer can provide services to a custom <xref:System.Windows.Markup.MarkupExtension> class through a service connection point in the <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A?displayProperty=nameWithType> override.</span></span> <span data-ttu-id="d82b6-109">Os serviços podem ser usados para obter o contexto sobre o uso, os recursos específicos do gravador de objeto, o contexto do esquema XAML e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="d82b6-109">The services can be used to obtain context about the usage, specific capabilities of the object writer, XAML schema context, and so on.</span></span>  
  
<a name="XAML_Defined_Markup_Extensions"></a>   
## <a name="xaml-defined-markup-extensions"></a><span data-ttu-id="d82b6-110">Extensões de marcação definidas de XAML</span><span class="sxs-lookup"><span data-stu-id="d82b6-110">XAML-Defined Markup Extensions</span></span>  
 <span data-ttu-id="d82b6-111">Várias extensões de marcação são implementadas por .NET Framework serviços XAML para suporte à linguagem XAML.</span><span class="sxs-lookup"><span data-stu-id="d82b6-111">Several markup extensions are implemented by .NET Framework XAML Services for XAML language support.</span></span> <span data-ttu-id="d82b6-112">Essas extensões de marcação correspondem a partes da especificação do XAML como uma linguagem.</span><span class="sxs-lookup"><span data-stu-id="d82b6-112">These markup extensions correspond to parts of the specification of XAML as a language.</span></span> <span data-ttu-id="d82b6-113">Normalmente, eles são identificáveis pelo `x:` prefixo na sintaxe, como visto em uso comum.</span><span class="sxs-lookup"><span data-stu-id="d82b6-113">These are typically identifiable by the `x:` prefix in the syntax as seen in common usage.</span></span> <span data-ttu-id="d82b6-114">As implementações de serviços XAML .NET Framework para esses elementos de linguagem XAML derivam da <xref:System.Windows.Markup.MarkupExtension> classe base.</span><span class="sxs-lookup"><span data-stu-id="d82b6-114">The .NET Framework XAML Services implementations for these XAML language elements all derive from the  <xref:System.Windows.Markup.MarkupExtension> base class .</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="d82b6-115">O `x:` prefixo é usado para o mapeamento de namespace XAML típico do namespace da linguagem XAML, no elemento raiz de uma produção XAML.</span><span class="sxs-lookup"><span data-stu-id="d82b6-115">The `x:` prefix is used for the typical XAML namespace mapping of the XAML language namespace, in the root element of a XAML production.</span></span> <span data-ttu-id="d82b6-116">Por exemplo, o projeto e os modelos de página do Visual Studio para várias estruturas específicas iniciam um arquivo `x:` XAML usando esse mapeamento.</span><span class="sxs-lookup"><span data-stu-id="d82b6-116">For example, the Visual Studio project and page templates for various specific frameworks initiate a XAML file using this `x:` mapping.</span></span> <span data-ttu-id="d82b6-117">Você pode escolher um token de prefixo diferente em seu próprio mapeamento de namespace XAML, mas esta documentação assumirá `x:` o mapeamento padrão como um meio de identificar as entidades que são uma parte definida do namespace XAML da linguagem XAML, em oposição a um namespace XAML padrão de uma estrutura específica ou outros namespaces CLR ou XML arbitrários.</span><span class="sxs-lookup"><span data-stu-id="d82b6-117">You could choose a different prefix token in your own XAML namespace mapping, but this documentation will assume the default `x:` mapping as a means of identifying those entities that are a defined part of the XAML language XAML namespace, as opposed to a specific framework's default XAML namespace or other arbitrary CLR or XML namespaces.</span></span>  
  
### <a name="xtype"></a><span data-ttu-id="d82b6-118">x:Type</span><span class="sxs-lookup"><span data-stu-id="d82b6-118">x:Type</span></span>  
 <span data-ttu-id="d82b6-119">`x:Type`fornece o <xref:System.Type> objeto para o tipo nomeado.</span><span class="sxs-lookup"><span data-stu-id="d82b6-119">`x:Type` supplies the <xref:System.Type> object for the named type.</span></span> <span data-ttu-id="d82b6-120">Essa funcionalidade é usada com mais frequência em mecanismos de adiamento que usam tipo CLR subjacente e derivação de tipo como um moniker ou identificador de agrupamento.</span><span class="sxs-lookup"><span data-stu-id="d82b6-120">This functionality is used most frequently in deferral mechanisms that use underlying CLR type and type derivation as a grouping moniker or identifier.</span></span> <span data-ttu-id="d82b6-121">Estilos e modelos do WPF e seu uso de `TargetType` Propriedades, são um exemplo específico.</span><span class="sxs-lookup"><span data-stu-id="d82b6-121">WPF styles and templates, and their usage of `TargetType` properties, are a specific example.</span></span> <span data-ttu-id="d82b6-122">Para obter mais informações, consulte a [extensão de marcação x:Type](x-type-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="d82b6-122">For more information, see [x:Type Markup Extension](x-type-markup-extension.md).</span></span>  
  
### <a name="xstatic"></a><span data-ttu-id="d82b6-123">x:Static</span><span class="sxs-lookup"><span data-stu-id="d82b6-123">x:Static</span></span>  
 <span data-ttu-id="d82b6-124">`x:Static`produz valores estáticos de entidades de código de tipo de valor que não são diretamente o tipo do valor de uma propriedade, mas podem ser avaliados para esse tipo.</span><span class="sxs-lookup"><span data-stu-id="d82b6-124">`x:Static` produces static values from value-type code entities that are not directly the type of a property's value, but can be evaluated to that type.</span></span> <span data-ttu-id="d82b6-125">Isso é útil para especificar valores que já existem como constantes bem conhecidas em uma definição de tipo.</span><span class="sxs-lookup"><span data-stu-id="d82b6-125">This is useful for specifying values that already exist as well-known constants in a type definition.</span></span> <span data-ttu-id="d82b6-126">Para obter mais informações, consulte a [extensão de marcação x:static](x-static-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="d82b6-126">For more information, see [x:Static Markup Extension](x-static-markup-extension.md).</span></span>  
  
### <a name="xnull"></a><span data-ttu-id="d82b6-127">x:Null</span><span class="sxs-lookup"><span data-stu-id="d82b6-127">x:Null</span></span>  
 <span data-ttu-id="d82b6-128">`x:Null`Especifica `null` como um valor para um membro XAML.</span><span class="sxs-lookup"><span data-stu-id="d82b6-128">`x:Null` specifies `null` as a value for a XAML member.</span></span> <span data-ttu-id="d82b6-129">Dependendo do design de tipos específicos ou de conceitos de estrutura maiores, `null` nem sempre é um valor padrão para uma propriedade ou o valor implícito de um atributo de cadeia de caracteres vazia.</span><span class="sxs-lookup"><span data-stu-id="d82b6-129">Depending on the design of specific types or on larger framework concepts, `null` is not always a default value for a property, or the implied value of an empty string attribute.</span></span> <span data-ttu-id="d82b6-130">Para obter mais informações, consulte [X:Null Markup Extension](x-null-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="d82b6-130">For more information, see [x:Null Markup Extension](x-null-markup-extension.md).</span></span>  
  
### <a name="xarray"></a><span data-ttu-id="d82b6-131">x:Array</span><span class="sxs-lookup"><span data-stu-id="d82b6-131">x:Array</span></span>  
 <span data-ttu-id="d82b6-132">`x:Array`dá suporte à criação de matrizes gerais na sintaxe XAML em casos em que o suporte à coleção fornecido por elementos base e modelos de controle não é usado deliberadamente.</span><span class="sxs-lookup"><span data-stu-id="d82b6-132">`x:Array` supports creation of general arrays in XAML syntax in cases where the collection support that is provided by base elements and control models is deliberately not used.</span></span> <span data-ttu-id="d82b6-133">Para obter mais informações, consulte [X:Array Markup Extension](x-array-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="d82b6-133">For more information, see [x:Array Markup Extension](x-array-markup-extension.md).</span></span> <span data-ttu-id="d82b6-134">Em XAML 2009 especificamente, as matrizes são acessadas como primitivos de linguagem em vez de como uma extensão.</span><span class="sxs-lookup"><span data-stu-id="d82b6-134">In XAML 2009 specifically, arrays are accessed as language primitives instead of as an extension.</span></span> <span data-ttu-id="d82b6-135">Para obter mais informações, consulte [recursos de linguagem XAML 2009](xaml-2009-language-features.md).</span><span class="sxs-lookup"><span data-stu-id="d82b6-135">For more information, see [XAML 2009 Language Features](xaml-2009-language-features.md).</span></span>  
  
### <a name="xreference"></a><span data-ttu-id="d82b6-136">x:Reference</span><span class="sxs-lookup"><span data-stu-id="d82b6-136">x:Reference</span></span>  
 <span data-ttu-id="d82b6-137">`x:Reference`faz parte do XAML 2009, uma extensão do conjunto de idiomas (2006) original.</span><span class="sxs-lookup"><span data-stu-id="d82b6-137">`x:Reference` is part of XAML 2009, an extension of the original (2006) language set.</span></span> <span data-ttu-id="d82b6-138">`x:Reference`representa uma referência a outro objeto existente em um grafo de objeto.</span><span class="sxs-lookup"><span data-stu-id="d82b6-138">`x:Reference` represents a reference to another existing object in an object graph.</span></span> <span data-ttu-id="d82b6-139">Esse objeto é identificado por seu `x:Name`.</span><span class="sxs-lookup"><span data-stu-id="d82b6-139">That object is identified by its `x:Name`.</span></span> <span data-ttu-id="d82b6-140">Para obter mais informações, consulte [X:Reference Markup Extension](x-reference-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="d82b6-140">For more information, see [x:Reference Markup Extension](x-reference-markup-extension.md).</span></span>  
  
### <a name="other-x-constructs"></a><span data-ttu-id="d82b6-141">Outros x: Construções</span><span class="sxs-lookup"><span data-stu-id="d82b6-141">Other x: Constructs</span></span>  
 <span data-ttu-id="d82b6-142">Existem `x:` outros constructos para oferecer suporte a recursos de linguagem XAML, mas eles não são implementados como extensões de marcação.</span><span class="sxs-lookup"><span data-stu-id="d82b6-142">Other `x:` constructs to support XAML language features exist, but these are not implemented as markup extensions.</span></span> <span data-ttu-id="d82b6-143">Para obter mais informações, [consulte XAML namespace (x:) Recursos](xaml-namespace-x-language-features.md)de linguagem.</span><span class="sxs-lookup"><span data-stu-id="d82b6-143">For more information, see [XAML Namespace (x:) Language Features](xaml-namespace-x-language-features.md).</span></span>  
  
<a name="the_markupextension_base_class"></a>   
## <a name="the-markupextension-base-class"></a><span data-ttu-id="d82b6-144">A classe base MarkupExtension</span><span class="sxs-lookup"><span data-stu-id="d82b6-144">The MarkupExtension Base Class</span></span>  
 <span data-ttu-id="d82b6-145">Para definir uma extensão de marcação personalizada que possa interagir com as implementações padrão de leitores XAML e gravadores XAML em System. XAML, você deriva uma classe <xref:System.Windows.Markup.MarkupExtension> da classe abstrata.</span><span class="sxs-lookup"><span data-stu-id="d82b6-145">To define a custom markup extension that can interact with the default implementations of XAML readers and XAML writers in System.Xaml, you derive a class from the abstract <xref:System.Windows.Markup.MarkupExtension> class.</span></span> <span data-ttu-id="d82b6-146">Essa classe tem um método para substituir, que é <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="d82b6-146">That class has one method to override, which is <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>.</span></span> <span data-ttu-id="d82b6-147">Você também pode precisar definir construtores adicionais para dar suporte a argumentos para o uso da extensão de marcação e corresponder as propriedades de tabela.</span><span class="sxs-lookup"><span data-stu-id="d82b6-147">You might also need to define additional constructors to support arguments to the markup extension usage, and matching settable properties.</span></span>  
  
 <span data-ttu-id="d82b6-148">Por <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>meio do, uma extensão de marcação personalizada tem acesso a um contexto de serviço que relata o ambiente em que a extensão de marcação é realmente invocada por um processador XAML.</span><span class="sxs-lookup"><span data-stu-id="d82b6-148">Through <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, a custom markup extension has access to a service context that reports the environment where the markup extension is actually invoked by a XAML processor.</span></span> <span data-ttu-id="d82b6-149">No caminho de carga, isso normalmente é <xref:System.Xaml.XamlObjectWriter>um.</span><span class="sxs-lookup"><span data-stu-id="d82b6-149">In the load path this is typically a <xref:System.Xaml.XamlObjectWriter>.</span></span> <span data-ttu-id="d82b6-150">No caminho de salvamento, isso normalmente é <xref:System.Xaml.XamlXmlWriter>um.</span><span class="sxs-lookup"><span data-stu-id="d82b6-150">In the save path this is typically a <xref:System.Xaml.XamlXmlWriter>.</span></span> <span data-ttu-id="d82b6-151">Cada relatório o contexto de serviço como uma classe de contexto de provedor de serviço XAML interno que implementa um padrão de provedor de serviço.</span><span class="sxs-lookup"><span data-stu-id="d82b6-151">Each report the service context as an internal XAML service provider context class that implements a service provider pattern.</span></span> <span data-ttu-id="d82b6-152">Para obter mais informações sobre os serviços disponíveis e o que eles representam, consulte [tipos de conversores e extensões de marcação para XAML](type-converters-and-markup-extensions-for-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="d82b6-152">For more information about the available services and what they represent, see [Type Converters and Markup Extensions for XAML](type-converters-and-markup-extensions-for-xaml.md).</span></span>  
  
 <span data-ttu-id="d82b6-153">Sua classe de extensão de marcação deve usar um nível de acesso público; Os processadores XAML sempre devem ser capazes de instanciar a classe de suporte da extensão de marcação para usar seus serviços.</span><span class="sxs-lookup"><span data-stu-id="d82b6-153">Your markup extension class must use a public access level; XAML processors must always be able to instantiate the markup extension's support class in order to use its services.</span></span>  
  
<a name="naming_the_support_type"></a>   
## <a name="defining-the-support-type-for-a-custom-markup-extension"></a><span data-ttu-id="d82b6-154">Definindo o tipo de suporte para uma extensão de marcação personalizada</span><span class="sxs-lookup"><span data-stu-id="d82b6-154">Defining the Support Type for a Custom Markup Extension</span></span>  
 <span data-ttu-id="d82b6-155">Ao usar .NET Framework serviços XAML ou estruturas que se baseiam em serviços .NET Framework XAML, você tem duas opções de como nomear o tipo de suporte de extensão de marcação.</span><span class="sxs-lookup"><span data-stu-id="d82b6-155">When you use .NET Framework XAML Services or frameworks that build on .NET Framework XAML Services, you have two choices for how to name the markup extension support type.</span></span> <span data-ttu-id="d82b6-156">O nome do tipo é relevante para como os gravadores de objeto XAML tentam acessar e invocam um tipo de suporte de extensão de marcação quando eles encontram um uso de extensão de marcação em XAML.</span><span class="sxs-lookup"><span data-stu-id="d82b6-156">The type name is relevant to how XAML object writers attempt to access and invoke a markup extension support type when they encounter a markup extension usage in XAML.</span></span> <span data-ttu-id="d82b6-157">Use uma das seguintes estratégias de nomenclatura:</span><span class="sxs-lookup"><span data-stu-id="d82b6-157">Use one of the following naming strategies:</span></span>  
  
- <span data-ttu-id="d82b6-158">Nome o nome do tipo deve ser uma correspondência exata para o token de uso da marcação XAML.</span><span class="sxs-lookup"><span data-stu-id="d82b6-158">Name the type name to be an exact match to the XAML markup usage token.</span></span> <span data-ttu-id="d82b6-159">Por exemplo, para dar suporte `{Collate ...}` a um uso de extensão, nomeie `Collate`o tipo de suporte.</span><span class="sxs-lookup"><span data-stu-id="d82b6-159">For example, to support a `{Collate ...}` extension usage, name the support type `Collate`.</span></span>  
  
- <span data-ttu-id="d82b6-160">Nome o nome do tipo a ser o token da cadeia de caracteres `Extension`de uso mais o sufixo.</span><span class="sxs-lookup"><span data-stu-id="d82b6-160">Name the type name to be the usage string token plus the suffix `Extension`.</span></span> <span data-ttu-id="d82b6-161">Por exemplo, para dar suporte `{Collate ...}` a um uso de extensão, nomeie `CollateExtension`o tipo de suporte.</span><span class="sxs-lookup"><span data-stu-id="d82b6-161">For example, to support a `{Collate ...}` extension usage, name the support type `CollateExtension`.</span></span>  
  
 <span data-ttu-id="d82b6-162">A ordem de pesquisa é procurar o `Extension`nome de classe com sufixo primeiro e, em seguida, procurar o nome da classe sem o `Extension` sufixo.</span><span class="sxs-lookup"><span data-stu-id="d82b6-162">The order of lookup is to look for the `Extension`-suffixed class name first and then look for the class name without the `Extension` suffix.</span></span>  
  
 <span data-ttu-id="d82b6-163">Da perspectiva de uso da marcação, a `Extension` inclusão do sufixo como parte do uso é válida.</span><span class="sxs-lookup"><span data-stu-id="d82b6-163">From the markup usage perspective, including the `Extension` suffix as part of the usage is valid.</span></span> <span data-ttu-id="d82b6-164">No entanto, isso se comporta como `Extension` se fosse realmente parte do nome da classe, e os gravadores de objeto XAML falhariam em resolver uma classe de suporte de extensão de marcação para esse uso se `Extension` a classe de suporte não tivesse o sufixo.</span><span class="sxs-lookup"><span data-stu-id="d82b6-164">However, this behaves as if `Extension` is truly part of the class name, and XAML object writers would fail to resolve a markup extension support class for that usage if the support class did not have the `Extension` suffix.</span></span>  
  
### <a name="the-default-constructor"></a><span data-ttu-id="d82b6-165">O construtor padrão</span><span class="sxs-lookup"><span data-stu-id="d82b6-165">The Default Constructor</span></span>  
 <span data-ttu-id="d82b6-166">Para todos os tipos de suporte de extensão de marcação, você deve expor um construtor público sem parâmetros.</span><span class="sxs-lookup"><span data-stu-id="d82b6-166">For all markup extension support types, you should expose a public parameterless constructor.</span></span> <span data-ttu-id="d82b6-167">Um construtor sem parâmetros é necessário para qualquer caso em que um gravador de objeto XAML instancia a extensão de marcação de um uso de elemento de objeto.</span><span class="sxs-lookup"><span data-stu-id="d82b6-167">A parameterless constructor is required for any case where a XAML object writer instantiates the markup extension from an object element usage.</span></span> <span data-ttu-id="d82b6-168">O suporte ao uso de elementos de objeto é uma expectativa justa para uma extensão de marcação, especialmente para serialização.</span><span class="sxs-lookup"><span data-stu-id="d82b6-168">Supporting object element usage is a fair expectation for a markup extension, particularly for serialization.</span></span> <span data-ttu-id="d82b6-169">No entanto, você pode implementar uma extensão de marcação sem um construtor público se pretender dar suporte apenas a usos de atributo da extensão de marcação.</span><span class="sxs-lookup"><span data-stu-id="d82b6-169">However, you can implement a markup extension without a public constructor if you only intend to support attribute usages of the markup extension.</span></span>  
  
 <span data-ttu-id="d82b6-170">Se o uso da extensão de marcação não tiver argumentos, o construtor sem parâmetros será necessário para dar suporte ao uso.</span><span class="sxs-lookup"><span data-stu-id="d82b6-170">If your markup extension usage has no arguments, the parameterless constructor is required to support usage.</span></span>  
  
<a name="constructor_patterns_and_positional_arguments_for_a_custom_markup_extension"></a>   
## <a name="constructor-patterns-and-positional-arguments-for-a-custom-markup-extension"></a><span data-ttu-id="d82b6-171">Padrões de construtor e argumentos posicionais para uma extensão de marcação personalizada</span><span class="sxs-lookup"><span data-stu-id="d82b6-171">Constructor Patterns and Positional Arguments for a Custom Markup Extension</span></span>  
 <span data-ttu-id="d82b6-172">Para uma extensão de marcação com o uso de argumento pretendido, os construtores públicos devem corresponder aos modos do uso pretendido.</span><span class="sxs-lookup"><span data-stu-id="d82b6-172">For a markup extension with intended argument usage, the public constructors must correspond to the modes of the intended usage.</span></span> <span data-ttu-id="d82b6-173">Em outras palavras, se sua extensão de marcação for projetada para exigir um argumento posicional como um uso válido, você deverá dar suporte a um construtor público com um parâmetro de entrada que usa o argumento posicional.</span><span class="sxs-lookup"><span data-stu-id="d82b6-173">In other words, if your markup extension is designed to require one positional argument as a valid usage, you should support a public constructor with one input parameter that takes the positional argument.</span></span>  
  
 <span data-ttu-id="d82b6-174">Por exemplo, suponha que `Collate` a extensão de marcação destina-se a dar suporte apenas a um modo em que haja um argumento posicional que represente `CollationMode` seu modo, especificado como uma constante de enumeração.</span><span class="sxs-lookup"><span data-stu-id="d82b6-174">For example, suppose the `Collate` markup extension is intended to support only a mode where there is one positional argument that represents its mode, specified as a `CollationMode` enumeration constant.</span></span> <span data-ttu-id="d82b6-175">Nesse caso, deve haver um construtor com o seguinte formato:</span><span class="sxs-lookup"><span data-stu-id="d82b6-175">In this case, there should be a constructor with the following form:</span></span>  
  
```  
public Collate(CollationMode collationMode) {...}  
```  
  
 <span data-ttu-id="d82b6-176">Em um nível básico, os argumentos passados para uma extensão de marcação são uma cadeia de caracteres porque estão sendo encaminhados dos valores de atributo da marcação.</span><span class="sxs-lookup"><span data-stu-id="d82b6-176">At a basic level, the arguments passed to a markup extension are a string because they are being forwarded from the markup's attribute values.</span></span> <span data-ttu-id="d82b6-177">Você pode fazer todas as cadeias de caracteres de argumentos e trabalhar com entradas nesse nível.</span><span class="sxs-lookup"><span data-stu-id="d82b6-177">You can make all of your arguments strings and work with input at that level.</span></span> <span data-ttu-id="d82b6-178">No entanto, você tem acesso a determinado processamento que ocorre antes que os argumentos de extensão de marcação sejam passados para a classe de suporte.</span><span class="sxs-lookup"><span data-stu-id="d82b6-178">However, you do have access to certain processing that occurs before the markup extension arguments are passed to the support class.</span></span>  
  
 <span data-ttu-id="d82b6-179">O processamento funciona conceitualmente como se a extensão de marcação é um objeto a ser criado e, em seguida, seus valores de membro são definidos.</span><span class="sxs-lookup"><span data-stu-id="d82b6-179">The processing works conceptually as if the markup extension is an object to be created, and then its member values are set.</span></span> <span data-ttu-id="d82b6-180">Cada propriedade especificada a ser definida é avaliada de forma semelhante a como um membro especificado pode ser definido em um objeto criado quando o XAML é analisado.</span><span class="sxs-lookup"><span data-stu-id="d82b6-180">Each specified property to set is evaluated similar to how a specified member can be set on a created object when XAML is parsed.</span></span> <span data-ttu-id="d82b6-181">Há duas diferenças importantes:</span><span class="sxs-lookup"><span data-stu-id="d82b6-181">There are two important differences:</span></span>  
  
- <span data-ttu-id="d82b6-182">Conforme observado anteriormente, um tipo de suporte de extensão de marcação não precisa ter um construtor sem parâmetros para ser instanciado em XAML.</span><span class="sxs-lookup"><span data-stu-id="d82b6-182">As noted previously, a markup extension support type does not need to have a parameterless constructor in order to be instantiated in XAML.</span></span> <span data-ttu-id="d82b6-183">Sua construção de objeto é adiada até que seus argumentos possíveis na sintaxe de texto sejam indexados e avaliados como argumentos posicionais ou nomeados e o construtor apropriado seja chamado nesse momento.</span><span class="sxs-lookup"><span data-stu-id="d82b6-183">Its object construction is deferred until its possible arguments in the text syntax are tokenized and evaluated as either positional or named arguments, and the appropriate constructor is called at that time.</span></span>  
  
- <span data-ttu-id="d82b6-184">Os usos das extensões de marcação podem ser aninhados.</span><span class="sxs-lookup"><span data-stu-id="d82b6-184">Markup extensions usages can be nested.</span></span> <span data-ttu-id="d82b6-185">A extensão de marcação mais interna é avaliada primeiro.</span><span class="sxs-lookup"><span data-stu-id="d82b6-185">The innermost markup extension is evaluated first.</span></span> <span data-ttu-id="d82b6-186">Portanto, você pode assumir esse uso e declarar um dos parâmetros de construção como um tipo que requer um conversor de valor (como uma extensão de marcação) para produzir.</span><span class="sxs-lookup"><span data-stu-id="d82b6-186">Therefore, you can assume such a usage and declare one of the construction parameters to be a type that requires a value converter (such as a markup extension) to produce.</span></span>  
  
 <span data-ttu-id="d82b6-187">Uma dependência desse processamento foi mostrada no exemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="d82b6-187">A reliance on such processing was shown in the previous example.</span></span> <span data-ttu-id="d82b6-188">O gravador de objeto XAML dos serviços XAML de .NET Framework processa nomes constantes de enumeração em valores enumerados em um nível nativo.</span><span class="sxs-lookup"><span data-stu-id="d82b6-188">The .NET Framework XAML Services XAML object writer processes enumeration constant names into enumerated values at a native level.</span></span>  
  
 <span data-ttu-id="d82b6-189">O processamento da sintaxe de texto de um parâmetro posicional de extensão de marcação também pode depender de um conversor de tipo associado ao tipo que está no argumento de construção.</span><span class="sxs-lookup"><span data-stu-id="d82b6-189">Processing text syntax of a markup extension positional parameter can also rely on a type converter that is associated with the type that is in the construction argument.</span></span>  
  
 <span data-ttu-id="d82b6-190">Os argumentos são chamados de argumentos posicionais porque a ordem na qual os tokens no uso é encontrado corresponde à ordem posicional do parâmetro de construtor ao qual eles são atribuídos.</span><span class="sxs-lookup"><span data-stu-id="d82b6-190">The arguments are called positional arguments because the order in which the tokens in the usage is encountered corresponds to the positional order of the constructor parameter to which they are assigned.</span></span> <span data-ttu-id="d82b6-191">Por exemplo, considere a seguinte assinatura de construtor:</span><span class="sxs-lookup"><span data-stu-id="d82b6-191">For example, consider the following constructor signature:</span></span>  
  
```  
public Collate(CollationMode collationMode, object collateThis) {...}  
```  
  
 <span data-ttu-id="d82b6-192">Um processador XAML espera dois argumentos posicionais para esta extensão de marcação.</span><span class="sxs-lookup"><span data-stu-id="d82b6-192">A XAML processor expects two positional arguments for this markup extension.</span></span> <span data-ttu-id="d82b6-193">Se houver um uso `{Collate AlphaUp,{x:Reference circularFile}}`, o `AlphaUp` token será enviado para o primeiro parâmetro e avaliado como uma `CollationMode` enumeração chamada Constant.</span><span class="sxs-lookup"><span data-stu-id="d82b6-193">If there was a usage `{Collate AlphaUp,{x:Reference circularFile}}`, the `AlphaUp` token is sent to the first parameter and evaluated as a `CollationMode` enumeration named constant.</span></span> <span data-ttu-id="d82b6-194">O resultado do interior `x:Reference` é enviado para o segundo parâmetro e avaliado como um objeto.</span><span class="sxs-lookup"><span data-stu-id="d82b6-194">The result of the inner `x:Reference` is sent to the second parameter and evaluated as an object.</span></span>  
  
 <span data-ttu-id="d82b6-195">Nas regras especificadas XAML para a sintaxe e o processamento da extensão de marcação, a vírgula é o delimitador entre os argumentos, independentemente de esses argumentos serem argumentos posicionais ou argumentos nomeados.</span><span class="sxs-lookup"><span data-stu-id="d82b6-195">In the XAML specified rules for markup extension syntax and processing, the comma is the delimiter between arguments, whether those arguments are positional arguments or named arguments.</span></span>  
  
### <a name="duplicate-arity-of-positional-arguments"></a><span data-ttu-id="d82b6-196">Aridades duplicadas de argumentos posicionais</span><span class="sxs-lookup"><span data-stu-id="d82b6-196">Duplicate Arity of Positional Arguments</span></span>  
 <span data-ttu-id="d82b6-197">Se um gravador de objeto XAML encontrar um uso de extensão de marcação com argumentos posicionais, e houver vários argumentos de construtor que recebem esse número de argumentos (uma arity duplicada), isso não é necessariamente um erro.</span><span class="sxs-lookup"><span data-stu-id="d82b6-197">If a XAML object writer encounters a markup extension usage with positional arguments, and there are multiple constructor arguments that take that number of arguments (a duplicate arity), that is not necessarily an error.</span></span> <span data-ttu-id="d82b6-198">O comportamento depende de uma configuração de contexto de esquema XAML personalizável, <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A>.</span><span class="sxs-lookup"><span data-stu-id="d82b6-198">The behavior depends on a customizable XAML schema context setting, <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A>.</span></span> <span data-ttu-id="d82b6-199">Se <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> for`true`, um gravador de objeto XAML não deverá lançar uma exceção apenas por motivos de arity duplicado.</span><span class="sxs-lookup"><span data-stu-id="d82b6-199">If <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> is `true`, a XAML object writer should not throw an exception only for reasons of duplicate arity.</span></span> <span data-ttu-id="d82b6-200">O comportamento além desse ponto não é estritamente definido.</span><span class="sxs-lookup"><span data-stu-id="d82b6-200">Behavior beyond that point is not strictly defined.</span></span> <span data-ttu-id="d82b6-201">A suposição básica do design é que o contexto do esquema tem informações de tipo disponíveis para os parâmetros específicos e pode tentar conversões explícitas que correspondam aos candidatos duplicados para ver qual assinatura pode ser a melhor correspondência.</span><span class="sxs-lookup"><span data-stu-id="d82b6-201">The basic design assumption is that the schema context has type information available for the specific parameters and can attempt explicit casts that match the duplicate candidates to see which signature might be the best match.</span></span> <span data-ttu-id="d82b6-202">Uma exceção ainda pode ser lançada se nenhuma assinatura puder passar pelos testes que são impostos por esse contexto de esquema específico em execução em um gravador de objeto XAML.</span><span class="sxs-lookup"><span data-stu-id="d82b6-202">An exception might still be thrown if no signatures can pass the tests that are imposed by that particular schema context that is running on a XAML object writer.</span></span>  
  
 <span data-ttu-id="d82b6-203">Por padrão, <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> o `false` está em .NET Framework serviços XAML <xref:System.Xaml.XamlSchemaContext> baseados em CLR.</span><span class="sxs-lookup"><span data-stu-id="d82b6-203">By default, <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> is `false` in the CLR-based <xref:System.Xaml.XamlSchemaContext> for .NET Framework XAML Services.</span></span> <span data-ttu-id="d82b6-204">Assim, o padrão <xref:System.Xaml.XamlObjectWriter> gera exceções se encontra um uso de extensão de marcação em que há arity duplicado nos construtores do tipo de apoio.</span><span class="sxs-lookup"><span data-stu-id="d82b6-204">Thus, the default <xref:System.Xaml.XamlObjectWriter> throws exceptions if it encounters a markup extension usage where there is duplicate arity in the backing type's constructors.</span></span>  
  
<a name="named_arguments_for_a_custom_markup_extension"></a>   
## <a name="named-arguments-for-a-custom-markup-extension"></a><span data-ttu-id="d82b6-205">Argumentos nomeados para uma extensão de marcação personalizada</span><span class="sxs-lookup"><span data-stu-id="d82b6-205">Named Arguments for a Custom Markup Extension</span></span>  
 <span data-ttu-id="d82b6-206">As extensões de marcação, conforme especificado pelo XAML, também podem usar um formulário de argumentos nomeados para uso.</span><span class="sxs-lookup"><span data-stu-id="d82b6-206">Markup extensions as specified by XAML can also use a named arguments form for usage.</span></span> <span data-ttu-id="d82b6-207">No primeiro nível de geração de tokens, a sintaxe de texto é dividida em argumentos.</span><span class="sxs-lookup"><span data-stu-id="d82b6-207">At the first level of tokenization, the text syntax is divided into arguments.</span></span> <span data-ttu-id="d82b6-208">A presença de um sinal de igual (=) em qualquer argumento identifica um argumento como um argumento nomeado.</span><span class="sxs-lookup"><span data-stu-id="d82b6-208">The presence of an equals sign (=) within any argument identifies an argument as a named argument.</span></span> <span data-ttu-id="d82b6-209">Esse argumento também é indexado em um par de nome/valor.</span><span class="sxs-lookup"><span data-stu-id="d82b6-209">Such an argument is also tokenized into a name/value pair.</span></span> <span data-ttu-id="d82b6-210">O nome nesse caso nomeia uma propriedade de tabela pública do tipo de suporte da extensão de marcação.</span><span class="sxs-lookup"><span data-stu-id="d82b6-210">The name in this case names a public settable property of the markup extension's support type.</span></span> <span data-ttu-id="d82b6-211">Se você pretende dar suporte ao uso de argumentos nomeados, você deve fornecer essas propriedades de tabela pública.</span><span class="sxs-lookup"><span data-stu-id="d82b6-211">If you intend to support named argument usage, you should provide these public settable properties.</span></span> <span data-ttu-id="d82b6-212">As propriedades podem ser propriedades herdadas contanto que permaneçam públicas.</span><span class="sxs-lookup"><span data-stu-id="d82b6-212">The properties can be inherited properties as long as they remain public.</span></span>  
  
<a name="accessing_service_provider_context_from_a_markup_extension_implementation"></a>   
## <a name="accessing-service-provider-context-from-a-markup-extension-implementation"></a><span data-ttu-id="d82b6-213">Acessando o contexto do provedor de serviço de uma implementação de extensão de marcação</span><span class="sxs-lookup"><span data-stu-id="d82b6-213">Accessing Service Provider Context from a Markup Extension Implementation</span></span>  
 <span data-ttu-id="d82b6-214">Os serviços disponíveis são os mesmos para qualquer conversor de valor.</span><span class="sxs-lookup"><span data-stu-id="d82b6-214">The services available are the same for any value converter.</span></span> <span data-ttu-id="d82b6-215">A diferença está em como cada conversor de valor recebe o contexto de serviço.</span><span class="sxs-lookup"><span data-stu-id="d82b6-215">The difference is in how each value converter receives the service context.</span></span> <span data-ttu-id="d82b6-216">O acesso aos serviços e aos serviços disponíveis é documentado no tópico [tipos de conversores e extensões de marcação para XAML](type-converters-and-markup-extensions-for-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="d82b6-216">Accessing services and the services available are documented in the topic [Type Converters and Markup Extensions for XAML](type-converters-and-markup-extensions-for-xaml.md).</span></span>  
  
<a name="property_element_usage_of_a_markup_extension"></a>   
## <a name="property-element-usage-of-a-markup-extension"></a><span data-ttu-id="d82b6-217">Uso de elemento de propriedade de uma extensão de marcação</span><span class="sxs-lookup"><span data-stu-id="d82b6-217">Property Element Usage of a Markup Extension</span></span>  
 <span data-ttu-id="d82b6-218">Os cenários para usos de extensão de marcação geralmente são criados com base na extensão de marcação no uso de atributo.</span><span class="sxs-lookup"><span data-stu-id="d82b6-218">The scenarios for markup extension usages are often designed around using the markup extension in attribute usage.</span></span> <span data-ttu-id="d82b6-219">No entanto, também é possível definir a classe de backup para dar suporte ao uso do elemento de propriedade.</span><span class="sxs-lookup"><span data-stu-id="d82b6-219">However, it is also potentially possible to define the backing class to support property element usage.</span></span>  
  
 <span data-ttu-id="d82b6-220">Para dar suporte ao uso do elemento de propriedade de sua extensão de marcação, defina um construtor público sem parâmetros.</span><span class="sxs-lookup"><span data-stu-id="d82b6-220">To support property element usage of your markup extension, define a public parameterless constructor.</span></span> <span data-ttu-id="d82b6-221">Deve ser um construtor de instância não um construtor estático.</span><span class="sxs-lookup"><span data-stu-id="d82b6-221">This should be an instance constructor not a static constructor.</span></span> <span data-ttu-id="d82b6-222">Isso é necessário porque um processador XAML geralmente deve invocar o construtor sem parâmetros em qualquer elemento de objeto que ele processa da marcação, e isso inclui classes de extensão de marcação como elementos de objeto.</span><span class="sxs-lookup"><span data-stu-id="d82b6-222">This is required because a XAML processor must generally invoke the parameterless constructor on any object element it processes from markup, and this includes markup extension classes as object elements.</span></span> <span data-ttu-id="d82b6-223">Para cenários avançados, você pode definir caminhos de construção não padrão para classes.</span><span class="sxs-lookup"><span data-stu-id="d82b6-223">For advanced scenarios, you can define non-default construction paths for classes.</span></span> <span data-ttu-id="d82b6-224">(Para obter mais informações, consulte a [diretiva x:FactoryMethod](x-factorymethod-directive.md).) No entanto, você não deve usar esses padrões para fins de extensão de marcação porque isso torna a descoberta do padrão de uso muito mais difícil, tanto para designers quanto para usuários de marcação bruta.</span><span class="sxs-lookup"><span data-stu-id="d82b6-224">(For more information, see [x:FactoryMethod Directive](x-factorymethod-directive.md).) However, you should not use these patterns for markup extension purposes because this makes discovery of the usage pattern much more difficult, both for designers and for users of raw markup.</span></span>  
  
<a name="attributing_for_a_custom_markup_extension"></a>   
## <a name="attributing-for-a-custom-markup-extension"></a><span data-ttu-id="d82b6-225">Atribuindo para uma extensão de marcação personalizada</span><span class="sxs-lookup"><span data-stu-id="d82b6-225">Attributing for a Custom Markup Extension</span></span>  
 <span data-ttu-id="d82b6-226">Para dar suporte a ambientes de design e a certos cenários de gravador de objeto XAML, você deve atribuir um tipo de suporte de extensão de marcação com vários atributos CLR.</span><span class="sxs-lookup"><span data-stu-id="d82b6-226">To support both design environments and certain XAML object writer scenarios, you should attribute a markup extension support type with several CLR attributes.</span></span> <span data-ttu-id="d82b6-227">Esses atributos relatam o uso da extensão de marcação pretendida.</span><span class="sxs-lookup"><span data-stu-id="d82b6-227">These attributes report the intended markup extension usage.</span></span>  
  
 <span data-ttu-id="d82b6-228"><xref:System.Windows.Markup.MarkupExtensionReturnTypeAttribute>relata as <xref:System.Type> informações para o tipo de objeto <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> que retorna.</span><span class="sxs-lookup"><span data-stu-id="d82b6-228"><xref:System.Windows.Markup.MarkupExtensionReturnTypeAttribute> reports the <xref:System.Type> information for the object type that <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> returns.</span></span> <span data-ttu-id="d82b6-229">Por sua assinatura pura, <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> retorna <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="d82b6-229">By its pure signature, <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> returns <xref:System.Object>.</span></span> <span data-ttu-id="d82b6-230">Mas vários consumidores podem querer informações de tipo de retorno mais precisas.</span><span class="sxs-lookup"><span data-stu-id="d82b6-230">But various consumers might want more precise return type information.</span></span> <span data-ttu-id="d82b6-231">Isso inclui:</span><span class="sxs-lookup"><span data-stu-id="d82b6-231">This includes:</span></span>  
  
- <span data-ttu-id="d82b6-232">Designers e IDEs, que podem ser capazes de fornecer suporte com reconhecimento de tipo para usos de extensão de marcação.</span><span class="sxs-lookup"><span data-stu-id="d82b6-232">Designers and IDEs, who might be able to provide type-aware support for markup extension usages.</span></span>  
  
- <span data-ttu-id="d82b6-233">Implementações avançadas `SetMarkupExtension` de manipuladores em classes de destino, que podem depender da reflexão para determinar o tipo de retorno de uma extensão de marcação em vez <xref:System.Windows.Markup.MarkupExtension> de ramificar em implementações conhecidas específicas por nome.</span><span class="sxs-lookup"><span data-stu-id="d82b6-233">Advanced implementations of `SetMarkupExtension` handlers on target classes, which might rely on reflection to determine a markup extension's return type instead of branching on specific known <xref:System.Windows.Markup.MarkupExtension> implementations by name.</span></span>  
  
<a name="serialization_of_markup_extension_usages"></a>   
## <a name="serialization-of-markup-extension-usages"></a><span data-ttu-id="d82b6-234">Serialização de usos de extensão de marcação</span><span class="sxs-lookup"><span data-stu-id="d82b6-234">Serialization of Markup Extension Usages</span></span>  
 <span data-ttu-id="d82b6-235">Quando um gravador de objeto XAML processa um uso e chamadas <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>de extensão de marcação, o contexto para ele que está sendo um uso de extensão de marcação persiste no fluxo do nó XAML, mas não no grafo do objeto.</span><span class="sxs-lookup"><span data-stu-id="d82b6-235">When a XAML object writer processes a markup extension usage and calls <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, the context for it previously being a markup extension usage persists in the XAML node stream but not in the object graph.</span></span> <span data-ttu-id="d82b6-236">No gráfico do objeto, somente o valor é preservado.</span><span class="sxs-lookup"><span data-stu-id="d82b6-236">In the object graph, only the value is preserved.</span></span> <span data-ttu-id="d82b6-237">Se você tiver cenários de design ou outros motivos para persistir o uso da extensão de marcação original na saída serializada, você deverá projetar sua própria infraestrutura para acompanhar os usos da extensão de marcação do fluxo do nó XAML do caminho de carga.</span><span class="sxs-lookup"><span data-stu-id="d82b6-237">If you have design scenarios or other reasons for persisting the original markup extension usage into the serialized output, you must design your own infrastructure for tracking the markup extension usages from the load path XAML node stream.</span></span> <span data-ttu-id="d82b6-238">Você pode implementar o comportamento para recriar os elementos do fluxo do nó a partir do caminho de carga e reproduzi-los de volta para os gravadores XAML para serialização no caminho de salvamento, substituindo o valor na posição apropriada do fluxo do nó.</span><span class="sxs-lookup"><span data-stu-id="d82b6-238">You can implement behavior to recreate the elements of the node stream from the load path and play them back to XAML writers for serialization in the save path, substituting for the value in the appropriate position of the node stream.</span></span>  
  
<a name="markup_extensions_in_the_xaml_node_stream"></a>   
## <a name="markup-extensions-in-the-xaml-node-stream"></a><span data-ttu-id="d82b6-239">Extensões de marcação no fluxo do nó XAML</span><span class="sxs-lookup"><span data-stu-id="d82b6-239">Markup Extensions in the XAML Node Stream</span></span>  
 <span data-ttu-id="d82b6-240">Se você estiver trabalhando com um fluxo de nó XAML no caminho de carga, um uso de extensão de marcação aparecerá no fluxo do nó como um objeto.</span><span class="sxs-lookup"><span data-stu-id="d82b6-240">If you are working with a XAML node stream on the load path, a markup extension usage appears in the node stream as an object.</span></span>  
  
 <span data-ttu-id="d82b6-241">Se o uso da extensão de marcação usar argumentos posicionais, ele será representado como um objeto Start com um valor de inicialização.</span><span class="sxs-lookup"><span data-stu-id="d82b6-241">If the markup extension usage uses positional arguments, it is represented as a start object with an initialization value.</span></span> <span data-ttu-id="d82b6-242">Como uma representação de texto aproximado, o fluxo do nó é semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="d82b6-242">As a rough text representation, the node stream resembles the following:</span></span>  
  
 <span data-ttu-id="d82b6-243">`StartObject`(<xref:System.Xaml.XamlType> é o tipo de definição da extensão de marcação, não seu tipo de retorno)</span><span class="sxs-lookup"><span data-stu-id="d82b6-243">`StartObject` (<xref:System.Xaml.XamlType> is the markup extension's definition type, not its return type)</span></span>  
  
 <span data-ttu-id="d82b6-244">`StartMember`(o <xref:System.Xaml.XamlMember> nome do é `_InitializationText`)</span><span class="sxs-lookup"><span data-stu-id="d82b6-244">`StartMember` (name of the <xref:System.Xaml.XamlMember> is `_InitializationText`)</span></span>  
  
 <span data-ttu-id="d82b6-245">`Value`(Value são os argumentos posicionais como uma cadeia de caracteres, incluindo os delimitadores intermediários)</span><span class="sxs-lookup"><span data-stu-id="d82b6-245">`Value` (value is the positional arguments as a string including the intervening delimiters)</span></span>  
  
 `EndMember`  
  
 `EndObject`  
  
 <span data-ttu-id="d82b6-246">Um uso de extensão de marcação com argumentos nomeados é representado como um objeto com membros dos nomes relevantes, cada um deles com valores de cadeia de caracteres de texto.</span><span class="sxs-lookup"><span data-stu-id="d82b6-246">A markup extension usage with named arguments is represented as an object with members of the relevant names, each set with text string values.</span></span>  
  
 <span data-ttu-id="d82b6-247">Na verdade, invocar a `ProvideValue` implementação de uma extensão de marcação requer o contexto do esquema XAML porque isso requer o mapeamento de tipo e a criação de uma instância de tipo de suporte de extensão de marcação.</span><span class="sxs-lookup"><span data-stu-id="d82b6-247">Actually invoking the `ProvideValue` implementation of a markup extension requires the XAML schema context because that requires type-mapping and creating a markup extension support type instance.</span></span> <span data-ttu-id="d82b6-248">Essa é uma das razões pelas quais os usos da extensão de marcação são preservados dessa maneira no padrão .NET Framework fluxos de nó de serviços XAML – a parte do leitor de um caminho de carga geralmente não tem o contexto de esquema XAML necessário disponível.</span><span class="sxs-lookup"><span data-stu-id="d82b6-248">This is one reason why markup extension usages are preserved this way in the default .NET Framework XAML Services node streams -  the reader part of a load path often does not have the necessary XAML schema context available.</span></span>  
  
 <span data-ttu-id="d82b6-249">Se você estiver trabalhando com um fluxo de nó XAML no caminho de salvamento, geralmente não há nada presente em uma representação de gráfico de objeto que possa informar que o objeto a ser serializado foi originalmente fornecido por um uso de `ProvideValue` extensão de marcação e um resultado.</span><span class="sxs-lookup"><span data-stu-id="d82b6-249">If you are working with a XAML node stream on the save path, there generally is nothing present in an object graph representation that can inform you that the object to serialize was originally provided by a markup extension usage and a `ProvideValue` result.</span></span> <span data-ttu-id="d82b6-250">Os cenários que precisam persistir usos de extensão de marcação para ida e volta durante a captura de outras alterações no grafo de objeto devem planejar suas próprias técnicas para preservar o conhecimento de um uso de extensão de marcação da entrada XAML original.</span><span class="sxs-lookup"><span data-stu-id="d82b6-250">Scenarios that need to persist markup extension usages for round-tripping while also capturing other changes in the object graph must devise their own techniques for preserving the knowledge of a markup extension usage from the original XAML input.</span></span> <span data-ttu-id="d82b6-251">Por exemplo, para restaurar os usos da extensão de marcação, talvez seja necessário trabalhar com o fluxo do nó no caminho de salvamento para restaurar os usos da extensão de marcação ou executar algum tipo de mesclagem entre o XAML original e o XAML arredondado.</span><span class="sxs-lookup"><span data-stu-id="d82b6-251">For example, to restore the markup extension usages, you may need to work with the node stream on the save path in order to restore markup extension usages, or perform some type of merge between the original XAML and the round-tripped XAML.</span></span> <span data-ttu-id="d82b6-252">Algumas estruturas de implementação de XAML, como o WPF, usam tipos intermediários (expressões) para ajudar a representar casos em que os usos de extensão de marcação forneceram os valores.</span><span class="sxs-lookup"><span data-stu-id="d82b6-252">Some XAML-implementing frameworks such as WPF use intermediate types (expressions) to help represent cases where markup extension usages provided the values.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d82b6-253">Consulte também</span><span class="sxs-lookup"><span data-stu-id="d82b6-253">See also</span></span>

- <xref:System.Windows.Markup.MarkupExtension>
- [<span data-ttu-id="d82b6-254">Conversores de tipo e extensões de marcação para XAML</span><span class="sxs-lookup"><span data-stu-id="d82b6-254">Type Converters and Markup Extensions for XAML</span></span>](type-converters-and-markup-extensions-for-xaml.md)
- [<span data-ttu-id="d82b6-255">Extensões de marcação e XAML do WPF</span><span class="sxs-lookup"><span data-stu-id="d82b6-255">Markup Extensions and WPF XAML</span></span>](../wpf/advanced/markup-extensions-and-wpf-xaml.md)
