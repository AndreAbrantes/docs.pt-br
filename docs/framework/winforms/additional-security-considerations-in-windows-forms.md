---
title: Considerações adicionais sobre segurança
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Forms, secure calls to Windows API
- security [Windows Forms]
- security [Windows Forms], calling APIs
- Clipboard [Windows Forms], securing access
ms.assetid: 15abda8b-0527-47c7-aedb-77ab595f2bf1
ms.openlocfilehash: c8d51a57194f1dc536bc4b5d0376987dbfd3b2cf
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/24/2020
ms.locfileid: "76739813"
---
# <a name="additional-security-considerations-in-windows-forms"></a><span data-ttu-id="f3d0c-102">Considerações adicionais sobre Segurança do Windows Forms</span><span class="sxs-lookup"><span data-stu-id="f3d0c-102">Additional Security Considerations in Windows Forms</span></span>
<span data-ttu-id="f3d0c-103">.NET Framework configurações de segurança podem fazer com que seu aplicativo seja executado de forma diferente em um ambiente de confiança parcial do que no computador local.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-103">.NET Framework security settings might cause your application to run differently in a partial trust environment than on your local computer.</span></span> <span data-ttu-id="f3d0c-104">O .NET Framework restringe o acesso a recursos locais críticos como o sistema de arquivos, a rede e as APIs não gerenciadas, entre outras coisas.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-104">The .NET Framework restricts access to such critical local resources as the file system, network, and unmanaged APIs, among other things.</span></span> <span data-ttu-id="f3d0c-105">As configurações de segurança afetam a capacidade de chamar a API do Microsoft Windows ou outras APIs que não podem ser verificadas pelo sistema de segurança.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-105">The security settings affect the ability to call the Microsoft Windows API or other APIs that cannot be verified by the security system.</span></span> <span data-ttu-id="f3d0c-106">A segurança também afeta outros aspectos do seu aplicativo, incluindo acesso a arquivos e dados e impressão.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-106">Security also affects other aspects of your application, including file and data access, and printing.</span></span> <span data-ttu-id="f3d0c-107">Para obter mais informações sobre o acesso a arquivos e dados em um ambiente de confiança parcial, consulte [acesso a dados e arquivos mais seguros em Windows Forms](more-secure-file-and-data-access-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="f3d0c-107">For more information about file and data access in a partial trust environment, see [More Secure File and Data Access in Windows Forms](more-secure-file-and-data-access-in-windows-forms.md).</span></span> <span data-ttu-id="f3d0c-108">Para obter mais informações sobre como imprimir em um ambiente de confiança parcial, consulte [impressão mais segura em Windows Forms](more-secure-printing-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="f3d0c-108">For more information about printing in a partial trust environment, see [More Secure Printing in Windows Forms](more-secure-printing-in-windows-forms.md).</span></span>  
  
 <span data-ttu-id="f3d0c-109">As seções a seguir discutem como trabalhar com a área de transferência, executar a manipulação de janela e chamar a API do Windows de aplicativos que estão sendo executados em um ambiente de confiança parcial.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-109">The following sections discuss how to work with the Clipboard, perform window manipulation, and call the Windows API from applications that are running in a partial trust environment.</span></span>  
  
## <a name="clipboard-access"></a><span data-ttu-id="f3d0c-110">Acesso à área de transferência</span><span class="sxs-lookup"><span data-stu-id="f3d0c-110">Clipboard Access</span></span>  
 <span data-ttu-id="f3d0c-111">A classe <xref:System.Security.Permissions.UIPermission> controla o acesso à área de transferência e o valor de Enumeração associada <xref:System.Security.Permissions.UIPermissionClipboard> indica o nível de acesso.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-111">The <xref:System.Security.Permissions.UIPermission> class controls access to the Clipboard, and the associated <xref:System.Security.Permissions.UIPermissionClipboard> enumeration value indicates the level of access.</span></span> <span data-ttu-id="f3d0c-112">A tabela a seguir mostra os níveis de permissão possíveis.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-112">The following table shows the possible permission levels.</span></span>  
  
|<span data-ttu-id="f3d0c-113">Valor de UIPermissionClipboard</span><span class="sxs-lookup"><span data-stu-id="f3d0c-113">UIPermissionClipboard value</span></span>|<span data-ttu-id="f3d0c-114">Descrição</span><span class="sxs-lookup"><span data-stu-id="f3d0c-114">Description</span></span>|  
|---------------------------------|-----------------|  
|<xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard>|<span data-ttu-id="f3d0c-115">A área de transferência pode ser usada sem restrição.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-115">The Clipboard can be used without restriction.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard>|<span data-ttu-id="f3d0c-116">A área de transferência pode ser usada com algumas restrições.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-116">The Clipboard can be used with some restrictions.</span></span> <span data-ttu-id="f3d0c-117">A capacidade de colocar dados na área de transferência (operações de comando copiar ou recortar) é irrestrita.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-117">The ability to put data on the Clipboard (Copy or Cut command operations) is unrestricted.</span></span> <span data-ttu-id="f3d0c-118">Controles intrínsecos que aceitam colar, como uma caixa de texto, podem aceitar dados da área de transferência, mas os controles de usuário não podem ler programaticamente da área de transferência.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-118">Intrinsic controls that accept paste, such as a text box, can accept Clipboard data, but user controls cannot programmatically read from the Clipboard.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionClipboard.NoClipboard>|<span data-ttu-id="f3d0c-119">Não é possível usar a área de transferência.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-119">The Clipboard cannot be used.</span></span>|  
  
 <span data-ttu-id="f3d0c-120">Por padrão, a zona da intranet local recebe <xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard> acesso e a zona da Internet recebe acesso <xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-120">By default, the Local Intranet zone receives <xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard> access and the Internet zone receives <xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard> access.</span></span> <span data-ttu-id="f3d0c-121">Isso significa que o aplicativo pode copiar dados para a área de transferência, mas o aplicativo não pode colar ou ler de forma programática a partir da área de transferência.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-121">This means that the application can copy data to the Clipboard, but the application cannot programmatically paste to or read from the Clipboard.</span></span> <span data-ttu-id="f3d0c-122">Essas restrições impedem que programas sem confiança total leiam conteúdo copiado para a área de transferência por outro aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-122">These restrictions prevent programs without full trust from reading content copied to the Clipboard by another application.</span></span> <span data-ttu-id="f3d0c-123">Se seu aplicativo exigir acesso completo à área de transferência, mas você não tiver as permissões, você precisará elevar as permissões para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-123">If your application requires full Clipboard access but you do not have the permissions, you will have to elevate the permissions for your application.</span></span> <span data-ttu-id="f3d0c-124">Para obter mais informações sobre como elevar permissões, consulte [Administração de política de segurança geral](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="f3d0c-124">For more information about elevating permissions, see [General Security Policy Administration](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span></span>  
  
## <a name="window-manipulation"></a><span data-ttu-id="f3d0c-125">Manipulação de janela</span><span class="sxs-lookup"><span data-stu-id="f3d0c-125">Window Manipulation</span></span>  
 <span data-ttu-id="f3d0c-126">A classe <xref:System.Security.Permissions.UIPermission> também controla a permissão para executar a manipulação de janela e outras ações relacionadas à interface do usuário, e o valor de enumeração associado <xref:System.Security.Permissions.UIPermissionWindow> indica o nível de acesso.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-126">The <xref:System.Security.Permissions.UIPermission> class also controls permission to perform window manipulation and other UI-related actions, and the associated <xref:System.Security.Permissions.UIPermissionWindow> enumeration value indicates the level of access.</span></span> <span data-ttu-id="f3d0c-127">A tabela a seguir mostra os níveis de permissão possíveis.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-127">The following table shows the possible permission levels.</span></span>  
  
 <span data-ttu-id="f3d0c-128">Por padrão, a zona da intranet local recebe <xref:System.Security.Permissions.UIPermissionWindow.AllWindows> acesso e a zona da Internet recebe acesso <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-128">By default, the Local Intranet zone receives <xref:System.Security.Permissions.UIPermissionWindow.AllWindows> access and the Internet zone receives <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> access.</span></span> <span data-ttu-id="f3d0c-129">Isso significa que, na zona da Internet, o aplicativo pode executar a maioria das ações da janela e da interface do usuário, mas a aparência da janela será modificada.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-129">This means that in the Internet zone, the application can perform most windowing and UI actions, but the window's appearance will be modified.</span></span> <span data-ttu-id="f3d0c-130">A janela modificado exibe uma notificação de balão quando executada pela primeira vez, contém texto de barra de título modificado e requer um botão fechar na barra de título.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-130">The modified window displays a balloon notification when first run, contains modified title bar text, and requires a close button on the title bar.</span></span> <span data-ttu-id="f3d0c-131">A notificação de balão e a barra de título identificam o usuário do aplicativo que o aplicativo está executando sob confiança parcial.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-131">The balloon notification and the title bar identify to the user of the application that the application is running under partial trust.</span></span>  
  
|<span data-ttu-id="f3d0c-132">Valor de UIPermissionWindow</span><span class="sxs-lookup"><span data-stu-id="f3d0c-132">UIPermissionWindow value</span></span>|<span data-ttu-id="f3d0c-133">Descrição</span><span class="sxs-lookup"><span data-stu-id="f3d0c-133">Description</span></span>|  
|------------------------------|-----------------|  
|<xref:System.Security.Permissions.UIPermissionWindow.AllWindows>|<span data-ttu-id="f3d0c-134">Os usuários podem usar todas as janelas e os eventos de entrada do usuário sem restrição.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-134">Users can use all windows and user input events without restriction.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows>|<span data-ttu-id="f3d0c-135">Os usuários podem usar somente janelas de nível superior mais seguras e subjanelas mais seguras para desenhar e podem usar apenas eventos de entrada do usuário para a interface do usuário nessas janelas e subjanelas de nível superior.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-135">Users can use only safer top-level windows and safer subwindows for drawing, and can use only user input events for the user interface within those top-level windows and subwindows.</span></span> <span data-ttu-id="f3d0c-136">Essas janelas mais seguras são claramente rotuladas e têm restrições de tamanho mínimo e máximo.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-136">These safer windows are clearly labeled and have minimum and maximum size restrictions.</span></span> <span data-ttu-id="f3d0c-137">As restrições impedem ataques de falsificação potencialmente prejudiciais, como a imitação de telas de logon do sistema ou a área de trabalho do sistema, e restringem o acesso programático a janelas pai, APIs relacionadas ao foco e o uso do controle de <xref:System.Windows.Forms.ToolTip>,</span><span class="sxs-lookup"><span data-stu-id="f3d0c-137">The restrictions prevent potentially harmful spoofing attacks, such as imitating system logon screens or the system desktop, and restricts programmatic access to parent windows, focus-related APIs, and use of the <xref:System.Windows.Forms.ToolTip> control,</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows>|<span data-ttu-id="f3d0c-138">Os usuários podem usar somente subwindows mais seguros para desenhar e podem usar apenas eventos de entrada do usuário para a interface do usuário dentro dessa subjanela.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-138">Users can use only safer subwindows for drawing, and can use only user input events for the user interface within that subwindow.</span></span> <span data-ttu-id="f3d0c-139">Um controle exibido em um navegador é um exemplo de uma subjanela mais segura.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-139">A control displayed within a browser is an example of a safer subwindow.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.NoWindows>|<span data-ttu-id="f3d0c-140">Os usuários não podem usar as janelas ou os eventos da interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-140">Users cannot use any windows or user interface events.</span></span> <span data-ttu-id="f3d0c-141">Nenhuma interface do usuário pode ser usada.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-141">No user interface can be used.</span></span>|  
  
 <span data-ttu-id="f3d0c-142">Cada nível de permissão identificado pela enumeração de <xref:System.Security.Permissions.UIPermissionWindow> permite menos ações do que o nível acima.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-142">Each permission level identified by the <xref:System.Security.Permissions.UIPermissionWindow> enumeration allows fewer actions than the level above it.</span></span> <span data-ttu-id="f3d0c-143">As tabelas a seguir indicam as ações que são restritas pelo <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> e valores de <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-143">The following tables indicate the actions that are restricted by the <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> and <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> values.</span></span> <span data-ttu-id="f3d0c-144">Para obter permissões exatas que são necessárias para cada membro, consulte a referência para esse membro na documentação da biblioteca de classes do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-144">For exact permissions that are required for each member, see the reference for that member in the .NET Framework class library documentation.</span></span>  
  
 <span data-ttu-id="f3d0c-145"><xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> permissão restringe as ações listadas na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-145"><xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> permission restricts the actions listed in the following table.</span></span>  
  
|<span data-ttu-id="f3d0c-146">Componente</span><span class="sxs-lookup"><span data-stu-id="f3d0c-146">Component</span></span>|<span data-ttu-id="f3d0c-147">Ações restritas</span><span class="sxs-lookup"><span data-stu-id="f3d0c-147">Restricted actions</span></span>|  
|---------------|------------------------|  
|<xref:System.Windows.Forms.Application>|<span data-ttu-id="f3d0c-148">-Definindo a propriedade <xref:System.Windows.Forms.Application.SafeTopLevelCaptionFormat%2A>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-148">-   Setting the <xref:System.Windows.Forms.Application.SafeTopLevelCaptionFormat%2A> property.</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="f3d0c-149">-Obtendo a propriedade <xref:System.Windows.Forms.Control.Parent%2A>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-149">-   Getting the <xref:System.Windows.Forms.Control.Parent%2A> property.</span></span><br /><span data-ttu-id="f3d0c-150">-Definindo a propriedade `Region`.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-150">-   Setting the `Region` property.</span></span><br /><span data-ttu-id="f3d0c-151">-Chamando o método <xref:System.Windows.Forms.Control.FindForm%2A>, <xref:System.Windows.Forms.Control.Focus%2A>, <xref:System.Windows.Forms.Control.FromChildHandle%2A> e <xref:System.Windows.Forms.Control.FromHandle%2A>, <xref:System.Windows.Forms.Control.PreProcessMessage%2A>, <xref:System.Windows.Forms.Control.ReflectMessage%2A>ou <xref:System.Windows.Forms.Control.SetTopLevel%2A>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-151">-   Calling the <xref:System.Windows.Forms.Control.FindForm%2A> , <xref:System.Windows.Forms.Control.Focus%2A>, <xref:System.Windows.Forms.Control.FromChildHandle%2A> and <xref:System.Windows.Forms.Control.FromHandle%2A>, <xref:System.Windows.Forms.Control.PreProcessMessage%2A>, <xref:System.Windows.Forms.Control.ReflectMessage%2A>, or <xref:System.Windows.Forms.Control.SetTopLevel%2A> method.</span></span><br /><span data-ttu-id="f3d0c-152">-Chamar o método <xref:System.Windows.Forms.Control.GetChildAtPoint%2A> se o controle retornado não for um filho do controle de chamada.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-152">-   Calling the <xref:System.Windows.Forms.Control.GetChildAtPoint%2A> method if the control returned is not a child of the calling control.</span></span><br /><span data-ttu-id="f3d0c-153">-Modificar o foco de controle dentro de um controle de contêiner.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-153">-   Modify control focus inside a container control.</span></span>|  
|<xref:System.Windows.Forms.Cursor>|<span data-ttu-id="f3d0c-154">-Definindo a propriedade <xref:System.Windows.Forms.Cursor.Clip%2A>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-154">-   Setting the <xref:System.Windows.Forms.Cursor.Clip%2A> property.</span></span><br /><span data-ttu-id="f3d0c-155">-Chamando o método <xref:System.Windows.Forms.Control.Hide%2A>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-155">-   Calling the <xref:System.Windows.Forms.Control.Hide%2A> method.</span></span>|  
|<xref:System.Windows.Forms.DataGrid>|<span data-ttu-id="f3d0c-156">-Chamando o método <xref:System.Windows.Forms.ContainerControl.ProcessTabKey%2A>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-156">-   Calling the <xref:System.Windows.Forms.ContainerControl.ProcessTabKey%2A> method.</span></span>|  
|<xref:System.Windows.Forms.Form>|<span data-ttu-id="f3d0c-157">-Obtendo a propriedade <xref:System.Windows.Forms.Form.ActiveForm%2A> ou <xref:System.Windows.Forms.Form.MdiParent%2A>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-157">-   Getting the <xref:System.Windows.Forms.Form.ActiveForm%2A> or <xref:System.Windows.Forms.Form.MdiParent%2A> property.</span></span><br /><span data-ttu-id="f3d0c-158">-Definindo a propriedade <xref:System.Windows.Forms.Form.ControlBox%2A>, <xref:System.Windows.Forms.Form.ShowInTaskbar%2A>ou <xref:System.Windows.Forms.Form.TopMost%2A>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-158">-   Setting the <xref:System.Windows.Forms.Form.ControlBox%2A>, <xref:System.Windows.Forms.Form.ShowInTaskbar%2A>, or <xref:System.Windows.Forms.Form.TopMost%2A> property.</span></span><br /><span data-ttu-id="f3d0c-159">-Definindo a propriedade <xref:System.Windows.Forms.Form.Opacity%2A> abaixo de 50%.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-159">-   Setting the <xref:System.Windows.Forms.Form.Opacity%2A> property below 50%.</span></span><br /><span data-ttu-id="f3d0c-160">-Definindo a propriedade <xref:System.Windows.Forms.Form.WindowState%2A> como <xref:System.Windows.Forms.FormWindowState.Minimized> programaticamente.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-160">-   Setting the <xref:System.Windows.Forms.Form.WindowState%2A> property to <xref:System.Windows.Forms.FormWindowState.Minimized> programmatically.</span></span><br /><span data-ttu-id="f3d0c-161">-Chamando o método <xref:System.Windows.Forms.Form.Activate%2A>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-161">-   Calling the <xref:System.Windows.Forms.Form.Activate%2A> method.</span></span><br /><span data-ttu-id="f3d0c-162">-Usando o <xref:System.Windows.Forms.FormBorderStyle.None>, <xref:System.Windows.Forms.FormBorderStyle.FixedToolWindow>e <xref:System.Windows.Forms.FormBorderStyle.SizableToolWindow><xref:System.Windows.Forms.FormBorderStyle> valores de enumeração.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-162">-   Using the <xref:System.Windows.Forms.FormBorderStyle.None>, <xref:System.Windows.Forms.FormBorderStyle.FixedToolWindow>, and <xref:System.Windows.Forms.FormBorderStyle.SizableToolWindow><xref:System.Windows.Forms.FormBorderStyle> enumeration values.</span></span>|  
|<xref:System.Windows.Forms.NotifyIcon>|<span data-ttu-id="f3d0c-163">-O uso do componente <xref:System.Windows.Forms.NotifyIcon> é completamente restrito.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-163">-   Using the <xref:System.Windows.Forms.NotifyIcon> component is completely restricted.</span></span>|  
  
 <span data-ttu-id="f3d0c-164">O valor de <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> restringe as ações listadas na tabela a seguir, além das restrições colocadas pelo valor de <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-164">The <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> value restricts the actions listed in the following table, in addition to the restrictions placed by the <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> value.</span></span>  
  
|<span data-ttu-id="f3d0c-165">Componente</span><span class="sxs-lookup"><span data-stu-id="f3d0c-165">Component</span></span>|<span data-ttu-id="f3d0c-166">Ações restritas</span><span class="sxs-lookup"><span data-stu-id="f3d0c-166">Restricted actions</span></span>|  
|---------------|------------------------|  
|<xref:System.Windows.Forms.CommonDialog>|<span data-ttu-id="f3d0c-167">-Mostrando uma caixa de diálogo derivada da classe <xref:System.Windows.Forms.CommonDialog>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-167">-   Showing a dialog box derived from the <xref:System.Windows.Forms.CommonDialog> class.</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="f3d0c-168">-Chamando o método <xref:System.Windows.Forms.Control.CreateGraphics%2A>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-168">-   Calling the <xref:System.Windows.Forms.Control.CreateGraphics%2A> method.</span></span><br /><span data-ttu-id="f3d0c-169">-Definindo a propriedade <xref:System.Windows.Forms.Control.Cursor%2A>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-169">-   Setting the <xref:System.Windows.Forms.Control.Cursor%2A> property.</span></span>|  
|<xref:System.Windows.Forms.Control.Cursor%2A>|<span data-ttu-id="f3d0c-170">-Definindo a propriedade <xref:System.Windows.Forms.Cursor.Current%2A>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-170">-   Setting the <xref:System.Windows.Forms.Cursor.Current%2A> property.</span></span>|  
|<xref:System.Windows.Forms.MessageBox>|<span data-ttu-id="f3d0c-171">-Chamando o método <xref:System.Windows.Forms.Form.Show%2A>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-171">-   Calling the <xref:System.Windows.Forms.Form.Show%2A> method.</span></span>|  
  
### <a name="hosting-third-party-controls"></a><span data-ttu-id="f3d0c-172">Hospedando controles de terceiros</span><span class="sxs-lookup"><span data-stu-id="f3d0c-172">Hosting Third-Party Controls</span></span>  
 <span data-ttu-id="f3d0c-173">Outro tipo de manipulação de janela pode ocorrer se seus formulários hospedarem controles de terceiros.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-173">Another kind of window manipulation can occur if your forms host third-party controls.</span></span> <span data-ttu-id="f3d0c-174">Um controle de terceiros é qualquer <xref:System.Windows.Forms.UserControl> personalizado que você não tenha desenvolvido e compilado por conta própria.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-174">A third-party control is any custom <xref:System.Windows.Forms.UserControl> that you have not developed and compiled yourself.</span></span> <span data-ttu-id="f3d0c-175">Embora o cenário de hospedagem seja difícil de explorar, é teoricamente possível que um controle de terceiros expanda sua superfície de renderização para cobrir toda a área do formulário.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-175">Although the hosting scenario is hard to exploit, it is theoretically possible for a third-party control to expand its rendering surface to cover the entire area of your form.</span></span> <span data-ttu-id="f3d0c-176">Esse controle poderia, então, imitar uma caixa de diálogo crítica e solicitar informações como combinações de nome de usuário/senha ou números de conta bancária de seus usuários.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-176">This control could then mimic a critical dialog box, and request information such as username/password combinations or bank account numbers from your users.</span></span>  
  
 <span data-ttu-id="f3d0c-177">Para limitar esse risco potencial, use controles de terceiros apenas de fornecedores nos quais você pode confiar.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-177">To limit this potential risk, use third-party controls only from vendors you can trust.</span></span> <span data-ttu-id="f3d0c-178">Se você usar controles de terceiros que você baixou de uma fonte não verificável, recomendamos que você examine o código-fonte em busca de possíveis explorações.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-178">If you use third-party controls you have downloaded from an unverifiable source, we recommend that you review the source code for potential exploits.</span></span> <span data-ttu-id="f3d0c-179">Depois de verificar que a origem é não-mal-intencionada, você deve compilar o assembly por conta própria para garantir que a origem corresponda ao assembly.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-179">After you've verified that the source is non-malicious, you should compile the assembly yourself to ensure that the source matches the assembly.</span></span>  
  
## <a name="windows-api-calls"></a><span data-ttu-id="f3d0c-180">Chamadas à API do Windows</span><span class="sxs-lookup"><span data-stu-id="f3d0c-180">Windows API Calls</span></span>  
 <span data-ttu-id="f3d0c-181">Se o design do aplicativo exigir a chamada de uma função da API do Windows, você está acessando código não gerenciado.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-181">If your application design requires calling a function from the Windows API, you are accessing unmanaged code.</span></span> <span data-ttu-id="f3d0c-182">Nesse caso, as ações do código para a janela ou sistema operacional não podem ser determinadas quando você está trabalhando com valores ou chamadas da API do Windows.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-182">In this case the code's actions to the window or operating system cannot be determined when you are working with Windows API calls or values.</span></span> <span data-ttu-id="f3d0c-183">A classe <xref:System.Security.Permissions.SecurityPermission> e o valor de <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> da enumeração <xref:System.Security.Permissions.SecurityPermissionFlag> controlam o acesso ao código não gerenciado.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-183">The <xref:System.Security.Permissions.SecurityPermission> class and the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> value of the <xref:System.Security.Permissions.SecurityPermissionFlag> enumeration control access to unmanaged code.</span></span> <span data-ttu-id="f3d0c-184">Um aplicativo pode acessar código não gerenciado somente quando ele recebe a permissão <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-184">An application can access unmanaged code only when it is granted the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission.</span></span> <span data-ttu-id="f3d0c-185">Por padrão, somente os aplicativos que estão sendo executados localmente podem chamar código não gerenciado.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-185">By default, only applications that are running locally can call unmanaged code.</span></span>  
  
 <span data-ttu-id="f3d0c-186">Alguns membros de Windows Forms fornecem acesso não gerenciado que requer a permissão <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode>.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-186">Some Windows Forms members provide unmanaged access that requires the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission.</span></span> <span data-ttu-id="f3d0c-187">A tabela a seguir lista os membros no namespace <xref:System.Windows.Forms> que exigem a permissão.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-187">The following table lists the members in the <xref:System.Windows.Forms> namespace that require the permission.</span></span> <span data-ttu-id="f3d0c-188">Para obter mais informações sobre as permissões que são necessárias para um membro, consulte a documentação da biblioteca de classes .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-188">For more information about the permissions that are required for a member, see the .NET Framework class library documentation.</span></span>  
  
|<span data-ttu-id="f3d0c-189">Componente</span><span class="sxs-lookup"><span data-stu-id="f3d0c-189">Component</span></span>|<span data-ttu-id="f3d0c-190">{1&gt;Membro&lt;1}</span><span class="sxs-lookup"><span data-stu-id="f3d0c-190">Member</span></span>|  
|---------------|------------|  
|<xref:System.Windows.Forms.Application>|<span data-ttu-id="f3d0c-191">método de <xref:System.Windows.Forms.Application.AddMessageFilter%2A> de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-191">-   <xref:System.Windows.Forms.Application.AddMessageFilter%2A> method</span></span><br /><span data-ttu-id="f3d0c-192">-   <xref:System.Windows.Forms.Application.CurrentInputLanguage%2A> Propriedade</span><span class="sxs-lookup"><span data-stu-id="f3d0c-192">-   <xref:System.Windows.Forms.Application.CurrentInputLanguage%2A> property</span></span><br /><span data-ttu-id="f3d0c-193">método de `Exit` de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-193">-   `Exit` method</span></span><br /><span data-ttu-id="f3d0c-194">método de <xref:System.Windows.Forms.Application.ExitThread%2A> de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-194">-   <xref:System.Windows.Forms.Application.ExitThread%2A> method</span></span><br /><span data-ttu-id="f3d0c-195">evento de <xref:System.Windows.Forms.Application.ThreadException> de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-195">-   <xref:System.Windows.Forms.Application.ThreadException> event</span></span>|  
|<xref:System.Windows.Forms.CommonDialog>|<span data-ttu-id="f3d0c-196">método de <xref:System.Windows.Forms.CommonDialog.HookProc%2A> de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-196">-   <xref:System.Windows.Forms.CommonDialog.HookProc%2A> method</span></span><br /><span data-ttu-id="f3d0c-197">-   <xref:System.Windows.Forms.CommonDialog.OwnerWndProc%2A>método</span><span class="sxs-lookup"><span data-stu-id="f3d0c-197">-   <xref:System.Windows.Forms.CommonDialog.OwnerWndProc%2A>\ method</span></span><br /><span data-ttu-id="f3d0c-198">método de <xref:System.Windows.Forms.CommonDialog.Reset%2A> de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-198">-   <xref:System.Windows.Forms.CommonDialog.Reset%2A> method</span></span><br /><span data-ttu-id="f3d0c-199">método de <xref:System.Windows.Forms.CommonDialog.RunDialog%2A> de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-199">-   <xref:System.Windows.Forms.CommonDialog.RunDialog%2A> method</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="f3d0c-200">método de <xref:System.Windows.Forms.Control.CreateParams%2A> de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-200">-   <xref:System.Windows.Forms.Control.CreateParams%2A> method</span></span><br /><span data-ttu-id="f3d0c-201">método de <xref:System.Windows.Forms.Control.DefWndProc%2A> de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-201">-   <xref:System.Windows.Forms.Control.DefWndProc%2A> method</span></span><br /><span data-ttu-id="f3d0c-202">método de <xref:System.Windows.Forms.Control.DestroyHandle%2A> de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-202">-   <xref:System.Windows.Forms.Control.DestroyHandle%2A> method</span></span><br /><span data-ttu-id="f3d0c-203">método de <xref:System.Windows.Forms.Control.WndProc%2A> de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-203">-   <xref:System.Windows.Forms.Control.WndProc%2A> method</span></span>|  
|<xref:System.Windows.Forms.Help>|<span data-ttu-id="f3d0c-204">métodos de <xref:System.Windows.Forms.Help.ShowHelp%2A> -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-204">-   <xref:System.Windows.Forms.Help.ShowHelp%2A> methods</span></span><br /><span data-ttu-id="f3d0c-205">método de <xref:System.Windows.Forms.Help.ShowHelpIndex%2A> de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-205">-   <xref:System.Windows.Forms.Help.ShowHelpIndex%2A> method</span></span>|  
|<xref:System.Windows.Forms.NativeWindow>|<span data-ttu-id="f3d0c-206">classe de <xref:System.Windows.Forms.NativeWindow> de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-206">-   <xref:System.Windows.Forms.NativeWindow> class</span></span>|  
|<xref:System.Windows.Forms.Screen>|<span data-ttu-id="f3d0c-207">método de <xref:System.Windows.Forms.Screen.FromHandle%2A> de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-207">-   <xref:System.Windows.Forms.Screen.FromHandle%2A> method</span></span>|  
|<xref:System.Windows.Forms.SendKeys>|<span data-ttu-id="f3d0c-208">método de <xref:System.Windows.Forms.SendKeys.Send%2A> de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-208">-   <xref:System.Windows.Forms.SendKeys.Send%2A> method</span></span><br /><span data-ttu-id="f3d0c-209">método de <xref:System.Windows.Forms.SendKeys.SendWait%2A> de -   </span><span class="sxs-lookup"><span data-stu-id="f3d0c-209">-   <xref:System.Windows.Forms.SendKeys.SendWait%2A> method</span></span>|  
  
 <span data-ttu-id="f3d0c-210">Se seu aplicativo não tiver permissão para chamar código não gerenciado, seu aplicativo deverá solicitar <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permissão ou você deve considerar maneiras alternativas de implementar recursos; em muitos casos, o Windows Forms fornece uma alternativa gerenciada para funções de API do Windows.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-210">If your application does not have permission to call unmanaged code, your application must request <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission, or you must consider alternative ways of implementing features; in many cases, Windows Forms provides a managed alternative to Windows API functions.</span></span> <span data-ttu-id="f3d0c-211">Se nenhum meio alternativo existir e o aplicativo precisar acessar o código não gerenciado, você precisará elevar as permissões para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-211">If no alternative means exist and the application must access unmanaged code, you will have to elevate the permissions for the application.</span></span>  
  
 <span data-ttu-id="f3d0c-212">A permissão para chamar código não gerenciado permite que um aplicativo execute a maioria de qualquer coisa.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-212">Permission to call unmanaged code allows an application to perform most anything.</span></span> <span data-ttu-id="f3d0c-213">Portanto, a permissão para chamar código não gerenciado só deve ser concedida para aplicativos provenientes de uma fonte confiável.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-213">Therefore, permission to call unmanaged code should only be granted for applications that come from a trusted source.</span></span> <span data-ttu-id="f3d0c-214">Como alternativa, dependendo do aplicativo, a parte da funcionalidade do aplicativo que faz a chamada para código não gerenciado poderia ser opcional ou habilitada somente no ambiente de confiança total.</span><span class="sxs-lookup"><span data-stu-id="f3d0c-214">Alternatively, depending on the application, the piece of application functionality that makes the call to unmanaged code could be optional, or enabled in the full trust environment only.</span></span> <span data-ttu-id="f3d0c-215">Para obter mais informações sobre permissões perigosas, consulte [permissões perigosas e administração de diretivas](../misc/dangerous-permissions-and-policy-administration.md).</span><span class="sxs-lookup"><span data-stu-id="f3d0c-215">For more information about dangerous permissions, see [Dangerous Permissions and Policy Administration](../misc/dangerous-permissions-and-policy-administration.md).</span></span> <span data-ttu-id="f3d0c-216">Para obter mais informações sobre como elevar permissões, consulte [Administração de política de segurança geral](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="f3d0c-216">For more information about elevating permissions, see [General Security Policy Administration](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f3d0c-217">Consulte também</span><span class="sxs-lookup"><span data-stu-id="f3d0c-217">See also</span></span>

- [<span data-ttu-id="f3d0c-218">Acesso mais seguro a arquivos e a dados nos Windows Forms</span><span class="sxs-lookup"><span data-stu-id="f3d0c-218">More Secure File and Data Access in Windows Forms</span></span>](more-secure-file-and-data-access-in-windows-forms.md)
- [<span data-ttu-id="f3d0c-219">Impressão mais segura nos Windows Forms</span><span class="sxs-lookup"><span data-stu-id="f3d0c-219">More Secure Printing in Windows Forms</span></span>](more-secure-printing-in-windows-forms.md)
- [<span data-ttu-id="f3d0c-220">Visão geral da segurança dos Windows Forms</span><span class="sxs-lookup"><span data-stu-id="f3d0c-220">Security in Windows Forms Overview</span></span>](security-in-windows-forms-overview.md)
- [<span data-ttu-id="f3d0c-221">Segurança do Windows Forms</span><span class="sxs-lookup"><span data-stu-id="f3d0c-221">Windows Forms Security</span></span>](windows-forms-security.md)
- [<span data-ttu-id="f3d0c-222">Protegendo aplicativos ClickOnce</span><span class="sxs-lookup"><span data-stu-id="f3d0c-222">Securing ClickOnce Applications</span></span>](/visualstudio/deployment/securing-clickonce-applications)
