---
title: Visão geral sobre configurações do aplicativo
description: Saiba mais sobre o recurso de configurações de aplicativo do Windows Forms, por exemplo, como criar e armazenar dados de configurações em nome do seu aplicativo e de seus usuários.
ms.date: 03/30/2017
f1_keywords:
- ApplicationsSettingsOverview
helpviewer_keywords:
- application settings [Windows Forms], about application settings
- dynamic properties
- user preferences [Windows Forms], tracking
ms.assetid: 0dd8bca5-a6bf-4ac4-8eec-5725d08b38dc
ms.openlocfilehash: 864cab72b26ff7989c570347fb88b4009e7d705a
ms.sourcegitcommit: dc2feef0794cf41dbac1451a13b8183258566c0e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/24/2020
ms.locfileid: "85324217"
---
# <a name="application-settings-overview"></a><span data-ttu-id="26a44-103">Visão geral sobre configurações do aplicativo</span><span class="sxs-lookup"><span data-stu-id="26a44-103">Application Settings Overview</span></span>

<span data-ttu-id="26a44-104">Este artigo discute como criar e armazenar dados de configurações em nome do seu aplicativo e de seus usuários.</span><span class="sxs-lookup"><span data-stu-id="26a44-104">This article discusses how to create and store settings data on behalf of your application and your users.</span></span>

 <span data-ttu-id="26a44-105">O recurso Configurações de Aplicativo dos Windows Forms facilita a criação, o repositório e a manutenção de aplicativos personalizados e preferências do usuário no computador cliente.</span><span class="sxs-lookup"><span data-stu-id="26a44-105">The Application Settings feature of Windows Forms makes it easy to create, store, and maintain custom application and user preferences on the client computer.</span></span> <span data-ttu-id="26a44-106">Com as configurações de aplicativo dos Windows Forms, você pode armazenar não apenas dados do aplicativo, como cadeias de conexão de banco de dados, mas também dados específicos do usuário, como as preferências de aplicativo do usuário.</span><span class="sxs-lookup"><span data-stu-id="26a44-106">With Windows Forms application settings, you can store not only application data such as database connection strings, but also user-specific data, such as user application preferences.</span></span> <span data-ttu-id="26a44-107">Usando o Visual Studio ou um código gerenciado personalizado, você pode criar novas configurações, lê-las do disco e gravá-las nele, associá-las a propriedades em seus formulários e validar os dados das configurações antes de carregar e salvar.</span><span class="sxs-lookup"><span data-stu-id="26a44-107">Using Visual Studio or custom managed code, you can create new settings, read them from and write them to disk, bind them to properties on your forms, and validate settings data prior to loading and saving.</span></span>

 <span data-ttu-id="26a44-108">As configurações do aplicativo permitem que os desenvolvedores Salvem o estado em seu aplicativo usando muito pouco código personalizado e é uma substituição das propriedades dinâmicas nas versões anteriores do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="26a44-108">Application settings enables developers to save state in their application using very little custom code, and is a replacement for dynamic properties in previous versions of the .NET Framework.</span></span> <span data-ttu-id="26a44-109">As configurações de aplicativo contêm muitas melhorias com relação às propriedades dinâmicas, que são somente leitura, têm associação tardia e exigem mais programação personalizada.</span><span class="sxs-lookup"><span data-stu-id="26a44-109">Application settings contains many improvements over dynamic properties, which are read-only, late-bound, and require more custom programming.</span></span> <span data-ttu-id="26a44-110">As classes de propriedade dinâmica foram mantidas no .NET Framework 2,0, mas são apenas classes de shell que encapsulam de forma fina as classes de configurações do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="26a44-110">The dynamic property classes have been retained in .NET Framework 2.0, but they are just shell classes that thinly wrap the application settings classes.</span></span>

## <a name="what-are-application-settings"></a><span data-ttu-id="26a44-111">O que são as configurações de aplicativo?</span><span class="sxs-lookup"><span data-stu-id="26a44-111">What Are Application Settings?</span></span>
 <span data-ttu-id="26a44-112">Seus aplicativos de Windows Forms geralmente exigirão dados críticos para a execução do aplicativo, mas que você não deseja incluir diretamente no código do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="26a44-112">Your Windows Forms applications will often require data that's critical to running the application, but which you don't want to include directly in the application's code.</span></span> <span data-ttu-id="26a44-113">Se seu aplicativo usar um serviço Web ou um servidor de banco de dados, talvez você queira armazenar essas informações em um arquivo separado, para que você possa alterá-las no futuro sem recompilar.</span><span class="sxs-lookup"><span data-stu-id="26a44-113">If your application uses a Web Service or a database server, you may want to store this information in a separate file, so that you can change it in the future without recompiling.</span></span> <span data-ttu-id="26a44-114">Da mesma forma, seus aplicativos podem exigir o armazenamento de dados que são específicos ao usuário atual.</span><span class="sxs-lookup"><span data-stu-id="26a44-114">Similarly, your applications may require storing data that is specific to the current user.</span></span> <span data-ttu-id="26a44-115">A maioria dos aplicativos, por exemplo, tem preferências do usuário que personalizam a aparência e o comportamento do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="26a44-115">Most applications, for example, have user preferences that customize the application's appearance and behavior.</span></span>

 <span data-ttu-id="26a44-116">As configurações de aplicativo abordam essas duas necessidades fornecendo uma maneira fácil de armazenar configurações de escopo do aplicativo e de escopo do usuário no computador cliente.</span><span class="sxs-lookup"><span data-stu-id="26a44-116">Application settings addresses both needs by providing an easy way to store both application-scoped and user-scoped settings on the client computer.</span></span> <span data-ttu-id="26a44-117">Usando o Visual Studio ou um editor de código, você define uma configuração para uma determinada propriedade especificando seu nome, tipo de dados e escopo (aplicativo ou usuário).</span><span class="sxs-lookup"><span data-stu-id="26a44-117">Using Visual Studio or a code editor, you define a setting for a given property by specifying its name, data type, and scope (application or user).</span></span> <span data-ttu-id="26a44-118">Você pode até mesmo colocar configurações relacionadas em grupos nomeados para facilitar o uso e a legibilidade.</span><span class="sxs-lookup"><span data-stu-id="26a44-118">You can even place related settings into named groups for easier use and readability.</span></span> <span data-ttu-id="26a44-119">Uma vez definidas, essas configurações são mantidas e lidas na memória automaticamente em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="26a44-119">Once defined, these settings are persisted and read back into memory automatically at run time.</span></span> <span data-ttu-id="26a44-120">Uma arquitetura conectável permite que o mecanismo de persistência seja alterado, mas, por padrão, o sistema de arquivos local é usado.</span><span class="sxs-lookup"><span data-stu-id="26a44-120">A pluggable architecture enables the persistence mechanism to be changed, but by default, the local file system is used.</span></span>

 <span data-ttu-id="26a44-121">As configurações de aplicativo funcionam gravando dados como XML em arquivos de configuração (.config) diferentes, que indicam se a configuração tem escopo do aplicativo ou escopo do usuário.</span><span class="sxs-lookup"><span data-stu-id="26a44-121">Application settings works by persisting data as XML to different configuration (.config) files, corresponding to whether the setting is application-scoped or user-scoped.</span></span> <span data-ttu-id="26a44-122">Na maioria dos casos, as configurações de escopo do aplicativo são somente leitura. Como elas são informações sobre o programa, normalmente você não precisará substituí-las.</span><span class="sxs-lookup"><span data-stu-id="26a44-122">In most cases, the application-scoped settings are read-only; because they are program information, you will typically not need to overwrite them.</span></span> <span data-ttu-id="26a44-123">Por outro lado, as configurações de escopo do usuário poderão ser lidas e gravadas com segurança em tempo de execução, mesmo se seu aplicativo for executado com confiança parcial.</span><span class="sxs-lookup"><span data-stu-id="26a44-123">By contrast, user-scoped settings can be read and written safely at run time, even if your application runs under partial trust.</span></span> <span data-ttu-id="26a44-124">Para obter mais informações sobre a confiança parcial, consulte [Visão geral da segurança dos Windows Forms](../security-in-windows-forms-overview.md).</span><span class="sxs-lookup"><span data-stu-id="26a44-124">For more information about partial trust, see [Security in Windows Forms Overview](../security-in-windows-forms-overview.md).</span></span>

 <span data-ttu-id="26a44-125">As configurações são armazenadas como fragmentos XML em arquivos de configuração.</span><span class="sxs-lookup"><span data-stu-id="26a44-125">Settings are stored as XML fragments in configuration files.</span></span> <span data-ttu-id="26a44-126">Configurações com escopo do aplicativo são representadas pelo elemento `<applicationSettings>` e geralmente são colocadas em *app*.exe.config, em que *app* é o nome do seu arquivo executável principal.</span><span class="sxs-lookup"><span data-stu-id="26a44-126">Application-scoped settings are represented by the `<applicationSettings>` element, and generally are placed in *app*.exe.config, where *app* is the name of your main executable file.</span></span> <span data-ttu-id="26a44-127">As configurações com escopo do usuário são representadas pelo elemento `<userSettings>` e são colocadas em *usuário*.config, em que *usuário* é o nome de usuário da pessoa que está executando o aplicativo no momento.</span><span class="sxs-lookup"><span data-stu-id="26a44-127">User-scoped settings are represented by the `<userSettings>` element and are placed in *user*.config, where *user* is the user name of the person currently running the application.</span></span> <span data-ttu-id="26a44-128">Você precisa implantar o arquivo *app*.exe.config com seu aplicativo. As configurações de arquitetura criarão os arquivos *usuário*.config sob demanda na primeira vez em que o aplicativo salvar configurações para o usuário.</span><span class="sxs-lookup"><span data-stu-id="26a44-128">You must deploy the *app*.exe.config file with your application; the settings architecture will create the *user*.config files on demand the first time the application saves settings for that user.</span></span> <span data-ttu-id="26a44-129">Você também pode definir um bloco `<userSettings>` em *app*.exe.config para fornecer valores padrão para configurações com escopo do usuário.</span><span class="sxs-lookup"><span data-stu-id="26a44-129">You can also define a `<userSettings>` block within *app*.exe.config to provide default values for user-scoped settings.</span></span>

 <span data-ttu-id="26a44-130">Os controles personalizados também podem salvar suas próprias configurações implementando a <xref:System.Configuration.IPersistComponentSettings> interface, que expõe o <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> método.</span><span class="sxs-lookup"><span data-stu-id="26a44-130">Custom controls can also save their own settings by implementing the <xref:System.Configuration.IPersistComponentSettings> interface, which exposes the <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> method.</span></span> <span data-ttu-id="26a44-131">O controle de Windows Forms <xref:System.Windows.Forms.ToolStrip> implementa essa interface para salvar a posição de barras de ferramentas e itens da barra de ferramentas entre sessões do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="26a44-131">The Windows Forms <xref:System.Windows.Forms.ToolStrip> control implements this interface to save the position of toolbars and toolbar items between application sessions.</span></span> <span data-ttu-id="26a44-132">Para obter mais informações sobre controles personalizados e configurações do aplicativo, consulte [Configurações do aplicativo para controles personalizados](application-settings-for-custom-controls.md).</span><span class="sxs-lookup"><span data-stu-id="26a44-132">For more information about custom controls and application settings, see [Application Settings for Custom Controls](application-settings-for-custom-controls.md).</span></span>

## <a name="limitations-of-application-settings"></a><span data-ttu-id="26a44-133">Limitações das configurações de aplicativo</span><span class="sxs-lookup"><span data-stu-id="26a44-133">Limitations of Application Settings</span></span>
 <span data-ttu-id="26a44-134">Não é possível usar as configurações do aplicativo em um aplicativo não gerenciado que hospede o .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="26a44-134">You cannot use application settings in an unmanaged application that hosts the .NET Framework.</span></span> <span data-ttu-id="26a44-135">As configurações não funcionam em ambientes como suplementos do Visual Studio, C++ para Microsoft Office, hospedagem de controles no Internet Explorer ou projetos e suplementos do Microsoft Outlook.</span><span class="sxs-lookup"><span data-stu-id="26a44-135">Settings will not work in such environments as Visual Studio add-ins, C++ for Microsoft Office, control hosting in Internet Explorer, or Microsoft Outlook add-ins and projects.</span></span>

 <span data-ttu-id="26a44-136">Atualmente, não é possível associar a algumas propriedades nos Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="26a44-136">You currently cannot bind to some properties in Windows Forms.</span></span> <span data-ttu-id="26a44-137">O exemplo mais notável é a <xref:System.Windows.Forms.Form.ClientSize%2A> propriedade, pois a associação a essa propriedade causaria um comportamento imprevisível no tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="26a44-137">The most notable example is the <xref:System.Windows.Forms.Form.ClientSize%2A> property, as binding to this property would cause unpredictable behavior at run time.</span></span> <span data-ttu-id="26a44-138">Geralmente, você pode contornar esses problemas salvando e carregando essas configurações programaticamente.</span><span class="sxs-lookup"><span data-stu-id="26a44-138">You can usually work around these issues by saving and loading these settings programmatically.</span></span>

 <span data-ttu-id="26a44-139">As configurações de aplicativo não têm nenhum recurso interno para criptografar informações automaticamente.</span><span class="sxs-lookup"><span data-stu-id="26a44-139">Application settings has no built-in facility for encrypting information automatically.</span></span> <span data-ttu-id="26a44-140">Você nunca deve armazenar informações relacionadas à segurança, como senhas de banco de dados, em texto não criptografado.</span><span class="sxs-lookup"><span data-stu-id="26a44-140">You should never store security-related information, such as database passwords, in clear text.</span></span> <span data-ttu-id="26a44-141">Se quiser armazenar esse tipo de informações confidenciais, você, como desenvolvedor de aplicativos, será responsável por garantir sua segurança.</span><span class="sxs-lookup"><span data-stu-id="26a44-141">If you want to store such sensitive information, you as the application developer are responsible for making sure it is secure.</span></span> <span data-ttu-id="26a44-142">Se quiser armazenar cadeias de conexão, recomendamos que você use a Segurança Integrada do Windows e não recorra ao hard-coding de senhas na URL.</span><span class="sxs-lookup"><span data-stu-id="26a44-142">If you want to store connection strings, we recommend that you use Windows Integrated Security and not resort to hard-coding passwords into the URL.</span></span> <span data-ttu-id="26a44-143">Para obter mais informações, consulte [Segurança de acesso do código e ADO.NET](../../data/adonet/code-access-security.md).</span><span class="sxs-lookup"><span data-stu-id="26a44-143">For more information, see [Code Access Security and ADO.NET](../../data/adonet/code-access-security.md).</span></span>

## <a name="getting-started-with-application-settings"></a><span data-ttu-id="26a44-144">Introdução às Configurações de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="26a44-144">Getting Started with Application Settings</span></span>
 <span data-ttu-id="26a44-145">Se usar o Visual Studio, você poderá definir configurações dentro do Designer de Formulários do Windows usando a propriedade **(ApplicationSettings)** na janela **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="26a44-145">If you use Visual Studio, you can define settings within the Windows Forms Designer using the **(ApplicationSettings)** property in the **Properties** window.</span></span> <span data-ttu-id="26a44-146">Quando você define as configurações dessa forma, o Visual Studio cria automaticamente uma classe wrapper gerenciada personalizada que associa cada configuração a uma propriedade de classe.</span><span class="sxs-lookup"><span data-stu-id="26a44-146">When you define settings this way, Visual Studio automatically creates a custom managed wrapper class that associates each setting with a class property.</span></span> <span data-ttu-id="26a44-147">O Visual Studio também cuida da associação da configuração a uma propriedade em um formulário ou controle, de modo que as configurações do controle sejam restauradas automaticamente quando seu formulário é exibido e sejam salvas automaticamente quando o formulário é fechado.</span><span class="sxs-lookup"><span data-stu-id="26a44-147">Visual Studio also takes care of binding the setting to a property on a form or control so that the control's settings are restored automatically when its form is displayed, and saved automatically when the form is closed.</span></span>

 <span data-ttu-id="26a44-148">Se quiser controlar de forma mais detalhada as configurações, você poderá definir sua própria classe wrapper de configurações de aplicativo personalizada.</span><span class="sxs-lookup"><span data-stu-id="26a44-148">If you want more detailed control over your settings, you can define your own custom applications settings wrapper class.</span></span> <span data-ttu-id="26a44-149">Isso é feito pela derivação de uma classe <xref:System.Configuration.ApplicationSettingsBase> , adicionando uma propriedade que corresponde a cada configuração e aplicando atributos especiais a essas propriedades.</span><span class="sxs-lookup"><span data-stu-id="26a44-149">This is accomplished by deriving a class from <xref:System.Configuration.ApplicationSettingsBase>, adding a property that corresponds to each setting, and applying special attributes to these properties.</span></span> <span data-ttu-id="26a44-150">Para obter detalhes sobre como criar classes wrapper, consulte [Arquitetura das configurações do aplicativo](application-settings-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="26a44-150">For details about creating wrapper classes, see [Application Settings Architecture](application-settings-architecture.md).</span></span>

 <span data-ttu-id="26a44-151">Você também pode usar a <xref:System.Windows.Forms.Binding> classe para associar configurações programaticamente a propriedades em formulários e controles.</span><span class="sxs-lookup"><span data-stu-id="26a44-151">You can also use the <xref:System.Windows.Forms.Binding> class to bind settings programmatically to properties on forms and controls.</span></span>

## <a name="see-also"></a><span data-ttu-id="26a44-152">Veja também</span><span class="sxs-lookup"><span data-stu-id="26a44-152">See also</span></span>

- <xref:System.Configuration.ApplicationSettingsBase>
- <xref:System.Configuration.SettingsProvider>
- <xref:System.Configuration.LocalFileSettingsProvider>
- <xref:System.Configuration.IPersistComponentSettings>
- [<span data-ttu-id="26a44-153">Como validar configurações do aplicativo</span><span class="sxs-lookup"><span data-stu-id="26a44-153">How to: Validate Application Settings</span></span>](how-to-validate-application-settings.md)
- [<span data-ttu-id="26a44-154">Gerenciando configurações de aplicativo (.NET)</span><span class="sxs-lookup"><span data-stu-id="26a44-154">Managing Application Settings (.NET)</span></span>](/visualstudio/ide/managing-application-settings-dotnet)
- [<span data-ttu-id="26a44-155">Como ler configurações em tempo de execução com C#</span><span class="sxs-lookup"><span data-stu-id="26a44-155">How To: Read Settings at Run Time With C#</span></span>](how-to-read-settings-at-run-time-with-csharp.md)
- [<span data-ttu-id="26a44-156">Usando configurações do aplicativo e configurações do usuário</span><span class="sxs-lookup"><span data-stu-id="26a44-156">Using Application Settings and User Settings</span></span>](using-application-settings-and-user-settings.md)
- [<span data-ttu-id="26a44-157">Arquitetura das configurações do aplicativo</span><span class="sxs-lookup"><span data-stu-id="26a44-157">Application Settings Architecture</span></span>](application-settings-architecture.md)
- [<span data-ttu-id="26a44-158">Configurações do Aplicativo para Controles Personalizados</span><span class="sxs-lookup"><span data-stu-id="26a44-158">Application Settings for Custom Controls</span></span>](application-settings-for-custom-controls.md)
