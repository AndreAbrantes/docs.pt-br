---
title: "Práticas recomendadas para dimensionamento do controle DataGridView dos Windows Forms"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-winforms
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- DataGridView control [Windows Forms], row sharing
- data grids [Windows Forms], best practices
- DataGridView control [Windows Forms], shared rows
- DataGridView control [Windows Forms], best practices
- best practices [Windows Forms], dataGridView control
- DataGridView control [Windows Forms], scaling
ms.assetid: 8321a8a6-6340-4fd1-b475-fa090b905aaf
caps.latest.revision: "31"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: bfefd41a4773c81757f73e725095057f988cef2c
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/21/2017
---
# <a name="best-practices-for-scaling-the-windows-forms-datagridview-control"></a><span data-ttu-id="d6b67-102">Práticas recomendadas para dimensionamento do controle DataGridView dos Windows Forms</span><span class="sxs-lookup"><span data-stu-id="d6b67-102">Best Practices for Scaling the Windows Forms DataGridView Control</span></span>
<span data-ttu-id="d6b67-103">O <xref:System.Windows.Forms.DataGridView> controle foi projetado para fornecer escalabilidade máxima.</span><span class="sxs-lookup"><span data-stu-id="d6b67-103">The <xref:System.Windows.Forms.DataGridView> control is designed to provide maximum scalability.</span></span> <span data-ttu-id="d6b67-104">Se você precisa exibir grandes quantidades de dados, siga as diretrizes descritas neste tópico para evitar o consumo de grandes quantidades de memória ou prejudicar a capacidade de resposta da UI (interface do usuário).</span><span class="sxs-lookup"><span data-stu-id="d6b67-104">If you need to display large amounts of data, you should follow the guidelines described in this topic to avoid consuming large amounts of memory or degrading the responsiveness of the user interface (UI).</span></span> <span data-ttu-id="d6b67-105">Este tópico discute os seguintes problemas:</span><span class="sxs-lookup"><span data-stu-id="d6b67-105">This topic discusses the following issues:</span></span>  
  
-   <span data-ttu-id="d6b67-106">Usando estilos de célula com eficiência</span><span class="sxs-lookup"><span data-stu-id="d6b67-106">Using cell styles efficiently</span></span>  
  
-   <span data-ttu-id="d6b67-107">Usando menus de atalho com eficiência</span><span class="sxs-lookup"><span data-stu-id="d6b67-107">Using shortcut menus efficiently</span></span>  
  
-   <span data-ttu-id="d6b67-108">Usando o redimensionamento automático com eficiência</span><span class="sxs-lookup"><span data-stu-id="d6b67-108">Using automatic resizing efficiently</span></span>  
  
-   <span data-ttu-id="d6b67-109">Usando as coleções de células, linhas e colunas selecionadas com eficiência</span><span class="sxs-lookup"><span data-stu-id="d6b67-109">Using the selected cells, rows, and columns collections efficiently</span></span>  
  
-   <span data-ttu-id="d6b67-110">Usando linhas compartilhadas</span><span class="sxs-lookup"><span data-stu-id="d6b67-110">Using shared rows</span></span>  
  
-   <span data-ttu-id="d6b67-111">Impedindo as linhas de se tornarem não compartilhadas</span><span class="sxs-lookup"><span data-stu-id="d6b67-111">Preventing rows from becoming unshared</span></span>  
  
 <span data-ttu-id="d6b67-112">Se você tiver necessidades de desempenho especiais, implemente o modo virtual e forneça suas próprias operações de gerenciamento de dados.</span><span class="sxs-lookup"><span data-stu-id="d6b67-112">If you have special performance needs, you can implement virtual mode and provide your own data management operations.</span></span> <span data-ttu-id="d6b67-113">Para obter mais informações, consulte [Modos de exibição dos dados no controle DataGridView dos Windows Forms](../../../../docs/framework/winforms/controls/data-display-modes-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="d6b67-113">For more information, see [Data Display Modes in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/data-display-modes-in-the-windows-forms-datagridview-control.md).</span></span>  
  
## <a name="using-cell-styles-efficiently"></a><span data-ttu-id="d6b67-114">Usando Estilos de Célula com Eficiência</span><span class="sxs-lookup"><span data-stu-id="d6b67-114">Using Cell Styles Efficiently</span></span>  
 <span data-ttu-id="d6b67-115">Cada célula, linha e coluna pode ter suas próprias informações de estilo.</span><span class="sxs-lookup"><span data-stu-id="d6b67-115">Each cell, row, and column can have its own style information.</span></span> <span data-ttu-id="d6b67-116">Informações de estilo são armazenadas em <xref:System.Windows.Forms.DataGridViewCellStyle> objetos.</span><span class="sxs-lookup"><span data-stu-id="d6b67-116">Style information is stored in <xref:System.Windows.Forms.DataGridViewCellStyle> objects.</span></span> <span data-ttu-id="d6b67-117">Criando objetos de estilo de célula para muitos individuais <xref:System.Windows.Forms.DataGridView> elementos podem ser ineficientes, especialmente ao trabalhar com grandes quantidades de dados.</span><span class="sxs-lookup"><span data-stu-id="d6b67-117">Creating cell style objects for many individual <xref:System.Windows.Forms.DataGridView> elements can be inefficient, especially when working with large amounts of data.</span></span> <span data-ttu-id="d6b67-118">Para evitar um impacto no desempenho, use as seguintes diretrizes:</span><span class="sxs-lookup"><span data-stu-id="d6b67-118">To avoid a performance impact, use the following guidelines:</span></span>  
  
-   <span data-ttu-id="d6b67-119">Evite configurar propriedades de estilo de célula para individuais <xref:System.Windows.Forms.DataGridViewCell> ou <xref:System.Windows.Forms.DataGridViewRow> objetos.</span><span class="sxs-lookup"><span data-stu-id="d6b67-119">Avoid setting cell style properties for individual <xref:System.Windows.Forms.DataGridViewCell> or <xref:System.Windows.Forms.DataGridViewRow> objects.</span></span> <span data-ttu-id="d6b67-120">Isso inclui o objeto de linha especificado pelo <xref:System.Windows.Forms.DataGridView.RowTemplate%2A> propriedade.</span><span class="sxs-lookup"><span data-stu-id="d6b67-120">This includes the row object specified by the <xref:System.Windows.Forms.DataGridView.RowTemplate%2A> property.</span></span> <span data-ttu-id="d6b67-121">Cada nova linha que é clonada do modelo de linha receberá sua própria cópia do objeto de estilo de célula do modelo.</span><span class="sxs-lookup"><span data-stu-id="d6b67-121">Each new row that is cloned from the row template will receive its own copy of the template's cell style object.</span></span> <span data-ttu-id="d6b67-122">Para dimensionamento máximo, definir propriedades de estilo de célula no <xref:System.Windows.Forms.DataGridView> nível.</span><span class="sxs-lookup"><span data-stu-id="d6b67-122">For maximum scalability, set cell style properties at the <xref:System.Windows.Forms.DataGridView> level.</span></span> <span data-ttu-id="d6b67-123">Por exemplo, definir a <xref:System.Windows.Forms.DataGridView.DefaultCellStyle%2A?displayProperty=nameWithType> propriedade em vez de <xref:System.Windows.Forms.DataGridViewCell.Style%2A?displayProperty=nameWithType> propriedade.</span><span class="sxs-lookup"><span data-stu-id="d6b67-123">For example, set the <xref:System.Windows.Forms.DataGridView.DefaultCellStyle%2A?displayProperty=nameWithType> property rather than the <xref:System.Windows.Forms.DataGridViewCell.Style%2A?displayProperty=nameWithType> property.</span></span>  
  
-   <span data-ttu-id="d6b67-124">Se algumas células requerem formatação diferente de formatação padrão, use o mesmo <xref:System.Windows.Forms.DataGridViewCellStyle> instância entre grupos de células, linhas ou colunas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-124">If some cells require formatting other than default formatting, use the same <xref:System.Windows.Forms.DataGridViewCellStyle> instance across groups of cells, rows, or columns.</span></span> <span data-ttu-id="d6b67-125">Evite diretamente definir propriedades do tipo <xref:System.Windows.Forms.DataGridViewCellStyle> em células individuais, linhas e colunas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-125">Avoid directly setting properties of type <xref:System.Windows.Forms.DataGridViewCellStyle> on individual cells, rows, and columns.</span></span> <span data-ttu-id="d6b67-126">Para obter um exemplo de compartilhamento de estilo de célula, consulte [Instruções: definir estilos de célula padrão para o controle DataGridView dos Windows Forms](../../../../docs/framework/winforms/controls/how-to-set-default-cell-styles-for-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="d6b67-126">For an example of cell style sharing, see [How to: Set Default Cell Styles for the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/how-to-set-default-cell-styles-for-the-windows-forms-datagridview-control.md).</span></span> <span data-ttu-id="d6b67-127">Você também pode evitar uma penalidade de desempenho ao definir estilos de célula individualmente manipulando o <xref:System.Windows.Forms.DataGridView.CellFormatting> manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="d6b67-127">You can also avoid a performance penalty when setting cell styles individually by handling the <xref:System.Windows.Forms.DataGridView.CellFormatting> event handler.</span></span> <span data-ttu-id="d6b67-128">Para obter um exemplo, consulte [Instruções: personalizar a formatação de dados no controle DataGridView dos Windows Forms](../../../../docs/framework/winforms/controls/how-to-customize-data-formatting-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="d6b67-128">For an example, see [How to: Customize Data Formatting in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/how-to-customize-data-formatting-in-the-windows-forms-datagridview-control.md).</span></span>  
  
-   <span data-ttu-id="d6b67-129">Ao determinar o estilo da célula, use o <xref:System.Windows.Forms.DataGridViewCell.InheritedStyle%2A?displayProperty=nameWithType> propriedade em vez de <xref:System.Windows.Forms.DataGridViewCell.Style%2A?displayProperty=nameWithType> propriedade.</span><span class="sxs-lookup"><span data-stu-id="d6b67-129">When determining a cell's style, use the <xref:System.Windows.Forms.DataGridViewCell.InheritedStyle%2A?displayProperty=nameWithType> property rather than the <xref:System.Windows.Forms.DataGridViewCell.Style%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="d6b67-130">Acessando o <xref:System.Windows.Forms.DataGridViewCell.Style%2A> propriedade cria uma nova instância do <xref:System.Windows.Forms.DataGridViewCellStyle> classe se a propriedade já não tiver sido usada.</span><span class="sxs-lookup"><span data-stu-id="d6b67-130">Accessing the <xref:System.Windows.Forms.DataGridViewCell.Style%2A> property creates a new instance of the <xref:System.Windows.Forms.DataGridViewCellStyle> class if the property has not already been used.</span></span> <span data-ttu-id="d6b67-131">Além disso, esse objeto poderá não conter as informações de estilo completas para a célula se alguns estilos forem herdados da linha, da coluna ou do controle.</span><span class="sxs-lookup"><span data-stu-id="d6b67-131">Additionally, this object might not contain the complete style information for the cell if some styles are inherited from the row, column, or control.</span></span> <span data-ttu-id="d6b67-132">Para obter mais informações sobre herança de estilo de célula, consulte [Estilos de célula no controle DataGridView dos Windows Forms](../../../../docs/framework/winforms/controls/cell-styles-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="d6b67-132">For more information about cell style inheritance, see [Cell Styles in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/cell-styles-in-the-windows-forms-datagridview-control.md).</span></span>  
  
## <a name="using-shortcut-menus-efficiently"></a><span data-ttu-id="d6b67-133">Usando Menus de Atalho com Eficiência</span><span class="sxs-lookup"><span data-stu-id="d6b67-133">Using Shortcut Menus Efficiently</span></span>  
 <span data-ttu-id="d6b67-134">Cada célula, linha e coluna pode ter seu próprio menu de atalho.</span><span class="sxs-lookup"><span data-stu-id="d6b67-134">Each cell, row, and column can have its own shortcut menu.</span></span> <span data-ttu-id="d6b67-135">Menus de atalho a <xref:System.Windows.Forms.DataGridView> controle são representados por <xref:System.Windows.Forms.ContextMenuStrip> controles.</span><span class="sxs-lookup"><span data-stu-id="d6b67-135">Shortcut menus in the <xref:System.Windows.Forms.DataGridView> control are represented by <xref:System.Windows.Forms.ContextMenuStrip> controls.</span></span> <span data-ttu-id="d6b67-136">Assim como ocorre com objetos de estilo de célula, Criando menus de atalho para o indivíduo muitos <xref:System.Windows.Forms.DataGridView> elementos afetará negativamente o desempenho.</span><span class="sxs-lookup"><span data-stu-id="d6b67-136">Just as with cell style objects, creating shortcut menus for many individual <xref:System.Windows.Forms.DataGridView> elements will negatively impact performance.</span></span> <span data-ttu-id="d6b67-137">Para evitar essa penalidade, use as seguintes diretrizes:</span><span class="sxs-lookup"><span data-stu-id="d6b67-137">To avoid this penalty, use the following guidelines:</span></span>  
  
-   <span data-ttu-id="d6b67-138">Evite criar menus de atalho para células e linhas individuais.</span><span class="sxs-lookup"><span data-stu-id="d6b67-138">Avoid creating shortcut menus for individual cells and rows.</span></span> <span data-ttu-id="d6b67-139">Isso inclui o modelo de linha, que é clonado juntamente com o menu de atalho quando novas linhas são adicionadas ao controle.</span><span class="sxs-lookup"><span data-stu-id="d6b67-139">This includes the row template, which is cloned along with its shortcut menu when new rows are added to the control.</span></span> <span data-ttu-id="d6b67-140">Para escalabilidade máxima, use somente o controle <xref:System.Windows.Forms.Control.ContextMenuStrip%2A> propriedade para especificar um menu de atalho único para todo o controle.</span><span class="sxs-lookup"><span data-stu-id="d6b67-140">For maximum scalability, use only the control's <xref:System.Windows.Forms.Control.ContextMenuStrip%2A> property to specify a single shortcut menu for the entire control.</span></span>  
  
-   <span data-ttu-id="d6b67-141">Se você precisar vários menus de atalho para várias linhas ou células, trate o <xref:System.Windows.Forms.DataGridView.CellContextMenuStripNeeded> ou <xref:System.Windows.Forms.DataGridView.RowContextMenuStripNeeded> eventos.</span><span class="sxs-lookup"><span data-stu-id="d6b67-141">If you require multiple shortcut menus for multiple rows or cells, handle the <xref:System.Windows.Forms.DataGridView.CellContextMenuStripNeeded> or <xref:System.Windows.Forms.DataGridView.RowContextMenuStripNeeded> events.</span></span> <span data-ttu-id="d6b67-142">Esses eventos permitem gerenciar os objetos do menu de atalho por conta própria, possibilitando ajustar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="d6b67-142">These events let you manage the shortcut menu objects yourself, allowing you to tune performance.</span></span>  
  
## <a name="using-automatic-resizing-efficiently"></a><span data-ttu-id="d6b67-143">Usando o Redimensionamento Automático com Eficiência</span><span class="sxs-lookup"><span data-stu-id="d6b67-143">Using Automatic Resizing Efficiently</span></span>  
 <span data-ttu-id="d6b67-144">Cabeçalhos, colunas e linhas podem ser redimensionados automaticamente como alterações de conteúdo da célula para que todo o conteúdo das células seja exibido sem recorte.</span><span class="sxs-lookup"><span data-stu-id="d6b67-144">Rows, columns, and headers can be automatically resized as cell content changes so that the entire contents of cells are displayed without clipping.</span></span> <span data-ttu-id="d6b67-145">Alterar os modos de dimensionamento também pode redimensionar linhas, colunas e cabeçalhos.</span><span class="sxs-lookup"><span data-stu-id="d6b67-145">Changing sizing modes can also resize rows, columns, and headers.</span></span> <span data-ttu-id="d6b67-146">Para determinar o tamanho correto, o <xref:System.Windows.Forms.DataGridView> controle deve examinar o valor de cada célula que ele deve conter.</span><span class="sxs-lookup"><span data-stu-id="d6b67-146">To determine the correct size, the <xref:System.Windows.Forms.DataGridView> control must examine the value of each cell that it must accommodate.</span></span> <span data-ttu-id="d6b67-147">Ao trabalhar com grandes conjuntos de dados, essa análise poderá afetar negativamente o desempenho do controle quando o redimensionamento automático ocorrer.</span><span class="sxs-lookup"><span data-stu-id="d6b67-147">When working with large data sets, this analysis can negatively impact the performance of the control when automatic resizing occurs.</span></span> <span data-ttu-id="d6b67-148">Para evitar penalidades de desempenho, use as seguintes diretrizes:</span><span class="sxs-lookup"><span data-stu-id="d6b67-148">To avoid performance penalties, use the following guidelines:</span></span>  
  
-   <span data-ttu-id="d6b67-149">Evite usar o dimensionamento automático em um <xref:System.Windows.Forms.DataGridView> controle com um grande conjunto de linhas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-149">Avoid using automatic sizing on a <xref:System.Windows.Forms.DataGridView> control with a large set of rows.</span></span> <span data-ttu-id="d6b67-150">Se você usar o dimensionamento automático, redimensione apenas com base nas linhas exibidas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-150">If you do use automatic sizing, only resize based on the displayed rows.</span></span> <span data-ttu-id="d6b67-151">Além disso, use apenas as linhas exibidas no modo virtual.</span><span class="sxs-lookup"><span data-stu-id="d6b67-151">Use only the displayed rows in virtual mode as well.</span></span>  
  
    -   <span data-ttu-id="d6b67-152">Para linhas e colunas, use o `DisplayedCells` ou `DisplayedCellsExceptHeaders` campo o <xref:System.Windows.Forms.DataGridViewAutoSizeRowsMode>, <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode>, e <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode> enumerações.</span><span class="sxs-lookup"><span data-stu-id="d6b67-152">For rows and columns, use the `DisplayedCells` or `DisplayedCellsExceptHeaders` field of the <xref:System.Windows.Forms.DataGridViewAutoSizeRowsMode>, <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode>, and <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode> enumerations.</span></span>  
  
    -   <span data-ttu-id="d6b67-153">Para cabeçalhos de linha, use o <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode.AutoSizeToDisplayedHeaders> ou <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode.AutoSizeToFirstHeader> campo o <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode> enumeração.</span><span class="sxs-lookup"><span data-stu-id="d6b67-153">For row headers, use the <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode.AutoSizeToDisplayedHeaders> or <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode.AutoSizeToFirstHeader> field of the <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode> enumeration.</span></span>  
  
-   <span data-ttu-id="d6b67-154">Para obter escalabilidade máxima, desligue o dimensionamento automático e use o redimensionamento programático.</span><span class="sxs-lookup"><span data-stu-id="d6b67-154">For maximum scalability, turn off automatic sizing and use programmatic resizing.</span></span>  
  
 <span data-ttu-id="d6b67-155">Para obter mais informações, consulte [Sizing Options in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/sizing-options-in-the-windows-forms-datagridview-control.md) (Opções de dimensionamento no controle DataGridView dos Windows Forms).</span><span class="sxs-lookup"><span data-stu-id="d6b67-155">For more information, see [Sizing Options in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/sizing-options-in-the-windows-forms-datagridview-control.md).</span></span>  
  
## <a name="using-the-selected-cells-rows-and-columns-collections-efficiently"></a><span data-ttu-id="d6b67-156">Usando as Coleções de Células, Linhas e Colunas Selecionadas com Eficiência</span><span class="sxs-lookup"><span data-stu-id="d6b67-156">Using the Selected Cells, Rows, and Columns Collections Efficiently</span></span>  
 <span data-ttu-id="d6b67-157">O <xref:System.Windows.Forms.DataGridView.SelectedCells%2A> coleção não executar com eficiência com grandes seleções.</span><span class="sxs-lookup"><span data-stu-id="d6b67-157">The <xref:System.Windows.Forms.DataGridView.SelectedCells%2A> collection does not perform efficiently with large selections.</span></span> <span data-ttu-id="d6b67-158">O <xref:System.Windows.Forms.DataGridView.SelectedRows%2A> e <xref:System.Windows.Forms.DataGridView.SelectedColumns%2A> coleções também podem ser ineficientes, embora a um grau menor porque há menos linhas do que as células em um típico <xref:System.Windows.Forms.DataGridView> controle e menos colunas do que linhas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-158">The <xref:System.Windows.Forms.DataGridView.SelectedRows%2A> and <xref:System.Windows.Forms.DataGridView.SelectedColumns%2A> collections can also be inefficient, although to a lesser degree because there are many fewer rows than cells in a typical <xref:System.Windows.Forms.DataGridView> control, and many fewer columns than rows.</span></span> <span data-ttu-id="d6b67-159">Para evitar penalidades de desempenho ao trabalhar com essas coleções, use as seguintes diretrizes:</span><span class="sxs-lookup"><span data-stu-id="d6b67-159">To avoid performance penalties when working with these collections, use the following guidelines:</span></span>  
  
-   <span data-ttu-id="d6b67-160">Para determinar se todas as células a <xref:System.Windows.Forms.DataGridView> foi selecionada antes de acessar o conteúdo do <xref:System.Windows.Forms.DataGridView.SelectedCells%2A> coleção, verifique o valor de retorno o <xref:System.Windows.Forms.DataGridView.AreAllCellsSelected%2A> método.</span><span class="sxs-lookup"><span data-stu-id="d6b67-160">To determine whether all the cells in the <xref:System.Windows.Forms.DataGridView> have been selected before you access the contents of the <xref:System.Windows.Forms.DataGridView.SelectedCells%2A> collection, check the return value of the <xref:System.Windows.Forms.DataGridView.AreAllCellsSelected%2A> method.</span></span> <span data-ttu-id="d6b67-161">No entanto, observe que esse método pode fazer com que as linhas se tornem não compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-161">Note, however, that this method can cause rows to become unshared.</span></span> <span data-ttu-id="d6b67-162">Para obter mais informações, consulte a próxima seção.</span><span class="sxs-lookup"><span data-stu-id="d6b67-162">For more information, see the next section.</span></span>  
  
-   <span data-ttu-id="d6b67-163">Evite usar o <xref:System.Collections.ICollection.Count%2A> propriedade o <xref:System.Windows.Forms.DataGridViewSelectedCellCollection?displayProperty=nameWithType> para determinar o número de células selecionadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-163">Avoid using the <xref:System.Collections.ICollection.Count%2A> property of the <xref:System.Windows.Forms.DataGridViewSelectedCellCollection?displayProperty=nameWithType> to determine the number of selected cells.</span></span> <span data-ttu-id="d6b67-164">Em vez disso, use o <xref:System.Windows.Forms.DataGridView.GetCellCount%2A?displayProperty=nameWithType> método e passar o <xref:System.Windows.Forms.DataGridViewElementStates.Selected?displayProperty=nameWithType> valor.</span><span class="sxs-lookup"><span data-stu-id="d6b67-164">Instead, use the <xref:System.Windows.Forms.DataGridView.GetCellCount%2A?displayProperty=nameWithType> method and pass in the <xref:System.Windows.Forms.DataGridViewElementStates.Selected?displayProperty=nameWithType> value.</span></span> <span data-ttu-id="d6b67-165">Da mesma forma, use o <xref:System.Windows.Forms.DataGridViewRowCollection.GetRowCount%2A?displayProperty=nameWithType> e <xref:System.Windows.Forms.DataGridViewColumnCollection.GetColumnCount%2A?displayProperty=nameWithType> métodos para determinar o número de elementos selecionados, em vez de acessar as coleções selecionadas de linha e coluna.</span><span class="sxs-lookup"><span data-stu-id="d6b67-165">Similarly, use the <xref:System.Windows.Forms.DataGridViewRowCollection.GetRowCount%2A?displayProperty=nameWithType> and <xref:System.Windows.Forms.DataGridViewColumnCollection.GetColumnCount%2A?displayProperty=nameWithType> methods to determine the number of selected elements, rather than accessing the selected row and column collections.</span></span>  
  
-   <span data-ttu-id="d6b67-166">Evite modos de seleção com base em célula.</span><span class="sxs-lookup"><span data-stu-id="d6b67-166">Avoid cell-based selection modes.</span></span> <span data-ttu-id="d6b67-167">Em vez disso, defina o <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> propriedade <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType> ou <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="d6b67-167">Instead, set the <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> property to <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType> or <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect?displayProperty=nameWithType>.</span></span>  
  
## <a name="using-shared-rows"></a><span data-ttu-id="d6b67-168">Usando Linhas Compartilhadas</span><span class="sxs-lookup"><span data-stu-id="d6b67-168">Using Shared Rows</span></span>  
 <span data-ttu-id="d6b67-169">Uso eficiente da memória é obtido no <xref:System.Windows.Forms.DataGridView> controle por meio de linhas compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-169">Efficient memory use is achieved in the <xref:System.Windows.Forms.DataGridView> control through shared rows.</span></span> <span data-ttu-id="d6b67-170">Linhas compartilharão o máximo possível de informações sobre sua aparência e comportamento pelo compartilhamento de instâncias da <xref:System.Windows.Forms.DataGridViewRow> classe.</span><span class="sxs-lookup"><span data-stu-id="d6b67-170">Rows will share as much information about their appearance and behavior as possible by sharing instances of the <xref:System.Windows.Forms.DataGridViewRow> class.</span></span>  
  
 <span data-ttu-id="d6b67-171">Embora o compartilhamento de instâncias de linha poupe memória, as linhas podem facilmente se tornar não compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-171">While sharing row instances saves memory, rows can easily become unshared.</span></span> <span data-ttu-id="d6b67-172">Por exemplo, sempre que um usuário interage diretamente com uma célula, sua linha se torna não compartilhada.</span><span class="sxs-lookup"><span data-stu-id="d6b67-172">For example, whenever a user interacts directly with a cell, its row becomes unshared.</span></span> <span data-ttu-id="d6b67-173">Como isso não pode ser evitado, as diretrizes neste tópico são úteis somente ao trabalhar com grandes quantidades de dados e somente quando os usuários forem interagir com uma parte relativamente pequena dos dados sempre que o programa for executado.</span><span class="sxs-lookup"><span data-stu-id="d6b67-173">Because this cannot be avoided, the guidelines in this topic are useful only when working with very large amounts of data and only when users will interact with a relatively small part of the data each time your program is run.</span></span>  
  
 <span data-ttu-id="d6b67-174">Uma linha não pode ser compartilhada em um desassociado <xref:System.Windows.Forms.DataGridView> controlar se qualquer uma de suas células contêm valores.</span><span class="sxs-lookup"><span data-stu-id="d6b67-174">A row cannot be shared in an unbound <xref:System.Windows.Forms.DataGridView> control if any of its cells contain values.</span></span> <span data-ttu-id="d6b67-175">Quando o <xref:System.Windows.Forms.DataGridView> controle está associado a uma fonte de dados externa ou ao implementar o modo virtual e fornecer sua própria fonte de dados, os valores de célula são armazenados fora do controle, não em objetos de célula, permitindo que as linhas a serem compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-175">When the <xref:System.Windows.Forms.DataGridView> control is bound to an external data source or when you implement virtual mode and provide your own data source, the cell values are stored outside the control rather than in cell objects, allowing the rows to be shared.</span></span>  
  
 <span data-ttu-id="d6b67-176">Um objeto de linha poderá ser compartilhado apenas se o estado de todas as suas células puder ser determinado por meio do estado da linha e dos estados das colunas que contêm as células.</span><span class="sxs-lookup"><span data-stu-id="d6b67-176">A row object can only be shared if the state of all its cells can be determined from the state of the row and the states of the columns containing the cells.</span></span> <span data-ttu-id="d6b67-177">Se você alterar o estado de uma célula para que ela não possa mais ser deduzida por meio do estado de sua linha e coluna, a linha não poderá ser compartilhada.</span><span class="sxs-lookup"><span data-stu-id="d6b67-177">If you change the state of a cell so that it can no longer be deduced from the state of its row and column, the row cannot be shared.</span></span>  
  
 <span data-ttu-id="d6b67-178">Por exemplo, uma linha não pode ser compartilhada em nenhuma das seguintes situações:</span><span class="sxs-lookup"><span data-stu-id="d6b67-178">For example, a row cannot be shared in any of the following situations:</span></span>  
  
-   <span data-ttu-id="d6b67-179">A linha contém uma única célula selecionada que não está em uma coluna selecionada.</span><span class="sxs-lookup"><span data-stu-id="d6b67-179">The row contains a single selected cell that is not in a selected column.</span></span>  
  
-   <span data-ttu-id="d6b67-180">A linha contém uma célula com seu <xref:System.Windows.Forms.DataGridViewCell.ToolTipText%2A> ou <xref:System.Windows.Forms.DataGridViewCell.ContextMenuStrip%2A> conjunto de propriedades.</span><span class="sxs-lookup"><span data-stu-id="d6b67-180">The row contains a cell with its <xref:System.Windows.Forms.DataGridViewCell.ToolTipText%2A> or <xref:System.Windows.Forms.DataGridViewCell.ContextMenuStrip%2A> properties set.</span></span>  
  
-   <span data-ttu-id="d6b67-181">A linha contém uma <xref:System.Windows.Forms.DataGridViewComboBoxCell> com seus <xref:System.Windows.Forms.DataGridViewComboBoxCell.Items%2A> conjunto de propriedades.</span><span class="sxs-lookup"><span data-stu-id="d6b67-181">The row contains a <xref:System.Windows.Forms.DataGridViewComboBoxCell> with its <xref:System.Windows.Forms.DataGridViewComboBoxCell.Items%2A> property set.</span></span>  
  
 <span data-ttu-id="d6b67-182">No modo associado ou virtual, você pode fornecer os menus de atalho e dicas de ferramenta para células individuais manipulando o <xref:System.Windows.Forms.DataGridView.CellToolTipTextNeeded> e <xref:System.Windows.Forms.DataGridView.CellContextMenuStripNeeded> eventos.</span><span class="sxs-lookup"><span data-stu-id="d6b67-182">In bound mode or virtual mode, you can provide ToolTips and shortcut menus for individual cells by handling the <xref:System.Windows.Forms.DataGridView.CellToolTipTextNeeded> and <xref:System.Windows.Forms.DataGridView.CellContextMenuStripNeeded> events.</span></span>  
  
 <span data-ttu-id="d6b67-183">O <xref:System.Windows.Forms.DataGridView> controle automaticamente tentará usar linhas compartilhadas sempre que linhas são adicionadas para o <xref:System.Windows.Forms.DataGridViewRowCollection>.</span><span class="sxs-lookup"><span data-stu-id="d6b67-183">The <xref:System.Windows.Forms.DataGridView> control will automatically attempt to use shared rows whenever rows are added to the <xref:System.Windows.Forms.DataGridViewRowCollection>.</span></span> <span data-ttu-id="d6b67-184">Use as diretrizes a seguir para garantir que as linhas sejam compartilhadas:</span><span class="sxs-lookup"><span data-stu-id="d6b67-184">Use the following guidelines to ensure that rows are shared:</span></span>  
  
-   <span data-ttu-id="d6b67-185">Evite chamar o `Add(Object[])` sobrecarga do <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> método e o `Insert(Object[])` sobrecarga do <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> método o <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> coleção.</span><span class="sxs-lookup"><span data-stu-id="d6b67-185">Avoid calling the `Add(Object[])` overload of the <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> method and the `Insert(Object[])` overload of the <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> method of the <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> collection.</span></span> <span data-ttu-id="d6b67-186">Essas sobrecargas criam linhas não compartilhadas automaticamente.</span><span class="sxs-lookup"><span data-stu-id="d6b67-186">These overloads automatically create unshared rows.</span></span>  
  
-   <span data-ttu-id="d6b67-187">Certifique-se que a linha especificada no <xref:System.Windows.Forms.DataGridView.RowTemplate%2A?displayProperty=nameWithType> propriedade pode ser compartilhada nos seguintes casos:</span><span class="sxs-lookup"><span data-stu-id="d6b67-187">Be sure that the row specified in the <xref:System.Windows.Forms.DataGridView.RowTemplate%2A?displayProperty=nameWithType> property can be shared in the following cases:</span></span>  
  
    -   <span data-ttu-id="d6b67-188">Ao chamar o `Add()` ou `Add(Int32)` sobrecargas do <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> método ou o `Insert(Int32,Int32)` sobrecarga do <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> método o <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> coleção.</span><span class="sxs-lookup"><span data-stu-id="d6b67-188">When calling the `Add()` or `Add(Int32)` overloads of the <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> method or the `Insert(Int32,Int32)` overload of the <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> method of the <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> collection.</span></span>  
  
    -   <span data-ttu-id="d6b67-189">Ao aumentar o valor de <xref:System.Windows.Forms.DataGridView.RowCount%2A?displayProperty=nameWithType> propriedade.</span><span class="sxs-lookup"><span data-stu-id="d6b67-189">When increasing the value of the <xref:System.Windows.Forms.DataGridView.RowCount%2A?displayProperty=nameWithType> property.</span></span>  
  
    -   <span data-ttu-id="d6b67-190">Ao definir o <xref:System.Windows.Forms.DataGridView.DataSource%2A?displayProperty=nameWithType> propriedade.</span><span class="sxs-lookup"><span data-stu-id="d6b67-190">When setting the <xref:System.Windows.Forms.DataGridView.DataSource%2A?displayProperty=nameWithType> property.</span></span>  
  
-   <span data-ttu-id="d6b67-191">Certifique-se que a linha indicada pelo `indexSource` parâmetro pode ser compartilhado ao chamar o <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopy%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopies%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.InsertCopy%2A>, e <xref:System.Windows.Forms.DataGridViewRowCollection.InsertCopies%2A> métodos do <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> coleção.</span><span class="sxs-lookup"><span data-stu-id="d6b67-191">Be sure that the row indicated by the `indexSource` parameter can be shared when calling the <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopy%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopies%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.InsertCopy%2A>, and <xref:System.Windows.Forms.DataGridViewRowCollection.InsertCopies%2A> methods of the <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> collection.</span></span>  
  
-   <span data-ttu-id="d6b67-192">Certifique-se de que a linha ou linhas especificadas podem ser compartilhadas ao chamar o `Add(DataGridViewRow)` de sobrecarga do <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> método, o <xref:System.Windows.Forms.DataGridViewRowCollection.AddRange%2A> método, o `Insert(Int32,DataGridViewRow)` de sobrecarga do <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> método e o <xref:System.Windows.Forms.DataGridViewRowCollection.InsertRange%2A> método o <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType>coleção.</span><span class="sxs-lookup"><span data-stu-id="d6b67-192">Be sure that the specified row or rows can be shared when calling the `Add(DataGridViewRow)` overload of the <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> method, the <xref:System.Windows.Forms.DataGridViewRowCollection.AddRange%2A> method, the `Insert(Int32,DataGridViewRow)` overload of the <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> method, and the <xref:System.Windows.Forms.DataGridViewRowCollection.InsertRange%2A> method of the <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> collection.</span></span>  
  
 <span data-ttu-id="d6b67-193">Para determinar se uma linha é compartilhada, use o <xref:System.Windows.Forms.DataGridViewRowCollection.SharedRow%2A?displayProperty=nameWithType> método para recuperar o objeto de linha e, em seguida, verificar o objeto <xref:System.Windows.Forms.DataGridViewBand.Index%2A> propriedade.</span><span class="sxs-lookup"><span data-stu-id="d6b67-193">To determine whether a row is shared, use the <xref:System.Windows.Forms.DataGridViewRowCollection.SharedRow%2A?displayProperty=nameWithType> method to retrieve the row object, and then check the object's <xref:System.Windows.Forms.DataGridViewBand.Index%2A> property.</span></span> <span data-ttu-id="d6b67-194">Linhas compartilhadas sempre têm uma <xref:System.Windows.Forms.DataGridViewBand.Index%2A> valor da propriedade de -1.</span><span class="sxs-lookup"><span data-stu-id="d6b67-194">Shared rows always have an <xref:System.Windows.Forms.DataGridViewBand.Index%2A> property value of –1.</span></span>  
  
## <a name="preventing-rows-from-becoming-unshared"></a><span data-ttu-id="d6b67-195">Impedindo as Linhas de se Tornarem Não Compartilhadas</span><span class="sxs-lookup"><span data-stu-id="d6b67-195">Preventing Rows from Becoming Unshared</span></span>  
 <span data-ttu-id="d6b67-196">As linhas compartilhadas podem se tornar não compartilhadas como resultado da ação de usuário ou de código.</span><span class="sxs-lookup"><span data-stu-id="d6b67-196">Shared rows can become unshared as a result of code or user action.</span></span> <span data-ttu-id="d6b67-197">Para evitar um impacto no desempenho, evite fazer com que as linhas se tornem não compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-197">To avoid a performance impact, you should avoid causing rows to become unshared.</span></span> <span data-ttu-id="d6b67-198">Durante o desenvolvimento de aplicativos, você pode manipular o <xref:System.Windows.Forms.DataGridView.RowUnshared> evento para determinar quando linhas se tornam não compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-198">During application development, you can handle the <xref:System.Windows.Forms.DataGridView.RowUnshared> event to determine when rows become unshared.</span></span> <span data-ttu-id="d6b67-199">Isso é útil ao depurar problemas de compartilhamento de linhas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-199">This is useful when debugging row-sharing problems.</span></span>  
  
 <span data-ttu-id="d6b67-200">Para impedir que as linhas se tornem não compartilhadas, use as seguintes diretrizes:</span><span class="sxs-lookup"><span data-stu-id="d6b67-200">To prevent rows from becoming unshared, use the following guidelines:</span></span>  
  
-   <span data-ttu-id="d6b67-201">Evitar a indexação de <xref:System.Windows.Forms.DataGridView.Rows%2A> coleção ou iteração com um `foreach` loop.</span><span class="sxs-lookup"><span data-stu-id="d6b67-201">Avoid indexing the <xref:System.Windows.Forms.DataGridView.Rows%2A> collection or iterating through it with a `foreach` loop.</span></span> <span data-ttu-id="d6b67-202">Normalmente não será necessário acessar as linhas diretamente.</span><span class="sxs-lookup"><span data-stu-id="d6b67-202">You will not typically need to access rows directly.</span></span> <span data-ttu-id="d6b67-203"><xref:System.Windows.Forms.DataGridView>métodos que operam em linhas ter argumentos de índice de linha em vez de instâncias de linha.</span><span class="sxs-lookup"><span data-stu-id="d6b67-203"><xref:System.Windows.Forms.DataGridView> methods that operate on rows take row index arguments rather than row instances.</span></span> <span data-ttu-id="d6b67-204">Além disso, os manipuladores de eventos relacionados à linha recebem objetos de argumento de evento com propriedades de linha que você pode usar para manipular linhas sem fazer com que elas se tornem não compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-204">Additionally, handlers for row-related events receive event argument objects with row properties that you can use to manipulate rows without causing them to become unshared.</span></span>  
  
-   <span data-ttu-id="d6b67-205">Se você precisar acessar um objeto de linha, use o <xref:System.Windows.Forms.DataGridViewRowCollection.SharedRow%2A?displayProperty=nameWithType> método e passar em índice real da linha.</span><span class="sxs-lookup"><span data-stu-id="d6b67-205">If you need to access a row object, use the <xref:System.Windows.Forms.DataGridViewRowCollection.SharedRow%2A?displayProperty=nameWithType> method and pass in the row's actual index.</span></span> <span data-ttu-id="d6b67-206">Observe, entretanto, que modificar um objeto de linha compartilhada recuperado por esse método modificará todas as linhas que compartilham esse objeto.</span><span class="sxs-lookup"><span data-stu-id="d6b67-206">Note, however, that modifying a shared row object retrieved through this method will modify all the rows that share this object.</span></span> <span data-ttu-id="d6b67-207">A linha para novos registros não é compartilhada com outras linhas, no entanto, ela não será afetada quando você modificar qualquer outra linha.</span><span class="sxs-lookup"><span data-stu-id="d6b67-207">The row for new records is not shared with other rows, however, so it will not be affected when you modify any other row.</span></span> <span data-ttu-id="d6b67-208">Observe também que diferentes linhas representadas por uma linha compartilhada podem ter menus de atalho diferentes.</span><span class="sxs-lookup"><span data-stu-id="d6b67-208">Note also that different rows represented by a shared row may have different shortcut menus.</span></span> <span data-ttu-id="d6b67-209">Para recuperar o menu de atalho correto da instância de uma linha compartilhada, use o <xref:System.Windows.Forms.DataGridViewRow.GetContextMenuStrip%2A> método e passar em índice real da linha.</span><span class="sxs-lookup"><span data-stu-id="d6b67-209">To retrieve the correct shortcut menu from a shared row instance, use the <xref:System.Windows.Forms.DataGridViewRow.GetContextMenuStrip%2A> method and pass in the row's actual index.</span></span> <span data-ttu-id="d6b67-210">Se você acessar a linha compartilhada <xref:System.Windows.Forms.DataGridViewRow.ContextMenuStrip%2A> propriedade em vez disso, ele usará o índice de linha compartilhada de -1 e não recuperará o menu de atalho correto.</span><span class="sxs-lookup"><span data-stu-id="d6b67-210">If you access the shared row's <xref:System.Windows.Forms.DataGridViewRow.ContextMenuStrip%2A> property instead, it will use the shared row index of -1 and will not retrieve the correct shortcut menu.</span></span>  
  
-   <span data-ttu-id="d6b67-211">Evitar a indexação de <xref:System.Windows.Forms.DataGridViewRow.Cells%2A?displayProperty=nameWithType> coleção.</span><span class="sxs-lookup"><span data-stu-id="d6b67-211">Avoid indexing the <xref:System.Windows.Forms.DataGridViewRow.Cells%2A?displayProperty=nameWithType> collection.</span></span> <span data-ttu-id="d6b67-212">Acessando uma célula diretamente fará com que a linha pai para se tornar não compartilhado, criando um novo <xref:System.Windows.Forms.DataGridViewRow>.</span><span class="sxs-lookup"><span data-stu-id="d6b67-212">Accessing a cell directly will cause its parent row to become unshared, instantiating a new <xref:System.Windows.Forms.DataGridViewRow>.</span></span> <span data-ttu-id="d6b67-213">Manipuladores de eventos relacionados à célula recebem objetos de argumento de evento com propriedades de célula que você pode usar para manipular células sem fazer com que as linhas se tornem não compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-213">Handlers for cell-related events receive event argument objects with cell properties that you can use to manipulate cells without causing rows to become unshared.</span></span> <span data-ttu-id="d6b67-214">Você também pode usar o <xref:System.Windows.Forms.DataGridView.CurrentCellAddress%2A> propriedade para recuperar os índices de linha e coluna da célula atual sem acessar a célula diretamente.</span><span class="sxs-lookup"><span data-stu-id="d6b67-214">You can also use the <xref:System.Windows.Forms.DataGridView.CurrentCellAddress%2A> property to retrieve the row and column indexes of the current cell without accessing the cell directly.</span></span>  
  
-   <span data-ttu-id="d6b67-215">Evite modos de seleção com base em célula.</span><span class="sxs-lookup"><span data-stu-id="d6b67-215">Avoid cell-based selection modes.</span></span> <span data-ttu-id="d6b67-216">Esses modos fazem com que as linhas se tornem não compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-216">These modes cause rows to become unshared.</span></span> <span data-ttu-id="d6b67-217">Em vez disso, defina o <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> propriedade <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType> ou <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="d6b67-217">Instead, set the <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> property to <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType> or <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect?displayProperty=nameWithType>.</span></span>  
  
-   <span data-ttu-id="d6b67-218">Não tratar o <xref:System.Windows.Forms.DataGridViewRowCollection.CollectionChanged?displayProperty=nameWithType> ou <xref:System.Windows.Forms.DataGridView.RowStateChanged?displayProperty=nameWithType> eventos.</span><span class="sxs-lookup"><span data-stu-id="d6b67-218">Do not handle the <xref:System.Windows.Forms.DataGridViewRowCollection.CollectionChanged?displayProperty=nameWithType> or <xref:System.Windows.Forms.DataGridView.RowStateChanged?displayProperty=nameWithType> events.</span></span> <span data-ttu-id="d6b67-219">Esses eventos fazem com que as linhas se tornem não compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-219">These events cause rows to become unshared.</span></span> <span data-ttu-id="d6b67-220">Além disso, não chame o <xref:System.Windows.Forms.DataGridViewRowCollection.OnCollectionChanged%2A?displayProperty=nameWithType> ou <xref:System.Windows.Forms.DataGridView.OnRowStateChanged%2A?displayProperty=nameWithType> métodos, que geram esses eventos.</span><span class="sxs-lookup"><span data-stu-id="d6b67-220">Also, do not call the <xref:System.Windows.Forms.DataGridViewRowCollection.OnCollectionChanged%2A?displayProperty=nameWithType> or <xref:System.Windows.Forms.DataGridView.OnRowStateChanged%2A?displayProperty=nameWithType> methods, which raise these events.</span></span>  
  
-   <span data-ttu-id="d6b67-221">Não acessam o <xref:System.Windows.Forms.DataGridView.SelectedCells%2A?displayProperty=nameWithType> coleção quando o <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> é o valor da propriedade <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect>, <xref:System.Windows.Forms.DataGridViewSelectionMode.ColumnHeaderSelect>, <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect>, ou <xref:System.Windows.Forms.DataGridViewSelectionMode.RowHeaderSelect>.</span><span class="sxs-lookup"><span data-stu-id="d6b67-221">Do not access the <xref:System.Windows.Forms.DataGridView.SelectedCells%2A?displayProperty=nameWithType> collection when the <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> property value is <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect>, <xref:System.Windows.Forms.DataGridViewSelectionMode.ColumnHeaderSelect>, <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect>, or <xref:System.Windows.Forms.DataGridViewSelectionMode.RowHeaderSelect>.</span></span> <span data-ttu-id="d6b67-222">Isso faz com que todas as linhas selecionadas se tornem não compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-222">This causes all selected rows to become unshared.</span></span>  
  
-   <span data-ttu-id="d6b67-223">Não chame o <xref:System.Windows.Forms.DataGridView.AreAllCellsSelected%2A?displayProperty=nameWithType> método.</span><span class="sxs-lookup"><span data-stu-id="d6b67-223">Do not call the <xref:System.Windows.Forms.DataGridView.AreAllCellsSelected%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="d6b67-224">Esse método pode fazer com que as linhas se tornem não compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-224">This method can cause rows to become unshared.</span></span>  
  
-   <span data-ttu-id="d6b67-225">Não chame o <xref:System.Windows.Forms.DataGridView.SelectAll%2A?displayProperty=nameWithType> método quando o <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> é o valor da propriedade <xref:System.Windows.Forms.DataGridViewSelectionMode.CellSelect>.</span><span class="sxs-lookup"><span data-stu-id="d6b67-225">Do not call the <xref:System.Windows.Forms.DataGridView.SelectAll%2A?displayProperty=nameWithType> method when the <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> property value is <xref:System.Windows.Forms.DataGridViewSelectionMode.CellSelect>.</span></span> <span data-ttu-id="d6b67-226">Isso faz com que todas as linhas se tornem não compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-226">This causes all rows to become unshared.</span></span>  
  
-   <span data-ttu-id="d6b67-227">Não defina o <xref:System.Windows.Forms.DataGridViewCell.ReadOnly%2A> ou <xref:System.Windows.Forms.DataGridViewCell.Selected%2A> propriedade de uma célula para `false` quando a propriedade correspondente na coluna é definida como `true`.</span><span class="sxs-lookup"><span data-stu-id="d6b67-227">Do not set the <xref:System.Windows.Forms.DataGridViewCell.ReadOnly%2A> or <xref:System.Windows.Forms.DataGridViewCell.Selected%2A> property of a cell to `false` when the corresponding property in its column is set to `true`.</span></span> <span data-ttu-id="d6b67-228">Isso faz com que todas as linhas se tornem não compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-228">This causes all rows to become unshared.</span></span>  
  
-   <span data-ttu-id="d6b67-229">Não acessam o <xref:System.Windows.Forms.DataGridViewRowCollection.List%2A?displayProperty=nameWithType> propriedade.</span><span class="sxs-lookup"><span data-stu-id="d6b67-229">Do not access the <xref:System.Windows.Forms.DataGridViewRowCollection.List%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="d6b67-230">Isso faz com que todas as linhas se tornem não compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-230">This causes all rows to become unshared.</span></span>  
  
-   <span data-ttu-id="d6b67-231">Não chame o `Sort(IComparer)` de sobrecarga do <xref:System.Windows.Forms.DataGridView.Sort%2A> método.</span><span class="sxs-lookup"><span data-stu-id="d6b67-231">Do not call the `Sort(IComparer)` overload of the <xref:System.Windows.Forms.DataGridView.Sort%2A> method.</span></span> <span data-ttu-id="d6b67-232">Classificar com um comparador personalizado faz com que todas as linhas se tornem não compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="d6b67-232">Sorting with a custom comparer causes all rows to become unshared.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d6b67-233">Consulte também</span><span class="sxs-lookup"><span data-stu-id="d6b67-233">See Also</span></span>  
 <xref:System.Windows.Forms.DataGridView>  
 [<span data-ttu-id="d6b67-234">Ajuste de desempenho no controle DataGridView dos Windows Forms</span><span class="sxs-lookup"><span data-stu-id="d6b67-234">Performance Tuning in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/performance-tuning-in-the-windows-forms-datagridview-control.md)  
 [<span data-ttu-id="d6b67-235">Modo virtual no controle DataGridView dos Windows Forms</span><span class="sxs-lookup"><span data-stu-id="d6b67-235">Virtual Mode in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/virtual-mode-in-the-windows-forms-datagridview-control.md)  
 [<span data-ttu-id="d6b67-236">Modos de exibição de dados no controle DataGridView dos Windows Forms</span><span class="sxs-lookup"><span data-stu-id="d6b67-236">Data Display Modes in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/data-display-modes-in-the-windows-forms-datagridview-control.md)  
 [<span data-ttu-id="d6b67-237">Estilos de Célula no Controle DataGridView dos Windows Forms</span><span class="sxs-lookup"><span data-stu-id="d6b67-237">Cell Styles in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/cell-styles-in-the-windows-forms-datagridview-control.md)  
 [<span data-ttu-id="d6b67-238">Como definir estilos de célula padrão para o controle DataGridView dos Windows Forms</span><span class="sxs-lookup"><span data-stu-id="d6b67-238">How to: Set Default Cell Styles for the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/how-to-set-default-cell-styles-for-the-windows-forms-datagridview-control.md)  
 <span data-ttu-id="d6b67-239">[Sizing Options in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/sizing-options-in-the-windows-forms-datagridview-control.md) (Opções de dimensionamento no controle DataGridView dos Windows Forms)</span><span class="sxs-lookup"><span data-stu-id="d6b67-239">[Sizing Options in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/sizing-options-in-the-windows-forms-datagridview-control.md)</span></span>
