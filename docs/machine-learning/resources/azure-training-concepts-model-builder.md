---
title: Recursos de treinamento do Construtor Modelo Azure
description: Um guia de recursos para o Azure Machine Learning
ms.topic: reference
ms.date: 02/27/2020
ms.author: luquinta
author: luisquintanilla
ms.openlocfilehash: a19e13955d0eaea344109eb817f3a3959c3dd883
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/15/2020
ms.locfileid: "79185818"
---
# <a name="model-builder-azure-training-resources"></a><span data-ttu-id="55890-103">Recursos de treinamento do Construtor Modelo Azure</span><span class="sxs-lookup"><span data-stu-id="55890-103">Model Builder Azure Training Resources</span></span>

<span data-ttu-id="55890-104">A seguir, um guia para ajudá-lo a aprender mais sobre os recursos usados para treinar modelos no Azure com o Model Builder.</span><span class="sxs-lookup"><span data-stu-id="55890-104">The following is a guide to help you learn more about resources used to train models in Azure with Model Builder.</span></span>

## <a name="what-is-an-azure-machine-learning-experiment"></a><span data-ttu-id="55890-105">O que é um experimento de Machine Learning do Azure?</span><span class="sxs-lookup"><span data-stu-id="55890-105">What is an Azure Machine Learning experiment?</span></span>

<span data-ttu-id="55890-106">Um experimento de Aprendizado de Máquina do Azure é um recurso que precisa ser criado antes de executar o treinamento do Model Builder no Azure.</span><span class="sxs-lookup"><span data-stu-id="55890-106">An Azure Machine Learning experiment is a resource that needs to be created before running Model Builder training on Azure.</span></span>

<span data-ttu-id="55890-107">O experimento encapsula a configuração e os resultados para um ou mais treinamentos de aprendizado de máquina.</span><span class="sxs-lookup"><span data-stu-id="55890-107">The experiment encapsulates the configuration and results for one or more machine learning training runs.</span></span> <span data-ttu-id="55890-108">Experimentos pertencem a um espaço de trabalho específico.</span><span class="sxs-lookup"><span data-stu-id="55890-108">Experiments belong to a specific workspace.</span></span> <span data-ttu-id="55890-109">A primeira vez que um experimento é criado, seu nome é registrado no espaço de trabalho.</span><span class="sxs-lookup"><span data-stu-id="55890-109">The first time an experiment is created, its name is registered in the workspace.</span></span> <span data-ttu-id="55890-110">Quaisquer corridas subseqüentes - se o mesmo nome do experimento for usado - são registradas como parte do mesmo experimento.</span><span class="sxs-lookup"><span data-stu-id="55890-110">Any subsequent runs - if the same experiment name is used - are logged as part of the same experiment.</span></span> <span data-ttu-id="55890-111">Caso contrário, um novo experimento é criado.</span><span class="sxs-lookup"><span data-stu-id="55890-111">Otherwise, a new experiment is created.</span></span>

## <a name="what-is-an-azure-machine-learning-workspace"></a><span data-ttu-id="55890-112">O que é um espaço de trabalho de Machine Learning do Azure?</span><span class="sxs-lookup"><span data-stu-id="55890-112">What is an Azure Machine Learning workspace?</span></span>

<span data-ttu-id="55890-113">Um espaço de trabalho é um recurso de Machine Learning do Azure que fornece um lugar central para todos os recursos e artefatos de Machine Learning do Azure criados como parte do treinamento.</span><span class="sxs-lookup"><span data-stu-id="55890-113">A workspace is an Azure Machine Learning resource that provides a central place for all Azure Machine Learning resources and artifacts created as part of training run.</span></span>

<span data-ttu-id="55890-114">Para criar um espaço de trabalho de aprendizado de máquina do Azure, são necessários os seguintes:</span><span class="sxs-lookup"><span data-stu-id="55890-114">To create an Azure Machine Learning workspace, the following are required:</span></span>

- <span data-ttu-id="55890-115">Nome: Um nome para o seu espaço de trabalho entre 3-33 caracteres.</span><span class="sxs-lookup"><span data-stu-id="55890-115">Name: A name for your workspace between 3-33 characters.</span></span> <span data-ttu-id="55890-116">Os nomes só podem conter caracteres alfanuméricos e hífens.</span><span class="sxs-lookup"><span data-stu-id="55890-116">Names may only contain alphanumeric characters and hyphens.</span></span>
- <span data-ttu-id="55890-117">Região: A localização geográfica do data center para onde seu espaço de trabalho e recursos são implantados.</span><span class="sxs-lookup"><span data-stu-id="55890-117">Region: The geographic location of the data center where your workspace and resources are deployed to.</span></span> <span data-ttu-id="55890-118">Recomenda-se que você escolha um local próximo de onde você ou seus clientes estão.</span><span class="sxs-lookup"><span data-stu-id="55890-118">It is recommended that you choose a location close to where you or your customers are.</span></span>
- <span data-ttu-id="55890-119">Grupo de recursos: Um contêiner que contém todos os recursos relacionados para uma solução Azure.</span><span class="sxs-lookup"><span data-stu-id="55890-119">Resource group: A container that contains all related resources for an Azure solution.</span></span>

## <a name="what-is-an-azure-machine-learning-compute"></a><span data-ttu-id="55890-120">O que é um cálculo de Machine Learning do Azure?</span><span class="sxs-lookup"><span data-stu-id="55890-120">What is an Azure Machine Learning compute?</span></span>

<span data-ttu-id="55890-121">Um azure Machine Learning é um VM Linux baseado em nuvem usado para treinamento.</span><span class="sxs-lookup"><span data-stu-id="55890-121">An Azure Machine Learning compute is a cloud-based Linux VM used for training.</span></span>

<span data-ttu-id="55890-122">Para criar um espaço de trabalho de aprendizado de máquina do Azure, são necessários os seguintes:</span><span class="sxs-lookup"><span data-stu-id="55890-122">To create an Azure Machine Learning workspace, the following are required:</span></span>

- <span data-ttu-id="55890-123">Nome: Um nome para o seu espaço de trabalho entre 2-16 caracteres.</span><span class="sxs-lookup"><span data-stu-id="55890-123">Name: A name for your workspace between 2-16 characters.</span></span> <span data-ttu-id="55890-124">Os nomes só podem conter caracteres alfanuméricos e hífens.</span><span class="sxs-lookup"><span data-stu-id="55890-124">Names may only contain alphanumeric characters and hyphens.</span></span>
- <span data-ttu-id="55890-125">Tamanho da computação</span><span class="sxs-lookup"><span data-stu-id="55890-125">Compute size</span></span>

    <span data-ttu-id="55890-126">O Model Builder pode usar um dos seguintes tipos de computação otimizados para GPU:</span><span class="sxs-lookup"><span data-stu-id="55890-126">Model Builder can use one of the following GPU-optimized compute types:</span></span>

    | <span data-ttu-id="55890-127">Tamanho</span><span class="sxs-lookup"><span data-stu-id="55890-127">Size</span></span> | <span data-ttu-id="55890-128">vCPU</span><span class="sxs-lookup"><span data-stu-id="55890-128">vCPU</span></span> | <span data-ttu-id="55890-129">Memória: GiB</span><span class="sxs-lookup"><span data-stu-id="55890-129">Memory: GiB</span></span> | <span data-ttu-id="55890-130">Armazenamento temporário (SSD) GiB</span><span class="sxs-lookup"><span data-stu-id="55890-130">Temp storage (SSD) GiB</span></span> | <span data-ttu-id="55890-131">GPU</span><span class="sxs-lookup"><span data-stu-id="55890-131">GPU</span></span> | <span data-ttu-id="55890-132">Memória da GPU: GiB</span><span class="sxs-lookup"><span data-stu-id="55890-132">GPU memory: GiB</span></span> | <span data-ttu-id="55890-133">Discos de dados máximos</span><span class="sxs-lookup"><span data-stu-id="55890-133">Max data disks</span></span> | <span data-ttu-id="55890-134">Máximo de NICs</span><span class="sxs-lookup"><span data-stu-id="55890-134">Max NICs</span></span> |
    |---|---|---|---|---|---|---|---|
    | <span data-ttu-id="55890-135">Standard_NC12</span><span class="sxs-lookup"><span data-stu-id="55890-135">Standard_NC12</span></span>   | <span data-ttu-id="55890-136">12</span><span class="sxs-lookup"><span data-stu-id="55890-136">12</span></span> | <span data-ttu-id="55890-137">112</span><span class="sxs-lookup"><span data-stu-id="55890-137">112</span></span> | <span data-ttu-id="55890-138">680</span><span class="sxs-lookup"><span data-stu-id="55890-138">680</span></span>  | <span data-ttu-id="55890-139">2</span><span class="sxs-lookup"><span data-stu-id="55890-139">2</span></span> | <span data-ttu-id="55890-140">24</span><span class="sxs-lookup"><span data-stu-id="55890-140">24</span></span> | <span data-ttu-id="55890-141">48</span><span class="sxs-lookup"><span data-stu-id="55890-141">48</span></span> | <span data-ttu-id="55890-142">2</span><span class="sxs-lookup"><span data-stu-id="55890-142">2</span></span> |
    | <span data-ttu-id="55890-143">Standard_NC24</span><span class="sxs-lookup"><span data-stu-id="55890-143">Standard_NC24</span></span>   | <span data-ttu-id="55890-144">24</span><span class="sxs-lookup"><span data-stu-id="55890-144">24</span></span> | <span data-ttu-id="55890-145">224</span><span class="sxs-lookup"><span data-stu-id="55890-145">224</span></span> | <span data-ttu-id="55890-146">1440</span><span class="sxs-lookup"><span data-stu-id="55890-146">1440</span></span> | <span data-ttu-id="55890-147">4</span><span class="sxs-lookup"><span data-stu-id="55890-147">4</span></span> | <span data-ttu-id="55890-148">48</span><span class="sxs-lookup"><span data-stu-id="55890-148">48</span></span> | <span data-ttu-id="55890-149">64</span><span class="sxs-lookup"><span data-stu-id="55890-149">64</span></span> | <span data-ttu-id="55890-150">4</span><span class="sxs-lookup"><span data-stu-id="55890-150">4</span></span> |

    <span data-ttu-id="55890-151">Visite a documentação do [NNc-series Linux VM](https://docs.microsoft.com/azure/virtual-machines/nc-series?toc=/azure/virtual-machines/linux/toc.json&bc=/azure/virtual-machines/linux/breadcrumb/toc.json) para obter mais detalhes sobre os tipos de computação otimizados para GPU.</span><span class="sxs-lookup"><span data-stu-id="55890-151">Visit the [NC-series Linux VM documentation](https://docs.microsoft.com/azure/virtual-machines/nc-series?toc=/azure/virtual-machines/linux/toc.json&bc=/azure/virtual-machines/linux/breadcrumb/toc.json) for more details on GPU optimized compute types.</span></span>

## <a name="training"></a><span data-ttu-id="55890-152">Treinamento</span><span class="sxs-lookup"><span data-stu-id="55890-152">Training</span></span>

<span data-ttu-id="55890-153">O treinamento no Azure só está disponível para o cenário de classificação de imagem do Model Builder.</span><span class="sxs-lookup"><span data-stu-id="55890-153">Training on Azure is only available for the Model Builder image classification scenario.</span></span> <span data-ttu-id="55890-154">O algoritmo usado para treinar esses modelos é uma Deep Neural Network baseada na arquitetura ResNet50.</span><span class="sxs-lookup"><span data-stu-id="55890-154">The algorithm used to train these models is a Deep Neural Network based on the ResNet50 architecture.</span></span> <span data-ttu-id="55890-155">O processo de treinamento leva algum tempo e a quantidade de tempo pode variar dependendo do tamanho do cálculo selecionado, bem como da quantidade de dados.</span><span class="sxs-lookup"><span data-stu-id="55890-155">The training process takes some time and the amount of time may vary depending on the size of compute selected as well as amount of data.</span></span> <span data-ttu-id="55890-156">A primeira vez que um modelo é treinado, você pode esperar um tempo de treinamento um pouco maior porque os recursos têm que ser provisionados.</span><span class="sxs-lookup"><span data-stu-id="55890-156">The first time a model is trained, you can expect a slightly longer training time because resources have to be provisioned.</span></span> <span data-ttu-id="55890-157">Você pode acompanhar o progresso de suas corridas selecionando o link "Monitor atual executar no portal Azure" no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="55890-157">You can track the progress of your runs by selecting the "Monitor current run in Azure portal" link in Visual Studio.</span></span>

## <a name="results"></a><span data-ttu-id="55890-158">Resultados</span><span class="sxs-lookup"><span data-stu-id="55890-158">Results</span></span>

<span data-ttu-id="55890-159">Uma vez que o treinamento é concluído, dois projetos são adicionados à sua solução com os seguintes sufixos:</span><span class="sxs-lookup"><span data-stu-id="55890-159">Once training is complete, two projects are added to your solution with the following suffixes:</span></span>

- <span data-ttu-id="55890-160">*ConsoleApp*: Um aplicativo de console C# .NET Core que fornece código inicial para construir o pipeline de previsão e fazer previsões.</span><span class="sxs-lookup"><span data-stu-id="55890-160">*ConsoleApp*: A C# .NET Core console application that provides starter code to build the prediction pipeline and make predictions.</span></span>
- <span data-ttu-id="55890-161">*Modelo*: A C# .NET Standard application que contém os modelos de dados que definem o esquema de dados do modelo de entrada e saída, bem como os seguintes ativos:</span><span class="sxs-lookup"><span data-stu-id="55890-161">*Model*: A C# .NET Standard application that contains the data models that define the schema of input and output model data as well as the following assets:</span></span>

  - <span data-ttu-id="55890-162">bestModel.onnx: Uma versão serializada do modelo no formato Open Neural Network Exchange (ONNX).</span><span class="sxs-lookup"><span data-stu-id="55890-162">bestModel.onnx: A serialized version of the model in Open Neural Network Exchange (ONNX) format.</span></span> <span data-ttu-id="55890-163">ONNX é um formato de código aberto para modelos de IA que suporta interoperabilidade entre frameworks como ML.NET, PyTorch e TensorFlow.</span><span class="sxs-lookup"><span data-stu-id="55890-163">ONNX is an open source format for AI models that supports interoperability between frameworks like ML.NET, PyTorch and TensorFlow.</span></span>
  - <span data-ttu-id="55890-164">bestModelMap.json: Uma lista de categorias usadas ao fazer previsões para mapear a saída do modelo para uma categoria de texto.</span><span class="sxs-lookup"><span data-stu-id="55890-164">bestModelMap.json: A list of categories used when making predictions to map the model output to a text category.</span></span>
  - <span data-ttu-id="55890-165">MLModel.zip: Uma versão serializada do pipeline de previsão de ML.NET que usa a versão serializada do `bestModelMap.json` modelo *bestModel.onnx* para fazer previsões e mapas de saídas usando o arquivo.</span><span class="sxs-lookup"><span data-stu-id="55890-165">MLModel.zip: A serialized version of the ML.NET prediction pipeline that uses the serialized version of the model *bestModel.onnx* to make predictions and maps outputs using the `bestModelMap.json` file.</span></span>

## <a name="use-the-machine-learning-model"></a><span data-ttu-id="55890-166">Use o modelo de aprendizado de máquina</span><span class="sxs-lookup"><span data-stu-id="55890-166">Use the machine learning model</span></span>

<span data-ttu-id="55890-167">As `ModelInput` `ModelOutput` aulas do projeto *Modelo* definem o esquema da entrada e saída esperadas do modelo, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="55890-167">The `ModelInput` and `ModelOutput` classes in the *Model* project define the schema of the model's expected input and output respectively.</span></span>

<span data-ttu-id="55890-168">Em um cenário de `ModelInput` classificação de imagem, o contém duas colunas:</span><span class="sxs-lookup"><span data-stu-id="55890-168">In an image classification scenario, the `ModelInput` contains two columns:</span></span>

- <span data-ttu-id="55890-169">`ImageSource`: O caminho das cordas do local da imagem.</span><span class="sxs-lookup"><span data-stu-id="55890-169">`ImageSource`: The string path of the image location.</span></span>
- <span data-ttu-id="55890-170">`Label`: A categoria real a que a imagem pertence.</span><span class="sxs-lookup"><span data-stu-id="55890-170">`Label`: The actual category the image belongs to.</span></span> <span data-ttu-id="55890-171">`Label`é usado apenas como uma entrada no treinamento e não precisa ser fornecido ao fazer previsões.</span><span class="sxs-lookup"><span data-stu-id="55890-171">`Label` is only used as an input when training and does not need to be provided when making predictions.</span></span>

<span data-ttu-id="55890-172">O `ModelOutput` contém duas colunas:</span><span class="sxs-lookup"><span data-stu-id="55890-172">The `ModelOutput` contains two columns:</span></span>

- <span data-ttu-id="55890-173">`Prediction`: A imagem é a categoria prevista.</span><span class="sxs-lookup"><span data-stu-id="55890-173">`Prediction`: The image's predicted category.</span></span>
- <span data-ttu-id="55890-174">`Score`: A lista de probabilidades para todas as `Prediction`categorias (a mais alta pertence ao ).</span><span class="sxs-lookup"><span data-stu-id="55890-174">`Score`: The list of probabilities for all categories (the highest belongs to the `Prediction`).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="55890-175">Solução de problemas</span><span class="sxs-lookup"><span data-stu-id="55890-175">Troubleshooting</span></span>

### <a name="cannot-create-compute"></a><span data-ttu-id="55890-176">Não é possível criar computação</span><span class="sxs-lookup"><span data-stu-id="55890-176">Cannot create compute</span></span>

<span data-ttu-id="55890-177">Se ocorrer um erro durante a criação do cálculo do Azure Machine Learning, o recurso de computação ainda poderá existir, em um estado errado.</span><span class="sxs-lookup"><span data-stu-id="55890-177">If an error occurs during Azure Machine Learning compute creation, the compute resource may still exist, in an errored state.</span></span> <span data-ttu-id="55890-178">Se você tentar recriar o recurso de computação com o mesmo nome, a operação falhará.</span><span class="sxs-lookup"><span data-stu-id="55890-178">If you try to re-create the compute resource with the same name, the operation fails.</span></span> <span data-ttu-id="55890-179">Para corrigir esse erro:</span><span class="sxs-lookup"><span data-stu-id="55890-179">To fix this error, either:</span></span>

- <span data-ttu-id="55890-180">Crie a nova computação com um nome diferente</span><span class="sxs-lookup"><span data-stu-id="55890-180">Create the new compute with a different name</span></span>
- <span data-ttu-id="55890-181">Vá para o portal Azure e remova o recurso de computação original</span><span class="sxs-lookup"><span data-stu-id="55890-181">Go to the Azure portal, and remove the original compute resource</span></span>
