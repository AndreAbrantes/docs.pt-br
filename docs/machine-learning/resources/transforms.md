---
title: Transformações de dados | ML.NET
description: Explore os componentes de engenharia de recursos com suporte no ML.NET.
author: natke
ms.author: nakersha
ms.date: 04/02/2019
ms.openlocfilehash: 506abcc826059f4d252378b1bde0b852949a42e1
ms.sourcegitcommit: 8080271c246b57f4fb68c28369634bff46843424
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/13/2019
ms.locfileid: "59553843"
---
# <a name="data-transformations"></a><span data-ttu-id="95fb2-103">Transformações de dados</span><span class="sxs-lookup"><span data-stu-id="95fb2-103">Data transformations</span></span>

<span data-ttu-id="95fb2-104">Transformações de dados são usadas para preparar dados para o treinamento de modelo.</span><span class="sxs-lookup"><span data-stu-id="95fb2-104">Data transformations are used to prepare data for model training.</span></span> <span data-ttu-id="95fb2-105">As transformações neste guia retornam classes que implementam a interface [IEstimator](xref:Microsoft.ML.IEstimator`1).</span><span class="sxs-lookup"><span data-stu-id="95fb2-105">The transformations in this guide return classes that implement the [IEstimator](xref:Microsoft.ML.IEstimator`1) interface.</span></span> <span data-ttu-id="95fb2-106">Transformações de dados podem ser encadeadas.</span><span class="sxs-lookup"><span data-stu-id="95fb2-106">Data transformations can be chained together.</span></span> <span data-ttu-id="95fb2-107">Cada transformação espera e produz dados de tipos e formatos específicos, especificados na documentação de referência vinculada.</span><span class="sxs-lookup"><span data-stu-id="95fb2-107">Each transformation both expects and produces data of specific types and formats, which are specified in the linked reference documentation.</span></span>

<span data-ttu-id="95fb2-108">Algumas transformações de dados requerem dados de treinamento para calcular seus parâmetros.</span><span class="sxs-lookup"><span data-stu-id="95fb2-108">Some data transformations require training data to calculate their parameters.</span></span> <span data-ttu-id="95fb2-109">Por exemplo: o transformador <xref:Microsoft.ML.NormalizationCatalog.NormalizeMeanVariance%2A> calcula a média e a variância dos dados de treinamento durante a operação `Fit()` e usa esses parâmetros na operação `Transform()`.</span><span class="sxs-lookup"><span data-stu-id="95fb2-109">For example: the <xref:Microsoft.ML.NormalizationCatalog.NormalizeMeanVariance%2A> transformer calculates the mean and variance of the training data during the `Fit()` operation, and uses those parameters in the `Transform()` operation.</span></span> 

<span data-ttu-id="95fb2-110">Outras transformações de dados não requerem dados de treinamento.</span><span class="sxs-lookup"><span data-stu-id="95fb2-110">Other data transformations don't require training data.</span></span> <span data-ttu-id="95fb2-111">Por exemplo: a transformação <xref:Microsoft.ML.ImageEstimatorsCatalog.ConvertToGrayscale*> pode executar a operação `Transform()` sem ter visto nenhum dado de treinamento durante a operação `Fit()`.</span><span class="sxs-lookup"><span data-stu-id="95fb2-111">For example: the <xref:Microsoft.ML.ImageEstimatorsCatalog.ConvertToGrayscale*> transformation can perform the `Transform()` operation without having seen any training data during the `Fit()` operation.</span></span>

## <a name="column-mapping-and-grouping"></a><span data-ttu-id="95fb2-112">Agrupamento e mapeamento de coluna</span><span class="sxs-lookup"><span data-stu-id="95fb2-112">Column mapping and grouping</span></span>

| <span data-ttu-id="95fb2-113">Transformar</span><span class="sxs-lookup"><span data-stu-id="95fb2-113">Transform</span></span> | <span data-ttu-id="95fb2-114">Definição</span><span class="sxs-lookup"><span data-stu-id="95fb2-114">Definition</span></span> |
| --- | --- |
| <xref:Microsoft.ML.TransformExtensionsCatalog.Concatenate%2A> | <span data-ttu-id="95fb2-115">Concatenar uma ou mais colunas de entrada em uma nova coluna de saída</span><span class="sxs-lookup"><span data-stu-id="95fb2-115">Concatenate one or more input columns into a new output column</span></span> |
| <xref:Microsoft.ML.TransformExtensionsCatalog.CopyColumns%2A> | <span data-ttu-id="95fb2-116">Copiar e renomear uma ou mais colunas de entrada</span><span class="sxs-lookup"><span data-stu-id="95fb2-116">Copy and rename one or more input columns</span></span> |
| <xref:Microsoft.ML.TransformExtensionsCatalog.DropColumns%2A> | <span data-ttu-id="95fb2-117">Remover uma ou mais colunas de entrada</span><span class="sxs-lookup"><span data-stu-id="95fb2-117">Drop one or more input columns</span></span> |
| <xref:Microsoft.ML.TransformExtensionsCatalog.SelectColumns%2A> | <span data-ttu-id="95fb2-118">Selecione uma ou mais colunas para manter dos dados de entrada</span><span class="sxs-lookup"><span data-stu-id="95fb2-118">Select one or more columns to keep from the input data</span></span> |

## <a name="normalization-and-scaling"></a><span data-ttu-id="95fb2-119">Normalização e dimensionamento</span><span class="sxs-lookup"><span data-stu-id="95fb2-119">Normalization and scaling</span></span>

| <span data-ttu-id="95fb2-120">Transformar</span><span class="sxs-lookup"><span data-stu-id="95fb2-120">Transform</span></span> | <span data-ttu-id="95fb2-121">Definição</span><span class="sxs-lookup"><span data-stu-id="95fb2-121">Definition</span></span> |
| --- | --- |
| <xref:Microsoft.ML.NormalizationCatalog.NormalizeMeanVariance%2A> | <span data-ttu-id="95fb2-122">Subtrair a média (dos dados de treinamento) e dividir pela variação (dos dados de treinamento)</span><span class="sxs-lookup"><span data-stu-id="95fb2-122">Subtract the mean (of the training data) and divide by the variance (of the training data)</span></span> |
| <xref:Microsoft.ML.NormalizationCatalog.NormalizeLogMeanVariance%2A> | <span data-ttu-id="95fb2-123">Normalizar com base no logaritmo dos dados de treinamento</span><span class="sxs-lookup"><span data-stu-id="95fb2-123">Normalize based on the logarithm of the training data</span></span> |
| <xref:Microsoft.ML.NormalizationCatalog.NormalizeLpNorm%2A> | <span data-ttu-id="95fb2-124">Dimensionar vetores de entrada pela sua [lp-norm](https://en.wikipedia.org/wiki/Lp_space#The_p-norm_in_finite_dimensions), em que p é 1, 2 ou infinito.</span><span class="sxs-lookup"><span data-stu-id="95fb2-124">Scale input vectors by their [lp-norm](https://en.wikipedia.org/wiki/Lp_space#The_p-norm_in_finite_dimensions), where p is 1, 2 or infinity.</span></span> <span data-ttu-id="95fb2-125">Padronizar para a norma l2 (distância euclidiana)</span><span class="sxs-lookup"><span data-stu-id="95fb2-125">Defaults to the l2 (Euclidean distance) norm</span></span> |
| <xref:Microsoft.ML.NormalizationCatalog.NormalizeGlobalContrast%2A> | <span data-ttu-id="95fb2-126">Dimensionar cada valor em uma linha subtraindo a média dos dados da linha e dividir pelo desvio padrão ou pela norma l2 (dos dados da linha) e multiplicar por um fator de escala configurável (padrão 2)</span><span class="sxs-lookup"><span data-stu-id="95fb2-126">Scale each value in a row by subtracting the mean of the row data and divide by either the standard deviation or l2-norm (of the row data), and multiply by a configurable scale factor (default 2)</span></span> |
| <xref:Microsoft.ML.NormalizationCatalog.NormalizeBinning%2A> | <span data-ttu-id="95fb2-127">Atribuir o valor de entrada a um índice bin e dividir pelo número de categorias para produzir um valor flutuante entre 0 e 1.</span><span class="sxs-lookup"><span data-stu-id="95fb2-127">Assign the input value to a bin index and divide by the number of bins to produce a float value between 0 and 1.</span></span> <span data-ttu-id="95fb2-128">Os limites do bin são calculados para distribuir uniformemente os dados de treinamento em compartimentos</span><span class="sxs-lookup"><span data-stu-id="95fb2-128">The bin boundaries are calculated to evenly distribute the training data across bins</span></span> |
| <xref:Microsoft.ML.NormalizationCatalog.NormalizeSupervisedBinning%2A> | <span data-ttu-id="95fb2-129">Atribuir o valor de entrada a um bin baseado em sua correlação com a coluna de rótulo</span><span class="sxs-lookup"><span data-stu-id="95fb2-129">Assign the input value to a bin based on its correlation with label column</span></span> |
| <xref:Microsoft.ML.NormalizationCatalog.NormalizeMinMax%2A> | <span data-ttu-id="95fb2-130">Dimensionar a entrada pela diferença entre os valores mínimo e máximo nos dados de treinamento</span><span class="sxs-lookup"><span data-stu-id="95fb2-130">Scale the input by the difference between the minimum and maximum values in the training data</span></span> |

## <a name="conversions-between-data-types"></a><span data-ttu-id="95fb2-131">Conversões entre tipos de dados</span><span class="sxs-lookup"><span data-stu-id="95fb2-131">Conversions between data types</span></span>

| <span data-ttu-id="95fb2-132">Transformar</span><span class="sxs-lookup"><span data-stu-id="95fb2-132">Transform</span></span> | <span data-ttu-id="95fb2-133">Definição</span><span class="sxs-lookup"><span data-stu-id="95fb2-133">Definition</span></span> |
| --- | --- |
| <xref:Microsoft.ML.ConversionsExtensionsCatalog.ConvertType%2A> | <span data-ttu-id="95fb2-134">Converter o tipo de uma coluna de entrada em um novo tipo</span><span class="sxs-lookup"><span data-stu-id="95fb2-134">Convert the type of an input column to a new type</span></span> |
| <xref:Microsoft.ML.ConversionsExtensionsCatalog.MapValue*> | <span data-ttu-id="95fb2-135">Mapear valores para chaves (categorias) com base no dicionário de mapeamentos fornecido</span><span class="sxs-lookup"><span data-stu-id="95fb2-135">Map values to keys (categories) based on the supplied dictionary of mappings</span></span> |
| <xref:Microsoft.ML.ConversionsExtensionsCatalog.MapValueToKey*> | <span data-ttu-id="95fb2-136">Mapear valores para chaves (categorias) criando o mapeamento a partir dos dados de entrada</span><span class="sxs-lookup"><span data-stu-id="95fb2-136">Map values to keys (categories) by creating the mapping from the input data</span></span> |
| <xref:Microsoft.ML.ConversionsExtensionsCatalog.MapKeyToValue*> | <span data-ttu-id="95fb2-137">Converter chaves de volta para seus valores originais</span><span class="sxs-lookup"><span data-stu-id="95fb2-137">Convert keys back to their original values</span></span> |
| <xref:Microsoft.ML.ConversionsExtensionsCatalog.MapKeyToVector*> | <span data-ttu-id="95fb2-138">Converter chaves de volta para vetores de valores originais</span><span class="sxs-lookup"><span data-stu-id="95fb2-138">Convert keys back to vectors of original values</span></span> |
| <xref:Microsoft.ML.ConversionsCatalog.MapKeyToBinaryVector*> | <span data-ttu-id="95fb2-139">Converter chaves de volta para um vetor binário de valores originais</span><span class="sxs-lookup"><span data-stu-id="95fb2-139">Convert keys back to a binary vector of original values</span></span> |
| <xref:Microsoft.ML.ConversionsExtensionsCatalog.Hash*> | <span data-ttu-id="95fb2-140">Resumir o valor na coluna de entrada</span><span class="sxs-lookup"><span data-stu-id="95fb2-140">Hash the value in the input column</span></span> |

## <a name="text-transformations"></a><span data-ttu-id="95fb2-141">Transformações de texto</span><span class="sxs-lookup"><span data-stu-id="95fb2-141">Text transformations</span></span>

| <span data-ttu-id="95fb2-142">Transformar</span><span class="sxs-lookup"><span data-stu-id="95fb2-142">Transform</span></span> | <span data-ttu-id="95fb2-143">Definição</span><span class="sxs-lookup"><span data-stu-id="95fb2-143">Definition</span></span> |
| --- | --- |
| <xref:Microsoft.ML.TextCatalog.FeaturizeText*> | <span data-ttu-id="95fb2-144">Transformar uma coluna de texto em uma matriz flutuante de contagens de diagramas e de caracteres</span><span class="sxs-lookup"><span data-stu-id="95fb2-144">Transform a text column into a float array of normalized ngrams and char-grams counts</span></span> | 
| <xref:Microsoft.ML.TextCatalog.TokenizeIntoWords*> | <span data-ttu-id="95fb2-145">Dividir uma ou mais colunas de texto em palavras individuais</span><span class="sxs-lookup"><span data-stu-id="95fb2-145">Split one or more text columns into individual words</span></span> |
| <xref:Microsoft.ML.TextCatalog.TokenizeIntoCharactersAsKeys*> | <span data-ttu-id="95fb2-146">Dividir uma ou mais colunas de texto em caracteres individuais flutua sobre um conjunto de tópicos</span><span class="sxs-lookup"><span data-stu-id="95fb2-146">Split one or more text columns into individual characters floats over a set of topics</span></span> |
| <xref:Microsoft.ML.TextCatalog.NormalizeText*> | <span data-ttu-id="95fb2-147">Alterar maiúsculas e minúsculas, remover marcas diacríticas, sinais de pontuação e números</span><span class="sxs-lookup"><span data-stu-id="95fb2-147">Change case, remove diacritical marks, punctuation marks and numbers</span></span> |
| <xref:Microsoft.ML.TextCatalog.ProduceNgrams*> | <span data-ttu-id="95fb2-148">Transformar a coluna de texto em um local de contagens de ngrams (sequências de palavras consecutivas)</span><span class="sxs-lookup"><span data-stu-id="95fb2-148">Transform text column into a bag of counts of ngrams (sequences of consecutive words)</span></span>|
| <xref:Microsoft.ML.TextCatalog.ProduceWordBags*> | <span data-ttu-id="95fb2-149">Transformar a coluna de texto em um local de contagens de vetores ngrams</span><span class="sxs-lookup"><span data-stu-id="95fb2-149">Transform text column into a bag of counts of ngrams vector</span></span> |
| <xref:Microsoft.ML.TextCatalog.ProduceHashedNgrams*> | <span data-ttu-id="95fb2-150">Transformar coluna de texto em um vetor de contagens de ngram hashed</span><span class="sxs-lookup"><span data-stu-id="95fb2-150">Transform text column into a vector of hashed ngram counts</span></span> |
| <xref:Microsoft.ML.TextCatalog.ProduceHashedWordBags*> | <span data-ttu-id="95fb2-151">Transformar coluna de texto em um local de contagens de ngram hashed</span><span class="sxs-lookup"><span data-stu-id="95fb2-151">Transform text column into a bag of hashed ngram counts</span></span> |
| <xref:Microsoft.ML.TextCatalog.RemoveDefaultStopWords*>  | <span data-ttu-id="95fb2-152">Remover palavras irrelevantes para o idioma especificado das colunas de entrada</span><span class="sxs-lookup"><span data-stu-id="95fb2-152">Remove default stop words for the specified language from input columns</span></span> |
| <xref:Microsoft.ML.TextCatalog.RemoveStopWords*> | <span data-ttu-id="95fb2-153">Remover palavras irrelevantes especificadas de colunas de entrada</span><span class="sxs-lookup"><span data-stu-id="95fb2-153">Removes specified stop words from input columns</span></span> |
| <xref:Microsoft.ML.TextCatalog.LatentDirichletAllocation*> | <span data-ttu-id="95fb2-154">Transformar um documento (representado como um vetor de flutuadores) em um vetor de flutuantes em um conjunto de tópicos</span><span class="sxs-lookup"><span data-stu-id="95fb2-154">Transform a document (represented as a vector of floats) into a vector of floats over a set of topics</span></span> |
| <xref:Microsoft.ML.TextCatalog.ApplyWordEmbedding*> | <span data-ttu-id="95fb2-155">Converter vetores de tokens de texto em vetores de sentença usando um modelo pré-treinado</span><span class="sxs-lookup"><span data-stu-id="95fb2-155">Convert vectors of text tokens into sentence vectors using a pre-trained model</span></span> |

## <a name="image-transformations"></a><span data-ttu-id="95fb2-156">Transformações de imagem</span><span class="sxs-lookup"><span data-stu-id="95fb2-156">Image transformations</span></span>

| <span data-ttu-id="95fb2-157">Transformar</span><span class="sxs-lookup"><span data-stu-id="95fb2-157">Transform</span></span> | <span data-ttu-id="95fb2-158">Definição</span><span class="sxs-lookup"><span data-stu-id="95fb2-158">Definition</span></span> |
| --- | --- |
| <xref:Microsoft.ML.ImageEstimatorsCatalog.ConvertToGrayscale*> | <span data-ttu-id="95fb2-159">Converter uma imagem em escala de cinza</span><span class="sxs-lookup"><span data-stu-id="95fb2-159">Convert an image to grayscale</span></span> |
| <xref:Microsoft.ML.ImageEstimatorsCatalog.ConvertToImage*> | <span data-ttu-id="95fb2-160">Converter um vetor de pixels para <xref:Microsoft.ML.Transforms.Image.ImageDataViewType></span><span class="sxs-lookup"><span data-stu-id="95fb2-160">Convert a vector of pixels to <xref:Microsoft.ML.Transforms.Image.ImageDataViewType></span></span> |
| <xref:Microsoft.ML.ImageEstimatorsCatalog.ExtractPixels*> | <span data-ttu-id="95fb2-161">Converter pixels de imagem de entrada em um vetor de números</span><span class="sxs-lookup"><span data-stu-id="95fb2-161">Convert pixels from input image into a vector of numbers</span></span> |
| <xref:Microsoft.ML.ImageEstimatorsCatalog.LoadImages*> | <span data-ttu-id="95fb2-162">Carregar imagens de uma pasta na memória</span><span class="sxs-lookup"><span data-stu-id="95fb2-162">Load images from a folder into memory</span></span> |
| <xref:Microsoft.ML.ImageEstimatorsCatalog.ResizeImages*> | <span data-ttu-id="95fb2-163">Redimensionar imagens</span><span class="sxs-lookup"><span data-stu-id="95fb2-163">Resize images</span></span> |

## <a name="categorical-data-transformations"></a><span data-ttu-id="95fb2-164">Transformações de dados categóricos</span><span class="sxs-lookup"><span data-stu-id="95fb2-164">Categorical data transformations</span></span>

| <span data-ttu-id="95fb2-165">Transformar</span><span class="sxs-lookup"><span data-stu-id="95fb2-165">Transform</span></span> | <span data-ttu-id="95fb2-166">Definição</span><span class="sxs-lookup"><span data-stu-id="95fb2-166">Definition</span></span> |
| --- | --- |
| <xref:Microsoft.ML.CategoricalCatalog.OneHotEncoding*> | <span data-ttu-id="95fb2-167">Converter uma ou mais colunas de texto em vetores codificados [one-hot](https://en.wikipedia.org/wiki/One-hot)</span><span class="sxs-lookup"><span data-stu-id="95fb2-167">Convert one or more text columns into [one-hot](https://en.wikipedia.org/wiki/One-hot) encoded vectors</span></span> |
| <xref:Microsoft.ML.CategoricalCatalog.OneHotHashEncoding*> | <span data-ttu-id="95fb2-168">Converter mais uma coluna de texto em vetores codificados one-hot com base em hash</span><span class="sxs-lookup"><span data-stu-id="95fb2-168">Convert one more text columns into hash-based one-hot encoded vectors</span></span> |

## <a name="missing-values"></a><span data-ttu-id="95fb2-169">Valores ausentes</span><span class="sxs-lookup"><span data-stu-id="95fb2-169">Missing values</span></span>

| <span data-ttu-id="95fb2-170">Transformar</span><span class="sxs-lookup"><span data-stu-id="95fb2-170">Transform</span></span> | <span data-ttu-id="95fb2-171">Definição</span><span class="sxs-lookup"><span data-stu-id="95fb2-171">Definition</span></span> |
| --- | --- |
| <xref:Microsoft.ML.ExtensionsCatalog.IndicateMissingValues*> | <span data-ttu-id="95fb2-172">Criar uma nova coluna de saída booleana, cujo valor é verdadeiro quando o valor na coluna de entrada está ausente</span><span class="sxs-lookup"><span data-stu-id="95fb2-172">Create a new boolean output column, the value of which is true when the value in the input column is missing</span></span> |
| <xref:Microsoft.ML.ExtensionsCatalog.ReplaceMissingValues*> | <span data-ttu-id="95fb2-173">Criar uma nova coluna de saída, cujo valor é configurado para um valor padrão se o valor estiver ausente da coluna de entrada e o valor de entrada, caso contrário</span><span class="sxs-lookup"><span data-stu-id="95fb2-173">Create a new output column, the value of which is set to a default value if the value is missing from the input column, and the input value otherwise</span></span> |

## <a name="feature-selection"></a><span data-ttu-id="95fb2-174">Seleção de recursos</span><span class="sxs-lookup"><span data-stu-id="95fb2-174">Feature selection</span></span>

| <span data-ttu-id="95fb2-175">Transformar</span><span class="sxs-lookup"><span data-stu-id="95fb2-175">Transform</span></span> | <span data-ttu-id="95fb2-176">Definição</span><span class="sxs-lookup"><span data-stu-id="95fb2-176">Definition</span></span> |
| --- | --- |
| <xref:Microsoft.ML.FeatureSelectionCatalog.SelectFeaturesBasedOnCount*> | <span data-ttu-id="95fb2-177">Selecionar recursos cujos valores não padrão são maiores que um limite</span><span class="sxs-lookup"><span data-stu-id="95fb2-177">Select features whose non-default values are greater than a threshold</span></span> |
| <xref:Microsoft.ML.FeatureSelectionCatalog.SelectFeaturesBasedOnMutualInformation*> | <span data-ttu-id="95fb2-178">Selecione os recursos nos quais os dados na coluna de rótulo são mais dependentes</span><span class="sxs-lookup"><span data-stu-id="95fb2-178">Select the features on which the data in the label column is most dependent</span></span> |

## <a name="custom-transformations"></a><span data-ttu-id="95fb2-179">Transformações personalizadas</span><span class="sxs-lookup"><span data-stu-id="95fb2-179">Custom transformations</span></span>

| <span data-ttu-id="95fb2-180">Transformar</span><span class="sxs-lookup"><span data-stu-id="95fb2-180">Transform</span></span> | <span data-ttu-id="95fb2-181">Definição</span><span class="sxs-lookup"><span data-stu-id="95fb2-181">Definition</span></span> |
| --- | --- |
| <xref:Microsoft.ML.CustomMappingCatalog.CustomMapping*> | <span data-ttu-id="95fb2-182">Transformar colunas existentes em novas com um mapeamento definido pelo usuário</span><span class="sxs-lookup"><span data-stu-id="95fb2-182">Transform existing columns onto new ones with a user-defined mapping</span></span> |
