### <a name="privatefontcollectionaddfontfile-method-releases-font-resources"></a><span data-ttu-id="53bb8-101">O método PrivateFontCollection.AddFontFile libera os recursos de fonte</span><span class="sxs-lookup"><span data-stu-id="53bb8-101">PrivateFontCollection.AddFontFile method releases Font resources</span></span>

|   |   |
|---|---|
|<span data-ttu-id="53bb8-102">Detalhes</span><span class="sxs-lookup"><span data-stu-id="53bb8-102">Details</span></span>|<span data-ttu-id="53bb8-103">No .NET Framework 4.7.1 e nas versões anteriores, a classe <xref:System.Drawing.Text.PrivateFontCollection?displayProperty=nameWithType> não libera os recursos de fonte GDI+ depois que a <xref:System.Drawing.Text.PrivateFontCollection> é descartada para os objetos <xref:System.Drawing.Font> que são adicionados a essa coleção usando o método <xref:System.Drawing.Text.PrivateFontCollection.AddFontFile(System.String)>.</span><span class="sxs-lookup"><span data-stu-id="53bb8-103">In the .NET Framework 4.7.1 and previous versions, the <xref:System.Drawing.Text.PrivateFontCollection?displayProperty=nameWithType> class does not release the GDI+ font resources after the <xref:System.Drawing.Text.PrivateFontCollection> is disposed for <xref:System.Drawing.Font> objects that are added to this collection using the <xref:System.Drawing.Text.PrivateFontCollection.AddFontFile(System.String)> method.</span></span> <span data-ttu-id="53bb8-104">No .NET Framework 4.7.2 e posterior <xref:System.Drawing.Text.FontCollection.Dispose%2A> libera as fontes GDI+ que foram adicionadas à coleção como arquivos.</span><span class="sxs-lookup"><span data-stu-id="53bb8-104">In the .NET Framework 4.7.2 and later <xref:System.Drawing.Text.FontCollection.Dispose%2A> releases the GDI+ fonts that were added to the collection as files.</span></span>|
|<span data-ttu-id="53bb8-105">Sugestão</span><span class="sxs-lookup"><span data-stu-id="53bb8-105">Suggestion</span></span>|<span data-ttu-id="53bb8-106"><strong>Como aceitar ou recusar essas alterações</strong>Para que um aplicativo se beneficie dessas alterações, ele precisará ser executado no .NET Framework 4.7.2 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="53bb8-106"><strong>How to opt in or out of these changes</strong>In order for an application to benefit from these changes, it must run on the .NET Framework 4.7.2 or later.</span></span> <span data-ttu-id="53bb8-107">O aplicativo pode se beneficiar dessas alterações de uma das seguintes maneiras:</span><span class="sxs-lookup"><span data-stu-id="53bb8-107">The application can benefit from these changes in either of the following ways:</span></span><ul><li><span data-ttu-id="53bb8-108">Ser recompilado para ser direcionado ao .NET Framework 4.7.2.</span><span class="sxs-lookup"><span data-stu-id="53bb8-108">It is recompiled to target the .NET Framework 4.7.2.</span></span> <span data-ttu-id="53bb8-109">Essa alteração é habilitada por padrão nos aplicativos do Windows Forms direcionados ao .NET Framework 4.7.2 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="53bb8-109">This change is enabled by default on Windows Forms applications that target the .NET Framework 4.7.2 or later.</span></span></li><li><span data-ttu-id="53bb8-110">Ser direcionado ao .NET Framework 4.7.1 ou a uma versão anterior e recusar os comportamentos de acessibilidade herdados, adicionando a seguinte [Opção AppContext](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element) à seção <code>&lt;runtime&gt;</code> do arquivo app.config e definindo-a como <code>false</code>, como mostra o exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="53bb8-110">It targets the .NET Framework 4.7.1 or an earlier version and opts out of the legacy accessibility behaviors by adding the following [AppContext Switch](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element) to the <code>&lt;runtime&gt;</code> section of the app.config file and setting it to <code>false</code>, as the following example shows.</span></span></li></ul><pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Drawing.Text.DoNotRemoveGdiFontsResourcesFromFontCollection=false&quot;/&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><span data-ttu-id="53bb8-111">Os aplicativos direcionados ao .NET Framework 4.7.2 ou posterior que desejam preservar o comportamento herdado podem aceitar não liberar os recursos de fonte definindo explicitamente essa opção AppContext como <code>true</code>.</span><span class="sxs-lookup"><span data-stu-id="53bb8-111">Applications that target the .NET Framework 4.7.2 or later, and want to preserve the legacy behavior can opt in to not release font resources by explicitly setting this AppContext switch to <code>true</code>.</span></span>|
|<span data-ttu-id="53bb8-112">Escopo</span><span class="sxs-lookup"><span data-stu-id="53bb8-112">Scope</span></span>|<span data-ttu-id="53bb8-113">Microsoft Edge</span><span class="sxs-lookup"><span data-stu-id="53bb8-113">Edge</span></span>|
|<span data-ttu-id="53bb8-114">Versão</span><span class="sxs-lookup"><span data-stu-id="53bb8-114">Version</span></span>|<span data-ttu-id="53bb8-115">4.7.2</span><span class="sxs-lookup"><span data-stu-id="53bb8-115">4.7.2</span></span>|
|<span data-ttu-id="53bb8-116">Tipo</span><span class="sxs-lookup"><span data-stu-id="53bb8-116">Type</span></span>|<span data-ttu-id="53bb8-117">Redirecionando</span><span class="sxs-lookup"><span data-stu-id="53bb8-117">Retargeting</span></span>|
|<span data-ttu-id="53bb8-118">APIs afetadas</span><span class="sxs-lookup"><span data-stu-id="53bb8-118">Affected APIs</span></span>|<ul><li><xref:System.Drawing.Text.PrivateFontCollection.AddFontFile(System.String)?displayProperty=nameWithType></li><li><xref:System.Drawing.Text.FontCollection.Dispose?displayProperty=nameWithType></li></ul>|

