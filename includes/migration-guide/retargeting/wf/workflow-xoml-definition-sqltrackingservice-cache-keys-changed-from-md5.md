---
ms.openlocfilehash: 47aa67096f8dcd250521d9c34dde97cb2eb368d7
ms.sourcegitcommit: d55e14eb63588830c0ba1ea95a24ce6c57ef8c8c
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/11/2019
ms.locfileid: "67803446"
---
### <a name="workflow-xoml-definition-and-sqltrackingservice-cache-keys-changed-from-md5-to-sha256"></a><span data-ttu-id="d942f-101">Alteração da definição XOML do fluxo de trabalho e das chaves de cache SqlTrackingService de MD5 para SHA256</span><span class="sxs-lookup"><span data-stu-id="d942f-101">Workflow XOML definition and SqlTrackingService cache keys changed from MD5 to SHA256</span></span>

|   |   |
|---|---|
|<span data-ttu-id="d942f-102">Detalhes</span><span class="sxs-lookup"><span data-stu-id="d942f-102">Details</span></span>|<span data-ttu-id="d942f-103">O Tempo de Execução de Fluxo de Trabalho mantém um cache de definições de fluxo de trabalho definido em XOML.</span><span class="sxs-lookup"><span data-stu-id="d942f-103">The Workflow Runtime in keeps a cache of workflow definitions defined in XOML.</span></span> <span data-ttu-id="d942f-104">O SqlTrackingService também mantém um cache inserido por cadeias de caracteres.</span><span class="sxs-lookup"><span data-stu-id="d942f-104">The SqlTrackingService also keeps a cache that is keyed by strings.</span></span> <span data-ttu-id="d942f-105">Esses caches são inseridos por valores que incluem o valor de hash da soma de verificação.</span><span class="sxs-lookup"><span data-stu-id="d942f-105">These caches are keyed by values that include checksum hash value.</span></span> <span data-ttu-id="d942f-106">No .NET Framework 4.7.2 e versões anteriores, o hash de soma de verificação usava o algoritmo MD5, o que causou problemas em sistemas habilitados para FIPS.</span><span class="sxs-lookup"><span data-stu-id="d942f-106">In the .NET Framework 4.7.2 and earlier versions, this checksum hashing used the MD5 algorithm, which caused issues on FIPS-enabled systems.</span></span> <span data-ttu-id="d942f-107">Começando com o .NET Framework 4.8, o algoritmo usado é SHA256. Não deve haver nenhum problema de compatibilidade com essa alteração, porque os valores são recalculados sempre que o Tempo de Execução de Fluxo de Trabalho e o SqlTrackingService são iniciados.</span><span class="sxs-lookup"><span data-stu-id="d942f-107">Starting with the .NET Framework 4.8, the algorithm used is SHA256.There shouldn't be an compatability issue with this change because the values are recalculated each time the Workflow Runtime and SqlTrackingService is started.</span></span> <span data-ttu-id="d942f-108">No entanto, fornecemos quirks para permitir que os clientes revertam para o uso do algoritmo de hash herdado, se necessário.</span><span class="sxs-lookup"><span data-stu-id="d942f-108">However, we have provided quirks to allow customers to revert back to usage of the legacy hashing algorithm, if necessary.</span></span>|
|<span data-ttu-id="d942f-109">Sugestão</span><span class="sxs-lookup"><span data-stu-id="d942f-109">Suggestion</span></span>|<span data-ttu-id="d942f-110">Se essa alteração apresentar um problema ao executar fluxos de trabalho, tente definir um ou ambos os comutadores <code>AppContext</code>:</span><span class="sxs-lookup"><span data-stu-id="d942f-110">If this change presents a problem when executing workflows, try setting one or both of the <code>AppContext</code> switches:</span></span><ul><li><span data-ttu-id="d942f-111">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey&quot; como true.</span><span class="sxs-lookup"><span data-stu-id="d942f-111">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey&quot; to true.</span></span></li><li><span data-ttu-id="d942f-112">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKey&quot; como true.</span><span class="sxs-lookup"><span data-stu-id="d942f-112">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKey&quot; to true.</span></span></li></ul><span data-ttu-id="d942f-113">No código:</span><span class="sxs-lookup"><span data-stu-id="d942f-113">In code:</span></span><pre><code class="lang-csharp">System.AppContext.SetSwitch(&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey&quot;, true);&#13;&#10;System.AppContext.SetSwitch(&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKey&quot;, true);&#13;&#10;</code></pre><span data-ttu-id="d942f-114">Ou, no arquivo de configuração (isso precisa estar no arquivo de configuração para o aplicativo que está criando o objeto <xref:System.Workflow.Runtime.WorkflowRuntime>):</span><span class="sxs-lookup"><span data-stu-id="d942f-114">Or in the configuration file (this needs to be in the config file for the application that is creating the <xref:System.Workflow.Runtime.WorkflowRuntime> object):</span></span><pre><code class="lang-xml">&lt;configuration&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey=true&quot; /&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKeytrue&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre>|
|<span data-ttu-id="d942f-115">Escopo</span><span class="sxs-lookup"><span data-stu-id="d942f-115">Scope</span></span>|<span data-ttu-id="d942f-116">Secundário</span><span class="sxs-lookup"><span data-stu-id="d942f-116">Minor</span></span>|
|<span data-ttu-id="d942f-117">Versão</span><span class="sxs-lookup"><span data-stu-id="d942f-117">Version</span></span>|<span data-ttu-id="d942f-118">4.8</span><span class="sxs-lookup"><span data-stu-id="d942f-118">4.8</span></span>|
|<span data-ttu-id="d942f-119">Tipo</span><span class="sxs-lookup"><span data-stu-id="d942f-119">Type</span></span>|<span data-ttu-id="d942f-120">Redirecionando</span><span class="sxs-lookup"><span data-stu-id="d942f-120">Retargeting</span></span>|

